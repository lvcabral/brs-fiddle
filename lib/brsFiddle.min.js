/*! For license information please see brsFiddle.min.js.LICENSE.txt */
var brsFiddle;(()=>{var __webpack_modules__={7:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,s),r(n)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var i,s,o,l;if(a(n),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),void 0===o)o=s[e]=n,++t._eventsCount;else if("function"==typeof o?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(t))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){r.once&&t.removeEventListener(e,i),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(void 0===c)return!1;if("function"==typeof c)r(c,this,e);else{var l=c.length,u=p(c,l);for(n=0;n<l;++n)r(u[n],this,e)}return!0},s.prototype.addListener=function(t,e){return l(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return l(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,s,o;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return f(this,t,!0)},s.prototype.rawListeners=function(t){return f(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},42:t=>{window,t.exports=function(t){function e(e){for(var n,i,s=e[0],o=e[1],a=0,l=[];a<s.length;a++)i=s[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&l.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);for(c&&c(e);l.length;)l.shift()()}var n={},r={0:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(){return Promise.resolve()},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var s=window.webpackJsonpJsonUrl=window.webpackJsonpJsonUrl||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var a=0;a<s.length;a++)e(s[a]);var c=o;return i(i.s=50)}([function(t,e,n){var r=n(26)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){function n(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,s){var o=t.apply(e,r);function a(t){n(o,i,s,a,c,"next",t)}function c(t){n(o,i,s,a,c,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(1),i=n.n(r),s=n(0),o=n.n(s);e.a={msgpack:function(){return i()(o.a.mark((function t(){var e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,30,7));case 2:return e=t.sent,r=e.default||e,t.abrupt("return",r());case 5:case"end":return t.stop()}}),t)})))()},safe64:function(){return i()(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,45,7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},lzma:function(){return i()(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,47,7));case 2:return e=t.sent,t.abrupt("return",e.compress?e:e.LZMA);case 4:case"end":return t.stop()}}),t)})))()},lzstring:function(){return i()(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,48,7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},lzw:function(){return i()(o.a.mark((function t(){var e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,49,7));case 2:return e=t.sent,r=e.default||e,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()}}},function(t,e,n){"use strict";var r=n(28),i=n(29),s=n(13);function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=a(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):f(t,e);if("Buffer"===e.type&&s(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=a(t,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var s,o=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,n/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var u=-1;for(s=n;s<a;s++)if(l(t,s)===l(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===c)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){for(var h=!0,f=0;f<c;f++)if(l(t,s+f)!==l(e,f)){h=!1;break}if(h)return s}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function w(t,e,n,r){return H(F(e,t.length-n),t,n,r)}function _(t,e,n,r){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return _(t,e,n,r)}function E(t,e,n,r){return H(W(e),t,n,r)}function k(t,e,n,r){return H(function(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i=n%256,s.push(i),s.push(r);return s}(e,t.length-n),t,n,r)}function x(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s,o,a,c,l=t[i],u=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(u=l);break;case 2:128==(192&(s=t[i+1]))&&(c=(31&l)<<6|63&s)>127&&(u=c);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&(c=(15&l)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=T));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return l(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):g.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),a=Math.min(s,o),l=this.slice(r,i),u=t.slice(e,n),h=0;h<a;++h)if(l[h]!==u[h]){s=l[h],o=u[h];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=U(t[s]);return i}function I(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,i,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,s){return s||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,s){return s||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,i=1,s=this[t+--r];r>0&&(i*=256);)s+=this[t+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o|0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o|0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var o=c.isBuffer(t)?t:F(new c(t,r).toString()),a=o.length;for(s=0;s<n-e;++s)this[s+e]=o[s%a]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,s=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function W(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(z,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";var r=n(9),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var s=Object.create(n(7));s.inherits=n(4);var o=n(15),a=n(19);s.inherits(h,o);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];h.prototype[u]||(h.prototype[u]=a.prototype[u])}function h(t){if(!(this instanceof h))return new h(t);o.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){var n,r,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var c,l=[],u=!1,h=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):h=-1,l.length&&d())}function d(){if(!u){var t=a(f);u=!0;for(var e=l.length;e;){for(c=l,l=[];++h<e;)c&&c[h].run();h=-1,e=l.length}c=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||u||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(3).Buffer.isBuffer},function(t,e,n){"use strict";var r=n(14).Duplex,i=n(11),s=n(10).Buffer;function o(t){if(!(this instanceof o))return new o(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)}))}else this.append(t);r.call(this)}i.inherits(o,r),o.prototype._offset=function(t){var e,n=0,r=0;if(0===t)return[0,0];for(;r<this._bufs.length;r++){if(t<(e=n+this._bufs[r].length)||r==this._bufs.length-1)return[r,t-n];n=e}},o.prototype._reverseOffset=function(t){for(var e=t[0],n=t[1],r=0;r<e;r++)n+=this._bufs[r].length;return n},o.prototype.append=function(t){var e=0;if(s.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof o)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(s.from(t)));return this},o.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},o.prototype._write=function(t,e,n){this._appendBuffer(t),"function"==typeof n&&n()},o.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},o.prototype.end=function(t){r.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype.get=function(t){if(!(t>this.length||t<0)){var e=this._offset(t);return this._bufs[e[0]][e[1]]}},o.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},o.prototype.copy=function(t,e,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return t||s.alloc(0);if(r<=0)return t||s.alloc(0);var i,o,a=!!t,c=this._offset(n),l=r-n,u=l,h=a&&e||0,f=c[1];if(0===n&&r==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:s.concat(this._bufs,this.length);for(o=0;o<this._bufs.length;o++)this._bufs[o].copy(t,h),h+=this._bufs[o].length;return t}if(u<=this._bufs[c[0]].length-f)return a?this._bufs[c[0]].copy(t,e,f,f+u):this._bufs[c[0]].slice(f,f+u);for(a||(t=s.allocUnsafe(l)),o=c[0];o<this._bufs.length;o++){if(!(u>(i=this._bufs[o].length-f))){this._bufs[o].copy(t,h,f,f+u),h+=i;break}this._bufs[o].copy(t,h,f),h+=i,u-=i,f&&(f=0)}return t.length>h?t.slice(0,h):t},o.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return new o;var n=this._offset(t),r=this._offset(e),i=this._bufs.slice(n[0],r[0]+1);return 0==r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!=n[1]&&(i[0]=i[0].slice(n[1])),new o(i)},o.prototype.toString=function(t,e,n){return this.slice(e,n).toString(t)},o.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){for(var t=0,e=new o;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},o.prototype.indexOf=function(t,e,n){if(void 0===n&&"string"==typeof e&&(n=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=s.from([t]):"string"==typeof t?t=s.from(t,n):t instanceof o?t=t.slice():s.isBuffer(t)||(t=s.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;for(var r=this._offset(e),i=r[0],a=r[1];i<this._bufs.length;i++){for(var c=this._bufs[i];a<c.length;)if(c.length-a>=t.length){var l=c.indexOf(t,a);if(-1!==l)return this._reverseOffset([i,l]);a=c.length-t.length+1}else{var u=this._reverseOffset([i,a]);if(this._match(u,t))return u;a++}a=0}return-1},o.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(var n=0;n<e.length;n++)if(this.get(t+n)!==e[n])return!1;return!0},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var e in t)!function(e){o.prototype[e]=null===t[e]?function(t,n){return this.slice(t,t+n)[e](0,n)}:function(n){return this.slice(n,n+t[e])[e](0)}}(e)}(),t.exports=o},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return e.nextTick((function(){t.apply(null,s)}))}}}:t.exports=e}).call(this,n(6))},function(t,e,n){var r=n(3),i=r.Buffer;function s(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,s=r.length,o=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),c=r[n];n<s;c=r[++n])g(c)||!w(c)?o+=" "+c:o+=" "+a(c);return o},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var s,o={};function a(t,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),u(r,t,r.depth)}function c(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function l(t,e){return t}function u(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return y(i)||(i=u(t,i,r)),i}var s=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}(t,n);if(s)return s;var o=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),S(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(n);if(0===o.length){if(E(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return h(n)}var l,w="",k=!1,x=["{","}"];return d(n)&&(k=!0,x=["[","]"]),E(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),S(n)&&(w=" "+h(n)),0!==o.length||k&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=k?function(t,e,n,r,i){for(var s=[],o=0,a=e.length;o<a;++o)T(e,String(o))?s.push(f(t,e,n,r,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(f(t,e,n,r,i,!0))})),s}(t,n,r,a,o):o.map((function(e){return f(t,n,r,a,e,k)})),t.seen.pop(),function(t,e,n){var r=t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(l,w,x)):x[0]+w+x[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i,s){var o,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),T(r,i)||(o="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=g(n)?u(t,c.value,null):u(t,c.value,n-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function g(t){return null===t}function m(t){return"number"==typeof t}function y(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===k(t)}function w(t){return"object"==typeof t&&null!==t}function _(t){return w(t)&&"[object Date]"===k(t)}function S(t){return w(t)&&("[object Error]"===k(t)||t instanceof Error)}function E(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(s)&&(s=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(s)){var r=t.pid;o[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else o[n]=function(){};return o[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=g,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=w,e.isDate=_,e.isError=S,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(33);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(n=[x((t=new Date).getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":"),[t.getDate(),O[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(34),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var L="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(L&&t[L]){var e;if("function"!=typeof(e=t[L]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,L,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),L&&Object.defineProperty(e,L,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=L,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return i.apply(s,arguments)};e.apply(this,n).then((function(e){t.nextTick(o,null,e)}),(function(e){t.nextTick(C,e,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(6))},function(t,e,n){var r=n(3),i=r.Buffer;function s(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=o),s(i,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(e=t.exports=n(15)).Stream=e,e.Readable=e,e.Writable=n(19),e.Duplex=n(5),e.Transform=n(22),e.PassThrough=n(41)},function(t,e,n){"use strict";(function(e){var r=n(9);t.exports=v;var i,s=n(13);v.ReadableState=y,n(16).EventEmitter;var o=function(t,e){return t.listeners(e).length},a=n(17),c=n(12).Buffer,l=window.Uint8Array||function(){},u=Object.create(n(7));u.inherits=n(4);var h=n(35),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var d,p=n(36),g=n(18);u.inherits(v,a);var m=["error","close","destroy","pause","resume"];function y(t,e){t=t||{};var r=e instanceof(i=i||n(5));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var s=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(21).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function v(t){if(i=i||n(5),!(this instanceof v))return new v(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function b(t,e,n,r,i){var s,o=t._readableState;return null===e?(o.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,E(t)}}(t,o)):(i||(s=function(t,e){var n,r;return r=e,c.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,e)),s?t.emit("error",s):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?w(t,o,e,!1):x(t,o)):w(t,o,e,!1))):r||(o.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&E(t)),x(t,e)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},v.prototype.unshift=function(t){return b(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return d||(d=n(21).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var _=8388608;function S(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=_?t=_:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(k,t):k(t))}function k(t){f("emit readable"),t.emit("readable"),C(t)}function x(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(O,t,e))}function O(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function T(t){f("readable nexttick read 0"),t.read(0)}function L(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),C(t),e.flowing&&!e.reading&&t.read(0)}function C(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function A(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),0===(t-=o)){o===s.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(s.copy(n,n.length-t,0,o),0===(t-=o)){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function I(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(N,e,t))}function N(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function M(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}v.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?I(this):E(this),null;if(0===(t=S(t,e))&&e.ended)return 0===e.length&&I(this),null;var r,i=e.needReadable;return f("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",i=!0),e.ended||e.reading?f("reading or ended",i=!1):i&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=S(n,e))),null===(r=t>0?A(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&I(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(t,n){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,n);var c=n&&!1===n.end||t===e.stdout||t===e.stderr?v:l;function l(){f("onend"),t.end()}a.endEmitted?r.nextTick(c):i.once("end",c),t.on("unpipe",(function e(n,r){f("onunpipe"),n===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",e),i.removeListener("end",l),i.removeListener("end",v),i.removeListener("data",p),h=!0,!a.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&o(t,"data")&&(e.flowing=!0,C(t))}}(i);t.on("drain",u);var h=!1,d=!1;function p(e){f("ondata"),d=!1,!1!==t.write(e)||d||((1===a.pipesCount&&a.pipes===t||a.pipesCount>1&&-1!==M(a.pipes,t))&&!h&&(f("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,d=!0),i.pause())}function g(e){f("onerror",e),v(),t.removeListener("error",g),0===o(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",y),v()}function y(){f("onfinish"),t.removeListener("close",m),v()}function v(){f("unpipe"),i.unpipe(t)}return i.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",m),t.once("finish",y),t.emit("pipe",i),a.flowing||(f("pipe resume"),i.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,n);return this}var o=M(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},v.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&E(this):r.nextTick(T,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(L,t,e))}(this,t)),this},v.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<m.length;s++)t.on(m[s],this.emit.bind(this,m[s]));return this._read=function(e){f("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=A}).call(this,n(6))},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,s=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,s),r(n)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}y(t,e,s,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&y(t,"error",e,{once:!0})}(t,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,s,o,a;if(l(n),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),void 0===o)o=s[e]=n,++t._eventsCount;else if("function"==typeof o?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(t))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function y(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){r.once&&t.removeEventListener(e,i),n(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)s(c,this,e);else{var l=c.length,u=m(c,l);for(n=0;n<l;++n)s(u[n],this,e)}return!0},a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return l(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,d(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,s,o;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){t.exports=n(16).EventEmitter},function(t,e,n){"use strict";var r=n(9);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";(function(e,r){var i=n(9);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e){var n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(undefined),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var o,a=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:i.nextTick;y.WritableState=m;var c=Object.create(n(7));c.inherits=n(4);var l,u={deprecate:n(39)},h=n(17),f=n(12).Buffer,d=window.Uint8Array||function(){},p=n(18);function g(){}function m(t,e){o=o||n(5),t=t||{};var r=e instanceof o;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var c=t.highWaterMark,l=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:r&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,s=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,s){--e.pendingcb,n?(i.nextTick(s,r),i.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(s(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,s);else{var o=_(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?a(b,t,n,o,s):b(t,n,o,s)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(t){if(o=o||n(5),!(l.call(y,this)||this instanceof o))return new y(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e,n,r,i,s,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,v(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,h=n.callback;if(v(t,e,!1,e.objectMode?1:l.length,l,u,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var n=_(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(y,h),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===y&&t&&t._writableState instanceof m}})):l=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,s=this._writableState,o=!1,a=!s.objectMode&&(r=t,f.isBuffer(r)||r instanceof d);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof n&&(n=g),s.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),i.nextTick(r,o),s=!1),s}(this,s,t,n))&&(s.pendingcb++,o=function(t,e,n,r,i,s){if(!n){var o=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n)),e}(e,r,i);r!==o&&(n=!0,i="buffer",r=o)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,r,i,s);return c}(this,s,a,t,e,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(6),n(20).setImmediate)},function(t,e,n){var r="undefined"!=typeof window&&window||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new s(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(38),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof window&&window.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof window&&window.clearImmediate||this&&this.clearImmediate},function(t,e,n){"use strict";var r=n(40).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=s,s.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},s.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=o(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=o(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=o(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=o;var r=n(5),i=Object.create(n(7));function s(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);r.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(4),i.inherits(o,r),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";(function(t){var r,i,s=n(1),o=n.n(s),a=n(0),c=n.n(a),l=n(2);e.a={pack:!0,encode:!0,compress:(i=o()(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.lzma();case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,i){return r.compress(n,9,(function(n,r){return r?i(r):e(t.from(n))}))})));case 4:case"end":return e.stop()}}),e)}))),function(t){return i.apply(this,arguments)}),decompress:(r=o()(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.lzma();case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,i){return r.decompress(n,(function(n,r){return r?i(r):e(t.from(n))}))})));case 4:case"end":return e.stop()}}),e)}))),function(t){return r.apply(this,arguments)})}}).call(this,n(3).Buffer)},function(t,e,n){"use strict";(function(t){var r,i,s=n(1),o=n.n(s),a=n(0),c=n.n(a),l=n(2);e.a={pack:!1,encode:!0,compress:(i=o()(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,l.a.lzstring();case 3:return e.t1=e.sent.compressToUint8Array(n),e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)}))),function(t){return i.apply(this,arguments)}),decompress:(r=o()(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.lzstring();case 2:return t.abrupt("return",t.sent.decompressFromUint8Array(e));case 3:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})}}).call(this,n(3).Buffer)},function(t,e,n){"use strict";(function(t){var r,i,s=n(1),o=n.n(s),a=n(0),c=n.n(a),l=n(2);e.a={pack:!0,encode:!0,compress:(i=o()(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,l.a.lzw();case 3:return e.t1=e.sent.encode(n.toString("binary")),e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)}))),function(t){return i.apply(this,arguments)}),decompress:(r=o()(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,l.a.lzw();case 3:return e.t1=e.sent.decode(n),e.abrupt("return",e.t0.from.call(e.t0,e.t1,"binary"));case 5:case"end":return e.stop()}}),e)}))),function(t){return r.apply(this,arguments)})}}).call(this,n(3).Buffer)},function(t,e,n){var r=n(27).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,s=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof g?e:g,s=Object.create(i.prototype),a=new L(r||[]);return o(s,"_invoke",{value:k(t,n,a)}),s}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p={};function g(){}function m(){}function y(){}var v={};h(v,c,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(C([])));w&&w!==n&&s.call(w,c)&&(v=w);var _=y.prototype=g.prototype=Object.create(v);function S(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function n(i,o,a,c){var l=d(t[i],t,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==r(h)&&s.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(t,r){function s(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(s,s):s()}})}function k(t,e,n){var r="suspendedStart";return function(i,s){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw s;return{value:void 0,done:!0}}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=x(o,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var s=i.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function C(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(s.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=y,o(_,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=h(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,h(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},S(E.prototype),h(E.prototype,l,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var o=new E(f(t,n,r,i),s);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(_),h(_,u,"Generator"),h(_,c,(function(){return this})),h(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=s.call(i,"catchLoc"),c=s.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=c(t),o=r[0],a=r[1],l=new s(function(t,e,n){return 3*(e+n)/4-n}(0,o,a)),u=0,h=a>0?o-4:o;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,c=n-i;a<c;a+=o)s.push(l(t,a,a+o>c?c:a+o));return 1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=256*s+t[e+h],h+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=256*o+t[e+h],h+=f,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=l}return(d?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,c,l=8*s-i-1,u=(1<<l)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[n+d]=255&o,d+=p,o/=256,l-=8);t[n+d-p]|=128*g}},function(t,e,n){"use strict";var r=n(10).Buffer,i=n(31),s=n(8),o=n(42),a=n(43),c=n(44);t.exports=function(t){var e=[],n=[];return{encode:c(e,(t=t||{forceFloat64:!1,compatibilityMode:!1,disableTimestampEncoding:!1,protoAction:"error"}).forceFloat64,t.compatibilityMode,t.disableTimestampEncoding),decode:a(n,t),register:function(t,e,n,o){return i(e,"must have a constructor"),i(n,"must have an encode function"),i(t>=0,"must have a non-negative type"),i(o,"must have a decode function"),this.registerEncoder((function(t){return t instanceof e}),(function(e){var i=s(),o=r.allocUnsafe(1);return o.writeInt8(t,0),i.append(o),i.append(n(e)),i})),this.registerDecoder(t,o),this},registerEncoder:function(t,n){return i(t,"must have an encode function"),i(n,"must have an encode function"),e.push({check:t,encode:n}),this},registerDecoder:function(t,e){return i(t>=0,"must have a non-negative type"),i(e,"must have a decode function"),n.push({type:t,decode:e}),this},encoder:o.encoder,decoder:o.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:a.IncompleteBufferError}}},function(t,e,n){"use strict";var r=n(32);function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function s(t){return window.Buffer&&"function"==typeof window.Buffer.isBuffer?window.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=n(11),a=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l="foo"===function(){}.name;function u(t){return Object.prototype.toString.call(t)}function h(t){return!s(t)&&"function"==typeof window.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}var f=t.exports=v,d=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(o.isFunction(t)){if(l)return t.name;var e=t.toString().match(d);return e&&e[1]}}function g(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function m(t){if(l||!o.isFunction(t))return o.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function y(t,e,n,r,i){throw new f.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function v(t,e){t||y(t,!0,e,"==",f.ok)}function b(t,e,n,r){if(t===e)return!0;if(s(t)&&s(e))return 0===i(t,e);if(o.isDate(t)&&o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&&o.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(h(t)&&h(e)&&u(t)===u(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(s(t)!==s(e))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=w(t),s=w(e);if(i&&!s||!i&&s)return!1;if(i)return b(t=c.call(t),e=c.call(e),n);var a,l,u=E(t),h=E(e);if(u.length!==h.length)return!1;for(u.sort(),h.sort(),l=u.length-1;l>=0;l--)if(u[l]!==h[l])return!1;for(l=u.length-1;l>=0;l--)if(!b(t[a=u[l]],e[a],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function w(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function _(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function S(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&y(i,n,"Missing expected exception"+r);var s="string"==typeof r,a=!t&&i&&!n;if((!t&&o.isError(i)&&s&&_(i,n)||a)&&y(i,n,"Got unwanted exception"+r),t&&i&&n&&!_(i,n)||!t&&i)throw i}f.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return g(m(t.actual),128)+" "+t.operator+" "+g(m(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=p(e),s=r.indexOf("\n"+i);if(s>=0){var o=r.indexOf("\n",s+1);r=r.substring(o+1)}this.stack=r}}},o.inherits(f.AssertionError,Error),f.fail=y,f.ok=v,f.equal=function(t,e,n){t!=e&&y(t,e,n,"==",f.equal)},f.notEqual=function(t,e,n){t==e&&y(t,e,n,"!=",f.notEqual)},f.deepEqual=function(t,e,n){b(t,e,!1)||y(t,e,n,"deepEqual",f.deepEqual)},f.deepStrictEqual=function(t,e,n){b(t,e,!0)||y(t,e,n,"deepStrictEqual",f.deepStrictEqual)},f.notDeepEqual=function(t,e,n){b(t,e,!1)&&y(t,e,n,"notDeepEqual",f.notDeepEqual)},f.notDeepStrictEqual=function t(e,n,r){b(e,n,!0)&&y(e,n,r,"notDeepStrictEqual",t)},f.strictEqual=function(t,e,n){t!==e&&y(t,e,n,"===",f.strictEqual)},f.notStrictEqual=function(t,e,n){t===e&&y(t,e,n,"!==",f.notStrictEqual)},f.throws=function(t,e,n){S(!0,t,e,n)},f.doesNotThrow=function(t,e,n){S(!1,t,e,n)},f.ifError=function(t){if(t)throw t},f.strict=r((function t(e,n){e||y(e,!0,n,"==",t)}),f,{equal:f.strictEqual,deepEqual:f.deepStrictEqual,notEqual:f.notStrictEqual,notDeepEqual:f.notDeepStrictEqual}),f.strict.strict=f.strict;var E=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,o,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(a[l]=n[l]);if(r){o=r(n);for(var u=0;u<o.length;u++)s.call(n,o[u])&&(a[o[u]]=n[o[u]])}}return a}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){},function(t,e,n){"use strict";var r=n(12).Buffer,i=n(37);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i=r.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=i,n=o,s.data.copy(e,n),o+=s.data.length,s=s.next;return i},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){!function(e){"use strict";if(!e.setImmediate){var n,r,i,s,o,a=1,c={},l=!1,u=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&d(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),n=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){i.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,n=function(t){var e=u.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):n=function(t){setTimeout(d,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return c[a]=i,n(a),a++},h.clearImmediate=f}function f(t){delete c[t]}function d(t){if(l)setTimeout(d,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(undefined,n)}}(e)}finally{f(t),l=!1}}}}}("undefined"==typeof self?"undefined"==typeof window?this:window:self)}).call(this,n(6))},function(t,e){function n(t){try{if(!window.localStorage)return!1}catch(t){return!1}var e=window.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},function(t,e,n){var r=n(3),i=r.Buffer;function s(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=o),s(i,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=s;var r=n(22),i=Object.create(n(7));function s(t){if(!(this instanceof s))return new s(t);r.call(this,t)}i.inherits=n(4),i.inherits(s,r),s.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r=n(14).Transform,i=n(4),s=n(8);function o(t){(t=t||{}).objectMode=!0,t.highWaterMark=16,r.call(this,t),this._msgpack=t.msgpack}function a(t){if(!(this instanceof a))return(t=t||{}).msgpack=this,new a(t);o.call(this,t),this._wrap="wrap"in t&&t.wrap}function c(t){if(!(this instanceof c))return(t=t||{}).msgpack=this,new c(t);o.call(this,t),this._chunks=s(),this._wrap="wrap"in t&&t.wrap}i(o,r),i(a,o),a.prototype._transform=function(t,e,n){var r=null;try{r=this._msgpack.encode(this._wrap?t.value:t).slice(0)}catch(t){return this.emit("error",t),n()}this.push(r),n()},i(c,o),c.prototype._transform=function(t,e,n){t&&this._chunks.append(t);try{var r=this._msgpack.decode(this._chunks);this._wrap&&(r={value:r}),this.push(r)}catch(t){return void(t instanceof this._msgpack.IncompleteBufferError?n():this.emit("error",t))}this._chunks.length>0?this._transform(null,e,n):n()},t.exports.decoder=c,t.exports.encoder=a},function(t,e,n){"use strict";var r=n(8);function i(t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=t||"unable to decode"}n(11).inherits(i,Error),t.exports=function(t,e){return function(t){t instanceof r||(t=r().append(t));var e=o(t);if(e)return t.consume(e.bytesConsumed),e.value;throw new i};function n(t,e,n){return e>=n+t}function s(t,e){return{value:t,bytesConsumed:e}}function o(t,e){e=void 0===e?0:e;var r=t.length-e;if(r<=0)return null;var i,o,h,f=t.readUInt8(e),d=0;if(!function(t,e){var n=function(t){switch(t){case 196:case 204:case 208:case 217:return 2;case 197:case 199:case 205:case 209:case 212:case 218:case 222:return 3;case 198:case 202:case 206:case 210:case 219:return 5;case 200:case 213:return 4;case 201:case 214:return 6;case 203:case 207:case 211:return 9;case 215:return 10;case 216:return 18;default:return-1}}(t);return!(-1!==n&&e<n)}(f,r))return null;switch(f){case 192:return s(null,1);case 194:return s(!1,1);case 195:return s(!0,1);case 204:return s(d=t.readUInt8(e+1),2);case 205:return s(d=t.readUInt16BE(e+1),3);case 206:return s(d=t.readUInt32BE(e+1),5);case 207:for(h=7;h>=0;h--)d+=t.readUInt8(e+h+1)*Math.pow(2,8*(7-h));return s(d,9);case 208:return s(d=t.readInt8(e+1),2);case 209:return s(d=t.readInt16BE(e+1),3);case 210:return s(d=t.readInt32BE(e+1),5);case 211:return d=function(t){var e=!(128&~t[0]);if(e)for(var n=1,r=7;r>=0;r--){var i=(255^t[r])+n;t[r]=255&i,n=i>>8}return(4294967296*t.readUInt32BE(0)+t.readUInt32BE(4))*(e?-1:1)}(t.slice(e+1,e+9)),s(d,9);case 202:return s(d=t.readFloatBE(e+1),5);case 203:return s(d=t.readDoubleBE(e+1),9);case 217:return n(i=t.readUInt8(e+1),r,2)?s(d=t.toString("utf8",e+2,e+2+i),2+i):null;case 218:return n(i=t.readUInt16BE(e+1),r,3)?s(d=t.toString("utf8",e+3,e+3+i),3+i):null;case 219:return n(i=t.readUInt32BE(e+1),r,5)?s(d=t.toString("utf8",e+5,e+5+i),5+i):null;case 196:return n(i=t.readUInt8(e+1),r,2)?s(d=t.slice(e+2,e+2+i),2+i):null;case 197:return n(i=t.readUInt16BE(e+1),r,3)?s(d=t.slice(e+3,e+3+i),3+i):null;case 198:return n(i=t.readUInt32BE(e+1),r,5)?s(d=t.slice(e+5,e+5+i),5+i):null;case 220:return r<3?null:(i=t.readUInt16BE(e+1),a(t,e,i,3));case 221:return r<5?null:(i=t.readUInt32BE(e+1),a(t,e,i,5));case 222:return i=t.readUInt16BE(e+1),c(t,e,i,3);case 223:return i=t.readUInt32BE(e+1),c(t,e,i,5);case 212:return l(t,e,1);case 213:return l(t,e,2);case 214:return l(t,e,4);case 215:return l(t,e,8);case 216:return l(t,e,16);case 199:return i=t.readUInt8(e+1),o=t.readUInt8(e+2),n(i,r,3)?u(t,e,o,i,3):null;case 200:return i=t.readUInt16BE(e+1),o=t.readUInt8(e+3),n(i,r,4)?u(t,e,o,i,4):null;case 201:return i=t.readUInt32BE(e+1),o=t.readUInt8(e+5),n(i,r,6)?u(t,e,o,i,6):null}if(144==(240&f))return a(t,e,i=15&f,1);if(128==(240&f))return c(t,e,i=15&f,1);if(160==(224&f))return n(i=31&f,r,1)?s(d=t.toString("utf8",e+1,e+i+1),i+1):null;if(f>=224)return s(d=f-256,1);if(f<128)return s(f,1);throw new Error("not implemented yet")}function a(t,e,n,r){var i,a=[],c=0;for(e+=r,i=0;i<n;i++){var l=o(t,e);if(!l)return null;a.push(l.value),e+=l.bytesConsumed,c+=l.bytesConsumed}return s(a,r+c)}function c(t,n,r,i){var a,c,l={},u=0;for(n+=i,c=0;c<r;c++){var h=o(t,n);if(!h)return null;var f=o(t,n+=h.bytesConsumed);if(!f)return null;if("__proto__"===(a=h.value)){if("error"===e.protoAction)throw new SyntaxError("Object contains forbidden prototype property");if("remove"===e.protoAction)continue}l[a]=f.value,n+=f.bytesConsumed,u+=h.bytesConsumed+f.bytesConsumed}return s(l,i+u)}function l(t,e,n){var r=t.readInt8(e+1);return u(t,e,r,n,2)}function u(e,n,r,i,o){var a,c;if(n+=o,r<0&&-1===r)return function(t,e,n){var r,i=0;switch(e){case 4:r=t.readUInt32BE(0);break;case 8:var o=t.readUInt32BE(0),a=t.readUInt32BE(4);i=o/4,r=(3&o)*Math.pow(2,32)+a;break;case 12:throw new Error("timestamp 96 is not yet implemented")}var c=1e3*r+Math.round(i/1e6);return s(new Date(c),e+n)}(c=e.slice(n,n+i),i,o);for(a=0;a<t.length;a++)if(r===t[a].type)return c=e.slice(n,n+i),s(t[a].decode(c),o+i);throw new Error("unable to find ext type "+r)}},t.exports.IncompleteBufferError=i},function(t,e,n){"use strict";var r=n(10).Buffer,i=n(8);function s(t,e){var n,i=!0;return Math.fround&&(i=Math.fround(t)!==t),e&&(i=!0),i?((n=r.allocUnsafe(9))[0]=203,n.writeDoubleBE(t,1)):((n=r.allocUnsafe(5))[0]=202,n.writeFloatBE(t,1)),n}t.exports=function(t,e,n,o){return function a(c,l){var u,h,f;if(void 0===c)throw new Error("undefined is not encodable in msgpack!");if((f=c)!=f&&"number"==typeof f)throw new Error("NaN is not encodable in msgpack!");if(null===c)(u=r.allocUnsafe(1))[0]=192;else if(!0===c)(u=r.allocUnsafe(1))[0]=195;else if(!1===c)(u=r.allocUnsafe(1))[0]=194;else if("string"==typeof c)(h=r.byteLength(c))<32?((u=r.allocUnsafe(1+h))[0]=160|h,h>0&&u.write(c,1)):h<=255&&!n?((u=r.allocUnsafe(2+h))[0]=217,u[1]=h,u.write(c,2)):h<=65535?((u=r.allocUnsafe(3+h))[0]=218,u.writeUInt16BE(h,1),u.write(c,3)):((u=r.allocUnsafe(5+h))[0]=219,u.writeUInt32BE(h,1),u.write(c,5));else if(c&&(c.readUInt32LE||c instanceof Uint8Array))c instanceof Uint8Array&&(c=r.from(c)),c.length<=255?((u=r.allocUnsafe(2))[0]=196,u[1]=c.length):c.length<=65535?((u=r.allocUnsafe(3))[0]=197,u.writeUInt16BE(c.length,1)):((u=r.allocUnsafe(5))[0]=198,u.writeUInt32BE(c.length,1)),u=i([u,c]);else if(Array.isArray(c))c.length<16?(u=r.allocUnsafe(1))[0]=144|c.length:c.length<65536?((u=r.allocUnsafe(3))[0]=220,u.writeUInt16BE(c.length,1)):((u=r.allocUnsafe(5))[0]=221,u.writeUInt32BE(c.length,1)),u=c.reduce((function(t,e){return t.append(a(e,!0)),t}),i().append(u));else{if(!o&&"function"==typeof c.getDate)return function(t){var e,n=1*t,s=Math.floor(n/1e3),o=1e6*(n-1e3*s);if(o||s>4294967295){(e=r.allocUnsafe(10))[0]=215,e[1]=-1;var a=4*o+s/Math.pow(2,32)&4294967295,c=4294967295&s;e.writeInt32BE(a,2),e.writeInt32BE(c,6)}else(e=r.allocUnsafe(6))[0]=214,e[1]=-1,e.writeUInt32BE(Math.floor(n/1e3),2);return i().append(e)}(c);if("object"==typeof c)u=function(e){var n,s,o=-1,a=[];for(n=0;n<t.length;n++)if(t[n].check(e)){s=t[n].encode(e);break}return s?(1==(o=s.length-1)?a.push(212):2===o?a.push(213):4===o?a.push(214):8===o?a.push(215):16===o?a.push(216):o<256?(a.push(199),a.push(o)):o<65536?(a.push(200),a.push(o>>8),a.push(255&o)):(a.push(201),a.push(o>>24),a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)),i().append(r.from(a)).append(s)):null}(c)||function(t){var e,n,s=[],o=0;for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&"function"!=typeof t[e]&&(++o,s.push(a(e,!0)),s.push(a(t[e],!0)));o<16?(n=r.allocUnsafe(1))[0]=128|o:o<65535?((n=r.allocUnsafe(3))[0]=222,n.writeUInt16BE(o,1)):((n=r.allocUnsafe(5))[0]=223,n.writeUInt32BE(o,1)),s.unshift(n);var c=s.reduce((function(t,e){return t.append(e)}),i());return c}(c);else if("number"==typeof c){if(function(t){return t%1!=0}(c))return s(c,e);if(c>=0)if(c<128)(u=r.allocUnsafe(1))[0]=c;else if(c<256)(u=r.allocUnsafe(2))[0]=204,u[1]=c;else if(c<65536)(u=r.allocUnsafe(3))[0]=205,u.writeUInt16BE(c,1);else if(c<=4294967295)(u=r.allocUnsafe(5))[0]=206,u.writeUInt32BE(c,1);else{if(!(c<=9007199254740991))return s(c,!0);(u=r.allocUnsafe(9))[0]=207,function(t,e){for(var n=7;n>=0;n--)t[n+1]=255&e,e/=256}(u,c)}else if(c>=-32)(u=r.allocUnsafe(1))[0]=256+c;else if(c>=-128)(u=r.allocUnsafe(2))[0]=208,u.writeInt8(c,1);else if(c>=-32768)(u=r.allocUnsafe(3))[0]=209,u.writeInt16BE(c,1);else if(c>-214748365)(u=r.allocUnsafe(5))[0]=210,u.writeInt32BE(c,1);else{if(!(c>=-9007199254740991))return s(c,!0);(u=r.allocUnsafe(9))[0]=211,function(t,e,n){var r=n<0;r&&(n=Math.abs(n));var i=n%4294967296,s=n/4294967296;if(t.writeUInt32BE(Math.floor(s),1),t.writeUInt32BE(i,5),r)for(var o=1,a=8;a>=1;a--){var c=(255^t[a])+o;t[a]=255&c,o=c>>8}}(u,0,c)}}}if(!u)throw new Error("not implemented yet");return l?u:u.slice()}}},function(t,e,n){t.exports=n(46)},function(t,e,n){(function(t){e.version="1.0.0",e.encode=function(t){return t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},e.decode=function(e){return e=(e+=Array(5-e.length%4).join("=")).replace(/\-/g,"+").replace(/\_/g,"/"),new t(e,"base64")},e.validate=function(t){return/^[A-Za-z0-9\-_]+$/.test(t)}}).call(this,n(3).Buffer)},function(t,e,n){(function(t){var e=function(){"use strict";function n(t,e){postMessage({action:jt,cbn:e,result:t})}function r(t){var e=[];return e[t-1]=void 0,e}function i(t,e){return a(t[0]+e[0],t[1]+e[1])}function s(t,e){return function(t,e){var n;return n=e,0>e&&(n+=Ut),[n,t*Ut]}(Math.max(Math.min(t[1]/Ut,2147483647),-2147483648)&Math.max(Math.min(e[1]/Ut,2147483647),-2147483648),u(t)&u(e))}function o(t,e){var n,r;return t[0]==e[0]&&t[1]==e[1]?0:(n=0>t[1],r=0>e[1],n&&!r?-1:!n&&r?1:p(t,e)[1]<0?-1:1)}function a(t,e){var n,r;for(t%=0x10000000000000000,e=(e%=0x10000000000000000)-(n=e%Ut)+(r=Math.floor(t/Ut)*Ut),t=t-r+n;0>t;)t+=Ut,e-=Ut;for(;t>4294967295;)t-=Ut,e+=Ut;for(e%=0x10000000000000000;e>0x7fffffff00000000;)e-=0x10000000000000000;for(;-0x8000000000000000>e;)e+=0x10000000000000000;return[t,e]}function c(t,e){return t[0]==e[0]&&t[1]==e[1]}function l(t){return t>=0?[t,0]:[t+Ut,-Ut]}function u(t){return t[0]>=2147483648?~~Math.max(Math.min(t[0]-Ut,2147483647),-2147483648):~~Math.max(Math.min(t[0],2147483647),-2147483648)}function h(t){return 30>=t?1<<t:h(30)*h(t-30)}function f(t,e){var n,r,i,s;if(e&=63,c(t,Wt))return e?Ht:t;if(0>t[1])throw Error("Neg");return s=h(e),r=t[1]*s%0x10000000000000000,(r+=n=(i=t[0]*s)-i%Ut)>=0x8000000000000000&&(r-=0x10000000000000000),[i-=n,r]}function d(t,e){var n;return n=h(e&=63),a(Math.floor(t[0]/n),t[1]/n)}function p(t,e){return a(t[0]-e[0],t[1]-e[1])}function g(t,e){return t.Mc=e,t.Lc=0,t.Yb=e.length,t}function m(t){return t.Lc>=t.Yb?-1:255&t.Mc[t.Lc++]}function y(t,e,n,r){return t.Lc>=t.Yb?-1:(r=Math.min(r,t.Yb-t.Lc),S(t.Mc,t.Lc,e,n,r),t.Lc+=r,r)}function v(t){return t.Mc=r(32),t.Yb=0,t}function b(t){var e=t.Mc;return e.length=t.Yb,e}function w(t,e){t.Mc[t.Yb++]=e<<24>>24}function _(t,e,n,r){S(e,n,t.Mc,t.Yb,r),t.Yb+=r}function S(t,e,n,r,i){for(var s=0;i>s;++s)n[r+s]=t[e+s]}function E(t,n,r,i,s){var a,c;if(o(i,Ft)<0)throw Error("invalid length "+i);for(t.Tb=i,function(t,e){(function(t,e){t.ab=e;for(var n=0;e>1<<n;++n);t.$b=2*n})(e,1<<t.s),e.n=t.f,function(t,e){var n=t.X;t.X=e,t.b&&n!=t.X&&(t.wb=-1,t.b=null)}(e,t.m),e.eb=0,e.fb=3,e.Y=2,e.y=3}(s,a=K({})),a.Gc=void 0===e.disableEndMark,function(t,e){t.fc[0]=9*(5*t.Y+t.eb)+t.fb<<24>>24;for(var n=0;4>n;++n)t.fc[1+n]=t.ab>>8*n<<24>>24;_(e,t.fc,0,5)}(a,r),c=0;64>c;c+=8)w(r,255&u(d(i,c)));t.yb=(a.W=0,a.oc=n,a.pc=0,function(t){var e,n;t.b||(e={},n=4,t.X||(n=2),function(t,e){t.qb=e>2,t.qb?(t.w=0,t.xb=4,t.R=66560):(t.w=2,t.xb=3,t.R=0)}(e,n),t.b=e),ft(t.A,t.eb,t.fb),(t.ab!=t.wb||t.Hb!=t.n)&&(I(t.b,t.ab,4096,t.n,274),t.wb=t.ab,t.Hb=t.n)}(a),a.d.Ab=r,function(t){(function(t){t.l=0,t.J=0;for(var e=0;4>e;++e)t.v[e]=0})(t),function(t){t.mc=Ht,t.xc=Ht,t.E=-1,t.Jb=1,t.Oc=0}(t.d),Ct(t.C),Ct(t._),Ct(t.bb),Ct(t.hb),Ct(t.Ub),Ct(t.vc),Ct(t.Sb),function(t){var e,n=1<<t.u+t.I;for(e=0;n>e;++e)Ct(t.V[e].tb)}(t.A);for(var e=0;4>e;++e)Ct(t.K[e].G);ot(t.$,1<<t.Y),ot(t.i,1<<t.Y),Ct(t.S.G),t.N=0,t.jb=0,t.q=0,t.s=0}(a),J(a),X(a),a.$.rb=a.n+1-2,ht(a.$,1<<a.Y),a.i.rb=a.n+1-2,ht(a.i,1<<a.Y),a.g=Ht,function(t,e){return t.cb=e,t.Z=null,t.zc=1,t}({},a))}function k(t,e,n){return t.Nb=v({}),E(t,g({},e),t.Nb,l(e.length),n),t}function x(t,e){return t.Nb=v({}),function(t,e,n){var r,i,s,o,a="",c=[];for(i=0;5>i;++i){if(-1==(s=m(e)))throw Error("truncated input");c[i]=s<<24>>24}if(!function(t,e){var n,r,i,s,o,a,c;if(5>e.length)return 0;for(i=(c=255&e[0])%9,s=(a=~~(c/9))%5,o=~~(a/5),n=0,r=0;4>r;++r)n+=(255&e[1+r])<<8*r;return n>99999999||!function(t,e,n,r){if(e>8||n>4||r>4)return 0;V(t.gb,n,e);var i=1<<r;return W(t.Rb,i),W(t.sb,i),t.Dc=i-1,1}(t,i,s,o)?0:function(t,e){return 0>e?0:(t.Ob!=e&&(t.Ob=e,t.nb=Math.max(t.Ob,1),D(t.B,Math.max(t.nb,4096))),1)}(t,n)}(r=F({}),c))throw Error("corrupted input");for(i=0;64>i;i+=8){if(-1==(s=m(e)))throw Error("truncated input");1==(s=s.toString(16)).length&&(s="0"+s),a=s+""+a}/^0+$|^f+$/i.test(a)?t.Tb=Ft:(o=parseInt(a,16),t.Tb=o>4294967295?Ft:l(o)),t.yb=function(t,e,n,r){return t.e.Ab=e,P(t.B),t.B.cc=n,function(t){t.B.h=0,t.B.o=0,Ct(t.Gb),Ct(t.pb),Ct(t.Zb),Ct(t.Cb),Ct(t.Db),Ct(t.Eb),Ct(t.kc),function(t){var e,n;for(n=1<<t.u+t.I,e=0;n>e;++e)Ct(t.V[e].Ib)}(t.gb);for(var e=0;4>e;++e)Ct(t.kb[e].G);q(t.Rb),q(t.sb),Ct(t.Fb.G),function(t){t.Bb=0,t.E=-1;for(var e=0;5>e;++e)t.Bb=t.Bb<<8|m(t.Ab)}(t.e)}(t),t.U=0,t.ib=0,t.Jc=0,t.Ic=0,t.Qc=0,t.Nc=r,t.g=Ht,t.jc=0,function(t,e){return t.Z=e,t.cb=null,t.zc=1,t}({},t)}(r,e,n,t.Tb)}(t,g({},e),t.Nb),t}function O(t,e){return t.c[t.f+t.o+e]}function T(t,e,n,r){var i,s;for(t.T&&t.o+e+r>t.h&&(r=t.h-(t.o+e)),++n,s=t.f+t.o+e,i=0;r>i&&t.c[s+i]==t.c[s+i-n];++i);return i}function L(t){return t.h-t.o}function C(t){var e,n;if(!t.T)for(;;){if(!(n=-t.f+t.Kb-t.h))return;if(-1==(e=y(t.cc,t.c,t.f+t.h,n)))return t.zb=t.h,t.f+t.zb>t.H&&(t.zb=t.H-t.f),void(t.T=1);t.h+=e,t.h>=t.o+t._b&&(t.zb=t.h-t._b)}}function A(t,e){t.f+=e,t.zb-=e,t.o-=e,t.h-=e}function I(t,e,n,i,s){var o,a;1073741567>e&&(t.Fc=16+(i>>1),function(t,e,n,i){var s;t.Bc=e,t._b=n,s=e+n+i,(null==t.c||t.Kb!=s)&&(t.c=null,t.Kb=s,t.c=r(t.Kb)),t.H=t.Kb-n}(t,e+n,i+s,256+~~((e+n+i+s)/2)),t.ob=i,o=e+1,t.p!=o&&(t.L=r(2*(t.p=o))),a=65536,t.qb&&(a=e-1,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a>>=1,(a|=65535)>16777216&&(a>>=1),t.Ec=a,++a,a+=t.R),a!=t.rc&&(t.ub=r(t.rc=a)))}function N(t){var e;++t.k>=t.p&&(t.k=0),function(t){++t.o,t.o>t.zb&&(t.f+t.o>t.H&&function(t){var e,n,r;for((r=t.f+t.o-t.Bc)>0&&--r,n=t.f+t.h-r,e=0;n>e;++e)t.c[e]=t.c[r+e];t.f-=r}(t),C(t))}(t),1073741823==t.o&&(e=t.o-t.p,M(t.L,2*t.p,e),M(t.ub,t.rc,e),A(t,e))}function M(t,e,n){var r,i;for(r=0;e>r;++r)n>=(i=t[r]||0)?i=0:i-=n,t[r]=i}function D(t,e){(null==t.Lb||t.M!=e)&&(t.Lb=r(e)),t.M=e,t.o=0,t.h=0}function R(t){var e=t.o-t.h;e&&(_(t.cc,t.Lb,t.h,e),t.o>=t.M&&(t.o=0),t.h=t.o)}function B(t,e){var n=t.o-e-1;return 0>n&&(n+=t.M),t.Lb[n]}function P(t){R(t),t.cc=null}function j(t){return 4>(t-=2)?t:3}function z(t){return 4>t?0:10>t?t-3:t-6}function U(t){if(!t.zc)throw Error("bad state");return t.cb?function(t){(function(t,e,n,r){var s,a,h,f,d,g,m,y,v,b,w,_,S,E,k;if(e[0]=Ht,n[0]=Ht,r[0]=1,t.oc&&(t.b.cc=t.oc,function(t){t.f=0,t.o=0,t.h=0,t.T=0,C(t),t.k=0,A(t,-1)}(t.b),t.W=1,t.oc=null),!t.pc){if(t.pc=1,E=t.g,c(t.g,Ht)){if(!L(t.b))return void Z(t,u(t.g));rt(t),S=u(t.g)&t.y,At(t.d,t.C,(t.l<<4)+S,0),t.l=z(t.l),h=O(t.b,-t.s),pt(dt(t.A,u(t.g),t.J),t.d,h),t.J=h,--t.s,t.g=i(t.g,$t)}if(!L(t.b))return void Z(t,u(t.g));for(;;){if(m=Q(t,u(t.g)),b=t.mb,S=u(t.g)&t.y,a=(t.l<<4)+S,1==m&&-1==b)At(t.d,t.C,a,0),h=O(t.b,-t.s),k=dt(t.A,u(t.g),t.J),7>t.l?pt(k,t.d,h):(v=O(t.b,-t.v[0]-1-t.s),gt(k,t.d,v,h)),t.J=h,t.l=z(t.l);else{if(At(t.d,t.C,a,1),4>b){if(At(t.d,t.bb,t.l,1),b?(At(t.d,t.hb,t.l,1),1==b?At(t.d,t.Ub,t.l,0):(At(t.d,t.Ub,t.l,1),At(t.d,t.vc,t.l,b-2))):(At(t.d,t.hb,t.l,0),At(t.d,t._,a,1==m?0:1)),1==m?t.l=7>t.l?9:11:(ct(t.i,t.d,m-2,S),t.l=7>t.l?8:11),f=t.v[b],0!=b){for(g=b;g>=1;--g)t.v[g]=t.v[g-1];t.v[0]=f}}else{for(At(t.d,t.bb,t.l,0),t.l=7>t.l?7:10,ct(t.$,t.d,m-2,S),_=st(b-=4),y=j(m),St(t.K[y],t.d,_),_>=4&&(w=b-(s=(2|1&_)<<(d=(_>>1)-1)),14>_?Ot(t.Sb,s-_-1,t.d,d,w):(It(t.d,w>>4,d-4),kt(t.S,t.d,15&w),++t.Qb)),f=b,g=3;g>=1;--g)t.v[g]=t.v[g-1];t.v[0]=f,++t.Mb}t.J=O(t.b,m-1-t.s)}if(t.s-=m,t.g=i(t.g,l(m)),!t.s){if(t.Mb>=128&&J(t),t.Qb>=16&&X(t),e[0]=t.g,n[0]=Nt(t.d),!L(t.b))return void Z(t,u(t.g));if(o(p(t.g,E),[4096,0])>=0)return t.pc=0,void(r[0]=0)}}}})(t.cb,t.cb.Xb,t.cb.uc,t.cb.Kc),t.Pb=t.cb.Xb[0],t.cb.Kc[0]&&(function(t){it(t),t.d.Ab=null}(t.cb),t.zc=0)}(t):function(t){var e=function(t){var e,n,r,s,a,c;if(c=u(t.g)&t.Dc,Lt(t.e,t.Gb,(t.U<<4)+c)){if(Lt(t.e,t.Zb,t.U))r=0,Lt(t.e,t.Cb,t.U)?(Lt(t.e,t.Db,t.U)?(Lt(t.e,t.Eb,t.U)?(n=t.Qc,t.Qc=t.Ic):n=t.Ic,t.Ic=t.Jc):n=t.Jc,t.Jc=t.ib,t.ib=n):Lt(t.e,t.pb,(t.U<<4)+c)||(t.U=7>t.U?9:11,r=1),r||(r=H(t.sb,t.e,c)+2,t.U=7>t.U?8:11);else if(t.Qc=t.Ic,t.Ic=t.Jc,t.Jc=t.ib,r=2+H(t.Rb,t.e,c),t.U=7>t.U?7:10,(a=wt(t.kb[j(r)],t.e))>=4){if(s=(a>>1)-1,t.ib=(2|1&a)<<s,14>a)t.ib+=function(t,e,n,r){var i,s,o=1,a=0;for(s=0;r>s;++s)i=Lt(n,t,e+o),o<<=1,o+=i,a|=i<<s;return a}(t.kc,t.ib-a-1,t.e,s);else if(t.ib+=function(t,e){var n,r,i=0;for(n=e;0!=n;--n)t.E>>>=1,r=t.Bb-t.E>>>31,t.Bb-=t.E&r-1,i=i<<1|1-r,-16777216&t.E||(t.Bb=t.Bb<<8|m(t.Ab),t.E<<=8);return i}(t.e,s-4)<<4,t.ib+=function(t,e){var n,r,i=1,s=0;for(r=0;t.F>r;++r)n=Lt(e,t.G,i),i<<=1,i+=n,s|=n<<r;return s}(t.Fb,t.e),0>t.ib)return-1==t.ib?1:-1}else t.ib=a;if(o(l(t.ib),t.g)>=0||t.ib>=t.nb)return-1;(function(t,e,n){var r=t.o-e-1;for(0>r&&(r+=t.M);0!=n;--n)r>=t.M&&(r=0),t.Lb[t.o++]=t.Lb[r++],t.o>=t.M&&R(t)})(t.B,t.ib,r),t.g=i(t.g,l(r)),t.jc=B(t.B,0)}else e=function(t,e,n){return t.V[((e&t.qc)<<t.u)+((255&n)>>>8-t.u)]}(t.gb,u(t.g),t.jc),t.jc=7>t.U?function(t,e){var n=1;do{n=n<<1|Lt(e,t.Ib,n)}while(256>n);return n<<24>>24}(e,t.e):function(t,e,n){var r,i,s=1;do{if(i=n>>7&1,n<<=1,s=s<<1|(r=Lt(e,t.Ib,(1+i<<8)+s)),i!=r){for(;256>s;)s=s<<1|Lt(e,t.Ib,s);break}}while(256>s);return s<<24>>24}(e,t.e,B(t.B,t.ib)),function(t,e){t.Lb[t.o++]=e,t.o>=t.M&&R(t)}(t.B,t.jc),t.U=z(t.U),t.g=i(t.g,$t);return 0}(t.Z);if(-1==e)throw Error("corrupted input");t.Pb=Ft,t.Pc=t.Z.g,(e||o(t.Z.Nc,Ht)>=0&&o(t.Z.g,t.Z.Nc)>=0)&&(R(t.Z.B),P(t.Z.B),t.Z.e.Ab=null,t.zc=0)}(t),t.zc}function F(t){t.B={},t.e={},t.Gb=r(192),t.Zb=r(12),t.Cb=r(12),t.Db=r(12),t.Eb=r(12),t.pb=r(192),t.kb=r(4),t.kc=r(114),t.Fb=bt({},4),t.Rb=$({}),t.sb=$({}),t.gb={};for(var e=0;4>e;++e)t.kb[e]=bt({},6);return t}function W(t,e){for(;e>t.O;++t.O)t.ec[t.O]=bt({},3),t.hc[t.O]=bt({},3)}function H(t,e,n){return Lt(e,t.wc,0)?8+(Lt(e,t.wc,1)?8+wt(t.tc,e):wt(t.hc[n],e)):wt(t.ec[n],e)}function $(t){return t.wc=r(2),t.ec=r(16),t.hc=r(16),t.tc=bt({},8),t.O=0,t}function q(t){Ct(t.wc);for(var e=0;t.O>e;++e)Ct(t.ec[e].G),Ct(t.hc[e].G);Ct(t.tc.G)}function V(t,e,n){var i,s;if(null==t.V||t.u!=n||t.I!=e)for(t.I=e,t.qc=(1<<e)-1,t.u=n,s=1<<t.u+t.I,t.V=r(s),i=0;s>i;++i)t.V[i]=G({})}function G(t){return t.Ib=r(768),t}function Y(t,e){var n,r,i,s;t.jb=e,i=t.a[e].r,r=t.a[e].j;do{t.a[e].t&&(vt(t.a[i]),t.a[i].r=i-1,t.a[e].Ac&&(t.a[i-1].t=0,t.a[i-1].r=t.a[e].r2,t.a[i-1].j=t.a[e].j2)),s=i,n=r,r=t.a[s].j,i=t.a[s].r,t.a[s].j=n,t.a[s].r=e,e=s}while(e>0);return t.mb=t.a[0].j,t.q=t.a[0].r}function K(t){var e;for(t.v=r(4),t.a=[],t.d={},t.C=r(192),t.bb=r(12),t.hb=r(12),t.Ub=r(12),t.vc=r(12),t._=r(192),t.K=[],t.Sb=r(114),t.S=_t({},4),t.$=lt({}),t.i=lt({}),t.A={},t.m=[],t.P=[],t.lb=[],t.nc=r(16),t.x=r(4),t.Q=r(4),t.Xb=[Ht],t.uc=[Ht],t.Kc=[0],t.fc=r(5),t.yc=r(128),t.vb=0,t.X=1,t.D=0,t.Hb=-1,t.mb=0,e=0;4096>e;++e)t.a[e]={};for(e=0;4>e;++e)t.K[e]=_t({},6);return t}function X(t){for(var e=0;16>e;++e)t.nc[e]=xt(t.S,e);t.Qb=0}function J(t){var e,n,r,i,s,o,a,c;for(i=4;128>i;++i)e=(2|1&(o=st(i)))<<(r=(o>>1)-1),t.yc[i]=Tt(t.Sb,e-o-1,r,i-e);for(s=0;4>s;++s){for(n=t.K[s],a=s<<6,o=0;t.$b>o;++o)t.P[a+o]=Et(n,o);for(o=14;t.$b>o;++o)t.P[a+o]+=(o>>1)-1-4<<6;for(c=128*s,i=0;4>i;++i)t.lb[c+i]=t.P[a+i];for(;128>i;++i)t.lb[c+i]=t.P[a+st(i)]+t.yc[i]}t.Mb=0}function Z(t,e){it(t),function(t,e){if(t.Gc){At(t.d,t.C,(t.l<<4)+e,1),At(t.d,t.bb,t.l,0),t.l=7>t.l?7:10,ct(t.$,t.d,0,e);var n=j(2);St(t.K[n],t.d,63),It(t.d,67108863,26),kt(t.S,t.d,15)}}(t,e&t.y);for(var n=0;5>n;++n)Mt(t.d)}function Q(t,e){var n,r,i,s,o,a,c,l,u,h,f,d,p,g,m,y,v,b,w,_,S,E,k,x,C,A,I,N,M,D,R,B,P,j,U,F,W,H,$,q,V,G,K,X;if(t.jb!=t.q)return p=t.a[t.q].r-t.q,t.mb=t.a[t.q].j,t.q=t.a[t.q].r,p;if(t.q=t.jb=0,t.N?(d=t.vb,t.N=0):d=rt(t),A=t.D,2>(x=L(t.b)+1))return t.mb=-1,1;for(x>273&&(x=273),$=0,u=0;4>u;++u)t.x[u]=t.v[u],t.Q[u]=T(t.b,-1,t.x[u],273),t.Q[u]>t.Q[$]&&($=u);if(t.Q[$]>=t.n)return t.mb=$,nt(t,(p=t.Q[$])-1),p;if(d>=t.n)return t.mb=t.m[A-1]+4,nt(t,d-1),d;if(c=O(t.b,-1),v=O(t.b,-t.v[0]-1-1),2>d&&c!=v&&2>t.Q[$])return t.mb=-1,1;if(t.a[0].Hc=t.l,P=e&t.y,t.a[1].z=Gt[t.C[(t.l<<4)+P]>>>2]+yt(dt(t.A,e,t.J),t.l>=7,v,c),vt(t.a[1]),H=(b=Gt[2048-t.C[(t.l<<4)+P]>>>2])+Gt[2048-t.bb[t.l]>>>2],v==c&&(q=H+function(t,e,n){return Gt[t.hb[e]>>>2]+Gt[t._[(e<<4)+n]>>>2]}(t,t.l,P),t.a[1].z>q&&(t.a[1].z=q,function(t){t.j=0,t.t=0}(t.a[1]))),2>(f=d>=t.Q[$]?d:t.Q[$]))return t.mb=t.a[1].j,1;t.a[1].r=0,t.a[0].bc=t.x[0],t.a[0].ac=t.x[1],t.a[0].dc=t.x[2],t.a[0].lc=t.x[3],h=f;do{t.a[h--].z=268435455}while(h>=2);for(u=0;4>u;++u)if(!(2>(W=t.Q[u]))){U=H+et(t,u,t.l,P);do{s=U+ut(t.i,W-2,P),(D=t.a[W]).z>s&&(D.z=s,D.r=0,D.j=u,D.t=0)}while(--W>=2)}if(k=b+Gt[t.bb[t.l]>>>2],d>=(h=t.Q[0]>=2?t.Q[0]+1:2)){for(I=0;h>t.m[I];)I+=2;for(;s=k+tt(t,l=t.m[I+1],h,P),(D=t.a[h]).z>s&&(D.z=s,D.r=0,D.j=l+4,D.t=0),h!=t.m[I]||(I+=2)!=A;++h);}for(n=0;;){if(++n==f)return Y(t,n);if(w=rt(t),A=t.D,w>=t.n)return t.vb=w,t.N=1,Y(t,n);if(++e,B=t.a[n].r,t.a[n].t?(--B,t.a[n].Ac?(G=t.a[t.a[n].r2].Hc,G=4>t.a[n].j2?7>G?8:11:7>G?7:10):G=t.a[B].Hc,G=z(G)):G=t.a[B].Hc,B==n-1?G=t.a[n].j?z(G):7>G?9:11:(t.a[n].t&&t.a[n].Ac?(B=t.a[n].r2,R=t.a[n].j2,G=7>G?8:11):G=4>(R=t.a[n].j)?7>G?8:11:7>G?7:10,M=t.a[B],4>R?R?1==R?(t.x[0]=M.ac,t.x[1]=M.bc,t.x[2]=M.dc,t.x[3]=M.lc):2==R?(t.x[0]=M.dc,t.x[1]=M.bc,t.x[2]=M.ac,t.x[3]=M.lc):(t.x[0]=M.lc,t.x[1]=M.bc,t.x[2]=M.ac,t.x[3]=M.dc):(t.x[0]=M.bc,t.x[1]=M.ac,t.x[2]=M.dc,t.x[3]=M.lc):(t.x[0]=R-4,t.x[1]=M.bc,t.x[2]=M.ac,t.x[3]=M.dc)),t.a[n].Hc=G,t.a[n].bc=t.x[0],t.a[n].ac=t.x[1],t.a[n].dc=t.x[2],t.a[n].lc=t.x[3],a=t.a[n].z,c=O(t.b,-1),v=O(t.b,-t.x[0]-1-1),P=e&t.y,r=a+Gt[t.C[(G<<4)+P]>>>2]+yt(dt(t.A,e,O(t.b,-2)),G>=7,v,c),_=0,(S=t.a[n+1]).z>r&&(S.z=r,S.r=n,S.j=-1,S.t=0,_=1),H=(b=a+Gt[2048-t.C[(G<<4)+P]>>>2])+Gt[2048-t.bb[G]>>>2],v!=c||n>S.r&&!S.j||(q=H+(Gt[t.hb[G]>>>2]+Gt[t._[(G<<4)+P]>>>2]),S.z>=q&&(S.z=q,S.r=n,S.j=0,S.t=0,_=1)),!(2>(x=C=(C=L(t.b)+1)>4095-n?4095-n:C))){if(x>t.n&&(x=t.n),!_&&v!=c&&(X=Math.min(C-1,t.n),(m=T(t.b,0,t.x[0],X))>=2)){for(K=z(G),j=e+1&t.y,E=r+Gt[2048-t.C[(K<<4)+j]>>>2]+Gt[2048-t.bb[K]>>>2],N=n+1+m;N>f;)t.a[++f].z=268435455;s=E+(ut(t.i,m-2,j)+et(t,0,K,j)),(D=t.a[N]).z>s&&(D.z=s,D.r=n+1,D.j=0,D.t=1,D.Ac=0)}for(V=2,F=0;4>F;++F)if(!(2>(g=T(t.b,-1,t.x[F],x)))){y=g;do{for(;n+g>f;)t.a[++f].z=268435455;s=H+(ut(t.i,g-2,P)+et(t,F,G,P)),(D=t.a[n+g]).z>s&&(D.z=s,D.r=n,D.j=F,D.t=0)}while(--g>=2);if(g=y,F||(V=g+1),C>g&&(X=Math.min(C-1-g,t.n),(m=T(t.b,g,t.x[F],X))>=2)){for(K=7>G?8:11,j=e+g&t.y,i=H+(ut(t.i,g-2,P)+et(t,F,G,P))+Gt[t.C[(K<<4)+j]>>>2]+yt(dt(t.A,e+g,O(t.b,g-1-1)),1,O(t.b,g-1-(t.x[F]+1)),O(t.b,g-1)),K=z(K),j=e+g+1&t.y,E=i+Gt[2048-t.C[(K<<4)+j]>>>2]+Gt[2048-t.bb[K]>>>2],N=g+1+m;n+N>f;)t.a[++f].z=268435455;s=E+(ut(t.i,m-2,j)+et(t,0,K,j)),(D=t.a[n+N]).z>s&&(D.z=s,D.r=n+g+1,D.j=0,D.t=1,D.Ac=1,D.r2=n,D.j2=F)}}if(w>x){for(w=x,A=0;w>t.m[A];A+=2);t.m[A]=w,A+=2}if(w>=V){for(k=b+Gt[t.bb[G]>>>2];n+w>f;)t.a[++f].z=268435455;for(I=0;V>t.m[I];)I+=2;for(g=V;;++g)if(s=k+tt(t,o=t.m[I+1],g,P),(D=t.a[n+g]).z>s&&(D.z=s,D.r=n,D.j=o+4,D.t=0),g==t.m[I]){if(C>g&&(X=Math.min(C-1-g,t.n),(m=T(t.b,g,o,X))>=2)){for(K=7>G?7:10,j=e+g&t.y,i=s+Gt[t.C[(K<<4)+j]>>>2]+yt(dt(t.A,e+g,O(t.b,g-1-1)),1,O(t.b,g-(o+1)-1),O(t.b,g-1)),K=z(K),j=e+g+1&t.y,E=i+Gt[2048-t.C[(K<<4)+j]>>>2]+Gt[2048-t.bb[K]>>>2],N=g+1+m;n+N>f;)t.a[++f].z=268435455;s=E+(ut(t.i,m-2,j)+et(t,0,K,j)),(D=t.a[n+N]).z>s&&(D.z=s,D.r=n+g+1,D.j=0,D.t=1,D.Ac=1,D.r2=n,D.j2=o+4)}if((I+=2)==A)break}}}}}function tt(t,e,n,r){var i=j(n);return(128>e?t.lb[128*i+e]:t.P[(i<<6)+function(t){return 131072>t?Vt[t>>6]+12:134217728>t?Vt[t>>16]+32:Vt[t>>26]+52}(e)]+t.nc[15&e])+ut(t.$,n-2,r)}function et(t,e,n,r){var i;return e?(i=Gt[2048-t.hb[n]>>>2],1==e?i+=Gt[t.Ub[n]>>>2]:(i+=Gt[2048-t.Ub[n]>>>2],i+=Dt(t.vc[n],e-2))):(i=Gt[t.hb[n]>>>2],i+=Gt[2048-t._[(n<<4)+r]>>>2]),i}function nt(t,e){e>0&&(function(t,e){var n,r,i,s,o,a,c,l,u,h,f,d,p,g,m,y,v;do{if(t.h>=t.o+t.ob)d=t.ob;else if(d=t.h-t.o,t.xb>d){N(t);continue}for(p=t.o>t.p?t.o-t.p:0,r=t.f+t.o,t.qb?(a=1023&(v=qt[255&t.c[r]]^255&t.c[r+1]),t.ub[a]=t.o,c=65535&(v^=(255&t.c[r+2])<<8),t.ub[1024+c]=t.o,l=(v^qt[255&t.c[r+3]]<<5)&t.Ec):l=255&t.c[r]^(255&t.c[r+1])<<8,i=t.ub[t.R+l],t.ub[t.R+l]=t.o,m=1+(t.k<<1),y=t.k<<1,h=f=t.w,n=t.Fc;;){if(p>=i||0==n--){t.L[m]=t.L[y]=0;break}if(o=t.o-i,s=(t.k>=o?t.k-o:t.k-o+t.p)<<1,g=t.f+i,u=f>h?h:f,t.c[g+u]==t.c[r+u]){for(;++u!=d&&t.c[g+u]==t.c[r+u];);if(u==d){t.L[y]=t.L[s],t.L[m]=t.L[s+1];break}}(255&t.c[r+u])>(255&t.c[g+u])?(t.L[y]=i,y=s+1,i=t.L[y],f=u):(t.L[m]=i,m=s,i=t.L[m],h=u)}N(t)}while(0!=--e)}(t.b,e),t.s+=e)}function rt(t){var e=0;return t.D=function(t,e){var n,r,i,s,o,a,c,l,u,h,f,d,p,g,m,y,v,b,w,_,S;if(t.h>=t.o+t.ob)g=t.ob;else if(g=t.h-t.o,t.xb>g)return N(t),0;for(v=0,m=t.o>t.p?t.o-t.p:0,r=t.f+t.o,y=1,l=0,u=0,t.qb?(l=1023&(S=qt[255&t.c[r]]^255&t.c[r+1]),u=65535&(S^=(255&t.c[r+2])<<8),h=(S^qt[255&t.c[r+3]]<<5)&t.Ec):h=255&t.c[r]^(255&t.c[r+1])<<8,i=t.ub[t.R+h]||0,t.qb&&(s=t.ub[l]||0,o=t.ub[1024+u]||0,t.ub[l]=t.o,t.ub[1024+u]=t.o,s>m&&t.c[t.f+s]==t.c[r]&&(e[v++]=y=2,e[v++]=t.o-s-1),o>m&&t.c[t.f+o]==t.c[r]&&(o==s&&(v-=2),e[v++]=y=3,e[v++]=t.o-o-1,s=o),0!=v&&s==i&&(v-=2,y=1)),t.ub[t.R+h]=t.o,w=1+(t.k<<1),_=t.k<<1,d=p=t.w,0!=t.w&&i>m&&t.c[t.f+i+t.w]!=t.c[r+t.w]&&(e[v++]=y=t.w,e[v++]=t.o-i-1),n=t.Fc;;){if(m>=i||0==n--){t.L[w]=t.L[_]=0;break}if(c=t.o-i,a=(t.k>=c?t.k-c:t.k-c+t.p)<<1,b=t.f+i,f=p>d?d:p,t.c[b+f]==t.c[r+f]){for(;++f!=g&&t.c[b+f]==t.c[r+f];);if(f>y&&(e[v++]=y=f,e[v++]=c-1,f==g)){t.L[_]=t.L[a],t.L[w]=t.L[a+1];break}}(255&t.c[r+f])>(255&t.c[b+f])?(t.L[_]=i,_=a+1,i=t.L[_],p=f):(t.L[w]=i,w=a,i=t.L[w],d=f)}return N(t),v}(t.b,t.m),t.D>0&&(e=t.m[t.D-2])==t.n&&(e+=T(t.b,e-1,t.m[t.D-1],273-e)),++t.s,e}function it(t){t.b&&t.W&&(t.b.cc=null,t.W=0)}function st(t){return 2048>t?Vt[t]:2097152>t?Vt[t>>10]+20:Vt[t>>20]+40}function ot(t,e){Ct(t.db);for(var n=0;e>n;++n)Ct(t.Vb[n].G),Ct(t.Wb[n].G);Ct(t.ic.G)}function at(t,e,n,r,i){var s,o,a,c,l;for(s=Gt[t.db[0]>>>2],a=(o=Gt[2048-t.db[0]>>>2])+Gt[t.db[1]>>>2],c=o+Gt[2048-t.db[1]>>>2],l=0,l=0;8>l;++l){if(l>=n)return;r[i+l]=s+Et(t.Vb[e],l)}for(;16>l;++l){if(l>=n)return;r[i+l]=a+Et(t.Wb[e],l-8)}for(;n>l;++l)r[i+l]=c+Et(t.ic,l-8-8)}function ct(t,e,n,r){(function(t,e,n,r){8>n?(At(e,t.db,0,0),St(t.Vb[r],e,n)):(n-=8,At(e,t.db,0,1),8>n?(At(e,t.db,1,0),St(t.Wb[r],e,n)):(At(e,t.db,1,1),St(t.ic,e,n-8)))})(t,e,n,r),0==--t.sc[r]&&(at(t,r,t.rb,t.Cc,272*r),t.sc[r]=t.rb)}function lt(t){return function(t){t.db=r(2),t.Vb=r(16),t.Wb=r(16),t.ic=_t({},8);for(var e=0;16>e;++e)t.Vb[e]=_t({},3),t.Wb[e]=_t({},3)}(t),t.Cc=[],t.sc=[],t}function ut(t,e,n){return t.Cc[272*n+e]}function ht(t,e){for(var n=0;e>n;++n)at(t,n,t.rb,t.Cc,272*n),t.sc[n]=t.rb}function ft(t,e,n){var i,s;if(null==t.V||t.u!=n||t.I!=e)for(t.I=e,t.qc=(1<<e)-1,t.u=n,s=1<<t.u+t.I,t.V=r(s),i=0;s>i;++i)t.V[i]=mt({})}function dt(t,e,n){return t.V[((e&t.qc)<<t.u)+((255&n)>>>8-t.u)]}function pt(t,e,n){var r,i,s=1;for(i=7;i>=0;--i)r=n>>i&1,At(e,t.tb,s,r),s=s<<1|r}function gt(t,e,n,r){var i,s,o,a,c=1,l=1;for(s=7;s>=0;--s)i=r>>s&1,a=l,c&&(a+=1+(o=n>>s&1)<<8,c=o==i),At(e,t.tb,a,i),l=l<<1|i}function mt(t){return t.tb=r(768),t}function yt(t,e,n,r){var i,s,o=1,a=7,c=0;if(e)for(;a>=0;--a)if(s=n>>a&1,i=r>>a&1,c+=Dt(t.tb[(1+s<<8)+o],i),o=o<<1|i,s!=i){--a;break}for(;a>=0;--a)i=r>>a&1,c+=Dt(t.tb[o],i),o=o<<1|i;return c}function vt(t){t.j=-1,t.t=0}function bt(t,e){return t.F=e,t.G=r(1<<e),t}function wt(t,e){var n,r=1;for(n=t.F;0!=n;--n)r=(r<<1)+Lt(e,t.G,r);return r-(1<<t.F)}function _t(t,e){return t.F=e,t.G=r(1<<e),t}function St(t,e,n){var r,i,s=1;for(i=t.F;0!=i;)r=n>>>--i&1,At(e,t.G,s,r),s=s<<1|r}function Et(t,e){var n,r,i=1,s=0;for(r=t.F;0!=r;)n=e>>>--r&1,s+=Dt(t.G[i],n),i=(i<<1)+n;return s}function kt(t,e,n){var r,i,s=1;for(i=0;t.F>i;++i)r=1&n,At(e,t.G,s,r),s=s<<1|r,n>>=1}function xt(t,e){var n,r,i=1,s=0;for(r=t.F;0!=r;--r)n=1&e,e>>>=1,s+=Dt(t.G[i],n),i=i<<1|n;return s}function Ot(t,e,n,r,i){var s,o,a=1;for(o=0;r>o;++o)At(n,t,e+a,s=1&i),a=a<<1|s,i>>=1}function Tt(t,e,n,r){var i,s,o=1,a=0;for(s=n;0!=s;--s)i=1&r,r>>>=1,a+=Gt[(2047&(t[e+o]-i^-i))>>>2],o=o<<1|i;return a}function Lt(t,e,n){var r,i=e[n];return(-2147483648^(r=(t.E>>>11)*i))>(-2147483648^t.Bb)?(t.E=r,e[n]=i+(2048-i>>>5)<<16>>16,-16777216&t.E||(t.Bb=t.Bb<<8|m(t.Ab),t.E<<=8),0):(t.E-=r,t.Bb-=r,e[n]=i-(i>>>5)<<16>>16,-16777216&t.E||(t.Bb=t.Bb<<8|m(t.Ab),t.E<<=8),1)}function Ct(t){for(var e=t.length-1;e>=0;--e)t[e]=1024}function At(t,e,n,r){var o,a=e[n];o=(t.E>>>11)*a,r?(t.xc=i(t.xc,s(l(o),[4294967295,0])),t.E-=o,e[n]=a-(a>>>5)<<16>>16):(t.E=o,e[n]=a+(2048-a>>>5)<<16>>16),-16777216&t.E||(t.E<<=8,Mt(t))}function It(t,e,n){for(var r=n-1;r>=0;--r)t.E>>>=1,1==(e>>>r&1)&&(t.xc=i(t.xc,l(t.E))),-16777216&t.E||(t.E<<=8,Mt(t))}function Nt(t){return i(i(l(t.Jb),t.mc),[4,0])}function Mt(t){var e,n=u(function(t,e){var n;return n=d(t,e&=63),0>t[1]&&(n=i(n,f([2,0],31))),n}(t.xc,32));if(0!=n||o(t.xc,[4278190080,0])<0){t.mc=i(t.mc,l(t.Jb)),e=t.Oc;do{w(t.Ab,e+n),e=255}while(0!=--t.Jb);t.Oc=u(t.xc)>>>24}++t.Jb,t.xc=f(s(t.xc,[16777215,0]),8)}function Dt(t,e){return Gt[(2047&(t-e^-e))>>>2]}function Rt(t){for(var e,n,r,i=0,s=0,o=t.length,a=[],c=[];o>i;++i,++s){if(128&(e=255&t[i]))if(192==(224&e)){if(i+1>=o)return t;if(128!=(192&(n=255&t[++i])))return t;c[s]=(31&e)<<6|63&n}else{if(224!=(240&e))return t;if(i+2>=o)return t;if(128!=(192&(n=255&t[++i])))return t;if(128!=(192&(r=255&t[++i])))return t;c[s]=(15&e)<<12|(63&n)<<6|63&r}else{if(!e)return t;c[s]=e}16383==s&&(a.push(String.fromCharCode.apply(String,c)),s=-1)}return s>0&&(c.length=s,a.push(String.fromCharCode.apply(String,c))),a.join("")}function Bt(t){var e,n,r,i=[],s=0,o=t.length;if("object"==typeof t)return t;for(function(t,e,n,r,i){var s;for(s=0;n>s;++s)r[i++]=t.charCodeAt(s)}(t,0,o,i,0),r=0;o>r;++r)(e=i[r])>=1&&127>=e?++s:s+=!e||e>=128&&2047>=e?2:3;for(n=[],s=0,r=0;o>r;++r)(e=i[r])>=1&&127>=e?n[s++]=e<<24>>24:!e||e>=128&&2047>=e?(n[s++]=(192|e>>6&31)<<24>>24,n[s++]=(128|63&e)<<24>>24):(n[s++]=(224|e>>12&15)<<24>>24,n[s++]=(128|e>>6&63)<<24>>24,n[s++]=(128|63&e)<<24>>24);return n}function Pt(t){return t[1]+t[0]}var jt=3,zt="function"==typeof t?t:setTimeout,Ut=4294967296,Ft=[4294967295,-Ut],Wt=[0,-0x8000000000000000],Ht=[0,0],$t=[1,0],qt=function(){var t,e,n,r=[];for(t=0;256>t;++t){for(n=t,e=0;8>e;++e)1&n?n=n>>>1^-306674912:n>>>=1;r[t]=n}return r}(),Vt=function(){var t,e,n,r=2,i=[0,1];for(n=2;22>n;++n)for(e=1<<(n>>1)-1,t=0;e>t;++t,++r)i[r]=n<<24>>24;return i}(),Gt=function(){var t,e,n,r=[];for(e=8;e>=0;--e)for(t=1<<9-e,n=1<<9-e-1;t>n;++n)r[n]=(e<<6)+(t-n<<6>>>9-e-1);return r}(),Yt=function(){var t=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}];return function(e){return t[e-1]||t[6]}}();return"undefined"==typeof onmessage||"undefined"!=typeof window&&void 0!==window.document||(onmessage=function(t){t&&t.gc&&(2==t.gc.action?e.decompress(t.gc.gc,t.gc.cbn):1==t.gc.action&&e.compress(t.gc.gc,t.gc.Rc,t.gc.cbn))}),{compress:function(t,e,r,i){var s,o,a={},c=void 0===r&&void 0===i;if("function"!=typeof r&&(o=r,r=i=0),i=i||function(t){return void 0!==o?n(t,o):void 0},r=r||function(t,e){return void 0!==o?postMessage({action:1,cbn:o,result:t,error:e}):void 0},c){for(a.c=k({},Bt(t),Yt(e));U(a.c.yb););return b(a.c.Nb)}try{a.c=k({},Bt(t),Yt(e)),i(0)}catch(t){return r(null,t)}zt((function t(){try{for(var e,n=(new Date).getTime();U(a.c.yb);)if(s=Pt(a.c.yb.Pb)/Pt(a.c.Tb),(new Date).getTime()-n>200)return i(s),zt(t,0),0;i(1),e=b(a.c.Nb),zt(r.bind(null,e),0)}catch(t){r(null,t)}}),0)},decompress:function(t,e,r){var i,s,o,a,c={},l=void 0===e&&void 0===r;if("function"!=typeof e&&(s=e,e=r=0),r=r||function(t){return void 0!==s?n(o?t:-1,s):void 0},e=e||function(t,e){return void 0!==s?postMessage({action:2,cbn:s,result:t,error:e}):void 0},l){for(c.d=x({},t);U(c.d.yb););return Rt(b(c.d.Nb))}try{c.d=x({},t),a=Pt(c.d.Tb),o=a>-1,r(0)}catch(t){return e(null,t)}zt((function t(){try{for(var n,s=0,l=(new Date).getTime();U(c.d.yb);)if(++s%1e3==0&&(new Date).getTime()-l>200)return o&&(i=Pt(c.d.yb.Z.g)/a,r(i)),zt(t,0),0;r(1),n=Rt(b(c.d.Nb)),zt(e.bind(null,n),0)}catch(t){e(null,t)}}),0)}}}();this.LZMA=this.LZMA_WORKER=e}).call(this,n(20).setImmediate)},function(t,e,n){var r,i=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var s={compressToBase64:function(t){if(null==t)return"";var n=s._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:s._decompress(t.length,32,(function(n){return i(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":s._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:s._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=s.compress(t),n=new Uint8Array(2*e.length),r=0,i=e.length;r<i;r++){var o=e.charCodeAt(r);n[2*r]=o>>>8,n[2*r+1]=o%256}return n},decompressFromUint8Array:function(e){if(null==e)return s.decompress(e);for(var n=new Array(e.length/2),r=0,i=n.length;r<i;r++)n[r]=256*e[2*r]+e[2*r+1];var o=[];return n.forEach((function(e){o.push(t(e))})),s.decompress(o.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":s._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),s._decompress(t.length,32,(function(e){return i(n,t.charAt(e))})))},compress:function(e){return s._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var r,i,s,o={},a={},c="",l="",u="",h=2,f=3,d=2,p=[],g=0,m=0;for(s=0;s<t.length;s+=1)if(c=t.charAt(s),Object.prototype.hasOwnProperty.call(o,c)||(o[c]=f++,a[c]=!0),l=u+c,Object.prototype.hasOwnProperty.call(o,l))u=l;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(i=u.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)g=g<<1|i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}0==--h&&(h=Math.pow(2,d),d++),delete a[u]}else for(i=o[u],r=0;r<d;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;0==--h&&(h=Math.pow(2,d),d++),o[l]=f++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==e-1?(m=0,p.push(n(g)),g=0):m++;for(i=u.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}else{for(i=1,r=0;r<d;r++)g=g<<1|i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1}0==--h&&(h=Math.pow(2,d),d++),delete a[u]}else for(i=o[u],r=0;r<d;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;0==--h&&(h=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)g=g<<1|1&i,m==e-1?(m=0,p.push(n(g)),g=0):m++,i>>=1;for(;;){if(g<<=1,m==e-1){p.push(n(g));break}m++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:s._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,r){var i,s,o,a,c,l,u,h=[],f=4,d=4,p=3,g="",m=[],y={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)h[i]=i;for(o=0,c=Math.pow(2,2),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(a>0?1:0)*l,l<<=1;switch(o){case 0:for(o=0,c=Math.pow(2,8),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(a>0?1:0)*l,l<<=1;u=t(o);break;case 1:for(o=0,c=Math.pow(2,16),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(a>0?1:0)*l,l<<=1;u=t(o);break;case 2:return""}for(h[3]=u,s=u,m.push(u);;){if(y.index>e)return"";for(o=0,c=Math.pow(2,p),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(a>0?1:0)*l,l<<=1;switch(u=o){case 0:for(o=0,c=Math.pow(2,8),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(a>0?1:0)*l,l<<=1;h[d++]=t(o),u=d-1,f--;break;case 1:for(o=0,c=Math.pow(2,16),l=1;l!=c;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),o|=(a>0?1:0)*l,l<<=1;h[d++]=t(o),u=d-1,f--;break;case 2:return m.join("")}if(0==f&&(f=Math.pow(2,p),p++),h[u])g=h[u];else{if(u!==d)return null;g=s+s.charAt(0)}m.push(g),h[d++]=s+g.charAt(0),s=g,0==--f&&(f=Math.pow(2,p),p++)}}};return s}();void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r=function(){};r.prototype.encode=function(t){for(var e,n={},r=(t+"").split(""),i=[],s=r[0],o=256,a=1;a<r.length;a++)null!=n[s+(e=r[a])]?s+=e:(i.push(s.length>1?n[s]:s.charCodeAt(0)),n[s+e]=o,o++,s=e);for(i.push(s.length>1?n[s]:s.charCodeAt(0)),a=0;a<i.length;a++)i[a]=String.fromCharCode(i[a]);return i.join("")},r.prototype.decode=function(t){for(var e,n={},r=(t+"").split(""),i=r[0],s=i,o=[i],a=256,c=1;c<r.length;c++){var l=r[c].charCodeAt(0);e=l<256?r[c]:n[l]?n[l]:s+i,o.push(e),i=e.charAt(0),n[a]=s+i,a++,s=e}return o.join("")},t.exports=new r},function(t,e,n){"use strict";n.r(e);var r,i,s,o=n(1),a=n.n(o),c=n(0),l=n.n(c),u=n(23),h=n(24),f=n(25),d={pack:!0,encode:!0,compress:(i=a()(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)}),decompress:(r=a()(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},p={lzma:u.a,lzstring:h.a,lzw:f.a,pack:d},g=n(2);n.p=(s=function(){if(document.currentScript)return document.currentScript.src;var t=document.getElementsByTagName("script");return t[t.length-1].src}()).substring(0,s.lastIndexOf("/"))+"/",e.default=function(t){if(!Object.prototype.hasOwnProperty.call(p,t))throw new Error("No such algorithm ".concat(t));var e=p[t],n=e.pack,r=e.encode;function i(t){return s.apply(this,arguments)}function s(){return(s=a()(l.a.mark((function e(i){var s,o,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,g.a.msgpack();case 3:e.t0=e.sent.encode(i),e.next=7;break;case 6:e.t0=JSON.stringify(i);case 7:return s=e.t0,e.next=10,p[t].compress(s);case 10:if(o=e.sent,!r){e.next=17;break}return e.next=14,g.a.safe64();case 14:e.t1=e.sent.encode(o),e.next=18;break;case 17:e.t1=o;case 18:return a=e.t1,e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=a()(l.a.mark((function e(i){var s,o,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,g.a.safe64();case 3:e.t0=e.sent.decode(i),e.next=7;break;case 6:e.t0=i;case 7:return s=e.t0,e.next=10,p[t].decompress(s);case 10:if(o=e.sent,!n){e.next=17;break}return e.next=14,g.a.msgpack();case 14:e.t1=e.sent.decode(o),e.next=18;break;case 17:e.t1=JSON.parse(o);case 18:return a=e.t1,e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=a()(l.a.mark((function t(e){var n,r,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify(e),r=encodeURIComponent(n),t.next=4,i(e);case 4:return s=t.sent,t.abrupt("return",{raw:n.length,rawencoded:r.length,compressedencoded:s.length,compression:(o=r.length/s.length,Math.floor(1e4*o)/1e4)});case 6:case"end":return t.stop()}var o}),t)})))).apply(this,arguments)}return{compress:i,decompress:function(t){return o.apply(this,arguments)},stats:function(t){return c.apply(this,arguments)}}}}]).default},141:(t,e,n)=>{"use strict";var r=n(861).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function o(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.I=s,s.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},s.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},s.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=o(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=o(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=o(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},213:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){a(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(t,n,o){var a=s.URL||s.webkitURL,c=document.createElement("a");n=n||t.name||"download",c.download=n,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):r(c.href)?e(t,n,o):i(c,c.target="_blank")):(c.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,s){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,s),n);else if(r(t))e(t,n,s);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout((function(){i(o)}))}}:function(t,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var a="application/octet-stream"===t.type,c=/constructor/i.test(s.HTMLElement)||s.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&c||o)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var h=s.URL||s.webkitURL,f=h.createObjectURL(t);i?i.location=f:location.href=f,i=null,setTimeout((function(){h.revokeObjectURL(f)}),4e4)}});s.saveAs=a.saveAs=a,t.exports=a})?r.apply(e,[]):r)||(t.exports=i)},217:module=>{var factory;self,factory=()=>(()=>{var __webpack_modules__={"./src/WebTerminal.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global MutationObserver */\n\nvar _modules = __webpack_require__(/*! ./modules */ \"./src/modules/index.js\");\n\nvar _WebTerminal = __webpack_require__(/*! ./WebTerminal.css */ \"./src/WebTerminal.css\");\n\nvar _WebTerminal2 = _interopRequireDefault(_WebTerminal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// eslint-disable-line\n\nvar KEY = 'WebTerm';\n\nvar _window = window,\n    addEventListener = _window.addEventListener,\n    localStorage = _window.localStorage;\n\nvar Terminal = function () {\n  function Terminal() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Terminal);\n\n    _initialiseProps.call(this);\n\n    var _props$container = props.container,\n        container = _props$container === undefined ? 'web-terminal' : _props$container,\n        _props$commands = props.commands,\n        commands = _props$commands === undefined ? {} : _props$commands,\n        _props$welcome = props.welcome,\n        welcome = _props$welcome === undefined ? 'Welcome to the simple <a href=\"\">Web Terminal</a>.' : _props$welcome,\n        _props$prompt = props.prompt,\n        prompt = _props$prompt === undefined ? '' : _props$prompt,\n        _props$separator = props.separator,\n        separator = _props$separator === undefined ? '&gt;' : _props$separator,\n        _props$ignoreBadComma = props.ignoreBadCommand,\n        ignoreBadCommand = _props$ignoreBadComma === undefined ? false : _props$ignoreBadComma,\n        _props$autoFocus = props.autoFocus,\n        autoFocus = _props$autoFocus === undefined ? true : _props$autoFocus;\n\n    this.commands = Object.assign({}, _modules.COMMANDS, commands);\n    this.history = localStorage[KEY] ? JSON.parse(localStorage[KEY]) : [];\n    this.historyCursor = this.history.length;\n    this.welcome = welcome;\n    this.shell = { prompt: prompt, separator: separator };\n    this.ignoreBadCommand = ignoreBadCommand;\n    this.autoFocus = autoFocus;\n\n    var el = document.getElementById(container);\n    if (el) {\n      this.cacheDOM(el);\n      this.addListeners();\n      if (welcome) this.output(welcome);\n    } else throw Error('Container #' + container + ' doesn\\'t exists.');\n  }\n\n  _createClass(Terminal, [{\n    key: 'clear',\n    value: function clear() {\n      this.DOM.output.innerHTML = '';\n      if (!this.state.idle) {\n        this.DOM.input.focus();\n      }\n      this.resetCommand();\n    }\n  }, {\n    key: 'idle',\n    value: function idle() {\n      var DOM = this.DOM;\n\n\n      DOM.command.classList.add('idle');\n      DOM.prompt.innerHTML = '<div class=\"spinner\"></div>';\n    }\n  }, {\n    key: 'prompt',\n    value: function prompt(_prompt) {\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n      this.state.prompt = true;\n      this.onAskCallback = callback;\n      this.DOM.prompt.innerHTML = _prompt + ':';\n      this.resetCommand();\n      this.DOM.command.classList.add('input');\n    }\n  }, {\n    key: 'onInput',\n    value: function onInput(callback) {\n      this.onInputCallback = callback;\n    }\n  }, {\n    key: 'output',\n    value: function output() {\n      var html = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '&nbsp;';\n\n      this.DOM.output.insertAdjacentHTML('beforeEnd', '<span>' + html + '</span>');\n      this.resetCommand();\n    }\n  }, {\n    key: 'setPrompt',\n    value: function setPrompt() {\n      var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.shell.prompt;\n      var DOM = this.DOM,\n          separator = this.shell.separator;\n\n\n      this.shell = { prompt: prompt, separator: separator };\n      DOM.command.classList.remove('idle');\n      DOM.prompt.innerHTML = '' + prompt + separator;\n      DOM.input.focus();\n    }\n  }]);\n\n  return Terminal;\n}();\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.state = {\n    prompt: undefined,\n    idle: undefined\n  };\n\n  this.cacheDOM = function (el) {\n    el.classList.add(KEY);\n    el.insertAdjacentHTML('beforeEnd', (0, _modules.markup)(_this));\n\n    // Cache DOM nodes\n    var container = el.querySelector('.container');\n    _this.DOM = {\n      container: container,\n      output: container.querySelector('output'),\n      command: container.querySelector('.command'),\n      input: container.querySelector('.command .input'),\n      prompt: container.querySelector('.command .prompt')\n    };\n  };\n\n  this.addListeners = function () {\n    var DOM = _this.DOM,\n        autoFocus = _this.autoFocus;\n\n    // Create a MutationObserver to observe changes in the output element\n\n    var observer = new MutationObserver(function () {\n      setTimeout(function () {\n        return DOM.input.scrollIntoView();\n      }, 10);\n    });\n\n    // Start observing the output element for child list changes\n    observer.observe(DOM.output, { childList: true, subtree: true });\n\n    DOM.output.addEventListener('click', function (event) {\n      return event.stopPropagation();\n    }, false);\n    DOM.input.addEventListener('keyup', _this.onKeyUp, false);\n    DOM.input.addEventListener('keydown', _this.onKeyDown, false);\n    DOM.command.addEventListener('click', function () {\n      return DOM.input.focus();\n    }, false);\n\n    if (autoFocus) {\n      addEventListener('click', function () {\n        return DOM.input.focus();\n      }, false);\n\n      addEventListener('keyup', function (event) {\n        DOM.input.focus();\n        event.stopPropagation();\n        event.preventDefault();\n      }, false);\n    }\n  };\n\n  this.onKeyUp = function (event) {\n    var keyCode = event.keyCode;\n    var DOM = _this.DOM,\n        _history = _this.history,\n        history = _history === undefined ? [] : _history,\n        historyCursor = _this.historyCursor;\n\n\n    if (keyCode === 27) {\n      // ESC key\n      DOM.input.value = '';\n      event.stopPropagation();\n      event.preventDefault();\n    } else if ([38, 40].includes(keyCode)) {\n      if (keyCode === 38 && historyCursor > 0) _this.historyCursor -= 1; // {38} UP key\n      if (keyCode === 40 && historyCursor < history.length - 1) _this.historyCursor += 1; // {40} DOWN key\n\n      if (history[_this.historyCursor]) DOM.input.value = history[_this.historyCursor];\n    }\n  };\n\n  this.onKeyDown = function (_ref) {\n    var keyCode = _ref.keyCode;\n    var _commands = _this.commands,\n        commands = _commands === undefined ? {} : _commands,\n        DOM = _this.DOM,\n        history = _this.history,\n        onInputCallback = _this.onInputCallback,\n        state = _this.state;\n\n    var commandLine = DOM.input.value.trim();\n    if (keyCode !== 13 || !commandLine) return;\n\n    var _commandLine$split = commandLine.split(' '),\n        _commandLine$split2 = _toArray(_commandLine$split),\n        command = _commandLine$split2[0],\n        parameters = _commandLine$split2.slice(1);\n\n    if (state.prompt) {\n      state.prompt = false;\n      _this.onAskCallback(command);\n      _this.setPrompt();\n      _this.resetCommand();\n      return;\n    }\n\n    // Save command line in history\n    history.push(commandLine);\n    localStorage[KEY] = JSON.stringify(history);\n    _this.historyCursor = history.length;\n\n    // Clone command as a new output line\n    DOM.output.appendChild((0, _modules.cloneCommandNode)(DOM.command));\n\n    // Clean command line\n    DOM.command.classList.add('hidden');\n    DOM.input.value = '';\n\n    // Dispatch command\n    var handled = false;\n    if (Object.keys(commands).includes(command)) {\n      var callback = commands[command];\n      if (callback) {\n        callback(_this, parameters);\n        handled = true;\n      }\n    } else if (!_this.ignoreBadCommand) {\n      _this.output('<u>' + command + '</u>: command not found.');\n    }\n    if (onInputCallback) onInputCallback(command, parameters, handled);\n  };\n\n  this.resetCommand = function () {\n    var DOM = _this.DOM;\n\n\n    DOM.input.value = '';\n    DOM.command.classList.remove('input');\n    DOM.command.classList.remove('hidden');\n    if (DOM.input.scrollIntoView) DOM.input.scrollIntoView();\n  };\n};\n\nif (window) window.WebTerminal = Terminal;\n\nexports[\"default\"] = Terminal;\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/WebTerminal.js?")},"./src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _WebTerminal = __webpack_require__(/*! ./WebTerminal */ "./src/WebTerminal.js");\n\nObject.defineProperty(exports, "default", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_WebTerminal).default;\n  }\n}));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/index.js?')},"./src/modules/cloneCommandNode.js":(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nexports[\"default\"] = function (el) {\n  var line = el.cloneNode(true);\n  var input = line.querySelector('.input');\n\n  input.autofocus = false;\n  input.readOnly = true;\n  input.insertAdjacentHTML('beforebegin', '<p>' + input.value + '</p>');\n  input.parentNode.removeChild(input);\n  line.classList.add('line');\n\n  return line;\n};\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/cloneCommandNode.js?")},"./src/modules/commands.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _package = __webpack_require__(/*! ../../package.json */ \"./package.json\");\n\nvar _package2 = _interopRequireDefault(_package);\n\nvar _help = __webpack_require__(/*! ./help */ \"./src/modules/help.js\");\n\nvar _help2 = _interopRequireDefault(_help);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _window = window,\n    localStorage = _window.localStorage;\n\nvar KEY = 'WebTerm';\n\nexports[\"default\"] = {\n  clear: function clear(terminal) {\n    return terminal.clear();\n  },\n\n  help: function help(terminal, _ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        command = _ref2[0];\n\n    if (command) {\n      terminal.output('help: ' + (_help2.default[command] || 'no help topics match <u>' + command + '</u>'));\n    } else {\n      terminal.output('These shell commands are defined internally. Type <u>help</u> for see the list.');\n      terminal.output('Type <u>help name</u> to find out more about the function <u>name</u>.');\n      terminal.output(Object.keys(terminal.commands).join(', '));\n    }\n  },\n\n  version: function version(terminal) {\n    return terminal.output('Simple Web Terminal v' + _package2.default.version);\n  },\n\n  wipe: function wipe(terminal) {\n    terminal.prompt('Are you sure remove all your commands history? Y/N', function (value) {\n      if (value.trim().toUpperCase() === 'Y') {\n        localStorage.removeItem(KEY);\n        terminal.history = []; // eslint-disable-line\n        terminal.historyCursor = 0; // eslint-disable-line\n        terminal.output('History of commands wiped.');\n      }\n    });\n  }\n};\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/commands.js?")},"./src/modules/help.js":(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = {\n  clear: 'clear the terminal screen',\n  version: 'print the terminal version',\n  wipe: 'Remove all your history of command lines'\n};\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/help.js?")},"./src/modules/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.markup = exports.COMMANDS = exports.cloneCommandNode = undefined;\n\nvar _cloneCommandNode = __webpack_require__(/*! ./cloneCommandNode */ "./src/modules/cloneCommandNode.js");\n\nvar _cloneCommandNode2 = _interopRequireDefault(_cloneCommandNode);\n\nvar _commands = __webpack_require__(/*! ./commands */ "./src/modules/commands.js");\n\nvar _commands2 = _interopRequireDefault(_commands);\n\nvar _markup = __webpack_require__(/*! ./markup */ "./src/modules/markup.js");\n\nvar _markup2 = _interopRequireDefault(_markup);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.cloneCommandNode = _cloneCommandNode2.default;\nexports.COMMANDS = _commands2.default;\nexports.markup = _markup2.default;\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/index.js?')},"./src/modules/markup.js":(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nexports["default"] = function (_ref) {\n  var _ref$shell = _ref.shell,\n      prompt = _ref$shell.prompt,\n      separator = _ref$shell.separator;\n  return "\\n  <div class=\\"container\\">\\n    <output></output>\\n    <div class=\\"command\\">\\n      <div class=\\"prompt\\">" + prompt + separator + "</div>\\n      <input class=\\"input\\" spellcheck=\\"false\\" autofocus />\\n    </table>\\n  </div>\\n";\n};\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/markup.js?')},"./node_modules/css-loader/index.js!./src/WebTerminal.css":(module,exports,__webpack_require__)=>{eval('exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);\n// imports\n\n\n// module\nexports.push([module.id, "* {\\n  box-sizing: border-box;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.WebTerm {\\n  background-color: #222222;\\n  color: white;\\n  font-family: \\"Inconsolata\\", \\"Courier New\\", Courier, monospace;\\n  font-weight: bold;\\n  overflow: hidden;\\n  padding: 0.75em 1em;\\n}\\n\\n.WebTerm .container {\\n  width: 100%;\\n  height: 100%;\\n  overflow-y: scroll;\\n}\\n.WebTerm .container ::selection {\\n  background-color: #1e496c;\\n  text-shadow: none !important;\\n}\\n\\n.WebTerm output {\\n  clear: both;\\n  line-height: 1.25em;\\n  width: 100%;\\n}\\n.WebTerm output pre {\\n  white-space: pre-wrap;\\n  white-space: -moz-pre-wrap;\\n  white-space: -pre-wrap;\\n  white-space: -o-pre-wrap;\\n  word-wrap: break-word;\\n  margin: 0;\\n}\\n.WebTerm output span {\\n  display: block;\\n  font-weight: normal;\\n  color: #dddddd;\\n}\\n\\n.WebTerm .prompt,\\n.WebTerm a {\\n  color: #449dff;\\n  font-weight: bold;\\n}\\n\\n.WebTerm .prompt {\\n  line-height: 1.25em;\\n  margin-right: 0.5em;\\n  margin-top: 0.36em;\\n}\\n\\n.WebTerm .command {\\n  display: flex;\\n}\\n\\n.WebTerm .command p {\\n  margin-top: 0.36em;\\n}\\n\\n.WebTerm .command.input .prompt {\\n  color: white;\\n  font-weight: normal;\\n}\\n\\n.WebTerm .command.idle .input {\\n  display: none;\\n}\\n\\n.WebTerm .command.hidden .prompt {\\n  display: none;\\n}\\n\\n.WebTerm .command.hidden .input {\\n  max-width: 1px;\\n}\\n\\n.WebTerm .command .input {\\n  background-color: transparent;\\n  border: none;\\n  color: inherit;\\n  font: inherit;\\n  flex: 1;\\n  margin: 0;\\n  outline: none;\\n  padding: 0;\\n  padding-top: 7px;\\n}\\n\\n.WebTerm .command .spinner:before {\\n  display: inline-block;\\n  content: \\"\\\\280B\\";\\n  animation: spin 1s linear infinite;\\n  vertical-align: middle;\\n  margin-right: 10px;\\n}\\n\\n@keyframes spin {\\n  0% {\\n    content: \\"\\\\280B\\";\\n  }\\n  10% {\\n    content: \\"\\\\2819\\";\\n  }\\n  20% {\\n    content: \\"\\\\2839\\";\\n  }\\n  30% {\\n    content: \\"\\\\2838\\";\\n  }\\n  40% {\\n    content: \\"\\\\283C\\";\\n  }\\n  50% {\\n    content: \\"\\\\2834\\";\\n  }\\n  60% {\\n    content: \\"\\\\2826\\";\\n  }\\n  70% {\\n    content: \\"\\\\2827\\";\\n  }\\n  80% {\\n    content: \\"\\\\2807\\";\\n  }\\n  90% {\\n    content: \\"\\\\280F\\";\\n  }\\n}\\n", ""]);\n\n// exports\n\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/WebTerminal.css?./node_modules/css-loader/index.js')},"./node_modules/css-loader/lib/css-base.js":module=>{eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn "@media " + item[2] + "{" + content + "}";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || \'\';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === \'function\') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn \'/*# sourceURL=\' + cssMapping.sourceRoot + source + \' */\'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n\t}\n\n\treturn [content].join(\'\\n\');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = \'sourceMappingURL=data:application/json;charset=utf-8;base64,\' + base64;\n\n\treturn \'/*# \' + data + \' */\';\n}\n\n\n//# sourceURL=webpack://@lvcabral/terminal/./node_modules/css-loader/lib/css-base.js?')},"./src/WebTerminal.css":(module,__unused_webpack_exports,__webpack_require__)=>{eval('\nvar content = __webpack_require__(/*! !!../node_modules/css-loader/index.js!./WebTerminal.css */ "./node_modules/css-loader/index.js!./src/WebTerminal.css");\n\nif(typeof content === \'string\') content = [[module.id, content, \'\']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {"hmr":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! !../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/WebTerminal.css?')},"./node_modules/style-loader/lib/addStyles.js":(module,__unused_webpack_exports,__webpack_require__)=>{eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve "head" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }\n                // }\n                if (typeof target === \'function\') {\n                        return target();\n                }\n                if (typeof memo[target] === "undefined") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === "object" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = "head";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error("Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === "top") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === "bottom") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === "object" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error("[Style Loader]\\n\\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\\n Must be \'top\', \'bottom\', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement("style");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement("link");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\toptions.attrs.rel = "stylesheet";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (false) {}\n\n\treturn __webpack_require__.nc;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === \'function\'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don\'t add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute("media", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn\'t defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n//# sourceURL=webpack://@lvcabral/terminal/./node_modules/style-loader/lib/addStyles.js?')},"./node_modules/style-loader/lib/urls.js":module=>{eval('\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function "fixes" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== "undefined" && window.location;\n\n  if (!location) {\n    throw new Error("fixUrls requires window.location");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== "string") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + "//" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, "/");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word "url" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn\'t a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn\'t a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn\'t a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^"(.*)"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^\'(.*)\'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf("//") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf("/") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with \'/\'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, ""); // Strip leading \'./\'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn "url(" + JSON.stringify(newUrl) + ")";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n//# sourceURL=webpack://@lvcabral/terminal/./node_modules/style-loader/lib/urls.js?')},"./package.json":module=>{"use strict";eval('module.exports = JSON.parse(\'{"name":"@lvcabral/terminal","version":"0.1.0","description":"A simple and lightweight Javascript web browser terminal","keywords":["terminal","console","xterm","shell","tool"],"repository":{"type":"git","url":"git+https://github.com/lvcabral/terminal.git"},"license":"MIT","main":"./dist/web-terminal.js","bin":{"terminal":"dist/web-terminal.js"},"homepage":"https://github.com/lvcabral/terminal","bugs":"https://github.com/lvcabral/terminal/issues","devDependencies":{"babel-eslint":"^9.0.0","babel-jest":"^23.4.2","babel-loader":"^7.1.0","babel-plugin-transform-class-properties":"^6.24.1","babel-polyfill":"^6.26.0","babel-preset-env":"^1.7.0","css-loader":"^1.0.0","eslint":"^5.4.0","eslint-config-airbnb":"^17.0.0","eslint-plugin-import":"^2.13.0","identity-obj-proxy":"^3.0.0","jest":"^23.5.0","style-loader":"^0.23.0","webpack":"^5.75.0","webpack-cli":"^5.0.1"},"scripts":{"build":"webpack","start":"node index.js","test":"jest","lint":"eslint src/**","release":"webpack && npm publish --tag latest"}}\');\n\n//# sourceURL=webpack://@lvcabral/terminal/./package.json?')}},__webpack_module_cache__={};function __nested_webpack_require_41083__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t](n,n.exports,__nested_webpack_require_41083__),n.exports}__nested_webpack_require_41083__.nc=void 0;var __nested_webpack_exports__=__nested_webpack_require_41083__("./src/index.js");return __nested_webpack_exports__})(),module.exports=factory()},218:(t,e,n)=>{!function(t){var e={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},n=t.Pos;function r(t,n){return"pairs"==n&&"string"==typeof t?t:"object"==typeof t&&null!=t[n]?t[n]:e[n]}t.defineOption("autoCloseBrackets",!1,(function(e,n,o){o&&o!=t.Init&&(e.removeKeyMap(i),e.state.closeBrackets=null),n&&(s(r(n,"pairs")),e.state.closeBrackets=n,e.addKeyMap(i))}));var i={Backspace:function(e){var i=a(e);if(!i||e.getOption("disableInput"))return t.Pass;for(var s=r(i,"pairs"),o=e.listSelections(),c=0;c<o.length;c++){if(!o[c].empty())return t.Pass;var l=u(e,o[c].head);if(!l||s.indexOf(l)%2!=0)return t.Pass}for(c=o.length-1;c>=0;c--){var h=o[c].head;e.replaceRange("",n(h.line,h.ch-1),n(h.line,h.ch+1),"+delete")}},Enter:function(e){var n=a(e),i=n&&r(n,"explode");if(!i||e.getOption("disableInput"))return t.Pass;for(var s=e.listSelections(),o=0;o<s.length;o++){if(!s[o].empty())return t.Pass;var l=u(e,s[o].head);if(!l||i.indexOf(l)%2!=0)return t.Pass}e.operation((function(){var t=e.lineSeparator()||"\n";e.replaceSelection(t+t,null),c(e,-1),s=e.listSelections();for(var n=0;n<s.length;n++){var r=s[n].head.line;e.indentLine(r,null,!0),e.indentLine(r+1,null,!0)}}))}};function s(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),r="'"+n+"'";i[r]||(i[r]=o(n))}}function o(e){return function(i){return function(e,i){var s=a(e);if(!s||e.getOption("disableInput"))return t.Pass;var o=r(s,"pairs"),u=o.indexOf(i);if(-1==u)return t.Pass;for(var f,d=r(s,"closeBefore"),p=r(s,"triples"),g=o.charAt(u+1)==i,m=e.listSelections(),y=u%2==0,v=0;v<m.length;v++){var b,w=m[v],_=w.head,S=e.getRange(_,n(_.line,_.ch+1));if(y&&!w.empty())b="surround";else if(!g&&y||S!=i)if(g&&_.ch>1&&p.indexOf(i)>=0&&e.getRange(n(_.line,_.ch-2),_)==i+i){if(_.ch>2&&/\bstring/.test(e.getTokenTypeAt(n(_.line,_.ch-2))))return t.Pass;b="addFour"}else if(g){var E=0==_.ch?" ":e.getRange(n(_.line,_.ch-1),_);if(t.isWordChar(S)||E==i||t.isWordChar(E))return t.Pass;b="both"}else{if(!y||!(0===S.length||/\s/.test(S)||d.indexOf(S)>-1))return t.Pass;b="both"}else b=g&&h(e,_)?"both":p.indexOf(i)>=0&&e.getRange(_,n(_.line,_.ch+3))==i+i+i?"skipThree":"skip";if(f){if(f!=b)return t.Pass}else f=b}var k=u%2?o.charAt(u-1):i,x=u%2?i:o.charAt(u+1);e.operation((function(){if("skip"==f)c(e,1);else if("skipThree"==f)c(e,3);else if("surround"==f){for(var t=e.getSelections(),n=0;n<t.length;n++)t[n]=k+t[n]+x;for(e.replaceSelections(t,"around"),t=e.listSelections().slice(),n=0;n<t.length;n++)t[n]=l(t[n]);e.setSelections(t)}else"both"==f?(e.replaceSelection(k+x,null),e.triggerElectric(k+x),c(e,-1)):"addFour"==f&&(e.replaceSelection(k+k+k+k,"before"),c(e,1))}))}(i,e)}}function a(t){var e=t.state.closeBrackets;return!e||e.override?e:t.getModeAt(t.getCursor()).closeBrackets||e}function c(t,e){for(var n=[],r=t.listSelections(),i=0,s=0;s<r.length;s++){var o=r[s];o.head==t.getCursor()&&(i=s);var a=o.head.ch||e>0?{line:o.head.line,ch:o.head.ch+e}:{line:o.head.line-1};n.push({anchor:a,head:a})}t.setSelections(n,i)}function l(e){var r=t.cmpPos(e.anchor,e.head)>0;return{anchor:new n(e.anchor.line,e.anchor.ch+(r?-1:1)),head:new n(e.head.line,e.head.ch+(r?1:-1))}}function u(t,e){var r=t.getRange(n(e.line,e.ch-1),n(e.line,e.ch+1));return 2==r.length?r:null}function h(t,e){var r=t.getTokenAt(n(e.line,e.ch+1));return/\bstring/.test(r.type)&&r.start==e.ch&&(0==e.ch||!/\bstring/.test(t.getTokenTypeAt(e)))}s(e.pairs+"`")}(n(237))},222:(t,e,n)=>{"use strict";var r=n(861).Buffer,i=n(340);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);for(var e,n,i=r.allocUnsafe(t>>>0),s=this.head,o=0;s;)e=i,n=o,s.data.copy(e,n),o+=s.data.length,s=s.next;return i},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},225:(t,e,n)=>{"use strict";var r=n(606);void 0===r||!r.version||0===r.version.indexOf("v0.")||0===r.version.indexOf("v1.")&&0!==r.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var s,o,a=arguments.length;switch(a){case 0:case 1:return r.nextTick(t);case 2:return r.nextTick((function(){t.call(null,e)}));case 3:return r.nextTick((function(){t.call(null,e,n)}));case 4:return r.nextTick((function(){t.call(null,e,n,i)}));default:for(s=new Array(a-1),o=0;o<s.length;)s[o++]=arguments[o];return r.nextTick((function(){t.apply(null,s)}))}}}:t.exports=r},228:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||t,o),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function o(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,s,o){var a=n?n+t:t;if(!this._events[a])return!1;var c,l,u=this._events[a],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,s),!0;case 6:return u.fn.call(u.context,e,r,i,s,o),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var f,d=u.length;for(l=0;l<d;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,r);break;case 4:u[l].fn.call(u[l].context,e,r,i);break;default:if(!c)for(f=1,c=new Array(h-1);f<h;f++)c[f-1]=arguments[f];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==e||i&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[s]=1===l.length?l[0]:l:o(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&o(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},236:(t,e,n)=>{!function(t){"use strict";t.defineMode("properties",(function(){return{token:function(t,e){var n=t.sol()||e.afterSection,r=t.eol();if(e.afterSection=!1,n&&(e.nextMultiline?(e.inMultiline=!0,e.nextMultiline=!1):e.position="def"),r&&!e.nextMultiline&&(e.inMultiline=!1,e.position="def"),n)for(;t.eatSpace(););var i=t.next();return!n||"#"!==i&&"!"!==i&&";"!==i?n&&"["===i?(e.afterSection=!0,t.skipTo("]"),t.eat("]"),"header"):"="===i||":"===i?(e.position="quote",null):("\\"===i&&"quote"===e.position&&t.eol()&&(e.nextMultiline=!0),e.position):(e.position="comment",t.skipToEnd(),"comment")},startState:function(){return{position:"def",nextMultiline:!1,inMultiline:!1,afterSection:!1}}}})),t.defineMIME("text/x-properties","properties"),t.defineMIME("text/x-ini","properties")}(n(237))},237:function(t){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),s=/Edge\/(\d+)/.exec(t),o=r||i||s,a=o&&(r?document.documentMode||6:+(s||i)[1]),c=!s&&/WebKit\//.test(t),l=c&&/Qt\/\d+\.\d+/.test(t),u=!s&&/Chrome\/(\d+)/.exec(t),h=u&&+u[1],f=/Opera\//.test(t),d=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),g=/PhantomJS/.test(t),m=d&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),y=/Android/.test(t),v=m||y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),b=m||/Mac/.test(e),w=/\bCrOS\b/.test(t),_=/win/i.test(e),S=f&&t.match(/Version\/(\d*\.\d*)/);S&&(S=Number(S[1])),S&&S>=15&&(f=!1,c=!0);var E=b&&(l||f&&(null==S||S<12.11)),k=n||o&&a>=9;function x(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var O,T=function(t,e){var n=t.className,r=x(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function L(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function C(t,e){return L(t).appendChild(e)}function A(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var s=0;s<e.length;++s)i.appendChild(e[s]);return i}function I(t,e,n,r){var i=A(t,e,n,r);return i.setAttribute("role","presentation"),i}function N(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function M(t){var e,n=t.ownerDocument||t;try{e=t.activeElement}catch(t){e=n.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function D(t,e){var n=t.className;x(e).test(n)||(t.className+=(n?" ":"")+e)}function R(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!x(n[r]).test(e)&&(e+=" "+n[r]);return e}O=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var B=function(t){t.select()};function P(t){return t.display.wrapper.ownerDocument}function j(t){return z(t.display.wrapper)}function z(t){return t.getRootNode?t.getRootNode():t.ownerDocument}function U(t){return P(t).defaultView}function F(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function W(t,e,n){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function H(t,e,n,r,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var s=r||0,o=i||0;;){var a=t.indexOf("\t",s);if(a<0||a>=e)return o+(e-s);o+=a-s,o+=n-o%n,s=a+1}}m?B=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:o&&(B=function(t){try{t.select()}catch(t){}});var $=function(){this.id=null,this.f=null,this.time=0,this.handler=F(this.onTimeout,this)};function q(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}$.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},$.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};var V={toString:function(){return"CodeMirror.Pass"}},G={scroll:!1},Y={origin:"*mouse"},K={origin:"+move"};function X(t,e,n){for(var r=0,i=0;;){var s=t.indexOf("\t",r);-1==s&&(s=t.length);var o=s-r;if(s==t.length||i+o>=e)return r+Math.min(o,e-i);if(i+=s-r,r=s+1,(i+=n-i%n)>=e)return r}}var J=[""];function Z(t){for(;J.length<=t;)J.push(Q(J)+" ");return J[t]}function Q(t){return t[t.length-1]}function tt(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function et(){}function nt(t,e){var n;return Object.create?n=Object.create(t):(et.prototype=t,n=new et),e&&W(e,n),n}var rt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function it(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||rt.test(t))}function st(t,e){return e?!!(e.source.indexOf("\\w")>-1&&it(t))||e.test(t):it(t)}function ot(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var at=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ct(t){return t.charCodeAt(0)>=768&&at.test(t)}function lt(t,e,n){for(;(n<0?e>0:e<t.length)&&ct(t.charAt(e));)e+=n;return e}function ut(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var i=(e+n)/2,s=r<0?Math.ceil(i):Math.floor(i);if(s==e)return t(s)?e:n;t(s)?n=s:e=s+r}}var ht=null;function ft(t,e,n){var r;ht=null;for(var i=0;i<t.length;++i){var s=t[i];if(s.from<e&&s.to>e)return i;s.to==e&&(s.from!=s.to&&"before"==n?r=i:ht=i),s.from==e&&(s.from!=s.to&&"before"!=n?r=i:ht=i)}return null!=r?r:ht}var dt=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function s(t,e,n){this.level=t,this.from=e,this.to=n}return function(o,a){var c,l="ltr"==a?"L":"R";if(0==o.length||"ltr"==a&&!t.test(o))return!1;for(var u=o.length,h=[],f=0;f<u;++f)h.push((c=o.charCodeAt(f))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var d=0,p=l;d<u;++d){var g=h[d];"m"==g?h[d]=p:p=g}for(var m=0,y=l;m<u;++m){var v=h[m];"1"==v&&"r"==y?h[m]="n":n.test(v)&&(y=v,"r"==v&&(h[m]="R"))}for(var b=1,w=h[0];b<u-1;++b){var _=h[b];"+"==_&&"1"==w&&"1"==h[b+1]?h[b]="1":","!=_||w!=h[b+1]||"1"!=w&&"n"!=w||(h[b]=w),w=_}for(var S=0;S<u;++S){var E=h[S];if(","==E)h[S]="N";else if("%"==E){var k=void 0;for(k=S+1;k<u&&"%"==h[k];++k);for(var x=S&&"!"==h[S-1]||k<u&&"1"==h[k]?"1":"N",O=S;O<k;++O)h[O]=x;S=k-1}}for(var T=0,L=l;T<u;++T){var C=h[T];"L"==L&&"1"==C?h[T]="L":n.test(C)&&(L=C)}for(var A=0;A<u;++A)if(e.test(h[A])){var I=void 0;for(I=A+1;I<u&&e.test(h[I]);++I);for(var N="L"==(A?h[A-1]:l),M=N==("L"==(I<u?h[I]:l))?N?"L":"R":l,D=A;D<I;++D)h[D]=M;A=I-1}for(var R,B=[],P=0;P<u;)if(r.test(h[P])){var j=P;for(++P;P<u&&r.test(h[P]);++P);B.push(new s(0,j,P))}else{var z=P,U=B.length,F="rtl"==a?1:0;for(++P;P<u&&"L"!=h[P];++P);for(var W=z;W<P;)if(i.test(h[W])){z<W&&(B.splice(U,0,new s(1,z,W)),U+=F);var H=W;for(++W;W<P&&i.test(h[W]);++W);B.splice(U,0,new s(2,H,W)),U+=F,z=W}else++W;z<P&&B.splice(U,0,new s(1,z,P))}return"ltr"==a&&(1==B[0].level&&(R=o.match(/^\s+/))&&(B[0].from=R[0].length,B.unshift(new s(0,0,R[0].length))),1==Q(B).level&&(R=o.match(/\s+$/))&&(Q(B).to-=R[0].length,B.push(new s(0,u-R[0].length,u)))),"rtl"==a?B.reverse():B}}();function pt(t,e){var n=t.order;return null==n&&(n=t.order=dt(t.text,e)),n}var gt=[],mt=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||gt).concat(n)}};function yt(t,e){return t._handlers&&t._handlers[e]||gt}function vt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,i=r&&r[e];if(i){var s=q(i,n);s>-1&&(r[e]=i.slice(0,s).concat(i.slice(s+1)))}}}function bt(t,e){var n=yt(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function wt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),bt(t,n||e.type,t,e),Ot(e)||e.codemirrorIgnore}function _t(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==q(n,e[r])&&n.push(e[r])}function St(t,e){return yt(t,e).length>0}function Et(t){t.prototype.on=function(t,e){mt(this,t,e)},t.prototype.off=function(t,e){vt(this,t,e)}}function kt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function xt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Ot(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Tt(t){kt(t),xt(t)}function Lt(t){return t.target||t.srcElement}function Ct(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),b&&t.ctrlKey&&1==e&&(e=3),e}var At,It,Nt=function(){if(o&&a<9)return!1;var t=A("div");return"draggable"in t||"dragDrop"in t}();function Mt(t){if(null==At){var e=A("span","​");C(t,A("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(At=e.offsetWidth<=1&&e.offsetHeight>2&&!(o&&a<8))}var n=At?A("span","​"):A("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Dt(t){if(null!=It)return It;var e=C(t,document.createTextNode("AخA")),n=O(e,0,1).getBoundingClientRect(),r=O(e,1,2).getBoundingClientRect();return L(t),!(!n||n.left==n.right)&&(It=r.right-n.right<3)}var Rt,Bt=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var s=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),o=s.indexOf("\r");-1!=o?(n.push(s.slice(0,o)),e+=o+1):(n.push(s),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Pt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},jt="oncopy"in(Rt=A("div"))||(Rt.setAttribute("oncopy","return;"),"function"==typeof Rt.oncopy),zt=null;var Ut={},Ft={};function Wt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ut[t]=e}function Ht(t){if("string"==typeof t&&Ft.hasOwnProperty(t))t=Ft[t];else if(t&&"string"==typeof t.name&&Ft.hasOwnProperty(t.name)){var e=Ft[t.name];"string"==typeof e&&(e={name:e}),(t=nt(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Ht("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Ht("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function $t(t,e){e=Ht(e);var n=Ut[e.name];if(!n)return $t(t,"text/plain");var r=n(t,e);if(qt.hasOwnProperty(e.name)){var i=qt[e.name];for(var s in i)i.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=i[s])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var o in e.modeProps)r[o]=e.modeProps[o];return r}var qt={};function Vt(t,e){W(e,qt.hasOwnProperty(t)?qt[t]:qt[t]={})}function Gt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Yt(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Kt(t,e,n){return!t.startState||t.startState(e,n)}var Xt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Jt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],s=i.chunkSize();if(e<s){n=i;break}e-=s}return n.lines[e]}function Zt(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,(function(t){var s=t.text;i==n.line&&(s=s.slice(0,n.ch)),i==e.line&&(s=s.slice(e.ch)),r.push(s),++i})),r}function Qt(t,e,n){var r=[];return t.iter(e,n,(function(t){r.push(t.text)})),r}function te(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function ee(t){if(null==t.parent)return null;for(var e=t.parent,n=q(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function ne(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],s=i.height;if(e<s){t=i;continue t}e-=s,n+=i.chunkSize()}return n}while(!t.lines);for(var o=0;o<t.lines.length;++o){var a=t.lines[o].height;if(e<a)break;e-=a}return n+o}function re(t,e){return e>=t.first&&e<t.first+t.size}function ie(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function se(t,e,n){if(void 0===n&&(n=null),!(this instanceof se))return new se(t,e,n);this.line=t,this.ch=e,this.sticky=n}function oe(t,e){return t.line-e.line||t.ch-e.ch}function ae(t,e){return t.sticky==e.sticky&&0==oe(t,e)}function ce(t){return se(t.line,t.ch)}function le(t,e){return oe(t,e)<0?e:t}function ue(t,e){return oe(t,e)<0?t:e}function he(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function fe(t,e){if(e.line<t.first)return se(t.first,0);var n=t.first+t.size-1;return e.line>n?se(n,Jt(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?se(t.line,e):n<0?se(t.line,0):t}(e,Jt(t,e.line).text.length)}function de(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=fe(t,e[r]);return n}Xt.prototype.eol=function(){return this.pos>=this.string.length},Xt.prototype.sol=function(){return this.pos==this.lineStart},Xt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Xt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Xt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Xt.prototype.skipToEnd=function(){this.pos=this.string.length},Xt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Xt.prototype.backUp=function(t){this.pos-=t},Xt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Xt.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Xt.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t};if(i(this.string.substr(this.pos,t.length))==i(t))return!1!==e&&(this.pos+=t.length),!0},Xt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Xt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Xt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var pe=function(t,e){this.state=t,this.lookAhead=e},ge=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function me(t,e,n,r){var i=[t.state.modeGen],s={};xe(t,e.text,t.doc.mode,n,(function(t,e){return i.push(t,e)}),s,r);for(var o=n.state,a=function(r){n.baseTokens=i;var a=t.state.overlays[r],c=1,l=0;n.state=!0,xe(t,e.text,a.mode,n,(function(t,e){for(var n=c;l<t;){var r=i[c];r>t&&i.splice(c,1,t,i[c+1],r),c+=2,l=Math.min(t,r)}if(e)if(a.opaque)i.splice(n,c-n,t,"overlay "+e),c=n+2;else for(;n<c;n+=2){var s=i[n+1];i[n+1]=(s?s+" ":"")+"overlay "+e}}),s),n.state=o,n.baseTokens=null,n.baseTokenPos=1},c=0;c<t.state.overlays.length;++c)a(c);return{styles:i,classes:s.bgClass||s.textClass?s:null}}function ye(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=ve(t,ee(e)),i=e.text.length>t.options.maxHighlightLength&&Gt(t.doc.mode,r.state),s=me(t,e,r);i&&(r.state=i),e.stateAfter=r.save(!i),e.styles=s.styles,s.classes?e.styleClasses=s.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function ve(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return new ge(r,!0,e);var s=function(t,e,n){for(var r,i,s=t.doc,o=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>o;--a){if(a<=s.first)return s.first;var c=Jt(s,a-1),l=c.stateAfter;if(l&&(!n||a+(l instanceof pe?l.lookAhead:0)<=s.modeFrontier))return a;var u=H(c.text,null,t.options.tabSize);(null==i||r>u)&&(i=a-1,r=u)}return i}(t,e,n),o=s>r.first&&Jt(r,s-1).stateAfter,a=o?ge.fromSaved(r,o,s):new ge(r,Kt(r.mode),s);return r.iter(s,e,(function(n){be(t,n.text,a);var r=a.line;n.stateAfter=r==e-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()})),n&&(r.modeFrontier=a.line),a}function be(t,e,n,r){var i=t.doc.mode,s=new Xt(e,t.options.tabSize,n);for(s.start=s.pos=r||0,""==e&&we(i,n.state);!s.eol();)_e(i,s,n.state),s.start=s.pos}function we(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Yt(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function _e(t,e,n,r){for(var i=0;i<10;i++){r&&(r[0]=Yt(t,n).mode);var s=t.token(e,n);if(e.pos>e.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}ge.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},ge.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},ge.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ge.fromSaved=function(t,e,n){return e instanceof pe?new ge(t,Gt(t.mode,e.state),n,e.lookAhead):new ge(t,Gt(t.mode,e),n)},ge.prototype.save=function(t){var e=!1!==t?Gt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pe(e,this.maxLookAhead):e};var Se=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function Ee(t,e,n,r){var i,s,o=t.doc,a=o.mode,c=Jt(o,(e=fe(o,e)).line),l=ve(t,e.line,n),u=new Xt(c.text,t.options.tabSize,l);for(r&&(s=[]);(r||u.pos<e.ch)&&!u.eol();)u.start=u.pos,i=_e(a,u,l.state),r&&s.push(new Se(u,i,Gt(o.mode,l.state)));return r?s:new Se(u,i,l.state)}function ke(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(e[r])||(e[r]+=" "+n[2])}return t}function xe(t,e,n,r,i,s,o){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var c,l=0,u=null,h=new Xt(e,t.options.tabSize,r),f=t.options.addModeClass&&[null];for(""==e&&ke(we(n,r.state),s);!h.eol();){if(h.pos>t.options.maxHighlightLength?(a=!1,o&&be(t,e,r,h.pos),h.pos=e.length,c=null):c=ke(_e(n,h,r.state,f),s),f){var d=f[0].name;d&&(c="m-"+(c?d+" "+c:d))}if(!a||u!=c){for(;l<h.start;)i(l=Math.min(h.start,l+5e3),u);u=c}h.start=h.pos}for(;l<h.pos;){var p=Math.min(h.pos,l+5e3);i(p,u),l=p}}var Oe=!1,Te=!1;function Le(t,e,n){this.marker=t,this.from=e,this.to=n}function Ce(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Ae(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function Ie(t,e){if(e.full)return null;var n=re(t,e.from.line)&&Jt(t,e.from.line).markedSpans,r=re(t,e.to.line)&&Jt(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,s=e.to.ch,o=0==oe(e.from,e.to),a=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var s=t[i],o=s.marker;if(null==s.from||(o.inclusiveLeft?s.from<=e:s.from<e)||s.from==e&&"bookmark"==o.type&&(!n||!s.marker.insertLeft)){var a=null==s.to||(o.inclusiveRight?s.to>=e:s.to>e);(r||(r=[])).push(new Le(o,s.from,a?null:s.to))}}return r}(n,i,o),c=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var s=t[i],o=s.marker;if(null==s.to||(o.inclusiveRight?s.to>=e:s.to>e)||s.from==e&&"bookmark"==o.type&&(!n||s.marker.insertLeft)){var a=null==s.from||(o.inclusiveLeft?s.from<=e:s.from<e);(r||(r=[])).push(new Le(o,a?null:s.from-e,null==s.to?null:s.to-e))}}return r}(r,s,o),l=1==e.text.length,u=Q(e.text).length+(l?i:0);if(a)for(var h=0;h<a.length;++h){var f=a[h];if(null==f.to){var d=Ce(c,f.marker);d?l&&(f.to=null==d.to?null:d.to+u):f.to=i}}if(c)for(var p=0;p<c.length;++p){var g=c[p];null!=g.to&&(g.to+=u),null==g.from?Ce(a,g.marker)||(g.from=u,l&&(a||(a=[])).push(g)):(g.from+=u,l&&(a||(a=[])).push(g))}a&&(a=Ne(a)),c&&c!=a&&(c=Ne(c));var m=[a];if(!l){var y,v=e.text.length-2;if(v>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(y||(y=[])).push(new Le(a[b].marker,null,null));for(var w=0;w<v;++w)m.push(y);m.push(c)}return m}function Ne(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Me(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function De(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Re(t){return t.inclusiveLeft?-1:0}function Be(t){return t.inclusiveRight?1:0}function Pe(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),s=oe(r.from,i.from)||Re(t)-Re(e);return s?-s:oe(r.to,i.to)||Be(t)-Be(e)||e.id-t.id}function je(t,e){var n,r=Te&&t.markedSpans;if(r)for(var i=void 0,s=0;s<r.length;++s)(i=r[s]).marker.collapsed&&null==(e?i.from:i.to)&&(!n||Pe(n,i.marker)<0)&&(n=i.marker);return n}function ze(t){return je(t,!0)}function Ue(t){return je(t,!1)}function Fe(t,e){var n,r=Te&&t.markedSpans;if(r)for(var i=0;i<r.length;++i){var s=r[i];s.marker.collapsed&&(null==s.from||s.from<e)&&(null==s.to||s.to>e)&&(!n||Pe(n,s.marker)<0)&&(n=s.marker)}return n}function We(t,e,n,r,i){var s=Jt(t,e),o=Te&&s.markedSpans;if(o)for(var a=0;a<o.length;++a){var c=o[a];if(c.marker.collapsed){var l=c.marker.find(0),u=oe(l.from,n)||Re(c.marker)-Re(i),h=oe(l.to,r)||Be(c.marker)-Be(i);if(!(u>=0&&h<=0||u<=0&&h>=0)&&(u<=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?oe(l.to,n)>=0:oe(l.to,n)>0)||u>=0&&(c.marker.inclusiveRight&&i.inclusiveLeft?oe(l.from,r)<=0:oe(l.from,r)<0)))return!0}}}function He(t){for(var e;e=ze(t);)t=e.find(-1,!0).line;return t}function $e(t,e){var n=Jt(t,e),r=He(n);return n==r?e:ee(r)}function qe(t,e){if(e>t.lastLine())return e;var n,r=Jt(t,e);if(!Ve(t,r))return e;for(;n=Ue(r);)r=n.find(1,!0).line;return ee(r)+1}function Ve(t,e){var n=Te&&e.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ge(t,e,r))return!0}}function Ge(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return Ge(t,r.line,Ce(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i=void 0,s=0;s<e.markedSpans.length;++s)if((i=e.markedSpans[s]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ge(t,e,i))return!0}function Ye(t){for(var e=0,n=(t=He(t)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var s=n.parent;s;s=(n=s).parent)for(var o=0;o<s.children.length;++o){var a=s.children[o];if(a==n)break;e+=a.height}return e}function Ke(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=ze(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=Ue(r);){var s=e.find(0,!0);n-=r.text.length-s.from.ch,n+=(r=s.to.line).text.length-s.to.ch}return n}function Xe(t){var e=t.display,n=t.doc;e.maxLine=Jt(n,n.first),e.maxLineLength=Ke(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=Ke(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}var Je=function(t,e,n){this.text=t,De(this,e),this.height=n?n(this):1};function Ze(t){t.parent=null,Me(t)}Je.prototype.lineNo=function(){return ee(this)},Et(Je);var Qe={},tn={};function en(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?tn:Qe;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function nn(t,e){var n=I("span",null,null,c?"padding-right: .1px":null),r={pre:I("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var s=i?e.rest[i-1]:e.line,o=void 0;r.pos=0,r.addToken=sn,Dt(t.display.measure)&&(o=pt(s,t.doc.direction))&&(r.addToken=on(r.addToken,o)),r.map=[],cn(s,r,ye(t,s,e!=t.display.externalMeasured&&ee(s))),s.styleClasses&&(s.styleClasses.bgClass&&(r.bgClass=R(s.styleClasses.bgClass,r.bgClass||"")),s.styleClasses.textClass&&(r.textClass=R(s.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Mt(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(c){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return bt(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=R(r.pre.className,r.textClass||"")),r}function rn(t){var e=A("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function sn(t,e,n,r,i,s,c){if(e){var l,u=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var s=t.charAt(i);" "!=s||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(s=" "),r+=s,n=" "==s}return r}(e,t.trailingSpace):e,h=t.cm.state.specialChars,f=!1;if(h.test(e)){l=document.createDocumentFragment();for(var d=0;;){h.lastIndex=d;var p=h.exec(e),g=p?p.index-d:e.length-d;if(g){var m=document.createTextNode(u.slice(d,d+g));o&&a<9?l.appendChild(A("span",[m])):l.appendChild(m),t.map.push(t.pos,t.pos+g,m),t.col+=g,t.pos+=g}if(!p)break;d+=g+1;var y=void 0;if("\t"==p[0]){var v=t.cm.options.tabSize,b=v-t.col%v;(y=l.appendChild(A("span",Z(b),"cm-tab"))).setAttribute("role","presentation"),y.setAttribute("cm-text","\t"),t.col+=b}else"\r"==p[0]||"\n"==p[0]?((y=l.appendChild(A("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((y=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),o&&a<9?l.appendChild(A("span",[y])):l.appendChild(y),t.col+=1);t.map.push(t.pos,t.pos+1,y),t.pos++}}else t.col+=e.length,l=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,l),o&&a<9&&(f=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),n||r||i||f||s||c){var w=n||"";r&&(w+=r),i&&(w+=i);var _=A("span",[l],w,s);if(c)for(var S in c)c.hasOwnProperty(S)&&"style"!=S&&"class"!=S&&_.setAttribute(S,c[S]);return t.content.appendChild(_)}t.content.appendChild(l)}}function on(t,e){return function(n,r,i,s,o,a,c){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,u=l+r.length;;){for(var h=void 0,f=0;f<e.length&&!((h=e[f]).to>l&&h.from<=l);f++);if(h.to>=u)return t(n,r,i,s,o,a,c);t(n,r.slice(0,h.to-l),i,s,null,a,c),s=null,r=r.slice(h.to-l),l=h.to}}}function an(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function cn(t,e,n){var r=t.markedSpans,i=t.text,s=0;if(r)for(var o,a,c,l,u,h,f,d=i.length,p=0,g=1,m="",y=0;;){if(y==p){c=l=u=a="",f=null,h=null,y=1/0;for(var v=[],b=void 0,w=0;w<r.length;++w){var _=r[w],S=_.marker;if("bookmark"==S.type&&_.from==p&&S.widgetNode)v.push(S);else if(_.from<=p&&(null==_.to||_.to>p||S.collapsed&&_.to==p&&_.from==p)){if(null!=_.to&&_.to!=p&&y>_.to&&(y=_.to,l=""),S.className&&(c+=" "+S.className),S.css&&(a=(a?a+";":"")+S.css),S.startStyle&&_.from==p&&(u+=" "+S.startStyle),S.endStyle&&_.to==y&&(b||(b=[])).push(S.endStyle,_.to),S.title&&((f||(f={})).title=S.title),S.attributes)for(var E in S.attributes)(f||(f={}))[E]=S.attributes[E];S.collapsed&&(!h||Pe(h.marker,S)<0)&&(h=_)}else _.from>p&&y>_.from&&(y=_.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==y&&(l+=" "+b[k]);if(!h||h.from==p)for(var x=0;x<v.length;++x)an(e,0,v[x]);if(h&&(h.from||0)==p){if(an(e,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=d)break;for(var O=Math.min(d,y);;){if(m){var T=p+m.length;if(!h){var L=T>O?m.slice(0,O-p):m;e.addToken(e,L,o?o+c:c,u,p+L.length==y?l:"",a,f)}if(T>=O){m=m.slice(O-p),p=O;break}p=T,u=""}m=i.slice(s,s=n[g++]),o=en(n[g++],e.cm.options)}}else for(var C=1;C<n.length;C+=2)e.addToken(e,i.slice(s,s=n[C]),en(n[C+1],e.cm.options))}function ln(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=Ue(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?ee(Q(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ve(t,e)}function un(t,e,n){for(var r,i=[],s=e;s<n;s=r){var o=new ln(t.doc,Jt(t.doc,s),s);r=s+o.size,i.push(o)}return i}var hn=null;var fn=null;function dn(t,e){var n=yt(t,e);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);hn?r=hn.delayedCallbacks:fn?r=fn:(r=fn=[],setTimeout(pn,0));for(var s=function(t){r.push((function(){return n[t].apply(null,i)}))},o=0;o<n.length;++o)s(o)}}function pn(){var t=fn;fn=null;for(var e=0;e<t.length;++e)t[e]()}function gn(t,e,n,r){for(var i=0;i<e.changes.length;i++){var s=e.changes[i];"text"==s?vn(t,e):"gutter"==s?wn(t,e,n,r):"class"==s?bn(t,e):"widget"==s&&_n(t,e,r)}e.changes=null}function mn(t){return t.node==t.text&&(t.node=A("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),o&&a<8&&(t.node.style.zIndex=2)),t.node}function yn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):nn(t,e)}function vn(t,e){var n=e.text.className,r=yn(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,bn(t,e)):n&&(e.text.className=n)}function bn(t,e){(function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var r=mn(e);e.background=r.insertBefore(A("div",null,n),r.firstChild),t.display.input.setUneditable(e.background)}})(t,e),e.line.wrapClass?mn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function wn(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=mn(e);e.gutterBackground=A("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var s=e.line.gutterMarkers;if(t.options.lineNumbers||s){var o=mn(e),a=e.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),t.display.input.setUneditable(a),o.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||s&&s["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(A("div",ie(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),s)for(var c=0;c<t.display.gutterSpecs.length;++c){var l=t.display.gutterSpecs[c].className,u=s.hasOwnProperty(l)&&s[l];u&&a.appendChild(A("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function _n(t,e,n){e.alignable&&(e.alignable=null);for(var r=x("CodeMirror-linewidget"),i=e.node.firstChild,s=void 0;i;i=s)s=i.nextSibling,r.test(i.className)&&e.node.removeChild(i);En(t,e,n)}function Sn(t,e,n,r){var i=yn(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),bn(t,e),wn(t,e,n,r),En(t,e,r),e.node}function En(t,e,n){if(kn(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)kn(t,e.rest[r],e,n,!1)}function kn(t,e,n,r,i){if(e.widgets)for(var s=mn(n),o=0,a=e.widgets;o<a.length;++o){var c=a[o],l=A("div",[c.node],"CodeMirror-linewidget"+(c.className?" "+c.className:""));c.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),xn(c,l,n,r),t.display.input.setUneditable(l),i&&c.above?s.insertBefore(l,n.gutter||n.text):s.appendChild(l),dn(c,"redraw")}}function xn(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function On(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!N(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),C(e.display.measure,A("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Tn(t,e){for(var n=Lt(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Ln(t){return t.lineSpace.offsetTop}function Cn(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function An(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=C(t.measure,A("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function In(t){return 50-t.display.nativeBarWidth}function Nn(t){return t.display.scroller.clientWidth-In(t)-t.display.barWidth}function Mn(t){return t.display.scroller.clientHeight-In(t)-t.display.barHeight}function Dn(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if(ee(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}}function Rn(t,e,n,r){return jn(t,Pn(t,e),n,r)}function Bn(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[gr(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Pn(t,e){var n=ee(e),r=Bn(t,n);r&&!r.text?r=null:r&&r.changes&&(gn(t,r,n,ur(t)),t.curOp.forceUpdate=!0),r||(r=function(t,e){var n=ee(e=He(e)),r=t.display.externalMeasured=new ln(t.doc,e,n);r.lineN=n;var i=r.built=nn(t,r);return r.text=i.pre,C(t.display.lineMeasure,i.pre),r}(t,e));var i=Dn(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function jn(t,e,n,r,i){e.before&&(n=-1);var s,c=n+(r||"");return e.cache.hasOwnProperty(c)?s=e.cache[c]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var r=t.options.lineWrapping,i=r&&Nn(t);if(!e.measure.heights||r&&e.measure.width!=i){var s=e.measure.heights=[];if(r){e.measure.width=i;for(var o=e.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var c=o[a],l=o[a+1];Math.abs(c.bottom-l.bottom)>2&&s.push((c.bottom+l.top)/2-n.top)}}s.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(s=function(t,e,n,r){var i,s=Fn(e.map,n,r),c=s.node,l=s.start,u=s.end,h=s.collapse;if(3==c.nodeType){for(var f=0;f<4;f++){for(;l&&ct(e.line.text.charAt(s.coverStart+l));)--l;for(;s.coverStart+u<s.coverEnd&&ct(e.line.text.charAt(s.coverStart+u));)++u;if((i=o&&a<9&&0==l&&u==s.coverEnd-s.coverStart?c.parentNode.getBoundingClientRect():Wn(O(c,l,u).getClientRects(),r)).left||i.right||0==l)break;u=l,l-=1,h="right"}o&&a<11&&(i=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=zt)return zt;var e=C(t,A("span","x")),n=e.getBoundingClientRect(),r=O(e,0,1).getBoundingClientRect();return zt=Math.abs(n.left-r.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}(t.display.measure,i))}else{var d;l>0&&(h=r="right"),i=t.options.lineWrapping&&(d=c.getClientRects()).length>1?d["right"==r?d.length-1:0]:c.getBoundingClientRect()}if(o&&a<9&&!l&&(!i||!i.left&&!i.right)){var p=c.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+lr(t.display),top:p.top,bottom:p.bottom}:Un}for(var g=i.top-e.rect.top,m=i.bottom-e.rect.top,y=(g+m)/2,v=e.view.measure.heights,b=0;b<v.length-1&&!(y<v[b]);b++);var w=b?v[b-1]:0,_=v[b],S={left:("right"==h?i.right:i.left)-e.rect.left,right:("left"==h?i.left:i.right)-e.rect.left,top:w,bottom:_};return i.left||i.right||(S.bogus=!0),t.options.singleCursorHeightPerLine||(S.rtop=g,S.rbottom=m),S}(t,e,n,r)).bogus||(e.cache[c]=s)),{left:s.left,right:s.right,top:i?s.rtop:s.top,bottom:i?s.rbottom:s.bottom}}var zn,Un={left:0,right:0,top:0,bottom:0};function Fn(t,e,n){for(var r,i,s,o,a,c,l=0;l<t.length;l+=3)if(a=t[l],c=t[l+1],e<a?(i=0,s=1,o="left"):e<c?s=1+(i=e-a):(l==t.length-3||e==c&&t[l+3]>e)&&(i=(s=c-a)-1,e>=c&&(o="right")),null!=i){if(r=t[l+2],a==c&&n==(r.insertLeft?"left":"right")&&(o=n),"left"==n&&0==i)for(;l&&t[l-2]==t[l-3]&&t[l-1].insertLeft;)r=t[2+(l-=3)],o="left";if("right"==n&&i==c-a)for(;l<t.length-3&&t[l+3]==t[l+4]&&!t[l+5].insertLeft;)r=t[(l+=3)+2],o="right";break}return{node:r,start:i,end:s,collapse:o,coverStart:a,coverEnd:c}}function Wn(t,e){var n=Un;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var i=t.length-1;i>=0&&(n=t[i]).left==n.right;i--);return n}function Hn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function $n(t){t.display.externalMeasure=null,L(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Hn(t.display.view[e])}function qn(t){$n(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Vn(t){return u&&y?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Gn(t){return u&&y?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function Yn(t){var e=He(t).widgets,n=0;if(e)for(var r=0;r<e.length;++r)e[r].above&&(n+=On(e[r]));return n}function Kn(t,e,n,r,i){if(!i){var s=Yn(e);n.top+=s,n.bottom+=s}if("line"==r)return n;r||(r="local");var o=Ye(e);if("local"==r?o+=Ln(t.display):o-=t.display.viewOffset,"page"==r||"window"==r){var a=t.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==r?0:Gn(P(t)));var c=a.left+("window"==r?0:Vn(P(t)));n.left+=c,n.right+=c}return n.top+=o,n.bottom+=o,n}function Xn(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=Vn(P(t)),i-=Gn(P(t));else if("local"==n||!n){var s=t.display.sizer.getBoundingClientRect();r+=s.left,i+=s.top}var o=t.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:i-o.top}}function Jn(t,e,n,r,i){return r||(r=Jt(t.doc,e.line)),Kn(t,r,Rn(t,r,e.ch,i),n)}function Zn(t,e,n,r,i,s){function o(e,o){var a=jn(t,i,e,o?"right":"left",s);return o?a.left=a.right:a.right=a.left,Kn(t,r,a,n)}r=r||Jt(t.doc,e.line),i||(i=Pn(t,r));var a=pt(r,t.doc.direction),c=e.ch,l=e.sticky;if(c>=r.text.length?(c=r.text.length,l="before"):c<=0&&(c=0,l="after"),!a)return o("before"==l?c-1:c,"before"==l);function u(t,e,n){return o(n?t-1:t,1==a[e].level!=n)}var h=ft(a,c,l),f=ht,d=u(c,h,"before"==l);return null!=f&&(d.other=u(c,f,"before"!=l)),d}function Qn(t,e){var n=0;e=fe(t.doc,e),t.options.lineWrapping||(n=lr(t.display)*e.ch);var r=Jt(t.doc,e.line),i=Ye(r)+Ln(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function tr(t,e,n,r,i){var s=se(t,e,n);return s.xRel=i,r&&(s.outside=r),s}function er(t,e,n){var r=t.doc;if((n+=t.display.viewOffset)<0)return tr(r.first,0,null,-1,-1);var i=ne(r,n),s=r.first+r.size-1;if(i>s)return tr(r.first+r.size-1,Jt(r,s).text.length,null,1,1);e<0&&(e=0);for(var o=Jt(r,i);;){var a=sr(t,o,i,e,n),c=Fe(o,a.ch+(a.xRel>0||a.outside>0?1:0));if(!c)return a;var l=c.find(1);if(l.line==i)return l;o=Jt(r,i=l.line)}}function nr(t,e,n,r){r-=Yn(e);var i=e.text.length,s=ut((function(e){return jn(t,n,e-1).bottom<=r}),i,0);return{begin:s,end:i=ut((function(e){return jn(t,n,e).top>r}),s,i)}}function rr(t,e,n,r){return n||(n=Pn(t,e)),nr(t,e,n,Kn(t,e,jn(t,n,r),"line").top)}function ir(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function sr(t,e,n,r,i){i-=Ye(e);var s=Pn(t,e),o=Yn(e),a=0,c=e.text.length,l=!0,u=pt(e,t.doc.direction);if(u){var h=(t.options.lineWrapping?ar:or)(t,e,n,s,u,r,i);a=(l=1!=h.level)?h.from:h.to-1,c=l?h.to:h.from-1}var f,d,p=null,g=null,m=ut((function(e){var n=jn(t,s,e);return n.top+=o,n.bottom+=o,!!ir(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=e,g=n),!0)}),a,c),y=!1;if(g){var v=r-g.left<g.right-r,b=v==l;m=p+(b?0:1),d=b?"after":"before",f=v?g.left:g.right}else{l||m!=c&&m!=a||m++,d=0==m?"after":m==e.text.length?"before":jn(t,s,m-(l?1:0)).bottom+o<=i==l?"after":"before";var w=Zn(t,se(n,m,d),"line",e,s);f=w.left,y=i<w.top?-1:i>=w.bottom?1:0}return tr(n,m=lt(e.text,m,1),d,y,r-f)}function or(t,e,n,r,i,s,o){var a=ut((function(a){var c=i[a],l=1!=c.level;return ir(Zn(t,se(n,l?c.to:c.from,l?"before":"after"),"line",e,r),s,o,!0)}),0,i.length-1),c=i[a];if(a>0){var l=1!=c.level,u=Zn(t,se(n,l?c.from:c.to,l?"after":"before"),"line",e,r);ir(u,s,o,!0)&&u.top>o&&(c=i[a-1])}return c}function ar(t,e,n,r,i,s,o){var a=nr(t,e,r,o),c=a.begin,l=a.end;/\s/.test(e.text.charAt(l-1))&&l--;for(var u=null,h=null,f=0;f<i.length;f++){var d=i[f];if(!(d.from>=l||d.to<=c)){var p=jn(t,r,1!=d.level?Math.min(l,d.to)-1:Math.max(c,d.from)).right,g=p<s?s-p+1e9:p-s;(!u||h>g)&&(u=d,h=g)}}return u||(u=i[i.length-1]),u.from<c&&(u={from:c,to:u.to,level:u.level}),u.to>l&&(u={from:u.from,to:l,level:u.level}),u}function cr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==zn){zn=A("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)zn.appendChild(document.createTextNode("x")),zn.appendChild(A("br"));zn.appendChild(document.createTextNode("x"))}C(t.measure,zn);var n=zn.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),L(t.measure),n||1}function lr(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=A("span","xxxxxxxxxx"),n=A("pre",[e],"CodeMirror-line-like");C(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function ur(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,s=e.gutters.firstChild,o=0;s;s=s.nextSibling,++o){var a=t.display.gutterSpecs[o].className;n[a]=s.offsetLeft+s.clientLeft+i,r[a]=s.clientWidth}return{fixedPos:hr(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function hr(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function fr(t){var e=cr(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/lr(t.display)-3);return function(i){if(Ve(t.doc,i))return 0;var s=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(s+=i.widgets[o].height);return n?s+(Math.ceil(i.text.length/r)||1)*e:s+e}}function dr(t){var e=t.doc,n=fr(t);e.iter((function(t){var e=n(t);e!=t.height&&te(t,e)}))}function pr(t,e,n,r){var i=t.display;if(!n&&"true"==Lt(e).getAttribute("cm-not-content"))return null;var s,o,a=i.lineSpace.getBoundingClientRect();try{s=e.clientX-a.left,o=e.clientY-a.top}catch(t){return null}var c,l=er(t,s,o);if(r&&l.xRel>0&&(c=Jt(t.doc,l.line).text).length==l.ch){var u=H(c,c.length,t.options.tabSize)-c.length;l=se(l.line,Math.max(0,Math.round((s-An(t.display).left)/lr(t.display))-u))}return l}function gr(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if((e-=n[r].size)<0)return r}function mr(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Te&&$e(t.doc,e)<i.viewTo&&vr(t);else if(n<=i.viewFrom)Te&&qe(t.doc,n+r)>i.viewFrom?vr(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)vr(t);else if(e<=i.viewFrom){var s=br(t,n,n+r,1);s?(i.view=i.view.slice(s.index),i.viewFrom=s.lineN,i.viewTo+=r):vr(t)}else if(n>=i.viewTo){var o=br(t,e,e,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):vr(t)}else{var a=br(t,e,e,-1),c=br(t,n,n+r,1);a&&c?(i.view=i.view.slice(0,a.index).concat(un(t,a.lineN,c.lineN)).concat(i.view.slice(c.index)),i.viewTo+=r):vr(t)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:e<l.lineN+l.size&&(i.externalMeasured=null))}function yr(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var s=r.view[gr(t,e)];if(null!=s.node){var o=s.changes||(s.changes=[]);-1==q(o,n)&&o.push(n)}}}function vr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function br(t,e,n,r){var i,s=gr(t,e),o=t.display.view;if(!Te||n==t.doc.first+t.doc.size)return{index:s,lineN:n};for(var a=t.display.viewFrom,c=0;c<s;c++)a+=o[c].size;if(a!=e){if(r>0){if(s==o.length-1)return null;i=a+o[s].size-e,s++}else i=a-e;e+=i,n+=i}for(;$e(t.doc,n)!=n;){if(s==(r<0?0:o.length-1))return null;n+=r*o[s-(r<0?1:0)].size,s+=r}return{index:s,lineN:n}}function wr(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function _r(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Sr(t,e){void 0===e&&(e=!0);var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),s=r.selection=document.createDocumentFragment(),o=t.options.$customCursor;o&&(e=!0);for(var a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var c=n.sel.ranges[a];if(!(c.from().line>=t.display.viewTo||c.to().line<t.display.viewFrom)){var l=c.empty();if(o){var u=o(t,c);u&&Er(t,u,i)}else(l||t.options.showCursorWhenSelecting)&&Er(t,c.head,i);l||xr(t,c,s)}}return r}function Er(t,e,n){var r=Zn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(A("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var s=Jn(t,e,"div",null,null),o=s.right-s.left;i.style.width=(o>0?o:t.defaultCharWidth())+"px"}if(r.other){var a=n.appendChild(A("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function kr(t,e){return t.top-e.top||t.left-e.left}function xr(t,e,n){var r=t.display,i=t.doc,s=document.createDocumentFragment(),o=An(t.display),a=o.left,c=Math.max(r.sizerWidth,Nn(t)-r.sizer.offsetLeft)-o.right,l="ltr"==i.direction;function u(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),s.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?c-t:n)+"px;\n                             height: "+(r-e)+"px"))}function h(e,n,r){var s,o,h=Jt(i,e),f=h.text.length;function d(n,r){return Jn(t,se(e,n),"div",h,r)}function p(e,n,r){var i=rr(t,h,null,e),s="ltr"==n==("after"==r)?"left":"right";return d("after"==r?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1),s)[s]}var g=pt(h,i.direction);return function(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var i=!1,s=0;s<t.length;++s){var o=t[s];(o.from<n&&o.to>e||e==n&&o.to==e)&&(r(Math.max(o.from,e),Math.min(o.to,n),1==o.level?"rtl":"ltr",s),i=!0)}i||r(e,n,"ltr")}(g,n||0,null==r?f:r,(function(t,e,i,h){var m="ltr"==i,y=d(t,m?"left":"right"),v=d(e-1,m?"right":"left"),b=null==n&&0==t,w=null==r&&e==f,_=0==h,S=!g||h==g.length-1;if(v.top-y.top<=3){var E=(l?w:b)&&S,k=(l?b:w)&&_?a:(m?y:v).left,x=E?c:(m?v:y).right;u(k,y.top,x-k,y.bottom)}else{var O,T,L,C;m?(O=l&&b&&_?a:y.left,T=l?c:p(t,i,"before"),L=l?a:p(e,i,"after"),C=l&&w&&S?c:v.right):(O=l?p(t,i,"before"):a,T=!l&&b&&_?c:y.right,L=!l&&w&&S?a:v.left,C=l?p(e,i,"after"):c),u(O,y.top,T-O,y.bottom),y.bottom<v.top&&u(a,y.bottom,null,v.top),u(L,v.top,C-L,v.bottom)}(!s||kr(y,s)<0)&&(s=y),kr(v,s)<0&&(s=v),(!o||kr(y,o)<0)&&(o=y),kr(v,o)<0&&(o=v)})),{start:s,end:o}}var f=e.from(),d=e.to();if(f.line==d.line)h(f.line,f.ch,d.ch);else{var p=Jt(i,f.line),g=Jt(i,d.line),m=He(p)==He(g),y=h(f.line,f.ch,m?p.text.length+1:null).end,v=h(d.line,m?0:null,d.ch).start;m&&(y.top<v.top-2?(u(y.right,y.top,null,y.bottom),u(a,v.top,v.left,v.bottom)):u(y.right,y.top,v.left-y.right,y.bottom)),y.bottom<v.top&&u(a,y.bottom,null,v.top)}n.appendChild(s)}function Or(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){t.hasFocus()||Ar(t),e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Tr(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Cr(t))}function Lr(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Ar(t))}),100)}function Cr(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(bt(t,"focus",t,e),t.state.focused=!0,D(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),c&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),Or(t))}function Ar(t,e){t.state.delayingBlurEvent||(t.state.focused&&(bt(t,"blur",t,e),t.state.focused=!1,T(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Ir(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=Math.max(0,e.scroller.getBoundingClientRect().top),i=e.lineDiv.getBoundingClientRect().top,s=0,c=0;c<e.view.length;c++){var l=e.view[c],u=t.options.lineWrapping,h=void 0,f=0;if(!l.hidden){if(i+=l.line.height,o&&a<8){var d=l.node.offsetTop+l.node.offsetHeight;h=d-n,n=d}else{var p=l.node.getBoundingClientRect();h=p.bottom-p.top,!u&&l.text.firstChild&&(f=l.text.firstChild.getBoundingClientRect().right-p.left-1)}var g=l.line.height-h;if((g>.005||g<-.005)&&(i<r&&(s-=g),te(l.line,h),Nr(l.line),l.rest))for(var m=0;m<l.rest.length;m++)Nr(l.rest[m]);if(f>t.display.sizerWidth){var y=Math.ceil(f/lr(t.display));y>t.display.maxLineLength&&(t.display.maxLineLength=y,t.display.maxLine=l.line,t.display.maxLineChanged=!0)}}}Math.abs(s)>2&&(e.scroller.scrollTop+=s)}function Nr(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Mr(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-Ln(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,s=ne(e,r),o=ne(e,i);if(n&&n.ensure){var a=n.ensure.from.line,c=n.ensure.to.line;a<s?(s=a,o=ne(e,Ye(Jt(e,a))+t.wrapper.clientHeight)):Math.min(c,e.lastLine())>=o&&(s=ne(e,Ye(Jt(e,c))-t.wrapper.clientHeight),o=c)}return{from:s,to:Math.max(o,s+1)}}function Dr(t,e){var n=t.display,r=cr(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,s=Mn(t),o={};e.bottom-e.top>s&&(e.bottom=e.top+s);var a=t.doc.height+Cn(n),c=e.top<r,l=e.bottom>a-r;if(e.top<i)o.scrollTop=c?0:e.top;else if(e.bottom>i+s){var u=Math.min(e.top,(l?a:e.bottom)-s);u!=i&&(o.scrollTop=u)}var h=t.options.fixedGutter?0:n.gutters.offsetWidth,f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft-h,d=Nn(t)-n.gutters.offsetWidth,p=e.right-e.left>d;return p&&(e.right=e.left+d),e.left<10?o.scrollLeft=0:e.left<f?o.scrollLeft=Math.max(0,e.left+h-(p?0:10)):e.right>d+f-3&&(o.scrollLeft=e.right+(p?0:10)-d),o}function Rr(t,e){null!=e&&(jr(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Br(t){jr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Pr(t,e,n){null==e&&null==n||jr(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function jr(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,zr(t,Qn(t,e.from),Qn(t,e.to),e.margin))}function zr(t,e,n,r){var i=Dr(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});Pr(t,i.scrollLeft,i.scrollTop)}function Ur(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||di(t,{top:e}),Fr(t,e,!0),n&&di(t),ci(t,100))}function Fr(t,e,n){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Wr(t,e,n,r){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,mi(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Hr(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+Cn(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+In(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var $r=function(t,e,n){this.cm=n;var r=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,t(r),t(i),mt(r,"scroll",(function(){r.clientHeight&&e(r.scrollTop,"vertical")})),mt(i,"scroll",(function(){i.clientWidth&&e(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,o&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};$r.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var s=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+s)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},$r.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},$r.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},$r.prototype.zeroWidthHack=function(){var t=b&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new $,this.disableVert=new $},$r.prototype.enableZeroWidthBar=function(t,e,n){t.style.visibility="",e.set(1e3,(function r(){var i=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=t?t.style.visibility="hidden":e.set(1e3,r)}))},$r.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var qr=function(){};function Vr(t,e){e||(e=Hr(t));var n=t.display.barWidth,r=t.display.barHeight;Gr(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&Ir(t),Gr(t,Hr(t)),n=t.display.barWidth,r=t.display.barHeight}function Gr(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}qr.prototype.update=function(){return{bottom:0,right:0}},qr.prototype.setScrollLeft=function(){},qr.prototype.setScrollTop=function(){},qr.prototype.clear=function(){};var Yr={native:$r,null:qr};function Kr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&T(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Yr[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),mt(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,n){"horizontal"==n?Wr(t,e):Ur(t,e)}),t),t.display.scrollbars.addClass&&D(t.display.wrapper,t.display.scrollbars.addClass)}var Xr=0;function Jr(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Xr,markArrays:null},e=t.curOp,hn?hn.ops.push(e):e.ownsGroup=hn={ops:[e],delayedCallbacks:[]}}function Zr(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}(n)}finally{hn=null,e(n)}}(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Qr(e[n]);for(var r=0;r<e.length;r++)ti(e[r]);for(var i=0;i<e.length;i++)ei(e[i]);for(var s=0;s<e.length;s++)ni(e[s]);for(var o=0;o<e.length;o++)ri(e[o])}(t)}))}function Qr(t){var e=t.cm,n=e.display;(function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=In(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=In(t)+"px",e.scrollbarsClipped=!0)})(e),t.updateMaxLine&&Xe(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new ui(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ti(t){t.updatedDisplay=t.mustUpdate&&hi(t.cm,t.update)}function ei(t){var e=t.cm,n=e.display;t.updatedDisplay&&Ir(e),t.barMeasure=Hr(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Rn(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+In(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Nn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function ni(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Wr(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==M(j(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Vr(e,t.barMeasure),t.updatedDisplay&&gi(e,t.barMeasure),t.selectionChanged&&Or(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Tr(t.cm)}function ri(t){var e=t.cm,n=e.display,r=e.doc;t.updatedDisplay&&fi(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Fr(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Wr(e,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,e){if(!wt(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null,s=n.wrapper.ownerDocument;if(e.top+r.top<0?i=!0:e.bottom+r.top>(s.defaultView.innerHeight||s.documentElement.clientHeight)&&(i=!1),null!=i&&!g){var o=A("div","​",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-Ln(t.display))+"px;\n                         height: "+(e.bottom-e.top+In(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}(e,function(t,e,n,r){var i;null==r&&(r=0),t.options.lineWrapping||e!=n||(n="before"==e.sticky?se(e.line,e.ch+1,"before"):e,e=e.ch?se(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e);for(var s=0;s<5;s++){var o=!1,a=Zn(t,e),c=n&&n!=e?Zn(t,n):a,l=Dr(t,i={left:Math.min(a.left,c.left),top:Math.min(a.top,c.top)-r,right:Math.max(a.left,c.left),bottom:Math.max(a.bottom,c.bottom)+r}),u=t.doc.scrollTop,h=t.doc.scrollLeft;if(null!=l.scrollTop&&(Ur(t,l.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(Wr(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-h)>1&&(o=!0)),!o)break}return i}(e,fe(r,t.scrollToPos.from),fe(r,t.scrollToPos.to),t.scrollToPos.margin));var i=t.maybeHiddenMarkers,s=t.maybeUnhiddenMarkers;if(i)for(var o=0;o<i.length;++o)i[o].lines.length||bt(i[o],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&bt(s[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&bt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function ii(t,e){if(t.curOp)return e();Jr(t);try{return e()}finally{Zr(t)}}function si(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Jr(t);try{return e.apply(t,arguments)}finally{Zr(t)}}}function oi(t){return function(){if(this.curOp)return t.apply(this,arguments);Jr(this);try{return t.apply(this,arguments)}finally{Zr(this)}}}function ai(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Jr(e);try{return t.apply(this,arguments)}finally{Zr(e)}}}function ci(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,F(li,t))}function li(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=ve(t,e.highlightFrontier),i=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(s){if(r.line>=t.display.viewFrom){var o=s.styles,a=s.text.length>t.options.maxHighlightLength?Gt(e.mode,r.state):null,c=me(t,s,r,!0);a&&(r.state=a),s.styles=c.styles;var l=s.styleClasses,u=c.classes;u?s.styleClasses=u:l&&(s.styleClasses=null);for(var h=!o||o.length!=s.styles.length||l!=u&&(!l||!u||l.bgClass!=u.bgClass||l.textClass!=u.textClass),f=0;!h&&f<o.length;++f)h=o[f]!=s.styles[f];h&&i.push(r.line),s.stateAfter=r.save(),r.nextLine()}else s.text.length<=t.options.maxHighlightLength&&be(t,s.text,r),s.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ci(t,t.options.workDelay),!0})),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),i.length&&ii(t,(function(){for(var e=0;e<i.length;e++)yr(t,i[e],"text")}))}}var ui=function(t,e,n){var r=t.display;this.viewport=e,this.visible=Mr(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Nn(t),this.force=n,this.dims=ur(t),this.events=[]};function hi(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return vr(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==wr(t))return!1;yi(t)&&(vr(t),e.dims=ur(t));var i=r.first+r.size,s=Math.max(e.visible.from-t.options.viewportMargin,r.first),o=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<s&&s-n.viewFrom<20&&(s=Math.max(r.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(i,n.viewTo)),Te&&(s=$e(t.doc,s),o=qe(t.doc,o));var a=s!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;(function(t,e,n){var r=t.display;0==r.view.length||e>=r.viewTo||n<=r.viewFrom?(r.view=un(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=un(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(gr(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(un(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,gr(t,n)))),r.viewTo=n})(t,s,o),n.viewOffset=Ye(Jt(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=wr(t);if(!a&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(t){if(t.hasFocus())return null;var e=M(j(t));if(!e||!N(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=U(t).getSelection();r.anchorNode&&r.extend&&N(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(t);return l>4&&(n.lineDiv.style.display="none"),function(t,e,n){var r=t.display,i=t.options.lineNumbers,s=r.lineDiv,o=s.firstChild;function a(e){var n=e.nextSibling;return c&&b&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var l=r.view,u=r.viewFrom,h=0;h<l.length;h++){var f=l[h];if(f.hidden);else if(f.node&&f.node.parentNode==s){for(;o!=f.node;)o=a(o);var d=i&&null!=e&&e<=u&&f.lineNumber;f.changes&&(q(f.changes,"gutter")>-1&&(d=!1),gn(t,f,u,n)),d&&(L(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(ie(t.options,u)))),o=f.node.nextSibling}else{var p=Sn(t,f,u,n);s.insertBefore(p,o)}u+=f.size}for(;o;)o=a(o)}(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=M(z(t.activeElt))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&N(document.body,t.anchorNode)&&N(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,n=e.defaultView.getSelection(),r=e.createRange();r.setEnd(t.anchorNode,t.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(t.focusNode,t.focusOffset)}}(u),L(n.cursorDiv),L(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,ci(t,400)),n.updateLineNumbers=null,!0}function fi(t,e){for(var n=e.viewport,r=!0;;r=!1){if(r&&t.options.lineWrapping&&e.oldDisplayWidth!=Nn(t))r&&(e.visible=Mr(t.display,t.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Cn(t.display)-Mn(t),n.top)}),e.visible=Mr(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!hi(t,e))break;Ir(t);var i=Hr(t);_r(t),Vr(t,i),gi(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function di(t,e){var n=new ui(t,e);if(hi(t,n)){Ir(t),fi(t,n);var r=Hr(t);_r(t),Vr(t,r),gi(t,r),n.finish()}}function pi(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",dn(t,"gutterChanged",t)}function gi(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+In(t)+"px"}function mi(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=hr(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,s=r+"px",o=0;o<n.length;o++)if(!n[o].hidden){t.options.fixedGutter&&(n[o].gutter&&(n[o].gutter.style.left=s),n[o].gutterBackground&&(n[o].gutterBackground.style.left=s));var a=n[o].alignable;if(a)for(var c=0;c<a.length;c++)a[c].style.left=s}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function yi(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=ie(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(A("div",[A("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=i.firstChild.offsetWidth,o=i.offsetWidth-s;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(s,r.lineGutter.offsetWidth-o)+1,r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",pi(t.display),!0}return!1}function vi(t,e){for(var n=[],r=!1,i=0;i<t.length;i++){var s=t[i],o=null;if("string"!=typeof s&&(o=s.style,s=s.className),"CodeMirror-linenumbers"==s){if(!e)continue;r=!0}n.push({className:s,style:o})}return e&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function bi(t){var e=t.gutters,n=t.gutterSpecs;L(e),t.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],s=i.className,o=i.style,a=e.appendChild(A("div",null,"CodeMirror-gutter "+s));o&&(a.style.cssText=o),"CodeMirror-linenumbers"==s&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",pi(t)}function wi(t){bi(t.display),mr(t),mi(t)}function _i(t,e,r,i){var s=this;this.input=r,s.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),s.scrollbarFiller.setAttribute("cm-not-content","true"),s.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),s.gutterFiller.setAttribute("cm-not-content","true"),s.lineDiv=I("div",null,"CodeMirror-code"),s.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),s.cursorDiv=A("div",null,"CodeMirror-cursors"),s.measure=A("div",null,"CodeMirror-measure"),s.lineMeasure=A("div",null,"CodeMirror-measure"),s.lineSpace=I("div",[s.measure,s.lineMeasure,s.selectionDiv,s.cursorDiv,s.lineDiv],null,"position: relative; outline: none");var l=I("div",[s.lineSpace],"CodeMirror-lines");s.mover=A("div",[l],null,"position: relative"),s.sizer=A("div",[s.mover],"CodeMirror-sizer"),s.sizerWidth=null,s.heightForcer=A("div",null,null,"position: absolute; height: 50px; width: 1px;"),s.gutters=A("div",null,"CodeMirror-gutters"),s.lineGutter=null,s.scroller=A("div",[s.sizer,s.heightForcer,s.gutters],"CodeMirror-scroll"),s.scroller.setAttribute("tabIndex","-1"),s.wrapper=A("div",[s.scrollbarFiller,s.gutterFiller,s.scroller],"CodeMirror"),u&&h>=105&&(s.wrapper.style.clipPath="inset(0px)"),s.wrapper.setAttribute("translate","no"),o&&a<8&&(s.gutters.style.zIndex=-1,s.scroller.style.paddingRight=0),c||n&&v||(s.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(s.wrapper):t(s.wrapper)),s.viewFrom=s.viewTo=e.first,s.reportedViewFrom=s.reportedViewTo=e.first,s.view=[],s.renderedView=null,s.externalMeasured=null,s.viewOffset=0,s.lastWrapHeight=s.lastWrapWidth=0,s.updateLineNumbers=null,s.nativeBarWidth=s.barHeight=s.barWidth=0,s.scrollbarsClipped=!1,s.lineNumWidth=s.lineNumInnerWidth=s.lineNumChars=null,s.alignWidgets=!1,s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.maxLine=null,s.maxLineLength=0,s.maxLineChanged=!1,s.wheelDX=s.wheelDY=s.wheelStartX=s.wheelStartY=null,s.shift=!1,s.selForContextMenu=null,s.activeTouch=null,s.gutterSpecs=vi(i.gutters,i.lineNumbers),bi(s),r.init(s)}ui.prototype.signal=function(t,e){St(t,e)&&this.events.push(arguments)},ui.prototype.finish=function(){for(var t=0;t<this.events.length;t++)bt.apply(null,this.events[t])};var Si=0,Ei=null;function ki(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function xi(t){var e=ki(t);return e.x*=Ei,e.y*=Ei,e}function Oi(t,e){u&&102==h&&(null==t.display.chromeScrollHack?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout((function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""}),100));var r=ki(e),i=r.x,s=r.y,o=Ei;0===e.deltaMode&&(i=e.deltaX,s=e.deltaY,o=1);var a=t.display,l=a.scroller,d=l.scrollWidth>l.clientWidth,p=l.scrollHeight>l.clientHeight;if(i&&d||s&&p){if(s&&b&&c)t:for(var g=e.target,m=a.view;g!=l;g=g.parentNode)for(var y=0;y<m.length;y++)if(m[y].node==g){t.display.currentWheelTarget=g;break t}if(i&&!n&&!f&&null!=o)return s&&p&&Ur(t,Math.max(0,l.scrollTop+s*o)),Wr(t,Math.max(0,l.scrollLeft+i*o)),(!s||s&&p)&&kt(e),void(a.wheelStartX=null);if(s&&null!=o){var v=s*o,w=t.doc.scrollTop,_=w+a.wrapper.clientHeight;v<0?w=Math.max(0,w+v-50):_=Math.min(t.doc.height,_+v+50),di(t,{top:w,bottom:_})}Si<20&&0!==e.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=l.scrollLeft,a.wheelStartY=l.scrollTop,a.wheelDX=i,a.wheelDY=s,setTimeout((function(){if(null!=a.wheelStartX){var t=l.scrollLeft-a.wheelStartX,e=l.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(Ei=(Ei*Si+n)/(Si+1),++Si)}}),200)):(a.wheelDX+=i,a.wheelDY+=s))}}o?Ei=-.53:n?Ei=15:u?Ei=-.7:d&&(Ei=-1/3);var Ti=function(t,e){this.ranges=t,this.primIndex=e};Ti.prototype.primary=function(){return this.ranges[this.primIndex]},Ti.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(!ae(n.anchor,r.anchor)||!ae(n.head,r.head))return!1}return!0},Ti.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Li(ce(this.ranges[e].anchor),ce(this.ranges[e].head));return new Ti(t,this.primIndex)},Ti.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Ti.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(oe(e,r.from())>=0&&oe(t,r.to())<=0)return n}return-1};var Li=function(t,e){this.anchor=t,this.head=e};function Ci(t,e,n){var r=t&&t.options.selectionsMayTouch,i=e[n];e.sort((function(t,e){return oe(t.from(),e.from())})),n=q(e,i);for(var s=1;s<e.length;s++){var o=e[s],a=e[s-1],c=oe(a.to(),o.from());if(r&&!o.empty()?c>0:c>=0){var l=ue(a.from(),o.from()),u=le(a.to(),o.to()),h=a.empty()?o.from()==o.head:a.from()==a.head;s<=n&&--n,e.splice(--s,2,new Li(h?u:l,h?l:u))}}return new Ti(e,n)}function Ai(t,e){return new Ti([new Li(t,e||t)],0)}function Ii(t){return t.text?se(t.from.line+t.text.length-1,Q(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Ni(t,e){if(oe(t,e.from)<0)return t;if(oe(t,e.to)<=0)return Ii(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Ii(e).ch-e.to.ch),se(n,r)}function Mi(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new Li(Ni(i.anchor,e),Ni(i.head,e)))}return Ci(t.cm,n,t.sel.primIndex)}function Di(t,e,n){return t.line==e.line?se(n.line,t.ch-e.ch+n.ch):se(n.line+(t.line-e.line),t.ch)}function Ri(t){t.doc.mode=$t(t.options,t.doc.modeOption),Bi(t)}function Bi(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ci(t,100),t.state.modeGen++,t.curOp&&mr(t)}function Pi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Q(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function ji(t,e,n,r){function i(t){return n?n[t]:null}function s(t,n,i){(function(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Me(t),De(t,n);var i=r?r(t):1;i!=t.height&&te(t,i)})(t,n,i,r),dn(t,"change",t,e)}function o(t,e){for(var n=[],s=t;s<e;++s)n.push(new Je(l[s],i(s),r));return n}var a=e.from,c=e.to,l=e.text,u=Jt(t,a.line),h=Jt(t,c.line),f=Q(l),d=i(l.length-1),p=c.line-a.line;if(e.full)t.insert(0,o(0,l.length)),t.remove(l.length,t.size-l.length);else if(Pi(t,e)){var g=o(0,l.length-1);s(h,h.text,d),p&&t.remove(a.line,p),g.length&&t.insert(a.line,g)}else if(u==h)if(1==l.length)s(u,u.text.slice(0,a.ch)+f+u.text.slice(c.ch),d);else{var m=o(1,l.length-1);m.push(new Je(f+u.text.slice(c.ch),d,r)),s(u,u.text.slice(0,a.ch)+l[0],i(0)),t.insert(a.line+1,m)}else if(1==l.length)s(u,u.text.slice(0,a.ch)+l[0]+h.text.slice(c.ch),i(0)),t.remove(a.line+1,p);else{s(u,u.text.slice(0,a.ch)+l[0],i(0)),s(h,f+h.text.slice(c.ch),d);var y=o(1,l.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,y)}dn(t,"change",t,e)}function zi(t,e,n){!function t(r,i,s){if(r.linked)for(var o=0;o<r.linked.length;++o){var a=r.linked[o];if(a.doc!=i){var c=s&&a.sharedHist;n&&!c||(e(a.doc,c),t(a.doc,r,c))}}}(t,null,!0)}function Ui(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,dr(t),Ri(t),Fi(t),t.options.direction=e.direction,t.options.lineWrapping||Xe(t),t.options.mode=e.modeOption,mr(t)}function Fi(t){("rtl"==t.doc.direction?D:T)(t.display.lineDiv,"CodeMirror-rtl")}function Wi(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Hi(t,e){var n={from:ce(e.from),to:Ii(e),text:Zt(t,e.from,e.to)};return Yi(t,n,e.from.line,e.to.line+1),zi(t,(function(t){return Yi(t,n,e.from.line,e.to.line+1)}),!0),n}function $i(t){for(;t.length&&Q(t).ranges;)t.pop()}function qi(t,e,n,r){var i=t.history;i.undone.length=0;var s,o,a=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(s=function(t,e){return e?($i(t.done),Q(t.done)):t.done.length&&!Q(t.done).ranges?Q(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Q(t.done)):void 0}(i,i.lastOp==r)))o=Q(s.changes),0==oe(e.from,e.to)&&0==oe(e.from,o.to)?o.to=Ii(e):s.changes.push(Hi(t,e));else{var c=Q(i.done);for(c&&c.ranges||Gi(t.sel,i.done),s={changes:[Hi(t,e)],generation:i.generation},i.done.push(s);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,o||bt(t,"historyAdded")}function Vi(t,e,n,r){var i=t.history,s=r&&r.origin;n==i.lastSelOp||s&&i.lastSelOrigin==s&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==s||function(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,s,Q(i.done),e))?i.done[i.done.length-1]=e:Gi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=s,i.lastSelOp=n,r&&!1!==r.clearRedo&&$i(i.undone)}function Gi(t,e){var n=Q(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Yi(t,e,n,r){var i=e["spans_"+t.id],s=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),(function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[s]=n.markedSpans),++s}))}function Ki(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Xi(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],i=0;i<e.text.length;++i)r.push(Ki(n[i]));return r}(t,e),r=Ie(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var s=n[i],o=r[i];if(s&&o)t:for(var a=0;a<o.length;++a){for(var c=o[a],l=0;l<s.length;++l)if(s[l].marker==c.marker)continue t;s.push(c)}else o&&(n[i]=o)}return n}function Ji(t,e,n){for(var r=[],i=0;i<t.length;++i){var s=t[i];if(s.ranges)r.push(n?Ti.prototype.deepCopy.call(s):s);else{var o=s.changes,a=[];r.push({changes:a});for(var c=0;c<o.length;++c){var l=o[c],u=void 0;if(a.push({from:l.from,to:l.to,text:l.text}),e)for(var h in l)(u=h.match(/^spans_(\d+)$/))&&q(e,Number(u[1]))>-1&&(Q(a)[h]=l[h],delete l[h])}}}return r}function Zi(t,e,n,r){if(r){var i=t.anchor;if(n){var s=oe(e,i)<0;s!=oe(n,i)<0?(i=e,e=n):s!=oe(e,n)<0&&(e=n)}return new Li(i,e)}return new Li(n||e,e)}function Qi(t,e,n,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),is(t,new Ti([Zi(t.sel.primary(),e,n,i)],0),r)}function ts(t,e,n){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),s=0;s<t.sel.ranges.length;s++)r[s]=Zi(t.sel.ranges[s],e[s],null,i);is(t,Ci(t.cm,r,t.sel.primIndex),n)}function es(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,is(t,Ci(t.cm,i,t.sel.primIndex),r)}function ns(t,e,n,r){is(t,Ai(e,n),r)}function rs(t,e,n){var r=t.history.done,i=Q(r);i&&i.ranges?(r[r.length-1]=e,ss(t,e,n)):is(t,e,n)}function is(t,e,n){ss(t,e,n),Vi(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function ss(t,e,n){(St(t,"beforeSelectionChange")||t.cm&&St(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new Li(fe(t,e[n].anchor),fe(t,e[n].head))},origin:n&&n.origin};return bt(t,"beforeSelectionChange",t,r),t.cm&&bt(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?Ci(t.cm,r.ranges,r.ranges.length-1):e}(t,e,n));var r=n&&n.bias||(oe(e.primary().head,t.sel.primary().head)<0?-1:1);os(t,cs(t,e,r,!0)),n&&!1===n.scroll||!t.cm||"nocursor"==t.cm.getOption("readOnly")||Br(t.cm)}function os(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,_t(t.cm)),dn(t,"cursorActivity",t))}function as(t){os(t,cs(t,t.sel,null,!1))}function cs(t,e,n,r){for(var i,s=0;s<e.ranges.length;s++){var o=e.ranges[s],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[s],c=us(t,o.anchor,a&&a.anchor,n,r),l=o.head==o.anchor?c:us(t,o.head,a&&a.head,n,r);(i||c!=o.anchor||l!=o.head)&&(i||(i=e.ranges.slice(0,s)),i[s]=new Li(c,l))}return i?Ci(t.cm,i,e.primIndex):e}function ls(t,e,n,r,i){var s=Jt(t,e.line);if(s.markedSpans)for(var o=0;o<s.markedSpans.length;++o){var a=s.markedSpans[o],c=a.marker,l="selectLeft"in c?!c.selectLeft:c.inclusiveLeft,u="selectRight"in c?!c.selectRight:c.inclusiveRight;if((null==a.from||(l?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(u?a.to>=e.ch:a.to>e.ch))){if(i&&(bt(c,"beforeCursorEnter"),c.explicitlyCleared)){if(s.markedSpans){--o;continue}break}if(!c.atomic)continue;if(n){var h=c.find(r<0?1:-1),f=void 0;if((r<0?u:l)&&(h=hs(t,h,-r,h&&h.line==e.line?s:null)),h&&h.line==e.line&&(f=oe(h,n))&&(r<0?f<0:f>0))return ls(t,h,e,r,i)}var d=c.find(r<0?-1:1);return(r<0?l:u)&&(d=hs(t,d,r,d.line==e.line?s:null)),d?ls(t,d,e,r,i):null}}return e}function us(t,e,n,r,i){var s=r||1;return ls(t,e,n,s,i)||!i&&ls(t,e,n,s,!0)||ls(t,e,n,-s,i)||!i&&ls(t,e,n,-s,!0)||(t.cantEdit=!0,se(t.first,0))}function hs(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?fe(t,se(e.line-1)):null:n>0&&e.ch==(r||Jt(t,e.line)).text.length?e.line<t.first+t.size-1?se(e.line+1,0):null:new se(e.line,e.ch+n)}function fs(t){t.setSelection(se(t.firstLine(),0),se(t.lastLine()),G)}function ds(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,i,s){e&&(r.from=fe(t,e)),n&&(r.to=fe(t,n)),i&&(r.text=i),void 0!==s&&(r.origin=s)}),bt(t,"beforeChange",t,r),t.cm&&bt(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ps(t,e,n){if(t.cm){if(!t.cm.curOp)return si(t.cm,ps)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(St(t,"beforeChange")||t.cm&&St(t.cm,"beforeChange"))||(e=ds(t,e,!0))){var r=Oe&&!n&&function(t,e,n){var r=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=q(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:e,to:n}],s=0;s<r.length;++s)for(var o=r[s],a=o.find(0),c=0;c<i.length;++c){var l=i[c];if(!(oe(l.to,a.from)<0||oe(l.from,a.to)>0)){var u=[c,1],h=oe(l.from,a.from),f=oe(l.to,a.to);(h<0||!o.inclusiveLeft&&!h)&&u.push({from:l.from,to:a.from}),(f>0||!o.inclusiveRight&&!f)&&u.push({from:a.to,to:l.to}),i.splice.apply(i,u),c+=u.length-3}}return i}(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)gs(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text,origin:e.origin});else gs(t,e)}}function gs(t,e){if(1!=e.text.length||""!=e.text[0]||0!=oe(e.from,e.to)){var n=Mi(t,e);qi(t,e,n,t.cm?t.cm.curOp.id:NaN),vs(t,e,n,Ie(t,e));var r=[];zi(t,(function(t,n){n||-1!=q(r,t.history)||(Ss(t.history,e),r.push(t.history)),vs(t,e,null,Ie(t,e))}))}}function ms(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var i,s=t.history,o=t.sel,a="undo"==e?s.done:s.undone,c="undo"==e?s.undone:s.done,l=0;l<a.length&&(i=a[l],n?!i.ranges||i.equals(t.sel):i.ranges);l++);if(l!=a.length){for(s.lastOrigin=s.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(r)return void a.push(i);break}if(Gi(i,c),n&&!i.equals(t.sel))return void is(t,i,{clearRedo:!1});o=i}var u=[];Gi(o,c),c.push({changes:u,generation:s.generation}),s.generation=i.generation||++s.maxGeneration;for(var h=St(t,"beforeChange")||t.cm&&St(t.cm,"beforeChange"),f=function(n){var r=i.changes[n];if(r.origin=e,h&&!ds(t,r,!1))return a.length=0,{};u.push(Hi(t,r));var s=n?Mi(t,r):Q(a);vs(t,r,s,Xi(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:Ii(r)});var o=[];zi(t,(function(t,e){e||-1!=q(o,t.history)||(Ss(t.history,r),o.push(t.history)),vs(t,r,null,Xi(t,r))}))},d=i.changes.length-1;d>=0;--d){var p=f(d);if(p)return p.v}}}}function ys(t,e){if(0!=e&&(t.first+=e,t.sel=new Ti(tt(t.sel.ranges,(function(t){return new Li(se(t.anchor.line+e,t.anchor.ch),se(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){mr(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)yr(t.cm,r,"gutter")}}function vs(t,e,n,r){if(t.cm&&!t.cm.curOp)return si(t.cm,vs)(t,e,n,r);if(e.to.line<t.first)ys(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);ys(t,i),e={from:se(t.first,0),to:se(e.to.line+i,e.to.ch),text:[Q(e.text)],origin:e.origin}}var s=t.lastLine();e.to.line>s&&(e={from:e.from,to:se(s,Jt(t,s).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Zt(t,e.from,e.to),n||(n=Mi(t,e)),t.cm?function(t,e,n){var r=t.doc,i=t.display,s=e.from,o=e.to,a=!1,c=s.line;t.options.lineWrapping||(c=ee(He(Jt(r,s.line))),r.iter(c,o.line+1,(function(t){if(t==i.maxLine)return a=!0,!0}))),r.sel.contains(e.from,e.to)>-1&&_t(t),ji(r,e,n,fr(t)),t.options.lineWrapping||(r.iter(c,s.line+e.text.length,(function(t){var e=Ke(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var i=Jt(t,r).stateAfter;if(i&&(!(i instanceof pe)||r+i.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(r,s.line),ci(t,400);var l=e.text.length-(o.line-s.line)-1;e.full?mr(t):s.line!=o.line||1!=e.text.length||Pi(t.doc,e)?mr(t,s.line,o.line+1,l):yr(t,s.line,"text");var u=St(t,"changes"),h=St(t,"change");if(h||u){var f={from:s,to:o,text:e.text,removed:e.removed,origin:e.origin};h&&dn(t,"change",t,f),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(f)}t.display.selForContextMenu=null}(t.cm,e,r):ji(t,e,r),ss(t,n,G),t.cantEdit&&us(t,se(t.firstLine(),0))&&(t.cantEdit=!1)}}function bs(t,e,n,r,i){var s;r||(r=n),oe(r,n)<0&&(n=(s=[r,n])[0],r=s[1]),"string"==typeof e&&(e=t.splitLines(e)),ps(t,{from:n,to:r,text:e,origin:i})}function ws(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function _s(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i],o=!0;if(s.ranges){s.copied||((s=t[i]=s.deepCopy()).copied=!0);for(var a=0;a<s.ranges.length;a++)ws(s.ranges[a].anchor,e,n,r),ws(s.ranges[a].head,e,n,r)}else{for(var c=0;c<s.changes.length;++c){var l=s.changes[c];if(n<l.from.line)l.from=se(l.from.line+r,l.from.ch),l.to=se(l.to.line+r,l.to.ch);else if(e<=l.to.line){o=!1;break}}o||(t.splice(0,i+1),i=0)}}}function Ss(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;_s(t.done,n,r,i),_s(t.undone,n,r,i)}function Es(t,e,n,r){var i=e,s=e;return"number"==typeof e?s=Jt(t,he(t,e)):i=ee(e),null==i?null:(r(s,i)&&t.cm&&yr(t.cm,i,n),s)}function ks(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function xs(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}Li.prototype.from=function(){return ue(this.anchor,this.head)},Li.prototype.to=function(){return le(this.anchor,this.head)},Li.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ks.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,Ze(i),dn(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},xs.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var s=Math.min(e,i-t),o=r.height;if(r.removeInner(t,s),this.height-=o-r.height,i==s&&(this.children.splice(n--,1),r.parent=null),0==(e-=s))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof ks))){var a=[];this.collapse(a),this.children=[new ks(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],s=i.chunkSize();if(t<=s){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(var o=i.lines.length%25+25,a=o;a<i.lines.length;){var c=new ks(i.lines.slice(a,a+=25));i.height-=c.height,this.children.splice(++r,0,c),c.parent=this}i.lines=i.lines.slice(0,o),this.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new xs(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=q(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var r=new xs(t.children);r.parent=t,t.children=[r,e],t=r}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],s=i.chunkSize();if(t<s){var o=Math.min(e,s-t);if(i.iterN(t,o,n))return!0;if(0==(e-=o))break;t=0}else t-=s}}};var Os=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};function Ts(t,e,n){Ye(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Rr(t,n)}Os.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=ee(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var s=On(this);te(n,Math.max(0,n.height-s)),t&&(ii(t,(function(){Ts(t,n,-s),yr(t,r,"widget")})),dn(t,"lineWidgetCleared",t,this,r))}},Os.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=On(this)-e;i&&(Ve(this.doc,r)||te(r,r.height+i),n&&ii(n,(function(){n.curOp.forceUpdate=!0,Ts(n,r,i),dn(n,"lineWidgetChanged",n,t,ee(r))})))},Et(Os);var Ls=0,Cs=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Ls};function As(t,e,n,r,i){if(r&&r.shared)return function(t,e,n,r,i){(r=W(r)).shared=!1;var s=[As(t,e,n,r,i)],o=s[0],a=r.widgetNode;return zi(t,(function(t){a&&(r.widgetNode=a.cloneNode(!0)),s.push(As(t,fe(t,e),fe(t,n),r,i));for(var c=0;c<t.linked.length;++c)if(t.linked[c].isParent)return;o=Q(s)})),new Is(s,o)}(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return si(t.cm,As)(t,e,n,r,i);var s=new Cs(t,i),o=oe(e,n);if(r&&W(r,s,!1),o>0||0==o&&!1!==s.clearWhenEmpty)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=I("span",[s.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(We(t,e.line,e,n,s)||e.line!=n.line&&We(t,n.line,e,n,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");Te=!0}s.addToHistory&&qi(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,c=e.line,l=t.cm;if(t.iter(c,n.line+1,(function(r){l&&s.collapsed&&!l.options.lineWrapping&&He(r)==l.display.maxLine&&(a=!0),s.collapsed&&c!=e.line&&te(r,0),function(t,e,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&t.markedSpans&&r.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],r&&r.add(t.markedSpans)),e.marker.attachLine(t)}(r,new Le(s,c==e.line?e.ch:null,c==n.line?n.ch:null),t.cm&&t.cm.curOp),++c})),s.collapsed&&t.iter(e.line,n.line+1,(function(e){Ve(t,e)&&te(e,0)})),s.clearOnEnter&&mt(s,"beforeCursorEnter",(function(){return s.clear()})),s.readOnly&&(Oe=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),s.collapsed&&(s.id=++Ls,s.atomic=!0),l){if(a&&(l.curOp.updateMaxLine=!0),s.collapsed)mr(l,e.line,n.line+1);else if(s.className||s.startStyle||s.endStyle||s.css||s.attributes||s.title)for(var u=e.line;u<=n.line;u++)yr(l,u,"text");s.atomic&&as(l.doc),dn(l,"markerAdded",l,s)}return s}Cs.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Jr(t),St(this,"clear")){var n=this.find();n&&dn(this,"clear",n.from,n.to)}for(var r=null,i=null,s=0;s<this.lines.length;++s){var o=this.lines[s],a=Ce(o.markedSpans,this);t&&!this.collapsed?yr(t,ee(o),"text"):t&&(null!=a.to&&(i=ee(o)),null!=a.from&&(r=ee(o))),o.markedSpans=Ae(o.markedSpans,a),null==a.from&&this.collapsed&&!Ve(this.doc,o)&&t&&te(o,cr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var c=0;c<this.lines.length;++c){var l=He(this.lines[c]),u=Ke(l);u>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&mr(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&as(t.doc)),t&&dn(t,"markerCleared",t,this,r,i),e&&Zr(t),this.parent&&this.parent.clear()}},Cs.prototype.find=function(t,e){var n,r;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var s=this.lines[i],o=Ce(s.markedSpans,this);if(null!=o.from&&(n=se(e?s:ee(s),o.from),-1==t))return n;if(null!=o.to&&(r=se(e?s:ee(s),o.to),1==t))return r}return n&&{from:n,to:r}},Cs.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&ii(r,(function(){var i=e.line,s=ee(e.line),o=Bn(r,s);if(o&&(Hn(o),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Ve(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var c=On(n)-a;c&&te(i,i.height+c)}dn(r,"markerChanged",r,t)}))},Cs.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=q(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Cs.prototype.detachLine=function(t){if(this.lines.splice(q(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},Et(Cs);var Is=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function Ns(t){return t.findMarks(se(t.first,0),t.clipPos(se(t.lastLine())),(function(t){return t.parent}))}function Ms(t){for(var e=function(e){var n=t[e],r=[n.primary.doc];zi(n.primary.doc,(function(t){return r.push(t)}));for(var i=0;i<n.markers.length;i++){var s=n.markers[i];-1==q(r,s.doc)&&(s.parent=null,n.markers.splice(i--,1))}},n=0;n<t.length;n++)e(n)}Is.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();dn(this,"clear")}},Is.prototype.find=function(t,e){return this.primary.find(t,e)},Et(Is);var Ds=0,Rs=function(t,e,n,r,i){if(!(this instanceof Rs))return new Rs(t,e,n,r,i);null==n&&(n=0),xs.call(this,[new ks([new Je("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var s=se(n,0);this.sel=Ai(s),this.history=new Wi(null),this.id=++Ds,this.modeOption=e,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),ji(this,{from:s,to:s,text:t}),is(this,Ai(s),G)};Rs.prototype=nt(xs.prototype,{constructor:Rs,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Qt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:ai((function(t){var e=se(this.first,0),n=this.first+this.size-1;ps(this,{from:e,to:se(n,Jt(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Pr(this.cm,0,0),is(this,Ai(e),G)})),replaceRange:function(t,e,n,r){bs(this,t,e=fe(this,e),n=n?fe(this,n):e,r)},getRange:function(t,e,n){var r=Zt(this,fe(this,t),fe(this,e));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(re(this,t))return Jt(this,t)},getLineNumber:function(t){return ee(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Jt(this,t)),He(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return fe(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ai((function(t,e,n){ns(this,fe(this,"number"==typeof t?se(t,e||0):t),null,n)})),setSelection:ai((function(t,e,n){ns(this,fe(this,t),fe(this,e||t),n)})),extendSelection:ai((function(t,e,n){Qi(this,fe(this,t),e&&fe(this,e),n)})),extendSelections:ai((function(t,e){ts(this,de(this,t),e)})),extendSelectionsBy:ai((function(t,e){ts(this,de(this,tt(this.sel.ranges,t)),e)})),setSelections:ai((function(t,e,n){if(t.length){for(var r=[],i=0;i<t.length;i++)r[i]=new Li(fe(this,t[i].anchor),fe(this,t[i].head||t[i].anchor));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),is(this,Ci(this.cm,r,e),n)}})),addSelection:ai((function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new Li(fe(this,t),fe(this,e||t))),is(this,Ci(this.cm,r,r.length-1),n)})),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=Zt(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Zt(this,n[r].from(),n[r].to());!1!==t&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:ai((function(t,e,n){for(var r=[],i=this.sel,s=0;s<i.ranges.length;s++){var o=i.ranges[s];r[s]={from:o.from(),to:o.to(),text:this.splitLines(t[s]),origin:n}}for(var a=e&&"end"!=e&&function(t,e,n){for(var r=[],i=se(t.first,0),s=i,o=0;o<e.length;o++){var a=e[o],c=Di(a.from,i,s),l=Di(Ii(a),i,s);if(i=a.to,s=l,"around"==n){var u=t.sel.ranges[o],h=oe(u.head,u.anchor)<0;r[o]=new Li(h?l:c,h?c:l)}else r[o]=new Li(c,c)}return new Ti(r,t.sel.primIndex)}(this,r,e),c=r.length-1;c>=0;c--)ps(this,r[c]);a?rs(this,a):this.cm&&Br(this.cm)})),undo:ai((function(){ms(this,"undo")})),redo:ai((function(){ms(this,"redo")})),undoSelection:ai((function(){ms(this,"undo",!0)})),redoSelection:ai((function(){ms(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new Wi(this.history),zi(this,(function(e){return e.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ji(this.history.done),undone:Ji(this.history.undone)}},setHistory:function(t){var e=this.history=new Wi(this.history);e.done=Ji(t.done.slice(0),null,!0),e.undone=Ji(t.undone.slice(0),null,!0)},setGutterMarker:ai((function(t,e,n){return Es(this,t,"gutter",(function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&ot(r)&&(t.gutterMarkers=null),!0}))})),clearGutter:ai((function(t){var e=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&Es(e,n,"gutter",(function(){return n.gutterMarkers[t]=null,ot(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!re(this,t))return null;if(e=t,!(t=Jt(this,t)))return null}else if(null==(e=ee(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:ai((function(t,e,n){return Es(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(x(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0}))})),removeLineClass:ai((function(t,e,n){return Es(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var s=i.match(x(n));if(!s)return!1;var o=s.index+s[0].length;t[r]=i.slice(0,s.index)+(s.index&&o!=i.length?" ":"")+i.slice(o)||null}return!0}))})),addLineWidget:ai((function(t,e,n){return function(t,e,n,r){var i=new Os(t,n,r),s=t.cm;return s&&i.noHScroll&&(s.display.alignWidgets=!0),Es(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=e,s&&!Ve(t,e)){var r=Ye(e)<t.scrollTop;te(e,e.height+On(i)),r&&Rr(s,i.height),s.curOp.forceUpdate=!0}return!0})),s&&dn(s,"lineWidgetAdded",s,i,"number"==typeof e?e:ee(e)),i}(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return As(this,fe(this,t),fe(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return As(this,t=fe(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Jt(this,(t=fe(this,t)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=fe(this,t),e=fe(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,(function(s){var o=s.markedSpans;if(o)for(var a=0;a<o.length;a++){var c=o[a];null!=c.to&&i==t.line&&t.ch>=c.to||null==c.from&&i!=t.line||null!=c.from&&i==e.line&&c.from>=e.ch||n&&!n(c.marker)||r.push(c.marker.parent||c.marker)}++i})),r},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)})),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var s=i.text.length+r;if(s>t)return e=t,!0;t-=s,++n})),fe(this,se(n,e))},indexFromPos:function(t){var e=(t=fe(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new Rs(Qt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new Rs(Qt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),s=t.clipPos(i.from),o=t.clipPos(i.to);if(oe(s,o)){var a=As(t,s,o,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}(r,Ns(this)),r},unlinkDoc:function(t){if(t instanceof No&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Ms(Ns(this));break}if(t.history==this.history){var n=[t.id];zi(t,(function(t){return n.push(t.id)}),!0),t.history=new Wi(null),t.history.done=Ji(this.history.done,n),t.history.undone=Ji(this.history.undone,n)}},iterLinkedDocs:function(t){zi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Bt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ai((function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&ii(e=this.cm,(function(){Fi(e),mr(e)})))}))}),Rs.prototype.eachLine=Rs.prototype.iter;var Bs=0;function Ps(t){var e=this;if(js(e),!wt(e,t)&&!Tn(e.display,t)){kt(t),o&&(Bs=+new Date);var n=pr(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,s=Array(i),a=0,c=function(){++a==i&&si(e,(function(){var t={from:n=fe(e.doc,n),to:n,text:e.doc.splitLines(s.filter((function(t){return null!=t})).join(e.doc.lineSeparator())),origin:"paste"};ps(e.doc,t),rs(e.doc,Ai(fe(e.doc,n),fe(e.doc,Ii(t))))}))()},l=function(t,n){if(e.options.allowDropFileTypes&&-1==q(e.options.allowDropFileTypes,t.type))c();else{var r=new FileReader;r.onerror=function(){return c()},r.onload=function(){var t=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(s[n]=t),c()},r.readAsText(t)}},u=0;u<r.length;u++)l(r[u],u);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var h=t.dataTransfer.getData("Text");if(h){var f;if(e.state.draggingText&&!e.state.draggingText.copy&&(f=e.listSelections()),ss(e.doc,Ai(n,n)),f)for(var d=0;d<f.length;++d)bs(e.doc,"",f[d].anchor,f[d].head,"drag");e.replaceSelection(h,"around","paste"),e.display.input.focus()}}catch(t){}}}}function js(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function zs(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<e.length;r++){var i=e[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var e=0;e<n.length;e++)t(n[e])}))}}var Us=!1;function Fs(){var t;Us||(mt(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,zs(Ws)}),100))})),mt(window,"blur",(function(){return zs(Ar)})),Us=!0)}function Ws(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Hs={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},$s=0;$s<10;$s++)Hs[$s+48]=Hs[$s+96]=String($s);for(var qs=65;qs<=90;qs++)Hs[qs]=String.fromCharCode(qs);for(var Vs=1;Vs<=12;Vs++)Hs[Vs+111]=Hs[Vs+63235]="F"+Vs;var Gs={};function Ys(t){var e,n,r,i,s=t.split(/-(?!$)/);t=s[s.length-1];for(var o=0;o<s.length-1;o++){var a=s[o];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Ks(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=tt(n.split(" "),Ys),s=0;s<i.length;s++){var o=void 0,a=void 0;s==i.length-1?(a=i.join(" "),o=r):(a=i.slice(0,s+1).join(" "),o="...");var c=e[a];if(c){if(c!=o)throw new Error("Inconsistent bindings for "+a)}else e[a]=o}delete t[n]}for(var l in e)t[l]=e[l];return t}function Xs(t,e,n,r){var i=(e=to(e)).call?e.call(t,r):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Xs(t,e.fallthrough,n,r);for(var s=0;s<e.fallthrough.length;s++){var o=Xs(t,e.fallthrough[s],n,r);if(o)return o}}}function Js(t){var e="string"==typeof t?t:Hs[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Zs(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(E?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(E?e.ctrlKey:e.metaKey)&&"Mod"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function Qs(t,e){if(f&&34==t.keyCode&&t.char)return!1;var n=Hs[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Zs(n,t,e))}function to(t){return"string"==typeof t?Gs[t]:t}function eo(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var s=e(n[i]);r.length&&oe(s.from,Q(r).to)<=0;){var o=r.pop();if(oe(o.from,s.from)<0){s.from=o.from;break}}r.push(s)}ii(t,(function(){for(var e=r.length-1;e>=0;e--)bs(t.doc,"",r[e].from,r[e].to,"+delete");Br(t)}))}function no(t,e,n){var r=lt(t.text,e+n,n);return r<0||r>t.text.length?null:r}function ro(t,e,n){var r=no(t,e.ch,n);return null==r?null:new se(e.line,r,n<0?"after":"before")}function io(t,e,n,r,i){if(t){"rtl"==e.doc.direction&&(i=-i);var s=pt(n,e.doc.direction);if(s){var o,a=i<0?Q(s):s[0],c=i<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var l=Pn(e,n);o=i<0?n.text.length-1:0;var u=jn(e,l,o).top;o=ut((function(t){return jn(e,l,t).top==u}),i<0==(1==a.level)?a.from:a.to-1,o),"before"==c&&(o=no(n,o,1))}else o=i<0?a.to:a.from;return new se(r,o,c)}}return new se(r,i<0?n.text.length:0,i<0?"before":"after")}Gs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Gs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Gs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Gs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Gs.default=b?Gs.macDefault:Gs.pcDefault;var so={selectAll:fs,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),G)},killLine:function(t){return eo(t,(function(e){if(e.empty()){var n=Jt(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:se(e.head.line+1,0)}:{from:e.head,to:se(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return eo(t,(function(e){return{from:se(e.from().line,0),to:fe(t.doc,se(e.to().line+1,0))}}))},delLineLeft:function(t){return eo(t,(function(t){return{from:se(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return eo(t,(function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}}))},delWrappedLineRight:function(t){return eo(t,(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(se(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(se(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return oo(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return ao(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return function(t,e){var n=Jt(t.doc,e),r=function(t){for(var e;e=Ue(t);)t=e.find(1,!0).line;return t}(n);return r!=n&&(e=ee(r)),io(!0,t,n,e,-1)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),K)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),K)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?ao(t,e.head):r}),K)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var s=n[i].from(),o=H(t.getLine(s.line),s.ch,r);e.push(Z(r-o%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return ii(t,(function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var i=e[r].head,s=Jt(t.doc,i.line).text;if(s)if(i.ch==s.length&&(i=new se(i.line,i.ch-1)),i.ch>0)i=new se(i.line,i.ch+1),t.replaceRange(s.charAt(i.ch-1)+s.charAt(i.ch-2),se(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var o=Jt(t.doc,i.line-1).text;o&&(i=new se(i.line,1),t.replaceRange(s.charAt(0)+t.doc.lineSeparator()+o.charAt(o.length-1),se(i.line-1,o.length-1),i,"+transpose"))}n.push(new Li(i,i))}t.setSelections(n)}))},newlineAndIndent:function(t){return ii(t,(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Br(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function oo(t,e){var n=Jt(t.doc,e),r=He(n);return r!=n&&(e=ee(r)),io(!0,t,r,e,1)}function ao(t,e){var n=oo(t,e.line),r=Jt(t.doc,n.line),i=pt(r,t.doc.direction);if(!i||0==i[0].level){var s=Math.max(n.ch,r.text.search(/\S/)),o=e.line==n.line&&e.ch<=s&&e.ch;return se(n.line,o?0:s,n.sticky)}return n}function co(t,e,n){if("string"==typeof e&&!(e=so[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=V}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}var lo=new $;function uo(t,e,n,r){var i=t.state.keySeq;if(i){if(Js(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:lo.set(50,(function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())})),ho(t,i+" "+e,n,r))return!0}return ho(t,e,n,r)}function ho(t,e,n,r){var i=function(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=Xs(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&Xs(e,t.options.extraKeys,n,t)||Xs(e,t.options.keyMap,n,t)}(t,e,r);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&dn(t,"keyHandled",t,e,n),"handled"!=i&&"multi"!=i||(kt(n),Or(t)),!!i}function fo(t,e){var n=Qs(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?uo(t,"Shift-"+n,e,(function(e){return co(t,e,!0)}))||uo(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return co(t,e)})):uo(t,n,e,(function(e){return co(t,e)})))}var po=null;function go(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||(e.curOp.focus=M(j(e)),wt(e,t)))){o&&a<11&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=16==r||t.shiftKey;var i=fo(e,t);f&&(po=i?r:null,i||88!=r||jt||!(b?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),n&&!b&&!i&&46==r&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(T(e,"CodeMirror-crosshair"),vt(document,"keyup",n),vt(document,"mouseover",n))}D(e,"CodeMirror-crosshair"),mt(document,"keyup",n),mt(document,"mouseover",n)}(e)}}function mo(t){16==t.keyCode&&(this.doc.sel.shift=!1),wt(this,t)}function yo(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||Tn(e.display,t)||wt(e,t)||t.ctrlKey&&!t.altKey||b&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(f&&n==po)return po=null,void kt(t);if(!f||t.which&&!(t.which<10)||!fo(e,t)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(t,e,n){return uo(t,"'"+n+"'",e,(function(e){return co(t,e,!0)}))}(e,t,i)||e.display.input.onKeyPress(t))}}}var vo,bo,wo=function(t,e,n){this.time=t,this.pos=e,this.button=n};function _o(t){var e=this,n=e.display;if(!(wt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,Tn(n,t))c||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!ko(e,t)){var r=pr(e,t),i=Ct(t),s=r?function(t,e){var n=+new Date;return bo&&bo.compare(n,t,e)?(vo=bo=null,"triple"):vo&&vo.compare(n,t,e)?(bo=new wo(n,t,e),vo=null,"double"):(vo=new wo(n,t,e),bo=null,"single")}(r,i):"single";U(e).focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),r&&function(t,e,n,r,i){var s="Click";return"double"==r?s="Double"+s:"triple"==r&&(s="Triple"+s),uo(t,Zs(s=(1==e?"Left":2==e?"Middle":"Right")+s,i),i,(function(e){if("string"==typeof e&&(e=so[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=V}finally{t.state.suppressEdits=!1}return r}))}(e,i,r,s,t)||(1==i?r?function(t,e,n,r){o?setTimeout(F(Tr,t),0):t.curOp.focus=M(j(t));var i,s=function(t,e,n){var r=t.getOption("configureMouse"),i=r?r(t,e,n):{};if(null==i.unit){var s=w?n.shiftKey&&n.metaKey:n.altKey;i.unit=s?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=b?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(b?n.altKey:n.ctrlKey)),i}(t,n,r),l=t.doc.sel;t.options.dragDrop&&Nt&&!t.isReadOnly()&&"single"==n&&(i=l.contains(e))>-1&&(oe((i=l.ranges[i]).from(),e)<0||e.xRel>0)&&(oe(i.to(),e)>0||e.xRel<0)?function(t,e,n,r){var i=t.display,s=!1,l=si(t,(function(e){c&&(i.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Lr(t)),vt(i.wrapper.ownerDocument,"mouseup",l),vt(i.wrapper.ownerDocument,"mousemove",u),vt(i.scroller,"dragstart",h),vt(i.scroller,"drop",l),s||(kt(e),r.addNew||Qi(t.doc,n,null,null,r.extend),c&&!d||o&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(t){s=s||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},h=function(){return s=!0};c&&(i.scroller.draggable=!0),t.state.draggingText=l,l.copy=!r.moveOnDrag,mt(i.wrapper.ownerDocument,"mouseup",l),mt(i.wrapper.ownerDocument,"mousemove",u),mt(i.scroller,"dragstart",h),mt(i.scroller,"drop",l),t.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}(t,r,e,s):function(t,e,n,r){o&&Lr(t);var i=t.display,s=t.doc;kt(e);var a,c,l=s.sel,u=l.ranges;if(r.addNew&&!r.extend?(c=s.sel.contains(n),a=c>-1?u[c]:new Li(n,n)):(a=s.sel.primary(),c=s.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new Li(n,n)),n=pr(t,e,!0,!0),c=-1;else{var h=So(t,n,r.unit);a=r.extend?Zi(a,h.anchor,h.head,r.extend):h}r.addNew?-1==c?(c=u.length,is(s,Ci(t,u.concat([a]),c),{scroll:!1,origin:"*mouse"})):u.length>1&&u[c].empty()&&"char"==r.unit&&!r.extend?(is(s,Ci(t,u.slice(0,c).concat(u.slice(c+1)),0),{scroll:!1,origin:"*mouse"}),l=s.sel):es(s,c,a,Y):(c=0,is(s,new Ti([a],0),Y),l=s.sel);var f=n;function d(e){if(0!=oe(f,e))if(f=e,"rectangle"==r.unit){for(var i=[],o=t.options.tabSize,u=H(Jt(s,n.line).text,n.ch,o),h=H(Jt(s,e.line).text,e.ch,o),d=Math.min(u,h),p=Math.max(u,h),g=Math.min(n.line,e.line),m=Math.min(t.lastLine(),Math.max(n.line,e.line));g<=m;g++){var y=Jt(s,g).text,v=X(y,d,o);d==p?i.push(new Li(se(g,v),se(g,v))):y.length>v&&i.push(new Li(se(g,v),se(g,X(y,p,o))))}i.length||i.push(new Li(n,n)),is(s,Ci(t,l.ranges.slice(0,c).concat(i),c),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,w=a,_=So(t,e,r.unit),S=w.anchor;oe(_.anchor,S)>0?(b=_.head,S=ue(w.from(),_.anchor)):(b=_.anchor,S=le(w.to(),_.head));var E=l.ranges.slice(0);E[c]=function(t,e){var n=e.anchor,r=e.head,i=Jt(t.doc,n.line);if(0==oe(n,r)&&n.sticky==r.sticky)return e;var s=pt(i);if(!s)return e;var o=ft(s,n.ch,n.sticky),a=s[o];if(a.from!=n.ch&&a.to!=n.ch)return e;var c,l=o+(a.from==n.ch==(1!=a.level)?0:1);if(0==l||l==s.length)return e;if(r.line!=n.line)c=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var u=ft(s,r.ch,r.sticky),h=u-o||(r.ch-n.ch)*(1==a.level?-1:1);c=u==l-1||u==l?h<0:h>0}var f=s[l+(c?-1:0)],d=c==(1==f.level),p=d?f.from:f.to,g=d?"after":"before";return n.ch==p&&n.sticky==g?e:new Li(new se(n.line,p,g),r)}(t,new Li(fe(s,S),b)),is(s,Ci(t,E,c),Y)}}var p=i.wrapper.getBoundingClientRect(),g=0;function m(e){var n=++g,o=pr(t,e,!0,"rectangle"==r.unit);if(o)if(0!=oe(o,f)){t.curOp.focus=M(j(t)),d(o);var a=Mr(i,s);(o.line>=a.to||o.line<a.from)&&setTimeout(si(t,(function(){g==n&&m(e)})),150)}else{var c=e.clientY<p.top?-20:e.clientY>p.bottom?20:0;c&&setTimeout(si(t,(function(){g==n&&(i.scroller.scrollTop+=c,m(e))})),50)}}function y(e){t.state.selectingText=!1,g=1/0,e&&(kt(e),i.input.focus()),vt(i.wrapper.ownerDocument,"mousemove",v),vt(i.wrapper.ownerDocument,"mouseup",b),s.history.lastSelOrigin=null}var v=si(t,(function(t){0!==t.buttons&&Ct(t)?m(t):y(t)})),b=si(t,y);t.state.selectingText=b,mt(i.wrapper.ownerDocument,"mousemove",v),mt(i.wrapper.ownerDocument,"mouseup",b)}(t,r,e,s)}(e,r,s,t):Lt(t)==n.scroller&&kt(t):2==i?(r&&Qi(e.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(k?e.display.input.onContextMenu(t):Lr(e)))}}function So(t,e,n){if("char"==n)return new Li(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new Li(se(e.line,0),fe(t.doc,se(e.line+1,0)));var r=n(t,e);return new Li(r.from,r.to)}function Eo(t,e,n,r){var i,s;if(e.touches)i=e.touches[0].clientX,s=e.touches[0].clientY;else try{i=e.clientX,s=e.clientY}catch(t){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&kt(e);var o=t.display,a=o.lineDiv.getBoundingClientRect();if(s>a.bottom||!St(t,n))return Ot(e);s-=a.top-o.viewOffset;for(var c=0;c<t.display.gutterSpecs.length;++c){var l=o.gutters.childNodes[c];if(l&&l.getBoundingClientRect().right>=i)return bt(t,n,t,ne(t.doc,s),t.display.gutterSpecs[c].className,e),Ot(e)}}function ko(t,e){return Eo(t,e,"gutterClick",!0)}function xo(t,e){Tn(t.display,e)||function(t,e){return!!St(t,"gutterContextMenu")&&Eo(t,e,"gutterContextMenu",!1)}(t,e)||wt(t,e,"contextmenu")||k||t.display.input.onContextMenu(e)}function Oo(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),qn(t)}wo.prototype.compare=function(t,e,n){return this.time+400>t&&0==oe(e,this.pos)&&n==this.button};var To={toString:function(){return"CodeMirror.Init"}},Lo={},Co={};function Ao(t,e,n){if(!e!=!(n&&n!=To)){var r=t.display.dragFunctions,i=e?mt:vt;i(t.display.scroller,"dragstart",r.start),i(t.display.scroller,"dragenter",r.enter),i(t.display.scroller,"dragover",r.over),i(t.display.scroller,"dragleave",r.leave),i(t.display.scroller,"drop",r.drop)}}function Io(t){t.options.lineWrapping?(D(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(T(t.display.wrapper,"CodeMirror-wrap"),Xe(t)),dr(t),mr(t),qn(t),setTimeout((function(){return Vr(t)}),100)}function No(t,e){var n=this;if(!(this instanceof No))return new No(t,e);this.options=e=e?W(e):{},W(Lo,e,!1);var r=e.value;"string"==typeof r?r=new Rs(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var i=new No.inputStyles[e.inputStyle](this),s=this.display=new _i(t,r,i,e);for(var l in s.wrapper.CodeMirror=this,Oo(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Kr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new $,keySeq:null,specialChars:null},e.autofocus&&!v&&s.input.focus(),o&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(t){var e=t.display;mt(e.scroller,"mousedown",si(t,_o)),mt(e.scroller,"dblclick",o&&a<11?si(t,(function(e){if(!wt(t,e)){var n=pr(t,e);if(n&&!ko(t,e)&&!Tn(t.display,e)){kt(e);var r=t.findWordAt(n);Qi(t.doc,r.anchor,r.head)}}})):function(e){return wt(t,e)||kt(e)}),mt(e.scroller,"contextmenu",(function(e){return xo(t,e)})),mt(e.input.getField(),"contextmenu",(function(n){e.scroller.contains(n.target)||xo(t,n)}));var n,r={end:0};function i(){e.activeTouch&&(n=setTimeout((function(){return e.activeTouch=null}),1e3),(r=e.activeTouch).end=+new Date)}function s(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function c(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}mt(e.scroller,"touchstart",(function(i){if(!wt(t,i)&&!s(i)&&!ko(t,i)){e.input.ensurePolled(),clearTimeout(n);var o=+new Date;e.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}})),mt(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),mt(e.scroller,"touchend",(function(n){var r=e.activeTouch;if(r&&!Tn(e,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var s,o=t.coordsChar(e.activeTouch,"page");s=!r.prev||c(r,r.prev)?new Li(o,o):!r.prev.prev||c(r,r.prev.prev)?t.findWordAt(o):new Li(se(o.line,0),fe(t.doc,se(o.line+1,0))),t.setSelection(s.anchor,s.head),t.focus(),kt(n)}i()})),mt(e.scroller,"touchcancel",i),mt(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(Ur(t,e.scroller.scrollTop),Wr(t,e.scroller.scrollLeft,!0),bt(t,"scroll",t))})),mt(e.scroller,"mousewheel",(function(e){return Oi(t,e)})),mt(e.scroller,"DOMMouseScroll",(function(e){return Oi(t,e)})),mt(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){wt(t,e)||Tt(e)},over:function(e){wt(t,e)||(function(t,e){var n=pr(t,e);if(n){var r=document.createDocumentFragment();Er(t,n,r),t.display.dragCursor||(t.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),C(t.display.dragCursor,r)}}(t,e),Tt(e))},start:function(e){return function(t,e){if(o&&(!t.state.draggingText||+new Date-Bs<100))Tt(e);else if(!wt(t,e)&&!Tn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!d)){var n=A("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}(t,e)},drop:si(t,Ps),leave:function(e){wt(t,e)||js(t)}};var l=e.input.getField();mt(l,"keyup",(function(e){return mo.call(t,e)})),mt(l,"keydown",si(t,go)),mt(l,"keypress",si(t,yo)),mt(l,"focus",(function(e){return Cr(t,e)})),mt(l,"blur",(function(e){return Ar(t,e)}))}(this),Fs(),Jr(this),this.curOp.forceUpdate=!0,Ui(this,r),e.autofocus&&!v||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Cr(n)}),20):Ar(this),Co)Co.hasOwnProperty(l)&&Co[l](this,e[l],To);yi(this),e.finishInit&&e.finishInit(this);for(var u=0;u<Mo.length;++u)Mo[u](this);Zr(this),c&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}No.defaults=Lo,No.optionHandlers=Co;var Mo=[];function Do(t,e,n,r){var i,s=t.doc;null==n&&(n="add"),"smart"==n&&(s.mode.indent?i=ve(t,e).state:n="prev");var o=t.options.tabSize,a=Jt(s,e),c=H(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var l,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&((l=s.mode.indent(i,a.text.slice(u.length),a.text))==V||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=e>s.first?H(Jt(s,e-1).text,null,o):0:"add"==n?l=c+t.options.indentUnit:"subtract"==n?l=c-t.options.indentUnit:"number"==typeof n&&(l=c+n),l=Math.max(0,l);var h="",f=0;if(t.options.indentWithTabs)for(var d=Math.floor(l/o);d;--d)f+=o,h+="\t";if(f<l&&(h+=Z(l-f)),h!=u)return bs(s,h,se(e,0),se(e,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<s.sel.ranges.length;p++){var g=s.sel.ranges[p];if(g.head.line==e&&g.head.ch<u.length){var m=se(e,u.length);es(s,p,new Li(m,m));break}}}No.defineInitHook=function(t){return Mo.push(t)};var Ro=null;function Bo(t){Ro=t}function Po(t,e,n,r,i){var s=t.doc;t.display.shift=!1,r||(r=s.sel);var o=+new Date-200,a="paste"==i||t.state.pasteIncoming>o,c=Bt(e),l=null;if(a&&r.ranges.length>1)if(Ro&&Ro.text.join("\n")==e){if(r.ranges.length%Ro.text.length==0){l=[];for(var u=0;u<Ro.text.length;u++)l.push(s.splitLines(Ro.text[u]))}}else c.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(l=tt(c,(function(t){return[t]})));for(var h=t.curOp.updateInput,f=r.ranges.length-1;f>=0;f--){var d=r.ranges[f],p=d.from(),g=d.to();d.empty()&&(n&&n>0?p=se(p.line,p.ch-n):t.state.overwrite&&!a?g=se(g.line,Math.min(Jt(s,g.line).text.length,g.ch+Q(c).length)):a&&Ro&&Ro.lineWise&&Ro.text.join("\n")==c.join("\n")&&(p=g=se(p.line,0)));var m={from:p,to:g,text:l?l[f%l.length]:c,origin:i||(a?"paste":t.state.cutIncoming>o?"cut":"+input")};ps(t.doc,m),dn(t,"inputRead",t,m)}e&&!a&&zo(t,e),Br(t),t.curOp.updateInput<2&&(t.curOp.updateInput=h),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function jo(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||!e.hasFocus()||ii(e,(function(){return Po(e,n,0,null,"paste")})),!0}function zo(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var s=t.getModeAt(i.head),o=!1;if(s.electricChars){for(var a=0;a<s.electricChars.length;a++)if(e.indexOf(s.electricChars.charAt(a))>-1){o=Do(t,i.head.line,"smart");break}}else s.electricInput&&s.electricInput.test(Jt(t.doc,i.head.line).text.slice(0,i.head.ch))&&(o=Do(t,i.head.line,"smart"));o&&dn(t,"electricInput",t,i.head.line)}}}function Uo(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,s={anchor:se(i,0),head:se(i+1,0)};n.push(s),e.push(t.getRange(s.anchor,s.head))}return{text:e,ranges:n}}function Fo(t,e,n,r){t.setAttribute("autocorrect",n?"on":"off"),t.setAttribute("autocapitalize",r?"on":"off"),t.setAttribute("spellcheck",!!e)}function Wo(){var t=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=A("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return c?t.style.width="1000px":t.setAttribute("wrap","off"),m&&(t.style.border="1px solid black"),e}function Ho(t,e,n,r,i){var s=e,o=n,a=Jt(t,e.line),c=i&&"rtl"==t.direction?-n:n;function l(s){var o,l;if("codepoint"==r){var u=a.text.charCodeAt(e.ch+(n>0?0:-1));if(isNaN(u))o=null;else{var h=n>0?u>=55296&&u<56320:u>=56320&&u<57343;o=new se(e.line,Math.max(0,Math.min(a.text.length,e.ch+n*(h?2:1))),-n)}}else o=i?function(t,e,n,r){var i=pt(e,t.doc.direction);if(!i)return ro(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var s=ft(i,n.ch,n.sticky),o=i[s];if("ltr"==t.doc.direction&&o.level%2==0&&(r>0?o.to>n.ch:o.from<n.ch))return ro(e,n,r);var a,c=function(t,n){return no(e,t instanceof se?t.ch:t,n)},l=function(n){return t.options.lineWrapping?(a=a||Pn(t,e),rr(t,e,a,n)):{begin:0,end:e.text.length}},u=l("before"==n.sticky?c(n,-1):n.ch);if("rtl"==t.doc.direction||1==o.level){var h=1==o.level==r<0,f=c(n,h?1:-1);if(null!=f&&(h?f<=o.to&&f<=u.end:f>=o.from&&f>=u.begin)){var d=h?"before":"after";return new se(n.line,f,d)}}var p=function(t,e,r){for(var s=function(t,e){return e?new se(n.line,c(t,1),"before"):new se(n.line,t,"after")};t>=0&&t<i.length;t+=e){var o=i[t],a=e>0==(1!=o.level),l=a?r.begin:c(r.end,-1);if(o.from<=l&&l<o.to)return s(l,a);if(l=a?o.from:c(o.to,-1),r.begin<=l&&l<r.end)return s(l,a)}},g=p(s+r,r,u);if(g)return g;var m=r>0?u.end:c(u.begin,-1);return null==m||r>0&&m==e.text.length||!(g=p(r>0?0:i.length-1,r,l(m)))?null:g}(t.cm,a,e,n):ro(a,e,n);if(null==o){if(s||((l=e.line+c)<t.first||l>=t.first+t.size||(e=new se(l,e.ch,e.sticky),!(a=Jt(t,l)))))return!1;e=io(i,t.cm,a,e.line,c)}else e=o;return!0}if("char"==r||"codepoint"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var u=null,h="group"==r,f=t.cm&&t.cm.getHelper(e,"wordChars"),d=!0;!(n<0)||l(!d);d=!1){var p=a.text.charAt(e.ch)||"\n",g=st(p,f)?"w":h&&"\n"==p?"n":!h||/\s/.test(p)?null:"p";if(!h||d||g||(g="s"),u&&u!=g){n<0&&(n=1,l(),e.sticky="after");break}if(g&&(u=g),n>0&&!l(!d))break}var m=us(t,e,s,o,!0);return ae(s,m)&&(m.hitSide=!0),m}function $o(t,e,n,r){var i,s,o=t.doc,a=e.left;if("page"==r){var c=Math.min(t.display.wrapper.clientHeight,U(t).innerHeight||o(t).documentElement.clientHeight),l=Math.max(c-.5*cr(t.display),3);i=(n>0?e.bottom:e.top)+n*l}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;(s=er(t,a,i)).outside;){if(n<0?i<=0:i>=o.height){s.hitSide=!0;break}i+=5*n}return s}var qo=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new $,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Vo(t,e){var n=Bn(t,e.line);if(!n||n.hidden)return null;var r=Jt(t.doc,e.line),i=Dn(n,r,e.line),s=pt(r,t.doc.direction),o="left";s&&(o=ft(s,e.ch)%2?"right":"left");var a=Fn(i.map,e.ch,o);return a.offset="right"==a.collapse?a.end:a.start,a}function Go(t,e){return e&&(t.bad=!0),t}function Yo(t,e,n){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[n]))return Go(t.clipPos(se(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var s=t.display.view[i];if(s.node==r)return Ko(s,e,n)}}function Ko(t,e,n){var r=t.text.firstChild,i=!1;if(!e||!N(r,e))return Go(se(ee(t.line),0),!0);if(e==r&&(i=!0,e=r.childNodes[n],n=0,!e)){var s=t.rest?Q(t.rest):t.line;return Go(se(ee(s),s.text.length),i)}var o=3==e.nodeType?e:null,a=e;for(o||1!=e.childNodes.length||3!=e.firstChild.nodeType||(o=e.firstChild,n&&(n=o.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var c=t.measure,l=c.maps;function u(e,n,r){for(var i=-1;i<(l?l.length:0);i++)for(var s=i<0?c.map:l[i],o=0;o<s.length;o+=3){var a=s[o+2];if(a==e||a==n){var u=ee(i<0?t.line:t.rest[i]),h=s[o]+r;return(r<0||a!=e)&&(h=s[o+(r?1:0)]),se(u,h)}}}var h=u(o,a,n);if(h)return Go(h,i);for(var f=a.nextSibling,d=o?o.nodeValue.length-n:0;f;f=f.nextSibling){if(h=u(f,f.firstChild,0))return Go(se(h.line,h.ch-d),i);d+=f.textContent.length}for(var p=a.previousSibling,g=n;p;p=p.previousSibling){if(h=u(p,p.firstChild,-1))return Go(se(h.line,h.ch+g),i);g+=p.textContent.length}}qo.prototype.init=function(t){var e=this,n=this,r=n.cm,i=n.div=t.lineDiv;function s(t){for(var e=t.target;e;e=e.parentNode){if(e==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(e.className))break}return!1}function o(t){if(s(t)&&!wt(r,t)){if(r.somethingSelected())Bo({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Uo(r);Bo({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation((function(){r.setSelections(e.ranges,0,G),r.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var o=Ro.text.join("\n");if(t.clipboardData.setData("Text",o),t.clipboardData.getData("Text")==o)return void t.preventDefault()}var a=Wo(),c=a.firstChild;Fo(c),r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),c.value=Ro.text.join("\n");var l=M(z(i));B(c),setTimeout((function(){r.display.lineSpace.removeChild(a),l.focus(),l==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,Fo(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),mt(i,"paste",(function(t){!s(t)||wt(r,t)||jo(t,r)||a<=11&&setTimeout(si(r,(function(){return e.updateFromDOM()})),20)})),mt(i,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),mt(i,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),mt(i,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),mt(i,"touchstart",(function(){return n.forceCompositionEnd()})),mt(i,"input",(function(){e.composing||e.readFromDOMSoon()})),mt(i,"copy",o),mt(i,"cut",o)},qo.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},qo.prototype.prepareSelection=function(){var t=Sr(this.cm,!1);return t.focus=M(z(this.div))==this.div,t},qo.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},qo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},qo.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),i=r.from(),s=r.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||s.line<e.display.viewFrom)t.removeAllRanges();else{var o=Yo(e,t.anchorNode,t.anchorOffset),a=Yo(e,t.focusNode,t.focusOffset);if(!o||o.bad||!a||a.bad||0!=oe(ue(o,a),i)||0!=oe(le(o,a),s)){var c=e.display.view,l=i.line>=e.display.viewFrom&&Vo(e,i)||{node:c[0].measure.map[2],offset:0},u=s.line<e.display.viewTo&&Vo(e,s);if(!u){var h=c[c.length-1].measure,f=h.maps?h.maps[h.maps.length-1]:h.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(l&&u){var d,p=t.rangeCount&&t.getRangeAt(0);try{d=O(l.node,l.offset,u.offset,u.node)}catch(t){}d&&(!n&&e.state.focused?(t.collapse(l.node,l.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},qo.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},qo.prototype.showMultipleSelections=function(t){C(this.cm.display.cursorDiv,t.cursors),C(this.cm.display.selectionDiv,t.selection)},qo.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},qo.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return N(this.div,e)},qo.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&M(z(this.div))==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},qo.prototype.blur=function(){this.div.blur()},qo.prototype.getField=function(){return this.div},qo.prototype.supportsTouch=function(){return!0},qo.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout((function(){return t.pollSelection()}),20):ii(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},qo.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},qo.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(y&&u&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Yo(e,t.anchorNode,t.anchorOffset),r=Yo(e,t.focusNode,t.focusOffset);n&&r&&ii(e,(function(){is(e.doc,Ai(n,r),G),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)}))}}},qo.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,r=this.cm,i=r.display,s=r.doc.sel.primary(),o=s.from(),a=s.to();if(0==o.ch&&o.line>r.firstLine()&&(o=se(o.line-1,Jt(r.doc,o.line-1).length)),a.ch==Jt(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=se(a.line+1,0)),o.line<i.viewFrom||a.line>i.viewTo-1)return!1;o.line==i.viewFrom||0==(t=gr(r,o.line))?(e=ee(i.view[0].line),n=i.view[0].node):(e=ee(i.view[t].line),n=i.view[t-1].node.nextSibling);var c,l,u=gr(r,a.line);if(u==i.view.length-1?(c=i.viewTo-1,l=i.lineDiv.lastChild):(c=ee(i.view[u+1].line)-1,l=i.view[u+1].node.previousSibling),!n)return!1;for(var h=r.doc.splitLines(function(t,e,n,r,i){var s="",o=!1,a=t.doc.lineSeparator(),c=!1;function l(){o&&(s+=a,c&&(s+=a),o=c=!1)}function u(t){t&&(l(),s+=t)}function h(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void u(n);var s,f=e.getAttribute("cm-marker");if(f){var d=t.findMarks(se(r,0),se(i+1,0),(m=+f,function(t){return t.id==m}));return void(d.length&&(s=d[0].find(0))&&u(Zt(t.doc,s.from,s.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&l();for(var g=0;g<e.childNodes.length;g++)h(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(c=!0),p&&(o=!0)}else 3==e.nodeType&&u(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var m}for(;h(e),e!=n;)e=e.nextSibling,c=!1;return s}(r,n,l,e,c)),f=Zt(r.doc,se(e,0),se(c,Jt(r.doc,c).text.length));h.length>1&&f.length>1;)if(Q(h)==Q(f))h.pop(),f.pop(),c--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),e++}for(var d=0,p=0,g=h[0],m=f[0],y=Math.min(g.length,m.length);d<y&&g.charCodeAt(d)==m.charCodeAt(d);)++d;for(var v=Q(h),b=Q(f),w=Math.min(v.length-(1==h.length?d:0),b.length-(1==f.length?d:0));p<w&&v.charCodeAt(v.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==f.length&&e==o.line)for(;d&&d>o.ch&&v.charCodeAt(v.length-p-1)==b.charCodeAt(b.length-p-1);)d--,p++;h[h.length-1]=v.slice(0,v.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(d).replace(/\u200b+$/,"");var _=se(e,d),S=se(c,f.length?Q(f).length-p:0);return h.length>1||h[0]||oe(_,S)?(bs(r.doc,h,_,S,"+input"),!0):void 0},qo.prototype.ensurePolled=function(){this.forceCompositionEnd()},qo.prototype.reset=function(){this.forceCompositionEnd()},qo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},qo.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},qo.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||ii(this.cm,(function(){return mr(t.cm)}))},qo.prototype.setUneditable=function(t){t.contentEditable="false"},qo.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||si(this.cm,Po)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},qo.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},qo.prototype.onContextMenu=function(){},qo.prototype.resetPosition=function(){},qo.prototype.needsContentAttribute=!0;var Xo=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new $,this.hasSelection=!1,this.composing=null,this.resetting=!1};Xo.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var i=this.textarea;function s(t){if(!wt(r,t)){if(r.somethingSelected())Bo({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Uo(r);Bo({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,G):(n.prevInput="",i.value=e.text.join("\n"),B(i))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),m&&(i.style.width="0px"),mt(i,"input",(function(){o&&a>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()})),mt(i,"paste",(function(t){wt(r,t)||jo(t,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),mt(i,"cut",s),mt(i,"copy",s),mt(t.scroller,"paste",(function(e){if(!Tn(t,e)&&!wt(r,e)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var s=new Event("paste");s.clipboardData=e.clipboardData,i.dispatchEvent(s)}})),mt(t.lineSpace,"selectstart",(function(e){Tn(t,e)||kt(e)})),mt(i,"compositionstart",(function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}})),mt(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Xo.prototype.createField=function(t){this.wrapper=Wo(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Fo(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},Xo.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Xo.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=Sr(t);if(t.options.moveInputWithCursor){var i=Zn(t,n.sel.primary().head,"div"),s=e.wrapper.getBoundingClientRect(),o=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+o.top-s.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+o.left-s.left))}return r},Xo.prototype.showSelection=function(t){var e=this.cm.display;C(e.cursorDiv,t.cursors),C(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Xo.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&B(this.textarea),o&&a>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",o&&a>=9&&(this.hasSelection=null));this.resetting=!1}},Xo.prototype.getField=function(){return this.textarea},Xo.prototype.supportsTouch=function(){return!1},Xo.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||M(z(this.textarea))!=this.textarea))try{this.textarea.focus()}catch(t){}},Xo.prototype.blur=function(){this.textarea.blur()},Xo.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Xo.prototype.receivedFocus=function(){this.slowPoll()},Xo.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Xo.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function n(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))}))},Xo.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||Pt(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=n.value;if(i==r&&!e.somethingSelected())return!1;if(o&&a>=9&&this.hasSelection===i||b&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var s=i.charCodeAt(0);if(8203!=s||r||(r="​"),8666==s)return this.reset(),this.cm.execCommand("undo")}for(var c=0,l=Math.min(r.length,i.length);c<l&&r.charCodeAt(c)==i.charCodeAt(c);)++c;return ii(e,(function(){Po(e,i.slice(c),r.length-c,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Xo.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Xo.prototype.onKeyPress=function(){o&&a>=9&&(this.hasSelection=null),this.fastPoll()},Xo.prototype.onContextMenu=function(t){var e=this,n=e.cm,r=n.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var s=pr(n,t),l=r.scroller.scrollTop;if(s&&!f){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(s)&&si(n,is)(n.doc,Ai(s),G);var u,h=i.style.cssText,d=e.wrapper.style.cssText,p=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(o?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",c&&(u=i.ownerDocument.defaultView.scrollY),r.input.focus(),c&&i.ownerDocument.defaultView.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),o&&a>=9&&m(),k){Tt(t);var g=function(){vt(window,"mouseup",g),setTimeout(y,20)};mt(window,"mouseup",g)}else setTimeout(y,50)}function m(){if(null!=i.selectionStart){var t=n.somethingSelected(),s="​"+(t?i.value:"");i.value="⇚",i.value=s,e.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=s.length,r.selForContextMenu=n.doc.sel}}function y(){if(e.contextMenuPending==y&&(e.contextMenuPending=!1,e.wrapper.style.cssText=d,i.style.cssText=h,o&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=i.selectionStart)){(!o||o&&a<9)&&m();var t=0,s=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==e.prevInput?si(n,fs)(n):t++<10?r.detectingSelectAll=setTimeout(s,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(s,200)}}},Xo.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t,this.textarea.readOnly=!!t},Xo.prototype.setUneditable=function(){},Xo.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,r,i,s){t.defaults[n]=r,i&&(e[n]=s?function(t,e,n){n!=To&&i(t,e,n)}:i)}t.defineOption=n,t.Init=To,n("value","",(function(t,e){return t.setValue(e)}),!0),n("mode",null,(function(t,e){t.doc.modeOption=e,Ri(t)}),!0),n("indentUnit",2,Ri,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(t){Bi(t),qn(t),mr(t)}),!0),n("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter((function(t){for(var i=0;;){var s=t.text.indexOf(e,i);if(-1==s)break;i=s+e.length,n.push(se(r,s))}r++}));for(var i=n.length-1;i>=0;i--)bs(t.doc,e,n[i],se(n[i].line,n[i].ch+e.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,(function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=To&&t.refresh()})),n("specialCharPlaceholder",rn,(function(t){return t.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),n("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),n("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),n("rtlMoveVisually",!_),n("wholeLineUpdateBefore",!0),n("theme","default",(function(t){Oo(t),wi(t)}),!0),n("keyMap","default",(function(t,e,n){var r=to(e),i=n!=To&&to(n);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Io,!0),n("gutters",[],(function(t,e){t.display.gutterSpecs=vi(e,t.options.lineNumbers),wi(t)}),!0),n("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?hr(t.display)+"px":"0",t.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(t){return Vr(t)}),!0),n("scrollbarStyle","native",(function(t){Kr(t),Vr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=vi(t.options.gutters,e),wi(t)}),!0),n("firstLineNumber",1,wi,!0),n("lineNumberFormatter",(function(t){return t}),wi,!0),n("showCursorWhenSelecting",!1,_r,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(t,e){"nocursor"==e&&(Ar(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),n("screenReaderLabel",null,(function(t,e){e=""===e?null:e,t.display.input.screenReaderLabelChanged(e)})),n("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),n("dragDrop",!0,Ao),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,_r,!0),n("singleCursorHeightPerLine",!0,_r,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Bi,!0),n("addModeClass",!1,Bi,!0),n("pollInterval",100),n("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),n("historyEventDelay",1250),n("viewportMargin",10,(function(t){return t.refresh()}),!0),n("maxHighlightLength",1e4,Bi,!0),n("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),n("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),n("autofocus",null),n("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),n("phrases",null)}(No),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){U(this).focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,i=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&si(this,e[t])(this,n,i),bt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](to(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:oi((function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");(function(t,e,n){for(var r=0,i=n(e);r<t.length&&n(t[r])<=i;)r++;t.splice(r,0,e)})(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(t){return t.priority})),this.state.modeGen++,mr(this)})),removeOverlay:oi((function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void mr(this)}})),indentLine:oi((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),re(this.doc,t)&&Do(this,t,e,n)})),indentSelection:oi((function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Do(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Br(this));else{var s=i.from(),o=i.to(),a=Math.max(n,s.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var c=a;c<n;++c)Do(this,c,t);var l=this.doc.sel.ranges;0==s.ch&&e.length==l.length&&l[r].from().ch>0&&es(this.doc,r,new Li(s,l[r].to()),G)}}})),getTokenAt:function(t,e){return Ee(this,t,e)},getLineTokens:function(t,e){return Ee(this,se(t),e,!0)},getTokenTypeAt:function(t){t=fe(this.doc,t);var e,n=ye(this,Jt(this.doc,t.line)),r=0,i=(n.length-1)/2,s=t.ch;if(0==s)e=n[2];else for(;;){var o=r+i>>1;if((o?n[2*o-1]:0)>=s)i=o;else{if(!(n[2*o+1]<s)){e=n[2*o+2];break}r=o+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!n.hasOwnProperty(e))return r;var i=n[e],s=this.getModeAt(t);if("string"==typeof s[e])i[s[e]]&&r.push(i[s[e]]);else if(s[e])for(var o=0;o<s[e].length;o++){var a=i[s[e][o]];a&&r.push(a)}else s.helperType&&i[s.helperType]?r.push(i[s.helperType]):i[s.name]&&r.push(i[s.name]);for(var c=0;c<i._global.length;c++){var l=i._global[c];l.pred(s,this)&&-1==q(r,l.val)&&r.push(l.val)}return r},getStateAfter:function(t,e){var n=this.doc;return ve(this,(t=he(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Zn(this,null==t?n.head:"object"==typeof t?fe(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Jn(this,fe(this.doc,t),e||"page")},coordsChar:function(t,e){return er(this,(t=Xn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Xn(this,{top:t,left:0},e||"page").top,ne(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,i=!1;if("number"==typeof t){var s=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>s&&(t=s,i=!0),r=Jt(this.doc,t)}else r=t;return Kn(this,r,{top:0,left:0},e||"page",n||i).top+(i?this.doc.height-Ye(r):0)},defaultTextHeight:function(){return cr(this.display)},defaultCharWidth:function(){return lr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var s,o,a,c=this.display,l=(t=Zn(this,fe(this.doc,t))).bottom,u=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),c.sizer.appendChild(e),"over"==r)l=t.top;else if("above"==r||"near"==r){var h=Math.max(c.wrapper.clientHeight,this.doc.height),f=Math.max(c.sizer.clientWidth,c.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>h)&&t.top>e.offsetHeight?l=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=h&&(l=t.bottom),u+e.offsetWidth>f&&(u=f-e.offsetWidth)}e.style.top=l+"px",e.style.left=e.style.right="","right"==i?(u=c.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(c.sizer.clientWidth-e.offsetWidth)/2),e.style.left=u+"px"),n&&(s=this,o={left:u,top:l,right:u+e.offsetWidth,bottom:l+e.offsetHeight},null!=(a=Dr(s,o)).scrollTop&&Ur(s,a.scrollTop),null!=a.scrollLeft&&Wr(s,a.scrollLeft))},triggerOnKeyDown:oi(go),triggerOnKeyPress:oi(yo),triggerOnKeyUp:mo,triggerOnMouseDown:oi(_o),execCommand:function(t){if(so.hasOwnProperty(t))return so[t].call(null,this)},triggerElectric:oi((function(t){zo(this,t)})),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var s=fe(this.doc,t),o=0;o<e&&!(s=Ho(this.doc,s,i,n,r)).hitSide;++o);return s},moveH:oi((function(t,e){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Ho(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()}),K)})),deleteH:oi((function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):eo(this,(function(n){var i=Ho(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(t,e,n,r){var i=1,s=r;e<0&&(i=-1,e=-e);for(var o=fe(this.doc,t),a=0;a<e;++a){var c=Zn(this,o,"div");if(null==s?s=c.left:c.left=s,(o=$o(this,c,i,n)).hitSide)break}return o},moveV:oi((function(t,e){var n=this,r=this.doc,i=[],s=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(o){if(s)return t<0?o.from():o.to();var a=Zn(n,o.head,"div");null!=o.goalColumn&&(a.left=o.goalColumn),i.push(a.left);var c=$o(n,a,t,e);return"page"==e&&o==r.sel.primary()&&Rr(n,Jn(n,c,"div").top-a.top),c}),K),i.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=i[o]})),findWordAt:function(t){var e=Jt(this.doc,t.line).text,n=t.ch,r=t.ch;if(e){var i=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=e.length||!n?++r:--n;for(var s=e.charAt(n),o=st(s,i)?function(t){return st(t,i)}:/\s/.test(s)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!st(t)};n>0&&o(e.charAt(n-1));)--n;for(;r<e.length&&o(e.charAt(r));)++r}return new Li(se(t.line,n),se(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?D(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),bt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==M(j(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:oi((function(t,e){Pr(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-In(this)-this.display.barHeight,width:t.scrollWidth-In(this)-this.display.barWidth,clientHeight:Mn(this),clientWidth:Nn(this)}},scrollIntoView:oi((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:se(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){jr(t),t.curOp.scrollToPos=e}(this,t):zr(this,t.from,t.to,t.margin)})),setSize:oi((function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&$n(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){yr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,bt(this,"refresh",this)})),operation:function(t){return ii(this,t)},startOperation:function(){return Jr(this)},endOperation:function(){return Zr(this)},refresh:oi((function(){var t=this.display.cachedTextHeight;mr(this),this.curOp.forceUpdate=!0,qn(this),Pr(this,this.doc.scrollLeft,this.doc.scrollTop),pi(this.display),(null==t||Math.abs(t-cr(this.display))>.5||this.options.lineWrapping)&&dr(this),bt(this,"refresh",this)})),swapDoc:oi((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Ui(this,t),qn(this),this.display.input.reset(),Pr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,dn(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Et(t),t.registerHelper=function(e,r,i){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=i},t.registerGlobalHelper=function(e,r,i,s){t.registerHelper(e,r,s),n[e]._global.push({pred:i,val:s})}}(No);var Jo="iter insert remove copy getEditor constructor".split(" ");for(var Zo in Rs.prototype)Rs.prototype.hasOwnProperty(Zo)&&q(Jo,Zo)<0&&(No.prototype[Zo]=function(t){return function(){return t.apply(this.doc,arguments)}}(Rs.prototype[Zo]));return Et(Rs),No.inputStyles={textarea:Xo,contenteditable:qo},No.defineMode=function(t){No.defaults.mode||"null"==t||(No.defaults.mode=t),Wt.apply(this,arguments)},No.defineMIME=function(t,e){Ft[t]=e},No.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),No.defineMIME("text/plain","null"),No.defineExtension=function(t,e){No.prototype[t]=e},No.defineDocExtension=function(t,e){Rs.prototype[t]=e},No.fromTextArea=function(t,e){if((e=e?W(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=M(z(t));e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=a.getValue()}var i;if(t.form&&(mt(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var s=t.form;i=s.submit;try{var o=s.submit=function(){r(),s.submit=i,s.submit(),s.submit=o}}catch(t){}}e.finishInit=function(n){n.save=r,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,r(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(vt(t.form,"submit",r),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var a=No((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return a},function(t){t.off=vt,t.on=mt,t.wheelEventPixels=xi,t.Doc=Rs,t.splitLines=Bt,t.countColumn=H,t.findColumn=X,t.isWordChar=it,t.Pass=V,t.signal=bt,t.Line=Je,t.changeEnd=Ii,t.scrollbarModel=Yr,t.Pos=se,t.cmpPos=oe,t.modes=Ut,t.mimeModes=Ft,t.resolveMode=Ht,t.getMode=$t,t.modeExtensions=qt,t.extendMode=Vt,t.copyState=Gt,t.startState=Kt,t.innerMode=Yt,t.commands=so,t.keyMap=Gs,t.keyName=Qs,t.isModifierKey=Js,t.lookupKey=Xs,t.normalizeKeyMap=Ks,t.StringStream=Xt,t.SharedTextMarker=Is,t.TextMarker=Cs,t.LineWidget=Os,t.e_preventDefault=kt,t.e_stopPropagation=xt,t.e_stop=Tt,t.addClass=D,t.contains=N,t.rmClass=T,t.keyNames=Hs}(No),No.version="5.65.19",No}()},251:(t,e)=>{e.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=256*s+t[e+h],h+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=256*o+t[e+h],h+=f,u-=8);if(0===s)s=1-l;else{if(s===c)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=l}return(d?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,n,r,i,s){var o,a,c,l=8*s-i-1,u=(1<<l)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[n+d]=255&o,d+=p,o/=256,l-=8);t[n+d-p]|=128*g}},287:(t,e,n)=>{"use strict";const r=n(526),i=n(251),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){return+t!=t&&(t=0),c.alloc(+t)},e.INSPECT_MAX_BYTES=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return l(t,e,n)}function l(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(K(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(K(t,SharedArrayBuffer)||t&&K(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);const i=function(t){if(c.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||X(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return u(t),a(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function g(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(i)return r?-1:V(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){let s,o=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,n/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let r=-1;for(s=n;s<a;s++)if(l(t,s)===l(e,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===c)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){let n=!0;for(let r=0;r<c;r++)if(l(t,s+r)!==l(e,r)){n=!1;break}if(n)return s}return-1}function w(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=e.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(e.substr(2*o,2),16);if(X(r))return o;t[n+o]=r}return o}function _(t,e,n,r){return Y(V(e,t.length-n),t,n,r)}function S(t,e,n,r){return Y(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function E(t,e,n,r){return Y(G(e),t,n,r)}function k(t,e,n,r){return Y(function(t,e){let n,r,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(e,t.length-n),t,n,r)}function x(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=n){let n,r,a,c;switch(o){case 1:e<128&&(s=e);break;case 2:n=t[i+1],128==(192&n)&&(c=(31&e)<<6|63&n,c>127&&(s=c));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(c=(15&e)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}return function(t){const e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=T));return n}(r)}e.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return l(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=c.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(K(e,Uint8Array))i+e.length>r.length?(c.isBuffer(e)||(e=c.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!c.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?O(this,0,t):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0);const a=Math.min(s,o),l=this.slice(r,i),u=t.slice(e,n);for(let t=0;t<a;++t)if(l[t]!==u[t]){s=l[t],o=u[t];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":case"latin1":case"binary":return S(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function L(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=J[t[r]];return i}function I(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,i,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r,i){W(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,n}function R(t,e,n,r,i){W(e,r,i,t,n,7);let s=Number(e&BigInt(4294967295));t[n+7]=s,s>>=8,t[n+6]=s,s>>=8,t[n+5]=s,s>>=8,t[n+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=o,o>>=8,t[n+2]=o,o>>=8,t[n+1]=o,o>>=8,t[n]=o,n+8}function B(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,s){return e=+e,n>>>=0,s||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,s){return e=+e,n>>>=0,s||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let r=this[t],i=1,s=0;for(;++s<e&&(i*=256);)r+=this[t+s]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||N(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readBigUInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||$(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||$(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let r=this[t],i=1,s=0;for(;++s<e&&(i*=256);)r+=this[t+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||N(t,e,this.length);let r=e,i=1,s=this[t+--r];for(;r>0&&(i*=256);)s+=this[t+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return t>>>=0,e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||N(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||N(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readBigInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||$(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),c.prototype.readBigInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||$(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),c.prototype.readFloatLE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||N(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||N(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||M(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigUInt64LE=Z((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=Z((function(t,e=0){return R(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}let i=0,s=1,o=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);M(this,t,e,n,r-1,-r)}let i=n-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeBigInt64LE=Z((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=Z((function(t,e=0){return R(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const s=c.isBuffer(t)?t:c.from(t,r),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=s[i%o]}return this};const z={};function U(t,e,n){z[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function W(t,e,n,r,i,s){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new z.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||$(e,t.length-(n+1))}(r,i,s)}function H(t,e){if("number"!=typeof t)throw new z.ERR_INVALID_ARG_TYPE(e,"number",t)}function $(t,e,n){if(Math.floor(t)!==t)throw H(t,n),new z.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function V(t,e){let n;e=e||1/0;const r=t.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function G(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},340:()=>{},345:(t,e,n)=>{t.exports=n(7).EventEmitter},382:(t,e,n)=>{"use strict";var r=n(225),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var s=Object.create(n(622));s.inherits=n(698);var o=n(412),a=n(708);s.inherits(h,o);for(var c=i(a.prototype),l=0;l<c.length;l++){var u=c[l];h.prototype[u]||(h.prototype[u]=a.prototype[u])}function h(t){if(!(this instanceof h))return new h(t);o.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},399:(t,e,n)=>{(e=t.exports=n(412)).Stream=e,e.Readable=e,e.Writable=n(708),e.Duplex=n(382),e.Transform=n(610),e.PassThrough=n(600)},412:(t,e,n)=>{"use strict";var r=n(606),i=n(225);t.exports=b;var s,o=n(634);b.ReadableState=v,n(7).EventEmitter;var a=function(t,e){return t.listeners(e).length},c=n(345),l=n(861).Buffer,u=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=Object.create(n(622));h.inherits=n(698);var f=n(838),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=n(222),m=n(896);h.inherits(b,c);var y=["error","close","destroy","pause","resume"];function v(t,e){t=t||{};var r=e instanceof(s=s||n(382));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(141).I),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(s=s||n(382),!(this instanceof b))return new b(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function w(t,e,n,r,i){var s,o=t._readableState;return null===e?(o.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,k(t)}}(t,o)):(i||(s=function(t,e){var n,r;return r=e,l.isBuffer(r)||r instanceof u||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,e)),s?t.emit("error",s):o.objectMode||e&&e.length>0?("string"==typeof e||o.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||0!==e.length?_(t,o,e,!1):O(t,o)):_(t,o,e,!1))):r||(o.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(o)}function _(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&k(t)),O(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=n(141).I),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var S=8388608;function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(x,t):x(t))}function x(t){d("emit readable"),t.emit("readable"),A(t)}function O(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(T,t,e))}function T(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function L(t){d("readable nexttick read 0"),t.read(0)}function C(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function I(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),0===(t-=o)){o===s.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=s.slice(o));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=l.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(s.copy(n,n.length-t,0,o),0===(t-=o)){o===s.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=s.slice(o));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function N(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(M,e,t))}function M(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function D(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?N(this):k(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&N(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),null===(r=t>0?I(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&N(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=t;break;case 1:s.pipes=[s.pipes,t];break;default:s.pipes.push(t)}s.pipesCount+=1,d("pipe count=%d opts=%j",s.pipesCount,e);var c=e&&!1===e.end||t===r.stdout||t===r.stderr?v:l;function l(){d("onend"),t.end()}s.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",(function e(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),t.removeListener("close",m),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",g),t.removeListener("unpipe",e),n.removeListener("end",l),n.removeListener("end",v),n.removeListener("data",p),h=!0,!s.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(n);t.on("drain",u);var h=!1,f=!1;function p(e){d("ondata"),f=!1,!1!==t.write(e)||f||((1===s.pipesCount&&s.pipes===t||s.pipesCount>1&&-1!==D(s.pipes,t))&&!h&&(d("false write response, pause",s.awaitDrain),s.awaitDrain++,f=!0),n.pause())}function g(e){d("onerror",e),v(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",y),v()}function y(){d("onfinish"),t.removeListener("close",m),v()}function v(){d("unpipe"),n.unpipe(t)}return n.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",m),t.once("finish",y),t.emit("pipe",n),s.flowing||(d("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<i;s++)r[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=D(e.pipes,t);return-1===o||(e.pipes.splice(o,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},b.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&k(this):i.nextTick(L,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(C,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<y.length;s++)t.on(y[s],this.emit.bind(this,y[s]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I},526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,s=a(t),o=s[0],c=s[1],l=new i(function(t,e,n){return 3*(e+n)/4-n}(0,o,c)),u=0,h=c>0?o-4:o;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===c&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[u++]=255&e),1===c&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,s=[],o=16383,a=0,l=r-i;a<l;a+=o)s.push(c(t,a,a+o>l?l:a+o));return 1===i?(e=t[r-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),s.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,s,o=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(n[(s=i)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},576:(t,e,n)=>{!function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",(function(r,i){var s,o,a=r.indentUnit,c={},l=i.htmlMode?e:n;for(var u in l)c[u]=l[u];for(var u in i)c[u]=i[u];function h(t,e){function n(n){return e.tokenize=n,n(t,e)}var r=t.next();return"<"==r?t.eat("!")?t.eat("[")?t.match("CDATA[")?n(d("atom","]]>")):null:t.match("--")?n(d("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(p(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=d("meta","?>"),"meta"):(s=t.eat("/")?"closeTag":"openTag",e.tokenize=f,"tag bracket"):"&"==r?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function f(t,e){var n,r,i=t.next();if(">"==i||"/"==i&&t.eat(">"))return e.tokenize=h,s=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return s="equals",null;if("<"==i){e.tokenize=h,e.state=b,e.tagName=e.tagStart=null;var o=e.tokenize(t,e);return o?o+" tag error":"tag error"}return/[\'\"]/.test(i)?(e.tokenize=(n=i,r=function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=f;break}return"string"},r.isInAttribute=!0,r),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function d(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=h;break}n.next()}return t}}function p(t){return function(e,n){for(var r;null!=(r=e.next());){if("<"==r)return n.tokenize=p(t+1),n.tokenize(e,n);if(">"==r){if(1==t){n.tokenize=h;break}return n.tokenize=p(t-1),n.tokenize(e,n)}}return"meta"}}function g(t){return t&&t.toLowerCase()}function m(t,e,n){this.prev=t.context,this.tagName=e||"",this.indent=t.indented,this.startOfLine=n,(c.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function y(t){t.context&&(t.context=t.context.prev)}function v(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!c.contextGrabbers.hasOwnProperty(g(n))||!c.contextGrabbers[g(n)].hasOwnProperty(g(e)))return;y(t)}}function b(t,e,n){return"openTag"==t?(n.tagStart=e.column(),w):"closeTag"==t?_:b}function w(t,e,n){return"word"==t?(n.tagName=e.current(),o="tag",k):c.allowMissingTagName&&"endTag"==t?(o="tag bracket",k(t,0,n)):(o="error",w)}function _(t,e,n){if("word"==t){var r=e.current();return n.context&&n.context.tagName!=r&&c.implicitlyClosed.hasOwnProperty(g(n.context.tagName))&&y(n),n.context&&n.context.tagName==r||!1===c.matchClosing?(o="tag",S):(o="tag error",E)}return c.allowMissingTagName&&"endTag"==t?(o="tag bracket",S(t,0,n)):(o="error",E)}function S(t,e,n){return"endTag"!=t?(o="error",S):(y(n),b)}function E(t,e,n){return o="error",S(t,0,n)}function k(t,e,n){if("word"==t)return o="attribute",x;if("endTag"==t||"selfcloseTag"==t){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||c.autoSelfClosers.hasOwnProperty(g(r))?v(n,r):(v(n,r),n.context=new m(n,r,i==n.indented)),b}return o="error",k}function x(t,e,n){return"equals"==t?O:(c.allowMissing||(o="error"),k(t,0,n))}function O(t,e,n){return"string"==t?T:"word"==t&&c.allowUnquoted?(o="string",k):(o="error",k(t,0,n))}function T(t,e,n){return"string"==t?T:k(t,0,n)}return h.isInText=!0,{startState:function(t){var e={tokenize:h,state:b,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;s=null;var n=e.tokenize(t,e);return(n||s)&&"comment"!=n&&(o=null,e.state=e.state(s||n,t,e),o&&(n="error"==o?n+" error":o)),n},indent:function(e,n,r){var i=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+a;if(i&&i.noIndent)return t.Pass;if(e.tokenize!=f&&e.tokenize!=h)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==c.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+a*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;i;){if(i.tagName==s[2]){i=i.prev;break}if(!c.implicitlyClosed.hasOwnProperty(g(i.tagName)))break;i=i.prev}else if(s)for(;i;){var o=c.contextGrabbers[g(i.tagName)];if(!o||!o.hasOwnProperty(g(s[2])))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+a:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(t){t.state==O&&(t.state=k)},xmlCurrentTag:function(t){return t.tagName?{name:t.tagName,close:"closeTag"==t.type}:null},xmlCurrentContext:function(t){for(var e=[],n=t.context;n;n=n.prev)e.push(n.tagName);return e.reverse()}}})),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(237))},600:(t,e,n)=>{"use strict";t.exports=s;var r=n(610),i=Object.create(n(622));function s(t){if(!(this instanceof s))return new s(t);r.call(this,t)}i.inherits=n(698),i.inherits(s,r),s.prototype._transform=function(t,e,n){n(null,t)}},606:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var a,c=[],l=!1,u=-1;function h(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&f())}function f(){if(!l){var t=o(h);l=!0;for(var e=c.length;e;){for(a=c,c=[];++u<e;)a&&a[u].run();u=-1,e=c.length}a=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||o(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},610:(t,e,n)=>{"use strict";t.exports=o;var r=n(382),i=Object.create(n(622));function s(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);r.call(this,t),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(698),i.inherits(o,r),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},622:(t,e,n)=>{function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(287).Buffer.isBuffer},634:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},643:(t,e,n)=>{function r(t){try{if(!n.g.localStorage)return!1}catch(t){return!1}var e=n.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}},698:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},708:(t,e,n)=>{"use strict";var r=n(606),i=n(225);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e){var n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(undefined),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=y;var o,a=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?setImmediate:i.nextTick;y.WritableState=m;var c=Object.create(n(622));c.inherits=n(698);var l,u={deprecate:n(643)},h=n(345),f=n(861).Buffer,d=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},p=n(896);function g(){}function m(t,e){o=o||n(382),t=t||{};var r=e instanceof o;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var c=t.highWaterMark,l=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:r&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,s=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,s){--e.pendingcb,n?(i.nextTick(s,r),i.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(s(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,s);else{var o=_(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?a(b,t,n,o,s):b(t,n,o,s)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function y(t){if(o=o||n(382),!(l.call(y,this)||this instanceof o))return new y(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function v(t,e,n,r,i,s,o){e.writelen=r,e.writecb=o,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)i[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;i.allBuffers=c,v(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,h=n.callback;if(v(t,e,!1,e.objectMode?1:l.length,l,u,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function _(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var n=_(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}c.inherits(y,h),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(l=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!l.call(this,t)||this===y&&t&&t._writableState instanceof m}})):l=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,s=this._writableState,o=!1,a=!s.objectMode&&(r=t,f.isBuffer(r)||r instanceof d);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=s.defaultEncoding),"function"!=typeof n&&(n=g),s.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),i.nextTick(r,o),s=!1),s}(this,s,t,n))&&(s.pendingcb++,o=function(t,e,n,r,i,s){if(!n){var o=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n)),e}(e,r,i);r!==o&&(n=!0,i="buffer",r=o)}var a=e.objectMode?1:r.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var l=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:s,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,r,i,s);return c}(this,s,a,t,e,n)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}},736:function(t){var e;e=function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function r(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var r=document.createElement("img");r.src=this.options.avatar,r.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(r):t.insertAdjacentElement("afterbegin",r)}if(!0===this.options.close){var i=document.createElement("button");i.type="button",i.setAttribute("aria-label","Close"),i.className="toast-close",i.innerHTML="&#10006;",i.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var s=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&s>360?t.insertAdjacentElement("afterbegin",i):t.appendChild(i)}if(this.options.stopOnFocus&&this.options.duration>0){var o=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){o.removeElement(t)}),o.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var a=n("x",this.options),c=n("y",this.options),l="left"==this.options.position?a:"-"+a,u="toastify-top"==this.options.gravity?c:"-"+c;t.style.transform="translate("+l+","+u+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},i={top:15,bottom:15},s=document.getElementsByClassName("toastify"),o=0;o<s.length;o++){t=!0===r(s[o],"toastify-top")?"toastify-top":"toastify-bottom";var a=s[o].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(s[o].style[t]=i[t]+"px",i[t]+=a+15):!0===r(s[o],"toastify-left")?(s[o].style[t]=e[t]+"px",e[t]+=a+15):(s[o].style[t]=n[t]+"px",n[t]+=a+15)}return this},e.lib.init.prototype=e.lib,e},t.exports?t.exports=e():this.Toastify=e()},829:(t,e,n)=>{!function(t){"use strict";var e={},n=/[^\s\u00a0]/,r=t.Pos,i=t.cmpPos;function s(t){var e=t.search(n);return-1==e?0:e}function o(t,e){var n=t.getMode();return!1!==n.useInnerComments&&n.innerMode?t.getModeAt(e):n}t.commands.toggleComment=function(t){t.toggleComment()},t.defineExtension("toggleComment",(function(t){t||(t=e);for(var n=this,i=1/0,s=this.listSelections(),o=null,a=s.length-1;a>=0;a--){var c=s[a].from(),l=s[a].to();c.line>=i||(l.line>=i&&(l=r(i,0)),i=c.line,null==o?n.uncomment(c,l,t)?o="un":(n.lineComment(c,l,t),o="line"):"un"==o?n.uncomment(c,l,t):n.lineComment(c,l,t))}})),t.defineExtension("lineComment",(function(t,i,a){a||(a=e);var c,l,u=this,h=o(u,t),f=u.getLine(t.line);if(null!=f&&(c=t,l=f,!/\bstring\b/.test(u.getTokenTypeAt(r(c.line,0)))||/^[\'\"\`]/.test(l))){var d=a.lineComment||h.lineComment;if(d){var p=Math.min(0!=i.ch||i.line==t.line?i.line+1:i.line,u.lastLine()+1),g=null==a.padding?" ":a.padding,m=a.commentBlankLines||t.line==i.line;u.operation((function(){if(a.indent){for(var e=null,i=t.line;i<p;++i){var o=-1===(c=u.getLine(i)).search(n)?c:c.slice(0,s(c));(null==e||e.length>o.length)&&(e=o)}for(i=t.line;i<p;++i){var c=u.getLine(i),l=e.length;(m||n.test(c))&&(c.slice(0,l)!=e&&(l=s(c)),u.replaceRange(e+d+g,r(i,0),r(i,l)))}}else for(i=t.line;i<p;++i)(m||n.test(u.getLine(i)))&&u.replaceRange(d+g,r(i,0))}))}else(a.blockCommentStart||h.blockCommentStart)&&(a.fullLines=!0,u.blockComment(t,i,a))}})),t.defineExtension("blockComment",(function(t,s,a){a||(a=e);var c=this,l=o(c,t),u=a.blockCommentStart||l.blockCommentStart,h=a.blockCommentEnd||l.blockCommentEnd;if(u&&h){if(!/\bcomment\b/.test(c.getTokenTypeAt(r(t.line,0)))){var f=Math.min(s.line,c.lastLine());f!=t.line&&0==s.ch&&n.test(c.getLine(f))&&--f;var d=null==a.padding?" ":a.padding;t.line>f||c.operation((function(){if(0!=a.fullLines){var e=n.test(c.getLine(f));c.replaceRange(d+h,r(f)),c.replaceRange(u+d,r(t.line,0));var o=a.blockCommentLead||l.blockCommentLead;if(null!=o)for(var p=t.line+1;p<=f;++p)(p!=f||e)&&c.replaceRange(o+d,r(p,0))}else{var g=0==i(c.getCursor("to"),s),m=!c.somethingSelected();c.replaceRange(h,s),g&&c.setSelection(m?s:c.getCursor("from"),s),c.replaceRange(u,t)}}))}}else(a.lineComment||l.lineComment)&&0!=a.fullLines&&c.lineComment(t,s,a)})),t.defineExtension("uncomment",(function(t,i,s){s||(s=e);var a,c=this,l=o(c,t),u=Math.min(0!=i.ch||i.line==t.line?i.line:i.line-1,c.lastLine()),h=Math.min(t.line,u),f=s.lineComment||l.lineComment,d=[],p=null==s.padding?" ":s.padding;t:if(f){for(var g=h;g<=u;++g){var m=c.getLine(g),y=m.indexOf(f);if(y>-1&&!/comment/.test(c.getTokenTypeAt(r(g,y+1)))&&(y=-1),-1==y&&n.test(m))break t;if(y>-1&&n.test(m.slice(0,y)))break t;d.push(m)}if(c.operation((function(){for(var t=h;t<=u;++t){var e=d[t-h],n=e.indexOf(f),i=n+f.length;n<0||(e.slice(i,i+p.length)==p&&(i+=p.length),a=!0,c.replaceRange("",r(t,n),r(t,i)))}})),a)return!0}var v=s.blockCommentStart||l.blockCommentStart,b=s.blockCommentEnd||l.blockCommentEnd;if(!v||!b)return!1;var w=s.blockCommentLead||l.blockCommentLead,_=c.getLine(h),S=_.indexOf(v);if(-1==S)return!1;var E=u==h?_:c.getLine(u),k=E.indexOf(b,u==h?S+v.length:0),x=r(h,S+1),O=r(u,k+1);if(-1==k||!/comment/.test(c.getTokenTypeAt(x))||!/comment/.test(c.getTokenTypeAt(O))||c.getRange(x,O,"\n").indexOf(b)>-1)return!1;var T=_.lastIndexOf(v,t.ch),L=-1==T?-1:_.slice(0,t.ch).indexOf(b,T+v.length);if(-1!=T&&-1!=L&&L+b.length!=t.ch)return!1;L=E.indexOf(b,i.ch);var C=E.slice(i.ch).lastIndexOf(v,L-i.ch);return T=-1==L||-1==C?-1:i.ch+C,(-1==L||-1==T||T==i.ch)&&(c.operation((function(){c.replaceRange("",r(u,k-(p&&E.slice(k-p.length,k)==p?p.length:0)),r(u,k+b.length));var t=S+v.length;if(p&&_.slice(t,t+p.length)==p&&(t+=p.length),c.replaceRange("",r(h,S),r(h,t)),w)for(var e=h+1;e<=u;++e){var i=c.getLine(e),s=i.indexOf(w);if(-1!=s&&!n.test(i.slice(0,s))){var o=s+w.length;p&&i.slice(o,o+p.length)==p&&(o+=p.length),c.replaceRange("",r(e,s),r(e,o))}}})),!0)}))}(n(237))},838:()=>{},861:(t,e,n)=>{var r=n(287),i=r.Buffer;function s(t,e){for(var n in t)e[n]=t[n]}function o(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=o),o.prototype=Object.create(i.prototype),s(i,o),o.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},o.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},o.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},896:(t,e,n)=>{"use strict";var r=n(225);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,t)):r.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,r.nextTick(i,n,t)):r.nextTick(i,n,t):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},923:(t,e,n)=>{!function(t){var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=t.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(t){return t&&t.bracketRegex||/[(){}[\]]/}function s(t,e,s){var a=t.getLineHandle(e.line),c=e.ch-1,l=s&&s.afterCursor;null==l&&(l=/(^| )cm-fat-cursor($| )/.test(t.getWrapperElement().className));var u=i(s),h=!l&&c>=0&&u.test(a.text.charAt(c))&&r[a.text.charAt(c)]||u.test(a.text.charAt(c+1))&&r[a.text.charAt(++c)];if(!h)return null;var f=">"==h.charAt(1)?1:-1;if(s&&s.strict&&f>0!=(c==e.ch))return null;var d=t.getTokenTypeAt(n(e.line,c+1)),p=o(t,n(e.line,c+(f>0?1:0)),f,d,s);return null==p?null:{from:n(e.line,c),to:p&&p.pos,match:p&&p.ch==h.charAt(0),forward:f>0}}function o(t,e,s,o,a){for(var c=a&&a.maxScanLineLength||1e4,l=a&&a.maxScanLines||1e3,u=[],h=i(a),f=s>0?Math.min(e.line+l,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-l),d=e.line;d!=f;d+=s){var p=t.getLine(d);if(p){var g=s>0?0:p.length-1,m=s>0?p.length:-1;if(!(p.length>c))for(d==e.line&&(g=e.ch-(s<0?1:0));g!=m;g+=s){var y=p.charAt(g);if(h.test(y)&&(void 0===o||(t.getTokenTypeAt(n(d,g+1))||"")==(o||""))){var v=r[y];if(v&&">"==v.charAt(1)==s>0)u.push(y);else{if(!u.length)return{pos:n(d,g),ch:y};u.pop()}}}}}return d-s!=(s>0?t.lastLine():t.firstLine())&&null}function a(t,r,i){for(var o=t.state.matchBrackets.maxHighlightLineLength||1e3,a=i&&i.highlightNonMatching,c=[],l=t.listSelections(),u=0;u<l.length;u++){var h=l[u].empty()&&s(t,l[u].head,i);if(h&&(h.match||!1!==a)&&t.getLine(h.from.line).length<=o){var f=h.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";c.push(t.markText(h.from,n(h.from.line,h.from.ch+1),{className:f})),h.to&&t.getLine(h.to.line).length<=o&&c.push(t.markText(h.to,n(h.to.line,h.to.ch+1),{className:f}))}}if(c.length){e&&t.state.focused&&t.focus();var d=function(){t.operation((function(){for(var t=0;t<c.length;t++)c[t].clear()}))};if(!r)return d;setTimeout(d,800)}}function c(t){t.operation((function(){t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null),t.state.matchBrackets.currentlyHighlighted=a(t,!1,t.state.matchBrackets)}))}function l(t){t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,(function(e,n,r){r&&r!=t.Init&&(e.off("cursorActivity",c),e.off("focus",c),e.off("blur",l),l(e)),n&&(e.state.matchBrackets="object"==typeof n?n:{},e.on("cursorActivity",c),e.on("focus",c),e.on("blur",l))})),t.defineExtension("matchBrackets",(function(){a(this,!0)})),t.defineExtension("findMatchingBracket",(function(t,e,n){return(n||"boolean"==typeof e)&&(n?(n.strict=e,e=n):e=e?{strict:!0}:null),s(this,t,e)})),t.defineExtension("scanForBracket",(function(t,e,n,r){return o(this,t,e,n,r)}))}(n(237))}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{initFolderStructure:()=>Wu});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{COPYFILE_EXCL:()=>it,COPYFILE_FICLONE:()=>st,COPYFILE_FICLONE_FORCE:()=>ot,F_OK:()=>tt,O_APPEND:()=>pt,O_CREAT:()=>ut,O_DIRECT:()=>_t,O_DIRECTORY:()=>gt,O_DSYNC:()=>bt,O_EXCL:()=>ht,O_NOATIME:()=>mt,O_NOCTTY:()=>ft,O_NOFOLLOW:()=>yt,O_NONBLOCK:()=>St,O_RDONLY:()=>at,O_RDWR:()=>lt,O_SYMLINK:()=>wt,O_SYNC:()=>vt,O_TRUNC:()=>dt,O_WRONLY:()=>ct,R_OK:()=>et,S_IFBLK:()=>Tt,S_IFCHR:()=>Ct,S_IFDIR:()=>Lt,S_IFIFO:()=>At,S_IFLNK:()=>xt,S_IFMT:()=>Et,S_IFREG:()=>Ot,S_IFSOCK:()=>kt,S_IRGRP:()=>zt,S_IROTH:()=>Ht,S_IRUSR:()=>Rt,S_IRWXG:()=>jt,S_IRWXO:()=>Wt,S_IRWXU:()=>Dt,S_ISGID:()=>Nt,S_ISUID:()=>It,S_ISVTX:()=>Mt,S_IWGRP:()=>Ut,S_IWOTH:()=>$t,S_IWUSR:()=>Bt,S_IXGRP:()=>Ft,S_IXOTH:()=>qt,S_IXUSR:()=>Pt,UV_FS_O_FILEMAP:()=>Vt,W_OK:()=>nt,X_OK:()=>rt,size_max:()=>Gt});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{FileHandle:()=>bi,access:()=>$i,appendFile:()=>Ci,chmod:()=>ji,chown:()=>Bi,constants:()=>t,copyFile:()=>Yi,cp:()=>Xi,exists:()=>_i,glob:()=>Zi,lchmod:()=>zi,lchown:()=>Pi,link:()=>Mi,lstat:()=>Ei,lutimes:()=>Fi,mkdir:()=>Ii,mkdtemp:()=>Vi,mkdtempDisposable:()=>Gi,open:()=>Oi,opendir:()=>Ki,readFile:()=>Ti,readdir:()=>Ni,readlink:()=>Ri,realpath:()=>Wi,rename:()=>wi,rm:()=>qi,rmdir:()=>Ai,stat:()=>Si,statfs:()=>Ji,symlink:()=>Di,truncate:()=>ki,unlink:()=>xi,utimes:()=>Ui,watch:()=>Hi,writeFile:()=>Li});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{get:()=>yo,getSync:()=>vo,list:()=>Eo,listSync:()=>ko,remove:()=>_o,removeSync:()=>So,set:()=>bo,setSync:()=>wo});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{BigIntStatsFs:()=>Ge,Dir:()=>sr,Dirent:()=>ir,IOC:()=>No,IOC32:()=>Mo,ReadStream:()=>gi,Stats:()=>$e,StatsFs:()=>Ve,WriteStream:()=>mi,access:()=>Js,accessSync:()=>Wr,appendFile:()=>Ts,appendFileSync:()=>vr,chmod:()=>Vs,chmodSync:()=>Pr,chown:()=>$s,chownSync:()=>Rr,chroot:()=>Xn,close:()=>Cs,closeSync:()=>wr,constants:()=>t,copyFile:()=>oo,copyFileSync:()=>Vr,cp:()=>uo,cpSync:()=>Xr,createReadStream:()=>no,createWriteStream:()=>ro,exists:()=>bs,existsSync:()=>lr,fchmod:()=>Bs,fchmodSync:()=>Tr,fchown:()=>Rs,fchownSync:()=>Or,fdatasync:()=>Ns,fdatasyncSync:()=>Er,fstat:()=>Ls,fstatSync:()=>br,fsync:()=>Is,fsyncSync:()=>Sr,ftruncate:()=>As,ftruncateSync:()=>_r,futimes:()=>Ps,futimesSync:()=>Lr,glob:()=>po,globSync:()=>Zr,ioctl:()=>Do,ioctlSync:()=>Ro,lchmod:()=>Gs,lchmodSync:()=>jr,lchown:()=>qs,lchownSync:()=>Br,link:()=>Fs,linkSync:()=>Nr,lopenSync:()=>gr,lstat:()=>_s,lstatSync:()=>hr,lutimes:()=>Ks,lutimesSync:()=>Ur,mkdir:()=>zs,mkdirSync:()=>Ar,mkdtemp:()=>so,mkdtempDisposableSync:()=>qr,mkdtempSync:()=>$r,mount:()=>Vn,open:()=>ks,openAsBlob:()=>fo,openSync:()=>pr,opendir:()=>lo,opendirSync:()=>Kr,promises:()=>e,read:()=>Ds,readFile:()=>xs,readFileSync:()=>mr,readSync:()=>xr,readdir:()=>Us,readdirSync:()=>Ir,readlink:()=>Hs,readlinkSync:()=>Dr,readv:()=>ao,readvSync:()=>Gr,realpath:()=>Xs,realpathSync:()=>Fr,rename:()=>vs,renameSync:()=>cr,rm:()=>io,rmSync:()=>Hr,rmdir:()=>js,rmdirSync:()=>Cr,stat:()=>ws,statSync:()=>ur,statfs:()=>ho,statfsSync:()=>Jr,symlink:()=>Ws,symlinkSync:()=>Mr,truncate:()=>Ss,truncateSync:()=>fr,umount:()=>Gn,unlink:()=>Es,unlinkSync:()=>dr,unwatchFile:()=>to,utimes:()=>Ys,utimesSync:()=>zr,watch:()=>eo,watchFile:()=>Qs,write:()=>Ms,writeFile:()=>Os,writeFileSync:()=>yr,writeSync:()=>kr,writev:()=>co,writevSync:()=>Yr,xattr:()=>n});const i=brs;var s=__webpack_require__(42),o=__webpack_require__.n(s),a=__webpack_require__(217),c=__webpack_require__.n(a),l=__webpack_require__(228);class u extends l{[Symbol.toStringTag]="List";constructor(t){super(),t&&this.push(...t)}data=new Set;toSet(){return new Set(this.data)}toArray(){return Array.from(this.data)}toJSON(){return Array.from(this.data)}toString(){return this.join(",")}_set(t,e,n=!1){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not set an element outside the bounds of the list");const r=Array.from(this.data);r.splice(t,+n,e),this.data=new Set(r),this.emit("update")}set(t,e){this._set(t,e,!0)}deleteAt(t){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not delete an element outside the bounds of the list");this.delete(Array.from(this.data).at(t))}insert(t,e=this.data.size){this._set(e,t,!1)}at(t){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not access an element outside the bounds of the list");return Array.from(this.data).at(t)}pop(){const t=Array.from(this.data).pop();return void 0!==t&&this.delete(t),t}push(...t){for(const e of t)this.add(e);return this.data.size}join(t){return Array.from(this.data).join(t)}splice(t,e,...n){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not splice elements outside the bounds of the list");const r=Array.from(this.data),i=r.splice(t,e,...n);return this.data=new Set(r),this.emit("update"),i}add(t){return this.data.add(t),this.emit("update"),this.emit("add",t),this}clear(){this.data.clear(),this.emit("update")}delete(t){const e=this.data.delete(t);return this.emit("update"),e}has(t){return this.data.has(t)}get size(){return this.data.size}entries(){return this.toArray().entries()}keys(){return this.toArray().keys()}values(){return this.data.values()}[Symbol.iterator](){return this.data[Symbol.iterator]()}}function h(t,...e){const n={};for(const r of e.flat())n[r]=t[r];return n}function f(t,...e){return function(t){const n=Object.entries(t);return Object.fromEntries(n.filter((([t,n])=>(t=>!e.flat().includes(t))(t))))}(t)}function d(t){try{return JSON.parse(t),!0}catch{return!1}}function p(t=new Error){const e=setTimeout((()=>{throw t}),5e3);return()=>clearTimeout(e)}function g(t){throw t&&"object"==typeof t&&function(t){const e=[];for(let n=t;n&&!["Function","Object"].includes(n.constructor.name);n=Object.getPrototypeOf(n))e.push(n.constructor.name);return e}(t).includes("Error")&&Error?.captureStackTrace(t,g),t}function m(t,e){if("getter"!=e.kind)throw new Error("@memoize can only be used on getters");return function(){e.metadata??={};const{memoized:n={}}=e.metadata;return e.name in n?(console.log("Using cached value for",e.name,JSON.stringify(n[e.name])),n[e.name]):(n[e.name]=t.call(this),n[e.name])}}const y=Intl.NumberFormat("en",{notation:"compact"});function v(t=0,e=1){return Math.round(Math.random()*(e-t)+t)}y.format.bind(y);const b=new TextEncoder;function w(t){return b.encode(t)}const _=new TextDecoder;function S(t){if(!t)return"";if(t.buffer instanceof ArrayBuffer&&!t.buffer.resizable)return _.decode(t);const e=new Uint8Array(t.byteLength);return e.set(t),_.decode(e)}function E(t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}function k(t){const e=t.replace(/-/g,""),n=new Uint8Array(16);for(let t=0;t<16;t++)n[t]=parseInt(e.slice(2*t,2*t+2),16);return n}var x;!function(t){t[t.EPERM=1]="EPERM",t[t.ENOENT=2]="ENOENT",t[t.ESRCH=3]="ESRCH",t[t.EINTR=4]="EINTR",t[t.EIO=5]="EIO",t[t.ENXIO=6]="ENXIO",t[t.E2BIG=7]="E2BIG",t[t.ENOEXEC=8]="ENOEXEC",t[t.EBADF=9]="EBADF",t[t.ECHILD=10]="ECHILD",t[t.EAGAIN=11]="EAGAIN",t[t.ENOMEM=12]="ENOMEM",t[t.EACCES=13]="EACCES",t[t.EFAULT=14]="EFAULT",t[t.ENOTBLK=15]="ENOTBLK",t[t.EBUSY=16]="EBUSY",t[t.EEXIST=17]="EEXIST",t[t.EXDEV=18]="EXDEV",t[t.ENODEV=19]="ENODEV",t[t.ENOTDIR=20]="ENOTDIR",t[t.EISDIR=21]="EISDIR",t[t.EINVAL=22]="EINVAL",t[t.ENFILE=23]="ENFILE",t[t.EMFILE=24]="EMFILE",t[t.ETXTBSY=26]="ETXTBSY",t[t.EFBIG=27]="EFBIG",t[t.ENOSPC=28]="ENOSPC",t[t.ESPIPE=29]="ESPIPE",t[t.EROFS=30]="EROFS",t[t.EMLINK=31]="EMLINK",t[t.EPIPE=32]="EPIPE",t[t.EDOM=33]="EDOM",t[t.ERANGE=34]="ERANGE",t[t.EDEADLK=35]="EDEADLK",t[t.ENAMETOOLONG=36]="ENAMETOOLONG",t[t.ENOLCK=37]="ENOLCK",t[t.ENOSYS=38]="ENOSYS",t[t.ENOTEMPTY=39]="ENOTEMPTY",t[t.ELOOP=40]="ELOOP",t[t.ENOMSG=42]="ENOMSG",t[t.EIDRM=43]="EIDRM",t[t.ECHRNG=44]="ECHRNG",t[t.EL2NSYNC=45]="EL2NSYNC",t[t.EL3HLT=46]="EL3HLT",t[t.EL3RST=47]="EL3RST",t[t.ENRNG=48]="ENRNG",t[t.EUNATCH=49]="EUNATCH",t[t.ECSI=50]="ECSI",t[t.EL2HLT=51]="EL2HLT",t[t.EBADE=52]="EBADE",t[t.EBADR=53]="EBADR",t[t.EXFULL=54]="EXFULL",t[t.ENOANO=55]="ENOANO",t[t.EBADRQC=56]="EBADRQC",t[t.EBADSLT=57]="EBADSLT",t[t.EBFONT=59]="EBFONT",t[t.ENOSTR=60]="ENOSTR",t[t.ENODATA=61]="ENODATA",t[t.ETIME=62]="ETIME",t[t.ENOSR=63]="ENOSR",t[t.ENONET=64]="ENONET",t[t.ENOPKG=65]="ENOPKG",t[t.EREMOTE=66]="EREMOTE",t[t.ENOLINK=67]="ENOLINK",t[t.EADV=68]="EADV",t[t.ESRMNT=69]="ESRMNT",t[t.ECOMM=70]="ECOMM",t[t.EPROTO=71]="EPROTO",t[t.EMULTIHOP=72]="EMULTIHOP",t[t.EDOTDOT=73]="EDOTDOT",t[t.EBADMSG=74]="EBADMSG",t[t.EOVERFLOW=75]="EOVERFLOW",t[t.ENOTUNIQ=76]="ENOTUNIQ",t[t.EBADFD=77]="EBADFD",t[t.EREMCHG=78]="EREMCHG",t[t.ELIBACC=79]="ELIBACC",t[t.ELIBBAD=80]="ELIBBAD",t[t.ELIBSCN=81]="ELIBSCN",t[t.ELIBMAX=82]="ELIBMAX",t[t.ELIBEXEC=83]="ELIBEXEC",t[t.EILSEQ=84]="EILSEQ",t[t.ERESTART=85]="ERESTART",t[t.ESTRPIPE=86]="ESTRPIPE",t[t.EUSERS=87]="EUSERS",t[t.ENOTSOCK=88]="ENOTSOCK",t[t.EDESTADDRREQ=89]="EDESTADDRREQ",t[t.EMSGSIZE=90]="EMSGSIZE",t[t.EPROTOTYPE=91]="EPROTOTYPE",t[t.ENOPROTOOPT=92]="ENOPROTOOPT",t[t.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",t[t.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",t[t.ENOTSUP=95]="ENOTSUP",t[t.EPFNOSUPPORT=96]="EPFNOSUPPORT",t[t.EAFNOSUPPORT=97]="EAFNOSUPPORT",t[t.EADDRINUSE=98]="EADDRINUSE",t[t.EADDRNOTAVAIL=99]="EADDRNOTAVAIL",t[t.ENETDOWN=100]="ENETDOWN",t[t.ENETUNREACH=101]="ENETUNREACH",t[t.ENETRESET=102]="ENETRESET",t[t.ECONNABORTED=103]="ECONNABORTED",t[t.ECONNRESET=104]="ECONNRESET",t[t.ENOBUFS=105]="ENOBUFS",t[t.EISCONN=106]="EISCONN",t[t.ENOTCONN=107]="ENOTCONN",t[t.ESHUTDOWN=108]="ESHUTDOWN",t[t.ETOOMANYREFS=109]="ETOOMANYREFS",t[t.ETIMEDOUT=110]="ETIMEDOUT",t[t.ECONNREFUSED=111]="ECONNREFUSED",t[t.EHOSTDOWN=112]="EHOSTDOWN",t[t.EHOSTUNREACH=113]="EHOSTUNREACH",t[t.EALREADY=114]="EALREADY",t[t.EINPROGRESS=115]="EINPROGRESS",t[t.ESTALE=116]="ESTALE",t[t.EEUCLEAN=117]="EEUCLEAN",t[t.ENOTNAM=118]="ENOTNAM",t[t.ENAVAIL=119]="ENAVAIL",t[t.EISNAM=120]="EISNAM",t[t.EREMOTEIO=121]="EREMOTEIO",t[t.EDQUOT=122]="EDQUOT",t[t.ENOMEDIUM=123]="ENOMEDIUM",t[t.EMEDIUMTYPE=124]="EMEDIUMTYPE",t[t.ECANCELED=125]="ECANCELED",t[t.ENOKEY=126]="ENOKEY",t[t.EKEYEXPIRED=127]="EKEYEXPIRED",t[t.EKEYREVOKED=128]="EKEYREVOKED",t[t.EKEYREJECTED=129]="EKEYREJECTED",t[t.EOWNERDEAD=130]="EOWNERDEAD",t[t.ENOTRECOVERABLE=131]="ENOTRECOVERABLE",t[t.ERFKILL=132]="ERFKILL",t[t.EHWPOISON=133]="EHWPOISON"}(x||(x={}));const O={[x.EPERM]:"Operation not permitted",[x.ENOENT]:"No such file or directory",[x.ESRCH]:"No such process",[x.EINTR]:"Interrupted system call",[x.EIO]:"Input/output error",[x.ENXIO]:"No such device or address",[x.E2BIG]:"Argument list too long",[x.ENOEXEC]:"Exec format error",[x.EBADF]:"Bad file descriptor",[x.ECHILD]:"No child processes",[x.EAGAIN]:"Resource temporarily unavailable",[x.ENOMEM]:"Out of memory",[x.EACCES]:"Permission denied",[x.EFAULT]:"Bad address",[x.ENOTBLK]:"Block device required",[x.EBUSY]:"Resource busy or locked",[x.EEXIST]:"File exists",[x.EXDEV]:"Invalid cross-device link",[x.ENODEV]:"No such device",[x.ENOTDIR]:"File is not a directory",[x.EISDIR]:"File is a directory",[x.EINVAL]:"Invalid argument",[x.ENFILE]:"Too many open files in system",[x.EMFILE]:"Too many open files",[x.ETXTBSY]:"Text file busy",[x.EFBIG]:"File is too big",[x.ENOSPC]:"No space left on disk",[x.ESPIPE]:"Illegal seek",[x.EROFS]:"Cannot modify a read-only file system",[x.EMLINK]:"Too many links",[x.EPIPE]:"Broken pipe",[x.EDOM]:"Numerical argument out of domain",[x.ERANGE]:"Numerical result out of range",[x.EDEADLK]:"Resource deadlock would occur",[x.ENAMETOOLONG]:"File name too long",[x.ENOLCK]:"No locks available",[x.ENOSYS]:"Function not implemented",[x.ENOTEMPTY]:"Directory is not empty",[x.ELOOP]:"Too many levels of symbolic links",[x.ENOMSG]:"No message of desired type",[x.EIDRM]:"Identifier removed",[x.ECHRNG]:"Channel number out of range",[x.EL2NSYNC]:"Level 2 not synchronized",[x.EL3HLT]:"Level 3 halted",[x.EL3RST]:"Level 3 reset",[x.ENRNG]:"Link number out of range",[x.EUNATCH]:"Protocol driver not attached",[x.ECSI]:"No CSI structure available",[x.EL2HLT]:"Level 2 halted",[x.EBADE]:"Invalid exchange",[x.EBADR]:"Invalid request descriptor",[x.EXFULL]:"Exchange full",[x.ENOANO]:"No anode",[x.EBADRQC]:"Invalid request code",[x.EBADSLT]:"Invalid slot",[x.EBFONT]:"Bad font file format",[x.ENOSTR]:"Device not a stream",[x.ENODATA]:"No data available",[x.ETIME]:"Timer expired",[x.ENOSR]:"Out of streams resources",[x.ENONET]:"Machine is not on the network",[x.ENOPKG]:"Package not installed",[x.EREMOTE]:"Object is remote",[x.ENOLINK]:"Link has been severed",[x.EADV]:"Advertise error",[x.ESRMNT]:"Srmount error",[x.ECOMM]:"Communication error on send",[x.EPROTO]:"Protocol error",[x.EMULTIHOP]:"Multihop attempted",[x.EDOTDOT]:"RFS specific error",[x.EBADMSG]:"Bad message",[x.EOVERFLOW]:"Value too large for defined data type",[x.ENOTUNIQ]:"Name not unique on network",[x.EBADFD]:"File descriptor in bad state",[x.EREMCHG]:"Remote address changed",[x.ELIBACC]:"Can not access a needed shared library",[x.ELIBBAD]:"Accessing a corrupted shared library",[x.ELIBSCN]:".lib section in a.out corrupted",[x.ELIBMAX]:"Attempting to link in too many shared libraries",[x.ELIBEXEC]:"Cannot exec a shared library directly",[x.EILSEQ]:"Invalid or incomplete multibyte or wide character",[x.ERESTART]:"Interrupted system call should be restarted",[x.ESTRPIPE]:"Streams pipe error",[x.EUSERS]:"Too many users",[x.ENOTSOCK]:"Socket operation on non-socket",[x.EDESTADDRREQ]:"Destination address required",[x.EMSGSIZE]:"Message too long",[x.EPROTOTYPE]:"Protocol wrong type for socket",[x.ENOPROTOOPT]:"Protocol not available",[x.EPROTONOSUPPORT]:"Protocol not supported",[x.ESOCKTNOSUPPORT]:"Socket type not supported",[x.ENOTSUP]:"Operation is not supported",[x.EPFNOSUPPORT]:"Protocol family not supported",[x.EAFNOSUPPORT]:"Address family not supported by protocol",[x.EADDRINUSE]:"Address already in use",[x.EADDRNOTAVAIL]:"Cannot assign requested address",[x.ENETDOWN]:"Network is down",[x.ENETUNREACH]:"Network is unreachable",[x.ENETRESET]:"Network dropped connection on reset",[x.ECONNABORTED]:"Software caused connection abort",[x.ECONNRESET]:"Connection reset by peer",[x.ENOBUFS]:"No buffer space available",[x.EISCONN]:"Transport endpoint is already connected",[x.ENOTCONN]:"Transport endpoint is not connected",[x.ESHUTDOWN]:"Cannot send after transport endpoint shutdown",[x.ETOOMANYREFS]:"Too many references: cannot splice",[x.ETIMEDOUT]:"Connection timed out",[x.ECONNREFUSED]:"Connection refused",[x.EHOSTDOWN]:"Host is down",[x.EHOSTUNREACH]:"No route to host",[x.EALREADY]:"Operation already in progress",[x.EINPROGRESS]:"Operation now in progress",[x.ESTALE]:"Stale file handle",[x.EEUCLEAN]:"Structure needs cleaning",[x.ENOTNAM]:"Not a XENIX named type file",[x.ENAVAIL]:"No XENIX semaphores available",[x.EISNAM]:"Is a named type file",[x.EREMOTEIO]:"Remote I/O error",[x.EDQUOT]:"Disk quota exceeded",[x.ENOMEDIUM]:"No medium found",[x.EMEDIUMTYPE]:"Wrong medium type",[x.ECANCELED]:"Operation canceled",[x.ENOKEY]:"Required key not available",[x.EKEYEXPIRED]:"Key has expired",[x.EKEYREVOKED]:"Key has been revoked",[x.EKEYREJECTED]:"Key was rejected by service",[x.EOWNERDEAD]:"Owner died",[x.ENOTRECOVERABLE]:"State not recoverable",[x.ERFKILL]:"Operation not possible due to RF-kill",[x.EHWPOISON]:"Memory page has hardware error"};function T(t){let e=`${t.code}: ${O[t.errno]}, ${t.syscall}`;return t.path&&(e+=` '${t.path}'`),t.dest&&(e+=` -> '${t.dest}'`),t.message&&!t.message.startsWith(O[t.errno])&&(e+=` (${t.message})`),t.message=e,t}class L extends Error{errno;code;path;dest;syscall;constructor(t,e,n={}){const r=x[t];super(e||""),this.errno=t,this.code=r,Object.assign(this,f(n,"message")),e||T(this),Error.captureStackTrace?.(this,this.constructor)}toString(){return this.message}toJSON(){const t={errno:this.errno,code:this.code,stack:this.stack,message:this.message};return this.path&&(t.path=this.path),this.dest&&(t.dest=this.dest),this.syscall&&(t.syscall=this.syscall),t}static fromJSON(t){const e=t.syscall?new L(t.errno,!1,t):new L(t.errno,t.message);return e.stack=t.stack,e}}function C(t,e,n,r){"string"==typeof e&&(e={syscall:e,path:n,dest:r});const i=new L(x[t],!1,e??{});return Error.captureStackTrace?.(i,C),i}function A(t,e){const n=new L(x[t],e??O[x[t]]);return Error.captureStackTrace?.(n,A),n}function I(t,e,n){const r="string"==typeof t?{syscall:t}:t;return e&&(r.path=e),n&&(r.dest=n),function(t){throw Object.assign(t,r),T(t),t}}var N;!function(t){t[t.EMERG=0]="EMERG",t[t.ALERT=1]="ALERT",t[t.CRIT=2]="CRIT",t[t.ERR=3]="ERR",t[t.WARN=4]="WARN",t[t.NOTICE=5]="NOTICE",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(N||(N={}));const M=["emergency","alert","critical","error","warning","notice","info","debug"],D=new u;function R(t){return function(e){return function(t,e){if(!K)return;const n={level:t,message:e,timestamp:new Date,elapsedMs:performance.now()};D.add(n),V(n)}(t,e.toString()),e}}R(N.EMERG);const B=R(N.ALERT),P=R(N.CRIT),j=R(N.ERR),z=R(N.WARN),U=R(N.NOTICE),F=R(N.INFO),W=R(N.DEBUG);function H(t){return"["+(t.elapsedMs/1e3).toFixed(3).padStart(10)+"] "}N.EMERG,N.ALERT,N.CRIT,N.ERR,N.WARN,N.NOTICE,N.INFO,N.DEBUG,N.EMERG,N.ALERT,N.CRIT,N.ERR,N.WARN,N.NOTICE,N.INFO,N.DEBUG,N.EMERG,N.ALERT,N.CRIT,N.ERR,N.WARN,N.NOTICE,N.INFO,N.DEBUG,N.EMERG,N.ALERT,N.CRIT,N.ERR,N.WARN,N.NOTICE,N.INFO,N.DEBUG;let $=t=>[H(t),t.message],q=console.error;function V(t){t.level>G||q(...function(t){const e=$(t);return"string"==typeof e?[e]:Array.from(e)}(t))}let G=N.ALERT,Y=!1,K=!0;function X(t){return null!=t&&"object"==typeof t&&"create"in t&&"function"==typeof t.create}function J(t){return null!=t&&"object"==typeof t&&"backend"in t&&X(t.backend)}function Z(t){return{suid:t.uid,sgid:t.gid,euid:t.uid,egid:t.gid,groups:[],...t}}const Q={id:0,root:"/",pwd:"/",credentials:Z({uid:0,gid:0}),descriptors:new Map,parent:null,children:[]},tt=0,et=4,nt=2,rt=1,it=1,st=2,ot=4,at=0,ct=1,lt=2,ut=64,ht=128,ft=256,dt=512,pt=1024,gt=65536,mt=262144,yt=131072,vt=1052672,bt=4096,wt=32768,_t=16384,St=2048,Et=61440,kt=49152,xt=40960,Ot=32768,Tt=24576,Lt=16384,Ct=8192,At=4096,It=2048,Nt=1024,Mt=512,Dt=448,Rt=256,Bt=128,Pt=64,jt=56,zt=32,Ut=16,Ft=8,Wt=7,Ht=4,$t=2,qt=1,Vt=0,Gt=4294967295;function Yt(t){class e extends DataView{length;type=t;*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this[t]}constructor(e,n,r){return super("object"==typeof e?e:new ArrayBuffer((e??0)*t.size),n,r),this.length="number"==typeof e?e:Math.floor(this.byteLength/t.size),new Proxy(this,{get(e,n){if(n in e)return e[n];const r=parseInt(n.toString());if(!Number.isSafeInteger(r))throw A("EINVAL","Invalid index: "+n.toString());return t.get(e.buffer,e.byteOffset+r*t.size)},set(e,n,r){const i=parseInt(n.toString());if(!Number.isSafeInteger(i))throw A("EINVAL","Invalid index: "+n.toString());return t.set(e.buffer,e.byteOffset+i*t.size,r),!0}})}}for(const t of Object.getOwnPropertyNames(DataView.prototype))(t.startsWith("get")||t.startsWith("set"))&&Object.defineProperty(e.prototype,t,{enumerable:!1,configurable:!1,writable:!1,value:void 0});return e}class Kt{type;length;name;size;__arrayType;constructor(t,e){this.type=t,this.length=e,this.name=`${t.name}[${e}]`,this.size=t.size*e,this.array=Yt(this),this.__arrayType=t.array?t.array:Yt(t)}get=(t,e)=>new this.__arrayType(t,e,this.size);set=(t,e,n)=>{for(let r=0;r<this.length;r++)this.type.set(t,e+r*this.type.size,n[r])};array}function Xt(t){return("object"==typeof t||"function"==typeof t)&&null!=t&&(t instanceof Kt?Xt(t.type):"name"in t&&"size"in t&&"get"in t&&"set"in t&&"string"==typeof t.name&&"number"==typeof t.size&&"function"==typeof t.get&&"function"==typeof t.set&&Jt.has(t.name)&&Jt.get(t.name)?.name===t.name)}const Jt=new Map;function Zt(t){if(Jt.has(t.name))throw new ReferenceError(`Type is already registered: ${t.name}`);Jt.set(t.name,t)}class Qt{type;init;constructor(t,e){this.type=t,this.init=e;const n=n=>new Qt(new Kt(t,n),e);return Object.setPrototypeOf(n,new.target.prototype),Object.assign(n,{type:t,init:e}),n}align(t){return new Qt(this.type,{...this.init,align:t})}countedBy(t){return new Qt(this.type,{...this.init,countedBy:t})}bigEndian(){return new Qt(this.type,{...this.init,bigEndian:!0})}toInit(){return{type:this.type,...this.init}}$type(){return new Qt(this.type,this.init)}}function te(t,e=0){return new Qt(new Kt(t,e),{})}function ee(t,e,n={}){if(!t)throw A("EINVAL","Invalid name for struct field");"symbol"==typeof t&&console.warn("Symbol used for struct field name will be coerced to string: "+t.toString());const r=t.toString(),i=Object.assign(function(t){return Xt(t)?{type:t}:t instanceof Qt?t.toInit():t}(e),n);if(!Xt(i.type))throw A("EINVAL",`Invalid type for struct field "${r}"`);return{name:r,offset:0,type:i.type,countedBy:i.countedBy,alignment:i.align??i.type.size,decl:i.type instanceof Kt?`${i.typeName??i.type.type.name} ${r}[${i.type.length}]${i.countedBy?` counted_by(${i.countedBy})`:""}`:`${i.typeName??i.type.name} ${r}`,littleEndian:!i.bigEndian}}function ne(t){throw"offset is outside the bounds of the DataView"!==t.message?t:A("EFAULT","Segmentation fault")}function re(t,e,n,r){try{"string"==typeof n&&(n=n.charCodeAt(0));const i=t.byteOffset+e.offset+(r??0)*e.type.size;return void e.type.set(t.buffer,i,n)}catch(t){ne(t)}}function ie(t,e){try{return e.type.get(t.buffer,t.byteOffset+e.offset)}catch(t){ne(t)}}const se=Symbol("DataView");function oe(t){return t[se]??=new DataView(t),t[se]}const ae={name:"int8",size:1,array:Int8Array,get:(t,e)=>oe(t).getInt8(e),set:(t,e,n)=>oe(t).setInt8(e,n)},ce={name:"uint8",size:1,array:Uint8Array,get:(t,e)=>oe(t).getUint8(e),set:(t,e,n)=>oe(t).setUint8(e,n)},le={int8:ae,uint8:ce,int16:{name:"int16",size:2,array:Int16Array,get:(t,e)=>oe(t).getInt16(e,!0),set:(t,e,n)=>oe(t).setInt16(e,n,!0)},uint16:{name:"uint16",size:2,array:Uint16Array,get:(t,e)=>oe(t).getUint16(e,!0),set:(t,e,n)=>oe(t).setUint16(e,n,!0)},int32:{name:"int32",size:4,array:Int32Array,get:(t,e)=>oe(t).getInt32(e,!0),set:(t,e,n)=>oe(t).setInt32(e,n,!0)},uint32:{name:"uint32",size:4,array:Uint32Array,get:(t,e)=>oe(t).getUint32(e,!0),set:(t,e,n)=>oe(t).setUint32(e,n,!0)},int64:{name:"int64",size:8,array:BigInt64Array,get:(t,e)=>oe(t).getBigInt64(e,!0),set:(t,e,n)=>oe(t).setBigInt64(e,n,!0)},uint64:{name:"uint64",size:8,array:BigUint64Array,get:(t,e)=>oe(t).getBigUint64(e,!0),set:(t,e,n)=>oe(t).setBigUint64(e,n,!0)},float32:{name:"float32",size:4,array:Float32Array,get:(t,e)=>oe(t).getFloat32(e,!0),set:(t,e,n)=>oe(t).setFloat32(e,n,!0)},float64:{name:"float64",size:8,array:Float64Array,get:(t,e)=>oe(t).getFloat64(e,!0),set:(t,e,n)=>oe(t).setFloat64(e,n,!0)}},ue=Object.keys(le);for(const t of Object.values(le))Zt(t);const he={...le,...Object.fromEntries(ue.map((t=>{return[(e=t,e.at(0).toUpperCase()+e.slice(1)),le[t]];var e}))),char:ce},fe=Object.keys(he);function de(t){return"char"==t?"uint8":t.toLowerCase()}function pe(t){t.metadata??={};const e=t.metadata.structInit??{};return t.metadata.structInit={fields:[...e.fields??[]]},t.metadata.structInit}function ge(t,...e){const n=e.reduce(((t,e)=>({...t,...e})),{});return"object"==typeof this&&Object.assign(n,this),function(e,r){const i=pe(r);let s=1;const o={};let a=0;const c=t=>{a=Math.ceil(a/t)*t};for(const t of i.fields)n.isPacked||c(t.alignment),n.isUnion?a=Math.max(a,t.type.size):(t.offset=a,a+=t.type.size),o[t.name]=t,s=Math.max(s,t.alignment);n.alignment??=s,n.isPacked||c(n.alignment),r.metadata.struct={fields:o,size:a,alignment:n.isPacked?1:n.alignment,isUnion:n.isUnion??!1};class l extends e{constructor(...t){t.length||(t=[new ArrayBuffer(a),0,a]),super(...t);for(const t of Object.values(o))Object.defineProperty(this,t.name,{enumerable:!0,configurable:!0,get(){return ie(this,t)},set(e){re(this,t,e)}})}}const u=t=>({writable:!1,enumerable:!1,configurable:!1,value:t});return Object.defineProperties(l,{name:u(t),size:u(a),alignment:u(n.alignment),isUnion:u(!!n.isUnion),fields:u(o),get:u(((t,e)=>new l(t,e))),set:u(((t,e,n)=>{const r=new Uint8Array(n.buffer,n.byteOffset,a),i=new Uint8Array(t,e,a);if(n.buffer!==t||n.byteOffset!==e)for(let t=0;t<a;t++)i[t]=r[t]})),[Symbol.toStringTag]:u(`[struct ${t}]`)}),Zt(l),l}}function me(t,e={}){return function(n,r){if("accessor"!=r.kind)throw A("EINVAL","Field must be an accessor");const i=pe(r),s=ee(r.name,t,e);return i.fields.push(s),{get(){return ie(this,s)},set(t){re(this,s,t)}}}}function ye(t){const e=le[de(t)];return function(n,r){return"number"==typeof n?me(new Kt(e,n),{typeName:t,...r}):me(e,{typeName:t})(n,r&&"name"in r?r:g(A("EINVAL","Invalid decorator context object")))}}Symbol.metadata??=Symbol.for("Symbol.metadata"),ge.packed=ge.bind({isPacked:!0}),ge.align=function(t){return ge.bind({alignment:t})};const ve=Object.fromEntries(fe.map((t=>[t,ye(t)])));function be(t){return t}function we(t){return"function"==typeof t&&"prototype"in t&&"fields"in t&&"object"==typeof t.fields&&Xt(t)}function _e(t,e,...n){const r=n.reduce(((t,e)=>({...t,...e})),{});"object"==typeof this&&Object.assign(r,this);let i=1,s=0;const o=t=>{s=Math.ceil(s/t)*t},a=Object.create(null);for(const[t,n]of Object.entries(e)){if("number"==typeof t)throw new TypeError("Field names can not be numbers");const e=ee(t,n);r.isPacked||o(e.alignment),r.isUnion?s=Math.max(s,e.type.size):(e.offset=s,s+=e.type.size),a[e.name]=e,i=Math.max(i,e.alignment)}r.alignment??=i,r.isPacked||o(r.alignment);class c extends DataView{static name=t;constructor(t=new ArrayBuffer(s),e,n){super(t,e,n??s);for(const t of Object.values(a))Object.defineProperty(this,t.name,{enumerable:!0,configurable:!0,get(){return ie(this,t)},set(e){re(this,t,e)}})}}for(const t of Object.getOwnPropertyNames(DataView.prototype))(t.startsWith("get")||t.startsWith("set"))&&Object.defineProperty(c.prototype,t,{enumerable:!1,configurable:!1,writable:!1,value:void 0});const l=c,u=t=>({writable:!1,enumerable:!1,configurable:!1,value:t});return Object.defineProperties(l,{size:u(s),alignment:u(r.alignment),isUnion:u(!!r.isUnion),fields:u(a),get:u(((t,e)=>new l(t,e))),set:u(((t,e,n)=>{const r=new Uint8Array(n.buffer,n.byteOffset,s),i=new Uint8Array(t,e,s);if(n.buffer!==t||n.byteOffset!==e)for(let t=0;t<s;t++)i[t]=r[t]})),[Symbol.toStringTag]:u(`[struct ${t}]`)}),Zt(l),l}function Se(t){if(Xt(t))return t.size;if(null==t)return 0;if("object"==typeof t&&Xt(t.constructor))return t.constructor.size;if(Array.isArray(t)){let e=0;for(let n=0;n<t.length;n++)e+=Se(t[n]);return e}if("string"==typeof t)return function(t){if(!function(t){return fe.includes(t.toString())}(t))throw A("EINVAL","Not a valid primitive type: "+t)}(t),le[de(t)].size;throw new TypeError(`Unable to resolve size of \`${t.toString()}\``)}function Ee(t,e){let n;if(we(t))n=t;else{if(!we(t.constructor))throw A("EINVAL","Type is not a struct or struct constructor");n=t.constructor}const{fields:r}=n;if(!(e in r))throw A("EINVAL","Struct does not have field: "+e);return r[e].offset}function ke(t,e){if(t.byteLength>=e)return t;if(ArrayBuffer.isView(t)){const n=ke(t.buffer,e);return new t.constructor(n,t.byteOffset,e)}const n="undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer;if(t.maxByteLength>e)return n?t.grow(e):t.resize(e),t;if(n){const n=new SharedArrayBuffer(e);return new Uint8Array(n).set(new Uint8Array(t)),n}try{return t.transfer(e)}catch{const n=new ArrayBuffer(e);return new Uint8Array(n).set(new Uint8Array(t)),n}}be.typed=function(t){return t},_e.extend=function(t,e,n,...r){return _e(e,{...t.fields,...n},...r)},_e.packed=_e.bind({isPacked:!0}),_e.align=function(t){return _e.bind({alignment:t})},Object.fromEntries(Object.entries(he).map((([t,e])=>[t,new Qt(e,{typeName:t})])));class xe extends DataView{constructor(t,e,n){const{buffer:r,byteOffset:i,byteLength:s}=new Uint8Array(t,e,n);super(r,i,s)}}for(const t of Object.getOwnPropertyNames(DataView.prototype))(t.startsWith("get")||t.startsWith("set"))&&Object.defineProperty(xe.prototype,t,{value:()=>{throw new ReferenceError("Do not use DataView methods on a BufferView.")},writable:!1,enumerable:!1,configurable:!1});function Oe(t){return JSON.parse(S(t),((t,e)=>""==t?e:"string"==typeof e?BigInt(e).toString(16).slice(0,Math.min(e.length,8)):e))}function Te(t){return w(JSON.stringify(t))}function Le(t,e){if("number"==typeof t)return t;if("string"==typeof t){const e=parseInt(t,8);if(!isNaN(e))return e}if("number"==typeof e)return e;throw A("EINVAL","Invalid mode: "+t?.toString())}function Ce(t){if(t instanceof Date)return t.getTime();try{return Number(t)}catch{throw A("EINVAL","Invalid time.")}}function Ae(t,e=!1){if(t instanceof URL){if("file:"!=t.protocol)throw A("EINVAL","URLs must use the file: protocol");t=t.pathname}if((t=t.toString()).startsWith("file://")&&(t=t.slice(7)),t.includes("\0"))throw A("EINVAL","Path can not contain null character");if(0==t.length)throw A("EINVAL","Path can not be empty");return t=t.replaceAll(/[/\\]+/g,"/"),e?t:Re(t)}function Ie(t,e="utf8",n,r=0){return"object"!=typeof t||null===t?{encoding:"string"==typeof t?t:e??null,flag:n,mode:r}:{encoding:"string"==typeof t?.encoding?t.encoding:e??null,flag:"string"==typeof t?.flag?t.flag:n,mode:Le("mode"in t?t?.mode:null,r)}}function Ne(t){return t=t.replace(/([.?+^$(){}|[\]/])/g,"$1").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,"."),new RegExp(`^${t}$`)}function Me(t){return`/tmp/${Ae(t,!0)}${Date.now()}-${Math.random().toString(36).slice(2)}`}function De(t,e){let n="",r=0,i=-1,s=0,o="\0";for(let a=0;a<=t.length;++a){if(a<t.length)o=t[a];else{if("/"==o)break;o="/"}if("/"==o){if(i===a-1||1===s);else if(2===s){if(n.length<2||2!==r||"."!==n.at(-1)||"."!==n.at(-2)){if(n.length>2){const t=n.lastIndexOf("/");-1===t?(n="",r=0):(n=n.slice(0,t),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}if(0!==n.length){n="",r=0,i=a,s=0;continue}}e&&(n+=n.length>0?"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else"."===o&&-1!==s?++s:s=-1}return n}function Re(...t){let e="";for(const n of[...t.reverse(),this?.pwd??Q.pwd])if(n?.length&&(e=`${n}/${e}`,n.startsWith("/")))break;const n=e.startsWith("/");return e=De(e,!n),n?`/${e}`:e.length?e:"/"}function Be(...t){if(!t.length)return".";const e=t.filter((t=>t)).join("/");return e?.length?function(t){if(!t.length)return".";const e="/"===t[0],n="/"===t.at(-1);return(t=De(t,!e)).length?(n&&(t+="/"),e?`/${t}`:t):e?"/":n?"./":"."}(e):"."}function Pe(t,e){if(t===e)return"";if((t=Re.call(this,t))===(e=Re.call(this,e)))return"";const n=t.length,r=n-1,i=e.length-1,s=r<i?r:i;let o=-1,a=0;for(;a<s;a++){const n=t[1+a];if(n!==e[1+a])break;"/"===n&&(o=a)}if(a===s)if(i>s){if("/"===e[1+a])return e.slice(1+a+1);if(0===a)return e.slice(1+a)}else r>s&&("/"===t[1+a]?o=a:0===a&&(o=0));let c="";for(a=1+o+1;a<=n;++a)a!==n&&"/"!==t[a]||(c+=0===c.length?"..":"/..");return`${c}${e.slice(1+o)}`}function je(t){if(0===t.length)return".";const e="/"===t[0];let n=-1,r=!0;for(let e=t.length-1;e>=1;--e)if("/"===t[e]){if(!r){n=e;break}}else r=!1;return-1===n?e?"/":".":e&&1===n?"//":t.slice(0,n)}function ze(t,e){let n=0,r=-1,i=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e===t)return"";let s=e.length-1,o=-1;for(let a=t.length-1;a>=0;--a)if("/"===t[a]){if(!i){n=a+1;break}}else-1===o&&(i=!1,o=a+1),s>=0&&(t[a]===e[s]?-1===--s&&(r=a):(s=-1,r=o));return n===r?r=o:-1===r&&(r=t.length),t.slice(n,r)}for(let e=t.length-1;e>=0;--e)if("/"===t[e]){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}function Ue(t){const e=t.startsWith("/"),n={root:e?"/":"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;const r=e?1:0;let i=-1,s=0,o=-1,a=!0,c=t.length-1,l=0;for(;c>=r;--c)if("/"!==t[c])-1===o&&(a=!1,o=c+1),"."===t[c]?-1===i?i=c:1!==l&&(l=1):-1!==i&&(l=-1);else if(!a){s=c+1;break}if(-1!==o){const r=0===s&&e?1:s;-1===i||0===l||1===l&&i===o-1&&i===s+1?n.base=n.name=t.slice(r,o):(n.name=t.slice(r,i),n.base=t.slice(r,o),n.ext=t.slice(i,o))}return s>0?n.dir=t.slice(0,s-1):e&&(n.dir="/"),n}function Fe(t,e){return Ne(t).test(e)}const We=BigInt(1e3);class He{_convert(t){return this._isBigint?BigInt(t):Number(t)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}set blocks(t){}mode;dev=this._convert(0);ino=this._convert(0);rdev=this._convert(0);nlink=this._convert(1);blksize=this._convert(4096);uid=this._convert(0);gid=this._convert(0);atimeMs;get atime(){return new Date(Number(this.atimeMs))}set atime(t){this.atimeMs=this._convert(t.getTime())}mtimeMs;get mtime(){return new Date(Number(this.mtimeMs))}set mtime(t){this.mtimeMs=this._convert(t.getTime())}ctimeMs;get ctime(){return new Date(Number(this.ctimeMs))}set ctime(t){this.ctimeMs=this._convert(t.getTime())}birthtimeMs;get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(t){this.birthtimeMs=this._convert(t.getTime())}size;data;flags;version;constructor({atimeMs:t,mtimeMs:e,ctimeMs:n,birthtimeMs:r,uid:i,gid:s,size:o,mode:a,ino:c,...l}={}){const u=Date.now();this.atimeMs=this._convert(t??u),this.mtimeMs=this._convert(e??u),this.ctimeMs=this._convert(n??u),this.birthtimeMs=this._convert(r??u),this.uid=this._convert(i??0),this.gid=this._convert(s??0),this.size=this._convert(o??0),this.ino=this._convert(c??0),this.mode=this._convert(a??420&Ot),0==(this.mode&Et)&&(this.mode=this.mode|this._convert(Ot)),Object.assign(this,l)}isFile(){return(this.mode&Et)===Ot}isDirectory(){return(this.mode&Et)===Lt}isSymbolicLink(){return(this.mode&Et)===xt}isSocket(){return(this.mode&Et)===kt}isBlockDevice(){return(this.mode&Et)===Tt}isCharacterDevice(){return(this.mode&Et)===Ct}isFIFO(){return(this.mode&Et)===At}toJSON(){return h(this,Qe)}hasAccess(t,e){return cn(e,this._isBigint?new $e(this):this,t)}get atimeNs(){return BigInt(this.atimeMs)*We}get mtimeNs(){return BigInt(this.mtimeMs)*We}get ctimeNs(){return BigInt(this.ctimeMs)*We}get birthtimeNs(){return BigInt(this.birthtimeMs)*We}}class $e extends He{_isBigint=!1}class qe extends He{_isBigint=!0}class Ve{type=525687744115;bsize=4096;blocks=0;bfree=0;bavail=0;files=Gt;ffree=Gt}class Ge{type=BigInt("0x7a656e6673");bsize=BigInt(4096);blocks=BigInt(0);bfree=BigInt(0);bavail=BigInt(0);files=BigInt(Gt);ffree=BigInt(Gt)}var Ye=function(t,e,n,r,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,n[d])("accessor"===c?{get:h.get,set:h.set}:h[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),f=!0},Ke=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};const Xe=3968;let Je=(()=>{var t,e;let n,r,i,s,o=[ge.packed("Attribute")],a=[],c=be.typed(Uint8Array),l=[],u=[],h=[],f=[];return class extends c{static{r=this}static{const d="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(t=ve).uint32.bind(t)],s=[(e=ve).uint32.bind(e)],Ye(this,null,i,{kind:"accessor",name:"keySize",static:!1,private:!1,access:{has:t=>"keySize"in t,get:t=>t.keySize,set:(t,e)=>{t.keySize=e}},metadata:d},l,u),Ye(this,null,s,{kind:"accessor",name:"valueSize",static:!1,private:!1,access:{has:t=>"valueSize"in t,get:t=>t.valueSize,set:(t,e)=>{t.valueSize=e}},metadata:d},h,f),Ye(null,n={value:r},o,{kind:"class",name:r.name,metadata:d},null,a),r=n.value,d&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d}),Ke(r,a)}#t=Ke(this,l,void 0);get keySize(){return this.#t}set keySize(t){this.#t=t}#e=(Ke(this,u),Ke(this,h,void 0));get valueSize(){return this.#e}set valueSize(t){this.#e=t}get name(){return S(this.subarray(8,8+this.keySize))}set name(t){const e=w(t);if(8+e.length+this.valueSize>Xe)throw A("EOVERFLOW");this.set(e,8),this.keySize=e.length}get value(){return this.subarray(8+this.keySize,this.size)}set value(t){if(8+this.keySize+t.length>Xe)throw A("EOVERFLOW");this.valueSize=t.length,this.set(t,8+this.keySize)}get size(){return 8+this.keySize+this.valueSize}constructor(){super(...arguments),Ke(this,f)}},r})(),Ze=(()=>{var t;let e,n,r,i=[ge.packed("Attributes")],s=[],o=xe,a=[],c=[];return class extends o{static{n=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;r=[(t=ve).uint32.bind(t)],Ye(this,null,r,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:l},a,c),Ye(null,e={value:n},i,{kind:"class",name:n.name,metadata:l},null,s),n=e.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),Ke(n,s)}#n=Ke(this,a,void 0);get size(){return this.#n}set size(t){this.#n=t}get byteSize(){let t=this.byteOffset+Se(this);for(let e=0;e<this.size;e++)t+=new Je(this.buffer,t).size;return t}has(t){let e=this.byteOffset+Se(this);for(let n=0;n<this.size;n++){const n=new Je(this.buffer,e);if(n.name==t)return!0;e+=n.size}return!1}get(t){let e=this.byteOffset+Se(this);for(let n=0;n<this.size;n++){const n=new Je(this.buffer,e);if(n.name==t)return n.value;e+=n.size}}set(t,e){let n,r=this.byteOffset+Se(this);for(let e=0;e<this.size;e++){const e=new Je(this.buffer,r);e.name==t&&(n=[r,e.size]),r+=e.size}const i=new Uint8Array(this.buffer);if(n){const[t,e]=n;r-=e,i.copyWithin(t,t+e,r+e),i.fill(0,r,r+e),this.size--}const s=new Je(this.buffer,r);s.name=t,s.value=e,this.size++}remove(t){let e,n=this.byteOffset+Se(this);for(let r=0;r<this.size;r++){const r=new Je(this.buffer,n);r.name==t&&(e=[n,r.size]),n+=r.size}if(!e)return!1;const[r,i]=e,s=new Uint8Array(this.buffer);return s.copyWithin(r,r+i,n),s.fill(0,n-i,n),this.size--,!0}copyFrom(t){const{byteSize:e}=t;new Uint8Array(this.buffer,this.byteOffset,e).set(new Uint8Array(t.buffer,t.byteOffset,e))}*keys(){let t=this.byteOffset+Se(this);for(let e=0;e<this.size;e++){const e=new Je(this.buffer,t);yield e.name,t+=e.size}}*values(){let t=this.byteOffset+Se(this);for(let e=0;e<this.size;e++){const e=new Je(this.buffer,t);yield e.value,t+=e.size}}*entries(){let t=this.byteOffset+Se(this);for(let e=0;e<this.size;e++){const e=new Je(this.buffer,t);yield[e.name,e.value],t+=e.size}}constructor(){super(...arguments),Ke(this,c)}},n})();const Qe=["ino","data","size","mode","flags","nlink","uid","gid","atimeMs","birthtimeMs","mtimeMs","ctimeMs","version"];var tn;!function(t){t[t.Sync=1]="Sync",t[t.NoAtime=2]="NoAtime",t[t.Append=4]="Append",t[t.Immutable=8]="Immutable",t[t.Dead=16]="Dead",t[t.NoQuota=32]="NoQuota",t[t.Dirsync=64]="Dirsync",t[t.NoCMtime=128]="NoCMtime",t[t.SwapFile=256]="SwapFile",t[t.Private=512]="Private",t[t.IMA=1024]="IMA",t[t.AutoMount=2048]="AutoMount",t[t.NoSec=4096]="NoSec",t[t.DAX=8192]="DAX",t[t.Encrypted=16384]="Encrypted",t[t.CaseFold=32768]="CaseFold",t[t.Verity=65536]="Verity",t[t.KernelFile=131072]="KernelFile"}(tn||(tn={}));let en=(()=>{var t,e,n,r,i,s,o,a,c,l,u,f,d,p,g,m;let y,v,b,w,_,S,E,k,x,O,T,L,C,I,N,M,D,R,B,j,U,F=[ge.packed("Inode")],W=[],H=xe,$=[],q=[],V=[],G=[],Y=[],K=[],X=[],J=[],Z=[],Q=[],tt=[],et=[],nt=[],rt=[],it=[],st=[],ot=[],at=[],ct=[],lt=[],ut=[],ht=[],ft=[],dt=[],pt=[],gt=[],mt=[],yt=[],vt=[],bt=[],wt=[],_t=[],St=[],Et=[],kt=[],xt=[],Ot=[],Tt=[];var Lt=class extends H{static{v=this}static{const h="function"==typeof Symbol&&Symbol.metadata?Object.create(H[Symbol.metadata]??null):void 0;b=[(t=ve).uint32.bind(t)],w=[(e=ve).uint32.bind(e)],_=[(n=ve).uint32.bind(n)],S=[(r=ve).uint16.bind(r)],E=[(i=ve).uint32.bind(i)],k=[(s=ve).uint32.bind(s)],x=[(o=ve).uint32.bind(o)],O=[(a=ve).float64.bind(a)],T=[(c=ve).float64.bind(c)],L=[(l=ve).float64.bind(l)],C=[(u=ve).float64.bind(u)],I=[(f=ve).uint32.bind(f)],N=[(d=ve).uint32.bind(d)],M=[(p=ve).uint32.bind(p)],D=[(g=ve).uint16.bind(g)],R=[(m=ve).uint32.bind(m)],B=[ve.uint8(48)],j=[me(Ze)],U=[ve.uint8(Xe)],Ye(this,null,b,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:t=>"data"in t,get:t=>t.data,set:(t,e)=>{t.data=e}},metadata:h},$,q),Ye(this,null,w,{kind:"accessor",name:"__data_old",static:!1,private:!1,access:{has:t=>"__data_old"in t,get:t=>t.__data_old,set:(t,e)=>{t.__data_old=e}},metadata:h},V,G),Ye(this,null,_,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:h},Y,K),Ye(this,null,S,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:t=>"mode"in t,get:t=>t.mode,set:(t,e)=>{t.mode=e}},metadata:h},X,J),Ye(this,null,E,{kind:"accessor",name:"nlink",static:!1,private:!1,access:{has:t=>"nlink"in t,get:t=>t.nlink,set:(t,e)=>{t.nlink=e}},metadata:h},Z,Q),Ye(this,null,k,{kind:"accessor",name:"uid",static:!1,private:!1,access:{has:t=>"uid"in t,get:t=>t.uid,set:(t,e)=>{t.uid=e}},metadata:h},tt,et),Ye(this,null,x,{kind:"accessor",name:"gid",static:!1,private:!1,access:{has:t=>"gid"in t,get:t=>t.gid,set:(t,e)=>{t.gid=e}},metadata:h},nt,rt),Ye(this,null,O,{kind:"accessor",name:"atimeMs",static:!1,private:!1,access:{has:t=>"atimeMs"in t,get:t=>t.atimeMs,set:(t,e)=>{t.atimeMs=e}},metadata:h},it,st),Ye(this,null,T,{kind:"accessor",name:"birthtimeMs",static:!1,private:!1,access:{has:t=>"birthtimeMs"in t,get:t=>t.birthtimeMs,set:(t,e)=>{t.birthtimeMs=e}},metadata:h},ot,at),Ye(this,null,L,{kind:"accessor",name:"mtimeMs",static:!1,private:!1,access:{has:t=>"mtimeMs"in t,get:t=>t.mtimeMs,set:(t,e)=>{t.mtimeMs=e}},metadata:h},ct,lt),Ye(this,null,C,{kind:"accessor",name:"ctimeMs",static:!1,private:!1,access:{has:t=>"ctimeMs"in t,get:t=>t.ctimeMs,set:(t,e)=>{t.ctimeMs=e}},metadata:h},ut,ht),Ye(this,null,I,{kind:"accessor",name:"ino",static:!1,private:!1,access:{has:t=>"ino"in t,get:t=>t.ino,set:(t,e)=>{t.ino=e}},metadata:h},ft,dt),Ye(this,null,N,{kind:"accessor",name:"__ino_old",static:!1,private:!1,access:{has:t=>"__ino_old"in t,get:t=>t.__ino_old,set:(t,e)=>{t.__ino_old=e}},metadata:h},pt,gt),Ye(this,null,M,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:h},mt,yt),Ye(this,null,D,{kind:"accessor",name:"__after_flags",static:!1,private:!1,access:{has:t=>"__after_flags"in t,get:t=>t.__after_flags,set:(t,e)=>{t.__after_flags=e}},metadata:h},vt,bt),Ye(this,null,R,{kind:"accessor",name:"version",static:!1,private:!1,access:{has:t=>"version"in t,get:t=>t.version,set:(t,e)=>{t.version=e}},metadata:h},wt,_t),Ye(this,null,B,{kind:"accessor",name:"__padding",static:!1,private:!1,access:{has:t=>"__padding"in t,get:t=>t.__padding,set:(t,e)=>{t.__padding=e}},metadata:h},St,Et),Ye(this,null,j,{kind:"accessor",name:"attributes",static:!1,private:!1,access:{has:t=>"attributes"in t,get:t=>t.attributes,set:(t,e)=>{t.attributes=e}},metadata:h},kt,xt),Ye(this,null,U,{kind:"accessor",name:"__data",static:!1,private:!1,access:{has:t=>"__data"in t,get:t=>t.__data,set:(t,e)=>{t.__data=e}},metadata:h},Ot,Tt),Ye(null,y={value:v},F,{kind:"class",name:v.name,metadata:h},null,W),Lt=v=y.value,h&&Object.defineProperty(v,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),Ke(v,W)}constructor(...t){let e={};if("object"!=typeof t[0]||null===t[0]||ArrayBuffer.isView(t[0])||(e=t[0],t=[Se(Lt)]),super(...t),Ke(this,Tt),this.byteLength<Se(Lt))throw P(A("EIO",`Buffer is too small to create an inode (${this.byteLength} bytes)`));Object.assign(this,e),this.atimeMs||=Date.now(),this.mtimeMs||=Date.now(),this.ctimeMs||=Date.now(),this.birthtimeMs||=Date.now(),this.ino&&!this.nlink&&z(`Inode ${this.ino} has an nlink of 0`)}#r=Ke(this,$,void 0);get data(){return this.#r}set data(t){this.#r=t}#i=(Ke(this,q),Ke(this,V,void 0));get __data_old(){return this.#i}set __data_old(t){this.#i=t}#n=(Ke(this,G),Ke(this,Y,void 0));get size(){return this.#n}set size(t){this.#n=t}#s=(Ke(this,K),Ke(this,X,void 0));get mode(){return this.#s}set mode(t){this.#s=t}#o=(Ke(this,J),Ke(this,Z,void 0));get nlink(){return this.#o}set nlink(t){this.#o=t}#a=(Ke(this,Q),Ke(this,tt,void 0));get uid(){return this.#a}set uid(t){this.#a=t}#c=(Ke(this,et),Ke(this,nt,void 0));get gid(){return this.#c}set gid(t){this.#c=t}#l=(Ke(this,rt),Ke(this,it,void 0));get atimeMs(){return this.#l}set atimeMs(t){this.#l=t}#u=(Ke(this,st),Ke(this,ot,void 0));get birthtimeMs(){return this.#u}set birthtimeMs(t){this.#u=t}#h=(Ke(this,at),Ke(this,ct,void 0));get mtimeMs(){return this.#h}set mtimeMs(t){this.#h=t}#f=(Ke(this,lt),Ke(this,ut,void 0));get ctimeMs(){return this.#f}set ctimeMs(t){this.#f=t}#d=(Ke(this,ht),Ke(this,ft,void 0));get ino(){return this.#d}set ino(t){this.#d=t}#p=(Ke(this,dt),Ke(this,pt,void 0));get __ino_old(){return this.#p}set __ino_old(t){this.#p=t}#g=(Ke(this,gt),Ke(this,mt,void 0));get flags(){return this.#g}set flags(t){this.#g=t}#m=(Ke(this,yt),Ke(this,vt,void 0));get __after_flags(){return this.#m}set __after_flags(t){this.#m=t}#y=(Ke(this,bt),Ke(this,wt,void 0));get version(){return this.#y}set version(t){this.#y=t}#v=(Ke(this,_t),Ke(this,St,void 0));get __padding(){return this.#v}set __padding(t){this.#v=t}#b=(Ke(this,Et),Ke(this,kt,void 0));get attributes(){return this.#b}set attributes(t){this.#b=t}#w=(Ke(this,xt),Ke(this,Ot,void 0));get __data(){return this.#w}set __data(t){this.#w=t}toString(){return`<Inode ${this.ino}>`}toJSON(){return{...h(this,Qe),attributes:this.attributes}}toStats(){return new $e(this)}update(t){if(!t)return!1;let e=!1;for(const n of Qe)void 0!==t[n]&&"ino"!=n&&"data"!=n&&this[n]!==t[n]&&("atimeMs"==n&&this.flags&tn.NoAtime||(this[n]=t[n],e=!0));return t.attributes&&(this.attributes.copyFrom(t.attributes),e=!0),e&&(this.ctimeMs=Date.now()),e}};return Lt=v})();function nn(t){return(t.mode&Et)===Ot}function rn(t){return(t.mode&Et)===Lt}function sn(t){return(t.mode&Et)===xt}function on(t){return(t.mode&Et)===Tt}function an(t){return(t.mode&Et)===Ct}function cn(t,e,n){const r=t?.credentials||Q.credentials;if(sn(e)||0===r.euid||0===r.egid)return!0;let i=0;return r.uid===e.uid&&(e.mode&Rt&&(i|=et),e.mode&Bt&&(i|=nt),e.mode&Pt&&(i|=rt)),(r.gid===e.gid||r.groups.includes(Number(e.gid)))&&(e.mode&zt&&(i|=et),e.mode&Ut&&(i|=nt),e.mode&Ft&&(i|=rt)),e.mode&Ht&&(i|=et),e.mode&$t&&(i|=nt),e.mode&qt&&(i|=rt),(i&n)===n}function ln(t,e,n){let r=!0;return!isNaN(e)&&e>=0&&e<Gt?t.uid=e:r=!1,!isNaN(n)&&n>=0&&n<Gt?t.gid=n:r=!1,r}class un extends Map{maxSize=Gt;toJSON(){return{version:1,maxSize:this.maxSize,entries:Object.fromEntries([...this].map((([t,e])=>[t,e.toJSON()])))}}toString(){return JSON.stringify(this.toJSON())}get byteSize(){let t=this.size*Se(en);for(const e of this.values())t+=e.size;return t}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.byteSize}}pathOf(t){for(const[e,n]of this)if(n.ino==t||n.data==t)return e}getByID(t){return this.entryByID(t)?.inode}entryByID(t){for(const[e,n]of this)if(n.ino==t||n.data==t)return{path:e,inode:n}}directoryEntries(t){const e=this.get(t);if(!e)throw A("ENOENT");if((e.mode&Et)!=Lt)throw A("ENOTDIR");const n={};for(const e of this.keys())je(e)==t&&e!=t&&(n[ze(e)]=this.get(e).ino);return n}_alloc(){return Math.max(...[...this.values()].flatMap((t=>[t.ino,t.data])))+1}directories(){const t=new Map;for(const[e,n]of this){if((n.mode&Et)!=Lt)continue;const r={};for(const t of this.keys())je(t)==e&&t!=e&&(r[ze(t)]=this.get(t).ino);t.set(e,r)}return t}fromJSON(t){if(1!=t.version)throw A("EINVAL","Index version mismatch");this.clear();for(const[e,n]of Object.entries(t.entries))n.data??=v(1,Gt),"/"==e&&(n.ino=0),this.set(e,new en(n));return this}static parse(t){if(!d(t))throw A("EINVAL","Invalid JSON");const e=JSON.parse(t),n=new un;return n.fromJSON(e),n}}const hn=4096;class fn{type;name;label;_mountPoint;_uuid=crypto.randomUUID();get uuid(){return this._uuid}attributes=new Map;constructor(t,e){this.type=t,this.name=e,this.streamRead===fn.prototype.streamRead&&this.attributes.set("default_stream_read"),this.streamWrite===fn.prototype.streamWrite&&this.attributes.set("default_stream_write")}toString(){return`${this.name} ${this.label?JSON.stringify(this.label):""} (${this._mountPoint?"mounted on "+this._mountPoint:"unmounted"})`}usage(){return{totalSpace:0,freeSpace:0}}async ready(){}async exists(t){try{return await this.stat(t),!0}catch(t){return"ENOENT"!=t.code}}existsSync(t){try{return this.statSync(t),!0}catch(t){return"ENOENT"!=t.code}}streamRead(t,e){return new ReadableStream({start:async n=>{const{size:r}=await this.stat(t),{start:i=0,end:s=r}=e;for(let e=i;e<s;e+=hn){const r=e+hn>s?s-e:hn,i=new Uint8Array(r);await this.read(t,i,e,e+r).catch(n.error.bind(n)),n.enqueue(i)}n.close()},type:"bytes"})}streamWrite(t,e){let n=e.start??0;return new WritableStream({write:async(e,r)=>{let i=!1;const s=t=>{i=!0,r.error(t)},{size:o}=await this.stat(t);await this.write(t,e,n).catch(s),i||(n+=e.byteLength,await this.touch(t,{mtimeMs:Date.now(),size:Math.max(o,n)}).catch(s))}})}}class dn{id;_size;options;regions=[];get size(){return this._size}set size(t){if(t>=this._size)this._size=t;else{this._size=t;for(let e=this.regions.length-1;e>=0;e--){const n=this.regions[e];if(n.offset>=t){this.regions.splice(e,1);continue}const r=t-n.offset;n.data.byteLength>r&&(n.data=n.data.subarray(0,r)),n.ranges=n.ranges.filter((e=>e.start<t)).map((e=>e.end>t?{start:e.start,end:t}:e))}}}constructor(t,e,n,r){this.id=t,this._size=e,this.options=n,n.sparse??=!0,n.sparse||this.regions.push({offset:0,data:new Uint8Array(e),ranges:[]}),r?.set(t,this)}collect(){if(!this.options.sparse)return;const{regionGapThreshold:t=4095}=this.options;for(let e=0;e<this.regions.length-1;){const n=this.regions[e],r=this.regions[e+1];r.offset-(n.offset+n.data.byteLength)>t?e++:(n.ranges.push(...r.ranges),n.ranges.sort(((t,e)=>t.start-e.start)),n.ranges=n.ranges.reduce(((t,e)=>(!t.length||t.at(-1).end<e.start?t.push(e):t.at(-1).end=Math.max(t.at(-1).end,e.end),t)),[]),n.data=ke(n.data,r.offset+r.data.byteLength),n.data.set(r.data,r.offset-n.offset),this.regions.splice(e+1,1))}}missing(t,e){const n=[];for(const r of this.regions){if(r.offset>=e)break;for(const i of r.ranges)if(!(i.end<=t)){if(i.start>=e)break;if(i.start>t&&n.push({start:t,end:Math.min(i.start,e)}),i.end>t&&(t=Math.max(t,i.end)),t>=e)break}if(t>=e)break}return t<e&&n.push({start:t,end:e}),n}cached(t,e){const n=[];for(const r of this.regions){if(r.offset>=e)break;for(const i of r.ranges)if(!(i.end<=t)){if(i.start>=e)break;n.push({start:Math.max(t,i.start),end:Math.min(e,i.end)})}}n.sort(((t,e)=>t.start-e.start));const r=[];for(const t of n){const e=r.at(-1);e&&t.start<=e.end?e.end=Math.max(e.end,t.end):r.push(t)}return r}regionAt(t){if(this.regions.length)for(const e of this.regions){if(e.offset>t)break;if(t>=e.offset&&t<e.offset+e.data.byteLength)return e}}add(t,e){const n=e+t.byteLength,r=this.regionAt(e);if(r)return r.data=ke(r.data,n),r.data.set(t,e),r.ranges.push({start:e,end:n}),r.ranges.sort(((t,e)=>t.start-e.start)),this.collect(),this;const i={data:t,offset:e,ranges:[{start:e,end:n}]},s=this.regions.findIndex((t=>t.offset>e));return-1==s?this.regions.push(i):this.regions.splice(s,0,i),this.collect(),this}}Promise.withResolvers??=(z("Using a polyfill of Promise.withResolvers"),function(){let t,e;const n=new Promise(((n,r)=>{t=n,e=r}));return{promise:n,resolve:t,reject:e}}),Symbol.dispose??=(z("Using a polyfill of Symbol.dispose"),Symbol("Symbol.dispose")),Symbol.asyncDispose??=(z("Using a polyfill of Symbol.asyncDispose"),Symbol("Symbol.asyncDispose")),globalThis.crypto.randomUUID??=(z("Using a polyfill of crypto.randomUUID"),function(){const t=crypto.getRandomValues(new Uint8Array(16));t[6]=15&t[6]|64,t[8]=63&t[8]|128;const e=[...t].map((t=>t.toString(16).padStart(2,"0"))).join("");return`${e.slice(0,8)}-${e.slice(8,12)}-${e.slice(12,16)}-${e.slice(16,20)}-${e.slice(20)}`}),Uint8Array.prototype.toBase64??=(z("Using a polyfill of Uint8Array.prototype.toBase64"),function(){return btoa(String.fromCharCode(...this))}),Uint8Array.fromBase64??=(z("Using a polyfill of Uint8Array.fromBase64"),function(t){const e=atob(t),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}),Uint8Array.prototype.toHex??=(z("Using a polyfill of Uint8Array.prototype.toHex"),function(){return[...this].map((t=>t.toString(16).padStart(2,"0"))).join("")}),Uint8Array.fromHex??=(z("Using a polyfill of Uint8Array.fromHex"),function(t){const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.slice(n,n+2),16);return e});class pn{store;constructor(t){this.store=t}}class gn extends pn{async get(t,e,n){return this.getSync(t,e,n)}async set(t,e,n){return this.setSync(t,e,n)}async remove(t){return this.removeSync(t)}}class mn extends pn{asyncDone=Promise.resolve();async(t){this.asyncDone=this.asyncDone.then((()=>t))}_cached(t,e){this.store.cache??=new Map;const n=this.store.cache.get(t);return n?(e&&(n.size=e.size),n):e?new dn(t,e.size,{},this.store.cache):void 0}getSync(t,e,n){const r=this._cached(t);if(!r)return;n??=r.size;const i=r.missing(e,n);for(const{start:e,end:n}of i)this.async(this.get(t,e,n));if(i.length)throw A("EAGAIN");const s=r.regionAt(e);if(s)return s.data.subarray(e-s.offset,n-s.offset);z("Missing cache region for "+t)}setSync(t,e,n){this.async(this.set(t,e,n))}removeSync(t){this.async(this.remove(t)),this.store.cache?.delete(t)}}class yn{raw;fs;done=!1;flag(t){return this.raw.store.flags?.includes(t)??!1}constructor(t,e){this.raw=t,this.fs=e}originalData=new Map;modifiedKeys=new Set;keys(){return this.raw.keys()}async get(t,e=0,n){const r=await this.raw.get(t,e,n);return this.stash(t),r}getSync(t,e=0,n){const r=this.raw.getSync(t,e,n);return this.stash(t),r}async set(t,e,n=0){await this.markModified(t,n,e.byteLength);const r=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength);await this.raw.set(t,r,n)}setSync(t,e,n=0){this.markModifiedSync(t,n,e.byteLength);const r=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength);this.raw.setSync(t,r,n)}async remove(t){await this.markModified(t,0,void 0),await this.raw.remove(t)}removeSync(t){this.markModifiedSync(t,0,void 0),this.raw.removeSync(t)}commit(){return this.done=!0,Promise.resolve()}commitSync(){this.done=!0}async abort(){if(!this.done){for(const[t,e]of this.originalData)if(this.modifiedKeys.has(t))if(e.some((t=>!t.data)))await this.raw.remove(t),this.fs._remove(t);else for(const n of e.reverse())await this.raw.set(t,n.data,n.offset);this.done=!0}}abortSync(){if(!this.done){for(const[t,e]of this.originalData)if(this.modifiedKeys.has(t))if(e.some((t=>!t.data)))this.raw.removeSync(t),this.fs._remove(t);else for(const n of e.reverse())this.raw.setSync(t,n.data,n.offset);this.done=!0}}async[Symbol.asyncDispose](){this.done||await this.abort()}[Symbol.dispose](){this.done||this.abortSync()}stash(t,e,n=0){this.originalData.has(t)||this.originalData.set(t,[]),this.originalData.get(t).push({data:e,offset:n})}async markModified(t,e,n){this.modifiedKeys.add(t);const r=n?e+n:void 0;try{this.stash(t,await this.raw.get(t,e,r),e)}catch(n){if(!(this.raw instanceof mn))throw n;const i=this.raw._cached(t);if(!i)throw n;for(const n of i.cached(e,r??e))this.stash(t,await this.raw.get(t,n.start,n.end),n.start)}}markModifiedSync(t,e,n){this.modifiedKeys.add(t);const r=n?e+n:void 0;try{this.stash(t,this.raw.getSync(t,e,r),e)}catch(n){if(!(this.raw instanceof mn))throw n;const i=this.raw._cached(t);if(!i)throw n;for(const n of i.cached(e,r??e))this.stash(t,this.raw.getSync(t,n.start,n.end),n.start)}}}var vn=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e},bn=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;return function t(){for(;r=e.stack.pop();)try{if(!r.async&&1===i)return i=0,e.stack.push(r),Promise.resolve().then(t);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(s).then(t,(function(e){return n(e),t()}))}else i|=1}catch(t){n(t)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});class wn extends fn{store;_ids=new Map([["/",0]]);_paths=new Map([[0,new Set("/")]]);_path(t){const[e]=this._paths.get(t)??[];return e}_add(t,e){this._paths.has(t)||this._paths.set(t,new Set),this._paths.get(t).add(e),this._ids.set(e,t)}_remove(t){for(const e of this._paths.get(t)??[])this._ids.delete(e);this._paths.delete(t)}_move(t,e){const n=[];for(const[r,i]of this._ids){const s=Pe(t,r);if(s.startsWith(".."))continue;let o=Be(e,s);o.endsWith("/")&&(o=o.slice(0,-1)),n.push({oldKey:r,newKey:o,ino:i})}for(const{oldKey:t,newKey:e,ino:r}of n){this._ids.delete(t),this._ids.set(e,r);const n=this._paths.get(r);n?(n.delete(t),n.add(e)):z("Missing paths in table for ino "+r)}}_initialized=!1;async ready(){this._initialized||(this.attributes.has("no_async_preload")||this.checkRootSync(),await this.checkRoot(),await this._populate(),this._initialized=!0)}constructor(t){super(t.type??1802921587,t.name),this.store=t,t.fs=this,this._uuid=t.uuid??this.uuid,this.label=t.label,W(this.name+": supports features: "+this.store.flags?.join(", "))}usage(){return this.store.usage?.()||{totalSpace:0,freeSpace:0}}async loadIndex(t){const e={stack:[],error:void 0,hasError:!1};try{const n=vn(e,this.transaction(),!0),r=t.directories();for(const[e,i]of t)this._add(i.ino,e),await n.set(i.ino,i),r.has(e)&&await n.set(i.data,Te(r.get(e)));await n.commit()}catch(t){e.error=t,e.hasError=!0}finally{const t=bn(e);t&&await t}}loadIndexSync(t){const e={stack:[],error:void 0,hasError:!1};try{const n=vn(e,this.transaction(),!1),r=t.directories();for(const[e,i]of t)this._add(i.ino,e),n.setSync(i.ino,i),r.has(e)&&n.setSync(i.data,Te(r.get(e)));n.commitSync()}catch(t){e.error=t,e.hasError=!0}finally{bn(e)}}async createIndex(){const t={stack:[],error:void 0,hasError:!1};try{const e=new un,n=vn(t,this.transaction(),!0),r=[["/",0]],i=p(A("EDEADLK"));for(;r.length;){const[t,i]=r.shift(),s=new en(await n.get(i));if(e.set(t,s),s.mode&Lt){const e=Oe(await n.get(s.data)??g(A("ENODATA")));for(const[n,i]of Object.entries(e))r.push([Be(t,n),i])}}return i(),e}catch(e){t.error=e,t.hasError=!0}finally{const e=bn(t);e&&await e}}createIndexSync(){const t={stack:[],error:void 0,hasError:!1};try{const e=new un,n=vn(t,this.transaction(),!1),r=[["/",0]],i=p(A("EDEADLK"));for(;r.length;){const[t,i]=r.shift(),s=new en(n.getSync(i));if(e.set(t,s),s.mode&Lt){const e=Oe(n.getSync(s.data)??g(A("ENODATA")));for(const[n,i]of Object.entries(e))r.push([Be(t,n),i])}}return i(),e}catch(e){t.error=e,t.hasError=!0}finally{bn(t)}}async rename(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=vn(n,this.transaction(),!0),i=Ue(t),s=Ue(e),o=await this.findInode(r,i.dir),a=Oe(await r.get(o.data)??g(A("ENODATA")));if(!a[i.base])throw A("ENOENT");const c=a[i.base];if(c!=this._ids.get(t)&&j(`Ino mismatch while renaming ${t} to ${e}`),delete a[i.base],(s.dir+"/").startsWith(t+"/"))throw A("EBUSY");const l=s.dir==i.dir,u=l?o:await this.findInode(r,s.dir),h=l?a:Oe(await r.get(u.data)??g(A("ENODATA")));if(h[s.base]){const t=new en(await r.get(h[s.base])??g(A("ENOENT")));if(!nn(t))throw A("EISDIR");await r.remove(t.data),await r.remove(h[s.base])}h[s.base]=c,await r.set(o.data,Te(a)),await r.set(u.data,Te(h)),await r.commit(),this._move(t,e)}catch(t){n.error=t,n.hasError=!0}finally{const t=bn(n);t&&await t}}renameSync(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=vn(n,this.transaction(),!1),i=Ue(t),s=Ue(e),o=this.findInodeSync(r,i.dir),a=Oe(r.getSync(o.data)??g(A("ENODATA")));if(!a[i.base])throw A("ENOENT");const c=a[i.base];if(c!=this._ids.get(t)&&j(`Ino mismatch while renaming ${t} to ${e}`),delete a[i.base],(s.dir+"/").startsWith(t+"/"))throw A("EBUSY");const l=s.dir===i.dir,u=l?o:this.findInodeSync(r,s.dir),h=l?a:Oe(r.getSync(u.data)??g(A("ENODATA")));if(h[s.base]){const t=new en(r.getSync(h[s.base])??g(A("ENOENT")));if(!nn(t))throw A("EISDIR");r.removeSync(t.data),r.removeSync(h[s.base])}h[s.base]=c,r.setSync(o.data,Te(a)),r.setSync(u.data,Te(h)),r.commitSync(),this._move(t,e)}catch(t){n.error=t,n.hasError=!0}finally{bn(n)}}async stat(t){const e={stack:[],error:void 0,hasError:!1};try{const n=vn(e,this.transaction(),!0);return await this.findInode(n,t)}catch(t){e.error=t,e.hasError=!0}finally{const t=bn(e);t&&await t}}statSync(t){const e={stack:[],error:void 0,hasError:!1};try{const n=vn(e,this.transaction(),!1);return this.findInodeSync(n,t)}catch(t){e.error=t,e.hasError=!0}finally{bn(e)}}async touch(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=vn(n,this.transaction(),!0),i=await this.findInode(r,t);i.update(e)&&(this._add(i.ino,t),r.setSync(i.ino,i)),await r.commit()}catch(t){n.error=t,n.hasError=!0}finally{const t=bn(n);t&&await t}}touchSync(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=vn(n,this.transaction(),!1),i=this.findInodeSync(r,t);i.update(e)&&(this._add(i.ino,t),r.setSync(i.ino,i)),r.commitSync()}catch(t){n.error=t,n.hasError=!0}finally{bn(n)}}async createFile(t,e){return e.mode|=Ot,await this.commitNew(t,e,new Uint8Array)}createFileSync(t,e){return e.mode|=Ot,this.commitNewSync(t,e,new Uint8Array)}async unlink(t){return this.remove(t,!1)}unlinkSync(t){this.removeSync(t,!1)}async rmdir(t){if((await this.readdir(t)).length)throw A("ENOTEMPTY");await this.remove(t,!0)}rmdirSync(t){if(this.readdirSync(t).length)throw A("ENOTEMPTY");this.removeSync(t,!0)}async mkdir(t,e){return e.mode|=Lt,await this.commitNew(t,e,w("{}"))}mkdirSync(t,e){return e.mode|=Lt,this.commitNewSync(t,e,w("{}"))}async readdir(t){const e={stack:[],error:void 0,hasError:!1};try{const n=vn(e,this.transaction(),!0),r=await this.findInode(n,t);return Object.keys(Oe(await n.get(r.data)??g(A("ENOENT"))))}catch(t){e.error=t,e.hasError=!0}finally{const t=bn(e);t&&await t}}readdirSync(t){const e={stack:[],error:void 0,hasError:!1};try{const n=vn(e,this.transaction(),!1),r=this.findInodeSync(n,t);return Object.keys(Oe(n.getSync(r.data)??g(A("ENOENT"))))}catch(t){e.error=t,e.hasError=!0}finally{bn(e)}}async sync(){}syncSync(){}async link(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=vn(n,this.transaction(),!0),i=je(e),s=await this.findInode(r,i),o=Oe(await r.get(s.data)??g(A("ENOENT"))),a=await this.findInode(r,t);a.nlink++,o[ze(e)]=a.ino,this._add(a.ino,e),await r.set(a.ino,a),await r.set(s.data,Te(o)),await r.commit()}catch(t){n.error=t,n.hasError=!0}finally{const t=bn(n);t&&await t}}linkSync(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=vn(n,this.transaction(),!1),i=je(e),s=this.findInodeSync(r,i),o=Oe(r.getSync(s.data)??g(A("ENOENT"))),a=this.findInodeSync(r,t);a.nlink++,o[ze(e)]=a.ino,this._add(a.ino,e),r.setSync(a.ino,a),r.setSync(s.data,Te(o)),r.commitSync()}catch(t){n.error=t,n.hasError=!0}finally{bn(n)}}async read(t,e,n,r){const i={stack:[],error:void 0,hasError:!1};try{const s=vn(i,this.transaction(),!0),o=await this.findInode(s,t);if(0==o.size)return;const a=await s.get(o.data,n,r)??g(A("ENODATA")),c=s.flag("partial")?a:a.subarray(n,r);c.byteLength>e.byteLength&&j(`Trying to place ${c.byteLength} bytes into a ${e.byteLength} byte buffer on read`),e.set(c)}catch(t){i.error=t,i.hasError=!0}finally{const t=bn(i);t&&await t}}readSync(t,e,n,r){const i={stack:[],error:void 0,hasError:!1};try{const s=vn(i,this.transaction(),!1),o=this.findInodeSync(s,t);if(0==o.size)return;const a=s.getSync(o.data,n,r)??g(A("ENODATA")),c=s.flag("partial")?a:a.subarray(n,r);c.byteLength>e.byteLength&&j(`Trying to place ${c.byteLength} bytes into a ${e.byteLength} byte buffer on read`),e.set(c)}catch(t){i.error=t,i.hasError=!0}finally{bn(i)}}async write(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=vn(r,this.transaction(),!0),s=await this.findInode(i,t);let o=e;i.flag("partial")||(o=ke(await i.get(s.data)??new Uint8Array,n+e.byteLength),o.set(e,n),n=0),await i.set(s.data,o,n),this._add(s.ino,t),await i.commit()}catch(t){r.error=t,r.hasError=!0}finally{const t=bn(r);t&&await t}}writeSync(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=vn(r,this.transaction(),!1),s=this.findInodeSync(i,t);let o=e;i.flag("partial")||(o=ke(i.getSync(s.data)??new Uint8Array,n+e.byteLength),o.set(e,n),n=0),i.setSync(s.data,o,n),this._add(s.ino,t),i.commitSync()}catch(t){r.error=t,r.hasError=!0}finally{bn(r)}}transaction(){return new yn(this.store.transaction(),this)}async checkRoot(){const t={stack:[],error:void 0,hasError:!1};try{const e=vn(t,this.transaction(),!0);if(await e.get(0))return;const n=new en({ino:0,data:1,mode:511|Lt});await e.set(n.data,w("{}")),this._add(0,"/"),await e.set(0,n),await e.commit()}catch(e){t.error=e,t.hasError=!0}finally{const e=bn(t);e&&await e}}checkRootSync(){const t={stack:[],error:void 0,hasError:!1};try{const e=vn(t,this.transaction(),!1);if(e.getSync(0))return;const n=new en({ino:0,data:1,mode:511|Lt});e.setSync(n.data,w("{}")),this._add(0,"/"),e.setSync(0,n),e.commitSync()}catch(e){t.error=e,t.hasError=!0}finally{bn(t)}}async _populate(){const t={stack:[],error:void 0,hasError:!1};try{if(this._initialized)return void z("Attempted to populate tables after initialization");W("Populating tables with existing store metadata");const e=vn(t,this.transaction(),!0),n=await e.get(0);if(!n){U("Store does not have a root inode");const t=new en({ino:0,data:1,mode:511|Lt});return await e.set(t.data,w("{}")),this._add(0,"/"),await e.set(0,t),void await e.commit()}if(n.length<Se(en))return void P("Store contains an invalid root inode. Refusing to populate tables");const r=new Set;let i=0;const s=[["/",0]];for(;s.length>0;){i++;const[t,n]=s.shift();this._add(n,t);const o=await e.get(n);if(!o){z("Store is missing data for inode: "+n);continue}if(o.length<Se(en)){z(`Invalid inode size for ino ${n}: ${o.length}`);continue}const a=new en(o);if((a.mode&Lt)!=Lt||r.has(n))continue;r.add(n);const c=await e.get(a.data);if(!c){z("Store is missing directory data: "+a.data);continue}const l=Oe(c);for(const[e,n]of Object.entries(l))s.push([Be(t,e),n])}W(`Added ${i} existing inode(s) from store`)}catch(e){t.error=e,t.hasError=!0}finally{const e=bn(t);e&&await e}}async _findInode(t,e,n=new Set){if(n.has(e))throw P(A("EIO","Infinite loop detected while finding inode"));if(n.add(e),"/"==e)return new en(await t.get(0)??g(A("ENODATA")));const{dir:r,base:i}=Ue(e),s=await this._findInode(t,r,n),o=Oe(await t.get(s.data)??g(A("ENODATA")));if(!(i in o))throw A("ENOENT");return new en(await t.get(o[i])??g(A("ENODATA")))}_findInodeSync(t,e,n=new Set){if(n.has(e))throw P(A("EIO","Infinite loop detected while finding inode"));if(n.add(e),"/"==e)return new en(t.getSync(0)??g(A("ENOENT")));const{dir:r,base:i}=Ue(e),s=this._findInodeSync(t,r,n),o=Oe(t.getSync(s.data)??g(A("ENODATA")));if(!(i in o))throw A("ENOENT");return new en(t.getSync(o[i])??g(A("ENODATA")))}async findInode(t,e){if(this.attributes.has("no_id_tables"))return await this._findInode(t,e);const n=this._ids.get(e);if(void 0===n)throw A("ENOENT");return new en(await t.get(n)??g(A("ENOENT")))}findInodeSync(t,e){if(this.attributes.has("no_id_tables"))return this._findInodeSync(t,e);const n=this._ids.get(e);if(void 0===n)throw A("ENOENT");return new en(t.getSync(n)??g(A("ENOENT")))}_lastID;allocNew(t){this._lastID??=Math.max(...this._paths.keys()),this._lastID+=2;const e=this._lastID;if(e>Gt)throw j(A("ENOSPC","No IDs available"));return this._add(e,t),e}async commitNew(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{if("/"==t)throw A("EEXIST");const i=vn(r,this.transaction(),!0),{dir:s,base:o}=Ue(t),a=await this.findInode(i,s),c=Oe(await i.get(a.data)??g(A("ENOENT")));if(c[o])throw A("EEXIST");const l=this.allocNew(t),u=new en({...e,ino:l,data:l+1,size:n.byteLength,nlink:1});return await i.set(u.ino,u),await i.set(u.data,n),c[o]=u.ino,await i.set(a.data,Te(c)),await i.commit(),u}catch(t){r.error=t,r.hasError=!0}finally{const t=bn(r);t&&await t}}commitNewSync(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{if("/"==t)throw A("EEXIST");const i=vn(r,this.transaction(),!1),{dir:s,base:o}=Ue(t),a=this.findInodeSync(i,s),c=Oe(i.getSync(a.data)??g(A("ENOENT")));if(c[o])throw A("EEXIST");const l=this.allocNew(t),u=new en({...e,ino:l,data:l+1,size:n.byteLength,nlink:1});return i.setSync(u.ino,u),i.setSync(u.data,n),c[o]=u.ino,i.setSync(a.data,Te(c)),i.commitSync(),u}catch(t){r.error=t,r.hasError=!0}finally{bn(r)}}async remove(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=vn(n,this.transaction(),!0),{dir:i,base:s}=Ue(t),o=await this.findInode(r,i),a=Oe(await r.get(o.data)??g(A("ENOENT")));if(!a[s])throw A("ENOENT");const c=a[s],l=new en(await r.get(c)??g(A("ENOENT")));if(delete a[s],!e&&rn(l))throw A("EISDIR");await r.set(o.data,Te(a)),l.nlink>1?(l.update({nlink:l.nlink-1}),await r.set(l.ino,l)):(await r.remove(l.data),await r.remove(c),this._remove(c)),await r.commit()}catch(t){n.error=t,n.hasError=!0}finally{const t=bn(n);t&&await t}}removeSync(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=vn(n,this.transaction(),!1),{dir:i,base:s}=Ue(t),o=this.findInodeSync(r,i),a=Oe(r.getSync(o.data)??g(A("ENOENT"))),c=a[s];if(!c)throw A("ENOENT");const l=new en(r.getSync(c)??g(A("ENOENT")));if(delete a[s],!e&&rn(l))throw A("EISDIR");r.setSync(o.data,Te(a)),l.nlink>1?(l.update({nlink:l.nlink-1}),r.setSync(l.ino,l)):(r.removeSync(l.data),r.removeSync(c),this._remove(c)),r.commitSync()}catch(t){n.error=t,n.hasError=!0}finally{bn(n)}}}class _n extends gn{async keys(){return this.store.keys()}async get(t){return await(this.store.getAsync?.(t)??this.store.get(t))}getSync(t){return this.store.get(t)}setSync(t,e){this.store.set(t,e)}removeSync(t){this.store.delete(t)}}class Sn extends Map{maxSize;label;flags=[];name="tmpfs";constructor(t=Gt,e){super(),this.maxSize=t,this.label=e}async sync(){}transaction(){return new _n(this)}get bytes(){let t=4*this.size;for(const e of this.values())t+=e.byteLength;return t}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.bytes}}}const En={name:"InMemory",options:{maxSize:{type:"number",required:!1},label:{type:"string",required:!1}},create({maxSize:t,label:e}){const n=new wn(new Sn(t,e));return n.checkRootSync(),n}};class kn extends wn{devices=new Map;devicesWithDriver(t,e){if(e&&"string"==typeof t)throw j(A("EINVAL","Can not fetch devices using only a driver name"));const n=[];for(const r of this.devices.values())e&&r.driver!=t||("string"==typeof t?t:t.name)==r.driver.name&&n.push(r);return n}_createDevice(t,e={}){let n=1;const r=Array.from(this.devices.values()).at(-1);for(;this.store.has(n)||r?.inode.ino==n;)n++;const i=t.init?.(n,e),s={data:{},minor:0,major:0,...f(i??{},"metadata"),driver:t,inode:new en({mode:438|Ct,...i?.metadata})},o="/"+(s.name||t.name)+(t.singleton?"":this.devicesWithDriver(t).length);if(this.existsSync(o))throw A("EEXIST");return this.devices.set(o,s),F("Initialized device: "+this._mountPoint+o),s}addDefaults(){this._createDevice(On),this._createDevice(Tn),this._createDevice(Ln),this._createDevice(Cn),this._createDevice(An),W("Added default devices")}constructor(){super(new Sn(16777216,"devfs"))}async rename(t,e){if(this.devices.has(t))throw A("EPERM");if(this.devices.has(e))throw A("EEXIST");return super.rename(t,e)}renameSync(t,e){if(this.devices.has(t))throw A("EPERM");if(this.devices.has(e))throw A("EEXIST");return super.renameSync(t,e)}async stat(t){const e=this.devices.get(t);return e?e.inode:super.stat(t)}statSync(t){const e=this.devices.get(t);return e?e.inode:super.statSync(t)}async touch(t,e){const n=this.devices.get(t);n?n.inode.update(e):await super.touch(t,e)}touchSync(t,e){const n=this.devices.get(t);n?n.inode.update(e):super.touchSync(t,e)}async createFile(t,e){if(this.devices.has(t))throw A("EEXIST");return super.createFile(t,e)}createFileSync(t,e){if(this.devices.has(t))throw A("EEXIST");return super.createFileSync(t,e)}async unlink(t){if(this.devices.has(t))throw A("EPERM");return super.unlink(t)}unlinkSync(t){if(this.devices.has(t))throw A("EPERM");return super.unlinkSync(t)}async rmdir(t){return super.rmdir(t)}rmdirSync(t){return super.rmdirSync(t)}async mkdir(t,e){if(this.devices.has(t))throw A("EEXIST");return super.mkdir(t,e)}mkdirSync(t,e){if(this.devices.has(t))throw A("EEXIST");return super.mkdirSync(t,e)}async readdir(t){const e=await super.readdir(t);for(const n of this.devices.keys())je(n)==t&&e.push(ze(n));return e}readdirSync(t){const e=super.readdirSync(t);for(const n of this.devices.keys())je(n)==t&&e.push(ze(n));return e}async link(t,e){if(this.devices.has(t))throw A("EPERM");if(this.devices.has(e))throw A("EEXIST");return super.link(t,e)}linkSync(t,e){if(this.devices.has(t))throw A("EPERM");if(this.devices.has(e))throw A("EEXIST");return super.linkSync(t,e)}async sync(){for(const t of this.devices.values())t.driver.sync?.(t);return super.sync()}syncSync(){for(const t of this.devices.values())t.driver.sync?.(t);return super.syncSync()}async read(t,e,n,r){const i=this.devices.get(t);i?i.driver.read(i,e,n,r):await super.read(t,e,n,r)}readSync(t,e,n,r){const i=this.devices.get(t);i?i.driver.read(i,e,n,r):super.readSync(t,e,n,r)}async write(t,e,n){const r=this.devices.get(t);if(!r)return await super.write(t,e,n);r.driver.write(r,e,n)}writeSync(t,e,n){const r=this.devices.get(t);if(!r)return super.writeSync(t,e,n);r.driver.write(r,e,n)}}const xn=new Uint8Array,On={name:"null",singleton:!0,init:()=>({major:1,minor:3}),read:()=>xn,write(){}},Tn={name:"zero",singleton:!0,init:()=>({major:1,minor:5}),read(t,e,n,r){e.fill(0,n,r)},write(){}},Ln={name:"full",singleton:!0,init:()=>({major:1,minor:7}),read(t,e,n,r){e.fill(0,n,r)},write(){throw A("ENOSPC")}},Cn={name:"random",singleton:!0,init:()=>({major:1,minor:8}),read(t,e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random())},write(){}},An={name:"console",singleton:!0,init:(t,{output:e=t=>console.log(t)}={})=>({major:5,minor:1,data:{output:e}}),read:()=>xn,write(t,e,n){const r=S(e);t.data.output(r,n)}};var In=__webpack_require__(287);let Nn=!0;var Mn;function Dn(t){return(61440&t)>>12}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.FIFO=1]="FIFO",t[t.CHR=2]="CHR",t[t.DIR=4]="DIR",t[t.BLK=6]="BLK",t[t.REG=8]="REG",t[t.LNK=10]="LNK",t[t.SOCK=12]="SOCK",t[t.WHT=14]="WHT"}(Mn||(Mn={}));class Rn{ino;type;path;name}class Bn{context;path;fs;internalPath;flag;inode;_buffer;_position=0;get position(){return this.flag&pt?this.inode.size:this._position}set position(t){this._position=t}dirty=!1;closed=!1;get isClosed(){return this.closed}constructor(t,e,n,r,i,s){this.context=t,this.path=e,this.fs=n,this.internalPath=r,this.flag=i,this.inode=s}get _isSync(){return!!(this.flag&vt||this.inode.flags&tn.Sync||this.fs.attributes.has("sync"))}[Symbol.dispose](){this.closeSync()}syncSync(){if(this.closed)throw C("EBADF","sync",this.path);this.dirty&&(this.fs.attributes.has("no_write")||this.fs.touchSync(this.internalPath,this.inode),this.dirty=!1)}datasyncSync(){return this.syncSync()}closeSync(){if(this.closed)throw C("EBADF","close",this.path);this.syncSync(),this.disposeSync()}disposeSync(t){if(this.closed)throw C("EBADF","close",this.path);if(this.dirty&&!t)throw C("EBUSY","close",this.path);this.closed=!0}truncateSync(t){if(t<0)throw C("EINVAL","truncate",this.path);if(this.closed)throw C("EBADF","truncate",this.path);if(!(this.flag&ct||this.flag&lt))throw C("EBADF","truncate",this.path);if(this.fs.attributes.has("readonly"))throw C("EROFS","truncate",this.path);if(this.inode.flags&tn.Immutable)throw C("EPERM","truncate",this.path);this.dirty=!0,this.inode.mtimeMs=Date.now(),this.inode.size=t,this.inode.ctimeMs=Date.now(),this._isSync&&this.syncSync()}writeSync(t,e=0,n=t.byteLength-e,r=this.position){if(this.closed)throw C("EBADF","write",this.path);if(!(this.flag&ct||this.flag&lt))throw C("EBADF","write",this.path);if(this.fs.attributes.has("readonly"))throw C("EROFS","write",this.path);if(this.inode.flags&tn.Immutable)throw C("EPERM","write",this.path);this.dirty=!0;const i=r+n,s=t.subarray(e,e+n);return!an(this.inode)&&!on(this.inode)&&i>this.inode.size&&(this.inode.size=i),this.inode.mtimeMs=Date.now(),this.inode.ctimeMs=Date.now(),this._position=r+s.byteLength,this.fs.writeSync(this.internalPath,s,r),this._isSync&&this.syncSync(),s.byteLength}readSync(t,e=0,n=t.byteLength-e,r=this.position){if(this.closed)throw C("EBADF","read",this.path);if(this.flag&ct)throw C("EBADF","read",this.path);this.inode.flags&tn.NoAtime||this.fs.attributes.has("no_atime")||(this.dirty=!0,this.inode.atimeMs=Date.now());let i=r+n;!an(this.inode)&&!on(this.inode)&&i>this.inode.size&&(i=r+Math.max(this.inode.size-r,0)),this._position=i;const s=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return this.fs.readSync(this.internalPath,s.subarray(e,e+n),r,i),this._isSync&&this.syncSync(),i-r}chmodSync(t){if(this.closed)throw C("EBADF","chmod",this.path);this.dirty=!0,this.inode.mode=this.inode.mode&(t>Et?~Et:Et)|t,(this._isSync||t>Et)&&this.syncSync()}chownSync(t,e){if(this.closed)throw C("EBADF","chmod",this.path);this.dirty=!0,ln(this.inode,t,e),this._isSync&&this.syncSync()}utimesSync(t,e){if(this.closed)throw C("EBADF","utimes",this.path);this.dirty=!0,this.inode.atimeMs=t,this.inode.mtimeMs=e,this._isSync&&this.syncSync()}async[Symbol.asyncDispose](){await this.close()}async sync(){if(this.closed)throw C("EBADF","sync",this.path);this.dirty&&(this.fs.attributes.has("no_write")||await this.fs.touch(this.internalPath,this.inode),this.dirty=!1)}datasync(){return this.sync()}async close(){if(this.closed)throw C("EBADF","close",this.path);await this.sync(),this.dispose()}dispose(t){if(this.closed)throw C("EBADF","close",this.path);if(this.dirty&&!t)throw C("EBUSY","close",this.path);this.closed=!0}stat(){if(this.closed)throw C("EBADF","stat",this.path);return this.inode}async truncate(t){if(t<0)throw C("EINVAL","truncate",this.path);if(this.closed)throw C("EBADF","truncate",this.path);if(!(this.flag&ct||this.flag&lt))throw C("EBADF","truncate",this.path);if(this.fs.attributes.has("readonly"))throw C("EROFS","truncate",this.path);if(this.inode.flags&tn.Immutable)throw C("EPERM","truncate",this.path);this.dirty=!0,this.inode.mtimeMs=Date.now(),this.inode.size=t,this.inode.ctimeMs=Date.now(),this._isSync&&await this.sync()}async write(t,e=0,n=t.byteLength-e,r=this.position){if(this.closed)throw C("EBADF","write",this.path);if(!(this.flag&ct||this.flag&lt))throw C("EBADF","write",this.path);if(this.fs.attributes.has("readonly"))throw C("EROFS","write",this.path);if(this.inode.flags&tn.Immutable)throw C("EPERM","write",this.path);this.dirty=!0;const i=r+n,s=t.subarray(e,e+n);return!an(this.inode)&&!on(this.inode)&&i>this.inode.size&&(this.inode.size=i),this.inode.mtimeMs=Date.now(),this.inode.ctimeMs=Date.now(),this._position=r+s.byteLength,await this.fs.write(this.internalPath,s,r),this._isSync&&await this.sync(),s.byteLength}async read(t,e=0,n=t.byteLength-e,r=this.position){if(this.closed)throw C("EBADF","read",this.path);if(this.flag&ct)throw C("EBADF","read",this.path);this.inode.flags&tn.NoAtime||this.fs.attributes.has("no_atime")||(this.dirty=!0,this.inode.atimeMs=Date.now());let i=r+n;!an(this.inode)&&!on(this.inode)&&i>this.inode.size&&(i=r+Math.max(this.inode.size-r,0)),this._position=i;const s=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return await this.fs.read(this.internalPath,s.subarray(e,e+n),r,i),this._isSync&&await this.sync(),i-r}async chmod(t){if(this.closed)throw C("EBADF","chmod",this.path);this.dirty=!0,this.inode.mode=this.inode.mode&(t>Et?~Et:Et)|t,(this._isSync||t>Et)&&await this.sync()}async chown(t,e){if(this.closed)throw C("EBADF","chown",this.path);this.dirty=!0,ln(this.inode,t,e),this._isSync&&await this.sync()}async utimes(t,e){if(this.closed)throw C("EBADF","utimes",this.path);this.dirty=!0,this.inode.atimeMs=t,this.inode.mtimeMs=e,this._isSync&&await this.sync()}streamRead(t){if(this.closed)throw C("EBADF","streamRead",this.path);return this.fs.streamRead(this.internalPath,t)}streamWrite(t){if(this.closed)throw C("EBADF","write",this.path);if(this.inode.flags&tn.Immutable)throw C("EPERM","write",this.path);if(this.fs.attributes.has("readonly"))throw C("EROFS","write",this.path);return this.fs.streamWrite(this.internalPath,t)}}function Pn(t){const e=t.context?.descriptors??Q.descriptors,n=Math.max(e.size?Math.max(...e.keys())+1:0,4);return e.set(n,t),n}function jn(t,e){const n=(t?.descriptors??Q.descriptors).get(e);if(!n)throw A("EBADF");return n}function zn(t,e){return(t?.descriptors??Q.descriptors).delete(e)}const Un=/[rwasx]{1,2}\+?/;function Fn(t){if("number"==typeof t)return t;if(!Un.test(t))throw A("EINVAL","Invalid flag string: "+t);return function(t){if(!t.includes("r")&&!t.includes("w")&&!t.includes("a"))throw A("EINVAL","Invalid flag string: "+t);let e=t.includes("r")?at:ut;return t.includes("w")&&(e|=dt),t.includes("a")&&(e|=pt),t.includes("+")?e|=lt:t.includes("r")||(e|=ct),t.includes("s")&&(e|=vt),t.includes("x")&&(e|=ht),e}(t)}function Wn(t){let e=0;return t&ct||(e|=et),(t&ct||t&lt)&&(e|=nt),e}function Hn(t,e,n,r){const i="string"==typeof n?{path:n,dest:r,syscall:e.endsWith("Sync")?e.slice(0,-4):e}:n,s=t[e];if("function"!=typeof s)throw new TypeError(`${e} is not a function`);return function(...e){try{return s.call(t,...e)}catch(t){throw T(Object.assign(t,i))}}}function $n(t,e){return new Proxy(t,{get(t,n){const r=Reflect.get(t,n);return"function"!=typeof r?r:function n(...i){try{const s=r.apply(t,i);return s instanceof Promise?s.catch((t=>{if("code"in t)throw T(Object.assign(t,e));if(t in x){const r=C(t,e);Error.captureStackTrace(r,n)}throw t})):s}catch(t){throw T(Object.assign(t,e))}}}})}const qn=new Map;function Vn(t,e){if("/"!=t[0]&&(t="/"+t),t=Re.call(this,t),qn.has(t))throw j(A("EINVAL","Mount point is already in use: "+t));e._mountPoint=t,qn.set(t,e),F(`Mounted ${e.name} on ${t}`),W(`${e.name} attributes: ${[...e.attributes].map((([t,e])=>null!=e?t+"="+e:t)).join(", ")}`)}function Gn(t){"/"!=t[0]&&(t="/"+t),t=Re.call(this,t),qn.has(t)?(qn.delete(t),U("Unmounted "+t)):z(t+" is already unmounted")}function Yn(t,e,n){const r=e?.root||Q.root,i={path:t,...n};t=Ae(Be(r,t));const s=[...qn].sort(((t,e)=>t[0].length>e[0].length?-1:1));for(const[e,n]of s){if(a=t,"/"!==(o=e)&&o!==a&&(o.endsWith("/")||(o+="/"),!a.startsWith(o)))continue;""===(t=t.slice(e.length>1?e.length:0))&&(t="/");const s=n.attributes.get("case_fold");return"lower"===s&&(t=t.toLowerCase()),"upper"===s&&(t=t.toUpperCase()),{fs:$n(n,i),path:t,mountPoint:e,root:r}}var o,a;throw B(new L(x.EIO,"No file system for "+t))}function Kn(t,e){const n=t.usage(),r=n.blockSize||4096;return{type:(e?BigInt:Number)(t.type),bsize:(e?BigInt:Number)(r),ffree:(e?BigInt:Number)(n.freeNodes||Gt),files:(e?BigInt:Number)(n.totalNodes||Gt),bavail:(e?BigInt:Number)(n.freeSpace/r),bfree:(e?BigInt:Number)(n.freeSpace/r),blocks:(e?BigInt:Number)(n.totalSpace/r)}}function Xn(t){const e=this??Q;if(!(n=e.credentials)||n.uid&&n.gid&&n.euid&&n.egid&&!n.groups.some((t=>!t)))throw A("EPERM","Can not chroot() as non-root user");var n;e.root??="/";const r=Be(e.root,t);for(const t of e.descriptors?.values()??[]){if(!t.path.startsWith(e.root))throw C("EBUSY","chroot",t.path);t.path=t.path.slice(e.root.length)}if(r.length>e.root.length)throw A("EPERM","Can not chroot() outside of current root");e.root=r}function Jn(t,e,n,r){try{const i=Yn(e,t),s=i.fs.statSync(i.path);return!sn(s)||n?{...i,fullPath:e,stats:s}:Jn(t,Re.call(t,je(e),Qn.call(t,e)),n,r)}catch(t){if(T(Object.assign(t,{syscall:"stat",path:e})),n)throw t}const{base:i,dir:s}=Ue(e),o="/"==s?"/":Jn(t,s,!1,r).fullPath,a=Be(o,i),c=Yn(a,t);let l;try{l=c.fs.statSync(c.path)}catch(t){if("ENOENT"===t.code)return{...c,fullPath:e};throw T(Object.assign(t,{syscall:"stat",path:a}))}return sn(l)?Jn(t,Re.call(t,o,Qn.call(t,a)),!1,r):{...c,fullPath:a,stats:l}}function Zn(t,e){t=Ae(t);const n=Le(e.mode,420),r=Fn(e.flag);t=e.preserveSymlinks?t:Jn(this,t).fullPath;const{fs:i,path:s}=Yn(t,this);let o;try{o=i.statSync(s)}catch{}if(!o){if(!(r&ut))throw C("ENOENT","open",t);const o=i.statSync(je(s));if(Nn&&!cn(this,o,nt))throw C("EACCES","open",t);if(!rn(o))throw C("ENOTDIR","open",t);if(!e.allowDirectory&&n&Lt)throw C("EISDIR","open",t);if(Nn&&!cn(this,o,nt))throw C("EACCES","open",t);const{euid:a,egid:c}=this?.credentials??Q.credentials,l=i.createFileSync(s,{mode:n,uid:o.mode&It?o.uid:a,gid:o.mode&Nt?o.gid:c});return new Bn(this,t,i,s,r,l)}if(Nn&&(!cn(this,o,n)||!cn(this,o,Wn(r))))throw C("EACCES","open",t);if(r&ht)throw C("EEXIST","open",t);const a=new Bn(this,t,i,s,r,o);if(!e.allowDirectory&&o.mode&Lt)throw C("EISDIR","open",t);return r&dt&&a.truncateSync(0),a}function Qn(t){t=Ae(t);const{fs:e,stats:n,path:r}=Jn(this,t,!0);if(!n)throw C("ENOENT","readlink",t);if(Nn&&!cn(this,n,et))throw C("EACCES","readlink",t);if(!sn(n))throw C("EINVAL","readlink",t);const i=n.size,s=new Uint8Array(i);return e.readSync(r,s,0,i),S(s)}function tr(t,e={}){t=Ae(t);const{fs:n,path:r}=Jn(this,t),{euid:i,egid:s}=this?.credentials??Q.credentials,{mode:o=511,recursive:a}=e,c=(t,e,r)=>{if(Nn&&!cn(this,r,nt))throw C("EACCES","mkdir",je(t));const a=n.mkdirSync(e,{mode:o,uid:r.mode&It?r.uid:i,gid:r.mode&Nt?r.gid:s});return ri(this,"rename",t),a};if(!a)return void c(t,r,n.statSync(je(r)));const l=[];for(let e=r,i=t;!n.existsSync(e);e=je(e),i=je(i))l.unshift({resolved:e,original:i});if(!l.length)return;const u=[n.statSync(je(l[0].resolved))];for(const[t,e]of l.entries())u.push(c(e.original,e.resolved,u[t]));return l[0].original}function er(t,e={}){t=Ae(t);const{fs:n,path:r}=Jn(this,t),i=n.statSync(r);if(Nn&&!cn(this,i,et))throw C("EACCES","readdir",t);if(!rn(i))throw C("ENOTDIR","readdir",t);const s=n.readdirSync(r),o=[],a=t=>{let i;try{i=n.statSync(Be(r,t))}catch(t){if("ENOENT"==t.code)return;throw t}const s=new Rn;if(s.ino=i.ino,s.type=Dn(i.mode),s.path=t,s.name=ze(t),o.push(s),!rn(i)||!e?.recursive)return;const c=n.readdirSync(Be(r,t));for(const e of c)a(Be(t,e))};for(const t of s)a(t);return o}function nr(t,e){const n={syscall:"rename",path:t=Ae(t),dest:e=Ae(e)},r=Jn(this,t,!0,n),i=Yn(e,this,n);if(r.fs.uuid!==i.fs.uuid)throw C("EXDEV",n);if(i.path.startsWith(r.path+"/"))throw C("EBUSY",n);if(!r.stats)throw C("ENOENT",n);const s=r.fs,o=s.statSync(je(r.path)),a=s.statSync(je(i.path));let c;try{c=s.statSync(i.path)}catch(t){if("ENOENT"!=t.code)throw t}if(Nn&&(!cn(this,o,et)||!cn(this,a,nt)))throw C("EACCES",n);if(c&&!rn(r.stats)&&rn(c))throw C("EISDIR",n);if(c&&rn(r.stats)&&!rn(c))throw C("ENOTDIR",n);r.fs.renameSync(r.path,i.path),ri(this,"rename",t),ri(this,"change",e)}function rr(t,e){t=Ae(t);const n={syscall:"link",path:e=Ae(e),dest:t},{fs:r,path:i}=Yn(t,this,n),s=Yn(e,this,n);if(r.uuid!==s.fs.uuid)throw C("EXDEV",n);const o=r.statSync(i);if(Nn){if(!cn(this,o,et))throw C("EACCES",n);if(!cn(this,r.statSync(je(i)),et))throw C("EACCES",n);if(!cn(this,r.statSync(je(s.path)),nt))throw C("EACCES",n)}return r.linkSync(i,s.path)}Vn("/",En.create({label:"root"}));class ir{ino;type;_name;get name(){const t=In.Buffer.from(this._name);return"buffer"==this._encoding?t:t.toString(this._encoding)}_encoding;_parentPath;get parentPath(){return this._parentPath}get path(){return z("Dirent.path was removed in Node v24, use parentPath instead"),this._parentPath}static from(t,e){const n=new ir,{base:r,dir:i}=Ue(t.path);return n._parentPath=i||".",n._name=r,n.ino=t.ino,n.type=t.type,n._encoding=e,n}isFile(){return this.type===Mn.REG}isDirectory(){return this.type===Mn.DIR}isBlockDevice(){return this.type===Mn.BLK}isCharacterDevice(){return this.type===Mn.CHR}isSymbolicLink(){return this.type===Mn.LNK}isFIFO(){return this.type===Mn.FIFO}isSocket(){return this.type===Mn.SOCK}}class sr{path;context;closed=!1;checkClosed(){if(this.closed)throw A("EBADF","Can not use closed Dir")}_entries;constructor(t,e){this.path=t,this.context=e}close(t){if(this.closed=!0,!t)return Promise.resolve();t(null)}closeSync(){this.closed=!0}async _read(){return this.checkClosed(),this._entries??=await Ni.call(this.context,this.path,{withFileTypes:!0}),this._entries.length?this._entries.shift()??null:null}read(t){if(!t)return this._read();this._read().then((e=>t(null,e)))}readSync(){return this.checkClosed(),this._entries??=Ir.call(this.context,this.path,{withFileTypes:!0}),this._entries.length?this._entries.shift()??null:null}async next(){const t=await this._read();return t?{done:!1,value:t}:(await this.close(),{done:!0,value:void 0})}[Symbol.asyncIterator](){return this}[Symbol.dispose](){this.closed||this.closeSync()}async[Symbol.asyncDispose](){this.closed||await this.close()}}var or=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e},ar=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;return function t(){for(;r=e.stack.pop();)try{if(!r.async&&1===i)return i=0,e.stack.push(r),Promise.resolve().then(t);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(s).then(t,(function(e){return n(e),t()}))}else i|=1}catch(t){n(t)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});function cr(t,e){return nr.call(this,t,e)}function lr(t){t=Ae(t);try{const{fs:e,path:n}=Jn(this,t);return e.existsSync(n)}catch(t){if(t.errno==x.ENOENT)return!1;throw t}}function ur(t,e){t=Ae(t);const{fs:n,path:r}=Jn(this,t);let i;try{i=n.statSync(r)}catch(e){throw T(Object.assign(e,{path:t}))}if(Nn&&!cn(this,i,et))throw C("EACCES",{syscall:"stat",path:t});return e?.bigint?new qe(i):new $e(i)}function hr(t,e){t=Ae(t);const{base:n,dir:r}=Ue(t),{fs:i,path:s}=Jn(this,r),o=Hn(i,"statSync",t)(n?Be(s,n):s);if(Nn&&!cn(this,o,et))throw C("EACCES",{syscall:"lstat",path:t});return e?.bigint?new qe(o):new $e(o)}function fr(t,e=0){const n={stack:[],error:void 0,hasError:!1};try{const r=or(n,Zn.call(this,t,{flag:"r+"}),!1);if(e||=0,e<0)throw C("EINVAL","truncate",t.toString());r.truncateSync(e)}catch(t){n.error=t,n.hasError=!0}finally{ar(n)}}function dr(t){t=Ae(t);const{fs:e,path:n}=Yn(t,this);try{if(Nn&&!cn(this,e.statSync(n),nt))throw C("EACCES","unlink");e.unlinkSync(n)}catch(e){throw T(Object.assign(e,{path:t}))}ri(this,"rename",t.toString())}function pr(t,e,n=tt){return Pn(Zn.call(this,t,{flag:e,mode:n}))}function gr(t,e,n){return Pn(Zn.call(this,t,{flag:e,mode:n,preserveSymlinks:!0}))}function mr(t,e={}){const n={stack:[],error:void 0,hasError:!1};try{const r=Ie(e,null,"r",420);if(Fn(r.flag)&ct)throw C("EBADF","read",t.toString());const i=or(n,"number"==typeof t?jn(this,t):Zn.call(this,t.toString(),{flag:r.flag,mode:420,preserveSymlinks:!1}),!1),{size:s}=i.stat(),o=In.Buffer.alloc(s);return i.readSync(o,0,s,0),r.encoding?o.toString(r.encoding):o}catch(t){n.error=t,n.hasError=!0}finally{ar(n)}}function yr(t,e,n={}){const r={stack:[],error:void 0,hasError:!1};try{const i=Ie(n,"utf8","w+",420),s=Fn(i.flag);if(!(s&ct||s&lt))throw new L(x.EINVAL,"Flag passed to writeFile must allow for writing");if("string"!=typeof e&&!i.encoding)throw new L(x.EINVAL,"Encoding not specified");const o="string"==typeof e?In.Buffer.from(e,i.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(!o)throw new L(x.EINVAL,"Data not specified");or(r,"number"==typeof t?jn(this,t):Zn.call(this,t.toString(),{flag:s,mode:i.mode,preserveSymlinks:!0}),!1).writeSync(o,0,o.byteLength,0),ri(this,"change",t.toString())}catch(t){r.error=t,r.hasError=!0}finally{ar(r)}}function vr(t,e,n={}){const r=Ie(n,"utf8","a+",420),i=Fn(r.flag);if(!(i&pt))throw new L(x.EINVAL,"Flag passed to appendFile must allow for appending");if("string"!=typeof e&&!r.encoding)throw new L(x.EINVAL,"Encoding not specified");const s="string"==typeof e?In.Buffer.from(e,r.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o="number"==typeof t?jn(this,t):Zn.call(this,Ae(t),{flag:i,mode:r.mode,preserveSymlinks:!0});o.writeSync(s,0,s.byteLength),"number"!=typeof o&&o.closeSync()}function br(t,e){const n=jn(this,t).stat();return e?.bigint?new qe(n):new $e(n)}function wr(t){jn(this,t).closeSync(),zn(this,t)}function _r(t,e=0){if(e||=0,e<0)throw new L(x.EINVAL);jn(this,t).truncateSync(e)}function Sr(t){jn(this,t).syncSync()}function Er(t){jn(this,t).datasyncSync()}function kr(t,e,n,r,i){let s,o,a,c;if("string"==typeof e){c="number"==typeof n?n:null;const t="string"==typeof r?r:"utf8";o=0,s=In.Buffer.from(e,t),a=s.byteLength}else s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o=n,a=r,c="number"==typeof i?i:null;const l=jn(this,t);c??=l.position;const u=l.writeSync(s,o,a,c);return ri(this,"change",l.path),u}function xr(t,e,n,r,i){const s=jn(this,t),o="object"==typeof n?n.offset:n;if("object"==typeof n&&(r=n.length,i=n.position),i&&i>Number.MAX_SAFE_INTEGER)throw C("EINVAL");return"bigint"==typeof i&&(i=Number(i)),i=Number.isSafeInteger(i)?i:s.position,s.readSync(e,o,r,i)}function Or(t,e,n){jn(this,t).chownSync(e,n)}function Tr(t,e){const n=Le(e,-1);if(n<0)throw new L(x.EINVAL,"Invalid mode.");jn(this,t).chmodSync(n)}function Lr(t,e,n){jn(this,t).utimesSync(Ce(e),Ce(n))}function Cr(t){t=Ae(t);const{fs:e,path:n}=Jn(this,t),r=Hn(e,"statSync",t)(n);if(!rn(r))throw C("ENOTDIR","rmdir",t);if(Nn&&!cn(this,r,nt))throw C("EACCES","rmdir",t);Hn(e,"rmdirSync",t)(n),ri(this,"rename",t.toString())}function Ar(t,e){e="object"==typeof e?e:{mode:e};const n=Le(e?.mode,511);return tr.call(this,t,{...e,mode:n})}function Ir(t,e){e="object"==typeof e?e:{encoding:e},t=Ae(t);const n=[],r=er.call(this,t,e??void 0);for(const t of r)e?.withFileTypes?n.push(ir.from(t,e.encoding)):"buffer"==e?.encoding?n.push(In.Buffer.from(t.path)):n.push(t.path);return n}function Nr(t,e){return rr.call(this,t,e)}function Mr(t,e,n="file"){const r={stack:[],error:void 0,hasError:!1};try{if(!["file","dir","junction"].includes(n))throw new TypeError("Invalid symlink type: "+n);e=Ae(e);const i=or(r,Zn.call(this,e,{flag:"wx",mode:420}),!1);i.writeSync(w(Ae(t,!0))),i.chmodSync(xt)}catch(t){r.error=t,r.hasError=!0}finally{ar(r)}}function Dr(t,e){const n=In.Buffer.from(Qn.call(this,t)),r="object"==typeof e?e?.encoding:e;return"buffer"==r?n:n.toString(r??"utf-8")}function Rr(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{or(r,Zn.call(this,t,{flag:"r+",mode:tt}),!1).chownSync(e,n)}catch(t){r.error=t,r.hasError=!0}finally{ar(r)}}function Br(t,e,n){const r=gr.call(this,t,"r+");Or.call(this,r,e,n),wr.call(this,r)}function Pr(t,e){const n=pr.call(this,t,"r+");Tr.call(this,n,e),wr.call(this,n)}function jr(t,e){const n=gr.call(this,t,"r+");Tr.call(this,n,e),wr.call(this,n)}function zr(t,e,n){const r=pr.call(this,t,"r+");Lr.call(this,r,e,n),wr.call(this,r)}function Ur(t,e,n){const r=gr.call(this,t,"r+");Lr.call(this,r,e,n),wr.call(this,r)}function Fr(t,e){const n="string"==typeof e?e:e?.encoding??"utf8";t=Ae(t);const{fullPath:r}=Jn(this,t);if("utf8"==n||"utf-8"==n)return r;const i=In.Buffer.from(r,"utf-8");return"buffer"==n?i:i.toString(n)}function Wr(t,e=384){if(Nn&&!cn(this,ur.call(this,t),e))throw new L(x.EACCES)}function Hr(t,e){let n;t=Ae(t);try{n=hr.bind(this)(t)}catch(t){if("ENOENT"!=t.code||!e?.force)throw t}if(n)switch(n.mode&Et){case Lt:if(e?.recursive)for(const n of Ir.call(this,t))Hr.call(this,Be(t,n),e);Cr.call(this,t);break;case Ot:case xt:case Tt:case Ct:dr.call(this,t);break;default:throw C("ENOSYS","rm",t)}}function $r(t,e){const n="object"==typeof e?e?.encoding:e||"utf8",r=Me(t);return Ar.call(this,r),"buffer"==n?In.Buffer.from(r):r}function qr(t,e){const n=Me(t);Ar.call(this,n);const r=()=>Hr(n,{recursive:!0,force:!0});return{path:n,remove:r,[Symbol.dispose]:r}}function Vr(t,e,n){if(t=Ae(t),e=Ae(e),n&&n&it&&lr(e))throw C("EEXIST","copyFile",e);yr.call(this,e,mr(t)),ri(this,"rename",e.toString())}function Gr(t,e,n){const r=jn(this,t);let i=0;for(const t of e)i+=r.readSync(t,0,t.byteLength,n+i);return i}function Yr(t,e,n){const r=jn(this,t);let i=0;for(const t of e)i+=r.writeSync(new Uint8Array(t.buffer),0,t.byteLength,n+i);return i}function Kr(t,e){return t=Ae(t),new sr(t,this)}function Xr(t,e,n){t=Ae(t),e=Ae(e);const r=hr.call(this,t);if(n?.errorOnExist&&lr.call(this,e))throw C("EEXIST","cp",e);switch(r.mode&Et){case Lt:if(!n?.recursive)throw C("EISDIR","cp",t);Ar.call(this,e,{recursive:!0});for(const r of Ir.call(this,t,{withFileTypes:!0}))n.filter&&!n.filter(Be(t,r.name),Be(e,r.name))||Xr.call(this,Be(t,r.name),Be(e,r.name),n);break;case Ot:case xt:Vr.call(this,t,e);break;default:throw C("ENOSYS","cp",t)}n?.preserveTimestamps&&zr.call(this,e,r.atime,r.mtime)}function Jr(t,e){t=Ae(t);const{fs:n}=Yn(t,this);return Kn(n,e?.bigint)}function Zr(t,e={}){t=Array.isArray(t)?t:[t];const{cwd:n="/",withFileTypes:r=!1,exclude:i=()=>!1}=e,s=t.map(Ne),o=[];return function t(e){const n=Ir(e,{withFileTypes:r,encoding:"utf8"});for(const a of n){const n=r?Be(a.parentPath,a.name):e+"/"+a;("function"!=typeof i?i.some((t=>Fe(t,n))):i(r?a:n))||(ur(n).isDirectory()&&s.some((t=>t.source.includes(".*")))&&t(n),s.some((t=>t.test(n.replace(/^\/+/g,""))))&&o.push(r?a:n.replace(/^\/+/g,"")))}}(n),o}class Qr extends l{_context;path;off(t,e,n,r){return super.off(t,e,n,r)}removeListener(t,e,n,r){return super.removeListener(t,e,n,r)}constructor(t,e){super(),this._context=t,this.path=e}setMaxListeners(){throw C("ENOSYS","Watcher.setMaxListeners")}getMaxListeners(){throw C("ENOSYS","Watcher.getMaxListeners")}prependListener(){throw C("ENOSYS","Watcher.prependListener")}prependOnceListener(){throw C("ENOSYS","Watcher.prependOnceListener")}rawListeners(){throw C("ENOSYS","Watcher.rawListeners")}ref(){return this}unref(){return this}}class ti extends Qr{options;realpath;constructor(t,e,n){super(t,e),this.options=n,this.realpath=t?.root?Be(t.root,e):e,function(t,e){const n=Ae(t);ni.has(n)||ni.set(n,new Set),ni.get(n).add(e)}(this.realpath,this)}close(){super.emit("close"),function(t,e){const n=Ae(t);ni.has(n)&&(ni.get(n).delete(e),0===ni.get(n).size&&ni.delete(n))}(this.realpath,this)}[Symbol.dispose](){this.close()}}class ei extends Qr{options;intervalId;previous;constructor(t,e,n){super(t,e),this.options=n,this.start()}onInterval(){try{const n=ur(this.path);t=this.previous,e=n,(t.size!=e.size||+t.atime!=+e.atime||+t.mtime!=+e.mtime||+t.ctime!=+e.ctime||t.mode!=e.mode)&&(this.emit("change",n,this.previous),this.previous=n)}catch(t){this.emit("error",t)}var t,e}start(){const t=this.options.interval||5e3;try{this.previous=ur(this.path)}catch(t){return void this.emit("error",t)}this.intervalId=setInterval(this.onInterval.bind(this),t),this.options.persistent||"object"!=typeof this.intervalId||this.intervalId.unref()}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),this.removeAllListeners()}}const ni=new Map;function ri(t,e,n){t&&(n=Be(t.root??"/",n));for(let t=n=Ae(n);"/"!=t;t=je(t)){const r=ni.get(t);if(r)for(const i of r)i.emit("change",e,Pe.call(i._context,t,n)||ze(n))}}async function ii(t,e,n,r){if(n){const n=Yn(e,t,r),i=await n.fs.stat(n.path).catch((()=>{}));return{...n,fullPath:e,stats:i}}try{const i=Yn(e,t),s=await i.fs.stat(i.path);if(!sn(s))return{...i,fullPath:e,stats:s};const o=Re.call(t,je(e),await oi.call(t,e));return await ii(t,o,n,r)}catch{}const{base:i,dir:s}=Ue(e),o="/"==s?"/":(await ii(t,s,!1,r)).fullPath,a=Be(o,i),c=Yn(a,t),l=await c.fs.stat(c.path).catch((t=>{if("ENOENT"!=t.code)throw T(Object.assign(t,{syscall:"stat",path:a}))}));if(!l)return{...c,fullPath:e};if(!sn(l))return{...c,fullPath:a,stats:l};const u=Re.call(t,o,await oi.call(t,a));return await ii(t,u,!1,r)}async function si(t,e,n){e=Ae(e);const r=Le(n.mode,420),i=Fn(n.flag),s={syscall:"open",path:e},{fs:o,path:a,stats:c}=await ii(t,e,n.preserveSymlinks,s);if(!c){if(!(i&ut))throw C("ENOENT",s);const c=await o.stat(je(a));if(Nn&&!cn(t,c,nt))throw C("EACCES","open",je(e));if(!rn(c))throw C("ENOTDIR","open",je(e));if(!n.allowDirectory&&r&Lt)throw C("EISDIR","open",e);const{euid:l,egid:u}=t?.credentials??Q.credentials,h=await o.createFile(a,{mode:r,uid:c.mode&It?c.uid:l,gid:c.mode&Nt?c.gid:u});return new Bn(t,e,o,a,i,h)}if(Nn&&!cn(t,c,Wn(i)))throw C("EACCES",s);if(i&ht)throw C("EEXIST",s);const l=new Bn(t,e,o,a,i,c);if(!n.allowDirectory&&r&Lt)throw C("EISDIR","open",e);return i&dt&&await l.truncate(0),l}async function oi(t){const e={syscall:"readlink",path:t=Ae(t)},{fs:n,stats:r,path:i}=await ii(this,t,!0,e);if(!r)throw C("ENOENT",e);if(Nn&&!cn(this,r,et))throw C("EACCES",e);if(!sn(r))throw C("EINVAL",e);const s=r.size,o=new Uint8Array(s);return await n.read(i,o,0,s),S(o)}async function ai(t,e={}){t=Ae(t);const{euid:n,egid:r}=this?.credentials??Q.credentials,{mode:i=511,recursive:s}=e,{fs:o,path:a}=Yn(t,this,{syscall:"mkdir"}),c=async(t,e,s)=>{if(Nn&&!cn(this,s,nt))throw C("EACCES","mkdir",t);const a=await o.mkdir(e,{mode:i,uid:s.mode&It?s.uid:n,gid:s.mode&Nt?s.gid:r});return ri(this,"rename",t),a};if(!s)return void await c(t,a,await o.stat(je(a)));const l=[];let u=t;for(let t=a;!await o.exists(t);t=je(t),u=je(u))l.unshift([u,t]);if(!l.length)return;const h=[await o.stat(je(l[0][1]))];for(const[t,[e,n]]of l.entries())h.push(await c(e,n,h[t]));return l[0][0]}async function ci(t,e={}){const n={syscall:"readdir",path:t=Ae(t)},{fs:r,path:i,stats:s}=await ii(this,t,!1,n);if(!s)throw C("ENOENT",n);if(Nn&&!cn(this,s,et))throw C("EACCES",n);if(!rn(s))throw C("ENOTDIR",n);const o=await r.readdir(i),a=[],c=async t=>{const n=await r.stat(Be(i,t)).catch((t=>{if("ENOENT"!=t.code)throw t}));if(!n)return;const s=new Rn;if(s.ino=n.ino,s.type=Dn(n.mode),s.path=t,s.name=ze(t),a.push(s),!e.recursive||!rn(n))return;const o=await r.readdir(Be(i,t));for(const e of o)await c(Be(t,e))};return await Promise.all(o.map(c)),a}async function li(t,e){const n={syscall:"rename",path:t=Ae(t),dest:e=Ae(e)},r=await ii(this,t,!0,n),i=Yn(e,this,n);if(r.fs.uuid!==i.fs.uuid)throw C("EXDEV",n);if(i.path.startsWith(r.path+"/"))throw C("EBUSY",n);if(!r.stats)throw C("ENOENT",n);const s=r.fs,o=await s.stat(je(r.path)),a=await s.stat(je(i.path)),c=await s.stat(i.path).catch((t=>{if("ENOENT"==t.code)return null;throw t}));if(Nn&&(!cn(this,o,et)||!cn(this,a,nt)))throw C("EACCES",n);if(c&&!rn(r.stats)&&rn(c))throw C("EISDIR",n);if(c&&rn(r.stats)&&!rn(c))throw C("ENOTDIR",n);await r.fs.rename(r.path,i.path),ri(this,"rename",t),ri(this,"change",e)}async function ui(t,e){t=Ae(t);const n={syscall:"link",path:e=Ae(e),dest:t},{fs:r,path:i}=Yn(t,this,n),s=Yn(e,this,n);if(r.uuid!=s.fs.uuid)throw C("EXDEV",n);const o=await r.stat(i);if(Nn){if(!cn(this,o,et))throw C("EACCES",n);if(!cn(this,await r.stat(je(i)),et))throw C("EACCES",n);if(!cn(this,await r.stat(je(s.path)),nt))throw C("EACCES",n)}return await r.link(i,s.path)}class hi extends l{input;output;terminal;line="";_cursor=0;get cursor(){return this._cursor}_buffer="";_closed=!1;_paused=!1;_prompt="";_history=[];_historyIndex=-1;_currentLine="";constructor(t,e,n,r=!1){super(),this.input=t,this.output=e,this.terminal=r,this.input.on("data",this._onData),this.input.on("end",this.close.bind(this)),this.input.on("close",this.close.bind(this))}_onData=t=>{if(!this._paused&&!this._closed){this._buffer+="string"==typeof t?t:t.toString("utf8");for(let t=this._buffer.indexOf("\n");t>=0;t=this._buffer.indexOf("\n")){let e=this._buffer.substring(0,t);e.endsWith("\r")&&(e=e.substring(0,e.length-1)),this._buffer=this._buffer.substring(t+1),this.line=e,e.trim()&&!e.trim().match(/^\s*$/)&&this._history.at(-1)!=e&&(this._history.push(e),this._historyIndex=this._history.length,this.emit("history",this._history)),this.emit("line",e)}}};close(){if(!this._closed){if(this._closed=!0,this.input?.removeAllListeners?.(),this._buffer.length){const t=this._buffer;this._buffer="",this.line=t,this.emit("line",t)}this.emit("history",this._history),this.emit("close"),this.removeAllListeners()}}pause(){return this._paused||(this._paused=!0,"pause"in this.input&&this.input.pause(),this.emit("pause")),this}resume(){return this._paused?(this._paused=!1,"resume"in this.input&&this.input.resume(),this.emit("resume"),this):this}setPrompt(t){this._prompt=t}getPrompt(){return this._prompt}prompt(t){if(!this.output)return;if(!t)return void this.output.write(this._prompt);const{cols:e}=this.getCursorPos();this.output.write(this._prompt),this._cursor=e}write(t,e){if(!this._closed){if(t){const e="string"==typeof t?t:t.toString("utf8");this._onData(e)}if(e&&this.terminal)switch((e.ctrl?"^":"")+e.name){case"^c":this.emit("SIGINT");break;case"^z":this.emit("SIGTSTP");break;case"^q":this.emit("SIGCONT");break;case"home":case"^a":if(!this.output)return;di(this.output,-this._cursor,0),this._cursor=0,this._cursor=0;break;case"^e":case"end":{if(!this.output)return;const t=this.line.length-this._cursor;if(!t)return;di(this.output,t,0),this._cursor=this.line.length,this._cursor=this.line.length;break}case"^k":{if(!this.output)return;if(this._cursor>=this.line.length)return;const t=this.line.slice(0,this._cursor);fi(this.output,1),this.line=t;break}case"^u":{if(!this.output||!this._cursor)return;const t=this.line.slice(this._cursor);fi(this.output,0),di(this.output,0,0),this.output.write(this._prompt+t),this.line=t,this._cursor=0,this._cursor=0;break}case"^w":{if(!this.output||!this._cursor)return;let t=this._cursor-1;for(;t>=0&&" "===this.line[t];)t--;for(;t>=0&&" "!==this.line[t];)t--;const e=this.line.slice(0,t+1)+this.line.slice(this._cursor),n=t+1;this._renderLine(e),this._cursor=n,this._cursor=n,di(this.output,-e.length,0),di(this.output,n,0);break}case"^return":case"^enter":this._onData("\n");break;case"return":case"enter":this._onData((t?"string"==typeof t?t:t.toString("utf8"):"")+"\n");break;case"up":case"down":{if(!this.output||!this._history.length)return;if(this._historyIndex===this._history.length&&(this._currentLine=this.line||""),"up"==e.name&&this._historyIndex>0)this._historyIndex--;else{if(!("down"==e.name&&this._historyIndex<this._history.length-1))return"down"==e.name&&this._historyIndex==this._history.length-1?(this._historyIndex=this._history.length,void this._renderLine(this._currentLine)):void 0;this._historyIndex++}const t=this._history[this._historyIndex];this._renderLine(t);break}case"left":case"right":{const t="left"==e.name?-1:1;if(!this.output)return;const n=Math.max(0,Math.min(this.line.length,this._cursor+t));if(n==this._cursor)return;di(this.output,t,0),this._cursor=n,this._cursor=n;break}case"backspace":{if(!this.output||!this._cursor)return;const t=this.line.slice(0,this._cursor-1)+this.line.slice(this._cursor);this._renderLine(t),this._cursor=--this._cursor,this._cursor>0&&(di(this.output,-this._cursor,0),di(this.output,this._cursor,0));break}case"delete":{if(!this.output)return;if(this._cursor>=this.line.length)return;const t=this.line.slice(0,this._cursor)+this.line.slice(this._cursor+1);fi(this.output,0),di(this.output,0,0),this.output.write(this._prompt+t),this.line=t,di(this.output,-t.length,0),di(this.output,this._cursor,0);break}}}}_renderLine(t){this.output&&(fi(this.output,0),di(this.output,0,0),this.output.write(this._prompt+t),this.line=t,this._cursor=t.length,this._cursor=t.length)}question(t,e,n){const r="function"==typeof e?e:n;!this._closed&&this.output?(this.output.write(t),this.once("line",r)):r("")}getCursorPos(){return{rows:0,cols:this.cursor}}prependListener(t,e){const n=this.listeners(t);return this.removeAllListeners(t),this.on(t,e),n.forEach(this.on.bind(this,t)),this}prependOnceListener(t,e){const n=this.listeners(t);return this.removeAllListeners(t),this.once(t,e),n.forEach(this.on.bind(this,t)),this}setMaxListeners(){return z("Interface.prototype.setMaxListeners is not supported"),this}getMaxListeners(){return z("Interface.prototype.getMaxListeners is not supported"),10}[Symbol.asyncIterator](){let t=!1;return{next:async()=>{if(t)return{done:t,value:void 0};const{resolve:e,promise:n}=Promise.withResolvers();return this.once("line",(t=>e({value:t,done:!1}))),this.once("close",(()=>{t=!0,e({value:void 0,done:t})})),n},return:async e=>(t||(t=!0,this.close()),{done:t,value:e}),throw:async e=>{throw t||(t=!0,this.close()),e},[Symbol.asyncIterator](){return this},[Symbol.asyncDispose]:async()=>{t||(t=!0,this.close())}}}[Symbol.dispose](){this.close()}async[Symbol.asyncDispose](){if(this._closed)return;const{resolve:t,promise:e}=Promise.withResolvers();this.once("close",(()=>t())),this.close(),await e}rawListeners(t){return this.listeners(t)}}function fi(t,e){return t.write(e>=0?"\r[K":"[K"),!0}function di(t,e,n){if(!t.write)return!1;let r="";return e<0?r+=`[${-e}D`:e>0&&(r+=`[${e}C`),n<0?r+=`[${-n}A`:n>0&&(r+=`[${n}B`),r&&t.write(r),!0}var pi=__webpack_require__(399);class gi extends pi.Readable{pending=!0;_path="<unknown>";_bytesRead=0;reader;ready;constructor(t={},e){super({...t,encoding:t.encoding??void 0}),this.ready=Promise.resolve(e).then((e=>{this._path=e.vfs.path;const n=e.readableWebStream({start:t.start,end:t.end});this.reader=n.getReader(),this.pending=!1})).catch((t=>{this.destroy(t)}))}async _read(){try{if(await this.ready,!this.reader)return;const{done:t,value:e}=await this.reader.read();if(t)return void this.push(null);this._bytesRead+=e.byteLength,this.push(e)}catch(t){this.destroy(new L(x.EIO,t.toString()))}}close(t=()=>null){try{this.destroy(),this.emit("close"),t(null)}catch(e){t(new L(x.EIO,e.toString()))}}get path(){return this._path}get bytesRead(){return this._bytesRead}wrap(t){return super.wrap(t),this}}class mi extends pi.Writable{pending=!0;_path="<unknown>";_bytesWritten=0;writer;ready;constructor(t={},e){super(t),this.ready=Promise.resolve(e).then((e=>{this._path=e.vfs.path;const n=e.writableWebStream({start:t.start});this.writer=n.getWriter(),this.pending=!1})).catch((t=>this.destroy(t)))}async _write(t,e,n){if(await this.ready,!this.writer)return n(z(C("EAGAIN","write",this._path)));if("buffer"!=e)return n(z(C("ENOTSUP","write",this._path)));const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);try{await this.writer.write(r),this._bytesWritten+=t.byteLength,n()}catch(t){n(new L(x.EIO,t.toString()))}}async _final(t){if(await this.ready,!this.writer)return t();try{await this.writer.close(),t()}catch(e){t(new L(x.EIO,e.toString()))}}close(t=()=>null){try{this.destroy(),this.emit("close"),t(null)}catch(e){t(new L(x.EIO,e.toString()))}}get path(){return this._path}get bytesWritten(){return this._bytesWritten}}var yi=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e},vi=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;return function t(){for(;r=e.stack.pop();)try{if(!r.async&&1===i)return i=0,e.stack.push(r),Promise.resolve().then(t);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(s).then(t,(function(e){return n(e),t()}))}else i|=1}catch(t){n(t)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});class bi{context;fd;vfs;constructor(t,e){this.context=t,this.fd=e,this.vfs=jn(t,e)}_emitChange(){ri(this.context,"change",this.vfs.path)}async chown(t,e){await this.vfs.chown(t,e),this._emitChange()}async chmod(t){const e=Le(t,-1);if(e<0)throw C("EINVAL","chmod",this.vfs.path);await this.vfs.chmod(e),this._emitChange()}datasync(){return this.sync()}async sync(){await this.vfs.sync()}async truncate(t=0){await this.vfs.truncate(t),this._emitChange()}async utimes(t,e){t=Ce(t),e=Ce(e),await this.vfs.utimes(t,e),this._emitChange()}async appendFile(t,e={}){const n=Ie(e,"utf8","a",420);if(!(Fn(n.flag)&pt))throw C("EBADF","write",this.vfs.path);const r="string"==typeof t?In.Buffer.from(t,n.encoding):t;await this.vfs.write(r,0,r.length),this._emitChange()}async read(t,e,n,r){if("object"==typeof e&&null!=e&&(r=e.position,n=e.length,e=e.offset),ArrayBuffer.isView(t)||"object"!=typeof t||(r=t.position,n=t.length,e=t.offset,t=t.buffer),r&&r>Number.MAX_SAFE_INTEGER)throw C("EINVAL");return"bigint"==typeof r&&(r=Number(r)),r=Number.isSafeInteger(r)?r:this.vfs.position,t||=new Uint8Array(this.vfs.inode.size),e??=0,{bytesRead:await this.vfs.read(t,e,n??t.byteLength-e,r),buffer:t}}async readFile(t){const e=Ie(t,null,"r",292);if(Fn(e.flag)&ct)throw C("EBADF","read",this.vfs.path);const{size:n}=await this.stat(),r=new Uint8Array(n);await this.vfs.read(r,0,n,0);const i=In.Buffer.from(r);return e.encoding?i.toString(e.encoding):i}readableWebStream(t={}){if(this.vfs.isClosed)throw C("EBADF","readableWebStream",this.vfs.path);return this.vfs.fs.streamRead(this.vfs.internalPath,t)}writableWebStream(t={}){if(this.vfs.isClosed)throw C("EBADF","writableWebStream",this.vfs.path);if(this.vfs.inode.flags&tn.Immutable)throw C("EPERM","writableWebStream",this.vfs.path);return this.vfs.fs.streamWrite(this.vfs.internalPath,t)}readLines(t){if(this.vfs.isClosed||this.vfs.flag&ct)throw C("EBADF","read",this.vfs.path);return function(t,e,n,r){return"input"in t?new hi(t.input,t.output,t.completer,t.terminal):new hi(t,e,n,r)}({input:this.createReadStream(t),crlfDelay:1/0})}[Symbol.asyncDispose](){return this.close()}async stat(t){if(this.vfs.isClosed)throw C("EBADF","stat",this.vfs.path);if(Nn&&!cn(this.context,this.vfs.inode,et))throw C("EACCES","stat",this.vfs.path);return t?.bigint?new qe(this.vfs.inode):new $e(this.vfs.inode)}async write(t,e,n,r){let i,s,o;"object"==typeof e&&null!=e&&(n=e.length,r=e.position,e=e.offset),"string"==typeof t?(r="number"==typeof e?e:null,s=0,i=In.Buffer.from(t,"string"==typeof n?n:"utf8"),o=i.length):(i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),s=e??0,o="number"==typeof n?n:i.byteLength,r="number"==typeof r?r:null),r??=this.vfs.position;const a=await this.vfs.write(i,s,o,r);return this._emitChange(),{buffer:t,bytesWritten:a}}async writeFile(t,e={}){const n=Ie(e,"utf8","w",420),r=Fn(n.flag);if(!(r&ct||r&lt))throw C("EBADF","writeFile",this.vfs.path);const i="string"==typeof t?In.Buffer.from(t,n.encoding):t;await this.vfs.write(i,0,i.length,0),this._emitChange()}async close(){await this.vfs.close(),zn(this.context,this.fd)}async writev(t,e){"number"==typeof e&&(this.vfs.position=e);let n=0;for(const e of t)n+=(await this.write(e)).bytesWritten;return{bytesWritten:n,buffers:t}}async readv(t,e){"number"==typeof e&&(this.vfs.position=e);let n=0;for(const e of t)n+=(await this.read(e)).bytesRead;return{bytesRead:n,buffers:t}}createReadStream(t={}){if(this.vfs.isClosed||this.vfs.flag&ct)throw C("EBADF","createReadStream",this.vfs.path);return new gi(t,this)}createWriteStream(t={}){if(this.vfs.isClosed)throw C("EBADF","createWriteStream",this.vfs.path);if(this.vfs.inode.flags&tn.Immutable)throw C("EPERM","createWriteStream",this.vfs.path);if(this.vfs.fs.attributes.has("readonly"))throw C("EROFS","createWriteStream",this.vfs.path);return new mi(t,this)}}async function wi(t,e){await li.call(this,t,e)}async function _i(t){t=Ae(t);try{const{fs:e,path:n}=await ii(this,t);return await e.exists(n)}catch(t){if(t instanceof L&&"ENOENT"==t.code)return!1;throw t}}async function Si(t,e){t=Ae(t);const{fs:n,path:r}=await ii(this,t),i={syscall:"stat",path:t},s=await n.stat(r).catch(I(i));if(Nn&&!cn(this,s,et))throw C("EACCES",i);return e?.bigint?new qe(s):new $e(s)}async function Ei(t,e){const n={syscall:"lstat",path:t=Ae(t)},{base:r,dir:i}=Ue(t),{fs:s,path:o}=await ii(this,i),a=await s.stat(r?Be(o,r):o).catch(I(n));if(Nn&&!cn(this,a,et))throw C("EACCES",n);return e?.bigint?new qe(a):new $e(a)}async function ki(t,e=0){const n={stack:[],error:void 0,hasError:!1};try{const r=yi(n,await Oi.call(this,t,"r+"),!0);await r.truncate(e)}catch(t){n.error=t,n.hasError=!0}finally{const t=vi(n);t&&await t}}async function xi(t){t=Ae(t);const{fs:e,path:n}=Yn(t,this),r={syscall:"unlink",path:t},i=await e.stat(n).catch(I(r));if(Nn&&!cn(this,i,nt))throw C("EACCES",r);await e.unlink(n).catch(I(r)),ri(this,"rename",t.toString())}async function Oi(t,e="r",n=420){const r=await si(this,t,{flag:e,mode:n});return new bi(this,Pn(r))}async function Ti(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=Ie(e,null,"r",292),i=yi(n,"object"==typeof t&&"fd"in t?t:await Oi.call(this,t,r.flag,r.mode),!0);return await i.readFile(r)}catch(t){n.error=t,n.hasError=!0}finally{const t=vi(n);t&&await t}}async function Li(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Ie(n,"utf8","w+",420),s=yi(r,t instanceof bi?t:await Oi.call(this,t.toString(),i.flag,i.mode),!0),o="string"==typeof e?e:e instanceof DataView?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e;if("string"!=typeof o&&!(o instanceof Uint8Array))throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView. Received '+typeof e);await s.writeFile(o,i)}catch(t){r.error=t,r.hasError=!0}finally{const t=vi(r);t&&await t}}async function Ci(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Ie(n,"utf8","a",420),s=Fn(i.flag),o={syscall:"write",path:t instanceof bi?t.vfs.path:t.toString()};if(!(s&pt))throw C("EBADF",o);const a="string"==typeof e?In.Buffer.from(e,i.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength),c=yi(r,"object"==typeof t&&"fd"in t?t:await Oi.call(this,t,i.flag,i.mode),!0);await c.appendFile(a,i)}catch(t){r.error=t,r.hasError=!0}finally{const t=vi(r);t&&await t}}async function Ai(t){t=Ae(t);const{fs:e,path:n}=await ii(this,t),r={syscall:"rmdir",path:t},i=await e.stat(n).catch(I(r));if(!i)throw C("ENOENT",r);if(!rn(i))throw C("ENOTDIR",r);if(Nn&&!cn(this,i,nt))throw C("EACCES",r);await e.rmdir(n).catch(I(r)),ri(this,"rename",t.toString())}async function Ii(t,e){e="object"==typeof e?e:{mode:e};const n=Le(e?.mode,511);return await ai.call(this,t,{...e,mode:n})}async function Ni(t,e){t=Ae(t);const n="object"==typeof e&&null!=e?e:{encoding:e,withFileTypes:!1,recursive:!1},r=await ci.call(this,t,n),i=[];for(const t of r)n.withFileTypes?i.push(ir.from(t,n.encoding)):"buffer"==n.encoding?i.push(In.Buffer.from(t.path)):i.push(t.path);return i}async function Mi(t,e){return await ui.call(this,t,e)}async function Di(t,e,n="file"){const r={stack:[],error:void 0,hasError:!1};try{if(!["file","dir","junction"].includes(n))throw new TypeError("Invalid symlink type: "+n);if(e=Ae(e),await _i.call(this,e))throw C("EEXIST","symlink",e);const i=yi(r,await si(this,e,{flag:"w+",mode:420,preserveSymlinks:!0}),!0),s=w(Ae(t,!0));await i.write(s,0,s.length,0),await i.chmod(xt)}catch(t){r.error=t,r.hasError=!0}finally{const t=vi(r);t&&await t}}async function Ri(t,e){t=Ae(t);const n=In.Buffer.from(await oi.call(this,t),"utf-8"),r="object"==typeof e?e?.encoding:e;return"buffer"==r?n:n.toString(r??"utf-8")}async function Bi(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=yi(r,await Oi.call(this,t,"r+"),!0);await i.chown(e,n)}catch(t){r.error=t,r.hasError=!0}finally{const t=vi(r);t&&await t}}async function Pi(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=yi(r,await si(this,t,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0);await i.chown(e,n)}catch(t){r.error=t,r.hasError=!0}finally{const t=vi(r);t&&await t}}async function ji(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=yi(n,await Oi.call(this,t,"r+"),!0);await r.chmod(e)}catch(t){n.error=t,n.hasError=!0}finally{const t=vi(n);t&&await t}}async function zi(t,e){const n={stack:[],error:void 0,hasError:!1};try{e=Le(e);const r=yi(n,await si(this,t,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0);await r.chmod(e)}catch(t){n.error=t,n.hasError=!0}finally{const t=vi(n);t&&await t}}async function Ui(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=yi(r,await si(this,t,{flag:"r+",allowDirectory:!0}),!0);await i.utimes(Ce(e),Ce(n))}catch(t){r.error=t,r.hasError=!0}finally{const t=vi(r);t&&await t}}async function Fi(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=yi(r,await si(this,t,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0);await i.utimes(Ce(e),Ce(n))}catch(t){r.error=t,r.hasError=!0}finally{const t=vi(r);t&&await t}}async function Wi(t,e){const n="string"==typeof e?e:e?.encoding??"utf8";t=Ae(t);const{fullPath:r}=await ii(this,t);if("utf8"==n||"utf-8"==n)return r;const i=In.Buffer.from(r,"utf-8");return"buffer"==n?i:i.toString(n)}function Hi(t,e={}){const n=new ti(this,t.toString(),"string"!=typeof e?e:{encoding:e}),r=[];let i=!1;function s(){i=!0,n.close();for(const t of r)t({value:null,done:i});return r.length=0,Promise.resolve({value:void 0,done:!0})}return n.on("change",((t,e)=>{r.shift()?.({value:{eventType:t,filename:e},done:!1})})),{async next(){if(i)return Promise.resolve({value:void 0,done:i});const{promise:t,resolve:e}=Promise.withResolvers();return r.push(e),t},return:s,throw:s,async[Symbol.asyncDispose](){await s()},[Symbol.asyncIterator](){return this}}}async function $i(t,e=tt){if(Nn&&!(await Si.call(this,t)).hasAccess(e,this))throw C("EACCES","access",t.toString())}async function qi(t,e){t=Ae(t);const n=await Ei.call(this,t).catch((t=>{if("ENOENT"!=t.code||!e?.force)throw t}));if(n)switch(n.mode&Et){case Lt:if(e?.recursive)for(const n of await Ni.call(this,t))await qi.call(this,Be(t,n),e);await Ai.call(this,t);break;case Ot:case xt:case Tt:case Ct:await xi.call(this,t);break;default:throw C("ENOSYS","rm",t)}}async function Vi(t,e){const n="object"==typeof e?e?.encoding:e||"utf8",r=Me(t);return await Ii.call(this,r),"buffer"==n?In.Buffer.from(r):r}async function Gi(t,e){const n=Me(t);await Ii.call(this,n);const r=()=>qi(n,{recursive:!0,force:!0});return{path:n,remove:r,[Symbol.asyncDispose]:r}}async function Yi(t,e,n){if(t=Ae(t),e=Ae(e),n&&n&it&&await _i.call(this,e))throw C("EEXIST","copyFile",e);await Li.call(this,e,await Ti.call(this,t)),ri(this,"rename",e.toString())}function Ki(t,e){return t=Ae(t),Promise.resolve(new sr(t,this))}async function Xi(t,e,n){t=Ae(t),e=Ae(e);const r=await Ei.call(this,t);if(n?.errorOnExist&&await _i.call(this,e))throw C("EEXIST","cp",e);switch(r.mode&Et){case Lt:{if(!n?.recursive)throw C("EISDIR","cp",t);const[r]=await Promise.all([Ni.call(this,t,{withFileTypes:!0}),Ii.call(this,e,{recursive:!0})]),i=async r=>{n.filter&&!n.filter(Be(t,r.name),Be(e,r.name))||await Xi.call(this,Be(t,r.name),Be(e,r.name),n)};await Promise.all(r.map(i));break}case Ot:case xt:await Yi.call(this,t,e);break;default:throw C("ENOSYS","cp",t)}n?.preserveTimestamps&&await Ui.call(this,e,r.atime,r.mtime)}async function Ji(t,e){t=Ae(t);const{fs:n}=Yn(t,this);return Promise.resolve(Kn(n,e?.bigint))}function Zi(t,e){t=Array.isArray(t)?t:[t];const{cwd:n="/",withFileTypes:r=!1,exclude:i=()=>!1}=e||{},s=t.map(Ne);return async function*t(e){const n=await Ni(e,{withFileTypes:r,encoding:"utf8"});for(const o of n){const n=r?Be(o.parentPath,o.name):e+"/"+o;("function"!=typeof i?i.some((t=>Fe(t,n))):i(r?o:n))||((await Si(n)).isDirectory()&&s.some((t=>t.source.includes(".*")))&&(yield*t(n)),s.some((t=>t.test(n.replace(/^\/+/g,""))))&&(yield r?o:n.replace(/^\/+/g,"")))}}(n)}function Qi(t,e){e.disableAsyncCache&&t.attributes.set("no_async_preload"),e.caseFold&&t.attributes.set("case_fold",e.caseFold)}function ts(t){return J(t)||X(t)||t instanceof fn}async function es(t,e=0){if("object"!=typeof t||null==t)throw j(A("EINVAL","Invalid options on mount configuration"));if(!ts(t))throw j(A("EINVAL","Invalid mount configuration"));if(t instanceof fn)return await t.ready(),t;X(t)&&(t={backend:t});for(const[n,r]of Object.entries(t))if("backend"!=n&&ts(r)){if(F("Resolving nested mount configuration: "+n),e>10)throw j(A("EINVAL","Invalid configuration, too deep and possibly infinite"));t[n]=await es(r,++e)}const{backend:n}=t;if("function"==typeof n.isAvailable&&!await n.isAvailable(t))throw j(A("EPERM","Backend not available: "+n.name));!function(t,e){if("object"!=typeof e||null===e)throw j(A("EINVAL","Invalid options"));for(const[n,r]of Object.entries(t.options)){const t=e?.[n];if(null==t){if(!r.required){W("Using default for option: "+n);continue}throw j(A("EINVAL","Missing required option: "+n))}const i=(e,n=t)=>{return"function"==typeof e?(r=e)&&r.constructor===Function&&void 0!==r.prototype&&(Function.prototype!==Object.getPrototypeOf(r)||Object.getOwnPropertyNames(r.prototype).length>1)?t instanceof e:e(t):typeof t===e||t?.constructor?.name===e;var r};if(Array.isArray(r.type)?r.type.some((t=>i(t))):i(r.type))continue;const s="object"==typeof t&&"constructor"in t?t.constructor.name:typeof t,o=t=>"function"==typeof t?"type"!=t.name?t.name:t.toString():t,a=Array.isArray(r.type)?`one of ${r.type.map(o).join(", ")}`:o(r.type);throw j(A("EINVAL",`Incorrect type for "${n}": ${s} (expected ${a})`))}}(n,t);const r=await n.create(t);return Qi(r,t),await r.ready(),r}async function ns(t,e){if("/"==t)return void Vn(t,e);const n=await Si(t).catch((()=>null));if(n){if(!n.isDirectory())throw A("ENOTDIR","Missing directory at mount point: "+t)}else await Ii(t,{recursive:!0});Vn(t,e)}const rs=["/tmp","/var","/etc"];async function is(t){var e;if(Object.assign(Q.credentials,Z({uid:t.uid||0,gid:t.gid||0})),e=!t.disableAccessChecks,Nn=e,t.log&&function(t){var e;if($=t.format??$,q=t.output??q,G="string"==typeof t.level?(e=t.level,M.indexOf(e)):t.level??G,K=t.enabled??K,Y=t.stack??Y,t.dumpBacklog)for(const t of D)V(t)}(t.log),t.mounts)for(const[e,n]of Object.entries(t.mounts).sort((([t],[e])=>t.length>e.length?1:-1))){const r=e.startsWith("/")?e:"/"+e;J(n)&&(n.disableAsyncCache??=t.disableAsyncCache||!1,n.caseFold??=t.caseFold),"/"==r&&Gn("/"),await ns(r,await es(n))}for(const e of qn.values())Qi(e,t);if(t.addDevices&&!qn.has("/dev")){const t=new kn;t.addDefaults(),await t.ready(),await ns("/dev",t)}if(t.defaultDirectories)for(const t of rs)await _i(t)?(await Si(t)).isDirectory()||z("Default directory exists but is not a directory: "+t):await Ii(t)}Math.max(...["delete"].map((t=>t.length))),new Map;"function"==typeof SuppressedError&&SuppressedError;new Map;const ss=["rename","stat","touch","createFile","unlink","rmdir","mkdir","readdir","exists","link","sync","read","write"];function os(t){return class extends t{async done(){return this.sync()}queueDone(){return this.sync()}_promise=Promise.resolve();_async(t){this._promise=this._promise.finally((()=>t()))}_isInitialized=!1;_skippedCacheUpdates=0;constructor(...t){super(...t),this._patchAsync()}async ready(){if(await super.ready(),!this._isInitialized&&!this.attributes.has("no_async_preload")){if(await this._promise,this.checkSync(),await this._sync.ready(),this._sync instanceof wn&&this instanceof wn){const t=this._sync.transaction(),e=this.transaction(),n=[];for(const r of await e.keys())n.push(e.get(r).then((e=>t.setSync(r,e))));return await Promise.all(n),void(this._isInitialized=!0)}try{await this.crossCopy("/"),W(`Skipped ${this._skippedCacheUpdates} updates to the sync cache during initialization`),this._isInitialized=!0}catch(t){throw this._isInitialized=!1,P(t)}}}checkSync(){if(this.attributes.has("no_async_preload"))throw A("ENOTSUP","Sync preloading has been disabled for this async file system");if(!this._sync)throw P(A("ENOTSUP","No sync cache is attached to this async file system"))}renameSync(t,e){this.checkSync(),this._sync.renameSync(t,e),this._async((()=>this.rename(t,e)))}statSync(t){return this.checkSync(),this._sync.statSync(t)}touchSync(t,e){this.checkSync(),this._sync.touchSync(t,e),this._async((()=>this.touch(t,e)))}createFileSync(t,e){this.checkSync();const n=this._sync.createFileSync(t,e);return this._async((()=>this.createFile(t,e))),n}unlinkSync(t){this.checkSync(),this._sync.unlinkSync(t),this._async((()=>this.unlink(t)))}rmdirSync(t){this.checkSync(),this._sync.rmdirSync(t),this._async((()=>this.rmdir(t)))}mkdirSync(t,e){this.checkSync();const n=this._sync.mkdirSync(t,e);return this._async((()=>this.mkdir(t,e))),n}readdirSync(t){return this.checkSync(),this._sync.readdirSync(t)}linkSync(t,e){this.checkSync(),this._sync.linkSync(t,e),this._async((()=>this.link(t,e)))}async sync(){!this.attributes.has("no_async_preload")&&this._sync&&this._sync.syncSync(),await this._promise.catch((()=>{}))}syncSync(){this.checkSync(),this._sync.syncSync()}existsSync(t){return this.checkSync(),this._sync.existsSync(t)}readSync(t,e,n,r){this.checkSync(),this._sync.readSync(t,e,n,r)}writeSync(t,e,n){this.checkSync(),this._sync.writeSync(t,e,n),this._async((()=>this.write(t,e,n)))}streamWrite(t,e){this.checkSync();const n=this._sync.streamWrite(t,e).getWriter(),r=super.streamWrite(t,e).getWriter();return new WritableStream({async write(t,e){await Promise.all([n.write(t),r.write(t)]).catch(e.error.bind(e))},async close(){await Promise.all([n.close(),r.close()])},async abort(t){await Promise.all([n.abort(t),r.abort(t)])}})}async crossCopy(t){this.checkSync();const e=await this.stat(t);if(!rn(e)){this._sync.createFileSync(t,e);const n=new Uint8Array(e.size);return await this.read(t,n,0,e.size),this._sync.writeSync(t,n,0),void this._sync.touchSync(t,e)}"/"!==t&&(this._sync.mkdirSync(t,e),this._sync.touchSync(t,e));const n=[];for(const e of await this.readdir(t))n.push(this.crossCopy(Be(t,e)));await Promise.all(n)}_patchAsync(){const t=["read","readdir","stat","exists"],e=ss.filter((e=>!t.includes(e)));for(const n of e){const r=this[n].bind(this);function i(t,e){if(e||(e=new Error,Error.captureStackTrace(e,i)),!e.stack)return!1;const r=e.stack.split("\n").slice(t).join("\n");return r.includes(`at <computed> [as ${n}]`)||r.includes(`at async <computed> [as ${n}]`)||r.includes(`${n}Sync `)}this[n]=async(...t)=>{const e=await r(...t);if(i(2))return e;if(!this._isInitialized)return this._skippedCacheUpdates++,e;try{this._sync?.[`${n}Sync`]?.(...t)}catch(t){if(i(3,t))return e;throw t.message+=" (Out of sync!)",j(t)}return e}}W(`Async: patched ${e.length} methods`)}}}os(fn);EventTarget;const as=new Uint32Array(256);for(let t=0;t<256;t++){let e=t;for(let t=0;t<8;t++)e=1&e?2197175160^e>>>1:e>>>1;as[t]=e}var cs=function(t,e,n,r,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,n[d])("accessor"===c?{get:h.get,set:h.set}:h[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),f=!0},ls=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};"function"==typeof SuppressedError&&SuppressedError;const us=t=>"0x"+t.toString(16).padStart(8,"0"),{format:hs}=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:2,unit:"byte",unitDisplay:"narrow"});let fs=(()=>{var t,e,n,r;let i,s,o,a,c,l,u=[ge.packed("MetadataEntry")],h=[],f=xe,d=[],p=[],g=[],m=[],y=[],v=[],b=[],w=[];return class extends f{static{s=this}static{const _="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;o=[(t=ve).uint32.bind(t)],a=[(e=ve).uint32.bind(e)],c=[(n=ve).uint32.bind(n)],l=[(r=ve).uint32.bind(r)],cs(this,null,o,{kind:"accessor",name:"id",static:!1,private:!1,access:{has:t=>"id"in t,get:t=>t.id,set:(t,e)=>{t.id=e}},metadata:_},d,p),cs(this,null,a,{kind:"accessor",name:"offset_",static:!1,private:!1,access:{has:t=>"offset_"in t,get:t=>t.offset_,set:(t,e)=>{t.offset_=e}},metadata:_},g,m),cs(this,null,c,{kind:"accessor",name:"offset",static:!1,private:!1,access:{has:t=>"offset"in t,get:t=>t.offset,set:(t,e)=>{t.offset=e}},metadata:_},y,v),cs(this,null,l,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:_},b,w),cs(null,i={value:s},u,{kind:"class",name:s.name,metadata:_},null,h),s=i.value,_&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:_}),ls(s,h)}#_=ls(this,d,void 0);get id(){return this.#_}set id(t){this.#_=t}#S=(ls(this,p),ls(this,g,void 0));get offset_(){return this.#S}set offset_(t){this.#S=t}#E=(ls(this,m),ls(this,y,void 0));get offset(){return this.#E}set offset(t){this.#E=t}#n=(ls(this,v),ls(this,b,void 0));get size(){return this.#n}set size(t){this.#n=t}toString(){return`<MetadataEntry @ ${us(this.byteOffset)}>`}constructor(){super(...arguments),ls(this,w)}},s})(),ds=(()=>{var t,e,n,r;let i,s,o,a,c,l,u,h=[ge.packed("MetadataBlock")],f=[],d=be.typed(Int32Array),p=[],g=[],m=[],y=[],v=[],b=[],w=[],_=[],S=[],E=[];var k=class extends d{static{s=this}static{const x="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;o=[(t=ve).uint32.bind(t)],a=[(e=ve).uint64.bind(e)],c=[(n=ve).uint32.bind(n)],l=[me(te(fs,255))],u=[(r=ve).int32.bind(r)],cs(this,null,o,{kind:"accessor",name:"checksum",static:!1,private:!1,access:{has:t=>"checksum"in t,get:t=>t.checksum,set:(t,e)=>{t.checksum=e}},metadata:x},p,g),cs(this,null,a,{kind:"accessor",name:"timestamp",static:!1,private:!1,access:{has:t=>"timestamp"in t,get:t=>t.timestamp,set:(t,e)=>{t.timestamp=e}},metadata:x},m,y),cs(this,null,c,{kind:"accessor",name:"previous_offset",static:!1,private:!1,access:{has:t=>"previous_offset"in t,get:t=>t.previous_offset,set:(t,e)=>{t.previous_offset=e}},metadata:x},v,b),cs(this,null,l,{kind:"accessor",name:"items",static:!1,private:!1,access:{has:t=>"items"in t,get:t=>t.items,set:(t,e)=>{t.items=e}},metadata:x},w,_),cs(this,null,u,{kind:"accessor",name:"locked",static:!1,private:!1,access:{has:t=>"locked"in t,get:t=>t.locked,set:(t,e)=>{t.locked=e}},metadata:x},S,E),cs(null,i={value:s},h,{kind:"class",name:s.name,metadata:x},null,f),k=s=i.value,x&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:x})}static lockIndex=Ee(k,"locked")/Int32Array.BYTES_PER_ELEMENT;#k=ls(this,p,void 0);get checksum(){return this.#k}set checksum(t){this.#k=t}#x=(ls(this,g),ls(this,m,BigInt(Date.now())));get timestamp(){return this.#x}set timestamp(t){this.#x=t}#O=(ls(this,y),ls(this,v,void 0));get previous_offset(){return this.#O}set previous_offset(t){this.#O=t}_previous=ls(this,b);get previous(){if(this.previous_offset)return this._previous??=new k(this.buffer,this.previous_offset),this._previous}#T=ls(this,w,void 0);get items(){return this.#T}set items(t){this.#T=t}toString(t=!1){if(!t)return`<MetadataBlock @ ${us(this.byteOffset)}>`;let e=[`---- Metadata block at ${us(this.byteOffset)} ----`,`Checksum: ${us(this.checksum)}`,`Last updated: ${new Date(Number(this.timestamp)).toLocaleString()}`,`Previous block: ${us(this.previous_offset)}`,"Entries:"].join("\n");for(const t of this.items)t.offset&&(e+=`\n\t${us(t.id)}: ${hs(t.size).padStart(5)} at ${us(t.offset)}`);return e}#L=(ls(this,_),ls(this,S,void 0));get locked(){return this.#L}set locked(t){this.#L=t}waitUnlocked(t=0){if(t>5)throw P(A("EBUSY",`sbfs: exceeded max attempts waiting for metadata block at ${us(this.byteOffset)} to be unlocked`));if(Atomics.load(this,k.lockIndex))switch(Atomics.wait(this,k.lockIndex,1)){case"ok":break;case"not-equal":return t++,j(`sbfs: waiting for metadata block at ${us(this.byteOffset)} to be unlocked (${t}/5)`),this.waitUnlocked(t);case"timed-out":throw P(A("EBUSY",`sbfs: timed out waiting for metadata block at ${us(this.byteOffset)} to be unlocked`))}}lock(){this.waitUnlocked(),Atomics.store(this,k.lockIndex,1);const t=()=>{Atomics.store(this,k.lockIndex,0),Atomics.notify(this,k.lockIndex,1)};return t[Symbol.dispose]=t,t}constructor(){super(...arguments),ls(this,E)}static{ls(s,f)}};return k=s})();const ps=1651715706;function gs(t){let e=Se(t)-4;return t instanceof ds&&(e-=Int32Array.BYTES_PER_ELEMENT),function(t){let e=4294967295;for(let n=0;n<t.length;n++)e=e>>>8^as[255&(e^t[n])];return(4294967295^e)>>>0}(new Uint8Array(t.buffer,t.byteOffset+4,e))}function ms(t){t instanceof ds&&(t.timestamp=BigInt(Date.now())),t.checksum=gs(t)}(()=>{var t,e,n,r,i,s,o,a,c,l;let u,h,f,d,p,g,m,y,v,b,w,_,S,E,x,O=[ge.packed("Superblock")],T=[],L=be.typed(BigUint64Array),C=[],I=[],N=[],M=[],D=[],R=[],B=[],j=[],U=[],F=[],H=[],$=[],q=[],V=[],G=[],Y=[],K=[],X=[],J=[],Z=[],Q=[],tt=[],et=[],nt=[],rt=[],it=[];var st=class extends L{static{h=this}static{const k="function"==typeof Symbol&&Symbol.metadata?Object.create(L[Symbol.metadata]??null):void 0;f=[(t=ve).uint32.bind(t)],d=[(e=ve).uint32.bind(e)],p=[(n=ve).uint16.bind(n)],g=[(r=ve).uint16.bind(r)],m=[(i=ve).uint32.bind(i)],y=[(s=ve).uint64.bind(s)],v=[(o=ve).uint64.bind(o)],b=[ve.uint8(16)],w=[(a=ve).uint32.bind(a)],_=[(c=ve).uint32.bind(c)],S=[(l=ve).uint32.bind(l)],E=[ve.char(64)],x=[ve.char(132)],cs(this,null,f,{kind:"accessor",name:"checksum",static:!1,private:!1,access:{has:t=>"checksum"in t,get:t=>t.checksum,set:(t,e)=>{t.checksum=e}},metadata:k},C,I),cs(this,null,d,{kind:"accessor",name:"magic",static:!1,private:!1,access:{has:t=>"magic"in t,get:t=>t.magic,set:(t,e)=>{t.magic=e}},metadata:k},N,M),cs(this,null,p,{kind:"accessor",name:"version",static:!1,private:!1,access:{has:t=>"version"in t,get:t=>t.version,set:(t,e)=>{t.version=e}},metadata:k},D,R),cs(this,null,g,{kind:"accessor",name:"inode_format",static:!1,private:!1,access:{has:t=>"inode_format"in t,get:t=>t.inode_format,set:(t,e)=>{t.inode_format=e}},metadata:k},B,j),cs(this,null,m,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:k},U,F),cs(this,null,y,{kind:"accessor",name:"used_bytes",static:!1,private:!1,access:{has:t=>"used_bytes"in t,get:t=>t.used_bytes,set:(t,e)=>{t.used_bytes=e}},metadata:k},H,$),cs(this,null,v,{kind:"accessor",name:"total_bytes",static:!1,private:!1,access:{has:t=>"total_bytes"in t,get:t=>t.total_bytes,set:(t,e)=>{t.total_bytes=e}},metadata:k},q,V),cs(this,null,b,{kind:"accessor",name:"uuid",static:!1,private:!1,access:{has:t=>"uuid"in t,get:t=>t.uuid,set:(t,e)=>{t.uuid=e}},metadata:k},G,Y),cs(this,null,w,{kind:"accessor",name:"metadata_block_size",static:!1,private:!1,access:{has:t=>"metadata_block_size"in t,get:t=>t.metadata_block_size,set:(t,e)=>{t.metadata_block_size=e}},metadata:k},K,X),cs(this,null,_,{kind:"accessor",name:"metadata_offset_",static:!1,private:!1,access:{has:t=>"metadata_offset_"in t,get:t=>t.metadata_offset_,set:(t,e)=>{t.metadata_offset_=e}},metadata:k},J,Z),cs(this,null,S,{kind:"accessor",name:"metadata_offset",static:!1,private:!1,access:{has:t=>"metadata_offset"in t,get:t=>t.metadata_offset,set:(t,e)=>{t.metadata_offset=e}},metadata:k},Q,tt),cs(this,null,E,{kind:"accessor",name:"label",static:!1,private:!1,access:{has:t=>"label"in t,get:t=>t.label,set:(t,e)=>{t.label=e}},metadata:k},et,nt),cs(this,null,x,{kind:"accessor",name:"_padding",static:!1,private:!1,access:{has:t=>"_padding"in t,get:t=>t._padding,set:(t,e)=>{t._padding=e}},metadata:k},rt,it),cs(null,u={value:h},O,{kind:"class",name:h.name,metadata:k},null,T),st=h=u.value,k&&Object.defineProperty(h,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:k}),ls(h,T)}constructor(...t){if(super(...t),ls(this,it),this.magic!=ps){z("sbfs: Invalid magic value, assuming this is a fresh super block");const t=new ds(this.buffer,Se(st));return Object.assign(this,{metadata:t,metadata_offset:t.byteOffset,used_bytes:BigInt(Se(st)+Se(ds)),total_bytes:BigInt(this.buffer.byteLength),magic:ps,version:1,inode_format:5,metadata_block_size:Se(ds),uuid:k(crypto.randomUUID())}),ms(this),void ms(t)}if(this.checksum!==gs(this))throw P(A("EIO","sbfs: checksum mismatch for super block"));if(this.metadata=new ds(this.buffer,this.metadata_offset),this.metadata.checksum!==gs(this.metadata))throw P(A("EIO",`sbfs: checksum mismatch for metadata block (saved ${us(this.metadata.checksum)}, computed ${us(gs(this.metadata))})`));if(5!=this.inode_format)throw P(A("EIO","sbfs: inode format mismatch"));if(this.metadata_block_size!=Se(ds))throw P(A("EIO","sbfs: metadata block size mismatch"))}#k=ls(this,C,void 0);get checksum(){return this.#k}set checksum(t){this.#k=t}#C=(ls(this,I),ls(this,N,void 0));get magic(){return this.#C}set magic(t){this.#C=t}#y=(ls(this,M),ls(this,D,void 0));get version(){return this.#y}set version(t){this.#y=t}#A=(ls(this,R),ls(this,B,void 0));get inode_format(){return this.#A}set inode_format(t){this.#A=t}#g=(ls(this,j),ls(this,U,void 0));get flags(){return this.#g}set flags(t){this.#g=t}#I=(ls(this,F),ls(this,H,void 0));get used_bytes(){return this.#I}set used_bytes(t){this.#I=t}#N=(ls(this,$),ls(this,q,void 0));get total_bytes(){return this.#N}set total_bytes(t){this.#N=t}#M=(ls(this,V),ls(this,G,void 0));get uuid(){return this.#M}set uuid(t){this.#M=t}#D=(ls(this,Y),ls(this,K,void 0));get metadata_block_size(){return this.#D}set metadata_block_size(t){this.#D=t}#R=(ls(this,X),ls(this,J,void 0));get metadata_offset_(){return this.#R}set metadata_offset_(t){this.#R=t}#B=(ls(this,Z),ls(this,Q,void 0));get metadata_offset(){return this.#B}set metadata_offset(t){this.#B=t}metadata=ls(this,tt);#P=ls(this,et,void 0);get label(){return this.#P}set label(t){this.#P=t}#j=(ls(this,nt),ls(this,rt,void 0));get _padding(){return this.#j}set _padding(t){this.#j=t}rotateMetadata(){const t=this.used_bytes%BigInt(4);Atomics.add(this,2,t);const e=Number(Atomics.add(this,2,BigInt(Se(ds)))),n=new ds(this.buffer,e);return n.previous_offset=this.metadata_offset,this.metadata=n,this.metadata_offset=n.byteOffset,ms(n),ms(this),W(`sbfs: rotated metadata block at ${us(n.previous_offset)} with new block at ${us(e)}`),n}isUnused(t,e){if(!e)return!0;if(t+e>this.total_bytes||t<Se(st))return!1;for(let n=this.metadata;n;n=n.previous){if(t<n.byteOffset+Se(ds)&&t+e>n.byteOffset)return!1;for(const r of n.items)if(r.offset&&(t>=r.offset&&t<r.offset+r.size||t+e>r.offset&&t+e<=r.offset+r.size||t<=r.offset&&t+e>=r.offset+r.size))return!1}return!0}};st=h})();const ys=()=>{};function vs(t,e,n=ys){wi.call(this,t,e).then((()=>n(null))).catch(n)}function bs(t,e=ys){_i.call(this,t).then(e).catch((()=>e(!1)))}function ws(t,e,n=ys){n="function"==typeof e?e:n,Si.call(this,t,"function"!=typeof e?e:{}).then((t=>n(null,t))).catch(n)}function _s(t,e,n=ys){n="function"==typeof e?e:n,Ei.call(this,t,"function"!=typeof e?e:{}).then((t=>n(null,t))).catch(n)}function Ss(t,e=0,n=ys){n="function"==typeof e?e:n;const r="number"==typeof e?e:0;ki.call(this,t,r).then((()=>n(null))).catch(n)}function Es(t,e=ys){xi.call(this,t).then((()=>e(null))).catch(e)}function ks(t,e,n,r=ys){const i=Le(n,420);r="function"==typeof n?n:r,Oi.call(this,t,e,i).then((t=>r(null,t.fd))).catch(r)}function xs(t,e,n=ys){n="function"==typeof e?e:n,Ti.call(this,t,"function"==typeof e?null:e).then((t=>n(null,t))).catch(n)}function Os(t,e,n,r=ys){r="function"==typeof n?n:r,Li.call(this,t,e,"function"!=typeof n?n:null).then((()=>r(null))).catch(r)}function Ts(t,e,n,r=ys){const i="function"!=typeof n?n:void 0;r="function"==typeof n?n:r,Ci.call(this,t,e,i).then((()=>r(null))).catch(r)}function Ls(t,e,n=ys){n="function"==typeof e?e:n,new bi(this,t).stat().then((t=>n(null,"object"==typeof e&&e?.bigint?new qe(t):t))).catch(n)}function Cs(t,e=ys){new bi(this,t).close().then((()=>e(null))).catch(e)}function As(t,e,n=ys){const r="number"==typeof e?e:0;n="function"==typeof e?e:n;const i=new bi(this,t);if(r<0)throw A("EINVAL");i.truncate(r).then((()=>n(null))).catch(n)}function Is(t,e=ys){new bi(this,t).sync().then((()=>e(null))).catch(e)}function Ns(t,e=ys){new bi(this,t).datasync().then((()=>e(null))).catch(e)}function Ms(t,e,n,r,i,s=ys){let o,a,c,l,u;const h=new bi(this,t);if("string"==typeof e){switch(u="utf8",typeof n){case"function":s=n;break;case"number":l=n,u="string"==typeof r?r:"utf8",s="function"==typeof i?i:s;break;default:return void(s="function"==typeof r?r:"function"==typeof i?i:s)(A("EINVAL"))}o=In.Buffer.from(e),a=0,c=o.length;const t=s;h.write(o,a,c,l).then((({bytesWritten:e})=>t(null,e,o.toString(u)))).catch(t)}else{o=In.Buffer.from(e.buffer),a=n,c=r,l="number"==typeof i?i:null;const t="function"==typeof i?i:s;h.write(o,a,c,l).then((({bytesWritten:e})=>t(null,e,o))).catch(t)}}function Ds(t,e,n,r,i,s=ys){new bi(this,t).read(e,n,r,i).then((({bytesRead:t,buffer:e})=>s(null,t,e))).catch(s)}function Rs(t,e,n,r=ys){new bi(this,t).chown(e,n).then((()=>r(null))).catch(r)}function Bs(t,e,n){new bi(this,t).chmod(e).then((()=>n(null))).catch(n)}function Ps(t,e,n,r=ys){new bi(this,t).utimes(e,n).then((()=>r(null))).catch(r)}function js(t,e=ys){Ai.call(this,t).then((()=>e(null))).catch(e)}function zs(t,e,n=ys){Ii.call(this,t,e).then((()=>n(null))).catch(n)}function Us(t,e,n=ys){n="function"==typeof e?e:n;const r="function"!=typeof e?e:{};Ni.call(this,t,r).then((t=>n(null,t))).catch(n)}function Fs(t,e,n=ys){Mi.call(this,t,e).then((()=>n(null))).catch(n)}function Ws(t,e,n,r=ys){const i="string"==typeof n?n:"file";r="function"==typeof n?n:r,Di.call(this,t,e,i).then((()=>r(null))).catch(r)}function Hs(t,e,n=ys){n="function"==typeof e?e:n,Ri.call(this,t).then((t=>n(null,t))).catch(n)}function $s(t,e,n,r=ys){Bi.call(this,t,e,n).then((()=>r(null))).catch(r)}function qs(t,e,n,r=ys){Pi.call(this,t,e,n).then((()=>r(null))).catch(r)}function Vs(t,e,n=ys){ji.call(this,t,e).then((()=>n(null))).catch(n)}function Gs(t,e,n=ys){zi.call(this,t,e).then((()=>n(null))).catch(n)}function Ys(t,e,n,r=ys){Ui.call(this,t,e,n).then((()=>r(null))).catch(r)}function Ks(t,e,n,r=ys){Fi.call(this,t,e,n).then((()=>r(null))).catch(r)}function Xs(t,e,n=ys){n="function"==typeof e?e:n,Wi.call(this,t,"function"==typeof e?null:e).then((t=>n(null,t))).catch(n)}function Js(t,e,n=ys){const r="number"==typeof e?e:et;n="function"==typeof e?e:n,$i.call(this,t,r).then((()=>n(null))).catch(n)}const Zs=new Map;function Qs(t,e,n){const r=Ae(t),i="function"!=typeof e?e:{};if("function"==typeof e&&(n=e),!n)throw C("EINVAL","watch",t.toString());if(Zs.has(r)){const t=Zs.get(r);return void(t&&t.listeners.add(n))}const s=new ei(this,r,i);s.on("change",((t,e)=>{const n=Zs.get(r);if(n)for(const r of n.listeners)r(t,e)})),Zs.set(r,{watcher:s,listeners:new Set})}function to(t,e=ys){const n=Ae(t),r=Zs.get(n);r&&(e&&e!==ys?r.listeners.delete(e):r.listeners.clear(),0===r.listeners.size&&(r.watcher.stop(),Zs.delete(n)))}function eo(t,e,n){const r=new ti(this,Ae(t),"object"==typeof e?e:{});return n="function"==typeof e?e:n,r.on("change",n||ys),r}function no(t,e){e="object"==typeof e?e:{encoding:e};const n=Oi.call(this,t,"r",e?.mode);return new gi({...e,autoClose:!0},n)}function ro(t,e){e="object"==typeof e?e:{encoding:e};const n=Oi.call(this,t,"w",e?.mode);return new mi(e,n)}function io(t,e,n=ys){n="function"==typeof e?e:n,qi.call(this,t,"function"==typeof e?void 0:e).then((()=>n(null))).catch(n)}function so(t,e,n=ys){n="function"==typeof e?e:n,Vi.call(this,t,"function"!=typeof e?e:null).then((t=>n(null,t))).catch(n)}function oo(t,e,n,r=ys){r="function"==typeof n?n:r,Yi.call(this,t,e,"function"==typeof n?void 0:n).then((()=>r(null))).catch(r)}function ao(t,e,n,r=ys){r="function"==typeof n?n:r,new bi(this,t).readv(e,"function"==typeof n?void 0:n).then((({buffers:t,bytesRead:e})=>r(null,e,t))).catch(r)}function co(t,e,n,r=ys){r="function"==typeof n?n:r,new bi(this,t).writev(e,"function"==typeof n?void 0:n).then((({buffers:t,bytesWritten:e})=>r(null,e,t))).catch(r)}function lo(t,e,n=ys){n="function"==typeof e?e:n,Ki.call(this,t,"function"==typeof e?void 0:e).then((t=>n(null,t))).catch(n)}function uo(t,e,n,r=ys){r="function"==typeof n?n:r,Xi.call(this,t,e,"function"==typeof n?void 0:n).then((()=>r(null))).catch(r)}function ho(t,e,n=ys){n="function"==typeof e?e:n,Ji.call(this,t,"function"==typeof e?void 0:e).then((t=>n(null,t))).catch(n)}async function fo(t,e){const n=await Oi.call(this,t.toString(),"r"),r=await n.readFile();return await n.close(),new Blob([r],e)}function po(t,e,n=ys){n="function"==typeof e?e:n,async function(t){const e=[];for await(const n of t)e.push(n);return e}(Zi.call(this,t,"function"==typeof e?void 0:e)).then((t=>n(null,t??[]))).catch((t=>n(t)))}const go=[];function mo(t,e,n,r){if(!e.startsWith("user.")&&!go.includes(e))throw C("ENOTSUP",r,n)}async function yo(t,e,n={}){t=Ae(t);const{fs:r,path:i}=Yn(t,this);mo(0,e,t,"xattr.get");const s=await r.stat(i).catch(I("xattr.get",t));if(Nn&&!cn(this,s,et))throw C("EACCES","xattr.get",t);s.attributes??=new Ze;const o=s.attributes.get(e);if(!o)throw C("ENODATA","xattr.get",t);const a=In.Buffer.from(o);return"buffer"!=n.encoding&&n.encoding?a.toString(n.encoding):a}function vo(t,e,n={}){mo(0,e,t=Ae(t),"xattr.get");const{fs:r,path:i}=Yn(t,this);let s;try{s=r.statSync(i)}catch(e){throw T(Object.assign(e,{path:t}))}if(Nn&&!cn(this,s,et))throw C("EACCES","xattr.get",t);s.attributes??=new Ze;const o=s.attributes.get(e);if(!o)throw C("ENODATA","xattr.get",t);const a=In.Buffer.from(o);return"buffer"!=n.encoding&&n.encoding?a.toString(n.encoding):a}async function bo(t,e,n,r={}){t=Ae(t);const{fs:i,path:s}=Yn(t,this);mo(0,e,t,"xattr.set");const o=await i.stat(s).catch(I("xattr.set",t));if(Nn&&!cn(this,o,nt))throw C("EACCES","xattr.set",t);o.attributes??=new Ze;const a=o.attributes.get(e);if(r.create&&a)throw C("EEXIST","xattr.set",t);if(r.replace&&!a)throw C("ENODATA","xattr.set",t);o.attributes.set(e,In.Buffer.from(n)),await i.touch(s,o).catch(I("xattr.set",t))}function wo(t,e,n,r={}){t=Ae(t);const{fs:i,path:s}=Yn(t,this);let o;mo(0,e,t,"xattr.set");try{o=i.statSync(s)}catch(e){throw T(Object.assign(e,{path:t}))}if(Nn&&!cn(this,o,nt))throw C("EACCES","xattr.set",t);o.attributes??=new Ze;const a=o.attributes.get(e);if(r.create&&a)throw C("EEXIST","xattr.set",t);if(r.replace&&!a)throw C("ENODATA","xattr.set",t);o.attributes.set(e,In.Buffer.from(n));try{i.touchSync(s,o)}catch(e){throw T(Object.assign(e,{path:t}))}}async function _o(t,e){t=Ae(t);const{fs:n,path:r}=Yn(t,this);mo(0,e,t,"xattr.remove");const i=await n.stat(r).catch(I("xattr.remove",t));if(Nn&&!cn(this,i,nt))throw C("EACCES","xattr.remove",t);if(i.attributes??=new Ze,!i.attributes.get(e))throw C("ENODATA","xattr.remove",t);i.attributes.remove(e),await n.touch(r,i)}function So(t,e){t=Ae(t);const{fs:n,path:r}=Yn(t,this);let i;mo(0,e,t,"xattr.remove");try{i=n.statSync(r)}catch(e){throw T(Object.assign(e,{path:t}))}if(Nn&&!cn(this,i,nt))throw C("EACCES","xattr.remove",t);if(i.attributes??=new Ze,!i.attributes.get(e))throw C("ENODATA","xattr.remove",t);i.attributes.remove(e);try{n.touchSync(r,i)}catch(e){throw T(Object.assign(e,{path:t}))}}async function Eo(t){t=Ae(t);const{fs:e,path:n}=Yn(t,this),r=await e.stat(n).catch(I("xattr.list",t));return r.attributes?r.attributes.keys().toArray():[]}function ko(t){t=Ae(t);const{fs:e,path:n}=Yn(t,this);let r;try{r=e.statSync(n)}catch(e){throw T(Object.assign(e,{path:t}))}return r.attributes?r.attributes.keys().toArray():[]}function xo(t){return class extends t{constructor(...t){super(...t),this.attributes.set("no_write")}async rename(){throw A("EROFS")}renameSync(){throw A("EROFS")}async createFile(){throw A("EROFS")}createFileSync(){throw A("EROFS")}async unlink(){throw A("EROFS")}unlinkSync(){throw A("EROFS")}async rmdir(){throw A("EROFS")}rmdirSync(){throw A("EROFS")}async mkdir(){throw A("EROFS")}mkdirSync(){throw A("EROFS")}async link(){throw A("EROFS")}linkSync(){throw A("EROFS")}async touch(){throw A("EROFS")}touchSync(){throw A("EROFS")}async sync(){throw A("EROFS")}syncSync(){throw A("EROFS")}async write(){throw A("EROFS")}writeSync(){throw A("EROFS")}streamWrite(){throw A("EROFS")}}}function Oo(t){return class extends t{async exists(t){return this.existsSync(t)}async rename(t,e){return this.renameSync(t,e)}async stat(t){return this.statSync(t)}async touch(t,e){return this.touchSync(t,e)}async createFile(t,e){return this.createFileSync(t,e)}async unlink(t){return this.unlinkSync(t)}async rmdir(t){return this.rmdirSync(t)}async mkdir(t,e){return this.mkdirSync(t,e)}async readdir(t){return this.readdirSync(t)}async link(t,e){return this.linkSync(t,e)}async sync(){return this.syncSync()}async read(t,e,n,r){return this.readSync(t,e,n,r)}async write(t,e,n){return this.writeSync(t,e,n)}}}new Map,"function"==typeof SuppressedError&&SuppressedError,Symbol.dispose;var To,Lo=function(t,e,n,r,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,n[d])("accessor"===c?{get:h.get,set:h.set}:h[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),f=!0},Co=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};!function(t){t[t.RealTime=1]="RealTime",t[t.PreAlloc=2]="PreAlloc",t[t.Immutable=8]="Immutable",t[t.Append=16]="Append",t[t.Sync=32]="Sync",t[t.NoAtime=64]="NoAtime",t[t.NoDump=128]="NoDump",t[t.RtInherit=256]="RtInherit",t[t.ProjInherit=512]="ProjInherit",t[t.NoSymlinks=1024]="NoSymlinks",t[t.ExtSize=2048]="ExtSize",t[t.ExtSzInherit=4096]="ExtSzInherit",t[t.NoDefrag=8192]="NoDefrag",t[t.FileStream=16384]="FileStream",t[t.Dax=32768]="Dax",t[t.CowExtSize=65536]="CowExtSize",t[t.HasAttr=2147483648]="HasAttr"}(To||(To={}));let Ao=(()=>{var t,e,n,r,i;let s,o,a,c,l,u,h,f,d=[ge("fsxattr")],p=[],m=xe,y=[],v=[],b=[],w=[],_=[],S=[],E=[],k=[],O=[],T=[],C=[],A=[];var I=class extends m{static{o=this}static{const g="function"==typeof Symbol&&Symbol.metadata?Object.create(m[Symbol.metadata]??null):void 0;a=[(t=ve).uint32.bind(t)],c=[(e=ve).uint32.bind(e)],l=[(n=ve).uint32.bind(n)],u=[(r=ve).uint32.bind(r)],h=[(i=ve).uint32.bind(i)],f=[ve.char(8)],Lo(this,null,a,{kind:"accessor",name:"xflags",static:!1,private:!1,access:{has:t=>"xflags"in t,get:t=>t.xflags,set:(t,e)=>{t.xflags=e}},metadata:g},y,v),Lo(this,null,c,{kind:"accessor",name:"extsize",static:!1,private:!1,access:{has:t=>"extsize"in t,get:t=>t.extsize,set:(t,e)=>{t.extsize=e}},metadata:g},b,w),Lo(this,null,l,{kind:"accessor",name:"nextents",static:!1,private:!1,access:{has:t=>"nextents"in t,get:t=>t.nextents,set:(t,e)=>{t.nextents=e}},metadata:g},_,S),Lo(this,null,u,{kind:"accessor",name:"projid",static:!1,private:!1,access:{has:t=>"projid"in t,get:t=>t.projid,set:(t,e)=>{t.projid=e}},metadata:g},E,k),Lo(this,null,h,{kind:"accessor",name:"cowextsize",static:!1,private:!1,access:{has:t=>"cowextsize"in t,get:t=>t.cowextsize,set:(t,e)=>{t.cowextsize=e}},metadata:g},O,T),Lo(this,null,f,{kind:"accessor",name:"pad",static:!1,private:!1,access:{has:t=>"pad"in t,get:t=>t.pad,set:(t,e)=>{t.pad=e}},metadata:g},C,A),Lo(null,s={value:o},d,{kind:"class",name:o.name,metadata:g},null,p),I=o=s.value,g&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g}),Co(o,p)}#z=Co(this,y,void 0);get xflags(){return this.#z}set xflags(t){this.#z=t}#U=(Co(this,v),Co(this,b,void 0));get extsize(){return this.#U}set extsize(t){this.#U=t}#F=(Co(this,w),Co(this,_,void 0));get nextents(){return this.#F}set nextents(t){this.#F=t}#W=(Co(this,S),Co(this,E,void 0));get projid(){return this.#W}set projid(t){this.#W=t}#H=(Co(this,k),Co(this,O,void 0));get cowextsize(){return this.#H}set cowextsize(t){this.#H=t}#$=(Co(this,T),Co(this,C,[]));get pad(){return this.#$}set pad(t){this.#$=t}constructor(t=g(new L(x.EINVAL,"fsxattr must be initialized with an inode"))){super(new ArrayBuffer(Se(I))),Co(this,A),this.extsize=t.size,this.nextents=1,this.projid=t.uid,this.cowextsize=t.size;for(const e of Object.keys(tn))t.flags&tn[e]&&e in To&&(this.xflags|=To[e])}};return I=o})();var Io,No,Mo;async function Do(t,e,...n){t=Ae(t);const{fs:r,path:i}=Yn(t,this);try{const t=new en(await r.stat(i));switch(e){case No.GetFlags:case Mo.GetFlags:return t.flags;case No.SetFlags:case Mo.SetFlags:return t.flags=n[0],void await r.touch(i,t);case No.GetVersion:case Mo.GetVersion:return t.version;case No.SetVersion:case Mo.SetVersion:return t.version=n[0],void await r.touch(i,t);case No.Fiemap:break;case No.GetXattr:return new Ao(t);case No.SetXattr:break;case No.GetLabel:return r.label;case No.SetLabel:return void(r.label=n[0]);case No.GetUUID:return r.uuid;case No.GetSysfsPath:return`/sys/fs/${r.name}/${r.uuid}`}}catch(e){throw T(Object.assign(e,{syscall:"ioctl",path:t}))}throw C("ENOTSUP","ioctl",t)}function Ro(t,e,...n){t=Ae(t);const{fs:r,path:i}=Yn(t,this);try{const t=new en(r.statSync(i));switch(e){case No.GetFlags:case Mo.GetFlags:return t.flags;case No.SetFlags:case Mo.SetFlags:return t.flags=n[0],void r.touchSync(i,t);case No.GetVersion:case Mo.GetVersion:return t.version;case No.SetVersion:case Mo.SetVersion:return t.version=n[0],void r.touchSync(i,t);case No.Fiemap:break;case No.GetXattr:return new Ao(t);case No.SetXattr:break;case No.GetLabel:return r.label;case No.SetLabel:return void(r.label=n[0]);case No.GetUUID:return r.uuid;case No.GetSysfsPath:return`/sys/fs/${r.name}/${r.uuid}`}}catch(e){throw T(Object.assign(e,{syscall:"ioctl",path:t}))}throw C("ENOTSUP","ioctl",t)}!function(t){t[t.SecureRm=1]="SecureRm",t[t.Undelete=2]="Undelete",t[t.Compress=4]="Compress",t[t.Sync=8]="Sync",t[t.Immutable=16]="Immutable",t[t.Append=32]="Append",t[t.NoDump=64]="NoDump",t[t.NoAtime=128]="NoAtime",t[t.Dirty=256]="Dirty",t[t.CompressBlk=512]="CompressBlk",t[t.NoCompress=1024]="NoCompress",t[t.Encrypt=2048]="Encrypt",t[t.Btree=4096]="Btree",t[t.Index=4096]="Index",t[t.IMagic=8192]="IMagic",t[t.JournalData=16384]="JournalData",t[t.NoTail=32768]="NoTail",t[t.DirSync=65536]="DirSync",t[t.TopDir=131072]="TopDir",t[t.HugeFile=262144]="HugeFile",t[t.Extent=524288]="Extent",t[t.Verity=1048576]="Verity",t[t.EaInode=2097152]="EaInode",t[t.EofBlocks=4194304]="EofBlocks",t[t.NoCow=8388608]="NoCow",t[t.Dax=33554432]="Dax",t[t.InlineData=268435456]="InlineData",t[t.ProjInherit=536870912]="ProjInherit",t[t.CaseFold=1073741824]="CaseFold",t[t.Reserved=2147483648]="Reserved"}(Io||(Io={})),function(t){t[t.GetFlags=2148034049]="GetFlags",t[t.SetFlags=1074292226]="SetFlags",t[t.GetVersion=2148038145]="GetVersion",t[t.SetVersion=1074296322]="SetVersion",t[t.Fiemap=3223348747]="Fiemap",t[t.GetXattr=2149341215]="GetXattr",t[t.SetXattr=1075599392]="SetXattr",t[t.GetLabel=2164298801]="GetLabel",t[t.SetLabel=1090556978]="SetLabel",t[t.GetUUID=2148603136]="GetUUID",t[t.GetSysfsPath=2155943169]="GetSysfsPath"}(No||(No={})),function(t){t[t.GetFlags=2147771905]="GetFlags",t[t.SetFlags=1074030082]="SetFlags",t[t.GetVersion=2147776001]="GetVersion",t[t.SetVersion=1074034178]="SetVersion"}(Mo||(Mo={})),globalThis.__zenfs__=Object.assign(Object.create(r),{_version:"2.4.3"});var Bo,Po=function(t,e,n,r,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,n[d])("accessor"===c?{get:h.get,set:h.set}:h[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),f=!0},jo=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};!function(t){t[t.CONTINUE=1]="CONTINUE",t[t.CURRENT=2]="CURRENT",t[t.PARENT=4]="PARENT",t[t.ROOT=8]="ROOT"}(Bo||(Bo={}));let zo=(()=>{var t,e;let n,r,i,s,o=[ge.packed("SLComponentRecord")],a=[],c=xe,l=[],u=[],h=[],f=[];return class extends c{static{r=this}static{const d="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(t=ve).uint8.bind(t)],s=[(e=ve).uint8.bind(e)],Po(this,null,i,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:d},l,u),Po(this,null,s,{kind:"accessor",name:"componentLength",static:!1,private:!1,access:{has:t=>"componentLength"in t,get:t=>t.componentLength,set:(t,e)=>{t.componentLength=e}},metadata:d},h,f),Po(null,n={value:r},o,{kind:"class",name:r.name,metadata:d},null,a),r=n.value,d&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d}),jo(r,a)}#g=jo(this,l,void 0);get flags(){return this.#g}set flags(t){this.#g=t}#q=(jo(this,u),jo(this,h,void 0));get componentLength(){return this.#q}set componentLength(t){this.#q=t}get length(){return 2+this.componentLength}content(t){return t(new Uint8Array(this.buffer,this.byteOffset+2,this.componentLength))}constructor(){super(...arguments),jo(this,f)}},r})();var Uo=function(t,e,n,r,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,n[d])("accessor"===c?{get:h.get,set:h.set}:h[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),f=!0},Fo=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};let Wo=(()=>{var t;let e,n,r,i,s,o,a,c,l,u,h=[ge.packed("LongFormDate")],f=[],d=xe,p=[],g=[],m=[],y=[],v=[],b=[],w=[],_=[],S=[],E=[],k=[],x=[],O=[],T=[],L=[],C=[];return class extends d{static{n=this}static{const A="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;r=[ve.char(4)],i=[ve.char(2)],s=[ve.char(2)],o=[ve.char(2)],a=[ve.char(2)],c=[ve.char(2)],l=[ve.char(2)],u=[(t=ve).uint8.bind(t)],Uo(this,null,r,{kind:"accessor",name:"_year",static:!1,private:!1,access:{has:t=>"_year"in t,get:t=>t._year,set:(t,e)=>{t._year=e}},metadata:A},p,g),Uo(this,null,i,{kind:"accessor",name:"_month",static:!1,private:!1,access:{has:t=>"_month"in t,get:t=>t._month,set:(t,e)=>{t._month=e}},metadata:A},m,y),Uo(this,null,s,{kind:"accessor",name:"_day",static:!1,private:!1,access:{has:t=>"_day"in t,get:t=>t._day,set:(t,e)=>{t._day=e}},metadata:A},v,b),Uo(this,null,o,{kind:"accessor",name:"_hour",static:!1,private:!1,access:{has:t=>"_hour"in t,get:t=>t._hour,set:(t,e)=>{t._hour=e}},metadata:A},w,_),Uo(this,null,a,{kind:"accessor",name:"_minute",static:!1,private:!1,access:{has:t=>"_minute"in t,get:t=>t._minute,set:(t,e)=>{t._minute=e}},metadata:A},S,E),Uo(this,null,c,{kind:"accessor",name:"_second",static:!1,private:!1,access:{has:t=>"_second"in t,get:t=>t._second,set:(t,e)=>{t._second=e}},metadata:A},k,x),Uo(this,null,l,{kind:"accessor",name:"_centisecond",static:!1,private:!1,access:{has:t=>"_centisecond"in t,get:t=>t._centisecond,set:(t,e)=>{t._centisecond=e}},metadata:A},O,T),Uo(this,null,u,{kind:"accessor",name:"offsetFromGMT",static:!1,private:!1,access:{has:t=>"offsetFromGMT"in t,get:t=>t.offsetFromGMT,set:(t,e)=>{t.offsetFromGMT=e}},metadata:A},L,C),Uo(null,e={value:n},h,{kind:"class",name:n.name,metadata:A},null,f),n=e.value,A&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:A}),Fo(n,f)}#V=Fo(this,p,"");get _year(){return this.#V}set _year(t){this.#V=t}get year(){return parseInt(this._year)}set year(t){this._year=t.toFixed()}#G=(Fo(this,g),Fo(this,m,""));get _month(){return this.#G}set _month(t){this.#G=t}get month(){return parseInt(this._month)}set month(t){this._month=t.toFixed()}#Y=(Fo(this,y),Fo(this,v,""));get _day(){return this.#Y}set _day(t){this.#Y=t}get day(){return parseInt(this._day)}set day(t){this._day=t.toFixed()}#K=(Fo(this,b),Fo(this,w,""));get _hour(){return this.#K}set _hour(t){this.#K=t}get hour(){return parseInt(this._hour)}set hour(t){this._hour=t.toFixed()}#X=(Fo(this,_),Fo(this,S,""));get _minute(){return this.#X}set _minute(t){this.#X=t}get minute(){return parseInt(this._minute)}set minute(t){this._minute=t.toFixed()}#J=(Fo(this,E),Fo(this,k,""));get _second(){return this.#J}set _second(t){this.#J=t}get second(){return parseInt(this._second)}set second(t){this._second=t.toFixed()}#Z=(Fo(this,x),Fo(this,O,""));get _centisecond(){return this.#Z}set _centisecond(t){this.#Z=t}get centisecond(){return parseInt(this._centisecond)}set centisecond(t){this._centisecond=t.toFixed()}#Q=(Fo(this,T),Fo(this,L,void 0));get offsetFromGMT(){return this.#Q}set offsetFromGMT(t){this.#Q=t}get date(){return new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,10*this.centisecond)}constructor(){super(...arguments),Fo(this,C)}},n})(),Ho=(()=>{var t,e,n,r,i,s,o;let a,c,l,u,h,f,d,p,g,y,v=[ge.packed("ShortFormDate")],b=[],w=be.typed(Uint8Array),_=[],S=[],E=[],k=[],x=[],O=[],T=[],L=[],C=[],A=[],I=[],N=[],M=[],D=[],R=[];return class extends w{static{c=this}static{const B="function"==typeof Symbol&&Symbol.metadata?Object.create(w[Symbol.metadata]??null):void 0;l=[(t=ve).uint8.bind(t)],u=[(e=ve).uint8.bind(e)],h=[(n=ve).uint8.bind(n)],f=[(r=ve).uint8.bind(r)],d=[(i=ve).uint8.bind(i)],p=[(s=ve).uint8.bind(s)],g=[(o=ve).uint8.bind(o)],y=[m],Uo(this,null,l,{kind:"accessor",name:"year",static:!1,private:!1,access:{has:t=>"year"in t,get:t=>t.year,set:(t,e)=>{t.year=e}},metadata:B},S,E),Uo(this,null,u,{kind:"accessor",name:"month",static:!1,private:!1,access:{has:t=>"month"in t,get:t=>t.month,set:(t,e)=>{t.month=e}},metadata:B},k,x),Uo(this,null,h,{kind:"accessor",name:"day",static:!1,private:!1,access:{has:t=>"day"in t,get:t=>t.day,set:(t,e)=>{t.day=e}},metadata:B},O,T),Uo(this,null,f,{kind:"accessor",name:"hour",static:!1,private:!1,access:{has:t=>"hour"in t,get:t=>t.hour,set:(t,e)=>{t.hour=e}},metadata:B},L,C),Uo(this,null,d,{kind:"accessor",name:"minute",static:!1,private:!1,access:{has:t=>"minute"in t,get:t=>t.minute,set:(t,e)=>{t.minute=e}},metadata:B},A,I),Uo(this,null,p,{kind:"accessor",name:"second",static:!1,private:!1,access:{has:t=>"second"in t,get:t=>t.second,set:(t,e)=>{t.second=e}},metadata:B},N,M),Uo(this,null,g,{kind:"accessor",name:"offsetFromGMT",static:!1,private:!1,access:{has:t=>"offsetFromGMT"in t,get:t=>t.offsetFromGMT,set:(t,e)=>{t.offsetFromGMT=e}},metadata:B},D,R),Uo(this,null,y,{kind:"getter",name:"date",static:!1,private:!1,access:{has:t=>"date"in t,get:t=>t.date},metadata:B},null,_),Uo(null,a={value:c},v,{kind:"class",name:c.name,metadata:B},null,b),c=a.value,B&&Object.defineProperty(c,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:B}),Fo(c,b)}#tt=(Fo(this,_),Fo(this,S,void 0));get year(){return this.#tt}set year(t){this.#tt=t}#et=(Fo(this,E),Fo(this,k,void 0));get month(){return this.#et}set month(t){this.#et=t}#nt=(Fo(this,x),Fo(this,O,void 0));get day(){return this.#nt}set day(t){this.#nt=t}#rt=(Fo(this,T),Fo(this,L,void 0));get hour(){return this.#rt}set hour(t){this.#rt=t}#it=(Fo(this,C),Fo(this,A,void 0));get minute(){return this.#it}set minute(t){this.#it=t}#st=(Fo(this,I),Fo(this,N,void 0));get second(){return this.#st}set second(t){this.#st=t}#Q=(Fo(this,M),Fo(this,D,void 0));get offsetFromGMT(){return this.#Q}set offsetFromGMT(t){this.#Q=t}get date(){return new Date(1900+this.year,this.month-1,this.day,this.hour,this.minute,this.second)}constructor(){super(...arguments),Fo(this,R)}},c})();var $o;!function(t){t[t.Hidden=1]="Hidden",t[t.Directory=2]="Directory",t[t.AssociatedFile=4]="AssociatedFile",t[t.EARContainsInfo=8]="EARContainsInfo",t[t.EARContainsPerms=16]="EARContainsPerms",t[t.FinalDirectoryRecordForFile=32]="FinalDirectoryRecordForFile"}($o||($o={}));var qo,Vo=function(t,e,n,r,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,n[d])("accessor"===c?{get:h.get,set:h.set}:h[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),f=!0},Go=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};!function(t){t[t.CE=17221]="CE",t[t.PD=20548]="PD",t[t.SP=21328]="SP",t[t.ST=21332]="ST",t[t.ER=17746]="ER",t[t.ES=17747]="ES",t[t.PX=20568]="PX",t[t.PN=20558]="PN",t[t.SL=21324]="SL",t[t.NM=20045]="NM",t[t.CL=17228]="CL",t[t.PL=20556]="PL",t[t.RE=21061]="RE",t[t.TF=21574]="TF",t[t.SF=21318]="SF",t[t.RR=21074]="RR"}(qo||(qo={}));let Yo=(()=>{var t,e,n;let r,i,s,o,a,c=[ge.packed("SystemUseEntry")],l=[],u=xe,h=[],f=[],d=[],p=[],g=[],m=[];return class extends u{static{i=this}static{const y="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;s=[(t=ve).uint16.bind(t)],o=[(e=ve).uint8.bind(e)],a=[(n=ve).uint8.bind(n)],Vo(this,null,s,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:y},h,f),Vo(this,null,o,{kind:"accessor",name:"length",static:!1,private:!1,access:{has:t=>"length"in t,get:t=>t.length,set:(t,e)=>{t.length=e}},metadata:y},d,p),Vo(this,null,a,{kind:"accessor",name:"suVersion",static:!1,private:!1,access:{has:t=>"suVersion"in t,get:t=>t.suVersion,set:(t,e)=>{t.suVersion=e}},metadata:y},g,m),Vo(null,r={value:i},c,{kind:"class",name:i.name,metadata:y},null,l),i=r.value,y&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:y}),Go(i,l)}#ot=Go(this,h,void 0);get signature(){return this.#ot}set signature(t){this.#ot=t}get signatureString(){return S(new Uint8Array(this.buffer,this.byteOffset,2))}#at=(Go(this,f),Go(this,d,void 0));get length(){return this.#at}set length(t){this.#at=t}#ct=(Go(this,p),Go(this,g,void 0));get suVersion(){return this.#ct}set suVersion(t){this.#ct=t}constructor(){super(...arguments),Go(this,m)}},i})(),Ko=(()=>{var t,e,n;let r,i,s,o,a,c=[ge.packed("CEEntry")],l=[],u=Yo,h=[],f=[],d=[],p=[],g=[],m=[];return class extends u{static{i=this}static{const y="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;s=[(t=ve).uint64.bind(t)],o=[(e=ve).uint64.bind(e)],a=[(n=ve).uint64.bind(n)],Vo(this,null,s,{kind:"accessor",name:"extent",static:!1,private:!1,access:{has:t=>"extent"in t,get:t=>t.extent,set:(t,e)=>{t.extent=e}},metadata:y},h,f),Vo(this,null,o,{kind:"accessor",name:"offset",static:!1,private:!1,access:{has:t=>"offset"in t,get:t=>t.offset,set:(t,e)=>{t.offset=e}},metadata:y},d,p),Vo(this,null,a,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:y},g,m),Vo(null,r={value:i},c,{kind:"class",name:i.name,metadata:y},null,l),i=r.value,y&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:y}),Go(i,l)}_entries=[];#lt=Go(this,h,void 0);get extent(){return this.#lt}set extent(t){this.#lt=t}#E=(Go(this,f),Go(this,d,void 0));get offset(){return this.#E}set offset(t){this.#E=t}#n=(Go(this,p),Go(this,g,void 0));get size(){return this.#n}set size(t){this.#n=t}entries(){return this._entries||=pa(this.buffer,Number(2048n*this.extent+this.offset),this.size),this._entries}constructor(){super(...arguments),Go(this,m)}},i})(),Xo=(()=>{let t,e,n=[ge.packed("PDEntry")],r=[],i=Yo;return class extends i{static{e=this}static{const s="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;Vo(null,t={value:e},n,{kind:"class",name:e.name,metadata:s},null,r),e=t.value,s&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),Go(e,r)}},e})(),Jo=(()=>{var t;let e,n,r,i,s=[ge.packed("SPEntry")],o=[],a=Yo,c=[],l=[],u=[],h=[];return class extends a{static{n=this}static{const f="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;r=[ve.uint8(2)],i=[(t=ve).uint8.bind(t)],Vo(this,null,r,{kind:"accessor",name:"magic",static:!1,private:!1,access:{has:t=>"magic"in t,get:t=>t.magic,set:(t,e)=>{t.magic=e}},metadata:f},c,l),Vo(this,null,i,{kind:"accessor",name:"skip",static:!1,private:!1,access:{has:t=>"skip"in t,get:t=>t.skip,set:(t,e)=>{t.skip=e}},metadata:f},u,h),Vo(null,e={value:n},s,{kind:"class",name:n.name,metadata:f},null,o),n=e.value,f&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),Go(n,o)}#C=Go(this,c,void 0);get magic(){return this.#C}set magic(t){this.#C=t}checkMagic(){return 190==this.magic[0]&&239==this.magic[1]}#ut=(Go(this,l),Go(this,u,void 0));get skip(){return this.#ut}set skip(t){this.#ut=t}constructor(){super(...arguments),Go(this,h)}},n})(),Zo=(()=>{let t,e,n=[ge.packed("STEntry")],r=[],i=Yo;return class extends i{static{e=this}static{const s="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;Vo(null,t={value:e},n,{kind:"class",name:e.name,metadata:s},null,r),e=t.value,s&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),Go(e,r)}},e})(),Qo=(()=>{var t,e,n,r;let i,s,o,a,c,l,u=[ge.packed("EREntry")],h=[],f=Yo,d=[],p=[],g=[],m=[],y=[],v=[],b=[],w=[];return class extends f{static{s=this}static{const _="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;o=[(t=ve).uint8.bind(t)],a=[(e=ve).uint8.bind(e)],c=[(n=ve).uint8.bind(n)],l=[(r=ve).uint8.bind(r)],Vo(this,null,o,{kind:"accessor",name:"idLength",static:!1,private:!1,access:{has:t=>"idLength"in t,get:t=>t.idLength,set:(t,e)=>{t.idLength=e}},metadata:_},d,p),Vo(this,null,a,{kind:"accessor",name:"descriptorLength",static:!1,private:!1,access:{has:t=>"descriptorLength"in t,get:t=>t.descriptorLength,set:(t,e)=>{t.descriptorLength=e}},metadata:_},g,m),Vo(this,null,c,{kind:"accessor",name:"sourceLength",static:!1,private:!1,access:{has:t=>"sourceLength"in t,get:t=>t.sourceLength,set:(t,e)=>{t.sourceLength=e}},metadata:_},y,v),Vo(this,null,l,{kind:"accessor",name:"extensionVersion",static:!1,private:!1,access:{has:t=>"extensionVersion"in t,get:t=>t.extensionVersion,set:(t,e)=>{t.extensionVersion=e}},metadata:_},b,w),Vo(null,i={value:s},u,{kind:"class",name:s.name,metadata:_},null,h),s=i.value,_&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:_}),Go(s,h)}#ht=Go(this,d,void 0);get idLength(){return this.#ht}set idLength(t){this.#ht=t}#ft=(Go(this,p),Go(this,g,void 0));get descriptorLength(){return this.#ft}set descriptorLength(t){this.#ft=t}#dt=(Go(this,m),Go(this,y,void 0));get sourceLength(){return this.#dt}set sourceLength(t){this.#dt=t}#pt=(Go(this,v),Go(this,b,void 0));get extensionVersion(){return this.#pt}set extensionVersion(t){this.#pt=t}get extensionIdentifier(){return S(new Uint8Array(this.buffer,this.byteOffset+8,this.idLength))}get extensionDescriptor(){return S(new Uint8Array(this.buffer,this.byteOffset+8+this.idLength,this.descriptorLength))}get extensionSource(){return S(new Uint8Array(this.buffer,8+this.idLength+this.descriptorLength,this.sourceLength))}constructor(){super(...arguments),Go(this,w)}},s})(),ta=(()=>{var t;let e,n,r,i=[ge.packed("ESEntry")],s=[],o=Yo,a=[],c=[];return class extends o{static{n=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;r=[(t=ve).uint8.bind(t)],Vo(this,null,r,{kind:"accessor",name:"extensionSequence",static:!1,private:!1,access:{has:t=>"extensionSequence"in t,get:t=>t.extensionSequence,set:(t,e)=>{t.extensionSequence=e}},metadata:l},a,c),Vo(null,e={value:n},i,{kind:"class",name:n.name,metadata:l},null,s),n=e.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),Go(n,s)}#gt=Go(this,a,void 0);get extensionSequence(){return this.#gt}set extensionSequence(t){this.#gt=t}constructor(){super(...arguments),Go(this,c)}},n})(),ea=(()=>{let t,e,n=[ge.packed("RREntry")],r=[],i=Yo;return class extends i{static{e=this}static{const s="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;Vo(null,t={value:e},n,{kind:"class",name:e.name,metadata:s},null,r),e=t.value,s&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),Go(e,r)}},e})(),na=(()=>{var t,e,n,r,i;let s,o,a,c,l,u,h,f=[ge.packed("PXEntry")],d=[],p=Yo,g=[],m=[],y=[],v=[],b=[],w=[],_=[],S=[],E=[],k=[];return class extends p{static{o=this}static{const x="function"==typeof Symbol&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;a=[(t=ve).uint64.bind(t)],c=[(e=ve).uint64.bind(e)],l=[(n=ve).uint64.bind(n)],u=[(r=ve).uint64.bind(r)],h=[(i=ve).uint64.bind(i)],Vo(this,null,a,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:t=>"mode"in t,get:t=>t.mode,set:(t,e)=>{t.mode=e}},metadata:x},g,m),Vo(this,null,c,{kind:"accessor",name:"nlinks",static:!1,private:!1,access:{has:t=>"nlinks"in t,get:t=>t.nlinks,set:(t,e)=>{t.nlinks=e}},metadata:x},y,v),Vo(this,null,l,{kind:"accessor",name:"uid",static:!1,private:!1,access:{has:t=>"uid"in t,get:t=>t.uid,set:(t,e)=>{t.uid=e}},metadata:x},b,w),Vo(this,null,u,{kind:"accessor",name:"gid",static:!1,private:!1,access:{has:t=>"gid"in t,get:t=>t.gid,set:(t,e)=>{t.gid=e}},metadata:x},_,S),Vo(this,null,h,{kind:"accessor",name:"inode",static:!1,private:!1,access:{has:t=>"inode"in t,get:t=>t.inode,set:(t,e)=>{t.inode=e}},metadata:x},E,k),Vo(null,s={value:o},f,{kind:"class",name:o.name,metadata:x},null,d),o=s.value,x&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:x}),Go(o,d)}#s=Go(this,g,void 0);get mode(){return this.#s}set mode(t){this.#s=t}#mt=(Go(this,m),Go(this,y,void 0));get nlinks(){return this.#mt}set nlinks(t){this.#mt=t}#a=(Go(this,v),Go(this,b,void 0));get uid(){return this.#a}set uid(t){this.#a=t}#c=(Go(this,w),Go(this,_,void 0));get gid(){return this.#c}set gid(t){this.#c=t}#yt=(Go(this,S),Go(this,E,void 0));get inode(){return this.#yt}set inode(t){this.#yt=t}constructor(){super(...arguments),Go(this,k)}},o})(),ra=(()=>{var t,e;let n,r,i,s,o=[ge.packed("PNEntry")],a=[],c=Yo,l=[],u=[],h=[],f=[];return class extends c{static{r=this}static{const d="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(t=ve).uint64.bind(t)],s=[(e=ve).uint64.bind(e)],Vo(this,null,i,{kind:"accessor",name:"dev_high",static:!1,private:!1,access:{has:t=>"dev_high"in t,get:t=>t.dev_high,set:(t,e)=>{t.dev_high=e}},metadata:d},l,u),Vo(this,null,s,{kind:"accessor",name:"dev_low",static:!1,private:!1,access:{has:t=>"dev_low"in t,get:t=>t.dev_low,set:(t,e)=>{t.dev_low=e}},metadata:d},h,f),Vo(null,n={value:r},o,{kind:"class",name:r.name,metadata:d},null,a),r=n.value,d&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d}),Go(r,a)}#vt=Go(this,l,void 0);get dev_high(){return this.#vt}set dev_high(t){this.#vt=t}#bt=(Go(this,u),Go(this,h,void 0));get dev_low(){return this.#bt}set dev_low(t){this.#bt=t}constructor(){super(...arguments),Go(this,f)}},r})(),ia=(()=>{var t;let e,n,r,i=[ge.packed("SLEntry")],s=[],o=Yo,a=[],c=[];return class extends o{static{n=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;r=[(t=ve).uint8.bind(t)],Vo(this,null,r,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:l},a,c),Vo(null,e={value:n},i,{kind:"class",name:n.name,metadata:l},null,s),n=e.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),Go(n,s)}#g=Go(this,a,void 0);get flags(){return this.#g}set flags(t){this.#g=t}get continueFlag(){return 1&this.flags}get componentRecords(){const t=[];let e=5;for(;e<this.length;){const n=new zo(this.buffer,this.byteOffset+e);t.push(n),e+=n.length}return t}constructor(){super(...arguments),Go(this,c)}},n})();var sa;!function(t){t[t.CONTINUE=1]="CONTINUE",t[t.CURRENT=2]="CURRENT",t[t.PARENT=4]="PARENT"}(sa||(sa={}));let oa=(()=>{var t;let e,n,r,i=[ge.packed("NMEntry")],s=[],o=Yo,a=[],c=[];return class extends o{static{n=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;r=[(t=ve).uint8.bind(t)],Vo(this,null,r,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:l},a,c),Vo(null,e={value:n},i,{kind:"class",name:n.name,metadata:l},null,s),n=e.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),Go(n,s)}#g=Go(this,a,void 0);get flags(){return this.#g}set flags(t){this.#g=t}name(t){return t(new Uint8Array(this.buffer,this.byteOffset+5,this.length))}constructor(){super(...arguments),Go(this,c)}},n})(),aa=(()=>{var t;let e,n,r,i=[ge.packed("CLEntry")],s=[],o=Yo,a=[],c=[];return class extends o{static{n=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;r=[(t=ve).uint32.bind(t)],Vo(this,null,r,{kind:"accessor",name:"childDirectoryLba",static:!1,private:!1,access:{has:t=>"childDirectoryLba"in t,get:t=>t.childDirectoryLba,set:(t,e)=>{t.childDirectoryLba=e}},metadata:l},a,c),Vo(null,e={value:n},i,{kind:"class",name:n.name,metadata:l},null,s),n=e.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),Go(n,s)}#wt=Go(this,a,void 0);get childDirectoryLba(){return this.#wt}set childDirectoryLba(t){this.#wt=t}constructor(){super(...arguments),Go(this,c)}},n})(),ca=(()=>{var t;let e,n,r,i=[ge.packed("PLEntry")],s=[],o=Yo,a=[],c=[];return class extends o{static{n=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;r=[(t=ve).uint32.bind(t)],Vo(this,null,r,{kind:"accessor",name:"parentDirectoryLba",static:!1,private:!1,access:{has:t=>"parentDirectoryLba"in t,get:t=>t.parentDirectoryLba,set:(t,e)=>{t.parentDirectoryLba=e}},metadata:l},a,c),Vo(null,e={value:n},i,{kind:"class",name:n.name,metadata:l},null,s),n=e.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),Go(n,s)}#_t=Go(this,a,void 0);get parentDirectoryLba(){return this.#_t}set parentDirectoryLba(t){this.#_t=t}constructor(){super(...arguments),Go(this,c)}},n})(),la=(()=>{let t,e,n=[ge.packed("REEntry")],r=[],i=Yo;return class extends i{static{e=this}static{const s="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;Vo(null,t={value:e},n,{kind:"class",name:e.name,metadata:s},null,r),e=t.value,s&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s}),Go(e,r)}},e})();var ua;!function(t){t[t.CREATION=1]="CREATION",t[t.MODIFY=2]="MODIFY",t[t.ACCESS=4]="ACCESS",t[t.ATTRIBUTES=8]="ATTRIBUTES",t[t.BACKUP=16]="BACKUP",t[t.EXPIRATION=32]="EXPIRATION",t[t.EFFECTIVE=64]="EFFECTIVE",t[t.LONG_FORM=128]="LONG_FORM"}(ua||(ua={}));let ha=(()=>{var t;let e,n,r,i=[ge.packed("TFEntry")],s=[],o=Yo,a=[],c=[];return class extends o{static{n=this}static{const l="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;r=[(t=ve).uint8.bind(t)],Vo(this,null,r,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:l},a,c),Vo(null,e={value:n},i,{kind:"class",name:n.name,metadata:l},null,s),n=e.value,l&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:l}),Go(n,s)}#g=Go(this,a,void 0);get flags(){return this.#g}set flags(t){this.#g=t}_getDate(t){if(!(this.flags&t))return;let e=0;for(let n=0;n<t-1;n++)e+=this.flags&1<<n?1:0;const n=this.flags&ua.LONG_FORM?Wo:Ho,r=5+e*Se(n);return new n(this.buffer,this.byteOffset+r,Se(n)).date}get creation(){return this._getDate(ua.CREATION)}get modify(){return this._getDate(ua.MODIFY)}get access(){return this._getDate(ua.ACCESS)}get backup(){return this._getDate(ua.BACKUP)}get expiration(){return this._getDate(ua.EXPIRATION)}get effective(){return this._getDate(ua.EFFECTIVE)}constructor(){super(...arguments),Go(this,c)}},n})(),fa=(()=>{var t,e,n;let r,i,s,o=Yo,a=[],c=[],l=[],u=[],h=[],f=[];return class extends o{static{const d="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;r=[(t=ve).uint64.bind(t)],i=[(e=ve).uint64.bind(e)],s=[(n=ve).uint8.bind(n)],Vo(this,null,r,{kind:"accessor",name:"virtualSizeHigh",static:!1,private:!1,access:{has:t=>"virtualSizeHigh"in t,get:t=>t.virtualSizeHigh,set:(t,e)=>{t.virtualSizeHigh=e}},metadata:d},a,c),Vo(this,null,i,{kind:"accessor",name:"virtualSizeLow",static:!1,private:!1,access:{has:t=>"virtualSizeLow"in t,get:t=>t.virtualSizeLow,set:(t,e)=>{t.virtualSizeLow=e}},metadata:d},l,u),Vo(this,null,s,{kind:"accessor",name:"tableDepth",static:!1,private:!1,access:{has:t=>"tableDepth"in t,get:t=>t.tableDepth,set:(t,e)=>{t.tableDepth=e}},metadata:d},h,f),d&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})}#St=Go(this,a,void 0);get virtualSizeHigh(){return this.#St}set virtualSizeHigh(t){this.#St=t}#Et=(Go(this,c),Go(this,l,void 0));get virtualSizeLow(){return this.#Et}set virtualSizeLow(t){this.#Et=t}#kt=(Go(this,u),Go(this,h,void 0));get tableDepth(){return this.#kt}set tableDepth(t){this.#kt=t}constructor(){super(...arguments),Go(this,f)}}})();const da={[qo.CE]:Ko,[qo.PD]:Xo,[qo.SP]:Jo,[qo.ST]:Zo,[qo.ER]:Qo,[qo.ES]:ta,[qo.PX]:na,[qo.PN]:ra,[qo.SL]:ia,[qo.NM]:oa,[qo.CL]:aa,[qo.PL]:ca,[qo.RE]:la,[qo.TF]:ha,[qo.SF]:fa,[qo.RR]:ea};function pa(t,e,n){n-=4n;const r=[];for(;e<n;){const n=new Yo(t,e),i=n.signature in da?new da[n.signature](t,e):n,s=i.length;if(!s)return r;if(e+=s,i instanceof Zo)break;r.push(...i instanceof Ko?i.entries():[i])}return r}class ga extends Map{record;dotEntry;constructor(t){super(),this.record=t;let e=t.lba,n=e+t.dataLength;if(!(t.fileFlags&$o.Directory)){const r=t.suEntries.find((t=>t instanceof aa));if(!r)throw new ReferenceError("No CL entry");e=2048*r.childDirectoryLba,n=1/0}const r=new Uint8Array(t.buffer);for(;e<n;){if(!r[e]){e++;continue}const i=new va(t.buffer,e);i.rockRidgeOffset=t.rockRidgeOffset;const s=i.fileName;"\0"===s||""===s||i.hasRockRidge&&i.suEntries.filter((t=>t instanceof la)).length?n===1/0&&(n=e+i.dataLength):this.set(s,i),e+=i.length}this.dotEntry=new va(t.buffer,t.lba),this.dotEntry.rockRidgeOffset=t.rockRidgeOffset}}var ma=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0},ya=function(t,e,n,r,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,n[d])("accessor"===c?{get:h.get,set:h.set}:h[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),f=!0};let va=(()=>{var t,e,n,r,i,s,o,a,c,l,u,h;let f,d,p,g,y,v,b,w,_,S,E,k,x,O,T,L,C,I,N,M,D,R,B,P,z=[ge.packed("DirectoryRecord")],U=[],F=xe,W=[],H=[],$=[],q=[],V=[],G=[],Y=[],K=[],X=[],J=[],Z=[],Q=[],tt=[],et=[],nt=[],rt=[],it=[],st=[],ot=[],at=[],ct=[],lt=[],ut=[],ht=[],ft=[],dt=[],pt=[],gt=[],mt=[];return class extends F{static{d=this}static{const A="function"==typeof Symbol&&Symbol.metadata?Object.create(F[Symbol.metadata]??null):void 0;p=[(t=ve).uint8.bind(t)],g=[(e=ve).uint8.bind(e)],y=[(n=ve).uint32.bind(n)],v=[(r=ve).uint32.bind(r)],b=[(i=ve).uint32.bind(i)],w=[(s=ve).uint32.bind(s)],_=[me(Ho)],S=[(o=ve).uint8.bind(o)],E=[(a=ve).uint8.bind(a)],k=[(c=ve).uint8.bind(c)],x=[(l=ve).uint16.bind(l)],O=[(u=ve).uint16.bind(u)],T=[(h=ve).uint8.bind(h)],L=[ve.char(0,{countedBy:"identifierLength"})],C=[m],I=[m],N=[m],M=[m],D=[m],R=[m],B=[m],P=[m],ya(this,null,p,{kind:"accessor",name:"length",static:!1,private:!1,access:{has:t=>"length"in t,get:t=>t.length,set:(t,e)=>{t.length=e}},metadata:A},H,$),ya(this,null,g,{kind:"accessor",name:"extendedAttributeRecordLength",static:!1,private:!1,access:{has:t=>"extendedAttributeRecordLength"in t,get:t=>t.extendedAttributeRecordLength,set:(t,e)=>{t.extendedAttributeRecordLength=e}},metadata:A},q,V),ya(this,null,y,{kind:"accessor",name:"_lba",static:!1,private:!1,access:{has:t=>"_lba"in t,get:t=>t._lba,set:(t,e)=>{t._lba=e}},metadata:A},G,Y),ya(this,null,v,{kind:"accessor",name:"_lbaBE",static:!1,private:!1,access:{has:t=>"_lbaBE"in t,get:t=>t._lbaBE,set:(t,e)=>{t._lbaBE=e}},metadata:A},K,X),ya(this,null,b,{kind:"accessor",name:"dataLength",static:!1,private:!1,access:{has:t=>"dataLength"in t,get:t=>t.dataLength,set:(t,e)=>{t.dataLength=e}},metadata:A},J,Z),ya(this,null,w,{kind:"accessor",name:"dataLengthBE",static:!1,private:!1,access:{has:t=>"dataLengthBE"in t,get:t=>t.dataLengthBE,set:(t,e)=>{t.dataLengthBE=e}},metadata:A},Q,tt),ya(this,null,_,{kind:"accessor",name:"date",static:!1,private:!1,access:{has:t=>"date"in t,get:t=>t.date,set:(t,e)=>{t.date=e}},metadata:A},et,nt),ya(this,null,S,{kind:"accessor",name:"fileFlags",static:!1,private:!1,access:{has:t=>"fileFlags"in t,get:t=>t.fileFlags,set:(t,e)=>{t.fileFlags=e}},metadata:A},rt,it),ya(this,null,E,{kind:"accessor",name:"fileUnitSize",static:!1,private:!1,access:{has:t=>"fileUnitSize"in t,get:t=>t.fileUnitSize,set:(t,e)=>{t.fileUnitSize=e}},metadata:A},st,ot),ya(this,null,k,{kind:"accessor",name:"interleaveGapSize",static:!1,private:!1,access:{has:t=>"interleaveGapSize"in t,get:t=>t.interleaveGapSize,set:(t,e)=>{t.interleaveGapSize=e}},metadata:A},at,ct),ya(this,null,x,{kind:"accessor",name:"volumeSequenceNumber",static:!1,private:!1,access:{has:t=>"volumeSequenceNumber"in t,get:t=>t.volumeSequenceNumber,set:(t,e)=>{t.volumeSequenceNumber=e}},metadata:A},lt,ut),ya(this,null,O,{kind:"accessor",name:"volumeSequenceNumberBE",static:!1,private:!1,access:{has:t=>"volumeSequenceNumberBE"in t,get:t=>t.volumeSequenceNumberBE,set:(t,e)=>{t.volumeSequenceNumberBE=e}},metadata:A},ht,ft),ya(this,null,T,{kind:"accessor",name:"identifierLength",static:!1,private:!1,access:{has:t=>"identifierLength"in t,get:t=>t.identifierLength,set:(t,e)=>{t.identifierLength=e}},metadata:A},dt,pt),ya(this,null,L,{kind:"accessor",name:"_identifier",static:!1,private:!1,access:{has:t=>"_identifier"in t,get:t=>t._identifier,set:(t,e)=>{t._identifier=e}},metadata:A},gt,mt),ya(this,null,C,{kind:"getter",name:"fileName",static:!1,private:!1,access:{has:t=>"fileName"in t,get:t=>t.fileName},metadata:A},null,W),ya(this,null,I,{kind:"getter",name:"isSymlink",static:!1,private:!1,access:{has:t=>"isSymlink"in t,get:t=>t.isSymlink},metadata:A},null,W),ya(this,null,N,{kind:"getter",name:"symlinkPath",static:!1,private:!1,access:{has:t=>"symlinkPath"in t,get:t=>t.symlinkPath},metadata:A},null,W),ya(this,null,M,{kind:"getter",name:"file",static:!1,private:!1,access:{has:t=>"file"in t,get:t=>t.file},metadata:A},null,W),ya(this,null,D,{kind:"getter",name:"directory",static:!1,private:!1,access:{has:t=>"directory"in t,get:t=>t.directory},metadata:A},null,W),ya(this,null,R,{kind:"getter",name:"suEntries",static:!1,private:!1,access:{has:t=>"suEntries"in t,get:t=>t.suEntries},metadata:A},null,W),ya(this,null,B,{kind:"getter",name:"string",static:!1,private:!1,access:{has:t=>"string"in t,get:t=>t.string},metadata:A},null,W),ya(this,null,P,{kind:"getter",name:"_rockRidgeFilename",static:!1,private:!1,access:{has:t=>"_rockRidgeFilename"in t,get:t=>t._rockRidgeFilename},metadata:A},null,W),ya(null,f={value:d},z,{kind:"class",name:d.name,metadata:A},null,U),d=f.value,A&&Object.defineProperty(d,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:A}),ma(d,U)}_kind=ma(this,W);rockRidgeOffset=-1;get hasRockRidge(){return this.rockRidgeOffset>-1}#at=ma(this,H,void 0);get length(){return this.#at}set length(t){this.#at=t}#xt=(ma(this,$),ma(this,q,void 0));get extendedAttributeRecordLength(){return this.#xt}set extendedAttributeRecordLength(t){this.#xt=t}#Ot=(ma(this,V),ma(this,G,void 0));get _lba(){return this.#Ot}set _lba(t){this.#Ot=t}#Tt=(ma(this,Y),ma(this,K,void 0));get _lbaBE(){return this.#Tt}set _lbaBE(t){this.#Tt=t}get lba(){return 2048*this._lba}set lba(t){if(!Number.isInteger(t/2048))throw A("EINVAL","Invalid LBA value");this._lba=t/2048}#Lt=(ma(this,X),ma(this,J,void 0));get dataLength(){return this.#Lt}set dataLength(t){this.#Lt=t}#Ct=(ma(this,Z),ma(this,Q,void 0));get dataLengthBE(){return this.#Ct}set dataLengthBE(t){this.#Ct=t}#At=(ma(this,tt),ma(this,et,void 0));get date(){return this.#At}set date(t){this.#At=t}get recordingDate(){return this.date.date}#It=(ma(this,nt),ma(this,rt,void 0));get fileFlags(){return this.#It}set fileFlags(t){this.#It=t}#Nt=(ma(this,it),ma(this,st,void 0));get fileUnitSize(){return this.#Nt}set fileUnitSize(t){this.#Nt=t}#Mt=(ma(this,ot),ma(this,at,void 0));get interleaveGapSize(){return this.#Mt}set interleaveGapSize(t){this.#Mt=t}#Dt=(ma(this,ct),ma(this,lt,void 0));get volumeSequenceNumber(){return this.#Dt}set volumeSequenceNumber(t){this.#Dt=t}#Rt=(ma(this,ut),ma(this,ht,void 0));get volumeSequenceNumberBE(){return this.#Rt}set volumeSequenceNumberBE(t){this.#Rt=t}#Bt=(ma(this,ft),ma(this,dt,void 0));get identifierLength(){return this.#Bt}set identifierLength(t){this.#Bt=t}#Pt=(ma(this,pt),ma(this,gt,void 0));get _identifier(){return this.#Pt}set _identifier(t){this.#Pt=t}get identifier(){return this._decode(new Uint8Array(this.buffer,this.byteOffset+Ee(this,"_identifier"),this.identifierLength))}get fileName(){if(this._rockRidgeFilename)return this._rockRidgeFilename;if(this.isDirectory())return this.identifier;const t=this.identifier.indexOf(";");return-1===t?this.identifier:"."===this.identifier.at(-1)?this.identifier.slice(0,t-1):this.identifier.slice(0,t)}isDirectory(){let t=!!(this.fileFlags&$o.Directory);return!t&&this.hasRockRidge&&(t=this.suEntries.filter((t=>t instanceof aa)).length>0),t}get isSymlink(){return this.hasRockRidge&&this.suEntries.filter((t=>t instanceof ia)).length>0}get symlinkPath(){let t="";for(const e of this.suEntries){if(!(e instanceof ia))continue;const n=e.componentRecords;for(const e of n){const n=e.flags;n&Bo.CURRENT?t+="./":n&Bo.PARENT?t+="../":n&Bo.ROOT?t+="/":(t+=e.content(this._decode),n&Bo.CONTINUE||(t+="/"))}if(!e.continueFlag)break}return t.endsWith("/")?t.slice(0,-1):t}get file(){if(!this.buffer)throw j(A("ENODATA"));if(this.isDirectory())throw j(A("EISDIR"));return new Uint8Array(this.buffer,this.lba,this.dataLength)}get directory(){if(!this.buffer)throw j(A("ENODATA"));if(!this.isDirectory())throw j(A("ENOTDIR"));return new ga(this)}get suEntries(){if(!this.buffer)throw j(A("ENODATA"));let t=Se(this);return t%2==1&&t++,t+=this.rockRidgeOffset,pa(this.buffer,t,BigInt(this.length))}get string(){if(!this.buffer)throw j(A("ENODATA"));return this._decode(new Uint8Array(this.buffer,this.byteOffset))}_decoder=ma(this,mt);get _decode(){return this._decoder||=new TextDecoder("Joliet"==this._kind?"utf-16be":"utf-8"),t=>this._decoder.decode(t).toLowerCase()}get _rockRidgeFilename(){if(!this.hasRockRidge)return null;const t=this.suEntries.filter((t=>t instanceof oa));if(!t.length||t[0].flags&(sa.CURRENT|sa.PARENT))return null;let e="";for(const n of t)if(e+=n.name(this._decode),!(n.flags&sa.CONTINUE))break;return e}},d})();var ba,wa=function(t,e,n,r,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,n[d])("accessor"===c?{get:h.get,set:h.set}:h[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),f=!0},_a=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};!function(t){t[t.BootRecord=0]="BootRecord",t[t.Primary=1]="Primary",t[t.Supplementary=2]="Supplementary",t[t.Partition=3]="Partition",t[t.SetTerminator=255]="SetTerminator"}(ba||(ba={}));let Sa=(()=>{var t,e,n;let r,i,s,o,a,c,l=[ge.packed("VolumeDescriptor")],u=[],h=xe,f=[],d=[],p=[],g=[],m=[],y=[],v=[],b=[];return class extends h{static{i=this}static{const w="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;s=[(t=ve).uint8.bind(t)],o=[ve.char(5)],a=[(e=ve).uint8.bind(e)],c=[(n=ve).char.bind(n)],wa(this,null,s,{kind:"accessor",name:"type",static:!1,private:!1,access:{has:t=>"type"in t,get:t=>t.type,set:(t,e)=>{t.type=e}},metadata:w},f,d),wa(this,null,o,{kind:"accessor",name:"standardIdentifier",static:!1,private:!1,access:{has:t=>"standardIdentifier"in t,get:t=>t.standardIdentifier,set:(t,e)=>{t.standardIdentifier=e}},metadata:w},p,g),wa(this,null,a,{kind:"accessor",name:"version",static:!1,private:!1,access:{has:t=>"version"in t,get:t=>t.version,set:(t,e)=>{t.version=e}},metadata:w},m,y),wa(this,null,c,{kind:"accessor",name:"__padding__7",static:!1,private:!1,access:{has:t=>"__padding__7"in t,get:t=>t.__padding__7,set:(t,e)=>{t.__padding__7=e}},metadata:w},v,b),wa(null,r={value:i},l,{kind:"class",name:i.name,metadata:w},null,u),i=r.value,w&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w}),_a(i,u)}#jt=_a(this,f,void 0);get type(){return this.#jt}set type(t){this.#jt=t}#zt=(_a(this,d),_a(this,p,""));get standardIdentifier(){return this.#zt}set standardIdentifier(t){this.#zt=t}#y=(_a(this,g),_a(this,m,void 0));get version(){return this.#y}set version(t){this.#y=t}#Ut=(_a(this,y),_a(this,v,void 0));get __padding__7(){return this.#Ut}set __padding__7(t){this.#Ut=t}constructor(){super(...arguments),_a(this,b)}},i})();(()=>{var t,e,n,r,i,s,o,a,c,l,u,h,f,d,p;let m,y,v,b,w,_,S,E,k,x,O,T,L,C,I,N,M,D,R,B,P,j,z,U,F,W,H,$,q,V,G,Y,K,X,J,Z=[ge.packed("PrimaryVolumeDescriptor")],Q=[],tt=Sa,et=[],nt=[],rt=[],it=[],st=[],ot=[],at=[],ct=[],lt=[],ut=[],ht=[],ft=[],dt=[],pt=[],gt=[],mt=[],yt=[],vt=[],bt=[],wt=[],_t=[],St=[],Et=[],kt=[],xt=[],Ot=[],Tt=[],Lt=[],Ct=[],At=[],It=[],Nt=[],Mt=[],Dt=[],Rt=[],Bt=[],Pt=[],jt=[],zt=[],Ut=[],Ft=[],Wt=[],Ht=[],$t=[],qt=[],Vt=[],Gt=[],Yt=[],Kt=[],Xt=[],Jt=[],Zt=[],Qt=[],te=[],ee=[],ne=[],re=[],ie=[],se=[],oe=[],ae=[],ce=[],le=[],ue=[],he=[],fe=[];(class extends tt{static{y=this}static{const g="function"==typeof Symbol&&Symbol.metadata?Object.create(tt[Symbol.metadata]??null):void 0;v=[ve.char(32)],b=[ve.char(32)],w=[ve.char(8)],_=[(t=ve).uint32.bind(t)],S=[(e=ve).uint32.bind(e)],E=[ve.char(32)],k=[(n=ve).uint16.bind(n)],x=[(r=ve).uint16.bind(r)],O=[(i=ve).uint16.bind(i)],T=[(s=ve).uint16.bind(s)],L=[(o=ve).uint16.bind(o)],C=[(a=ve).uint16.bind(a)],I=[(c=ve).uint32.bind(c)],N=[(l=ve).uint32.bind(l)],M=[(u=ve).uint32.bind(u)],D=[(h=ve).uint32.bind(h)],R=[(f=ve).uint32.bind(f)],B=[(d=ve).uint32.bind(d)],P=[me(va)],j=[ve.char(128)],z=[ve.char(128)],U=[ve.char(128)],F=[ve.char(128)],W=[ve.char(38)],H=[ve.char(36)],$=[ve.char(37)],q=[me(Wo)],V=[me(Wo)],G=[me(Wo)],Y=[me(Wo)],K=[(p=ve).uint8.bind(p)],X=[ve.char(512)],J=[ve.char(653)],wa(this,null,v,{kind:"accessor",name:"_systemIdentifier",static:!1,private:!1,access:{has:t=>"_systemIdentifier"in t,get:t=>t._systemIdentifier,set:(t,e)=>{t._systemIdentifier=e}},metadata:g},et,nt),wa(this,null,b,{kind:"accessor",name:"_volumeIdentifier",static:!1,private:!1,access:{has:t=>"_volumeIdentifier"in t,get:t=>t._volumeIdentifier,set:(t,e)=>{t._volumeIdentifier=e}},metadata:g},rt,it),wa(this,null,w,{kind:"accessor",name:"__padding__72",static:!1,private:!1,access:{has:t=>"__padding__72"in t,get:t=>t.__padding__72,set:(t,e)=>{t.__padding__72=e}},metadata:g},st,ot),wa(this,null,_,{kind:"accessor",name:"volumeSpaceSize",static:!1,private:!1,access:{has:t=>"volumeSpaceSize"in t,get:t=>t.volumeSpaceSize,set:(t,e)=>{t.volumeSpaceSize=e}},metadata:g},at,ct),wa(this,null,S,{kind:"accessor",name:"_volumeSpaceSizeBE",static:!1,private:!1,access:{has:t=>"_volumeSpaceSizeBE"in t,get:t=>t._volumeSpaceSizeBE,set:(t,e)=>{t._volumeSpaceSizeBE=e}},metadata:g},lt,ut),wa(this,null,E,{kind:"accessor",name:"escapeSequence",static:!1,private:!1,access:{has:t=>"escapeSequence"in t,get:t=>t.escapeSequence,set:(t,e)=>{t.escapeSequence=e}},metadata:g},ht,ft),wa(this,null,k,{kind:"accessor",name:"volumeSetSize",static:!1,private:!1,access:{has:t=>"volumeSetSize"in t,get:t=>t.volumeSetSize,set:(t,e)=>{t.volumeSetSize=e}},metadata:g},dt,pt),wa(this,null,x,{kind:"accessor",name:"_volumeSetSizeBE",static:!1,private:!1,access:{has:t=>"_volumeSetSizeBE"in t,get:t=>t._volumeSetSizeBE,set:(t,e)=>{t._volumeSetSizeBE=e}},metadata:g},gt,mt),wa(this,null,O,{kind:"accessor",name:"volumeSequenceNumber",static:!1,private:!1,access:{has:t=>"volumeSequenceNumber"in t,get:t=>t.volumeSequenceNumber,set:(t,e)=>{t.volumeSequenceNumber=e}},metadata:g},yt,vt),wa(this,null,T,{kind:"accessor",name:"_volumeSequenceNumberBE",static:!1,private:!1,access:{has:t=>"_volumeSequenceNumberBE"in t,get:t=>t._volumeSequenceNumberBE,set:(t,e)=>{t._volumeSequenceNumberBE=e}},metadata:g},bt,wt),wa(this,null,L,{kind:"accessor",name:"logicalBlockSize",static:!1,private:!1,access:{has:t=>"logicalBlockSize"in t,get:t=>t.logicalBlockSize,set:(t,e)=>{t.logicalBlockSize=e}},metadata:g},_t,St),wa(this,null,C,{kind:"accessor",name:"_logicalBlockSizeBE",static:!1,private:!1,access:{has:t=>"_logicalBlockSizeBE"in t,get:t=>t._logicalBlockSizeBE,set:(t,e)=>{t._logicalBlockSizeBE=e}},metadata:g},Et,kt),wa(this,null,I,{kind:"accessor",name:"pathTableSize",static:!1,private:!1,access:{has:t=>"pathTableSize"in t,get:t=>t.pathTableSize,set:(t,e)=>{t.pathTableSize=e}},metadata:g},xt,Ot),wa(this,null,N,{kind:"accessor",name:"_pathTableSizeBE",static:!1,private:!1,access:{has:t=>"_pathTableSizeBE"in t,get:t=>t._pathTableSizeBE,set:(t,e)=>{t._pathTableSizeBE=e}},metadata:g},Tt,Lt),wa(this,null,M,{kind:"accessor",name:"locationOfTypeLPathTable",static:!1,private:!1,access:{has:t=>"locationOfTypeLPathTable"in t,get:t=>t.locationOfTypeLPathTable,set:(t,e)=>{t.locationOfTypeLPathTable=e}},metadata:g},Ct,At),wa(this,null,D,{kind:"accessor",name:"locationOfOptionalTypeLPathTable",static:!1,private:!1,access:{has:t=>"locationOfOptionalTypeLPathTable"in t,get:t=>t.locationOfOptionalTypeLPathTable,set:(t,e)=>{t.locationOfOptionalTypeLPathTable=e}},metadata:g},It,Nt),wa(this,null,R,{kind:"accessor",name:"_locationOfTypeMPathTable",static:!1,private:!1,access:{has:t=>"_locationOfTypeMPathTable"in t,get:t=>t._locationOfTypeMPathTable,set:(t,e)=>{t._locationOfTypeMPathTable=e}},metadata:g},Mt,Dt),wa(this,null,B,{kind:"accessor",name:"_locationOfOptionalTypeMPathTable",static:!1,private:!1,access:{has:t=>"_locationOfOptionalTypeMPathTable"in t,get:t=>t._locationOfOptionalTypeMPathTable,set:(t,e)=>{t._locationOfOptionalTypeMPathTable=e}},metadata:g},Rt,Bt),wa(this,null,P,{kind:"accessor",name:"_root",static:!1,private:!1,access:{has:t=>"_root"in t,get:t=>t._root,set:(t,e)=>{t._root=e}},metadata:g},Pt,jt),wa(this,null,j,{kind:"accessor",name:"_volumeSetIdentifier",static:!1,private:!1,access:{has:t=>"_volumeSetIdentifier"in t,get:t=>t._volumeSetIdentifier,set:(t,e)=>{t._volumeSetIdentifier=e}},metadata:g},zt,Ut),wa(this,null,z,{kind:"accessor",name:"_publisherIdentifier",static:!1,private:!1,access:{has:t=>"_publisherIdentifier"in t,get:t=>t._publisherIdentifier,set:(t,e)=>{t._publisherIdentifier=e}},metadata:g},Ft,Wt),wa(this,null,U,{kind:"accessor",name:"_dataPreparerIdentifier",static:!1,private:!1,access:{has:t=>"_dataPreparerIdentifier"in t,get:t=>t._dataPreparerIdentifier,set:(t,e)=>{t._dataPreparerIdentifier=e}},metadata:g},Ht,$t),wa(this,null,F,{kind:"accessor",name:"_applicationIdentifier",static:!1,private:!1,access:{has:t=>"_applicationIdentifier"in t,get:t=>t._applicationIdentifier,set:(t,e)=>{t._applicationIdentifier=e}},metadata:g},qt,Vt),wa(this,null,W,{kind:"accessor",name:"_copyrightFileIdentifier",static:!1,private:!1,access:{has:t=>"_copyrightFileIdentifier"in t,get:t=>t._copyrightFileIdentifier,set:(t,e)=>{t._copyrightFileIdentifier=e}},metadata:g},Gt,Yt),wa(this,null,H,{kind:"accessor",name:"_abstractFileIdentifier",static:!1,private:!1,access:{has:t=>"_abstractFileIdentifier"in t,get:t=>t._abstractFileIdentifier,set:(t,e)=>{t._abstractFileIdentifier=e}},metadata:g},Kt,Xt),wa(this,null,$,{kind:"accessor",name:"_bibliographicFileIdentifier",static:!1,private:!1,access:{has:t=>"_bibliographicFileIdentifier"in t,get:t=>t._bibliographicFileIdentifier,set:(t,e)=>{t._bibliographicFileIdentifier=e}},metadata:g},Jt,Zt),wa(this,null,q,{kind:"accessor",name:"volumeCreationDate",static:!1,private:!1,access:{has:t=>"volumeCreationDate"in t,get:t=>t.volumeCreationDate,set:(t,e)=>{t.volumeCreationDate=e}},metadata:g},Qt,te),wa(this,null,V,{kind:"accessor",name:"volumeModificationDate",static:!1,private:!1,access:{has:t=>"volumeModificationDate"in t,get:t=>t.volumeModificationDate,set:(t,e)=>{t.volumeModificationDate=e}},metadata:g},ee,ne),wa(this,null,G,{kind:"accessor",name:"volumeExpirationDate",static:!1,private:!1,access:{has:t=>"volumeExpirationDate"in t,get:t=>t.volumeExpirationDate,set:(t,e)=>{t.volumeExpirationDate=e}},metadata:g},re,ie),wa(this,null,Y,{kind:"accessor",name:"volumeEffectiveDate",static:!1,private:!1,access:{has:t=>"volumeEffectiveDate"in t,get:t=>t.volumeEffectiveDate,set:(t,e)=>{t.volumeEffectiveDate=e}},metadata:g},se,oe),wa(this,null,K,{kind:"accessor",name:"fileStructureVersion",static:!1,private:!1,access:{has:t=>"fileStructureVersion"in t,get:t=>t.fileStructureVersion,set:(t,e)=>{t.fileStructureVersion=e}},metadata:g},ae,ce),wa(this,null,X,{kind:"accessor",name:"applicationUsed",static:!1,private:!1,access:{has:t=>"applicationUsed"in t,get:t=>t.applicationUsed,set:(t,e)=>{t.applicationUsed=e}},metadata:g},le,ue),wa(this,null,J,{kind:"accessor",name:"reserved",static:!1,private:!1,access:{has:t=>"reserved"in t,get:t=>t.reserved,set:(t,e)=>{t.reserved=e}},metadata:g},he,fe),wa(null,m={value:y},Z,{kind:"class",name:y.name,metadata:g},null,Q),y=m.value,g&&Object.defineProperty(y,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g}),_a(y,Q)}name;constructor(t=g(A("EINVAL","VolumeDescriptor.name is required")),...e){super(...e),_a(this,fe),this.name=t,this._root=new va(this.buffer,this.byteOffset+156),this._root._kind=this.name;const n=this._root.directory.dotEntry;if(n.suEntries.length&&n.suEntries[0]instanceof Jo&&n.suEntries[0].checkMagic())for(const t of n.suEntries.slice(1))if(t instanceof ea||t instanceof Qo&&"IEEE_P1282"===t.extensionIdentifier){this._root.rockRidgeOffset=n.suEntries[0].skip;break}this._root.rockRidgeOffset>-1&&(n._dir=void 0)}_decoder;_decode(t){return this._decoder||=new TextDecoder("Joilet"==this.name?"utf-16be":"utf-8"),this._decoder.decode(t).toLowerCase()}#Ft=_a(this,et,new Uint8Array(32));get _systemIdentifier(){return this.#Ft}set _systemIdentifier(t){this.#Ft=t}get systemIdentifier(){return this._decode(this._systemIdentifier)}#Wt=(_a(this,nt),_a(this,rt,new Uint8Array(32)));get _volumeIdentifier(){return this.#Wt}set _volumeIdentifier(t){this.#Wt=t}get volumeIdentifier(){return this._decode(this._volumeIdentifier)}#Ht=(_a(this,it),_a(this,st,new Uint8Array(8)));get __padding__72(){return this.#Ht}set __padding__72(t){this.#Ht=t}#$t=(_a(this,ot),_a(this,at,void 0));get volumeSpaceSize(){return this.#$t}set volumeSpaceSize(t){this.#$t=t}#qt=(_a(this,ct),_a(this,lt,void 0));get _volumeSpaceSizeBE(){return this.#qt}set _volumeSpaceSizeBE(t){this.#qt=t}#Vt=(_a(this,ut),_a(this,ht,new Uint8Array(32)));get escapeSequence(){return this.#Vt}set escapeSequence(t){this.#Vt=t}#Gt=(_a(this,ft),_a(this,dt,void 0));get volumeSetSize(){return this.#Gt}set volumeSetSize(t){this.#Gt=t}#Yt=(_a(this,pt),_a(this,gt,void 0));get _volumeSetSizeBE(){return this.#Yt}set _volumeSetSizeBE(t){this.#Yt=t}#Dt=(_a(this,mt),_a(this,yt,void 0));get volumeSequenceNumber(){return this.#Dt}set volumeSequenceNumber(t){this.#Dt=t}#Kt=(_a(this,vt),_a(this,bt,void 0));get _volumeSequenceNumberBE(){return this.#Kt}set _volumeSequenceNumberBE(t){this.#Kt=t}#Xt=(_a(this,wt),_a(this,_t,void 0));get logicalBlockSize(){return this.#Xt}set logicalBlockSize(t){this.#Xt=t}#Jt=(_a(this,St),_a(this,Et,void 0));get _logicalBlockSizeBE(){return this.#Jt}set _logicalBlockSizeBE(t){this.#Jt=t}#Zt=(_a(this,kt),_a(this,xt,void 0));get pathTableSize(){return this.#Zt}set pathTableSize(t){this.#Zt=t}#Qt=(_a(this,Ot),_a(this,Tt,void 0));get _pathTableSizeBE(){return this.#Qt}set _pathTableSizeBE(t){this.#Qt=t}#te=(_a(this,Lt),_a(this,Ct,void 0));get locationOfTypeLPathTable(){return this.#te}set locationOfTypeLPathTable(t){this.#te=t}#ee=(_a(this,At),_a(this,It,void 0));get locationOfOptionalTypeLPathTable(){return this.#ee}set locationOfOptionalTypeLPathTable(t){this.#ee=t}#ne=(_a(this,Nt),_a(this,Mt,void 0));get _locationOfTypeMPathTable(){return this.#ne}set _locationOfTypeMPathTable(t){this.#ne=t}get locationOfTypeMPathTable(){return new DataView(this.buffer).getUint32(148)}#re=(_a(this,Dt),_a(this,Rt,void 0));get _locationOfOptionalTypeMPathTable(){return this.#re}set _locationOfOptionalTypeMPathTable(t){this.#re=t}locationOfOptionalTypeMPathTable(){return new DataView(this.buffer).getUint32(152)}#ie=(_a(this,Bt),_a(this,Pt,void 0));get _root(){return this.#ie}set _root(t){this.#ie=t}get root(){return this._root&&this._root.buffer,this._root}#se=(_a(this,jt),_a(this,zt,new Uint8Array(128)));get _volumeSetIdentifier(){return this.#se}set _volumeSetIdentifier(t){this.#se=t}get volumeSetIdentifier(){return this._decode(this._volumeIdentifier)}#oe=(_a(this,Ut),_a(this,Ft,new Uint8Array(128)));get _publisherIdentifier(){return this.#oe}set _publisherIdentifier(t){this.#oe=t}get publisherIdentifier(){return this._decode(this._publisherIdentifier)}#ae=(_a(this,Wt),_a(this,Ht,new Uint8Array(128)));get _dataPreparerIdentifier(){return this.#ae}set _dataPreparerIdentifier(t){this.#ae=t}get dataPreparerIdentifier(){return this._decode(this._dataPreparerIdentifier)}#ce=(_a(this,$t),_a(this,qt,new Uint8Array(128)));get _applicationIdentifier(){return this.#ce}set _applicationIdentifier(t){this.#ce=t}get applicationIdentifier(){return this._decode(this._applicationIdentifier)}#le=(_a(this,Vt),_a(this,Gt,new Uint8Array(38)));get _copyrightFileIdentifier(){return this.#le}set _copyrightFileIdentifier(t){this.#le=t}get copyrightFileIdentifier(){return this._decode(this._copyrightFileIdentifier)}#ue=(_a(this,Yt),_a(this,Kt,new Uint8Array(36)));get _abstractFileIdentifier(){return this.#ue}set _abstractFileIdentifier(t){this.#ue=t}get abstractFileIdentifier(){return this._decode(this._abstractFileIdentifier)}#he=(_a(this,Xt),_a(this,Jt,new Uint8Array(37)));get _bibliographicFileIdentifier(){return this.#he}set _bibliographicFileIdentifier(t){this.#he=t}get bibliographicFileIdentifier(){return this._decode(this._bibliographicFileIdentifier)}#fe=(_a(this,Zt),_a(this,Qt,new Wo));get volumeCreationDate(){return this.#fe}set volumeCreationDate(t){this.#fe=t}#de=(_a(this,te),_a(this,ee,new Wo));get volumeModificationDate(){return this.#de}set volumeModificationDate(t){this.#de=t}#pe=(_a(this,ne),_a(this,re,new Wo));get volumeExpirationDate(){return this.#pe}set volumeExpirationDate(t){this.#pe=t}#ge=(_a(this,ie),_a(this,se,new Wo));get volumeEffectiveDate(){return this.#ge}set volumeEffectiveDate(t){this.#ge=t}#me=(_a(this,oe),_a(this,ae,void 0));get fileStructureVersion(){return this.#me}set fileStructureVersion(t){this.#me=t}#ye=(_a(this,ce),_a(this,le,new Uint8Array(512)));get applicationUsed(){return this.#ye}set applicationUsed(t){this.#ye=t}#ve=(_a(this,ue),_a(this,he,new Uint8Array(653)));get reserved(){return this.#ve}set reserved(t){this.#ve=t}toString(){return`${this.name} CD-ROM\n\t\t\t\tSystem id: ${this.systemIdentifier}\n\t\t\t\tVolume id: ${this.volumeIdentifier}\n\t\t\t\tVolume set id: ${this.volumeSetIdentifier}\n\t\t\t\tPublisher id: ${this.publisherIdentifier}\n\t\t\t\tData preparer id: ${this.dataPreparerIdentifier}\n\t\t\t\tApplication id: ${this.applicationIdentifier}\n\t\t\t\tCopyright file id: ${this.copyrightFileIdentifier}\n\t\t\t\tAbstract file id: ${this.abstractFileIdentifier}\n\t\t\t\tBibliographic file id: ${this.bibliographicFileIdentifier}\n\t\t\t\tVolume set size: ${this.volumeSetSize}\n\t\t\t\tVolume sequence number: ${this.volumeSequenceNumber}\n\t\t\t\tLogical block size: ${this.logicalBlockSize}\n\t\t\t\tVolume size: ${this.volumeSpaceSize}`.replaceAll("\t","")}})})();xo(Oo(fn));Uint8Array;var Ea=Uint8Array,ka=Uint16Array,xa=Int32Array,Oa=new Ea([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ta=new Ea([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),La=new Ea([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ca=function(t,e){for(var n=new ka(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new xa(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Aa=Ca(Oa,2),Ia=Aa.b,Na=Aa.r;Ia[28]=258,Na[258]=28;for(var Ma=Ca(Ta,0),Da=Ma.b,Ra=Ma.r,Ba=new ka(32768),Pa=0;Pa<32768;++Pa){var ja=(43690&Pa)>>1|(21845&Pa)<<1;ja=(61680&(ja=(52428&ja)>>2|(13107&ja)<<2))>>4|(3855&ja)<<4,Ba[Pa]=((65280&ja)>>8|(255&ja)<<8)>>1}var za=function(t,e,n){for(var r=t.length,i=0,s=new ka(e);i<r;++i)t[i]&&++s[t[i]-1];var o,a=new ka(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new ka(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var l=i<<4|t[i],u=e-t[i],h=a[t[i]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)o[Ba[h]>>c]=l}else for(o=new ka(r),i=0;i<r;++i)t[i]&&(o[i]=Ba[a[t[i]-1]++]>>15-t[i]);return o},Ua=new Ea(288);for(Pa=0;Pa<144;++Pa)Ua[Pa]=8;for(Pa=144;Pa<256;++Pa)Ua[Pa]=9;for(Pa=256;Pa<280;++Pa)Ua[Pa]=7;for(Pa=280;Pa<288;++Pa)Ua[Pa]=8;var Fa=new Ea(32);for(Pa=0;Pa<32;++Pa)Fa[Pa]=5;var Wa=za(Ua,9,0),Ha=za(Ua,9,1),$a=za(Fa,5,0),qa=za(Fa,5,1),Va=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ga=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(7&e)&n},Ya=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(7&e)},Ka=function(t){return(t+7)/8|0},Xa=function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new Ea(t.subarray(e,n))},Ja=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Za=function(t,e,n){var r=new Error(e||Ja[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Za),!n)throw r;return r},Qa=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},tc=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},ec=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:cc,l:0};if(1==i){var o=new Ea(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort((function(t,e){return t.f-e.f})),n.push({s:-1,f:25001});var a=n[0],c=n[1],l=0,u=1,h=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};u!=i-1;)a=n[n[l].f<n[h].f?l++:h++],c=n[l!=u&&n[l].f<n[h].f?l++:h++],n[u++]={s:-1,f:a.f+c.f,l:a,r:c};var f=s[0].s;for(r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var d=new ka(f+1),p=nc(n[u-1],d,0);if(p>e){r=0;var g=0,m=p-e,y=1<<m;for(s.sort((function(t,e){return d[e.s]-d[t.s]||t.f-e.f}));r<i;++r){var v=s[r].s;if(!(d[v]>e))break;g+=y-(1<<p-d[v]),d[v]=e}for(g>>=m;g>0;){var b=s[r].s;d[b]<e?g-=1<<e-d[b]++-1:++r}for(;r>=0&&g;--r){var w=s[r].s;d[w]==e&&(--d[w],++g)}p=e}return{t:new Ea(d),l:p}},nc=function(t,e,n){return-1==t.s?Math.max(nc(t.l,e,n+1),nc(t.r,e,n+1)):e[t.s]=n},rc=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new ka(++e),r=0,i=t[0],s=1,o=function(t){n[r++]=t},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},ic=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},sc=function(t,e,n){var r=n.length,i=Ka(e+2);t[i]=255&r,t[i+1]=r>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<r;++s)t[i+s+4]=n[s];return 8*(i+4+r)},oc=function(t,e,n,r,i,s,o,a,c,l,u){Qa(e,u++,n),++i[256];for(var h=ec(i,15),f=h.t,d=h.l,p=ec(s,15),g=p.t,m=p.l,y=rc(f),v=y.c,b=y.n,w=rc(g),_=w.c,S=w.n,E=new ka(19),k=0;k<v.length;++k)++E[31&v[k]];for(k=0;k<_.length;++k)++E[31&_[k]];for(var x=ec(E,7),O=x.t,T=x.l,L=19;L>4&&!O[La[L-1]];--L);var C,A,I,N,M=l+5<<3,D=ic(i,Ua)+ic(s,Fa)+o,R=ic(i,f)+ic(s,g)+o+14+3*L+ic(E,O)+2*E[16]+3*E[17]+7*E[18];if(c>=0&&M<=D&&M<=R)return sc(e,u,t.subarray(c,c+l));if(Qa(e,u,1+(R<D)),u+=2,R<D){C=za(f,d,0),A=f,I=za(g,m,0),N=g;var B=za(O,T,0);for(Qa(e,u,b-257),Qa(e,u+5,S-1),Qa(e,u+10,L-4),u+=14,k=0;k<L;++k)Qa(e,u+3*k,O[La[k]]);u+=3*L;for(var P=[v,_],j=0;j<2;++j){var z=P[j];for(k=0;k<z.length;++k){var U=31&z[k];Qa(e,u,B[U]),u+=O[U],U>15&&(Qa(e,u,z[k]>>5&127),u+=z[k]>>12)}}}else C=Wa,A=Ua,I=$a,N=Fa;for(k=0;k<a;++k){var F=r[k];if(F>255){tc(e,u,C[257+(U=F>>18&31)]),u+=A[U+257],U>7&&(Qa(e,u,F>>23&31),u+=Oa[U]);var W=31&F;tc(e,u,I[W]),u+=N[W],W>3&&(tc(e,u,F>>5&8191),u+=Ta[W])}else tc(e,u,C[F]),u+=A[F]}return tc(e,u,C[256]),u+A[256]},ac=new xa([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),cc=new Ea(0),lc=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&-306674912)^n>>>1;t[e]=n}return t}(),uc=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=lc[255&n^e[r]]^n>>>8;t=n},d:function(){return~t}}},hc=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Ea(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return function(t,e,n,r,i,s){var o=s.z||t.length,a=new Ea(r+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(r,a.length-i),l=s.l,u=7&(s.r||0);if(e){u&&(c[0]=s.r>>3);for(var h=ac[e-1],f=h>>13,d=8191&h,p=(1<<n)-1,g=s.p||new ka(32768),m=s.h||new ka(p+1),y=Math.ceil(n/3),v=2*y,b=function(e){return(t[e]^t[e+1]<<y^t[e+2]<<v)&p},w=new xa(25e3),_=new ka(288),S=new ka(32),E=0,k=0,x=s.i||0,O=0,T=s.w||0,L=0;x+2<o;++x){var C=b(x),A=32767&x,I=m[C];if(g[A]=I,m[C]=A,T<=x){var N=o-x;if((E>7e3||O>24576)&&(N>423||!l)){u=oc(t,c,0,w,_,S,k,O,L,x-L,u),O=E=k=0,L=x;for(var M=0;M<286;++M)_[M]=0;for(M=0;M<30;++M)S[M]=0}var D=2,R=0,B=d,P=A-I&32767;if(N>2&&C==b(x-P))for(var j=Math.min(f,N)-1,z=Math.min(32767,x),U=Math.min(258,N);P<=z&&--B&&A!=I;){if(t[x+D]==t[x+D-P]){for(var F=0;F<U&&t[x+F]==t[x+F-P];++F);if(F>D){if(D=F,R=P,F>j)break;var W=Math.min(P,F-2),H=0;for(M=0;M<W;++M){var $=x-P+M&32767,q=$-g[$]&32767;q>H&&(H=q,I=$)}}}P+=(A=I)-(I=g[A])&32767}if(R){w[O++]=268435456|Na[D]<<18|Ra[R];var V=31&Na[D],G=31&Ra[R];k+=Oa[V]+Ta[G],++_[257+V],++S[G],T=x+D,++E}else w[O++]=t[x],++_[t[x]]}}for(x=Math.max(x,T);x<o;++x)w[O++]=t[x],++_[t[x]];u=oc(t,c,l,w,_,S,k,O,L,x-L,u),l||(s.r=7&u|c[u/8|0]<<3,u-=7,s.h=m,s.p=g,s.i=x,s.w=T)}else{for(x=s.w||0;x<o+l;x+=65535){var Y=x+65535;Y>=o&&(c[u/8|0]=l,Y=o),u=sc(c,u+1,t.subarray(x,Y))}s.i=o}return Xa(a,0,r+Ka(u)+i)}(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,i)},fc=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},dc=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function pc(t,e){return hc(t,e||{},0,0)}function gc(t,e){return function(t,e,n,r){var i=t.length,s=r?r.length:0;if(!i||e.f&&!e.l)return n||new Ea(0);var o=!n,a=o||2!=e.i,c=e.i;o&&(n=new Ea(3*i));var l=function(t){var e=n.length;if(t>e){var r=new Ea(Math.max(2*e,t));r.set(n),n=r}},u=e.f||0,h=e.p||0,f=e.b||0,d=e.l,p=e.d,g=e.m,m=e.n,y=8*i;do{if(!d){u=Ga(t,h,1);var v=Ga(t,h+1,3);if(h+=3,!v){var b=t[(A=Ka(h)+4)-4]|t[A-3]<<8,w=A+b;if(w>i){c&&Za(0);break}a&&l(f+b),n.set(t.subarray(A,w),f),e.b=f+=b,e.p=h=8*w,e.f=u;continue}if(1==v)d=Ha,p=qa,g=9,m=5;else if(2==v){var _=Ga(t,h,31)+257,S=Ga(t,h+10,15)+4,E=_+Ga(t,h+5,31)+1;h+=14;for(var k=new Ea(E),x=new Ea(19),O=0;O<S;++O)x[La[O]]=Ga(t,h+3*O,7);h+=3*S;var T=Va(x),L=(1<<T)-1,C=za(x,T,1);for(O=0;O<E;){var A,I=C[Ga(t,h,L)];if(h+=15&I,(A=I>>4)<16)k[O++]=A;else{var N=0,M=0;for(16==A?(M=3+Ga(t,h,3),h+=2,N=k[O-1]):17==A?(M=3+Ga(t,h,7),h+=3):18==A&&(M=11+Ga(t,h,127),h+=7);M--;)k[O++]=N}}var D=k.subarray(0,_),R=k.subarray(_);g=Va(D),m=Va(R),d=za(D,g,1),p=za(R,m,1)}else Za(1);if(h>y){c&&Za(0);break}}a&&l(f+131072);for(var B=(1<<g)-1,P=(1<<m)-1,j=h;;j=h){var z=(N=d[Ya(t,h)&B])>>4;if((h+=15&N)>y){c&&Za(0);break}if(N||Za(2),z<256)n[f++]=z;else{if(256==z){j=h,d=null;break}var U=z-254;if(z>264){var F=Oa[O=z-257];U=Ga(t,h,(1<<F)-1)+Ia[O],h+=F}var W=p[Ya(t,h)&P],H=W>>4;if(W||Za(3),h+=15&W,R=Da[H],H>3&&(F=Ta[H],R+=Ya(t,h)&(1<<F)-1,h+=F),h>y){c&&Za(0);break}a&&l(f+131072);var $=f+U;if(f<R){var q=s-R,V=Math.min(R,$);for(q+f<0&&Za(3);f<V;++f)n[f]=r[q+f]}for(;f<$;++f)n[f]=n[f-R]}}e.l=d,e.p=j,e.b=f,e.f=u,d&&(u=1,e.m=g,e.d=p,e.n=m)}while(!u);return f!=n.length&&o?Xa(n,0,f):n.subarray(0,f)}(t,{i:2},e&&e.out,e&&e.dictionary)}var mc=function(t,e,n,r){for(var i in t){var s=t[i],o=e+i,a=r;Array.isArray(s)&&(a=fc(r,s[1]),s=s[0]),s instanceof Ea?n[o]=[s,a]:(n[o+="/"]=[new Ea(0),a],mc(s,o,n,r))}},yc="undefined"!=typeof TextEncoder&&new TextEncoder,vc="undefined"!=typeof TextDecoder&&new TextDecoder;try{vc.decode(cc,{stream:!0})}catch(t){}function bc(t,e){if(e){for(var n=new Ea(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}if(yc)return yc.encode(t);var i=t.length,s=new Ea(t.length+(t.length>>1)),o=0,a=function(t){s[o++]=t};for(r=0;r<i;++r){if(o+5>s.length){var c=new Ea(o+8+(i-r<<1));c.set(s),s=c}var l=t.charCodeAt(r);l<128||e?a(l):l<2048?(a(192|l>>6),a(128|63&l)):l>55295&&l<57344?(a(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++r))>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|63&l)):(a(224|l>>12),a(128|l>>6&63),a(128|63&l))}return Xa(s,0,o)}var wc,_c=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&Za(9),e+=r+4}return e},Sc=function(t,e,n,r,i,s,o,a){var c=r.length,l=n.extra,u=a&&a.length,h=_c(l);dc(t,e,null!=o?33639248:67324752),e+=4,null!=o&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(s<0&&8),t[e++]=i&&8,t[e++]=255&n.compression,t[e++]=n.compression>>8;var f=new Date(null==n.mtime?Date.now():n.mtime),d=f.getFullYear()-1980;if((d<0||d>119)&&Za(10),dc(t,e,d<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>1),e+=4,-1!=s&&(dc(t,e,n.crc),dc(t,e+4,s<0?-s-2:s),dc(t,e+8,n.size)),dc(t,e+12,c),dc(t,e+14,h),e+=16,null!=o&&(dc(t,e,u),dc(t,e+6,n.attrs),dc(t,e+10,o),e+=14),t.set(r,e),e+=c,h)for(var p in l){var g=l[p],m=g.length;dc(t,e,+p),dc(t,e+2,m),t.set(g,e+4),e+=4+m}return u&&(t.set(a,e),e+=u),e};"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout,function(t){t[t.STORED=0]="STORED",t[t.SHRUNK=1]="SHRUNK",t[t.REDUCED_1=2]="REDUCED_1",t[t.REDUCED_2=3]="REDUCED_2",t[t.REDUCED_3=4]="REDUCED_3",t[t.REDUCED_4=5]="REDUCED_4",t[t.IMPLODE=6]="IMPLODE",t[t.DEFLATE=8]="DEFLATE",t[t.DEFLATE64=9]="DEFLATE64",t[t.TERSE_OLD=10]="TERSE_OLD",t[t.BZIP2=12]="BZIP2",t[t.LZMA=14]="LZMA",t[t.TERSE_NEW=18]="TERSE_NEW",t[t.LZ77=19]="LZ77",t[t.WAVPACK=97]="WAVPACK",t[t.PPMD=98]="PPMD"}(wc||(wc={}));const Ec={[wc.DEFLATE]:t=>gc(t),[wc.STORED]:(t,e,n)=>t.subarray(0,e)};function kc(t){return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,2*(31&t))}const xc=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];async function Oc(t,e,n,r){if(0===r)return"";const i=await t.get(n,r);return e?S(i):[...i].map((t=>t>127?xc[t-128]:String.fromCharCode(t))).join("")}var Tc,Lc=function(t,e,n,r,i,s){function o(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,l="getter"===c?"get":"setter"===c?"set":"value",u=!e&&t?r.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),f=!1,d=n.length-1;d>=0;d--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(t){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(t||null))};var m=(0,n[d])("accessor"===c?{get:h.get,set:h.set}:h[l],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[l]=a)}u&&Object.defineProperty(u,r.name,h),f=!0},Cc=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};!function(t){t[t.MSDOS=0]="MSDOS",t[t.AMIGA=1]="AMIGA",t[t.OPENVMS=2]="OPENVMS",t[t.UNIX=3]="UNIX",t[t.VM_CMS=4]="VM_CMS",t[t.ATARI_ST=5]="ATARI_ST",t[t.OS2_HPFS=6]="OS2_HPFS",t[t.MAC=7]="MAC",t[t.Z_SYSTEM=8]="Z_SYSTEM",t[t.CP_M=9]="CP_M",t[t.NTFS=10]="NTFS",t[t.MVS=11]="MVS",t[t.VSE=12]="VSE",t[t.ACORN_RISC=13]="ACORN_RISC",t[t.VFAT=14]="VFAT",t[t.ALT_MVS=15]="ALT_MVS",t[t.BEOS=16]="BEOS",t[t.TANDEM=17]="TANDEM",t[t.OS_400=18]="OS_400",t[t.OSX=19]="OSX"}(Tc||(Tc={}));let Ac=(()=>{var t,e,n,r,i,s,o,a,c,l;let u,h,f,d,p,g,m,y,v,b,w,_,S=[ge.packed("LocalFileHeader")],E=[],k=be.typed(Uint8Array),x=[],O=[],T=[],L=[],C=[],I=[],N=[],M=[],D=[],R=[],B=[],P=[],j=[],z=[],U=[],F=[],W=[],H=[],$=[],q=[];var V=class extends k{static{h=this}static{const A="function"==typeof Symbol&&Symbol.metadata?Object.create(k[Symbol.metadata]??null):void 0;f=[(t=ve).uint32.bind(t)],d=[(e=ve).uint16.bind(e)],p=[(n=ve).uint16.bind(n)],g=[(r=ve).uint16.bind(r)],m=[(i=ve).uint32.bind(i)],y=[(s=ve).uint32.bind(s)],v=[(o=ve).uint32.bind(o)],b=[(a=ve).uint32.bind(a)],w=[(c=ve).uint16.bind(c)],_=[(l=ve).uint16.bind(l)],Lc(this,null,f,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:A},x,O),Lc(this,null,d,{kind:"accessor",name:"versionNeeded",static:!1,private:!1,access:{has:t=>"versionNeeded"in t,get:t=>t.versionNeeded,set:(t,e)=>{t.versionNeeded=e}},metadata:A},T,L),Lc(this,null,p,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:A},C,I),Lc(this,null,g,{kind:"accessor",name:"compressionMethod",static:!1,private:!1,access:{has:t=>"compressionMethod"in t,get:t=>t.compressionMethod,set:(t,e)=>{t.compressionMethod=e}},metadata:A},N,M),Lc(this,null,m,{kind:"accessor",name:"datetime",static:!1,private:!1,access:{has:t=>"datetime"in t,get:t=>t.datetime,set:(t,e)=>{t.datetime=e}},metadata:A},D,R),Lc(this,null,y,{kind:"accessor",name:"crc32",static:!1,private:!1,access:{has:t=>"crc32"in t,get:t=>t.crc32,set:(t,e)=>{t.crc32=e}},metadata:A},B,P),Lc(this,null,v,{kind:"accessor",name:"compressedSize",static:!1,private:!1,access:{has:t=>"compressedSize"in t,get:t=>t.compressedSize,set:(t,e)=>{t.compressedSize=e}},metadata:A},j,z),Lc(this,null,b,{kind:"accessor",name:"uncompressedSize",static:!1,private:!1,access:{has:t=>"uncompressedSize"in t,get:t=>t.uncompressedSize,set:(t,e)=>{t.uncompressedSize=e}},metadata:A},U,F),Lc(this,null,w,{kind:"accessor",name:"nameLength",static:!1,private:!1,access:{has:t=>"nameLength"in t,get:t=>t.nameLength,set:(t,e)=>{t.nameLength=e}},metadata:A},W,H),Lc(this,null,_,{kind:"accessor",name:"extraLength",static:!1,private:!1,access:{has:t=>"extraLength"in t,get:t=>t.extraLength,set:(t,e)=>{t.extraLength=e}},metadata:A},$,q),Lc(null,u={value:h},S,{kind:"class",name:h.name,metadata:A},null,E),V=h=u.value,A&&Object.defineProperty(h,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:A}),Cc(h,E)}_source;#ot=Cc(this,x,void 0);get signature(){return this.#ot}set signature(t){this.#ot=t}check(){if(67324752!==this.signature)throw A("EINVAL","Invalid Zip file: Local file header has invalid signature: "+this.signature)}#be=(Cc(this,O),Cc(this,T,void 0));get versionNeeded(){return this.#be}set versionNeeded(t){this.#be=t}#g=(Cc(this,L),Cc(this,C,void 0));get flags(){return this.#g}set flags(t){this.#g=t}#we=(Cc(this,I),Cc(this,N,void 0));get compressionMethod(){return this.#we}set compressionMethod(t){this.#we=t}#_e=(Cc(this,M),Cc(this,D,void 0));get datetime(){return this.#_e}set datetime(t){this.#_e=t}get lastModified(){return kc(this.datetime)}#Se=(Cc(this,R),Cc(this,B,void 0));get crc32(){return this.#Se}set crc32(t){this.#Se=t}#Ee=(Cc(this,P),Cc(this,j,void 0));get compressedSize(){return this.#Ee}set compressedSize(t){this.#Ee=t}#ke=(Cc(this,z),Cc(this,U,void 0));get uncompressedSize(){return this.#ke}set uncompressedSize(t){this.#ke=t}#xe=(Cc(this,F),Cc(this,W,void 0));get nameLength(){return this.#xe}set nameLength(t){this.#xe=t}#Oe=(Cc(this,H),Cc(this,$,void 0));get extraLength(){return this.#Oe}set extraLength(t){this.#Oe=t}name=Cc(this,q);extra;get size(){return V.size+this.nameLength+this.extraLength}get useUTF8(){return!!(2048&this.flags)}static async from(t,e){const n=await t.get(e,V.size),r=new V(n.buffer,n.byteOffset);return r._source=t,e+=V.size,r.name=await Oc(t,r.useUTF8,e,r.nameLength),e+=r.nameLength,r.extra=await t.get(e,r.extraLength),e+=r.extraLength,r}};return V=h})(),Ic=((()=>{var t,e;let n,r,i,s,o=[ge.packed("ExtraDataRecord")],a=[],c=be.typed(Uint8Array),l=[],u=[],h=[],f=[];var d=class extends c{static{r=this}static{const p="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(t=ve).uint32.bind(t)],s=[(e=ve).uint32.bind(e)],Lc(this,null,i,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:p},l,u),Lc(this,null,s,{kind:"accessor",name:"length",static:!1,private:!1,access:{has:t=>"length"in t,get:t=>t.length,set:(t,e)=>{t.length=e}},metadata:p},h,f),Lc(null,n={value:r},o,{kind:"class",name:r.name,metadata:p},null,a),d=r=n.value,p&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p}),Cc(r,a)}_source;#ot=Cc(this,l,void 0);get signature(){return this.#ot}set signature(t){this.#ot=t}check(){if(134630224!=this.signature)throw A("EINVAL","Invalid archive extra data record signature: "+this.signature)}#at=(Cc(this,u),Cc(this,h,void 0));get length(){return this.#at}set length(t){this.#at=t}extraField=Cc(this,f);static async from(t,e){const n=await t.get(e,d.size),r=new d(n.buffer,n.byteOffset);return r._source=t,e+=d.size,r.extraField=await t.get(e,r.length),r}};d=r})(),(()=>{var t,e,n,r,i,s,o,a,c,l,u,h,f,d,p,g,m;let y,v,b,w,_,S,E,k,x,O,T,L,C,I,N,M,D,R,B,P=[ge.packed("FileEntry")],j=[],z=be.typed(Uint8Array),U=[],F=[],W=[],H=[],$=[],q=[],V=[],G=[],Y=[],K=[],X=[],J=[],Z=[],Q=[],tt=[],et=[],nt=[],rt=[],it=[],st=[],ot=[],at=[],ct=[],lt=[],ut=[],ht=[],ft=[],dt=[],pt=[],gt=[],mt=[],yt=[],vt=[],bt=[];var wt=class extends z{static{v=this}static{const A="function"==typeof Symbol&&Symbol.metadata?Object.create(z[Symbol.metadata]??null):void 0;b=[(t=ve).uint32.bind(t)],w=[(e=ve).uint8.bind(e)],_=[(n=ve).uint8.bind(n)],S=[(r=ve).uint16.bind(r)],E=[(i=ve).uint16.bind(i)],k=[(s=ve).uint16.bind(s)],x=[(o=ve).uint32.bind(o)],O=[(a=ve).uint32.bind(a)],T=[(c=ve).uint32.bind(c)],L=[(l=ve).uint32.bind(l)],C=[(u=ve).uint16.bind(u)],I=[(h=ve).uint16.bind(h)],N=[(f=ve).uint16.bind(f)],M=[(d=ve).uint16.bind(d)],D=[(p=ve).uint16.bind(p)],R=[(g=ve).uint32.bind(g)],B=[(m=ve).uint32.bind(m)],Lc(this,null,b,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:A},U,F),Lc(this,null,w,{kind:"accessor",name:"zipVersion",static:!1,private:!1,access:{has:t=>"zipVersion"in t,get:t=>t.zipVersion,set:(t,e)=>{t.zipVersion=e}},metadata:A},W,H),Lc(this,null,_,{kind:"accessor",name:"attributeCompat",static:!1,private:!1,access:{has:t=>"attributeCompat"in t,get:t=>t.attributeCompat,set:(t,e)=>{t.attributeCompat=e}},metadata:A},$,q),Lc(this,null,S,{kind:"accessor",name:"versionNeeded",static:!1,private:!1,access:{has:t=>"versionNeeded"in t,get:t=>t.versionNeeded,set:(t,e)=>{t.versionNeeded=e}},metadata:A},V,G),Lc(this,null,E,{kind:"accessor",name:"flag",static:!1,private:!1,access:{has:t=>"flag"in t,get:t=>t.flag,set:(t,e)=>{t.flag=e}},metadata:A},Y,K),Lc(this,null,k,{kind:"accessor",name:"compressionMethod",static:!1,private:!1,access:{has:t=>"compressionMethod"in t,get:t=>t.compressionMethod,set:(t,e)=>{t.compressionMethod=e}},metadata:A},X,J),Lc(this,null,x,{kind:"accessor",name:"datetime",static:!1,private:!1,access:{has:t=>"datetime"in t,get:t=>t.datetime,set:(t,e)=>{t.datetime=e}},metadata:A},Z,Q),Lc(this,null,O,{kind:"accessor",name:"crc32",static:!1,private:!1,access:{has:t=>"crc32"in t,get:t=>t.crc32,set:(t,e)=>{t.crc32=e}},metadata:A},tt,et),Lc(this,null,T,{kind:"accessor",name:"compressedSize",static:!1,private:!1,access:{has:t=>"compressedSize"in t,get:t=>t.compressedSize,set:(t,e)=>{t.compressedSize=e}},metadata:A},nt,rt),Lc(this,null,L,{kind:"accessor",name:"uncompressedSize",static:!1,private:!1,access:{has:t=>"uncompressedSize"in t,get:t=>t.uncompressedSize,set:(t,e)=>{t.uncompressedSize=e}},metadata:A},it,st),Lc(this,null,C,{kind:"accessor",name:"nameLength",static:!1,private:!1,access:{has:t=>"nameLength"in t,get:t=>t.nameLength,set:(t,e)=>{t.nameLength=e}},metadata:A},ot,at),Lc(this,null,I,{kind:"accessor",name:"extraLength",static:!1,private:!1,access:{has:t=>"extraLength"in t,get:t=>t.extraLength,set:(t,e)=>{t.extraLength=e}},metadata:A},ct,lt),Lc(this,null,N,{kind:"accessor",name:"commentLength",static:!1,private:!1,access:{has:t=>"commentLength"in t,get:t=>t.commentLength,set:(t,e)=>{t.commentLength=e}},metadata:A},ut,ht),Lc(this,null,M,{kind:"accessor",name:"startDisk",static:!1,private:!1,access:{has:t=>"startDisk"in t,get:t=>t.startDisk,set:(t,e)=>{t.startDisk=e}},metadata:A},ft,dt),Lc(this,null,D,{kind:"accessor",name:"internalAttributes",static:!1,private:!1,access:{has:t=>"internalAttributes"in t,get:t=>t.internalAttributes,set:(t,e)=>{t.internalAttributes=e}},metadata:A},pt,gt),Lc(this,null,R,{kind:"accessor",name:"externalAttributes",static:!1,private:!1,access:{has:t=>"externalAttributes"in t,get:t=>t.externalAttributes,set:(t,e)=>{t.externalAttributes=e}},metadata:A},mt,yt),Lc(this,null,B,{kind:"accessor",name:"headerRelativeOffset",static:!1,private:!1,access:{has:t=>"headerRelativeOffset"in t,get:t=>t.headerRelativeOffset,set:(t,e)=>{t.headerRelativeOffset=e}},metadata:A},vt,bt),Lc(null,y={value:v},P,{kind:"class",name:v.name,metadata:A},null,j),wt=v=y.value,A&&Object.defineProperty(v,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:A}),Cc(v,j)}_source;#ot=Cc(this,U,void 0);get signature(){return this.#ot}set signature(t){this.#ot=t}check(){if(33639248!=this.signature)throw A("EINVAL","Invalid Zip file: Central directory record has invalid signature: "+this.signature)}#Te=(Cc(this,F),Cc(this,W,void 0));get zipVersion(){return this.#Te}set zipVersion(t){this.#Te=t}#Le=(Cc(this,H),Cc(this,$,void 0));get attributeCompat(){return this.#Le}set attributeCompat(t){this.#Le=t}#be=(Cc(this,q),Cc(this,V,void 0));get versionNeeded(){return this.#be}set versionNeeded(t){this.#be=t}#Ce=(Cc(this,G),Cc(this,Y,void 0));get flag(){return this.#Ce}set flag(t){this.#Ce=t}get useUTF8(){return!!(2048&this.flag)}get isEncrypted(){return!!(1&this.flag)}#we=(Cc(this,K),Cc(this,X,void 0));get compressionMethod(){return this.#we}set compressionMethod(t){this.#we=t}#_e=(Cc(this,J),Cc(this,Z,void 0));get datetime(){return this.#_e}set datetime(t){this.#_e=t}get lastModified(){return kc(this.datetime)}#Se=(Cc(this,Q),Cc(this,tt,void 0));get crc32(){return this.#Se}set crc32(t){this.#Se=t}#Ee=(Cc(this,et),Cc(this,nt,void 0));get compressedSize(){return this.#Ee}set compressedSize(t){this.#Ee=t}#ke=(Cc(this,rt),Cc(this,it,void 0));get uncompressedSize(){return this.#ke}set uncompressedSize(t){this.#ke=t}#xe=(Cc(this,st),Cc(this,ot,void 0));get nameLength(){return this.#xe}set nameLength(t){this.#xe=t}#Oe=(Cc(this,at),Cc(this,ct,void 0));get extraLength(){return this.#Oe}set extraLength(t){this.#Oe=t}#Ae=(Cc(this,lt),Cc(this,ut,void 0));get commentLength(){return this.#Ae}set commentLength(t){this.#Ae=t}#Ie=(Cc(this,ht),Cc(this,ft,void 0));get startDisk(){return this.#Ie}set startDisk(t){this.#Ie=t}#Ne=(Cc(this,dt),Cc(this,pt,void 0));get internalAttributes(){return this.#Ne}set internalAttributes(t){this.#Ne=t}#Me=(Cc(this,gt),Cc(this,mt,void 0));get externalAttributes(){return this.#Me}set externalAttributes(t){this.#Me=t}#De=(Cc(this,yt),Cc(this,vt,void 0));get headerRelativeOffset(){return this.#De}set headerRelativeOffset(t){this.#De=t}name=Cc(this,bt);extra;comment;get size(){return Se(wt)+this.nameLength+this.extraLength+this.commentLength}get isDirectory(){return!!(16&this.externalAttributes)||"/"==this.name.at(-1)}get isFile(){return!this.isDirectory}async loadContents(){const t=await this._source.get(this.headerRelativeOffset,Se(Ac)),{compressionMethod:e,size:n,name:r}=new Ac(t.buffer,t.byteOffset),i=await this._source.get(this.headerRelativeOffset+n,this.compressedSize),s=Ec[e];if("function"!=typeof s)throw A("EINVAL",`Invalid compression method on file "${r}": ${e in wc?wc[e]:e.toString()}`);this.contents=s(i,this.compressedSize,this.uncompressedSize,this.flag)}contents;get data(){return this.contents}static async from(t,e){const n=await t.get(e,wt.size),r=new wt(n.buffer,n.byteOffset);return r._source=t,e+=wt.size,r.name=await Oc(t,r.useUTF8,e,r.nameLength),e+=r.nameLength,r.extra=await t.get(e,r.extraLength),e+=r.extraLength,r.comment=await Oc(t,r.useUTF8,e,r.commentLength),r}};return wt=v})()),Nc=((()=>{var t,e;let n,r,i,s,o=[ge.packed("DigitalSignature")],a=[],c=be.typed(Uint8Array),l=[],u=[],h=[],f=[];var d=class extends c{static{r=this}static{const p="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(t=ve).uint32.bind(t)],s=[(e=ve).uint16.bind(e)],Lc(this,null,i,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:p},l,u),Lc(this,null,s,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:p},h,f),Lc(null,n={value:r},o,{kind:"class",name:r.name,metadata:p},null,a),d=r=n.value,p&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p}),Cc(r,a)}_source;#ot=Cc(this,l,void 0);get signature(){return this.#ot}set signature(t){this.#ot=t}check(){if(84233040!=this.signature)throw A("EINVAL","Invalid digital signature signature: "+this.signature)}#n=(Cc(this,u),Cc(this,h,void 0));get size(){return this.#n}set size(t){this.#n=t}signatureData=Cc(this,f);static async from(t,e){const n=await t.get(e,d.size),r=new d(n.buffer,n.byteOffset);return r._source=t,e+=d.size,r.signatureData=await t.get(e,r.size),r}};d=r})(),(()=>{var t,e,n,r,i,s,o,a;let c,l,u,h,f,d,p,g,m,y,v=[ge.packed("Header")],b=[],w=be.typed(Uint8Array),_=[],S=[],E=[],k=[],x=[],O=[],T=[],L=[],C=[],I=[],N=[],M=[],D=[],R=[],B=[],P=[];return class extends w{static{l=this}static{const A="function"==typeof Symbol&&Symbol.metadata?Object.create(w[Symbol.metadata]??null):void 0;u=[(t=ve).uint32.bind(t)],h=[(e=ve).uint16.bind(e)],f=[(n=ve).uint16.bind(n)],d=[(r=ve).uint16.bind(r)],p=[(i=ve).uint16.bind(i)],g=[(s=ve).uint32.bind(s)],m=[(o=ve).uint32.bind(o)],y=[(a=ve).uint16.bind(a)],Lc(this,null,u,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:A},_,S),Lc(this,null,h,{kind:"accessor",name:"disk",static:!1,private:!1,access:{has:t=>"disk"in t,get:t=>t.disk,set:(t,e)=>{t.disk=e}},metadata:A},E,k),Lc(this,null,f,{kind:"accessor",name:"entriesDisk",static:!1,private:!1,access:{has:t=>"entriesDisk"in t,get:t=>t.entriesDisk,set:(t,e)=>{t.entriesDisk=e}},metadata:A},x,O),Lc(this,null,d,{kind:"accessor",name:"diskEntryCount",static:!1,private:!1,access:{has:t=>"diskEntryCount"in t,get:t=>t.diskEntryCount,set:(t,e)=>{t.diskEntryCount=e}},metadata:A},T,L),Lc(this,null,p,{kind:"accessor",name:"totalEntryCount",static:!1,private:!1,access:{has:t=>"totalEntryCount"in t,get:t=>t.totalEntryCount,set:(t,e)=>{t.totalEntryCount=e}},metadata:A},C,I),Lc(this,null,g,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:A},N,M),Lc(this,null,m,{kind:"accessor",name:"offset",static:!1,private:!1,access:{has:t=>"offset"in t,get:t=>t.offset,set:(t,e)=>{t.offset=e}},metadata:A},D,R),Lc(this,null,y,{kind:"accessor",name:"commentLength",static:!1,private:!1,access:{has:t=>"commentLength"in t,get:t=>t.commentLength,set:(t,e)=>{t.commentLength=e}},metadata:A},B,P),Lc(null,c={value:l},v,{kind:"class",name:l.name,metadata:A},null,b),l=c.value,A&&Object.defineProperty(l,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:A}),Cc(l,b)}_source;#ot=Cc(this,_,void 0);get signature(){return this.#ot}set signature(t){this.#ot=t}check(){if(101010256!=this.signature)throw A("EINVAL","Invalid Zip file: End of central directory record has invalid signature: 0x"+this.signature.toString(16))}#Re=(Cc(this,S),Cc(this,E,void 0));get disk(){return this.#Re}set disk(t){this.#Re=t}#Be=(Cc(this,k),Cc(this,x,void 0));get entriesDisk(){return this.#Be}set entriesDisk(t){this.#Be=t}#Pe=(Cc(this,O),Cc(this,T,void 0));get diskEntryCount(){return this.#Pe}set diskEntryCount(t){this.#Pe=t}#je=(Cc(this,L),Cc(this,C,void 0));get totalEntryCount(){return this.#je}set totalEntryCount(t){this.#je=t}#n=(Cc(this,I),Cc(this,N,void 0));get size(){return this.#n}set size(t){this.#n=t}#E=(Cc(this,M),Cc(this,D,void 0));get offset(){return this.#E}set offset(t){this.#E=t}#Ae=(Cc(this,R),Cc(this,B,void 0));get commentLength(){return this.#Ae}set commentLength(t){this.#Ae=t}comment=Cc(this,P)},l})());class Mc extends(xo(fn)){label;data;lazy;files=new Map;directories=new Map;_time=Date.now();_ready=!1;eocd;async ready(){if(await super.ready(),this._ready)return;if(this._ready=!0,this.eocd=await async function(t){for(let e=t.size-22;e>t.size-65535;e--){const n=await t.get(e,22);if(101010256==(n[0]|n[1]<<8|n[2]<<16|n[3]<<24)>>>0){W("zipfs: found End of Central Directory signature at 0x"+e.toString(16));const r=new Nc(n.buffer,n.byteOffset);return r._source=t,r.comment=await Oc(t,!0,e+Nc.size,r.commentLength),r}}throw j(A("EINVAL","zipfs: could not locate End of Central Directory signature"))}(this.data),this.eocd.disk!=this.eocd.entriesDisk)throw A("EINVAL","ZipFS does not support spanned zip files.");let t=this.eocd.offset;if(4294967295===t)throw A("EINVAL","ZipFS does not support Zip64.");const e=t+this.eocd.size;for(;t<e;){const e=await Ic.from(this.data,t);if(this.lazy||await e.loadContents(),e.name.startsWith("/"))throw A("EPERM","Unexpectedly encountered an absolute path in a zip file.");const n=e.name.endsWith("/")?e.name.slice(0,-1):e.name;this.files.set("/"+n,e),t+=e.size}for(const t of this.files.keys()){const{dir:e,base:n}=Ue(t);this.directories.has(e)||this.directories.set(e,new Set),this.directories.get(e).add(n)}for(const t of this.directories.keys()){const{dir:e,base:n}=Ue(t);""!=n&&(this.directories.has(e)||this.directories.set(e,new Set),this.directories.get(e).add(n))}}constructor(t,e,n=!1){super(544893296,"zipfs"),this.label=t,this.data=e,this.lazy=n}usage(){return{totalSpace:this.data.size,freeSpace:0}}async stat(t){return this.statSync(t)}statSync(t){if(this.directories.has(t))return new en({mode:365|Lt,size:4096,mtimeMs:this._time,ctimeMs:this._time,atimeMs:Date.now(),birthtimeMs:this._time});const e=this.files.get(t);if(!e)throw A("ENOENT");return new en({mode:365|(e.isDirectory?Lt:Ot),size:e.uncompressedSize,mtimeMs:e.lastModified.getTime()})}async readdir(t){if(!((await this.stat(t)).mode&Lt))throw A("ENOTDIR");const e=this.directories.get(t);if(!e)throw A("ENODATA");return Array.from(e)}readdirSync(t){if(!(this.statSync(t).mode&Lt))throw A("ENOTDIR");const e=this.directories.get(t);if(!e)throw A("ENODATA");return Array.from(e)}async read(t,e,n,r){if(this.directories.has(t))throw A("EISDIR");const i=this.files.get(t)??g(A("ENOENT"));i.contents||await i.loadContents(),e.set(i.contents.subarray(n,r))}readSync(t,e,n,r){if(this.directories.has(t))throw A("EISDIR");const i=this.files.get(t)??g(A("ENOENT"));if(!i.contents)throw i.loadContents(),A("EAGAIN");e.set(i.contents.subarray(n,r))}}const Dc={name:"Zip",options:{data:{type:[ArrayBuffer,Object.getPrototypeOf(Uint8Array),function(t){return"object"==typeof t&&null!==t&&"size"in t&&"number"==typeof t.size&&"get"in t&&"function"==typeof t.get}],required:!0},name:{type:"string",required:!1},lazy:{type:"boolean",required:!1}},isAvailable:()=>!0,create:t=>new Mc(t.name??"",function(t){if(t instanceof ArrayBuffer||"object"==typeof(e=t)&&null!==e&&"SharedArrayBuffer"===e.constructor.name)return{size:t.byteLength,get:(e,n)=>new Uint8Array(t,e,n),set(e,n){new Uint8Array(t,e,n.byteLength).set(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}};var e;if(ArrayBuffer.isView(t))return{size:t.byteLength,get:(e,n)=>new Uint8Array(t.buffer,t.byteOffset+e,n),set(e,n){new Uint8Array(t.buffer,t.byteOffset+e,n.byteLength).set(new Uint8Array(n.buffer,n.byteOffset,n.byteLength))}};if("object"==typeof t&&null!==t&&"size"in t&&"number"==typeof t.size&&"function"==typeof t.get)return t;throw j(A("EINVAL","Invalid zip data source"))}(t.data),t.lazy)};os(class extends fn{index;constructor(t,e,n=new un){super(t,e),this.index=n}usage(){return this.index.usage()}pathsForRename(t,e){if(!this.index.has(t))throw A("ENOENT");if((je(e)+"/").startsWith(t+"/"))throw A("EBUSY");const n=[];for(const[r,i]of this.index.entries()){const s=Pe(t,r);if(s.startsWith(".."))continue;let o=Be(e,s);o.endsWith("/")&&(o=o.slice(0,-1)),n.push({from:r,to:o,inode:i})}return n.sort(((t,e)=>e.from.length-t.from.length)),n}async rename(t,e){if(t==e)return;const n=this.pathsForRename(t,e),r=new Map;for(const{from:t,to:e,inode:i}of n){const n=new Uint8Array(i.size);await this.read(t,n,0,i.size),r.set(e,n),this.index.delete(t),await this.remove(t),this.index.has(e)&&await this.remove(e)}n.reverse();for(const{to:t,inode:e}of n){const n=r.get(t);this.index.set(t,e),(e.mode&Et)==Lt?await(this._mkdir?.(t,e)):await this.write(t,n,0)}}renameSync(t,e){if(t==e)return;const n=this.pathsForRename(t,e),r=new Map;for(const{from:t,to:e,inode:i}of n){const n=new Uint8Array(i.size);this.readSync(t,n,0,i.size),r.set(e,n),this.index.delete(t),this.removeSync(t),this.index.has(e)&&this.removeSync(e)}n.reverse();for(const{to:t,inode:e}of n){const n=r.get(t);this.index.set(t,e),(e.mode&Et)==Lt?this._mkdirSync?.(t,e):this.writeSync(t,n,0)}}async stat(t){const e=this.index.get(t);if(!e)throw A("ENOENT");return e}statSync(t){const e=this.index.get(t);if(!e)throw A("ENOENT");return e}async touch(t,e){(this.index.get(t)??g(A("ENOENT"))).update(e)}touchSync(t,e){(this.index.get(t)??g(A("ENOENT"))).update(e)}_remove(t,e){const n=this.index.get(t);if(!n)throw A("ENOENT");const r=(n.mode&Et)==Lt;if(!r&&!e)throw A("ENOTDIR");if(r&&e)throw A("EISDIR");r||this.index.delete(t)}async unlink(t){this._remove(t,!0),await this.remove(t)}unlinkSync(t){this._remove(t,!0),this.removeSync(t)}async rmdir(t){if(this._remove(t,!1),(await this.readdir(t)).length)throw A("ENOTEMPTY");this.index.delete(t),await this.remove(t)}rmdirSync(t){if(this._remove(t,!1),this.readdirSync(t).length)throw A("ENOTEMPTY");this.index.delete(t),this.removeSync(t)}create(t,e){if(this.index.has(t))throw A("EEXIST");const n=this.index.get(je(t));if(!n)throw A("ENOENT");const r=this.index._alloc(),i=new en({ino:r,data:r+1,mode:e.mode,size:0,uid:n.mode&It?n.uid:e.uid,gid:n.mode&Nt?n.gid:e.gid,nlink:1});return this.index.set(t,i),i}async createFile(t,e){return e.mode|=Ot,this.create(t,e)}createFileSync(t,e){return e.mode|=Ot,this.create(t,e)}async mkdir(t,e){e.mode|=Lt;const n=this.create(t,e);return await(this._mkdir?.(t,e)),n}mkdirSync(t,e){e.mode|=Lt;const n=this.create(t,e);return this._mkdirSync?.(t,e),n}link(t,e){throw A("ENOSYS")}linkSync(t,e){throw A("ENOSYS")}async readdir(t){return Object.keys(this.index.directoryEntries(t))}readdirSync(t){return Object.keys(this.index.directoryEntries(t))}async sync(){}syncSync(){}}),new WeakMap;class Rc{get name(){return Bc.name}constructor(t){this.storage=t}clear(){this.storage.clear()}clearSync(){this.storage.clear()}async sync(){}transaction(){return new _n(this)}keys(){return Object.keys(this.storage).map((t=>Number(t)))}get(t){const e=this.storage.getItem(t.toString());if("string"==typeof e)return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(e)}set(t,e){try{this.storage.setItem(t.toString(),E(e))}catch{throw A("ENOSPC")}}delete(t){try{this.storage.removeItem(t.toString())}catch(e){throw A("EIO",`Unable to delete '${t}': ${e}`)}}}const Bc={name:"WebStorage",options:{storage:{type:"object",required:!1}},isAvailable:t=>(t?.storage??globalThis.localStorage)instanceof globalThis.Storage,create:({storage:t=globalThis.localStorage})=>new wn(new Rc(t))};Oo(fn);var Pc=__webpack_require__(213),jc=__webpack_require__(736),zc=__webpack_require__.n(jc);function Uc(){return((t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce(((t,e)=>t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")),""))(10)}const Fc=()=>{const t=window.navigator.userAgent,e=window.navigator.platform;let n=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?n="MacOS":-1!==["iPhone","iPad","iPod"].indexOf(e)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?n="Windows":/Android/.test(t)?n="Android":!n&&/Linux/.test(e)&&(n="Linux"),n};function Wc(t){const e=Hc(t).toLowerCase();return["png","jpg","jpeg","gif","bmp","webp"].includes(e)}function Hc(t){return t.slice((t.lastIndexOf(".")-1>>>0)+2)}function $c(t){switch(Hc(t).toLowerCase()){case"png":case"jpg":case"jpeg":case"gif":case"bmp":case"webp":return"icon-file-image";case"brs":case"xml":return"icon-file-code";default:return"icon-doc-text"}}function qc(t){switch(Hc(t).toLowerCase()){case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"gif":return"image/gif";case"bmp":return"image/bmp";case"webp":return"image/webp";default:return"application/octet-stream"}}function Vc(t,e=3e3,n=!1){zc()({text:t,duration:e,close:!1,gravity:"bottom",position:"center",stopOnFocus:!0,className:n?"toastify-error":"toastify-success"}).showToast()}const Gc=document.getElementById("code-selector"),Yc=document.querySelector(".folder-structure"),Kc=document.getElementById("file-system"),Xc=document.getElementById("image-panel"),Jc=document.getElementById("image-preview"),Zc=new Map;function Qc(t){!function(){const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n&&10===n.length&&t.push(n)}if(0!==t.length)for(let e=0;e<t.length;e++){const n=t[e];console.log("Migrating code snippet: ",n);let r=`Code #${e+1}`;const i=localStorage.getItem(n);if(i){let t=i;i.startsWith("@=")&&(r=i.substring(2,i.indexOf("=@")),t=i.substring(i.indexOf("=@")+2)),lr(`/code/${n}`)||fl(n,r,t),localStorage.removeItem(n)}}}();const e=new Array;Zc.clear();const n=Ir("/code");for(const t of n)if(10===t.length){const n=ll(`/code/${t}/.snippet`);e.push([n,t]),Zc.set(t,n)}e.sort(((t,e)=>t[0].toLowerCase().localeCompare(e[0].toLowerCase()))),Gc.length=1;for(let n=0;n<e.length;n++){const r=e[n][1],i=r===t;Gc.options[n+1]=new Option(e[n][0],r,!1,i)}tl(t,!1)}function tl(t,e){const n=Array.from(Gc.options);for(const r of n)r.value===t&&(r.text=e?`• ${r.text.replace(/^• /,"")}`:r.text.replace(/^• /,""))}async function el(t,e,n){try{if(!await async function(t){const e=await fetch(`./templates/${t}`);if(200!==e.status)return!1;const n=await e.arrayBuffer();return!!n&&(Gn("/mnt/zip"),Vn("/mnt/zip",await es({backend:Dc,data:n})),!0)}(n))return void Vc(`The template is missing: ${e}`,5e3,!0);const r=`/code/${t}`;sl("/mnt/zip",r),yr(`${r}/.snippet`,e)}catch(t){Vc(`Error loading template ${n}: ${t.message}`,5e3,!0)}}async function nl(t,e,n){try{const r=await fetch(`./templates/${n}`),i=await r.text();200===r.status&&i?fl(t,e,i):Vc(`The template is missing: ${e}`,5e3,!0)}catch(t){Vc(`Error loading template ${n}: ${t.message}`,5e3,!0)}}function rl(t){const e=al(`/code/${t}`);Kc.innerHTML=cl(e)}function il(t){let e={};return function t(n,r){const i=Ir(n);for(const s of i){const i=`${n}/${s}`,o=r?`${r}/${s}`:s;if(ur(i).isDirectory())t(i,o);else if(Wc(s)){const t=mr(i);e[o]=[t,{level:0}]}else if(".snippet"!==o){let t=mr(i,"utf-8");e[o]=[bc(t),{}]}}}(`/code/${t}`,""),function(t,e){e||(e={});var n={},r=[];mc(t,"",n,e);var i=0,s=0;for(var o in n){var a=n[o],c=a[0],l=a[1],u=0==l.level?0:8,h=(E=bc(o)).length,f=l.comment,d=f&&bc(f),p=d&&d.length,g=_c(l.extra);h>65535&&Za(11);var m=u?pc(c,l):c,y=m.length,v=uc();v.p(c),r.push(fc(l,{size:c.length,crc:v.d(),c:m,f:E,m:d,u:h!=o.length||d&&f.length!=p,o:i,compression:u})),i+=30+h+g+y,s+=76+2*(h+g)+(p||0)+y}for(var b=new Ea(s+22),w=i,_=s-i,S=0;S<r.length;++S){var E=r[S];Sc(b,E.o,E,E.f,E.u,E.c.length);var k=30+E.f.length+_c(E.extra);b.set(E.c,E.o+k),Sc(b,i,E,E.f,E.u,E.c.length,E.o,E.m),i+=16+k+(E.m?E.m.length:0)}return function(t,e,n,r,i){dc(t,e,101010256),dc(t,e+8,n),dc(t,e+10,n),dc(t,e+12,r),dc(t,e+16,i)}(b,i,r.length,_,w),b}(e)}function sl(t,e){const n=Ir(t);ol(e);for(const r of n){const n=`${t}/${r}`,i=`${e}/${r}`;ur(n).isDirectory()?sl(n,i):yr(i,mr(n))}}function ol(t){const e=t.split("/");let n="";for(const t of e)t&&(n+=`/${t}`,lr(n)||Ar(n))}function al(t){const e={},n=Ir(t);for(const r of n){const n=`${t}/${r}`;ur(n).isDirectory()?e[r]=al(n):e[r]=null}return e}function cl(t,e=""){let n="<ul>";for(const r in t){if(r.startsWith("."))continue;const i=e?`${e}/${r}`:r;if(null===t[r]){const t=$c(r);"main.brs"===r?(ml=i,n+=`<li data-type="file" data-path="${i}" class="selected"><i class="${t}"></i>${r}</li>`):n+=`<li data-type="file" data-path="${i}"><i class="${t}"></i>${r}</li>`}else n+=`<li data-type="folder"><i class="icon-folder-open"></i>${r}`,n+=cl(t[r],i),n+="</li>"}return n+="</ul>",n}function ll(t){try{return mr(t,"utf-8")}catch(e){return console.error("error reading ",t,e),""}}function ul(t){return lr(`/code/${t}`)}function hl(t){return Array.from(Zc.values()).includes(t)}function fl(t,e,n){try{Ar(`/code/${t}`),yr(`/code/${t}/.snippet`,e),Ar(`/code/${t}/source`),yr(`/code/${t}/source/main.brs`,n)}catch(t){Vc(`Error saving code snippet ${e}: ${t.message}`,5e3,!0)}}function dl(t,e){const n=`/code/${t}`;try{if(lr(`${n}/${ml}`))return yr(`${n}/${ml}`,e),!0;Vc(`File not found: ${ml}`,5e3,!0)}catch(t){Vc(`Error saving code snippet: ${t.message}`,5e3,!0)}return!1}function pl(t){const e=`/code/${t}`;lr(e)?gl(e):Vc("Code snippet not found",5e3,!0)}function gl(t){const e=Ir(t);for(const n of e){const e=`${t}/${n}`;if(ur(e).isDirectory())gl(e);else try{dr(e)}catch(t){console.error("error deleting file: ",e,t)}}try{Cr(t)}catch(e){console.error("error deleting folder: ",t,e)}}let ml="",yl=0;function vl(){Xc.style.display="none",Jc.src=""}function bl(t,e,n){const r=Ir(t);for(const s of r){const r=`${t}/${s}`,o=e?`${e}/${s}`:s,a=ur(r);if(!s.startsWith("."))if(a.isDirectory())bl(r,o,n);else{const t=mr(r);Wc(s)?n[o]=`data:image/${i=s,i.split(".").pop()??""};base64,${t.toString("base64")}`:n[o]=t.toString("utf-8")}}var i}var wl=__webpack_require__(237);__webpack_require__(829),__webpack_require__(218),__webpack_require__(923),__webpack_require__(576),__webpack_require__(236);class _l{tagElement;editor;config={lineWrapping:!0,theme:"vscode-dark",lineNumbers:!0,indentUnit:4,indentWithTabs:!0,electricChars:!1,matchBrackets:!0,autoCloseBrackets:'()[]{}``""',mode:"brightscript"};constructor(t,e){var n;this.tagElement=t,(n=wl).defineMode("brightscript",(function(t,e){const n="error";function r(t){return new RegExp(`^((${t.join(")|(")}))\\b`,"i")}const i=/^[+\-/*&\\^<>=]/,s=/^((<>)|(<=)|(>=)|(<<)|(>>))/,o=/^[.,;:$%!#&@?]/,a=/^[(){}[\]]/,c=/^[_A-Za-z]\w*(?=\()/,l=/^[_A-Za-z]\w*/,u=r(["and","or","not","mod"]);let h=["global","m"];const f=["getdefaultfont","clear","push","next","replace","write","writeline","close","open","state","update","addnew","tostr","toint"];h=h.concat(["LINE_NUM"]);const d=r(["dim","print","goto","library"]),p=r(["object","dynamic","boolean","string","integer","longinteger","double","float","void"]),g=r(["true","false","invalid"]),m=r(["box","createobject","getglobalaa","getlastruncompileerror","getlastrunruntimeerror","type","copyfile","createdirectory","deletefile","findmemberfunction","formatdrive","formatjson","getinterface","listdir","matchfiles","movefile","parsejson","readasciifile","rebootsystem","rungarbagecollector","sleep","strtoi","uptime","wait","writeasciifile","asc","chr","instr","lcase","left","len","mid","right","str","stri","string","stringi","substitute","tr","ucase","val","abs","atn","cdbl","cint","cos","csng","exp","fix","int","log","sgn","sin","sqr","tan"]),y=r(h),v=r(f),b=r(["sub","function"]),w=r(["endsub","endfunction"]),_=r(["while","if","for","try"]),S=r(["catch","continue for","continue while","else if","elseif","else","exit for","exit while","to","step","in","then","each","as","return","stop","throw"]),E=r(["next","endif","end if","endfor","end for","endwhile","end while","endtry","end try"]),k=r(["end"]),x=r(["do"]),O=r(["library"]),T=r(["rem"]);function L(t,e){e.currentIndent++}function C(t,e){e.currentIndent--}function A(t,r){if(t.eatSpace())return"space";if("'"===t.peek())return t.skipToEnd(),"comment";if(t.match(T))return t.skipToEnd(),"comment";if(t.match(/^((&H)|(&O))?[0-9.]/i,!1)&&!t.match(/^((&H)|(&O))?[0-9.]+[a-z_]/i,!1)){let e=!1;if((t.match(/^\d*\.\d+/i)||t.match(/^\d+\.\d*/)||t.match(/^\.\d+/))&&(e=!0),e)return t.eat(/J/i),"number";let n=!1;if(t.match(/^&H[0-9a-f]+/i)||t.match(/^&O[0-7]+/i)?n=!0:t.match(/^[1-9]\d*F?/)?(t.eat(/J/i),n=!0):t.match(/^0(?![\dx])/i)&&(n=!0),n)return t.eat(/L/i),"number"}if(t.match('"'))return r.tokenize=function(t){const r=1==t.length,i="string";return function(s,o){for(;!s.eol();){if(s.eatWhile(/[^'"]/),s.match(t))return o.tokenize=A,i;s.eat(/['"]/)}if(r){if(e.singleLineStringErrors)return n;o.tokenize=A}return i}}(t.current()),r.tokenize(t,r);if(t.match(s)||t.match(i)||t.match(u))return"operator";if(t.match(o))return null;if(t.match(a))return"bracket";if(t.match(O))return r.doInCurrentLine=!0,"control";if(t.match(x))return L(0,r),r.doInCurrentLine=!0,"keyword";if(t.match(b))return r.doInCurrentLine?r.doInCurrentLine=!1:L(0,r),"keyword";if(t.match(_))return r.doInCurrentLine?r.doInCurrentLine=!1:L(0,r),"control";if(t.match(S))return"control";if(t.match(k)){" "===t.peek()&&t.eatSpace();let e="keyword";return t.match(_,!1)&&(e="control"),C(0,r),C(0,r),e}return t.match(w)?(r.doInCurrentLine?r.doInCurrentLine=!1:C(0,r),"keyword"):t.match(E)?(r.doInCurrentLine?r.doInCurrentLine=!1:C(0,r),"control"):t.match(p)?"type":t.match(d)?"keyword":t.match(g)?"atom":t.match(v)?"variable-2":t.match(m)?"builtin":t.match(y)?"keyword":t.match(c)?"variable-2":t.match(l)?"variable":(t.next(),n)}return{electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:A,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1,ignoreKeyword:!1}},token:function(t,e){t.sol()&&(e.currentIndent+=e.nextLineIndent,e.nextLineIndent=0,e.doInCurrentLine=0);let r=function(t,e){let r=e.tokenize(t,e),i=t.current();return"."===i?(r=e.tokenize(t,e),i=t.current(),r&&("variable"===r.substr(0,8)||"builtin"===r||"keyword"===r)||f.indexOf(i.substring(1))>-1?("builtin"!==r&&"keyword"!==r||(r="variable"),f.indexOf(i.substr(1))>-1&&(r="variable-2"),r):n):r}(t,e);return e.lastToken={style:r,content:t.current()},"space"===r&&(r=null),r},indent:function(e,n){const r=n.replace(/(^\s+)|(\s+$)/g,"");return r.match(w)||r.match(k)||r.match(S)?t.indentUnit*(e.currentIndent-1):e.currentIndent<0?0:e.currentIndent*t.indentUnit},lineComment:"'"}})),n.defineMIME("text/brs","brightscript");const r="MacOS"===Fc();this.config.theme=Sl(e),this.editor=wl.fromTextArea(this.tagElement,this.config);const i=r?"Cmd-/":"Ctrl-/";this.editor.setOption("extraKeys",{[i]:function(t){t.toggleComment()}})}setMode(t){this.editor.setOption("mode",t)}}function Sl(t){return"light"===t?"coda":"vscode-dark"}const El=JSON.parse('{"UU":"brs-fiddle","rE":"2.0.13"}'),kl="brsFiddle",xl="MacOS"===Fc(),Ol=o()("lzma"),Tl=document.getElementById("brsCode"),Ll=document.querySelector("button.save"),Cl=document.querySelector("button.run"),Al=document.querySelector("button.clear-all"),Il=document.querySelector("button.break"),Nl=document.querySelector("button.resume"),Ml=document.querySelector("button.end"),Dl=document.querySelector("button.share"),Rl=document.querySelector("button.toggle-tree"),Bl=document.querySelector("main.editor"),Pl=document.querySelector("div.layout-separator"),jl=document.querySelector("div.code"),zl=document.querySelector("div.console"),Ul=document.getElementById("right-container"),Fl=document.getElementById("display"),Wl=document.getElementById("keyboard"),Hl=document.getElementById("gamepad"),$l=document.getElementById("audioSwitch"),ql=document.getElementById("audio-icon"),Vl=document.getElementById("darkTheme"),Gl=document.getElementById("theme-icon"),Yl=document.getElementById("code-selector"),Kl=document.getElementById("code-dialog"),Xl=document.getElementById("actionType"),Jl=document.getElementById("code-form"),Zl=document.getElementById("confirm-dialog"),Ql=document.getElementById("dialog-text"),tu=document.getElementById("confirm-button"),eu=document.getElementById("cancel-button"),nu=document.getElementById("more-options"),ru=document.getElementById("more-options-dropdown"),iu=document.querySelector(".folder-structure"),su=document.getElementById("file-system"),ou=su.innerHTML,au=document.getElementById("template-dialog"),cu=[{name:"Hello World (Draw2D)",path:"hello-world.brs"},{name:"Snake Game (Draw2D)",path:"snake-game.brs"},{name:"Ball Boing (Draw2D)",path:"ball-boing.brs"},{name:"Collisions (Draw2D)",path:"collisions.zip"},{name:"Hello World (SceneGraph)",path:"hello-world.zip"},{name:"Simple Task (SceneGraph)",path:"simple-task.zip"},{name:"Bounding Rect (SceneGraph)",path:"bounding-rect.zip"},{name:"Label List (SceneGraph)",path:"label-list.zip"},{name:"Markup Grid (SceneGraph)",path:"markup-grid.zip"},{name:"Keyboard Dlg (SceneGraph)",path:"keyboard-dialog.zip"},{name:"Video List (SceneGraph)",path:"video-list.zip"}],lu=function(){let t={codeId:"",audio:!0,keys:!0,gamePads:!0,darkTheme:globalThis.matchMedia("(prefers-color-scheme: dark)")?.matches,showFileTree:!0};const e=localStorage.getItem(`${kl}.state`);return e&&(t=Object.assign(t,JSON.parse(e))),t}();$l.checked=lu.audio,Wl.checked=lu.keys,Hl.checked=lu.gamePads,Vl.checked=lu.darkTheme;const uu="Brightscript Debugger",hu={help:t=>{i.debug("help")},version:t=>{t.output(`<br />BrightScript Simulation Engine v${i.getVersion()}<br />`)}},fu=new(c())({welcome:`<span style='color: #2e71ff'>BrightScript Console - ${El.UU} v${El.rE} -  brs-engine v${i.getVersion()}</span>`,container:"console-logs",commands:hu,prompt:uu,ignoreBadCommand:!0,autoFocus:!1});fu.idle(),Ll.addEventListener("click",Lu),Cl.addEventListener("click",Au),Al.addEventListener("click",Mu),Il.addEventListener("click",Iu),Nl.addEventListener("click",(function(){pu.running&&i.debug("cont")})),Ml.addEventListener("click",Nu),Dl.addEventListener("click",(function(){let t=du.editor.getValue();t&&""!==t.trim()?("0"!==Yl.value&&(t=`@=${Yl.options[Yl.selectedIndex].text.replace(/^• /,"")}=@${t}`),function(t){if(!t)return Promise.resolve(null);const e=[t.id,t.code];return Ol.compress(e).then((function(t){return zu()+"?code="+t}))}({id:yu,code:t}).then((function(t){navigator.clipboard.writeText(t),t.length>2048?Vc("Share URL copied to clipboard, but it's longer than 2048 bytes, consider exporting as a file instead!",7e3,!0):Vc("Share URL copied to clipboard")}))):Vc("There is no Source Code to share",3e3,!0)})),Rl.addEventListener("click",(function(){"none"!==iu.style.display?(iu.style.display="none",lu.showFileTree=!1):(iu.style.display="block",lu.showFileTree=!0),Uu();const t=jl.getBoundingClientRect(),e=iu?.getBoundingClientRect(),n=e&&"none"!==iu.style.display?t.width-e.width:t.width,r=t.height-40;du.editor.setSize(`${n}px`,`${r}px`),du.editor.refresh(),du.editor.focus()})),Pl.addEventListener("mousedown",(function(){mu=!0})),nu.addEventListener("click",(function(t){t.stopPropagation(),"block"===ru.style.display?ru.style.display="none":ru.style.display="block"})),document.addEventListener("click",(function(t){ru.contains(t.target)||t.target===nu||(ru.style.display="none")})),document.getElementById("templates-option")?.addEventListener("click",(function(){au.showModal()})),document.getElementById("rename-option")?.addEventListener("click",(function(){if(yu&&ul(yu)){Xl.value="rename";const t=Yl.options[Yl.selectedIndex].text;Jl.codeName.value=t.replace(/^• /,""),Kl.showModal()}else Vc("There is no code snippet selected to rename!",3e3,!0)})),document.getElementById("saveas-option")?.addEventListener("click",(function(){const t=du.editor.getValue();if(t?.trim()){if(yu&&ul(yu)){Xl.value="saveas";const t=Yl.options[Yl.selectedIndex].text+" (Copy)";Jl.codeName.value=t.replace(/^• /,"")}else Xl.value="save",Jl.codeName.value="";Kl.showModal()}else Vc("There is no Source Code to save",3e3,!0)})),document.getElementById("delete-option")?.addEventListener("click",(async function(){yu&&ul(yu)?await xu("Are you sure you want to delete this code?")&&(pl(yu),yu=Uc(),Tu(!0),su.innerHTML=ou,bu="",Vc("Code deleted from the browser local storage!",3e3)):Vc("There is no code snippet selected to delete!",3e3,!0)})),document.getElementById("export-option")?.addEventListener("click",(function(){let t=du.editor.getValue();t&&""!==t.trim()?function(t){const e={},n=`/code/${t}`;if(lr(n)){const r=ll(`${n}/.snippet`),i={};bl(n,"",i),e[t]={name:r,files:i};const s=r.toLowerCase().replaceAll(/\s+/g,"-").replace(/^• /,"").replaceAll(/[^a-z0-9-]/g,""),o=JSON.stringify(e,null,2),a=new Blob([o],{type:"application/json"}),c=URL.createObjectURL(a);(0,Pc.saveAs)(a,`${s}.json`),URL.revokeObjectURL(c)}else Vc("Code snippet not found",3e3,!0)}(yu):Vc("There is no Code Snippet to Export",3e3,!0)})),document.getElementById("export-all-option")?.addEventListener("click",(function(){const t={},e=Ir("/code");for(const n of e)if(10===n.length){const e=ll(`/code/${n}/.snippet`),r={};bl(`/code/${n}`,"",r),t[n]={name:e,files:r}}const n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download="codesnippets.json",s.click(),URL.revokeObjectURL(i)})),document.getElementById("import-option")?.addEventListener("click",(function(){(async function(){return new Promise(((t,e)=>{const n=document.createElement("input");n.type="file",n.accept=".json,.brs,application/json,text/brs",n.onchange=async n=>{const r=n.target.files?.[0];if(r)try{const e=await r.text();if(r.name.endsWith(".brs"))return fl(Uc(),r.name,e),void t();const n=JSON.parse(e);for(const t in n){const e=n[t],r=`/code/${t}`;lr(r)||Ar(r),yr(`${r}/.snippet`,e.name);for(const t in e.files){const n=`${r}/${t}`;ol(n.substring(0,n.lastIndexOf("/")));const i=e.files[t];if(i.startsWith("data:image/")){const t=i.split(",")[1];yr(n,Buffer.from(t,"base64"))}else yr(n,i)}}t()}catch(t){Vc("Failed to import code snippets",3e3,!0),e(t)}else e(new Error("No file selected"))},n.click()}))})().then((()=>{Vc("Code snippet(s) imported to the browser local storage!",3e3),yu?(Qc(yu),tl(yu,vu)):Tu(!0)}))}));let du,pu={id:"",running:!1},gu=document.getElementById("console-logs"),mu=!1,yu=Uc(),vu=!1,bu="",wu="";function _u(t,e){"loaded"===t?(pu=e,fu.output("<br />Executing source code...<br /><br />"),fu.idle()):"started"===t?(pu=e,console.info(`Execution started ${kl}`),Cl.style.display="none",Ml.style.display="inline",Il.style.display="inline"):"debug"===t?(function(t){if("stop"===t?.level)fu.output("<br />"),fu.setPrompt(),Nl.style.display="inline",Il.style.display="none";else if("continue"===t?.level)fu.idle(),Nl.style.display="none",Il.style.display="inline";else if("beacon"!==t?.level&&"string"==typeof t?.content){let e=t.content.replaceAll("<","&lt;").replaceAll(">","&gt;");if("print"===t.level){const t=`${uu}&gt; `.length;e.slice(-t)===`${uu}&gt; `&&(e=e.slice(0,e.length-t))}else"warning"===t.level?e="<span style='color: #d7ba7d;'>"+e+"</span>":"error"===t.level&&(e="<span style='color: #e95449;'>"+e+"</span>");fu.output(`<pre>${e}</pre>`)}}(e),Su()):"closed"!==t&&"error"!==t||(pu=e,console.info(`Execution terminated! ${t}: ${e}`),fu.idle(),Cl.style.display="inline",Ml.style.display="none",Nl.style.display="none",Il.style.display="none")}function Su(){if(gu.children.length){const t=gu.children[0],e=t.scrollHeight;t.scrollTo({top:e,left:0,behavior:"auto"})}}function Eu(){vu=!1,tl(yu,vu)}let ku=Yl.value;function xu(t){return new Promise((e=>{t&&(Ql.innerText=t),Zl.showModal(),tu.onclick=()=>{Zl.close(),e(!0)},eu.onclick=()=>{Zl.close(),e(!1)}}))}function Ou(t){ul(t)?(pu.running&&(i.terminate("EXIT_USER_NAV"),Mu()),yu=t,rl(t),bu=Hu(`/code/${t}/source/main.brs`)??"",lu.codeId=t,Uu(),Eu()):Vc("Could not find the code in the Local Storage!",3e3,!0)}function Tu(t){t&&Qc(""),pu.running&&(i.terminate("EXIT_USER_NAV"),Mu());const e=Fl.getContext("2d",{alpha:!1});e?.clearRect(0,0,Fl.width,Fl.height),bu="",du.editor.setValue(""),du.setMode("brightscript"),du.editor.focus(),lu.codeId="",Uu(),Eu()}function Lu(t){const e=du.editor.getValue();if(!e?.trim())return void Vc("There is no Source Code to save",3e3,!0);if("0"===Yl.value)return Xl.value="save",void Kl.showModal();const n=Yl.options[Yl.selectedIndex].text.replace(/^• /,"");dl(yu,e)&&(Yl.options[Yl.selectedIndex].text=n,bu=e,("boolean"!=typeof t||t)&&Vc("Code saved in the browser local storage!\nTo share it use the Share button.",5e3),Eu())}function Cu(){Kl.returnValue="",Jl.codeName.value="",du.editor.focus()}function Au(){if(lr(`/code/${yu}/manifest`)){vu&&Lu(!1);const t=il(yu);return void(t?function(t,e){i.execute(t,e,{clearDisplayOnExit:!1,debugOnCrash:!0,muteSound:!$l.checked},new Map([["source","auto-run-dev"]]))}(`${kl}.zip`,t.buffer):Vc("There was an error creating the ZIP file!",3e3,!0))}const t=du.editor.getValue();if(t&&""!==t.trim())try{"0"!==Yl.value&&vu&&Lu(!1),i.execute("main.brs",du.editor.getValue(),{clearDisplayOnExit:!1,debugOnCrash:!0,muteSound:!$l.checked})}catch(t){console.log(t),fu.output(`${t.name}: ${t.message}`),Su()}else Vc("There is no Source Code to run",3e3,!0)}function Iu(){pu.running?i.debug("break"):Vc("There is nothing running to debug",3e3,!0)}function Nu(){pu.running?i.terminate("EXIT_USER_NAV"):Vc("There is nothing running to terminate",3e3,!0)}function Mu(){fu.clear()}function Du(){i.setControlMode({keyboard:Wl.checked,gamePads:Hl.checked}),lu.keys=Wl.checked,lu.gamePads=Hl.checked,Uu(),Fl.focus()}function Ru(t,e){return xl&&t.code===e&&t.metaKey||!xl&&t.code===e&&t.ctrlKey}function Bu(){let t=Fl.width,e=Fl.height;globalThis.innerWidth>=1220?(t=Ul.getBoundingClientRect().width,e=Math.trunc(9*t/16)):(e=globalThis.innerHeight/3,t=Math.trunc(16*e/9),t>globalThis.innerWidth&&(t=globalThis.innerWidth,e=Math.trunc(9*t/16))),i.redraw(!1,t,e)}function Pu(){if(Bu(),globalThis.innerWidth>=1220){const{height:t}=jl.getBoundingClientRect();du.editor.setSize("100%",t-25+"px"),gu.style.height="100%"}else{du.editor.setSize("100%",`${Math.trunc(globalThis.innerHeight/3.5)}px`),jl.style.width="100%";const t=gu.getBoundingClientRect(),e=globalThis.innerHeight-t.top;gu.style.height=`${e}px`}Su()}function ju(t,e=globalThis.location.href){t=t.replaceAll(/[[\]]/g,"\\$&");const n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replaceAll("+"," ")):"":null}function zu(){let t=globalThis.location.origin+globalThis.location.pathname;return t.endsWith("/")&&(t=t.slice(0,-1)),t}function Uu(){localStorage.setItem(`${kl}.state`,JSON.stringify(lu))}function Fu(t){const e=t?"dark":"light";document.documentElement.dataset.theme=e,document.body.style.colorScheme=e,jl.style.colorScheme=e,zl.style.colorScheme=e,Ul.style.colorScheme=e,du&&du.editor.setOption("theme",Sl(e))}function Wu(){const t=document.querySelector(".code-content"),e=du.editor;iu?.addEventListener("click",(t=>{const n=t.target;if("LI"===n.tagName||"I"===n.tagName){const t=n.textContent?.trim(),r="folder"===n.dataset.type,i=n.dataset.path;if(t&&!r&&i){const t=`/code/${yu}/${i}`;if(wu===t)return void e.focus();if(Wc(t))return void function(t){const e=mr(t),n=new Blob([e],{type:qc(t)}),r=URL.createObjectURL(n);Jc.src=r,Xc.style.display="block",yl++,setTimeout((()=>{yl--,0===yl&&vl(),URL.revokeObjectURL(r)}),1e4)}(t);vl(),"0"!==Yl.value&&vu&&Lu(!1),Hu(t),function(t){const e=Yc?.querySelector("li.selected");e&&e.classList.remove("selected"),t.classList.add("selected"),ml=t.dataset.path??""}(n)}e.focus()}})),t?.addEventListener("click",(t=>{const n=t.target;n.closest(".folder-structure")||n.closest(".CodeMirror")||e.focus()}))}function Hu(t){const e=du.editor,n=ll(t);let r;switch(Hc(t)){case"brs":r="brightscript";break;case"xml":r="xml";break;case"":r="properties";break;default:return void Vc("Unknown file cannot be loaded in the code editor.",3e3,!0)}return wu=t,e.setValue(n),e.setOption("mode",r),Eu(),e.focus(),n}Yl.addEventListener("mousedown",(async t=>{ku=Yl.value})),Yl.addEventListener("change",(async t=>{if(vu){if(!await xu("There are unsaved changes, do you want to discard and continue?"))return t.preventDefault(),void(Yl.value=ku);const e=Array.from(Yl.options);for(const[t,n]of e.entries()){const e=n.text.replace(/^• /,"");Yl.options[t].text=e}}"0"===Yl.value?(yu=Uc(),Tu(!1),su.innerHTML=ou):Ou(Yl.value),vl(),du?.editor?.clearHistory()})),Kl.addEventListener("close",(t=>{if("ok"===Kl.returnValue){const t=Jl.codeName.value.trim();if(t.length<3)return Vc("Code snippet name must have least 3 characters!",3e3,!0),void Cu();if(hl(t))return Vc("There is already a code snippet with this Name!",3e3,!0),void Cu();const e=du.editor.getValue();if("rename"===Xl.value)return function(t,e){const n=`/code/${t}/.snippet`;try{yr(n,e),Zc.set(t,e)}catch(t){Vc(`Error renaming code snippet: ${t.message}`,5e3,!0)}}(yu,t),Qc(yu),Vc("Code snippet renamed in the browser local storage.",5e3),void Cu();if("saveas"===Xl.value){const n=yu;yu=Uc(),function(t,e,n){const r=`/code/${t}`,i=`/code/${e}`;lr(r)?(sl(r,i),yr(`${i}/.snippet`,n)):Vc(`Code snippet not found: ${t}`,5e3,!0)}(n,yu,t),dl(yu,e)}else fl(yu,t,e);bu=e,lu.codeId=yu,Uu(),Qc(yu),Vc("Code saved in the browser local storage!\nTo share it use the Share button.",5e3),Eu()}Cu()})),Vl.addEventListener("click",(t=>{Gl.className=Vl.checked?"icon-moon":"icon-sun",lu.darkTheme=Vl.checked,Fu(lu.darkTheme),Uu()})),$l.addEventListener("click",(t=>{ql.className=$l.checked?"icon-sound-on":"icon-sound-off",lu.audio=$l.checked,i.setAudioMute(!lu.audio),Uu()})),Wl.addEventListener("click",Du),Hl.addEventListener("click",Du),globalThis.addEventListener("load",(async function(){Ll&&(Ll.title=xl?"CMD+S":"CTRL+S"),Cl&&(Cl.title=xl?"CMD+R":"CTRL+R"),Al&&(Al.title=xl?"CMD+L":"CTRL+L"),Ml&&(Ml.title=xl?"CTRL+ESC":"HOME"),Il&&(Il.title=xl?"CTRL+C":"CTRL+B"),function(){if(Tl&&(du=new _l(Tl,"dark"),xl)){const t=document.querySelector(".CodeMirror");t&&delete t.CodeMirror.constructor.keyMap.emacsy["Ctrl-V"]}Fu(lu.darkTheme);const{height:t}=jl.getBoundingClientRect();du.editor.setSize("100%",t-40+"px"),du.editor.on("change",(()=>{if("0"===Yl.value){const t=du.editor.getValue();if(t&&""===t.trim())return void(vu=!1)}du.editor.getValue()===bu?Eu():(vu=!0,tl(yu,vu))}))}(),Wu(),lu.showFileTree?iu.style.display="block":iu.style.display="none",await async function(){await is({mounts:{"/code":{backend:Bc}}})}(),function(){const t=document.getElementById("template-list");t.innerHTML="";for(const e of cu){const n=document.createElement("li");n.textContent=e.name,n.dataset.path=e.path,n.addEventListener("click",(async()=>{au.close(),hl(e.name)?Vc("There is already a code snippet with this Name!",3e3,!0):(yu=Uc(),"zip"===Hc(e.path)?await el(yu,e.name,e.path):await nl(yu,e.name,e.path),Qc(yu),Ou(yu))})),t.appendChild(n)}au.addEventListener("close",(()=>{du.editor.focus()}))}();const t=ju("code");if(t)return void(e=t,Ol.decompress(e).then((function(t){return{id:t[0]??null,code:t[1]??""}}))).then((function(t){t?.id&&t?.code&&(localStorage.setItem(t.id,t.code),localStorage.setItem(`${kl}.load`,t.id)),globalThis.location.href=zu()}));var e;const n=ju("id");if(n?.length)return localStorage.setItem(`${kl}.load`,n),void(globalThis.location.href=zu());const r=localStorage.getItem(`${kl}.load`)??lu.codeId;if(Qc(r),r?.length&&Ou(r),localStorage.removeItem(`${kl}.load`),Fl){let t="https://brs-cors-proxy.up.railway.app/";"localhost"===globalThis.location.hostname&&(t=""),i.initialize({developerId:kl,corsProxy:t},{debugToConsole:!1,disableKeys:!Wl.checked,disableGamePads:!Hl.checked}),i.subscribe(kl,_u),Pu(),fu.onInput(((t,e,n)=>{n||i.debug(`${t} ${e.join(" ")}`)}))}du.editor.focus(),function(){let t,e,n=0;for(e in localStorage)localStorage.hasOwnProperty(e)&&(t=2*(localStorage[e].length+e.length),n+=t);console.log("Current Local Storage usage is "+(n/1024).toFixed(2)+" KB"),(n/1024).toFixed(2)}()}),!1),globalThis.addEventListener("resize",Pu,!1),document.addEventListener("keydown",(function(t){i.setControlMode({keyboard:!du.editor.hasFocus()&&Wl.checked,gamePads:Hl.checked}),Ru(t,"KeyR")?(t.preventDefault(),Au()):Ru(t,"KeyS")?(t.preventDefault(),Lu()):Ru(t,"KeyL")?(t.preventDefault(),Mu()):pu.running&&(xl&&"KeyC"===t.code&&t.ctrlKey||!xl&&"KeyB"===t.code&&t.ctrlKey?(t.preventDefault(),Iu()):(xl&&"Escape"===t.code&&t.ctrlKey||!xl&&"Home"===t.code)&&(t.preventDefault(),Nu()))}),!1),document.addEventListener("mousemove",(function(t){if(mu&&(t.preventDefault(),Bl&&Ul&&jl&&zl)){const{x:e,width:n}=Bl.getBoundingClientRect(),r=n-(n-(t.clientX-e))+"px",i=Ul.getBoundingClientRect();jl.style.width=r,Ul.style.width=`${i.width}px`,Bu();const s=jl.getBoundingClientRect(),o=iu?.getBoundingClientRect(),a=o?s.width-o.width:s.width,c=s.height-40;du.editor.setSize(`${a}px`,`${c}px`),du.editor.refresh()}}),!1),document.addEventListener("mouseup",(function(){mu&&(Bu(),Su(),du.editor.refresh()),mu=!1}),!1),document.addEventListener("mousedown",(function(t){mu&&t.preventDefault()}),!1),globalThis.addEventListener("beforeunload",(t=>{if(vu){const e="You have unsaved changes. Are you sure you want to leave?";return t.returnValue=e,e}return null}))})(),brsFiddle=__webpack_exports__})();
//# sourceMappingURL=brsFiddle.min.js.map