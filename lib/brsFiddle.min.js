/*! For license information please see brsFiddle.min.js.LICENSE.txt */
var brsFiddle;(()=>{var __webpack_modules__={7:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}m(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&m(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var i,o,s,c;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function h(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function m(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[t];if(void 0===l)return!1;if("function"==typeof l)r(l,this,e);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)r(u[n],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,f(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,f(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return h(this,t,!0)},o.prototype.rawListeners=function(t){return h(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},42:t=>{window,t.exports=function(t){function e(e){for(var n,i,o=e[0],s=e[1],a=0,c=[];a<o.length;a++)i=o[a],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);for(l&&l(e);c.length;)c.shift()()}var n={},r={0:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(){return Promise.resolve()},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t};var o=window.webpackJsonpJsonUrl=window.webpackJsonpJsonUrl||[],s=o.push.bind(o);o.push=e,o=o.slice();for(var a=0;a<o.length;a++)e(o[a]);var l=s;return i(i.s=50)}([function(t,e,n){var r=n(26)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){function n(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(r,i)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(i,o){var s=t.apply(e,r);function a(t){n(s,i,o,a,l,"next",t)}function l(t){n(s,i,o,a,l,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r=n(1),i=n.n(r),o=n(0),s=n.n(o);e.a={msgpack:function(){return i()(s.a.mark((function t(){var e,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,30,7));case 2:return e=t.sent,r=e.default||e,t.abrupt("return",r());case 5:case"end":return t.stop()}}),t)})))()},safe64:function(){return i()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,45,7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},lzma:function(){return i()(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,47,7));case 2:return e=t.sent,t.abrupt("return",e.compress?e:e.LZMA);case 4:case"end":return t.stop()}}),t)})))()},lzstring:function(){return i()(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,48,7));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},lzw:function(){return i()(s.a.mark((function t(){var e,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(null,49,7));case 2:return e=t.sent,r=e.default||e,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()}}},function(t,e,n){"use strict";var r=n(28),i=n(29),o=n(13);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=h(t,e),t}(t,e,n,r):"string"==typeof e?function(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=a(t,r)).write(e,n);return i!==r&&(t=t.slice(0,i)),t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|d(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(u(e),t=a(t,e<0?0:0|d(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|d(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function p(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(r)return F(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,s=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var u=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var f=!0,h=0;h<l;h++)if(c(t,o+h)!==c(e,h)){f=!1;break}if(f)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return H(F(e,t.length-n),t,n,r)}function S(t,e,n,r){return H(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function E(t,e,n,r){return S(t,e,n,r)}function _(t,e,n,r){return H(z(e),t,n,r)}function k(t,e,n,r){return H(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)r=(n=t.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function x(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,l,c=t[i],u=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(u=c);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(l=(15&c)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(u=l)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=f}return function(t){var e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==window.TYPED_ARRAY_SUPPORT?window.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return c(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,r){return u(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return f(null,t)},l.allocUnsafeSlow=function(t){return f(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),c=this.slice(r,i),u=t.slice(e,n),f=0;f<a;++f)if(c[f]!==u[f]){o=c[f],s=u[f];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var C=4096;function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function L(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function M(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,o){return o||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,o){return o||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var i=e-t;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||N(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||N(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);N(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s|0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=l.isBuffer(t)?t:F(new l(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(W,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){"use strict";var r=n(9),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var o=Object.create(n(7));o.inherits=n(4);var s=n(15),a=n(19);o.inherits(f,s);for(var l=i(a.prototype),c=0;c<l.length;c++){var u=l[c];f.prototype[u]||(f.prototype[u]=a.prototype[u])}function f(t){if(!(this instanceof f))return new f(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var l,c=[],u=!1,f=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&d())}function d(){if(!u){var t=a(h);u=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(3).Buffer.isBuffer},function(t,e,n){"use strict";var r=n(14).Duplex,i=n(11),o=n(10).Buffer;function s(t){if(!(this instanceof s))return new s(t);if(this._bufs=[],this.length=0,"function"==typeof t){this._callback=t;var e=function(t){this._callback&&(this._callback(t),this._callback=null)}.bind(this);this.on("pipe",(function(t){t.on("error",e)})),this.on("unpipe",(function(t){t.removeListener("error",e)}))}else this.append(t);r.call(this)}i.inherits(s,r),s.prototype._offset=function(t){var e,n=0,r=0;if(0===t)return[0,0];for(;r<this._bufs.length;r++){if(t<(e=n+this._bufs[r].length)||r==this._bufs.length-1)return[r,t-n];n=e}},s.prototype._reverseOffset=function(t){for(var e=t[0],n=t[1],r=0;r<e;r++)n+=this._bufs[r].length;return n},s.prototype.append=function(t){var e=0;if(o.isBuffer(t))this._appendBuffer(t);else if(Array.isArray(t))for(;e<t.length;e++)this.append(t[e]);else if(t instanceof s)for(;e<t._bufs.length;e++)this.append(t._bufs[e]);else null!=t&&("number"==typeof t&&(t=t.toString()),this._appendBuffer(o.from(t)));return this},s.prototype._appendBuffer=function(t){this._bufs.push(t),this.length+=t.length},s.prototype._write=function(t,e,n){this._appendBuffer(t),"function"==typeof n&&n()},s.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},s.prototype.end=function(t){r.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype.get=function(t){if(!(t>this.length||t<0)){var e=this._offset(t);return this._bufs[e[0]][e[1]]}},s.prototype.slice=function(t,e){return"number"==typeof t&&t<0&&(t+=this.length),"number"==typeof e&&e<0&&(e+=this.length),this.copy(null,0,t,e)},s.prototype.copy=function(t,e,n,r){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof r||r>this.length)&&(r=this.length),n>=this.length)return t||o.alloc(0);if(r<=0)return t||o.alloc(0);var i,s,a=!!t,l=this._offset(n),c=r-n,u=c,f=a&&e||0,h=l[1];if(0===n&&r==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:o.concat(this._bufs,this.length);for(s=0;s<this._bufs.length;s++)this._bufs[s].copy(t,f),f+=this._bufs[s].length;return t}if(u<=this._bufs[l[0]].length-h)return a?this._bufs[l[0]].copy(t,e,h,h+u):this._bufs[l[0]].slice(h,h+u);for(a||(t=o.allocUnsafe(c)),s=l[0];s<this._bufs.length;s++){if(!(u>(i=this._bufs[s].length-h))){this._bufs[s].copy(t,f,h,h+u),f+=i;break}this._bufs[s].copy(t,f,h),f+=i,u-=i,h&&(h=0)}return t.length>f?t.slice(0,f):t},s.prototype.shallowSlice=function(t,e){if(t=t||0,e="number"!=typeof e?this.length:e,t<0&&(t+=this.length),e<0&&(e+=this.length),t===e)return new s;var n=this._offset(t),r=this._offset(e),i=this._bufs.slice(n[0],r[0]+1);return 0==r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!=n[1]&&(i[0]=i[0].slice(n[1])),new s(i)},s.prototype.toString=function(t,e,n){return this.slice(e,n).toString(t)},s.prototype.consume=function(t){if(t=Math.trunc(t),Number.isNaN(t)||t<=0)return this;for(;this._bufs.length;){if(!(t>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(t),this.length-=t;break}t-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},s.prototype.duplicate=function(){for(var t=0,e=new s;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},s.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},s.prototype.indexOf=function(t,e,n){if(void 0===n&&"string"==typeof e&&(n=e,e=void 0),"function"==typeof t||Array.isArray(t))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof t?t=o.from([t]):"string"==typeof t?t=o.from(t,n):t instanceof s?t=t.slice():o.isBuffer(t)||(t=o.from(t)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),0===t.length)return e>this.length?this.length:e;for(var r=this._offset(e),i=r[0],a=r[1];i<this._bufs.length;i++){for(var l=this._bufs[i];a<l.length;)if(l.length-a>=t.length){var c=l.indexOf(t,a);if(-1!==c)return this._reverseOffset([i,c]);a=l.length-t.length+1}else{var u=this._reverseOffset([i,a]);if(this._match(u,t))return u;a++}a=0}return-1},s.prototype._match=function(t,e){if(this.length-t<e.length)return!1;for(var n=0;n<e.length;n++)if(this.get(t+n)!==e[n])return!1;return!0},function(){var t={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(var e in t)!function(e){s.prototype[e]=null===t[e]?function(t,n){return this.slice(t,t+n)[e](0,n)}:function(n){return this.slice(n,n+t[e])[e](0)}}(e)}(),t.exports=s},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(6))},function(t,e,n){var r=n(3),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},i=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,o=r.length,s=String(t).replace(i,(function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),l=r[n];n<o;l=r[++n])m(l)||!w(l)?s+=" "+l:s+=" "+a(l);return s},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,s={};function a(t,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,t,r.depth)}function l(t,e){var n=a.styles[e];return n?"["+a.colors[n][0]+"m"+t+"["+a.colors[n][1]+"m":t}function c(t,e){return t}function u(t,n,r){if(t.customInspect&&n&&_(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return y(i)||(i=u(t,i,r)),i}var o=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return g(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),E(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(_(n)){var l=n.name?": "+n.name:"";return t.stylize("[Function"+l+"]","special")}if(b(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return t.stylize(Date.prototype.toString.call(n),"date");if(E(n))return f(n)}var c,w="",k=!1,x=["{","}"];return d(n)&&(k=!0,x=["[","]"]),_(n)&&(w=" [Function"+(n.name?": "+n.name:"")+"]"),b(n)&&(w=" "+RegExp.prototype.toString.call(n)),S(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+f(n)),0!==s.length||k&&0!=n.length?r<0?b(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),c=k?function(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)C(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))})),o}(t,n,r,a,s):s.map((function(e){return h(t,n,r,a,e,k)})),t.seen.pop(),function(t,e,n){var r=t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(c,w,x)):x[0]+w+x[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,r,i,o){var s,a,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),C(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(l.value)<0?(a=m(n)?u(t,l.value,null):u(t,l.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return"number"==typeof t}function y(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return w(t)&&"[object RegExp]"===k(t)}function w(t){return"object"==typeof t&&null!==t}function S(t){return w(t)&&"[object Date]"===k(t)}function E(t){return w(t)&&("[object Error]"===k(t)||t instanceof Error)}function _(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function x(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(o)&&(o=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=t.pid;s[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else s[n]=function(){};return s[n]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=m,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=y,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.isObject=w,e.isDate=S,e.isError=E,e.isFunction=_,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(33);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(n=[x((t=new Date).getHours()),x(t.getMinutes()),x(t.getSeconds())].join(":"),[t.getDate(),T[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(34),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function L(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(O&&t[O]){var e;if("function"!=typeof(e=t[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),O&&Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=O,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,n).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(L,e,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(6))},function(t,e,n){var r=n(3),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(e=t.exports=n(15)).Stream=e,e.Readable=e,e.Writable=n(19),e.Duplex=n(5),e.Transform=n(22),e.PassThrough=n(41)},function(t,e,n){"use strict";(function(e){var r=n(9);t.exports=v;var i,o=n(13);v.ReadableState=y,n(16).EventEmitter;var s=function(t,e){return t.listeners(e).length},a=n(17),l=n(12).Buffer,c=window.Uint8Array||function(){},u=Object.create(n(7));u.inherits=n(4);var f=n(35),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var d,p=n(36),m=n(18);u.inherits(v,a);var g=["error","close","destroy","pause","resume"];function y(t,e){t=t||{};var r=e instanceof(i=i||n(5));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(21).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function v(t){if(i=i||n(5),!(this instanceof v))return new v(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function b(t,e,n,r,i){var o,s=t._readableState;return null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,_(t)}}(t,s)):(i||(o=function(t,e){var n,r;return r=e,l.isBuffer(r)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?w(t,s,e,!1):x(t,s)):w(t,s,e,!1))):r||(s.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function w(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&_(t)),x(t,e)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(t,e){this.push(null),e(t)},v.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),b(this,t,e,!1,n)},v.prototype.unshift=function(t){return b(this,t,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(t){return d||(d=n(21).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var S=8388608;function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=S?t=S:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function _(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(h("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(k,t):k(t))}function k(t){h("emit readable"),t.emit("readable"),L(t)}function x(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(T,t,e))}function T(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(h("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function C(t){h("readable nexttick read 0"),t.read(0)}function O(t,e){e.reading||(h("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(h("flow",e.flowing);e.flowing&&null!==t.read(););}function A(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=l.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}v.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return h("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):_(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&M(this),null;var r,i=e.needReadable;return h("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&h("length less than watermark",i=!0),e.ended||e.reading?h("reading or ended",i=!1):i&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),null===(r=t>0?A(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&M(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(t,n){var i=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=t;break;case 1:a.pipes=[a.pipes,t];break;default:a.pipes.push(t)}a.pipesCount+=1,h("pipe count=%d opts=%j",a.pipesCount,n);var l=n&&!1===n.end||t===e.stdout||t===e.stderr?v:c;function c(){h("onend"),t.end()}a.endEmitted?r.nextTick(l):i.once("end",l),t.on("unpipe",(function e(n,r){h("onunpipe"),n===i&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),t.removeListener("close",g),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",m),t.removeListener("unpipe",e),i.removeListener("end",c),i.removeListener("end",v),i.removeListener("data",p),f=!0,!a.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,L(t))}}(i);t.on("drain",u);var f=!1,d=!1;function p(e){h("ondata"),d=!1,!1!==t.write(e)||d||((1===a.pipesCount&&a.pipes===t||a.pipesCount>1&&-1!==N(a.pipes,t))&&!f&&(h("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,d=!0),i.pause())}function m(e){h("onerror",e),v(),t.removeListener("error",m),0===s(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",y),v()}function y(){h("onfinish"),t.removeListener("close",g),v()}function v(){h("unpipe"),i.unpipe(t)}return i.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",g),t.once("finish",y),t.emit("pipe",i),a.flowing||(h("pipe resume"),i.resume()),t},v.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=N(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},v.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&_(this):r.nextTick(C,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var t=this._readableState;return t.flowing||(h("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(O,t,e))}(this,t)),this},v.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){h("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=A}).call(this,n(6))},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&y(t,"error",e,{once:!0})}(t,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,o,s,a;if(c(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(t))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):g(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function y(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=i[t];if(void 0===l)return!1;if("function"==typeof l)o(l,this,e);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)o(u[n],this,e)}return!0},a.prototype.addListener=function(t,e){return f(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return f(this,t,e,!0)},a.prototype.once=function(t,e){return c(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,d(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(c(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){t.exports=n(16).EventEmitter},function(t,e,n){"use strict";var r=n(9);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";(function(e,r){var i=n(9);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e){var n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(undefined),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var s,a=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:i.nextTick;y.WritableState=g;var l=Object.create(n(7));l.inherits=n(4);var c,u={deprecate:n(39)},f=n(17),h=n(12).Buffer,d=window.Uint8Array||function(){},p=n(18);function m(){}function g(t,e){s=s||n(5),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var l=t.highWaterMark,c=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=l||0===l?l:r&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(_,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),_(t,e))}(t,n,r,e,o);else{var s=S(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?a(b,t,n,s,o):b(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(t){if(s=s||n(5),!(c.call(y,this)||this instanceof s))return new y(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function v(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),_(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,v(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,f=n.callback;if(v(t,e,!1,e.objectMode?1:c.length,c,u,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),_(t,e)}))}function _(t,e){var n=S(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(y,f),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===y&&t&&t._writableState instanceof g}})):c=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=t,h.isBuffer(r)||r instanceof d);return a&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=m),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),i.nextTick(r,s),o=!1),o}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,r,i,o);return l}(this,o,a,t,e,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,_(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(6),n(20).setImmediate)},function(t,e,n){var r="undefined"!=typeof window&&window||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(38),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof window&&window.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof window&&window.clearImmediate||this&&this.clearImmediate},function(t,e,n){"use strict";var r=n(40).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=f,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=s;var r=n(5),i=Object.create(n(7));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){l(t,e,n)})):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(4),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";(function(t){var r,i,o=n(1),s=n.n(o),a=n(0),l=n.n(a),c=n(2);e.a={pack:!0,encode:!0,compress:(i=s()(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.lzma();case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,i){return r.compress(n,9,(function(n,r){return r?i(r):e(t.from(n))}))})));case 4:case"end":return e.stop()}}),e)}))),function(t){return i.apply(this,arguments)}),decompress:(r=s()(l.a.mark((function e(n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.lzma();case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,i){return r.decompress(n,(function(n,r){return r?i(r):e(t.from(n))}))})));case 4:case"end":return e.stop()}}),e)}))),function(t){return r.apply(this,arguments)})}}).call(this,n(3).Buffer)},function(t,e,n){"use strict";(function(t){var r,i,o=n(1),s=n.n(o),a=n(0),l=n.n(a),c=n(2);e.a={pack:!1,encode:!0,compress:(i=s()(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,c.a.lzstring();case 3:return e.t1=e.sent.compressToUint8Array(n),e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)}))),function(t){return i.apply(this,arguments)}),decompress:(r=s()(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.lzstring();case 2:return t.abrupt("return",t.sent.decompressFromUint8Array(e));case 3:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})}}).call(this,n(3).Buffer)},function(t,e,n){"use strict";(function(t){var r,i,o=n(1),s=n.n(o),a=n(0),l=n.n(a),c=n(2);e.a={pack:!0,encode:!0,compress:(i=s()(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,c.a.lzw();case 3:return e.t1=e.sent.encode(n.toString("binary")),e.abrupt("return",e.t0.from.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e)}))),function(t){return i.apply(this,arguments)}),decompress:(r=s()(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,c.a.lzw();case 3:return e.t1=e.sent.decode(n),e.abrupt("return",e.t0.from.call(e.t0,e.t1,"binary"));case 5:case"end":return e.stop()}}),e)}))),function(t){return r.apply(this,arguments)})}}).call(this,n(3).Buffer)},function(t,e,n){var r=n(27).default;function i(){"use strict";t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,o=n.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(t){f=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new O(r||[]);return s(o,"_invoke",{value:k(t,n,a)}),o}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var p={};function m(){}function g(){}function y(){}var v={};f(v,l,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(L([])));w&&w!==n&&o.call(w,l)&&(v=w);var S=y.prototype=m.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,s,a,l){var c=d(t[i],t,s);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==r(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,a,l)}),(function(t){n("throw",t,a,l)})):e.resolve(f).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,l)}))}l(c.arg)}var i;s(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function k(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===p)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function x(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=d(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(t){if(t){var e=t[l];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(o.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return g.prototype=y,s(S,"constructor",{value:y,configurable:!0}),s(y,"constructor",{value:g,configurable:!0}),g.displayName=f(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,f(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(_.prototype),f(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new _(h(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},E(S),f(S,u,"Generator"),f(S,l,(function(){return this})),f(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(a&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),s=r[0],a=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),u=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[u++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,l=n-i;a<l;a+=s)o.push(c(t,a,a+s>l?l:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+t[e+f],f+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+f],f+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,f=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+f>=1?h/l:h*Math.pow(2,1-f))*l>=2&&(s++,l/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(e*l-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*m}},function(t,e,n){"use strict";var r=n(10).Buffer,i=n(31),o=n(8),s=n(42),a=n(43),l=n(44);t.exports=function(t){var e=[],n=[];return{encode:l(e,(t=t||{forceFloat64:!1,compatibilityMode:!1,disableTimestampEncoding:!1,protoAction:"error"}).forceFloat64,t.compatibilityMode,t.disableTimestampEncoding),decode:a(n,t),register:function(t,e,n,s){return i(e,"must have a constructor"),i(n,"must have an encode function"),i(t>=0,"must have a non-negative type"),i(s,"must have a decode function"),this.registerEncoder((function(t){return t instanceof e}),(function(e){var i=o(),s=r.allocUnsafe(1);return s.writeInt8(t,0),i.append(s),i.append(n(e)),i})),this.registerDecoder(t,s),this},registerEncoder:function(t,n){return i(t,"must have an encode function"),i(n,"must have an encode function"),e.push({check:t,encode:n}),this},registerDecoder:function(t,e){return i(t>=0,"must have a non-negative type"),i(e,"must have a decode function"),n.push({type:t,decode:e}),this},encoder:s.encoder,decoder:s.decoder,buffer:!0,type:"msgpack5",IncompleteBufferError:a.IncompleteBufferError}}},function(t,e,n){"use strict";var r=n(32);function i(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function o(t){return window.Buffer&&"function"==typeof window.Buffer.isBuffer?window.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var s=n(11),a=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c="foo"===function(){}.name;function u(t){return Object.prototype.toString.call(t)}function f(t){return!o(t)&&"function"==typeof window.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer)))}var h=t.exports=v,d=/\s*function\s+([^\(\s]*)\s*/;function p(t){if(s.isFunction(t)){if(c)return t.name;var e=t.toString().match(d);return e&&e[1]}}function m(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function g(t){if(c||!s.isFunction(t))return s.inspect(t);var e=p(t);return"[Function"+(e?": "+e:"")+"]"}function y(t,e,n,r,i){throw new h.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function v(t,e){t||y(t,!0,e,"==",h.ok)}function b(t,e,n,r){if(t===e)return!0;if(o(t)&&o(e))return 0===i(t,e);if(s.isDate(t)&&s.isDate(e))return t.getTime()===e.getTime();if(s.isRegExp(t)&&s.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(f(t)&&f(e)&&u(t)===u(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(o(t)!==o(e))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(t);return-1!==a&&a===r.expected.indexOf(e)||(r.actual.push(t),r.expected.push(e),function(t,e,n,r){if(null==t||null==e)return!1;if(s.isPrimitive(t)||s.isPrimitive(e))return t===e;if(n&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=w(t),o=w(e);if(i&&!o||!i&&o)return!1;if(i)return b(t=l.call(t),e=l.call(e),n);var a,c,u=_(t),f=_(e);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),c=u.length-1;c>=0;c--)if(u[c]!==f[c])return!1;for(c=u.length-1;c>=0;c--)if(!b(t[a=u[c]],e[a],n,r))return!1;return!0}(t,e,n,r))}return n?t===e:t==e}function w(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function S(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&&!0===e.call({},t)}function E(t,e,n,r){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&y(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!t&&i&&!n;if((!t&&s.isError(i)&&o&&S(i,n)||a)&&y(i,n,"Got unwanted exception"+r),t&&i&&n&&!S(i,n)||!t&&i)throw i}h.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return m(g(t.actual),128)+" "+t.operator+" "+m(g(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=p(e),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},s.inherits(h.AssertionError,Error),h.fail=y,h.ok=v,h.equal=function(t,e,n){t!=e&&y(t,e,n,"==",h.equal)},h.notEqual=function(t,e,n){t==e&&y(t,e,n,"!=",h.notEqual)},h.deepEqual=function(t,e,n){b(t,e,!1)||y(t,e,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(t,e,n){b(t,e,!0)||y(t,e,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(t,e,n){b(t,e,!1)&&y(t,e,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function t(e,n,r){b(e,n,!0)&&y(e,n,r,"notDeepStrictEqual",t)},h.strictEqual=function(t,e,n){t!==e&&y(t,e,n,"===",h.strictEqual)},h.notStrictEqual=function(t,e,n){t===e&&y(t,e,n,"!==",h.notStrictEqual)},h.throws=function(t,e,n){E(!0,t,e,n)},h.doesNotThrow=function(t,e,n){E(!1,t,e,n)},h.ifError=function(t){if(t)throw t},h.strict=r((function t(e,n){e||y(e,!0,n,"==",t)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var _=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(a[c]=n[c]);if(r){s=r(n);for(var u=0;u<s.length;u++)o.call(n,s[u])&&(a[s[u]]=n[s[u]])}}return a}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){},function(t,e,n){"use strict";var r=n(12).Buffer,i=n(37);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i=r.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=i,n=s,o.data.copy(e,n),s+=o.data.length,o=o.next;return i},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){!function(e){"use strict";if(!e.setImmediate){var n,r,i,o,s,a=1,l={},c=!1,u=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&d(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){d(t.data)},n=function(t){i.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,n=function(t){var e=u.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):n=function(t){setTimeout(d,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var i={callback:t,args:e};return l[a]=i,n(a),a++},f.clearImmediate=h}function h(t){delete l[t]}function d(t){if(c)setTimeout(d,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(undefined,n)}}(e)}finally{h(t),c=!1}}}}}("undefined"==typeof self?"undefined"==typeof window?this:window:self)}).call(this,n(6))},function(t,e){function n(t){try{if(!window.localStorage)return!1}catch(t){return!1}var e=window.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}},function(t,e,n){var r=n(3),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";t.exports=o;var r=n(22),i=Object.create(n(7));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(4),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";var r=n(14).Transform,i=n(4),o=n(8);function s(t){(t=t||{}).objectMode=!0,t.highWaterMark=16,r.call(this,t),this._msgpack=t.msgpack}function a(t){if(!(this instanceof a))return(t=t||{}).msgpack=this,new a(t);s.call(this,t),this._wrap="wrap"in t&&t.wrap}function l(t){if(!(this instanceof l))return(t=t||{}).msgpack=this,new l(t);s.call(this,t),this._chunks=o(),this._wrap="wrap"in t&&t.wrap}i(s,r),i(a,s),a.prototype._transform=function(t,e,n){var r=null;try{r=this._msgpack.encode(this._wrap?t.value:t).slice(0)}catch(t){return this.emit("error",t),n()}this.push(r),n()},i(l,s),l.prototype._transform=function(t,e,n){t&&this._chunks.append(t);try{var r=this._msgpack.decode(this._chunks);this._wrap&&(r={value:r}),this.push(r)}catch(t){return void(t instanceof this._msgpack.IncompleteBufferError?n():this.emit("error",t))}this._chunks.length>0?this._transform(null,e,n):n()},t.exports.decoder=l,t.exports.encoder=a},function(t,e,n){"use strict";var r=n(8);function i(t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=t||"unable to decode"}n(11).inherits(i,Error),t.exports=function(t,e){return function(t){t instanceof r||(t=r().append(t));var e=s(t);if(e)return t.consume(e.bytesConsumed),e.value;throw new i};function n(t,e,n){return e>=n+t}function o(t,e){return{value:t,bytesConsumed:e}}function s(t,e){e=void 0===e?0:e;var r=t.length-e;if(r<=0)return null;var i,s,f,h=t.readUInt8(e),d=0;if(!function(t,e){var n=function(t){switch(t){case 196:case 204:case 208:case 217:return 2;case 197:case 199:case 205:case 209:case 212:case 218:case 222:return 3;case 198:case 202:case 206:case 210:case 219:return 5;case 200:case 213:return 4;case 201:case 214:return 6;case 203:case 207:case 211:return 9;case 215:return 10;case 216:return 18;default:return-1}}(t);return!(-1!==n&&e<n)}(h,r))return null;switch(h){case 192:return o(null,1);case 194:return o(!1,1);case 195:return o(!0,1);case 204:return o(d=t.readUInt8(e+1),2);case 205:return o(d=t.readUInt16BE(e+1),3);case 206:return o(d=t.readUInt32BE(e+1),5);case 207:for(f=7;f>=0;f--)d+=t.readUInt8(e+f+1)*Math.pow(2,8*(7-f));return o(d,9);case 208:return o(d=t.readInt8(e+1),2);case 209:return o(d=t.readInt16BE(e+1),3);case 210:return o(d=t.readInt32BE(e+1),5);case 211:return d=function(t){var e=!(128&~t[0]);if(e)for(var n=1,r=7;r>=0;r--){var i=(255^t[r])+n;t[r]=255&i,n=i>>8}return(4294967296*t.readUInt32BE(0)+t.readUInt32BE(4))*(e?-1:1)}(t.slice(e+1,e+9)),o(d,9);case 202:return o(d=t.readFloatBE(e+1),5);case 203:return o(d=t.readDoubleBE(e+1),9);case 217:return n(i=t.readUInt8(e+1),r,2)?o(d=t.toString("utf8",e+2,e+2+i),2+i):null;case 218:return n(i=t.readUInt16BE(e+1),r,3)?o(d=t.toString("utf8",e+3,e+3+i),3+i):null;case 219:return n(i=t.readUInt32BE(e+1),r,5)?o(d=t.toString("utf8",e+5,e+5+i),5+i):null;case 196:return n(i=t.readUInt8(e+1),r,2)?o(d=t.slice(e+2,e+2+i),2+i):null;case 197:return n(i=t.readUInt16BE(e+1),r,3)?o(d=t.slice(e+3,e+3+i),3+i):null;case 198:return n(i=t.readUInt32BE(e+1),r,5)?o(d=t.slice(e+5,e+5+i),5+i):null;case 220:return r<3?null:(i=t.readUInt16BE(e+1),a(t,e,i,3));case 221:return r<5?null:(i=t.readUInt32BE(e+1),a(t,e,i,5));case 222:return i=t.readUInt16BE(e+1),l(t,e,i,3);case 223:return i=t.readUInt32BE(e+1),l(t,e,i,5);case 212:return c(t,e,1);case 213:return c(t,e,2);case 214:return c(t,e,4);case 215:return c(t,e,8);case 216:return c(t,e,16);case 199:return i=t.readUInt8(e+1),s=t.readUInt8(e+2),n(i,r,3)?u(t,e,s,i,3):null;case 200:return i=t.readUInt16BE(e+1),s=t.readUInt8(e+3),n(i,r,4)?u(t,e,s,i,4):null;case 201:return i=t.readUInt32BE(e+1),s=t.readUInt8(e+5),n(i,r,6)?u(t,e,s,i,6):null}if(144==(240&h))return a(t,e,i=15&h,1);if(128==(240&h))return l(t,e,i=15&h,1);if(160==(224&h))return n(i=31&h,r,1)?o(d=t.toString("utf8",e+1,e+i+1),i+1):null;if(h>=224)return o(d=h-256,1);if(h<128)return o(h,1);throw new Error("not implemented yet")}function a(t,e,n,r){var i,a=[],l=0;for(e+=r,i=0;i<n;i++){var c=s(t,e);if(!c)return null;a.push(c.value),e+=c.bytesConsumed,l+=c.bytesConsumed}return o(a,r+l)}function l(t,n,r,i){var a,l,c={},u=0;for(n+=i,l=0;l<r;l++){var f=s(t,n);if(!f)return null;var h=s(t,n+=f.bytesConsumed);if(!h)return null;if("__proto__"===(a=f.value)){if("error"===e.protoAction)throw new SyntaxError("Object contains forbidden prototype property");if("remove"===e.protoAction)continue}c[a]=h.value,n+=h.bytesConsumed,u+=f.bytesConsumed+h.bytesConsumed}return o(c,i+u)}function c(t,e,n){var r=t.readInt8(e+1);return u(t,e,r,n,2)}function u(e,n,r,i,s){var a,l;if(n+=s,r<0&&-1===r)return function(t,e,n){var r,i=0;switch(e){case 4:r=t.readUInt32BE(0);break;case 8:var s=t.readUInt32BE(0),a=t.readUInt32BE(4);i=s/4,r=(3&s)*Math.pow(2,32)+a;break;case 12:throw new Error("timestamp 96 is not yet implemented")}var l=1e3*r+Math.round(i/1e6);return o(new Date(l),e+n)}(l=e.slice(n,n+i),i,s);for(a=0;a<t.length;a++)if(r===t[a].type)return l=e.slice(n,n+i),o(t[a].decode(l),s+i);throw new Error("unable to find ext type "+r)}},t.exports.IncompleteBufferError=i},function(t,e,n){"use strict";var r=n(10).Buffer,i=n(8);function o(t,e){var n,i=!0;return Math.fround&&(i=Math.fround(t)!==t),e&&(i=!0),i?((n=r.allocUnsafe(9))[0]=203,n.writeDoubleBE(t,1)):((n=r.allocUnsafe(5))[0]=202,n.writeFloatBE(t,1)),n}t.exports=function(t,e,n,s){return function a(l,c){var u,f,h;if(void 0===l)throw new Error("undefined is not encodable in msgpack!");if((h=l)!=h&&"number"==typeof h)throw new Error("NaN is not encodable in msgpack!");if(null===l)(u=r.allocUnsafe(1))[0]=192;else if(!0===l)(u=r.allocUnsafe(1))[0]=195;else if(!1===l)(u=r.allocUnsafe(1))[0]=194;else if("string"==typeof l)(f=r.byteLength(l))<32?((u=r.allocUnsafe(1+f))[0]=160|f,f>0&&u.write(l,1)):f<=255&&!n?((u=r.allocUnsafe(2+f))[0]=217,u[1]=f,u.write(l,2)):f<=65535?((u=r.allocUnsafe(3+f))[0]=218,u.writeUInt16BE(f,1),u.write(l,3)):((u=r.allocUnsafe(5+f))[0]=219,u.writeUInt32BE(f,1),u.write(l,5));else if(l&&(l.readUInt32LE||l instanceof Uint8Array))l instanceof Uint8Array&&(l=r.from(l)),l.length<=255?((u=r.allocUnsafe(2))[0]=196,u[1]=l.length):l.length<=65535?((u=r.allocUnsafe(3))[0]=197,u.writeUInt16BE(l.length,1)):((u=r.allocUnsafe(5))[0]=198,u.writeUInt32BE(l.length,1)),u=i([u,l]);else if(Array.isArray(l))l.length<16?(u=r.allocUnsafe(1))[0]=144|l.length:l.length<65536?((u=r.allocUnsafe(3))[0]=220,u.writeUInt16BE(l.length,1)):((u=r.allocUnsafe(5))[0]=221,u.writeUInt32BE(l.length,1)),u=l.reduce((function(t,e){return t.append(a(e,!0)),t}),i().append(u));else{if(!s&&"function"==typeof l.getDate)return function(t){var e,n=1*t,o=Math.floor(n/1e3),s=1e6*(n-1e3*o);if(s||o>4294967295){(e=r.allocUnsafe(10))[0]=215,e[1]=-1;var a=4*s+o/Math.pow(2,32)&4294967295,l=4294967295&o;e.writeInt32BE(a,2),e.writeInt32BE(l,6)}else(e=r.allocUnsafe(6))[0]=214,e[1]=-1,e.writeUInt32BE(Math.floor(n/1e3),2);return i().append(e)}(l);if("object"==typeof l)u=function(e){var n,o,s=-1,a=[];for(n=0;n<t.length;n++)if(t[n].check(e)){o=t[n].encode(e);break}return o?(1==(s=o.length-1)?a.push(212):2===s?a.push(213):4===s?a.push(214):8===s?a.push(215):16===s?a.push(216):s<256?(a.push(199),a.push(s)):s<65536?(a.push(200),a.push(s>>8),a.push(255&s)):(a.push(201),a.push(s>>24),a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)),i().append(r.from(a)).append(o)):null}(l)||function(t){var e,n,o=[],s=0;for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&"function"!=typeof t[e]&&(++s,o.push(a(e,!0)),o.push(a(t[e],!0)));s<16?(n=r.allocUnsafe(1))[0]=128|s:s<65535?((n=r.allocUnsafe(3))[0]=222,n.writeUInt16BE(s,1)):((n=r.allocUnsafe(5))[0]=223,n.writeUInt32BE(s,1)),o.unshift(n);var l=o.reduce((function(t,e){return t.append(e)}),i());return l}(l);else if("number"==typeof l){if(function(t){return t%1!=0}(l))return o(l,e);if(l>=0)if(l<128)(u=r.allocUnsafe(1))[0]=l;else if(l<256)(u=r.allocUnsafe(2))[0]=204,u[1]=l;else if(l<65536)(u=r.allocUnsafe(3))[0]=205,u.writeUInt16BE(l,1);else if(l<=4294967295)(u=r.allocUnsafe(5))[0]=206,u.writeUInt32BE(l,1);else{if(!(l<=9007199254740991))return o(l,!0);(u=r.allocUnsafe(9))[0]=207,function(t,e){for(var n=7;n>=0;n--)t[n+1]=255&e,e/=256}(u,l)}else if(l>=-32)(u=r.allocUnsafe(1))[0]=256+l;else if(l>=-128)(u=r.allocUnsafe(2))[0]=208,u.writeInt8(l,1);else if(l>=-32768)(u=r.allocUnsafe(3))[0]=209,u.writeInt16BE(l,1);else if(l>-214748365)(u=r.allocUnsafe(5))[0]=210,u.writeInt32BE(l,1);else{if(!(l>=-9007199254740991))return o(l,!0);(u=r.allocUnsafe(9))[0]=211,function(t,e,n){var r=n<0;r&&(n=Math.abs(n));var i=n%4294967296,o=n/4294967296;if(t.writeUInt32BE(Math.floor(o),1),t.writeUInt32BE(i,5),r)for(var s=1,a=8;a>=1;a--){var l=(255^t[a])+s;t[a]=255&l,s=l>>8}}(u,0,l)}}}if(!u)throw new Error("not implemented yet");return c?u:u.slice()}}},function(t,e,n){t.exports=n(46)},function(t,e,n){(function(t){e.version="1.0.0",e.encode=function(t){return t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},e.decode=function(e){return e=(e+=Array(5-e.length%4).join("=")).replace(/\-/g,"+").replace(/\_/g,"/"),new t(e,"base64")},e.validate=function(t){return/^[A-Za-z0-9\-_]+$/.test(t)}}).call(this,n(3).Buffer)},function(t,e,n){(function(t){var e=function(){"use strict";function n(t,e){postMessage({action:jt,cbn:e,result:t})}function r(t){var e=[];return e[t-1]=void 0,e}function i(t,e){return a(t[0]+e[0],t[1]+e[1])}function o(t,e){return function(t,e){var n;return n=e,0>e&&(n+=Ut),[n,t*Ut]}(Math.max(Math.min(t[1]/Ut,2147483647),-2147483648)&Math.max(Math.min(e[1]/Ut,2147483647),-2147483648),u(t)&u(e))}function s(t,e){var n,r;return t[0]==e[0]&&t[1]==e[1]?0:(n=0>t[1],r=0>e[1],n&&!r?-1:!n&&r?1:p(t,e)[1]<0?-1:1)}function a(t,e){var n,r;for(t%=0x10000000000000000,e=(e%=0x10000000000000000)-(n=e%Ut)+(r=Math.floor(t/Ut)*Ut),t=t-r+n;0>t;)t+=Ut,e-=Ut;for(;t>4294967295;)t-=Ut,e+=Ut;for(e%=0x10000000000000000;e>0x7fffffff00000000;)e-=0x10000000000000000;for(;-0x8000000000000000>e;)e+=0x10000000000000000;return[t,e]}function l(t,e){return t[0]==e[0]&&t[1]==e[1]}function c(t){return t>=0?[t,0]:[t+Ut,-Ut]}function u(t){return t[0]>=2147483648?~~Math.max(Math.min(t[0]-Ut,2147483647),-2147483648):~~Math.max(Math.min(t[0],2147483647),-2147483648)}function f(t){return 30>=t?1<<t:f(30)*f(t-30)}function h(t,e){var n,r,i,o;if(e&=63,l(t,zt))return e?Ht:t;if(0>t[1])throw Error("Neg");return o=f(e),r=t[1]*o%0x10000000000000000,(r+=n=(i=t[0]*o)-i%Ut)>=0x8000000000000000&&(r-=0x10000000000000000),[i-=n,r]}function d(t,e){var n;return n=f(e&=63),a(Math.floor(t[0]/n),t[1]/n)}function p(t,e){return a(t[0]-e[0],t[1]-e[1])}function m(t,e){return t.Mc=e,t.Lc=0,t.Yb=e.length,t}function g(t){return t.Lc>=t.Yb?-1:255&t.Mc[t.Lc++]}function y(t,e,n,r){return t.Lc>=t.Yb?-1:(r=Math.min(r,t.Yb-t.Lc),E(t.Mc,t.Lc,e,n,r),t.Lc+=r,r)}function v(t){return t.Mc=r(32),t.Yb=0,t}function b(t){var e=t.Mc;return e.length=t.Yb,e}function w(t,e){t.Mc[t.Yb++]=e<<24>>24}function S(t,e,n,r){E(e,n,t.Mc,t.Yb,r),t.Yb+=r}function E(t,e,n,r,i){for(var o=0;i>o;++o)n[r+o]=t[e+o]}function _(t,n,r,i,o){var a,l;if(s(i,Ft)<0)throw Error("invalid length "+i);for(t.Tb=i,function(t,e){(function(t,e){t.ab=e;for(var n=0;e>1<<n;++n);t.$b=2*n})(e,1<<t.s),e.n=t.f,function(t,e){var n=t.X;t.X=e,t.b&&n!=t.X&&(t.wb=-1,t.b=null)}(e,t.m),e.eb=0,e.fb=3,e.Y=2,e.y=3}(o,a=K({})),a.Gc=void 0===e.disableEndMark,function(t,e){t.fc[0]=9*(5*t.Y+t.eb)+t.fb<<24>>24;for(var n=0;4>n;++n)t.fc[1+n]=t.ab>>8*n<<24>>24;S(e,t.fc,0,5)}(a,r),l=0;64>l;l+=8)w(r,255&u(d(i,l)));t.yb=(a.W=0,a.oc=n,a.pc=0,function(t){var e,n;t.b||(e={},n=4,t.X||(n=2),function(t,e){t.qb=e>2,t.qb?(t.w=0,t.xb=4,t.R=66560):(t.w=2,t.xb=3,t.R=0)}(e,n),t.b=e),ht(t.A,t.eb,t.fb),(t.ab!=t.wb||t.Hb!=t.n)&&(M(t.b,t.ab,4096,t.n,274),t.wb=t.ab,t.Hb=t.n)}(a),a.d.Ab=r,function(t){(function(t){t.l=0,t.J=0;for(var e=0;4>e;++e)t.v[e]=0})(t),function(t){t.mc=Ht,t.xc=Ht,t.E=-1,t.Jb=1,t.Oc=0}(t.d),Lt(t.C),Lt(t._),Lt(t.bb),Lt(t.hb),Lt(t.Ub),Lt(t.vc),Lt(t.Sb),function(t){var e,n=1<<t.u+t.I;for(e=0;n>e;++e)Lt(t.V[e].tb)}(t.A);for(var e=0;4>e;++e)Lt(t.K[e].G);st(t.$,1<<t.Y),st(t.i,1<<t.Y),Lt(t.S.G),t.N=0,t.jb=0,t.q=0,t.s=0}(a),J(a),X(a),a.$.rb=a.n+1-2,ft(a.$,1<<a.Y),a.i.rb=a.n+1-2,ft(a.i,1<<a.Y),a.g=Ht,function(t,e){return t.cb=e,t.Z=null,t.zc=1,t}({},a))}function k(t,e,n){return t.Nb=v({}),_(t,m({},e),t.Nb,c(e.length),n),t}function x(t,e){return t.Nb=v({}),function(t,e,n){var r,i,o,s,a="",l=[];for(i=0;5>i;++i){if(-1==(o=g(e)))throw Error("truncated input");l[i]=o<<24>>24}if(!function(t,e){var n,r,i,o,s,a,l;if(5>e.length)return 0;for(i=(l=255&e[0])%9,o=(a=~~(l/9))%5,s=~~(a/5),n=0,r=0;4>r;++r)n+=(255&e[1+r])<<8*r;return n>99999999||!function(t,e,n,r){if(e>8||n>4||r>4)return 0;V(t.gb,n,e);var i=1<<r;return z(t.Rb,i),z(t.sb,i),t.Dc=i-1,1}(t,i,o,s)?0:function(t,e){return 0>e?0:(t.Ob!=e&&(t.Ob=e,t.nb=Math.max(t.Ob,1),R(t.B,Math.max(t.nb,4096))),1)}(t,n)}(r=F({}),l))throw Error("corrupted input");for(i=0;64>i;i+=8){if(-1==(o=g(e)))throw Error("truncated input");1==(o=o.toString(16)).length&&(o="0"+o),a=o+""+a}/^0+$|^f+$/i.test(a)?t.Tb=Ft:(s=parseInt(a,16),t.Tb=s>4294967295?Ft:c(s)),t.yb=function(t,e,n,r){return t.e.Ab=e,P(t.B),t.B.cc=n,function(t){t.B.h=0,t.B.o=0,Lt(t.Gb),Lt(t.pb),Lt(t.Zb),Lt(t.Cb),Lt(t.Db),Lt(t.Eb),Lt(t.kc),function(t){var e,n;for(n=1<<t.u+t.I,e=0;n>e;++e)Lt(t.V[e].Ib)}(t.gb);for(var e=0;4>e;++e)Lt(t.kb[e].G);q(t.Rb),q(t.sb),Lt(t.Fb.G),function(t){t.Bb=0,t.E=-1;for(var e=0;5>e;++e)t.Bb=t.Bb<<8|g(t.Ab)}(t.e)}(t),t.U=0,t.ib=0,t.Jc=0,t.Ic=0,t.Qc=0,t.Nc=r,t.g=Ht,t.jc=0,function(t,e){return t.Z=e,t.cb=null,t.zc=1,t}({},t)}(r,e,n,t.Tb)}(t,m({},e),t.Nb),t}function T(t,e){return t.c[t.f+t.o+e]}function C(t,e,n,r){var i,o;for(t.T&&t.o+e+r>t.h&&(r=t.h-(t.o+e)),++n,o=t.f+t.o+e,i=0;r>i&&t.c[o+i]==t.c[o+i-n];++i);return i}function O(t){return t.h-t.o}function L(t){var e,n;if(!t.T)for(;;){if(!(n=-t.f+t.Kb-t.h))return;if(-1==(e=y(t.cc,t.c,t.f+t.h,n)))return t.zb=t.h,t.f+t.zb>t.H&&(t.zb=t.H-t.f),void(t.T=1);t.h+=e,t.h>=t.o+t._b&&(t.zb=t.h-t._b)}}function A(t,e){t.f+=e,t.zb-=e,t.o-=e,t.h-=e}function M(t,e,n,i,o){var s,a;1073741567>e&&(t.Fc=16+(i>>1),function(t,e,n,i){var o;t.Bc=e,t._b=n,o=e+n+i,(null==t.c||t.Kb!=o)&&(t.c=null,t.Kb=o,t.c=r(t.Kb)),t.H=t.Kb-n}(t,e+n,i+o,256+~~((e+n+i+o)/2)),t.ob=i,s=e+1,t.p!=s&&(t.L=r(2*(t.p=s))),a=65536,t.qb&&(a=e-1,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a>>=1,(a|=65535)>16777216&&(a>>=1),t.Ec=a,++a,a+=t.R),a!=t.rc&&(t.ub=r(t.rc=a)))}function I(t){var e;++t.k>=t.p&&(t.k=0),function(t){++t.o,t.o>t.zb&&(t.f+t.o>t.H&&function(t){var e,n,r;for((r=t.f+t.o-t.Bc)>0&&--r,n=t.f+t.h-r,e=0;n>e;++e)t.c[e]=t.c[r+e];t.f-=r}(t),L(t))}(t),1073741823==t.o&&(e=t.o-t.p,N(t.L,2*t.p,e),N(t.ub,t.rc,e),A(t,e))}function N(t,e,n){var r,i;for(r=0;e>r;++r)n>=(i=t[r]||0)?i=0:i-=n,t[r]=i}function R(t,e){(null==t.Lb||t.M!=e)&&(t.Lb=r(e)),t.M=e,t.o=0,t.h=0}function D(t){var e=t.o-t.h;e&&(S(t.cc,t.Lb,t.h,e),t.o>=t.M&&(t.o=0),t.h=t.o)}function B(t,e){var n=t.o-e-1;return 0>n&&(n+=t.M),t.Lb[n]}function P(t){D(t),t.cc=null}function j(t){return 4>(t-=2)?t:3}function W(t){return 4>t?0:10>t?t-3:t-6}function U(t){if(!t.zc)throw Error("bad state");return t.cb?function(t){(function(t,e,n,r){var o,a,f,h,d,m,g,y,v,b,w,S,E,_,k;if(e[0]=Ht,n[0]=Ht,r[0]=1,t.oc&&(t.b.cc=t.oc,function(t){t.f=0,t.o=0,t.h=0,t.T=0,L(t),t.k=0,A(t,-1)}(t.b),t.W=1,t.oc=null),!t.pc){if(t.pc=1,_=t.g,l(t.g,Ht)){if(!O(t.b))return void Z(t,u(t.g));rt(t),E=u(t.g)&t.y,At(t.d,t.C,(t.l<<4)+E,0),t.l=W(t.l),f=T(t.b,-t.s),pt(dt(t.A,u(t.g),t.J),t.d,f),t.J=f,--t.s,t.g=i(t.g,$t)}if(!O(t.b))return void Z(t,u(t.g));for(;;){if(g=Q(t,u(t.g)),b=t.mb,E=u(t.g)&t.y,a=(t.l<<4)+E,1==g&&-1==b)At(t.d,t.C,a,0),f=T(t.b,-t.s),k=dt(t.A,u(t.g),t.J),7>t.l?pt(k,t.d,f):(v=T(t.b,-t.v[0]-1-t.s),mt(k,t.d,v,f)),t.J=f,t.l=W(t.l);else{if(At(t.d,t.C,a,1),4>b){if(At(t.d,t.bb,t.l,1),b?(At(t.d,t.hb,t.l,1),1==b?At(t.d,t.Ub,t.l,0):(At(t.d,t.Ub,t.l,1),At(t.d,t.vc,t.l,b-2))):(At(t.d,t.hb,t.l,0),At(t.d,t._,a,1==g?0:1)),1==g?t.l=7>t.l?9:11:(lt(t.i,t.d,g-2,E),t.l=7>t.l?8:11),h=t.v[b],0!=b){for(m=b;m>=1;--m)t.v[m]=t.v[m-1];t.v[0]=h}}else{for(At(t.d,t.bb,t.l,0),t.l=7>t.l?7:10,lt(t.$,t.d,g-2,E),S=ot(b-=4),y=j(g),Et(t.K[y],t.d,S),S>=4&&(w=b-(o=(2|1&S)<<(d=(S>>1)-1)),14>S?Tt(t.Sb,o-S-1,t.d,d,w):(Mt(t.d,w>>4,d-4),kt(t.S,t.d,15&w),++t.Qb)),h=b,m=3;m>=1;--m)t.v[m]=t.v[m-1];t.v[0]=h,++t.Mb}t.J=T(t.b,g-1-t.s)}if(t.s-=g,t.g=i(t.g,c(g)),!t.s){if(t.Mb>=128&&J(t),t.Qb>=16&&X(t),e[0]=t.g,n[0]=It(t.d),!O(t.b))return void Z(t,u(t.g));if(s(p(t.g,_),[4096,0])>=0)return t.pc=0,void(r[0]=0)}}}})(t.cb,t.cb.Xb,t.cb.uc,t.cb.Kc),t.Pb=t.cb.Xb[0],t.cb.Kc[0]&&(function(t){it(t),t.d.Ab=null}(t.cb),t.zc=0)}(t):function(t){var e=function(t){var e,n,r,o,a,l;if(l=u(t.g)&t.Dc,Ot(t.e,t.Gb,(t.U<<4)+l)){if(Ot(t.e,t.Zb,t.U))r=0,Ot(t.e,t.Cb,t.U)?(Ot(t.e,t.Db,t.U)?(Ot(t.e,t.Eb,t.U)?(n=t.Qc,t.Qc=t.Ic):n=t.Ic,t.Ic=t.Jc):n=t.Jc,t.Jc=t.ib,t.ib=n):Ot(t.e,t.pb,(t.U<<4)+l)||(t.U=7>t.U?9:11,r=1),r||(r=H(t.sb,t.e,l)+2,t.U=7>t.U?8:11);else if(t.Qc=t.Ic,t.Ic=t.Jc,t.Jc=t.ib,r=2+H(t.Rb,t.e,l),t.U=7>t.U?7:10,(a=wt(t.kb[j(r)],t.e))>=4){if(o=(a>>1)-1,t.ib=(2|1&a)<<o,14>a)t.ib+=function(t,e,n,r){var i,o,s=1,a=0;for(o=0;r>o;++o)i=Ot(n,t,e+s),s<<=1,s+=i,a|=i<<o;return a}(t.kc,t.ib-a-1,t.e,o);else if(t.ib+=function(t,e){var n,r,i=0;for(n=e;0!=n;--n)t.E>>>=1,r=t.Bb-t.E>>>31,t.Bb-=t.E&r-1,i=i<<1|1-r,-16777216&t.E||(t.Bb=t.Bb<<8|g(t.Ab),t.E<<=8);return i}(t.e,o-4)<<4,t.ib+=function(t,e){var n,r,i=1,o=0;for(r=0;t.F>r;++r)n=Ot(e,t.G,i),i<<=1,i+=n,o|=n<<r;return o}(t.Fb,t.e),0>t.ib)return-1==t.ib?1:-1}else t.ib=a;if(s(c(t.ib),t.g)>=0||t.ib>=t.nb)return-1;(function(t,e,n){var r=t.o-e-1;for(0>r&&(r+=t.M);0!=n;--n)r>=t.M&&(r=0),t.Lb[t.o++]=t.Lb[r++],t.o>=t.M&&D(t)})(t.B,t.ib,r),t.g=i(t.g,c(r)),t.jc=B(t.B,0)}else e=function(t,e,n){return t.V[((e&t.qc)<<t.u)+((255&n)>>>8-t.u)]}(t.gb,u(t.g),t.jc),t.jc=7>t.U?function(t,e){var n=1;do{n=n<<1|Ot(e,t.Ib,n)}while(256>n);return n<<24>>24}(e,t.e):function(t,e,n){var r,i,o=1;do{if(i=n>>7&1,n<<=1,o=o<<1|(r=Ot(e,t.Ib,(1+i<<8)+o)),i!=r){for(;256>o;)o=o<<1|Ot(e,t.Ib,o);break}}while(256>o);return o<<24>>24}(e,t.e,B(t.B,t.ib)),function(t,e){t.Lb[t.o++]=e,t.o>=t.M&&D(t)}(t.B,t.jc),t.U=W(t.U),t.g=i(t.g,$t);return 0}(t.Z);if(-1==e)throw Error("corrupted input");t.Pb=Ft,t.Pc=t.Z.g,(e||s(t.Z.Nc,Ht)>=0&&s(t.Z.g,t.Z.Nc)>=0)&&(D(t.Z.B),P(t.Z.B),t.Z.e.Ab=null,t.zc=0)}(t),t.zc}function F(t){t.B={},t.e={},t.Gb=r(192),t.Zb=r(12),t.Cb=r(12),t.Db=r(12),t.Eb=r(12),t.pb=r(192),t.kb=r(4),t.kc=r(114),t.Fb=bt({},4),t.Rb=$({}),t.sb=$({}),t.gb={};for(var e=0;4>e;++e)t.kb[e]=bt({},6);return t}function z(t,e){for(;e>t.O;++t.O)t.ec[t.O]=bt({},3),t.hc[t.O]=bt({},3)}function H(t,e,n){return Ot(e,t.wc,0)?8+(Ot(e,t.wc,1)?8+wt(t.tc,e):wt(t.hc[n],e)):wt(t.ec[n],e)}function $(t){return t.wc=r(2),t.ec=r(16),t.hc=r(16),t.tc=bt({},8),t.O=0,t}function q(t){Lt(t.wc);for(var e=0;t.O>e;++e)Lt(t.ec[e].G),Lt(t.hc[e].G);Lt(t.tc.G)}function V(t,e,n){var i,o;if(null==t.V||t.u!=n||t.I!=e)for(t.I=e,t.qc=(1<<e)-1,t.u=n,o=1<<t.u+t.I,t.V=r(o),i=0;o>i;++i)t.V[i]=G({})}function G(t){return t.Ib=r(768),t}function Y(t,e){var n,r,i,o;t.jb=e,i=t.a[e].r,r=t.a[e].j;do{t.a[e].t&&(vt(t.a[i]),t.a[i].r=i-1,t.a[e].Ac&&(t.a[i-1].t=0,t.a[i-1].r=t.a[e].r2,t.a[i-1].j=t.a[e].j2)),o=i,n=r,r=t.a[o].j,i=t.a[o].r,t.a[o].j=n,t.a[o].r=e,e=o}while(e>0);return t.mb=t.a[0].j,t.q=t.a[0].r}function K(t){var e;for(t.v=r(4),t.a=[],t.d={},t.C=r(192),t.bb=r(12),t.hb=r(12),t.Ub=r(12),t.vc=r(12),t._=r(192),t.K=[],t.Sb=r(114),t.S=St({},4),t.$=ct({}),t.i=ct({}),t.A={},t.m=[],t.P=[],t.lb=[],t.nc=r(16),t.x=r(4),t.Q=r(4),t.Xb=[Ht],t.uc=[Ht],t.Kc=[0],t.fc=r(5),t.yc=r(128),t.vb=0,t.X=1,t.D=0,t.Hb=-1,t.mb=0,e=0;4096>e;++e)t.a[e]={};for(e=0;4>e;++e)t.K[e]=St({},6);return t}function X(t){for(var e=0;16>e;++e)t.nc[e]=xt(t.S,e);t.Qb=0}function J(t){var e,n,r,i,o,s,a,l;for(i=4;128>i;++i)e=(2|1&(s=ot(i)))<<(r=(s>>1)-1),t.yc[i]=Ct(t.Sb,e-s-1,r,i-e);for(o=0;4>o;++o){for(n=t.K[o],a=o<<6,s=0;t.$b>s;++s)t.P[a+s]=_t(n,s);for(s=14;t.$b>s;++s)t.P[a+s]+=(s>>1)-1-4<<6;for(l=128*o,i=0;4>i;++i)t.lb[l+i]=t.P[a+i];for(;128>i;++i)t.lb[l+i]=t.P[a+ot(i)]+t.yc[i]}t.Mb=0}function Z(t,e){it(t),function(t,e){if(t.Gc){At(t.d,t.C,(t.l<<4)+e,1),At(t.d,t.bb,t.l,0),t.l=7>t.l?7:10,lt(t.$,t.d,0,e);var n=j(2);Et(t.K[n],t.d,63),Mt(t.d,67108863,26),kt(t.S,t.d,15)}}(t,e&t.y);for(var n=0;5>n;++n)Nt(t.d)}function Q(t,e){var n,r,i,o,s,a,l,c,u,f,h,d,p,m,g,y,v,b,w,S,E,_,k,x,L,A,M,I,N,R,D,B,P,j,U,F,z,H,$,q,V,G,K,X;if(t.jb!=t.q)return p=t.a[t.q].r-t.q,t.mb=t.a[t.q].j,t.q=t.a[t.q].r,p;if(t.q=t.jb=0,t.N?(d=t.vb,t.N=0):d=rt(t),A=t.D,2>(x=O(t.b)+1))return t.mb=-1,1;for(x>273&&(x=273),$=0,u=0;4>u;++u)t.x[u]=t.v[u],t.Q[u]=C(t.b,-1,t.x[u],273),t.Q[u]>t.Q[$]&&($=u);if(t.Q[$]>=t.n)return t.mb=$,nt(t,(p=t.Q[$])-1),p;if(d>=t.n)return t.mb=t.m[A-1]+4,nt(t,d-1),d;if(l=T(t.b,-1),v=T(t.b,-t.v[0]-1-1),2>d&&l!=v&&2>t.Q[$])return t.mb=-1,1;if(t.a[0].Hc=t.l,P=e&t.y,t.a[1].z=Gt[t.C[(t.l<<4)+P]>>>2]+yt(dt(t.A,e,t.J),t.l>=7,v,l),vt(t.a[1]),H=(b=Gt[2048-t.C[(t.l<<4)+P]>>>2])+Gt[2048-t.bb[t.l]>>>2],v==l&&(q=H+function(t,e,n){return Gt[t.hb[e]>>>2]+Gt[t._[(e<<4)+n]>>>2]}(t,t.l,P),t.a[1].z>q&&(t.a[1].z=q,function(t){t.j=0,t.t=0}(t.a[1]))),2>(h=d>=t.Q[$]?d:t.Q[$]))return t.mb=t.a[1].j,1;t.a[1].r=0,t.a[0].bc=t.x[0],t.a[0].ac=t.x[1],t.a[0].dc=t.x[2],t.a[0].lc=t.x[3],f=h;do{t.a[f--].z=268435455}while(f>=2);for(u=0;4>u;++u)if(!(2>(z=t.Q[u]))){U=H+et(t,u,t.l,P);do{o=U+ut(t.i,z-2,P),(R=t.a[z]).z>o&&(R.z=o,R.r=0,R.j=u,R.t=0)}while(--z>=2)}if(k=b+Gt[t.bb[t.l]>>>2],d>=(f=t.Q[0]>=2?t.Q[0]+1:2)){for(M=0;f>t.m[M];)M+=2;for(;o=k+tt(t,c=t.m[M+1],f,P),(R=t.a[f]).z>o&&(R.z=o,R.r=0,R.j=c+4,R.t=0),f!=t.m[M]||(M+=2)!=A;++f);}for(n=0;;){if(++n==h)return Y(t,n);if(w=rt(t),A=t.D,w>=t.n)return t.vb=w,t.N=1,Y(t,n);if(++e,B=t.a[n].r,t.a[n].t?(--B,t.a[n].Ac?(G=t.a[t.a[n].r2].Hc,G=4>t.a[n].j2?7>G?8:11:7>G?7:10):G=t.a[B].Hc,G=W(G)):G=t.a[B].Hc,B==n-1?G=t.a[n].j?W(G):7>G?9:11:(t.a[n].t&&t.a[n].Ac?(B=t.a[n].r2,D=t.a[n].j2,G=7>G?8:11):G=4>(D=t.a[n].j)?7>G?8:11:7>G?7:10,N=t.a[B],4>D?D?1==D?(t.x[0]=N.ac,t.x[1]=N.bc,t.x[2]=N.dc,t.x[3]=N.lc):2==D?(t.x[0]=N.dc,t.x[1]=N.bc,t.x[2]=N.ac,t.x[3]=N.lc):(t.x[0]=N.lc,t.x[1]=N.bc,t.x[2]=N.ac,t.x[3]=N.dc):(t.x[0]=N.bc,t.x[1]=N.ac,t.x[2]=N.dc,t.x[3]=N.lc):(t.x[0]=D-4,t.x[1]=N.bc,t.x[2]=N.ac,t.x[3]=N.dc)),t.a[n].Hc=G,t.a[n].bc=t.x[0],t.a[n].ac=t.x[1],t.a[n].dc=t.x[2],t.a[n].lc=t.x[3],a=t.a[n].z,l=T(t.b,-1),v=T(t.b,-t.x[0]-1-1),P=e&t.y,r=a+Gt[t.C[(G<<4)+P]>>>2]+yt(dt(t.A,e,T(t.b,-2)),G>=7,v,l),S=0,(E=t.a[n+1]).z>r&&(E.z=r,E.r=n,E.j=-1,E.t=0,S=1),H=(b=a+Gt[2048-t.C[(G<<4)+P]>>>2])+Gt[2048-t.bb[G]>>>2],v!=l||n>E.r&&!E.j||(q=H+(Gt[t.hb[G]>>>2]+Gt[t._[(G<<4)+P]>>>2]),E.z>=q&&(E.z=q,E.r=n,E.j=0,E.t=0,S=1)),!(2>(x=L=(L=O(t.b)+1)>4095-n?4095-n:L))){if(x>t.n&&(x=t.n),!S&&v!=l&&(X=Math.min(L-1,t.n),(g=C(t.b,0,t.x[0],X))>=2)){for(K=W(G),j=e+1&t.y,_=r+Gt[2048-t.C[(K<<4)+j]>>>2]+Gt[2048-t.bb[K]>>>2],I=n+1+g;I>h;)t.a[++h].z=268435455;o=_+(ut(t.i,g-2,j)+et(t,0,K,j)),(R=t.a[I]).z>o&&(R.z=o,R.r=n+1,R.j=0,R.t=1,R.Ac=0)}for(V=2,F=0;4>F;++F)if(!(2>(m=C(t.b,-1,t.x[F],x)))){y=m;do{for(;n+m>h;)t.a[++h].z=268435455;o=H+(ut(t.i,m-2,P)+et(t,F,G,P)),(R=t.a[n+m]).z>o&&(R.z=o,R.r=n,R.j=F,R.t=0)}while(--m>=2);if(m=y,F||(V=m+1),L>m&&(X=Math.min(L-1-m,t.n),(g=C(t.b,m,t.x[F],X))>=2)){for(K=7>G?8:11,j=e+m&t.y,i=H+(ut(t.i,m-2,P)+et(t,F,G,P))+Gt[t.C[(K<<4)+j]>>>2]+yt(dt(t.A,e+m,T(t.b,m-1-1)),1,T(t.b,m-1-(t.x[F]+1)),T(t.b,m-1)),K=W(K),j=e+m+1&t.y,_=i+Gt[2048-t.C[(K<<4)+j]>>>2]+Gt[2048-t.bb[K]>>>2],I=m+1+g;n+I>h;)t.a[++h].z=268435455;o=_+(ut(t.i,g-2,j)+et(t,0,K,j)),(R=t.a[n+I]).z>o&&(R.z=o,R.r=n+m+1,R.j=0,R.t=1,R.Ac=1,R.r2=n,R.j2=F)}}if(w>x){for(w=x,A=0;w>t.m[A];A+=2);t.m[A]=w,A+=2}if(w>=V){for(k=b+Gt[t.bb[G]>>>2];n+w>h;)t.a[++h].z=268435455;for(M=0;V>t.m[M];)M+=2;for(m=V;;++m)if(o=k+tt(t,s=t.m[M+1],m,P),(R=t.a[n+m]).z>o&&(R.z=o,R.r=n,R.j=s+4,R.t=0),m==t.m[M]){if(L>m&&(X=Math.min(L-1-m,t.n),(g=C(t.b,m,s,X))>=2)){for(K=7>G?7:10,j=e+m&t.y,i=o+Gt[t.C[(K<<4)+j]>>>2]+yt(dt(t.A,e+m,T(t.b,m-1-1)),1,T(t.b,m-(s+1)-1),T(t.b,m-1)),K=W(K),j=e+m+1&t.y,_=i+Gt[2048-t.C[(K<<4)+j]>>>2]+Gt[2048-t.bb[K]>>>2],I=m+1+g;n+I>h;)t.a[++h].z=268435455;o=_+(ut(t.i,g-2,j)+et(t,0,K,j)),(R=t.a[n+I]).z>o&&(R.z=o,R.r=n+m+1,R.j=0,R.t=1,R.Ac=1,R.r2=n,R.j2=s+4)}if((M+=2)==A)break}}}}}function tt(t,e,n,r){var i=j(n);return(128>e?t.lb[128*i+e]:t.P[(i<<6)+function(t){return 131072>t?Vt[t>>6]+12:134217728>t?Vt[t>>16]+32:Vt[t>>26]+52}(e)]+t.nc[15&e])+ut(t.$,n-2,r)}function et(t,e,n,r){var i;return e?(i=Gt[2048-t.hb[n]>>>2],1==e?i+=Gt[t.Ub[n]>>>2]:(i+=Gt[2048-t.Ub[n]>>>2],i+=Rt(t.vc[n],e-2))):(i=Gt[t.hb[n]>>>2],i+=Gt[2048-t._[(n<<4)+r]>>>2]),i}function nt(t,e){e>0&&(function(t,e){var n,r,i,o,s,a,l,c,u,f,h,d,p,m,g,y,v;do{if(t.h>=t.o+t.ob)d=t.ob;else if(d=t.h-t.o,t.xb>d){I(t);continue}for(p=t.o>t.p?t.o-t.p:0,r=t.f+t.o,t.qb?(a=1023&(v=qt[255&t.c[r]]^255&t.c[r+1]),t.ub[a]=t.o,l=65535&(v^=(255&t.c[r+2])<<8),t.ub[1024+l]=t.o,c=(v^qt[255&t.c[r+3]]<<5)&t.Ec):c=255&t.c[r]^(255&t.c[r+1])<<8,i=t.ub[t.R+c],t.ub[t.R+c]=t.o,g=1+(t.k<<1),y=t.k<<1,f=h=t.w,n=t.Fc;;){if(p>=i||0==n--){t.L[g]=t.L[y]=0;break}if(s=t.o-i,o=(t.k>=s?t.k-s:t.k-s+t.p)<<1,m=t.f+i,u=h>f?f:h,t.c[m+u]==t.c[r+u]){for(;++u!=d&&t.c[m+u]==t.c[r+u];);if(u==d){t.L[y]=t.L[o],t.L[g]=t.L[o+1];break}}(255&t.c[r+u])>(255&t.c[m+u])?(t.L[y]=i,y=o+1,i=t.L[y],h=u):(t.L[g]=i,g=o,i=t.L[g],f=u)}I(t)}while(0!=--e)}(t.b,e),t.s+=e)}function rt(t){var e=0;return t.D=function(t,e){var n,r,i,o,s,a,l,c,u,f,h,d,p,m,g,y,v,b,w,S,E;if(t.h>=t.o+t.ob)m=t.ob;else if(m=t.h-t.o,t.xb>m)return I(t),0;for(v=0,g=t.o>t.p?t.o-t.p:0,r=t.f+t.o,y=1,c=0,u=0,t.qb?(c=1023&(E=qt[255&t.c[r]]^255&t.c[r+1]),u=65535&(E^=(255&t.c[r+2])<<8),f=(E^qt[255&t.c[r+3]]<<5)&t.Ec):f=255&t.c[r]^(255&t.c[r+1])<<8,i=t.ub[t.R+f]||0,t.qb&&(o=t.ub[c]||0,s=t.ub[1024+u]||0,t.ub[c]=t.o,t.ub[1024+u]=t.o,o>g&&t.c[t.f+o]==t.c[r]&&(e[v++]=y=2,e[v++]=t.o-o-1),s>g&&t.c[t.f+s]==t.c[r]&&(s==o&&(v-=2),e[v++]=y=3,e[v++]=t.o-s-1,o=s),0!=v&&o==i&&(v-=2,y=1)),t.ub[t.R+f]=t.o,w=1+(t.k<<1),S=t.k<<1,d=p=t.w,0!=t.w&&i>g&&t.c[t.f+i+t.w]!=t.c[r+t.w]&&(e[v++]=y=t.w,e[v++]=t.o-i-1),n=t.Fc;;){if(g>=i||0==n--){t.L[w]=t.L[S]=0;break}if(l=t.o-i,a=(t.k>=l?t.k-l:t.k-l+t.p)<<1,b=t.f+i,h=p>d?d:p,t.c[b+h]==t.c[r+h]){for(;++h!=m&&t.c[b+h]==t.c[r+h];);if(h>y&&(e[v++]=y=h,e[v++]=l-1,h==m)){t.L[S]=t.L[a],t.L[w]=t.L[a+1];break}}(255&t.c[r+h])>(255&t.c[b+h])?(t.L[S]=i,S=a+1,i=t.L[S],p=h):(t.L[w]=i,w=a,i=t.L[w],d=h)}return I(t),v}(t.b,t.m),t.D>0&&(e=t.m[t.D-2])==t.n&&(e+=C(t.b,e-1,t.m[t.D-1],273-e)),++t.s,e}function it(t){t.b&&t.W&&(t.b.cc=null,t.W=0)}function ot(t){return 2048>t?Vt[t]:2097152>t?Vt[t>>10]+20:Vt[t>>20]+40}function st(t,e){Lt(t.db);for(var n=0;e>n;++n)Lt(t.Vb[n].G),Lt(t.Wb[n].G);Lt(t.ic.G)}function at(t,e,n,r,i){var o,s,a,l,c;for(o=Gt[t.db[0]>>>2],a=(s=Gt[2048-t.db[0]>>>2])+Gt[t.db[1]>>>2],l=s+Gt[2048-t.db[1]>>>2],c=0,c=0;8>c;++c){if(c>=n)return;r[i+c]=o+_t(t.Vb[e],c)}for(;16>c;++c){if(c>=n)return;r[i+c]=a+_t(t.Wb[e],c-8)}for(;n>c;++c)r[i+c]=l+_t(t.ic,c-8-8)}function lt(t,e,n,r){(function(t,e,n,r){8>n?(At(e,t.db,0,0),Et(t.Vb[r],e,n)):(n-=8,At(e,t.db,0,1),8>n?(At(e,t.db,1,0),Et(t.Wb[r],e,n)):(At(e,t.db,1,1),Et(t.ic,e,n-8)))})(t,e,n,r),0==--t.sc[r]&&(at(t,r,t.rb,t.Cc,272*r),t.sc[r]=t.rb)}function ct(t){return function(t){t.db=r(2),t.Vb=r(16),t.Wb=r(16),t.ic=St({},8);for(var e=0;16>e;++e)t.Vb[e]=St({},3),t.Wb[e]=St({},3)}(t),t.Cc=[],t.sc=[],t}function ut(t,e,n){return t.Cc[272*n+e]}function ft(t,e){for(var n=0;e>n;++n)at(t,n,t.rb,t.Cc,272*n),t.sc[n]=t.rb}function ht(t,e,n){var i,o;if(null==t.V||t.u!=n||t.I!=e)for(t.I=e,t.qc=(1<<e)-1,t.u=n,o=1<<t.u+t.I,t.V=r(o),i=0;o>i;++i)t.V[i]=gt({})}function dt(t,e,n){return t.V[((e&t.qc)<<t.u)+((255&n)>>>8-t.u)]}function pt(t,e,n){var r,i,o=1;for(i=7;i>=0;--i)r=n>>i&1,At(e,t.tb,o,r),o=o<<1|r}function mt(t,e,n,r){var i,o,s,a,l=1,c=1;for(o=7;o>=0;--o)i=r>>o&1,a=c,l&&(a+=1+(s=n>>o&1)<<8,l=s==i),At(e,t.tb,a,i),c=c<<1|i}function gt(t){return t.tb=r(768),t}function yt(t,e,n,r){var i,o,s=1,a=7,l=0;if(e)for(;a>=0;--a)if(o=n>>a&1,i=r>>a&1,l+=Rt(t.tb[(1+o<<8)+s],i),s=s<<1|i,o!=i){--a;break}for(;a>=0;--a)i=r>>a&1,l+=Rt(t.tb[s],i),s=s<<1|i;return l}function vt(t){t.j=-1,t.t=0}function bt(t,e){return t.F=e,t.G=r(1<<e),t}function wt(t,e){var n,r=1;for(n=t.F;0!=n;--n)r=(r<<1)+Ot(e,t.G,r);return r-(1<<t.F)}function St(t,e){return t.F=e,t.G=r(1<<e),t}function Et(t,e,n){var r,i,o=1;for(i=t.F;0!=i;)r=n>>>--i&1,At(e,t.G,o,r),o=o<<1|r}function _t(t,e){var n,r,i=1,o=0;for(r=t.F;0!=r;)n=e>>>--r&1,o+=Rt(t.G[i],n),i=(i<<1)+n;return o}function kt(t,e,n){var r,i,o=1;for(i=0;t.F>i;++i)r=1&n,At(e,t.G,o,r),o=o<<1|r,n>>=1}function xt(t,e){var n,r,i=1,o=0;for(r=t.F;0!=r;--r)n=1&e,e>>>=1,o+=Rt(t.G[i],n),i=i<<1|n;return o}function Tt(t,e,n,r,i){var o,s,a=1;for(s=0;r>s;++s)At(n,t,e+a,o=1&i),a=a<<1|o,i>>=1}function Ct(t,e,n,r){var i,o,s=1,a=0;for(o=n;0!=o;--o)i=1&r,r>>>=1,a+=Gt[(2047&(t[e+s]-i^-i))>>>2],s=s<<1|i;return a}function Ot(t,e,n){var r,i=e[n];return(-2147483648^(r=(t.E>>>11)*i))>(-2147483648^t.Bb)?(t.E=r,e[n]=i+(2048-i>>>5)<<16>>16,-16777216&t.E||(t.Bb=t.Bb<<8|g(t.Ab),t.E<<=8),0):(t.E-=r,t.Bb-=r,e[n]=i-(i>>>5)<<16>>16,-16777216&t.E||(t.Bb=t.Bb<<8|g(t.Ab),t.E<<=8),1)}function Lt(t){for(var e=t.length-1;e>=0;--e)t[e]=1024}function At(t,e,n,r){var s,a=e[n];s=(t.E>>>11)*a,r?(t.xc=i(t.xc,o(c(s),[4294967295,0])),t.E-=s,e[n]=a-(a>>>5)<<16>>16):(t.E=s,e[n]=a+(2048-a>>>5)<<16>>16),-16777216&t.E||(t.E<<=8,Nt(t))}function Mt(t,e,n){for(var r=n-1;r>=0;--r)t.E>>>=1,1==(e>>>r&1)&&(t.xc=i(t.xc,c(t.E))),-16777216&t.E||(t.E<<=8,Nt(t))}function It(t){return i(i(c(t.Jb),t.mc),[4,0])}function Nt(t){var e,n=u(function(t,e){var n;return n=d(t,e&=63),0>t[1]&&(n=i(n,h([2,0],31))),n}(t.xc,32));if(0!=n||s(t.xc,[4278190080,0])<0){t.mc=i(t.mc,c(t.Jb)),e=t.Oc;do{w(t.Ab,e+n),e=255}while(0!=--t.Jb);t.Oc=u(t.xc)>>>24}++t.Jb,t.xc=h(o(t.xc,[16777215,0]),8)}function Rt(t,e){return Gt[(2047&(t-e^-e))>>>2]}function Dt(t){for(var e,n,r,i=0,o=0,s=t.length,a=[],l=[];s>i;++i,++o){if(128&(e=255&t[i]))if(192==(224&e)){if(i+1>=s)return t;if(128!=(192&(n=255&t[++i])))return t;l[o]=(31&e)<<6|63&n}else{if(224!=(240&e))return t;if(i+2>=s)return t;if(128!=(192&(n=255&t[++i])))return t;if(128!=(192&(r=255&t[++i])))return t;l[o]=(15&e)<<12|(63&n)<<6|63&r}else{if(!e)return t;l[o]=e}16383==o&&(a.push(String.fromCharCode.apply(String,l)),o=-1)}return o>0&&(l.length=o,a.push(String.fromCharCode.apply(String,l))),a.join("")}function Bt(t){var e,n,r,i=[],o=0,s=t.length;if("object"==typeof t)return t;for(function(t,e,n,r,i){var o;for(o=0;n>o;++o)r[i++]=t.charCodeAt(o)}(t,0,s,i,0),r=0;s>r;++r)(e=i[r])>=1&&127>=e?++o:o+=!e||e>=128&&2047>=e?2:3;for(n=[],o=0,r=0;s>r;++r)(e=i[r])>=1&&127>=e?n[o++]=e<<24>>24:!e||e>=128&&2047>=e?(n[o++]=(192|e>>6&31)<<24>>24,n[o++]=(128|63&e)<<24>>24):(n[o++]=(224|e>>12&15)<<24>>24,n[o++]=(128|e>>6&63)<<24>>24,n[o++]=(128|63&e)<<24>>24);return n}function Pt(t){return t[1]+t[0]}var jt=3,Wt="function"==typeof t?t:setTimeout,Ut=4294967296,Ft=[4294967295,-Ut],zt=[0,-0x8000000000000000],Ht=[0,0],$t=[1,0],qt=function(){var t,e,n,r=[];for(t=0;256>t;++t){for(n=t,e=0;8>e;++e)1&n?n=n>>>1^-306674912:n>>>=1;r[t]=n}return r}(),Vt=function(){var t,e,n,r=2,i=[0,1];for(n=2;22>n;++n)for(e=1<<(n>>1)-1,t=0;e>t;++t,++r)i[r]=n<<24>>24;return i}(),Gt=function(){var t,e,n,r=[];for(e=8;e>=0;--e)for(t=1<<9-e,n=1<<9-e-1;t>n;++n)r[n]=(e<<6)+(t-n<<6>>>9-e-1);return r}(),Yt=function(){var t=[{s:16,f:64,m:0},{s:20,f:64,m:0},{s:19,f:64,m:1},{s:20,f:64,m:1},{s:21,f:128,m:1},{s:22,f:128,m:1},{s:23,f:128,m:1},{s:24,f:255,m:1},{s:25,f:255,m:1}];return function(e){return t[e-1]||t[6]}}();return"undefined"==typeof onmessage||"undefined"!=typeof window&&void 0!==window.document||(onmessage=function(t){t&&t.gc&&(2==t.gc.action?e.decompress(t.gc.gc,t.gc.cbn):1==t.gc.action&&e.compress(t.gc.gc,t.gc.Rc,t.gc.cbn))}),{compress:function(t,e,r,i){var o,s,a={},l=void 0===r&&void 0===i;if("function"!=typeof r&&(s=r,r=i=0),i=i||function(t){return void 0!==s?n(t,s):void 0},r=r||function(t,e){return void 0!==s?postMessage({action:1,cbn:s,result:t,error:e}):void 0},l){for(a.c=k({},Bt(t),Yt(e));U(a.c.yb););return b(a.c.Nb)}try{a.c=k({},Bt(t),Yt(e)),i(0)}catch(t){return r(null,t)}Wt((function t(){try{for(var e,n=(new Date).getTime();U(a.c.yb);)if(o=Pt(a.c.yb.Pb)/Pt(a.c.Tb),(new Date).getTime()-n>200)return i(o),Wt(t,0),0;i(1),e=b(a.c.Nb),Wt(r.bind(null,e),0)}catch(t){r(null,t)}}),0)},decompress:function(t,e,r){var i,o,s,a,l={},c=void 0===e&&void 0===r;if("function"!=typeof e&&(o=e,e=r=0),r=r||function(t){return void 0!==o?n(s?t:-1,o):void 0},e=e||function(t,e){return void 0!==o?postMessage({action:2,cbn:o,result:t,error:e}):void 0},c){for(l.d=x({},t);U(l.d.yb););return Dt(b(l.d.Nb))}try{l.d=x({},t),a=Pt(l.d.Tb),s=a>-1,r(0)}catch(t){return e(null,t)}Wt((function t(){try{for(var n,o=0,c=(new Date).getTime();U(l.d.yb);)if(++o%1e3==0&&(new Date).getTime()-c>200)return s&&(i=Pt(l.d.yb.Z.g)/a,r(i)),Wt(t,0),0;r(1),n=Dt(b(l.d.Nb)),Wt(e.bind(null,n),0)}catch(t){e(null,t)}}),0)}}}();this.LZMA=this.LZMA_WORKER=e}).call(this,n(20).setImmediate)},function(t,e,n){var r,i=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var o={compressToBase64:function(t){if(null==t)return"";var n=o._compress(t,6,(function(t){return e.charAt(t)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:o._decompress(t.length,32,(function(n){return i(e,t.charAt(n))}))},compressToUTF16:function(e){return null==e?"":o._compress(e,15,(function(e){return t(e+32)}))+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:o._decompress(t.length,16384,(function(e){return t.charCodeAt(e)-32}))},compressToUint8Array:function(t){for(var e=o.compress(t),n=new Uint8Array(2*e.length),r=0,i=e.length;r<i;r++){var s=e.charCodeAt(r);n[2*r]=s>>>8,n[2*r+1]=s%256}return n},decompressFromUint8Array:function(e){if(null==e)return o.decompress(e);for(var n=new Array(e.length/2),r=0,i=n.length;r<i;r++)n[r]=256*e[2*r]+e[2*r+1];var s=[];return n.forEach((function(e){s.push(t(e))})),o.decompress(s.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":o._compress(t,6,(function(t){return n.charAt(t)}))},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),o._decompress(t.length,32,(function(e){return i(n,t.charAt(e))})))},compress:function(e){return o._compress(e,16,(function(e){return t(e)}))},_compress:function(t,e,n){if(null==t)return"";var r,i,o,s={},a={},l="",c="",u="",f=2,h=3,d=2,p=[],m=0,g=0;for(o=0;o<t.length;o+=1)if(l=t.charAt(o),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=h++,a[l]=!0),c=u+l,Object.prototype.hasOwnProperty.call(s,c))u=c;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,g==e-1?(g=0,p.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<d;r++)m=m<<1|i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}0==--f&&(f=Math.pow(2,d),d++),delete a[u]}else for(i=s[u],r=0;r<d;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;0==--f&&(f=Math.pow(2,d),d++),s[c]=h++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,g==e-1?(g=0,p.push(n(m)),m=0):g++;for(i=u.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<d;r++)m=m<<1|i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i=0;for(i=u.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1}0==--f&&(f=Math.pow(2,d),d++),delete a[u]}else for(i=s[u],r=0;r<d;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;0==--f&&(f=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)m=m<<1|1&i,g==e-1?(g=0,p.push(n(m)),m=0):g++,i>>=1;for(;;){if(m<<=1,g==e-1){p.push(n(m));break}g++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:o._decompress(t.length,32768,(function(e){return t.charCodeAt(e)}))},_decompress:function(e,n,r){var i,o,s,a,l,c,u,f=[],h=4,d=4,p=3,m="",g=[],y={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)f[i]=i;for(s=0,l=Math.pow(2,2),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;u=t(s);break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;u=t(s);break;case 2:return""}for(f[3]=u,o=u,g.push(u);;){if(y.index>e)return"";for(s=0,l=Math.pow(2,p),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;switch(u=s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;f[d++]=t(s),u=d-1,h--;break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;f[d++]=t(s),u=d-1,h--;break;case 2:return g.join("")}if(0==h&&(h=Math.pow(2,p),p++),f[u])m=f[u];else{if(u!==d)return null;m=o+o.charAt(0)}g.push(m),f[d++]=o+m.charAt(0),o=m,0==--h&&(h=Math.pow(2,p),p++)}}};return o}();void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r=function(){};r.prototype.encode=function(t){for(var e,n={},r=(t+"").split(""),i=[],o=r[0],s=256,a=1;a<r.length;a++)null!=n[o+(e=r[a])]?o+=e:(i.push(o.length>1?n[o]:o.charCodeAt(0)),n[o+e]=s,s++,o=e);for(i.push(o.length>1?n[o]:o.charCodeAt(0)),a=0;a<i.length;a++)i[a]=String.fromCharCode(i[a]);return i.join("")},r.prototype.decode=function(t){for(var e,n={},r=(t+"").split(""),i=r[0],o=i,s=[i],a=256,l=1;l<r.length;l++){var c=r[l].charCodeAt(0);e=c<256?r[l]:n[c]?n[c]:o+i,s.push(e),i=e.charAt(0),n[a]=o+i,a++,o=e}return s.join("")},t.exports=new r},function(t,e,n){"use strict";n.r(e);var r,i,o,s=n(1),a=n.n(s),l=n(0),c=n.n(l),u=n(23),f=n(24),h=n(25),d={pack:!0,encode:!0,compress:(i=a()(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)}))),function(t){return i.apply(this,arguments)}),decompress:(r=a()(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},p={lzma:u.a,lzstring:f.a,lzw:h.a,pack:d},m=n(2);n.p=(o=function(){if(document.currentScript)return document.currentScript.src;var t=document.getElementsByTagName("script");return t[t.length-1].src}()).substring(0,o.lastIndexOf("/"))+"/",e.default=function(t){if(!Object.prototype.hasOwnProperty.call(p,t))throw new Error("No such algorithm ".concat(t));var e=p[t],n=e.pack,r=e.encode;function i(t){return o.apply(this,arguments)}function o(){return(o=a()(c.a.mark((function e(i){var o,s,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,m.a.msgpack();case 3:e.t0=e.sent.encode(i),e.next=7;break;case 6:e.t0=JSON.stringify(i);case 7:return o=e.t0,e.next=10,p[t].compress(o);case 10:if(s=e.sent,!r){e.next=17;break}return e.next=14,m.a.safe64();case 14:e.t1=e.sent.encode(s),e.next=18;break;case 17:e.t1=s;case 18:return a=e.t1,e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=a()(c.a.mark((function e(i){var o,s,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,m.a.safe64();case 3:e.t0=e.sent.decode(i),e.next=7;break;case 6:e.t0=i;case 7:return o=e.t0,e.next=10,p[t].decompress(o);case 10:if(s=e.sent,!n){e.next=17;break}return e.next=14,m.a.msgpack();case 14:e.t1=e.sent.decode(s),e.next=18;break;case 17:e.t1=JSON.parse(s);case 18:return a=e.t1,e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=a()(c.a.mark((function t(e){var n,r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify(e),r=encodeURIComponent(n),t.next=4,i(e);case 4:return o=t.sent,t.abrupt("return",{raw:n.length,rawencoded:r.length,compressedencoded:o.length,compression:(s=r.length/o.length,Math.floor(1e4*s)/1e4)});case 6:case"end":return t.stop()}var s}),t)})))).apply(this,arguments)}return{compress:i,decompress:function(t){return s.apply(this,arguments)},stats:function(t){return l.apply(this,arguments)}}}}]).default},141:(t,e,n)=>{"use strict";var r=n(861).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=f,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.I=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},213:function(t,e,n){var r,i;void 0===(i="function"==typeof(r=function(){"use strict";function e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){a(r.response,e,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,n,s){var a=o.URL||o.webkitURL,l=document.createElement("a");n=n||t.name||"download",l.download=n,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?i(l):r(l.href)?e(t,n,s):i(l,l.target="_blank")):(l.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),n);else if(r(t))e(t,n,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){i(s)}))}}:function(t,n,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,r);var a="application/octet-stream"===t.type,l=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var f=o.URL||o.webkitURL,h=f.createObjectURL(t);i?i.location=h:location.href=h,i=null,setTimeout((function(){f.revokeObjectURL(h)}),4e4)}});o.saveAs=a.saveAs=a,t.exports=a})?r.apply(e,[]):r)||(t.exports=i)},217:module=>{var factory;self,factory=()=>(()=>{var __webpack_modules__={"./src/WebTerminal.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global MutationObserver */\n\nvar _modules = __webpack_require__(/*! ./modules */ "./src/modules/index.js");\n\nvar _WebTerminal = __webpack_require__(/*! ./WebTerminal.css */ "./src/WebTerminal.css");\n\nvar _WebTerminal2 = _interopRequireDefault(_WebTerminal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n// eslint-disable-line\n\nvar KEY = "WebTerm";\n\nvar _window = window,\n    addEventListener = _window.addEventListener,\n    localStorage = _window.localStorage;\n\nvar Terminal = function () {\n  function Terminal() {\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Terminal);\n\n    _initialiseProps.call(this);\n\n    var _props$container = props.container,\n        container = _props$container === undefined ? "web-terminal" : _props$container,\n        _props$commands = props.commands,\n        commands = _props$commands === undefined ? {} : _props$commands,\n        _props$welcome = props.welcome,\n        welcome = _props$welcome === undefined ? \'Welcome to the simple <a href="">Web Terminal</a>.\' : _props$welcome,\n        _props$prompt = props.prompt,\n        prompt = _props$prompt === undefined ? "" : _props$prompt,\n        _props$separator = props.separator,\n        separator = _props$separator === undefined ? "&gt;" : _props$separator,\n        _props$ignoreBadComma = props.ignoreBadCommand,\n        ignoreBadCommand = _props$ignoreBadComma === undefined ? false : _props$ignoreBadComma,\n        _props$autoFocus = props.autoFocus,\n        autoFocus = _props$autoFocus === undefined ? true : _props$autoFocus,\n        _props$colors = props.colors,\n        contextualColors = _props$colors === undefined ? true : _props$colors,\n        _props$colorTheme = props.colorTheme,\n        colorTheme = _props$colorTheme === undefined ? "light" : _props$colorTheme;\n\n    this.commands = Object.assign({}, _modules.COMMANDS, commands);\n    this.history = localStorage[KEY] ? JSON.parse(localStorage[KEY]) : [];\n    this.historyCursor = this.history.length;\n    this.welcome = welcome;\n    this.shell = { prompt: prompt, separator: separator };\n    this.ignoreBadCommand = ignoreBadCommand;\n    this.autoFocus = autoFocus;\n    this.contextualColors = contextualColors;\n    this.colorTheme = colorTheme;\n    this.colors = _modules.colors; // Expose color utility functions\n    this.colorize = _modules.colorize; // Expose colorize function\n\n    var el = document.getElementById(container);\n    if (el) {\n      this.cacheDOM(el);\n      this.addListeners();\n      if (welcome) this.output(welcome);\n    } else throw Error("Container #" + container + " doesn\'t exists.");\n  }\n\n  _createClass(Terminal, [{\n    key: "clear",\n    value: function clear() {\n      this.DOM.output.innerHTML = "";\n      if (!this.state.idle) {\n        this.DOM.input.focus();\n      }\n      this.resetCommand();\n    }\n  }, {\n    key: "idle",\n    value: function idle() {\n      var DOM = this.DOM;\n\n\n      DOM.command.classList.add("idle");\n      DOM.prompt.innerHTML = \'<div class="spinner"></div>\';\n    }\n  }, {\n    key: "prompt",\n    value: function prompt(_prompt) {\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n\n      this.state.prompt = true;\n      this.onAskCallback = callback;\n      this.DOM.prompt.innerHTML = _prompt + ":";\n      this.resetCommand();\n      this.DOM.command.classList.add("input");\n    }\n  }, {\n    key: "onInput",\n    value: function onInput(callback) {\n      this.onInputCallback = callback;\n    }\n\n    // Output raw HTML without any processing (useful for pre-formatted HTML content)\n\n  }, {\n    key: "outputHTML",\n    value: function outputHTML() {\n      var html = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "&nbsp;";\n\n      this.DOM.output.insertAdjacentHTML("beforeEnd", "<span>" + html + "</span>");\n      this.scrollDown();\n    }\n  }, {\n    key: "output",\n    value: function output() {\n      var html = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : "&nbsp;";\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var processedHtml = html;\n\n      // Process colors if enabled\n      if (this.contextualColors && typeof html === "string") {\n        // Handle specific message types first\n        if (type && ["error", "success", "warning", "info"].includes(type)) {\n          processedHtml = (0, _modules.colorizeMessageType)(html, type, this.colorTheme);\n        }\n        // Then apply contextual coloring\n        else {\n            // First process ANSI codes, then contextual coloring\n            processedHtml = (0, _modules.ansiToHtml)(html);\n            if (processedHtml === html) {\n              // Only apply contextual if no ANSI codes were processed\n              processedHtml = (0, _modules.contextualColorize)(processedHtml, this.colorTheme);\n            }\n          }\n      } else if (typeof html === "string") {\n        // If colors are disabled, still process ANSI codes to avoid showing raw escape sequences\n        processedHtml = (0, _modules.ansiToHtml)(html);\n        if (processedHtml === html) {\n          // No ANSI codes found, escape HTML to prevent injection\n          processedHtml = html.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;");\n        }\n      }\n\n      this.DOM.output.insertAdjacentHTML("beforeEnd", "<span>" + processedHtml + "</span>");\n      this.resetCommand();\n    }\n\n    // Output JSON with syntax highlighting\n\n  }, {\n    key: "outputJSON",\n    value: function outputJSON(obj) {\n      if (!this.contextualColors) {\n        this.output(JSON.stringify(obj, null, 2));\n        return;\n      }\n      this.output((0, _modules.colorizeJSON)(obj, this.colorTheme));\n    }\n\n    // Output command results with contextual coloring\n\n  }, {\n    key: "outputCommand",\n    value: function outputCommand(text) {\n      if (!this.contextualColors) {\n        this.output(text);\n        return;\n      }\n      this.output((0, _modules.colorizeCommandOutput)(text, this.colorTheme));\n    }\n  }, {\n    key: "setPrompt",\n    value: function setPrompt() {\n      var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.shell.prompt;\n      var DOM = this.DOM,\n          separator = this.shell.separator;\n\n\n      this.shell = { prompt: prompt, separator: separator };\n      DOM.command.classList.remove("idle");\n      DOM.prompt.innerHTML = "" + prompt + separator;\n      DOM.input.focus();\n    }\n\n    // Color utility methods\n\n  }, {\n    key: "colorize",\n    value: function colorize(text, color, bgColor) {\n      if (!this.contextualColors) return text;\n      return (0, _modules.colorize)(text, color, bgColor);\n    }\n\n    // Convenience methods for message types\n\n  }, {\n    key: "error",\n    value: function error(text) {\n      this.output(text, "error");\n    }\n  }, {\n    key: "success",\n    value: function success(text) {\n      this.output(text, "success");\n    }\n  }, {\n    key: "warning",\n    value: function warning(text) {\n      this.output(text, "warning");\n    }\n  }, {\n    key: "info",\n    value: function info(text) {\n      this.output(text, "info");\n    }\n\n    // Method to change color theme\n\n  }, {\n    key: "setColorTheme",\n    value: function setColorTheme(theme) {\n      if (_modules.COLOR_THEMES[theme]) {\n        var oldTheme = this.colorTheme;\n        var oldColors = _modules.COLOR_THEMES[oldTheme];\n        var newColors = _modules.COLOR_THEMES[theme];\n\n        // Remove old theme class\n        this.DOM.el.classList.remove("theme-" + this.colorTheme);\n\n        // Set new theme\n        this.colorTheme = theme;\n\n        // Add new theme class\n        this.DOM.el.classList.add("theme-" + this.colorTheme);\n\n        // Update all existing inline styles in the output to use new theme colors\n        if (this.contextualColors && oldColors && newColors) {\n          var outputSpans = this.DOM.output.querySelectorAll(\'span[style*="color"]\');\n          outputSpans.forEach(function (span) {\n            var currentStyle = span.getAttribute("style");\n            if (currentStyle) {\n              var updatedStyle = currentStyle;\n\n              // Replace each old theme color with the corresponding new theme color\n              Object.keys(oldColors).forEach(function (colorKey) {\n                var oldColor = oldColors[colorKey];\n                var newColor = newColors[colorKey];\n\n                // Escape special regex characters in the color value (e.g., # in hex colors)\n                var escapedOldColor = oldColor.replace(/[#().]/g, "\\\\$&");\n\n                // Match the color in the style attribute (case-insensitive)\n                var colorRegex = new RegExp("color:\\\\s*" + escapedOldColor, "gi");\n                updatedStyle = updatedStyle.replace(colorRegex, "color: " + newColor);\n              });\n\n              span.setAttribute("style", updatedStyle);\n            }\n          });\n        }\n      }\n    }\n\n    // Method to toggle contextual coloring\n\n  }, {\n    key: "setContextualColors",\n    value: function setContextualColors(enable) {\n      this.contextualColors = enable;\n    }\n  }]);\n\n  return Terminal;\n}();\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.state = {\n    prompt: undefined,\n    idle: undefined\n  };\n\n  this.cacheDOM = function (el) {\n    el.classList.add(KEY);\n    el.classList.add("theme-" + _this.colorTheme);\n    el.insertAdjacentHTML("beforeEnd", (0, _modules.markup)(_this));\n\n    // Cache DOM nodes\n    var container = el.querySelector(".container");\n    _this.DOM = {\n      container: container,\n      output: container.querySelector("output"),\n      command: container.querySelector(".command"),\n      input: container.querySelector(".command .input"),\n      prompt: container.querySelector(".command .prompt"),\n      el: el // Store reference to main element for theme switching\n    };\n  };\n\n  this.addListeners = function () {\n    var DOM = _this.DOM,\n        autoFocus = _this.autoFocus;\n\n    // Create a MutationObserver to observe changes in the output element\n\n    var observer = new MutationObserver(function () {\n      setTimeout(function () {\n        return DOM.input.scrollIntoView();\n      }, 10);\n    });\n\n    // Start observing the output element for child list changes\n    observer.observe(DOM.output, { childList: true, subtree: true });\n\n    DOM.output.addEventListener("click", function (event) {\n      return event.stopPropagation();\n    }, false);\n    DOM.input.addEventListener("keyup", _this.onKeyUp, false);\n    DOM.input.addEventListener("keydown", _this.onKeyDown, false);\n    DOM.command.addEventListener("click", function () {\n      return DOM.input.focus();\n    }, false);\n\n    if (autoFocus) {\n      addEventListener("click", function () {\n        return DOM.input.focus();\n      }, false);\n\n      addEventListener("keyup", function (event) {\n        DOM.input.focus();\n        event.stopPropagation();\n        event.preventDefault();\n      }, false);\n    }\n  };\n\n  this.onKeyUp = function (event) {\n    var keyCode = event.keyCode;\n    var DOM = _this.DOM,\n        _history = _this.history,\n        history = _history === undefined ? [] : _history,\n        historyCursor = _this.historyCursor;\n\n\n    if (keyCode === 27) {\n      // ESC key\n      DOM.input.value = "";\n      event.stopPropagation();\n      event.preventDefault();\n    } else if ([38, 40].includes(keyCode)) {\n      if (keyCode === 38 && historyCursor > 0) _this.historyCursor -= 1; // {38} UP key\n      if (keyCode === 40 && historyCursor < history.length - 1) _this.historyCursor += 1; // {40} DOWN key\n\n      if (history[_this.historyCursor]) DOM.input.value = history[_this.historyCursor];\n    }\n  };\n\n  this.onKeyDown = function (_ref) {\n    var keyCode = _ref.keyCode;\n    var _commands = _this.commands,\n        commands = _commands === undefined ? {} : _commands,\n        DOM = _this.DOM,\n        history = _this.history,\n        onInputCallback = _this.onInputCallback,\n        state = _this.state;\n\n    var commandLine = DOM.input.value.trim();\n    if (keyCode !== 13 || !commandLine) return;\n\n    var _commandLine$split = commandLine.split(" "),\n        _commandLine$split2 = _toArray(_commandLine$split),\n        command = _commandLine$split2[0],\n        parameters = _commandLine$split2.slice(1);\n\n    if (state.prompt) {\n      state.prompt = false;\n      _this.onAskCallback(command);\n      _this.setPrompt();\n      _this.resetCommand();\n      return;\n    }\n\n    // Save command line in history\n    history.push(commandLine);\n    localStorage[KEY] = JSON.stringify(history);\n    _this.historyCursor = history.length;\n\n    // Clone command as a new output line\n    DOM.output.appendChild((0, _modules.cloneCommandNode)(DOM.command));\n\n    // Clean command line\n    DOM.command.classList.add("hidden");\n    DOM.input.value = "";\n\n    // Dispatch command\n    var handled = false;\n    if (Object.keys(commands).includes(command)) {\n      var callback = commands[command];\n      if (callback) {\n        callback(_this, parameters);\n        handled = true;\n      }\n    } else if (!_this.ignoreBadCommand) {\n      _this.output("<u>" + command + "</u>: command not found.");\n    }\n    if (onInputCallback) onInputCallback(command, parameters, handled);\n  };\n\n  this.resetCommand = function () {\n    var DOM = _this.DOM;\n\n\n    DOM.input.value = "";\n    DOM.command.classList.remove("input");\n    DOM.command.classList.remove("hidden");\n    if (DOM.input.scrollIntoView) DOM.input.scrollIntoView();\n  };\n};\n\nif (window) window.WebTerminal = Terminal;\n\nexports["default"] = Terminal;\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/WebTerminal.js?')},"./src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nvar _WebTerminal = __webpack_require__(/*! ./WebTerminal */ "./src/WebTerminal.js");\n\nObject.defineProperty(exports, "default", ({\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_WebTerminal).default;\n  }\n}));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/index.js?')},"./src/modules/cloneCommandNode.js":(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nexports[\"default\"] = function (el) {\n  var line = el.cloneNode(true);\n  var input = line.querySelector('.input');\n\n  input.autofocus = false;\n  input.readOnly = true;\n  input.insertAdjacentHTML('beforebegin', '<p>' + input.value + '</p>');\n  input.parentNode.removeChild(input);\n  line.classList.add('line');\n\n  return line;\n};\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/cloneCommandNode.js?")},"./src/modules/colors.js":(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports.ansiToHtml = ansiToHtml;\nexports.contextualColorize = contextualColorize;\nexports.colorizeMessageType = colorizeMessageType;\nexports.colorizeJSON = colorizeJSON;\nexports.colorizeCommandOutput = colorizeCommandOutput;\nexports.colorize = colorize;\n// Color utility functions for WebTerminal with contextual highlighting\nvar ANSI_COLORS = exports.ANSI_COLORS = {\n  30: 'black',\n  31: 'red',\n  32: 'green',\n  33: 'yellow',\n  34: 'blue',\n  35: 'magenta',\n  36: 'cyan',\n  37: 'white',\n  90: 'bright-black',\n  91: 'bright-red',\n  92: 'bright-green',\n  93: 'bright-yellow',\n  94: 'bright-blue',\n  95: 'bright-magenta',\n  96: 'bright-cyan',\n  97: 'bright-white'\n};\n\n// Color themes for different content types\nvar COLOR_THEMES = exports.COLOR_THEMES = {\n  light: {\n    number: '#b34700', // Darker orange for numbers\n    string: '#1e7e34', // Darker green for strings  \n    boolean: '#a62c1f', // Darker red for booleans\n    null: '#5a6268', // Darker gray for null/undefined\n    url: '#1c5d8a', // Darker blue for URLs\n    path: '#6c2d91', // Darker purple for file paths\n    command: '#d39e00', // Darker orange for commands\n    error: '#c82333', // Darker red for errors\n    success: '#1e7e34', // Darker green for success\n    warning: '#d39e00', // Darker orange for warnings\n    info: '#1c5d8a', // Darker blue for info\n    prompt: '#1a252f', // Very dark gray for prompt\n    punctuation: '#5a6268', // Darker gray for punctuation\n    keyword: '#b34700', // Darker orange for keywords\n    variable: '#6c2d91' // Darker purple for variables\n  },\n\n  dark: {\n    number: '#fd971f', // Bright orange\n    string: '#a6e22e', // Bright green\n    boolean: '#f92672', // Bright pink\n    null: '#75715e', // Dark gray\n    url: '#66d9ef', // Cyan\n    path: '#ae81ff', // Light purple\n    command: '#e6db74', // Light yellow\n    error: '#f92672', // Bright pink\n    success: '#a6e22e', // Bright green\n    warning: '#fd971f', // Bright orange\n    info: '#66d9ef', // Cyan\n    prompt: '#449dff', // Blue\n    punctuation: '#f8f8f2', // Off-white\n    keyword: '#f92672', // Bright pink\n    variable: '#66d9ef' // Cyan\n  }\n};\n\nvar ANSI_BG_COLORS = exports.ANSI_BG_COLORS = {\n  40: 'black',\n  41: 'red',\n  42: 'green',\n  43: 'yellow',\n  44: 'blue',\n  45: 'magenta',\n  46: 'cyan',\n  47: 'white',\n  100: 'bright-black',\n  101: 'bright-red',\n  102: 'bright-green',\n  103: 'bright-yellow',\n  104: 'bright-blue',\n  105: 'bright-magenta',\n  106: 'bright-cyan',\n  107: 'bright-white'\n};\n\nvar ANSI_STYLES = exports.ANSI_STYLES = {\n  1: 'bold',\n  2: 'dim',\n  3: 'italic',\n  4: 'underline',\n  9: 'strikethrough'\n};\n\n/**\n * Convert ANSI escape sequences to HTML with CSS classes\n * @param {string} text - Text containing ANSI escape sequences\n * @returns {string} HTML with CSS classes for styling\n */\nfunction ansiToHtml(text) {\n  if (!text || typeof text !== 'string') return text;\n\n  // Reset code\n  var resetCode = '\\x1b[0m';\n\n  // Split by ANSI escape sequences\n  var ansiRegex = /\\x1b\\[([0-9;]*)m/g;\n  var result = '';\n  var lastIndex = 0;\n  var currentClasses = [];\n\n  var match = void 0;\n  while ((match = ansiRegex.exec(text)) !== null) {\n    // Add text before this escape sequence\n    var textBefore = text.slice(lastIndex, match.index);\n    if (textBefore) {\n      if (currentClasses.length > 0) {\n        result += '<span class=\"' + currentClasses.join(' ') + '\">' + textBefore + '</span>';\n      } else {\n        result += textBefore;\n      }\n    }\n\n    // Parse the ANSI codes\n    var codes = match[1].split(';').map(function (code) {\n      return parseInt(code, 10);\n    }).filter(function (code) {\n      return !isNaN(code);\n    });\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = codes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var code = _step.value;\n\n        if (code === 0) {\n          // Reset all styles\n          currentClasses = [];\n        } else if (ANSI_COLORS[code]) {\n          // Remove any existing color classes\n          currentClasses = currentClasses.filter(function (cls) {\n            return !cls.startsWith('color-');\n          });\n          currentClasses.push('color-' + ANSI_COLORS[code]);\n        } else if (ANSI_BG_COLORS[code]) {\n          // Remove any existing background color classes\n          currentClasses = currentClasses.filter(function (cls) {\n            return !cls.startsWith('bg-');\n          });\n          currentClasses.push('bg-' + ANSI_BG_COLORS[code]);\n        } else if (ANSI_STYLES[code]) {\n          // Add style class if not already present\n          var styleClass = ANSI_STYLES[code];\n          if (!currentClasses.includes(styleClass)) {\n            currentClasses.push(styleClass);\n          }\n        }\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    lastIndex = match.index + match[0].length;\n  }\n\n  // Add remaining text\n  var remainingText = text.slice(lastIndex);\n  if (remainingText) {\n    if (currentClasses.length > 0) {\n      result += '<span class=\"' + currentClasses.join(' ') + '\">' + remainingText + '</span>';\n    } else {\n      result += remainingText;\n    }\n  }\n\n  return result;\n}\n\n/**\n * Simple color utility functions for easy use\n */\nvar colors = exports.colors = {\n  black: function black(text) {\n    return '\\x1B[30m' + text + '\\x1B[0m';\n  },\n  red: function red(text) {\n    return '\\x1B[31m' + text + '\\x1B[0m';\n  },\n  green: function green(text) {\n    return '\\x1B[32m' + text + '\\x1B[0m';\n  },\n  yellow: function yellow(text) {\n    return '\\x1B[33m' + text + '\\x1B[0m';\n  },\n  blue: function blue(text) {\n    return '\\x1B[34m' + text + '\\x1B[0m';\n  },\n  magenta: function magenta(text) {\n    return '\\x1B[35m' + text + '\\x1B[0m';\n  },\n  cyan: function cyan(text) {\n    return '\\x1B[36m' + text + '\\x1B[0m';\n  },\n  white: function white(text) {\n    return '\\x1B[37m' + text + '\\x1B[0m';\n  },\n\n  // Bright colors\n  brightBlack: function brightBlack(text) {\n    return '\\x1B[90m' + text + '\\x1B[0m';\n  },\n  brightRed: function brightRed(text) {\n    return '\\x1B[91m' + text + '\\x1B[0m';\n  },\n  brightGreen: function brightGreen(text) {\n    return '\\x1B[92m' + text + '\\x1B[0m';\n  },\n  brightYellow: function brightYellow(text) {\n    return '\\x1B[93m' + text + '\\x1B[0m';\n  },\n  brightBlue: function brightBlue(text) {\n    return '\\x1B[94m' + text + '\\x1B[0m';\n  },\n  brightMagenta: function brightMagenta(text) {\n    return '\\x1B[95m' + text + '\\x1B[0m';\n  },\n  brightCyan: function brightCyan(text) {\n    return '\\x1B[96m' + text + '\\x1B[0m';\n  },\n  brightWhite: function brightWhite(text) {\n    return '\\x1B[97m' + text + '\\x1B[0m';\n  },\n\n  // Styles\n  bold: function bold(text) {\n    return '\\x1B[1m' + text + '\\x1B[0m';\n  },\n  dim: function dim(text) {\n    return '\\x1B[2m' + text + '\\x1B[0m';\n  },\n  italic: function italic(text) {\n    return '\\x1B[3m' + text + '\\x1B[0m';\n  },\n  underline: function underline(text) {\n    return '\\x1B[4m' + text + '\\x1B[0m';\n  },\n  strikethrough: function strikethrough(text) {\n    return '\\x1B[9m' + text + '\\x1B[0m';\n  }\n};\n\n/**\n * Contextually colorize content based on its type and context\n * @param {string} text - Text to colorize\n * @param {string} theme - Color theme to use ('light' or 'dark')\n * @returns {string} HTML with colored spans\n */\nfunction contextualColorize(text) {\n  var theme = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'light';\n\n  if (!text || typeof text !== 'string') return text;\n\n  // Skip colorizing if text already contains HTML tags\n  if (/<[^>]*>/g.test(text)) {\n    return text;\n  }\n\n  var colors = COLOR_THEMES[theme] || COLOR_THEMES.light;\n\n  // Patterns for different content types\n  var patterns = [\n  // URLs (must come before file paths)\n  {\n    regex: /(https?:\\/\\/[^\\s<>\"{}|\\\\^`[\\]]+)/g,\n    color: colors.url,\n    type: 'url'\n  },\n\n  // File paths (Unix and Windows)\n  {\n    regex: /([~/]?(?:[a-zA-Z]:)?[/\\\\]?(?:[^/\\\\:\\s<>\"*?|]+[/\\\\])*[^/\\\\:\\s<>\"*?|]*\\.[a-zA-Z0-9]+)/g,\n    color: colors.path,\n    type: 'path'\n  },\n\n  // Numbers (integers, floats, hex, binary)\n  {\n    regex: /\\b(?:0x[0-9a-fA-F]+|0b[01]+|[+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\b/g,\n    color: colors.number,\n    type: 'number'\n  },\n\n  // Quoted strings (single and double quotes)\n  {\n    regex: /(['\"])((?:\\\\.|(?!\\1)[^\\\\])*?)\\1/g,\n    color: colors.string,\n    type: 'string',\n    keepQuotes: true\n  },\n\n  // Boolean values (be more selective to avoid conflicts with status messages)\n  {\n    regex: /\\b(true|false|yes|no)\\b(?!\\s*(are|is|was|were|currently))/gi,\n    color: colors.boolean,\n    type: 'boolean'\n  },\n\n  // Config/status values (only when they appear standalone or in specific contexts)\n  {\n    regex: /(?:=\\s*|:\\s*|\\btoggle\\s+|\\bset\\s+to\\s+)(enabled?|disabled?|on|off)\\b/gi,\n    color: colors.boolean,\n    type: 'boolean'\n  },\n\n  // Null/undefined values\n  {\n    regex: /\\b(null|undefined|nil|none|empty)\\b/gi,\n    color: colors.null,\n    type: 'null'\n  },\n\n  // Common keywords\n  {\n    regex: /\\b(function|var|let|const|if|else|for|while|return|class|extends|import|export|from|default)\\b/g,\n    color: colors.keyword,\n    type: 'keyword'\n  },\n\n  // Command-like patterns (starting with common commands)\n  {\n    regex: /\\b(ls|cd|pwd|mkdir|rm|cp|mv|cat|grep|find|git|npm|yarn|node|python|java|gcc|make|curl|wget)\\b/g,\n    color: colors.command,\n    type: 'command'\n  },\n\n  // JSON-like object notation\n  {\n    regex: /([{}\\[\\]])/g,\n    color: colors.punctuation,\n    type: 'punctuation'\n  },\n\n  // Variables (dollar sign prefix or camelCase/snake_case identifiers)\n  {\n    regex: /(\\$[a-zA-Z_][a-zA-Z0-9_]*|\\b[a-zA-Z_][a-zA-Z0-9_]*(?=[.\\[\\(])|[a-zA-Z_][a-zA-Z0-9_]*(?=\\s*[:=]))/g,\n    color: colors.variable,\n    type: 'variable'\n  }];\n\n  var result = text;\n  var replacements = [];\n\n  // Find all matches and store them with their positions\n  patterns.forEach(function (pattern) {\n    var match = void 0;\n    var regex = new RegExp(pattern.regex.source, pattern.regex.flags);\n\n    while ((match = regex.exec(text)) !== null) {\n      replacements.push({\n        start: match.index,\n        end: match.index + match[0].length,\n        original: match[0],\n        replacement: '<span style=\"color: ' + pattern.color + '\">' + match[0] + '</span>',\n        type: pattern.type,\n        priority: getPriority(pattern.type)\n      });\n    }\n  });\n\n  // Sort replacements by start position, then by priority (higher priority first)\n  replacements.sort(function (a, b) {\n    if (a.start !== b.start) return a.start - b.start;\n    return b.priority - a.priority;\n  });\n\n  // Remove overlapping replacements (keep higher priority ones)\n  var validReplacements = [];\n  var lastEnd = 0;\n\n  replacements.forEach(function (replacement) {\n    if (replacement.start >= lastEnd) {\n      validReplacements.push(replacement);\n      lastEnd = replacement.end;\n    }\n  });\n\n  // Apply replacements from end to start to avoid index shifting\n  validReplacements.reverse().forEach(function (replacement) {\n    result = result.slice(0, replacement.start) + replacement.replacement + result.slice(replacement.end);\n  });\n\n  return result;\n}\n\n/**\n * Get priority for pattern types (higher numbers = higher priority)\n */\nfunction getPriority(type) {\n  var priorities = {\n    'url': 10,\n    'string': 9,\n    'number': 8,\n    'path': 7,\n    'boolean': 6,\n    'null': 5,\n    'keyword': 4,\n    'command': 3,\n    'variable': 2,\n    'punctuation': 1\n  };\n  return priorities[type] || 0;\n}\n\n/**\n * Colorize specific message types (error, success, warning, info)\n * @param {string} text - Text to colorize\n * @param {string} type - Message type ('error', 'success', 'warning', 'info')\n * @param {string} theme - Color theme to use\n * @returns {string} Colored HTML\n */\nfunction colorizeMessageType(text, type) {\n  var theme = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'light';\n\n  var colors = COLOR_THEMES[theme] || COLOR_THEMES.light;\n  var color = colors[type] || colors.info;\n\n  // Add icon based on type\n  var icons = {\n    error: '❌',\n    success: '✅',\n    warning: '⚠️',\n    info: 'ℹ️'\n  };\n\n  var icon = icons[type] || '';\n  return '<span style=\"color: ' + color + '\">' + icon + ' ' + text + '</span>';\n}\n\n/**\n * Colorize JSON output\n * @param {object|string} obj - Object to colorize or JSON string\n * @param {string} theme - Color theme to use\n * @returns {string} Colored JSON HTML\n */\nfunction colorizeJSON(obj) {\n  var theme = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'light';\n\n  var colors = COLOR_THEMES[theme] || COLOR_THEMES.light;\n\n  var jsonString = void 0;\n  if (typeof obj === 'string') {\n    try {\n      // Validate and reformat JSON\n      jsonString = JSON.stringify(JSON.parse(obj), null, 2);\n    } catch (e) {\n      jsonString = obj;\n    }\n  } else {\n    jsonString = JSON.stringify(obj, null, 2);\n  }\n\n  return jsonString.replace(/(\".*?\")\\s*:/g, '<span style=\"color: ' + colors.variable + '\">$1</span>:') // Keys\n  .replace(/:\\s*(\".*?\")/g, ': <span style=\"color: ' + colors.string + '\">$1</span>') // String values\n  .replace(/:\\s*(\\d+\\.?\\d*)/g, ': <span style=\"color: ' + colors.number + '\">$1</span>') // Numbers\n  .replace(/:\\s*(true|false)/g, ': <span style=\"color: ' + colors.boolean + '\">$1</span>') // Booleans\n  .replace(/:\\s*(null)/g, ': <span style=\"color: ' + colors.null + '\">$1</span>') // Null\n  .replace(/([{}\\[\\],])/g, '<span style=\"color: ' + colors.punctuation + '\">$1</span>'); // Punctuation\n}\n\n/**\n * Colorize command line output (like ls, ps, etc.)\n * @param {string} text - Command output\n * @param {string} theme - Color theme to use\n * @returns {string} Colored HTML\n */\nfunction colorizeCommandOutput(text) {\n  var theme = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'light';\n\n  var colors = COLOR_THEMES[theme] || COLOR_THEMES.light;\n\n  return text\n  // File permissions (like drwxr-xr-x)\n  .replace(/^([d-])([rwx-]{9})/gm, '<span style=\"color: ' + colors.variable + '\">$1$2</span>')\n  // File sizes\n  .replace(/\\b(\\d+(?:\\.\\d+)?[KMGT]?B?)\\b/g, '<span style=\"color: ' + colors.number + '\">$1</span>')\n  // Dates and times\n  .replace(/\\b(\\d{1,2}:\\d{2}(?::\\d{2})?|\\d{4}-\\d{2}-\\d{2}|\\w{3}\\s+\\d{1,2}\\s+\\d{1,2}:\\d{2})\\b/g, '<span style=\"color: ' + colors.info + '\">$1</span>')\n  // Executable files (common extensions)\n  .replace(/\\b([^\\s]+\\.(exe|bin|sh|py|js|jar|app))\\b/g, '<span style=\"color: ' + colors.command + '\">$1</span>')\n  // Directories (words ending with /)\n  .replace(/\\b([^\\s]+\\/)\\s/g, '<span style=\"color: ' + colors.path + '\">$1</span> ');\n}\n\n/**\n * Create colored output with hex colors\n * @param {string} text - Text to color\n * @param {string} color - Hex color (e.g., '#ff0000' or 'red')\n * @param {string} bgColor - Background hex color (optional)\n * @returns {string} HTML with inline styles\n */\nfunction colorize(text, color, bgColor) {\n  var styles = [];\n  if (color) styles.push('color: ' + color);\n  if (bgColor) styles.push('background-color: ' + bgColor);\n\n  if (styles.length > 0) {\n    return '<span style=\"' + styles.join('; ') + '\">' + text + '</span>';\n  }\n  return text;\n}\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/colors.js?")},"./src/modules/commands.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _package = __webpack_require__(/*! ../../package.json */ \"./package.json\");\n\nvar _package2 = _interopRequireDefault(_package);\n\nvar _help = __webpack_require__(/*! ./help */ \"./src/modules/help.js\");\n\nvar _help2 = _interopRequireDefault(_help);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _window = window,\n    localStorage = _window.localStorage;\n\nvar KEY = 'WebTerm';\n\nexports[\"default\"] = {\n  clear: function clear(terminal) {\n    return terminal.clear();\n  },\n\n  help: function help(terminal, _ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        command = _ref2[0];\n\n    if (command) {\n      terminal.output('help: ' + (_help2.default[command] || 'no help topics match <u>' + command + '</u>'));\n    } else {\n      terminal.output('These shell commands are defined internally. Type <u>help</u> for see the list.');\n      terminal.output('Type <u>help name</u> to find out more about the function <u>name</u>.');\n      terminal.output(Object.keys(terminal.commands).join(', '));\n    }\n  },\n\n  version: function version(terminal) {\n    return terminal.output('Simple Web Terminal v' + _package2.default.version);\n  },\n\n  wipe: function wipe(terminal) {\n    terminal.prompt('Are you sure remove all your commands history? Y/N', function (value) {\n      if (value.trim().toUpperCase() === 'Y') {\n        localStorage.removeItem(KEY);\n        terminal.history = []; // eslint-disable-line\n        terminal.historyCursor = 0; // eslint-disable-line\n        terminal.output('History of commands wiped.');\n      }\n    });\n  },\n\n  colors: function colors(terminal, _ref3) {\n    var _ref4 = _slicedToArray(_ref3, 1),\n        action = _ref4[0];\n\n    if (action === 'off') {\n      terminal.setContextualColors(false);\n      terminal.output('Colors disabled.');\n    } else if (action === 'on') {\n      terminal.setContextualColors(true);\n      terminal.output('Colors enabled.');\n    } else if (action === 'demo') {\n      if (!terminal.contextualColors) {\n        terminal.error('Colors are disabled. Use \"colors on\" to enable them first.');\n        return;\n      }\n\n      terminal.info('=== Color Demonstration ===');\n\n      // Contextual coloring examples\n      terminal.output('Numbers: 42, 3.14, 0xFF, 0b1010');\n      terminal.output('Strings: \"hello world\", \\'single quotes\\'');\n      terminal.output('Booleans: true, false, yes, no');\n      terminal.output('Null values: null, undefined, nil, none');\n      terminal.output('URLs: https://github.com/user/repo');\n      terminal.output('File paths: /home/user/documents/file.txt, ./src/index.js');\n      terminal.output('Commands: ls -la, git status, npm install');\n      terminal.output('Variables: $HOME, $PATH, userName, configFile');\n\n      // JSON example\n      terminal.output('\\nJSON output:');\n      terminal.outputJSON({\n        name: \"WebTerminal\",\n        version: \"1.0.0\",\n        features: [\"colors\", \"themes\"],\n        enabled: true,\n        settings: {\n          theme: \"light\",\n          autoComplete: false\n        }\n      });\n\n      // Message types\n      terminal.output('\\nMessage types:');\n      terminal.error('This is an error message');\n      terminal.warning('This is a warning message');\n      terminal.success('This is a success message');\n      terminal.info('This is an info message');\n    } else {\n      terminal.output('Colors are currently ' + (terminal.contextualColors ? 'enabled' : 'disabled'));\n      terminal.output('Current theme: ' + terminal.colorTheme);\n      terminal.output('');\n      terminal.output('Usage: colors [command]');\n      terminal.output('Commands:');\n      terminal.output('  on     - Enable colored output');\n      terminal.output('  off    - Disable colored output');\n      terminal.output('  demo   - Show color examples');\n      terminal.output('');\n      terminal.output('Use \"theme\" command to change themes');\n      terminal.output('Try demo files for more examples (ls, json, env, ps)');\n    }\n  },\n\n  theme: function theme(terminal, _ref5) {\n    var _ref6 = _slicedToArray(_ref5, 1),\n        themeName = _ref6[0];\n\n    if (!themeName) {\n      terminal.output('Current theme: ' + terminal.colorTheme);\n      terminal.output('Available themes: light, dark');\n      terminal.output('Usage: theme <name>');\n    } else if (['light', 'dark'].includes(themeName)) {\n      terminal.setColorTheme(themeName);\n      terminal.success('Theme changed to: ' + themeName);\n    } else {\n      terminal.error('Unknown theme: ' + themeName);\n      terminal.output('Available themes: light, dark');\n    }\n  }\n};\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/commands.js?")},"./src/modules/help.js":(__unused_webpack_module,exports)=>{"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\nexports[\"default\"] = {\n  clear: 'clear the terminal screen',\n  version: 'print the terminal version',\n  wipe: 'Remove all your history of command lines',\n  colors: 'control colored output (on|off|demo)',\n  theme: 'change color theme (light|dark)'\n};\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/help.js?")},"./src/modules/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\nexports.COLOR_THEMES = exports.colorizeCommandOutput = exports.colorizeJSON = exports.colorizeMessageType = exports.contextualColorize = exports.colorize = exports.colors = exports.ansiToHtml = exports.markup = exports.COMMANDS = exports.cloneCommandNode = undefined;\n\nvar _cloneCommandNode = __webpack_require__(/*! ./cloneCommandNode */ "./src/modules/cloneCommandNode.js");\n\nvar _cloneCommandNode2 = _interopRequireDefault(_cloneCommandNode);\n\nvar _commands = __webpack_require__(/*! ./commands */ "./src/modules/commands.js");\n\nvar _commands2 = _interopRequireDefault(_commands);\n\nvar _markup = __webpack_require__(/*! ./markup */ "./src/modules/markup.js");\n\nvar _markup2 = _interopRequireDefault(_markup);\n\nvar _colors = __webpack_require__(/*! ./colors */ "./src/modules/colors.js");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.cloneCommandNode = _cloneCommandNode2.default;\nexports.COMMANDS = _commands2.default;\nexports.markup = _markup2.default;\nexports.ansiToHtml = _colors.ansiToHtml;\nexports.colors = _colors.colors;\nexports.colorize = _colors.colorize;\nexports.contextualColorize = _colors.contextualColorize;\nexports.colorizeMessageType = _colors.colorizeMessageType;\nexports.colorizeJSON = _colors.colorizeJSON;\nexports.colorizeCommandOutput = _colors.colorizeCommandOutput;\nexports.COLOR_THEMES = _colors.COLOR_THEMES;\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/index.js?')},"./src/modules/markup.js":(__unused_webpack_module,exports)=>{"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", ({\n  value: true\n}));\n\nexports["default"] = function (_ref) {\n  var _ref$shell = _ref.shell,\n      prompt = _ref$shell.prompt,\n      separator = _ref$shell.separator;\n  return "\\n  <div class=\\"container\\">\\n    <output></output>\\n    <div class=\\"command\\">\\n      <div class=\\"prompt\\">" + prompt + separator + "</div>\\n      <input class=\\"input\\" spellcheck=\\"false\\" autofocus />\\n    </table>\\n  </div>\\n";\n};\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/modules/markup.js?')},"./node_modules/css-loader/index.js!./src/WebTerminal.css":(module,exports,__webpack_require__)=>{eval('exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);\n// imports\n\n\n// module\nexports.push([module.id, "* {\\n  box-sizing: border-box;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n/* ANSI Color Classes - Theme-aware colors for better visibility */\\n\\n/* Dark theme ANSI colors (default) */\\n.WebTerm output .color-black { color: #2c3e50 !important; }\\n.WebTerm output .color-red { color: #e74c3c !important; }\\n.WebTerm output .color-green { color: #2ecc71 !important; }\\n.WebTerm output .color-yellow { color: #f1c40f !important; }\\n.WebTerm output .color-blue { color: #3498db !important; }\\n.WebTerm output .color-magenta { color: #9b59b6 !important; }\\n.WebTerm output .color-cyan { color: #1abc9c !important; }\\n.WebTerm output .color-white { color: #ecf0f1 !important; }\\n.WebTerm output .color-bright-black { color: #7f8c8d !important; }\\n.WebTerm output .color-bright-red { color: #ff6b6b !important; }\\n.WebTerm output .color-bright-green { color: #51cf66 !important; }\\n.WebTerm output .color-bright-yellow { color: #ffd93d !important; }\\n.WebTerm output .color-bright-blue { color: #74c0fc !important; }\\n.WebTerm output .color-bright-magenta { color: #da77f2 !important; }\\n.WebTerm output .color-bright-cyan { color: #3bc9db !important; }\\n.WebTerm output .color-bright-white { color: #ffffff !important; }\\n\\n/* Light theme ANSI colors - darker, more readable on light background */\\n.WebTerm.theme-light output .color-black { color: #1a252f !important; }\\n.WebTerm.theme-light output .color-red { color: #a62c1f !important; }\\n.WebTerm.theme-light output .color-green { color: #1e7e34 !important; }\\n.WebTerm.theme-light output .color-yellow { color: #b87503 !important; }\\n.WebTerm.theme-light output .color-blue { color: #1c5d8a !important; }\\n.WebTerm.theme-light output .color-magenta { color: #6c2d91 !important; }\\n.WebTerm.theme-light output .color-cyan { color: #117a8b !important; }\\n.WebTerm.theme-light output .color-white { color: #d0d0d0 !important; }\\n.WebTerm.theme-light output .color-bright-black { color: #495057 !important; }\\n.WebTerm.theme-light output .color-bright-red { color: #bd2130 !important; }\\n.WebTerm.theme-light output .color-bright-green { color: #1e7e34 !important; }\\n.WebTerm.theme-light output .color-bright-yellow { color: #d39e00 !important; }\\n.WebTerm.theme-light output .color-bright-blue { color: #0056b3 !important; }\\n.WebTerm.theme-light output .color-bright-magenta { color: #5a32a3 !important; }\\n.WebTerm.theme-light output .color-bright-cyan { color: #138496 !important; }\\n.WebTerm.theme-light output .color-bright-white { color: #e9ecef !important; }\\n\\n.WebTerm {\\n  font-family: \\"Inconsolata\\", \\"Courier New\\", Courier, monospace;\\n  overflow: hidden;\\n  padding: 0.75em 1em;\\n}\\n\\n/* Default dark theme */\\n.WebTerm, .WebTerm.theme-dark {\\n  background-color: #222222;\\n  color: white;\\n}\\n\\n.WebTerm.theme-dark .container ::selection {\\n  background-color: #1e496c;\\n  text-shadow: none !important;\\n}\\n\\n.WebTerm.theme-dark output span {\\n  color: #dddddd;\\n}\\n\\n/* Light theme */\\n.WebTerm.theme-light {\\n  background-color: #f8f9fa;\\n  color: #1a252f;\\n}\\n\\n.WebTerm.theme-light .container ::selection {\\n  background-color: #bde4ff;\\n  text-shadow: none !important;\\n}\\n\\n.WebTerm.theme-light output span:not([class*=\\"color-\\"]):not([class*=\\"bg-\\"]) {\\n  color: #1a252f;\\n}\\n\\n.WebTerm .container {\\n  width: 100%;\\n  height: 100%;\\n  overflow-y: scroll;\\n}\\n\\n/* Scrollbar styling for WebKit browsers (Chrome, Safari, Edge) */\\n.WebTerm .container::-webkit-scrollbar {\\n  width: 12px;\\n}\\n\\n/* Dark theme scrollbar (default) */\\n.WebTerm .container::-webkit-scrollbar-track,\\n.WebTerm.theme-dark .container::-webkit-scrollbar-track {\\n  background: #1a1a1a;\\n  border-radius: 6px;\\n}\\n\\n.WebTerm .container::-webkit-scrollbar-thumb,\\n.WebTerm.theme-dark .container::-webkit-scrollbar-thumb {\\n  background: #444444;\\n  border-radius: 6px;\\n  border: 2px solid #1a1a1a;\\n}\\n\\n.WebTerm .container::-webkit-scrollbar-thumb:hover,\\n.WebTerm.theme-dark .container::-webkit-scrollbar-thumb:hover {\\n  background: #555555;\\n}\\n\\n/* Light theme scrollbar */\\n.WebTerm.theme-light .container::-webkit-scrollbar-track {\\n  background: #f1f1f1;\\n  border-radius: 6px;\\n}\\n\\n.WebTerm.theme-light .container::-webkit-scrollbar-thumb {\\n  background: #c1c1c1;\\n  border-radius: 6px;\\n  border: 2px solid #f1f1f1;\\n}\\n\\n.WebTerm.theme-light .container::-webkit-scrollbar-thumb:hover {\\n  background: #a8a8a8;\\n}\\n\\n/* Firefox scrollbar styling */\\n.WebTerm .container {\\n  scrollbar-width: thin;\\n}\\n\\n.WebTerm .container,\\n.WebTerm.theme-dark .container {\\n  scrollbar-color: #444444 #1a1a1a;\\n}\\n\\n.WebTerm.theme-light .container {\\n  scrollbar-color: #c1c1c1 #f1f1f1;\\n}\\n.WebTerm output {\\n  clear: both;\\n  line-height: 1.25em;\\n  width: 100%;\\n}\\n.WebTerm output pre {\\n  white-space: pre-wrap;\\n  white-space: -moz-pre-wrap;\\n  white-space: -pre-wrap;\\n  white-space: -o-pre-wrap;\\n  word-wrap: break-word;\\n  margin: 0;\\n}\\n.WebTerm output span {\\n  display: block;\\n  font-weight: normal;\\n}\\n.WebTerm output span span {\\n  display: inline;\\n}\\n\\n/* Ensure colored spans don\'t break lines unnecessarily */\\n.WebTerm span[style*=\\"color\\"] {\\n  display: inline;\\n}\\n\\n.WebTerm .prompt,\\n.WebTerm a {\\n  font-weight: bold;\\n}\\n\\n/* Theme-specific prompt colors */\\n.WebTerm.theme-light .prompt,\\n.WebTerm.theme-light a {\\n  color: #1a252f;\\n}\\n\\n.WebTerm.theme-dark .prompt,\\n.WebTerm.theme-dark a,\\n.WebTerm .prompt,  /* Default fallback */\\n.WebTerm a {\\n  color: #449dff;\\n}\\n\\n.WebTerm .prompt {\\n  line-height: 1.25em;\\n  margin-right: 0.5em;\\n  margin-top: 0.36em;\\n}\\n\\n.WebTerm .command {\\n  display: flex;\\n}\\n\\n.WebTerm .command p {\\n  margin-top: 0.36em;\\n}\\n\\n.WebTerm .command.input .prompt {\\n  font-weight: normal;\\n}\\n\\n/* Theme-specific input prompt colors */\\n.WebTerm.theme-light .command.input .prompt {\\n  color: #2c3e50;\\n}\\n\\n.WebTerm.theme-dark .command.input .prompt,\\n.WebTerm .command.input .prompt {  /* Default fallback */\\n  color: white;\\n}\\n\\n.WebTerm .command.idle .input {\\n  display: none;\\n}\\n\\n.WebTerm .command.hidden .prompt {\\n  display: none;\\n}\\n\\n.WebTerm .command.hidden .input {\\n  max-width: 1px;\\n}\\n\\n.WebTerm .command .input {\\n  background-color: transparent;\\n  border: none;\\n  color: inherit;\\n  font: inherit;\\n  flex: 1;\\n  margin: 0;\\n  outline: none;\\n  padding: 0;\\n  padding-top: 7px;\\n}\\n\\n.WebTerm .command .spinner:before {\\n  display: inline-block;\\n  content: \\"\\\\280B\\";\\n  animation: spin 1s linear infinite;\\n  vertical-align: middle;\\n  margin-right: 10px;\\n}\\n\\n@keyframes spin {\\n  0% {\\n    content: \\"\\\\280B\\";\\n  }\\n  10% {\\n    content: \\"\\\\2819\\";\\n  }\\n  20% {\\n    content: \\"\\\\2839\\";\\n  }\\n  30% {\\n    content: \\"\\\\2838\\";\\n  }\\n  40% {\\n    content: \\"\\\\283C\\";\\n  }\\n  50% {\\n    content: \\"\\\\2834\\";\\n  }\\n  60% {\\n    content: \\"\\\\2826\\";\\n  }\\n  70% {\\n    content: \\"\\\\2827\\";\\n  }\\n  80% {\\n    content: \\"\\\\2807\\";\\n  }\\n  90% {\\n    content: \\"\\\\280F\\";\\n  }\\n}\\n\\n/* Background color classes - with higher specificity to override theme colors */\\n.WebTerm output .bg-black { background-color: #000000; }\\n.WebTerm output .bg-red { background-color: #ff0000; }\\n.WebTerm output .bg-green { background-color: #00ff00; }\\n.WebTerm output .bg-yellow { background-color: #ffff00; }\\n.WebTerm output .bg-blue { background-color: #0000ff; }\\n.WebTerm output .bg-magenta { background-color: #ff00ff; }\\n.WebTerm output .bg-cyan { background-color: #00ffff; }\\n.WebTerm output .bg-white { background-color: #ffffff; }\\n.WebTerm output .bg-bright-black { background-color: #808080; }\\n.WebTerm output .bg-bright-red { background-color: #ff8080; }\\n.WebTerm output .bg-bright-green { background-color: #80ff80; }\\n.WebTerm output .bg-bright-yellow { background-color: #ffff80; }\\n.WebTerm output .bg-bright-blue { background-color: #8080ff; }\\n.WebTerm output .bg-bright-magenta { background-color: #ff80ff; }\\n.WebTerm output .bg-bright-cyan { background-color: #80ffff; }\\n.WebTerm output .bg-bright-white { background-color: #ffffff; }\\n\\n/* Text styling classes - with higher specificity to override theme styles */\\n.WebTerm output .bold { font-weight: bold; }\\n.WebTerm output .dim { opacity: 0.5; }\\n.WebTerm output .italic { font-style: italic; }\\n.WebTerm output .underline { text-decoration: underline; }\\n.WebTerm output .strikethrough { text-decoration: line-through; }\\n", ""]);\n\n// exports\n\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/WebTerminal.css?./node_modules/css-loader/index.js')},"./node_modules/css-loader/lib/css-base.js":module=>{eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn "@media " + item[2] + "{" + content + "}";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || \'\';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === \'function\') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn \'/*# sourceURL=\' + cssMapping.sourceRoot + source + \' */\'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join(\'\\n\');\n\t}\n\n\treturn [content].join(\'\\n\');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = \'sourceMappingURL=data:application/json;charset=utf-8;base64,\' + base64;\n\n\treturn \'/*# \' + data + \' */\';\n}\n\n\n//# sourceURL=webpack://@lvcabral/terminal/./node_modules/css-loader/lib/css-base.js?')},"./src/WebTerminal.css":(module,__unused_webpack_exports,__webpack_require__)=>{eval('\nvar content = __webpack_require__(/*! !!../node_modules/css-loader/index.js!./WebTerminal.css */ "./node_modules/css-loader/index.js!./src/WebTerminal.css");\n\nif(typeof content === \'string\') content = [[module.id, content, \'\']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {"hmr":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! !../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n//# sourceURL=webpack://@lvcabral/terminal/./src/WebTerminal.css?')},"./node_modules/style-loader/lib/addStyles.js":(module,__unused_webpack_exports,__webpack_require__)=>{eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve "head" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }\n                // }\n                if (typeof target === \'function\') {\n                        return target();\n                }\n                if (typeof memo[target] === "undefined") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === "object" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = "head";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error("Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === "top") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === "bottom") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === "object" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error("[Style Loader]\\n\\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\\n Must be \'top\', \'bottom\', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement("style");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement("link");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = "text/css";\n\t}\n\toptions.attrs.rel = "stylesheet";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (false) {}\n\n\treturn __webpack_require__.nc;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === \'function\'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don\'t add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute("media", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn\'t defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n//# sourceURL=webpack://@lvcabral/terminal/./node_modules/style-loader/lib/addStyles.js?')},"./node_modules/style-loader/lib/urls.js":module=>{eval('\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function "fixes" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== "undefined" && window.location;\n\n  if (!location) {\n    throw new Error("fixUrls requires window.location");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== "string") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + "//" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, "/");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word "url" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn\'t a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn\'t a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn\'t a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^"(.*)"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^\'(.*)\'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf("//") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf("/") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with \'/\'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, ""); // Strip leading \'./\'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn "url(" + JSON.stringify(newUrl) + ")";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n//# sourceURL=webpack://@lvcabral/terminal/./node_modules/style-loader/lib/urls.js?')},"./package.json":module=>{"use strict";eval('module.exports = JSON.parse(\'{"name":"@lvcabral/terminal","version":"1.1.0","description":"A simple and lightweight Javascript web browser terminal","keywords":["terminal","console","xterm","shell","tool"],"repository":{"type":"git","url":"git+https://github.com/lvcabral/terminal.git"},"license":"MIT","copyright":"© 2025, Marcelo Lv Cabral","main":"./dist/web-terminal.js","bin":{"terminal":"dist/web-terminal.js"},"files":["dist","package.json"],"homepage":"https://github.com/lvcabral/terminal","bugs":"https://github.com/lvcabral/terminal/issues","devDependencies":{"babel-eslint":"^9.0.0","babel-jest":"^23.4.2","babel-loader":"^7.1.0","babel-plugin-transform-class-properties":"^6.24.1","babel-polyfill":"^6.26.0","babel-preset-env":"^1.7.0","css-loader":"^1.0.0","eslint":"^5.4.0","eslint-config-airbnb":"^17.0.0","eslint-plugin-import":"^2.13.0","identity-obj-proxy":"^3.0.0","jest":"^23.5.0","style-loader":"^0.23.0","webpack":"^5.75.0","webpack-cli":"^5.0.1"},"scripts":{"build":"webpack","start":"open http://localhost:8080/examples/ && python3 -m http.server 8080","test":"jest","lint":"eslint src/**","release":"npm publish --tag latest --access public"}}\');\n\n//# sourceURL=webpack://@lvcabral/terminal/./package.json?')}},__webpack_module_cache__={};function __nested_webpack_require_73738__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t](n,n.exports,__nested_webpack_require_73738__),n.exports}__nested_webpack_require_73738__.nc=void 0;var __nested_webpack_exports__=__nested_webpack_require_73738__("./src/index.js");return __nested_webpack_exports__})(),module.exports=factory()},218:(t,e,n)=>{!function(t){var e={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},n=t.Pos;function r(t,n){return"pairs"==n&&"string"==typeof t?t:"object"==typeof t&&null!=t[n]?t[n]:e[n]}t.defineOption("autoCloseBrackets",!1,(function(e,n,s){s&&s!=t.Init&&(e.removeKeyMap(i),e.state.closeBrackets=null),n&&(o(r(n,"pairs")),e.state.closeBrackets=n,e.addKeyMap(i))}));var i={Backspace:function(e){var i=a(e);if(!i||e.getOption("disableInput"))return t.Pass;for(var o=r(i,"pairs"),s=e.listSelections(),l=0;l<s.length;l++){if(!s[l].empty())return t.Pass;var c=u(e,s[l].head);if(!c||o.indexOf(c)%2!=0)return t.Pass}for(l=s.length-1;l>=0;l--){var f=s[l].head;e.replaceRange("",n(f.line,f.ch-1),n(f.line,f.ch+1),"+delete")}},Enter:function(e){var n=a(e),i=n&&r(n,"explode");if(!i||e.getOption("disableInput"))return t.Pass;for(var o=e.listSelections(),s=0;s<o.length;s++){if(!o[s].empty())return t.Pass;var c=u(e,o[s].head);if(!c||i.indexOf(c)%2!=0)return t.Pass}e.operation((function(){var t=e.lineSeparator()||"\n";e.replaceSelection(t+t,null),l(e,-1),o=e.listSelections();for(var n=0;n<o.length;n++){var r=o[n].head.line;e.indentLine(r,null,!0),e.indentLine(r+1,null,!0)}}))}};function o(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),r="'"+n+"'";i[r]||(i[r]=s(n))}}function s(e){return function(i){return function(e,i){var o=a(e);if(!o||e.getOption("disableInput"))return t.Pass;var s=r(o,"pairs"),u=s.indexOf(i);if(-1==u)return t.Pass;for(var h,d=r(o,"closeBefore"),p=r(o,"triples"),m=s.charAt(u+1)==i,g=e.listSelections(),y=u%2==0,v=0;v<g.length;v++){var b,w=g[v],S=w.head,E=e.getRange(S,n(S.line,S.ch+1));if(y&&!w.empty())b="surround";else if(!m&&y||E!=i)if(m&&S.ch>1&&p.indexOf(i)>=0&&e.getRange(n(S.line,S.ch-2),S)==i+i){if(S.ch>2&&/\bstring/.test(e.getTokenTypeAt(n(S.line,S.ch-2))))return t.Pass;b="addFour"}else if(m){var _=0==S.ch?" ":e.getRange(n(S.line,S.ch-1),S);if(t.isWordChar(E)||_==i||t.isWordChar(_))return t.Pass;b="both"}else{if(!y||!(0===E.length||/\s/.test(E)||d.indexOf(E)>-1))return t.Pass;b="both"}else b=m&&f(e,S)?"both":p.indexOf(i)>=0&&e.getRange(S,n(S.line,S.ch+3))==i+i+i?"skipThree":"skip";if(h){if(h!=b)return t.Pass}else h=b}var k=u%2?s.charAt(u-1):i,x=u%2?i:s.charAt(u+1);e.operation((function(){if("skip"==h)l(e,1);else if("skipThree"==h)l(e,3);else if("surround"==h){for(var t=e.getSelections(),n=0;n<t.length;n++)t[n]=k+t[n]+x;for(e.replaceSelections(t,"around"),t=e.listSelections().slice(),n=0;n<t.length;n++)t[n]=c(t[n]);e.setSelections(t)}else"both"==h?(e.replaceSelection(k+x,null),e.triggerElectric(k+x),l(e,-1)):"addFour"==h&&(e.replaceSelection(k+k+k+k,"before"),l(e,1))}))}(i,e)}}function a(t){var e=t.state.closeBrackets;return!e||e.override?e:t.getModeAt(t.getCursor()).closeBrackets||e}function l(t,e){for(var n=[],r=t.listSelections(),i=0,o=0;o<r.length;o++){var s=r[o];s.head==t.getCursor()&&(i=o);var a=s.head.ch||e>0?{line:s.head.line,ch:s.head.ch+e}:{line:s.head.line-1};n.push({anchor:a,head:a})}t.setSelections(n,i)}function c(e){var r=t.cmpPos(e.anchor,e.head)>0;return{anchor:new n(e.anchor.line,e.anchor.ch+(r?-1:1)),head:new n(e.head.line,e.head.ch+(r?1:-1))}}function u(t,e){var r=t.getRange(n(e.line,e.ch-1),n(e.line,e.ch+1));return 2==r.length?r:null}function f(t,e){var r=t.getTokenAt(n(e.line,e.ch+1));return/\bstring/.test(r.type)&&r.start==e.ch&&(0==e.ch||!/\bstring/.test(t.getTokenTypeAt(e)))}o(e.pairs+"`")}(n(237))},222:(t,e,n)=>{"use strict";var r=n(861).Buffer,i=n(340);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);for(var e,n,i=r.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=i,n=s,o.data.copy(e,n),s+=o.data.length,o=o.next;return i},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},225:(t,e,n)=>{"use strict";var r=n(606);void 0===r||!r.version||0===r.version.indexOf("v0.")||0===r.version.indexOf("v1.")&&0!==r.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return r.nextTick(t);case 2:return r.nextTick((function(){t.call(null,e)}));case 3:return r.nextTick((function(){t.call(null,e,n)}));case 4:return r.nextTick((function(){t.call(null,e,n,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return r.nextTick((function(){t.apply(null,o)}))}}}:t.exports=r},228:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],a]:t._events[l].push(a):(t._events[l]=a,t._eventsCount++),t}function s(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var l,c,u=this._events[a],f=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),f){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,o),!0;case 6:return u.fn.call(u.context,e,r,i,o,s),!0}for(c=1,l=new Array(f-1);c<f;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),f){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,r);break;case 4:u[c].fn.call(u[c].context,e,r,i);break;default:if(!l)for(h=1,l=new Array(f-1);h<f;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==e||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},236:(t,e,n)=>{!function(t){"use strict";t.defineMode("properties",(function(){return{token:function(t,e){var n=t.sol()||e.afterSection,r=t.eol();if(e.afterSection=!1,n&&(e.nextMultiline?(e.inMultiline=!0,e.nextMultiline=!1):e.position="def"),r&&!e.nextMultiline&&(e.inMultiline=!1,e.position="def"),n)for(;t.eatSpace(););var i=t.next();return!n||"#"!==i&&"!"!==i&&";"!==i?n&&"["===i?(e.afterSection=!0,t.skipTo("]"),t.eat("]"),"header"):"="===i||":"===i?(e.position="quote",null):("\\"===i&&"quote"===e.position&&t.eol()&&(e.nextMultiline=!0),e.position):(e.position="comment",t.skipToEnd(),"comment")},startState:function(){return{position:"def",nextMultiline:!1,inMultiline:!1,afterSection:!1}}}})),t.defineMIME("text/x-properties","properties"),t.defineMIME("text/x-ini","properties")}(n(237))},237:function(t){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),o=/Edge\/(\d+)/.exec(t),s=r||i||o,a=s&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(t),c=l&&/Qt\/\d+\.\d+/.test(t),u=!o&&/Chrome\/(\d+)/.exec(t),f=u&&+u[1],h=/Opera\//.test(t),d=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),m=/PhantomJS/.test(t),g=d&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),y=/Android/.test(t),v=g||y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),b=g||/Mac/.test(e),w=/\bCrOS\b/.test(t),S=/win/i.test(e),E=h&&t.match(/Version\/(\d*\.\d*)/);E&&(E=Number(E[1])),E&&E>=15&&(h=!1,l=!0);var _=b&&(c||h&&(null==E||E<12.11)),k=n||s&&a>=9;function x(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var T,C=function(t,e){var n=t.className,r=x(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function O(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function L(t,e){return O(t).appendChild(e)}function A(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function M(t,e,n,r){var i=A(t,e,n,r);return i.setAttribute("role","presentation"),i}function I(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function N(t){var e,n=t.ownerDocument||t;try{e=t.activeElement}catch(t){e=n.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function R(t,e){var n=t.className;x(e).test(n)||(t.className+=(n?" ":"")+e)}function D(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!x(n[r]).test(e)&&(e+=" "+n[r]);return e}T=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var B=function(t){t.select()};function P(t){return t.display.wrapper.ownerDocument}function j(t){return W(t.display.wrapper)}function W(t){return t.getRootNode?t.getRootNode():t.ownerDocument}function U(t){return P(t).defaultView}function F(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function z(t,e,n){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function H(t,e,n,r,i){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var o=r||0,s=i||0;;){var a=t.indexOf("\t",o);if(a<0||a>=e)return s+(e-o);s+=a-o,s+=n-s%n,o=a+1}}g?B=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:s&&(B=function(t){try{t.select()}catch(t){}});var $=function(){this.id=null,this.f=null,this.time=0,this.handler=F(this.onTimeout,this)};function q(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}$.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},$.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};var V={toString:function(){return"CodeMirror.Pass"}},G={scroll:!1},Y={origin:"*mouse"},K={origin:"+move"};function X(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);-1==o&&(o=t.length);var s=o-r;if(o==t.length||i+s>=e)return r+Math.min(s,e-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=e)return r}}var J=[""];function Z(t){for(;J.length<=t;)J.push(Q(J)+" ");return J[t]}function Q(t){return t[t.length-1]}function tt(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function et(){}function nt(t,e){var n;return Object.create?n=Object.create(t):(et.prototype=t,n=new et),e&&z(e,n),n}var rt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function it(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||rt.test(t))}function ot(t,e){return e?!!(e.source.indexOf("\\w")>-1&&it(t))||e.test(t):it(t)}function st(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var at=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function lt(t){return t.charCodeAt(0)>=768&&at.test(t)}function ct(t,e,n){for(;(n<0?e>0:e<t.length)&&lt(t.charAt(e));)e+=n;return e}function ut(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var i=(e+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==e)return t(o)?e:n;t(o)?n=o:e=o+r}}var ft=null;function ht(t,e,n){var r;ft=null;for(var i=0;i<t.length;++i){var o=t[i];if(o.from<e&&o.to>e)return i;o.to==e&&(o.from!=o.to&&"before"==n?r=i:ft=i),o.from==e&&(o.from!=o.to&&"before"!=n?r=i:ft=i)}return null!=r?r:ft}var dt=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function o(t,e,n){this.level=t,this.from=e,this.to=n}return function(s,a){var l,c="ltr"==a?"L":"R";if(0==s.length||"ltr"==a&&!t.test(s))return!1;for(var u=s.length,f=[],h=0;h<u;++h)f.push((l=s.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var d=0,p=c;d<u;++d){var m=f[d];"m"==m?f[d]=p:p=m}for(var g=0,y=c;g<u;++g){var v=f[g];"1"==v&&"r"==y?f[g]="n":n.test(v)&&(y=v,"r"==v&&(f[g]="R"))}for(var b=1,w=f[0];b<u-1;++b){var S=f[b];"+"==S&&"1"==w&&"1"==f[b+1]?f[b]="1":","!=S||w!=f[b+1]||"1"!=w&&"n"!=w||(f[b]=w),w=S}for(var E=0;E<u;++E){var _=f[E];if(","==_)f[E]="N";else if("%"==_){var k=void 0;for(k=E+1;k<u&&"%"==f[k];++k);for(var x=E&&"!"==f[E-1]||k<u&&"1"==f[k]?"1":"N",T=E;T<k;++T)f[T]=x;E=k-1}}for(var C=0,O=c;C<u;++C){var L=f[C];"L"==O&&"1"==L?f[C]="L":n.test(L)&&(O=L)}for(var A=0;A<u;++A)if(e.test(f[A])){var M=void 0;for(M=A+1;M<u&&e.test(f[M]);++M);for(var I="L"==(A?f[A-1]:c),N=I==("L"==(M<u?f[M]:c))?I?"L":"R":c,R=A;R<M;++R)f[R]=N;A=M-1}for(var D,B=[],P=0;P<u;)if(r.test(f[P])){var j=P;for(++P;P<u&&r.test(f[P]);++P);B.push(new o(0,j,P))}else{var W=P,U=B.length,F="rtl"==a?1:0;for(++P;P<u&&"L"!=f[P];++P);for(var z=W;z<P;)if(i.test(f[z])){W<z&&(B.splice(U,0,new o(1,W,z)),U+=F);var H=z;for(++z;z<P&&i.test(f[z]);++z);B.splice(U,0,new o(2,H,z)),U+=F,W=z}else++z;W<P&&B.splice(U,0,new o(1,W,P))}return"ltr"==a&&(1==B[0].level&&(D=s.match(/^\s+/))&&(B[0].from=D[0].length,B.unshift(new o(0,0,D[0].length))),1==Q(B).level&&(D=s.match(/\s+$/))&&(Q(B).to-=D[0].length,B.push(new o(0,u-D[0].length,u)))),"rtl"==a?B.reverse():B}}();function pt(t,e){var n=t.order;return null==n&&(n=t.order=dt(t.text,e)),n}var mt=[],gt=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||mt).concat(n)}};function yt(t,e){return t._handlers&&t._handlers[e]||mt}function vt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,i=r&&r[e];if(i){var o=q(i,n);o>-1&&(r[e]=i.slice(0,o).concat(i.slice(o+1)))}}}function bt(t,e){var n=yt(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function wt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),bt(t,n||e.type,t,e),Tt(e)||e.codemirrorIgnore}function St(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==q(n,e[r])&&n.push(e[r])}function Et(t,e){return yt(t,e).length>0}function _t(t){t.prototype.on=function(t,e){gt(this,t,e)},t.prototype.off=function(t,e){vt(this,t,e)}}function kt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function xt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Tt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function Ct(t){kt(t),xt(t)}function Ot(t){return t.target||t.srcElement}function Lt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),b&&t.ctrlKey&&1==e&&(e=3),e}var At,Mt,It=function(){if(s&&a<9)return!1;var t=A("div");return"draggable"in t||"dragDrop"in t}();function Nt(t){if(null==At){var e=A("span","​");L(t,A("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(At=e.offsetWidth<=1&&e.offsetHeight>2&&!(s&&a<8))}var n=At?A("span","​"):A("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Rt(t){if(null!=Mt)return Mt;var e=L(t,document.createTextNode("AخA")),n=T(e,0,1).getBoundingClientRect(),r=T(e,1,2).getBoundingClientRect();return O(t),!(!n||n.left==n.right)&&(Mt=r.right-n.right<3)}var Dt,Bt=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),e+=s+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Pt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},jt="oncopy"in(Dt=A("div"))||(Dt.setAttribute("oncopy","return;"),"function"==typeof Dt.oncopy),Wt=null;var Ut={},Ft={};function zt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Ut[t]=e}function Ht(t){if("string"==typeof t&&Ft.hasOwnProperty(t))t=Ft[t];else if(t&&"string"==typeof t.name&&Ft.hasOwnProperty(t.name)){var e=Ft[t.name];"string"==typeof e&&(e={name:e}),(t=nt(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Ht("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Ht("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function $t(t,e){e=Ht(e);var n=Ut[e.name];if(!n)return $t(t,"text/plain");var r=n(t,e);if(qt.hasOwnProperty(e.name)){var i=qt[e.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var s in e.modeProps)r[s]=e.modeProps[s];return r}var qt={};function Vt(t,e){z(e,qt.hasOwnProperty(t)?qt[t]:qt[t]={})}function Gt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Yt(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Kt(t,e,n){return!t.startState||t.startState(e,n)}var Xt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Jt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function Zt(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,(function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i})),r}function Qt(t,e,n){var r=[];return t.iter(e,n,(function(t){r.push(t.text)})),r}function te(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function ee(t){if(null==t.parent)return null;for(var e=t.parent,n=q(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function ne(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var s=0;s<t.lines.length;++s){var a=t.lines[s].height;if(e<a)break;e-=a}return n+s}function re(t,e){return e>=t.first&&e<t.first+t.size}function ie(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function oe(t,e,n){if(void 0===n&&(n=null),!(this instanceof oe))return new oe(t,e,n);this.line=t,this.ch=e,this.sticky=n}function se(t,e){return t.line-e.line||t.ch-e.ch}function ae(t,e){return t.sticky==e.sticky&&0==se(t,e)}function le(t){return oe(t.line,t.ch)}function ce(t,e){return se(t,e)<0?e:t}function ue(t,e){return se(t,e)<0?t:e}function fe(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function he(t,e){if(e.line<t.first)return oe(t.first,0);var n=t.first+t.size-1;return e.line>n?oe(n,Jt(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?oe(t.line,e):n<0?oe(t.line,0):t}(e,Jt(t,e.line).text.length)}function de(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=he(t,e[r]);return n}Xt.prototype.eol=function(){return this.pos>=this.string.length},Xt.prototype.sol=function(){return this.pos==this.lineStart},Xt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Xt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Xt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Xt.prototype.skipToEnd=function(){this.pos=this.string.length},Xt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Xt.prototype.backUp=function(t){this.pos-=t},Xt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=H(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Xt.prototype.indentation=function(){return H(this.string,null,this.tabSize)-(this.lineStart?H(this.string,this.lineStart,this.tabSize):0)},Xt.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t};if(i(this.string.substr(this.pos,t.length))==i(t))return!1!==e&&(this.pos+=t.length),!0},Xt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Xt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Xt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var pe=function(t,e){this.state=t,this.lookAhead=e},me=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function ge(t,e,n,r){var i=[t.state.modeGen],o={};xe(t,e.text,t.doc.mode,n,(function(t,e){return i.push(t,e)}),o,r);for(var s=n.state,a=function(r){n.baseTokens=i;var a=t.state.overlays[r],l=1,c=0;n.state=!0,xe(t,e.text,a.mode,n,(function(t,e){for(var n=l;c<t;){var r=i[l];r>t&&i.splice(l,1,t,i[l+1],r),l+=2,c=Math.min(t,r)}if(e)if(a.opaque)i.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+e}}),o),n.state=s,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)a(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function ye(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=ve(t,ee(e)),i=e.text.length>t.options.maxHighlightLength&&Gt(t.doc.mode,r.state),o=ge(t,e,r);i&&(r.state=i),e.stateAfter=r.save(!i),e.styles=o.styles,o.classes?e.styleClasses=o.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function ve(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return new me(r,!0,e);var o=function(t,e,n){for(var r,i,o=t.doc,s=n?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>s;--a){if(a<=o.first)return o.first;var l=Jt(o,a-1),c=l.stateAfter;if(c&&(!n||a+(c instanceof pe?c.lookAhead:0)<=o.modeFrontier))return a;var u=H(l.text,null,t.options.tabSize);(null==i||r>u)&&(i=a-1,r=u)}return i}(t,e,n),s=o>r.first&&Jt(r,o-1).stateAfter,a=s?me.fromSaved(r,s,o):new me(r,Kt(r.mode),o);return r.iter(o,e,(function(n){be(t,n.text,a);var r=a.line;n.stateAfter=r==e-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?a.save():null,a.nextLine()})),n&&(r.modeFrontier=a.line),a}function be(t,e,n,r){var i=t.doc.mode,o=new Xt(e,t.options.tabSize,n);for(o.start=o.pos=r||0,""==e&&we(i,n.state);!o.eol();)Se(i,o,n.state),o.start=o.pos}function we(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Yt(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Se(t,e,n,r){for(var i=0;i<10;i++){r&&(r[0]=Yt(t,n).mode);var o=t.token(e,n);if(e.pos>e.start)return o}throw new Error("Mode "+t.name+" failed to advance stream.")}me.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},me.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},me.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},me.fromSaved=function(t,e,n){return e instanceof pe?new me(t,Gt(t.mode,e.state),n,e.lookAhead):new me(t,Gt(t.mode,e),n)},me.prototype.save=function(t){var e=!1!==t?Gt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new pe(e,this.maxLookAhead):e};var Ee=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function _e(t,e,n,r){var i,o,s=t.doc,a=s.mode,l=Jt(s,(e=he(s,e)).line),c=ve(t,e.line,n),u=new Xt(l.text,t.options.tabSize,c);for(r&&(o=[]);(r||u.pos<e.ch)&&!u.eol();)u.start=u.pos,i=Se(a,u,c.state),r&&o.push(new Ee(u,i,Gt(s.mode,c.state)));return r?o:new Ee(u,i,c.state)}function ke(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(e[r])||(e[r]+=" "+n[2])}return t}function xe(t,e,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,c=0,u=null,f=new Xt(e,t.options.tabSize,r),h=t.options.addModeClass&&[null];for(""==e&&ke(we(n,r.state),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(a=!1,s&&be(t,e,r,f.pos),f.pos=e.length,l=null):l=ke(Se(n,f,r.state,h),o),h){var d=h[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!a||u!=l){for(;c<f.start;)i(c=Math.min(f.start,c+5e3),u);u=l}f.start=f.pos}for(;c<f.pos;){var p=Math.min(f.pos,c+5e3);i(p,u),c=p}}var Te=!1,Ce=!1;function Oe(t,e,n){this.marker=t,this.from=e,this.to=n}function Le(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Ae(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function Me(t,e){if(e.full)return null;var n=re(t,e.from.line)&&Jt(t,e.from.line).markedSpans,r=re(t,e.to.line)&&Jt(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,s=0==se(e.from,e.to),a=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],s=o.marker;if(null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e)||o.from==e&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var a=null==o.to||(s.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new Oe(s,o.from,a?null:o.to))}}return r}(n,i,s),l=function(t,e,n){var r;if(t)for(var i=0;i<t.length;++i){var o=t[i],s=o.marker;if(null==o.to||(s.inclusiveRight?o.to>=e:o.to>e)||o.from==e&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var a=null==o.from||(s.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new Oe(s,a?null:o.from-e,null==o.to?null:o.to-e))}}return r}(r,o,s),c=1==e.text.length,u=Q(e.text).length+(c?i:0);if(a)for(var f=0;f<a.length;++f){var h=a[f];if(null==h.to){var d=Le(l,h.marker);d?c&&(h.to=null==d.to?null:d.to+u):h.to=i}}if(l)for(var p=0;p<l.length;++p){var m=l[p];null!=m.to&&(m.to+=u),null==m.from?Le(a,m.marker)||(m.from=u,c&&(a||(a=[])).push(m)):(m.from+=u,c&&(a||(a=[])).push(m))}a&&(a=Ie(a)),l&&l!=a&&(l=Ie(l));var g=[a];if(!c){var y,v=e.text.length-2;if(v>0&&a)for(var b=0;b<a.length;++b)null==a[b].to&&(y||(y=[])).push(new Oe(a[b].marker,null,null));for(var w=0;w<v;++w)g.push(y);g.push(l)}return g}function Ie(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Ne(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Re(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function De(t){return t.inclusiveLeft?-1:0}function Be(t){return t.inclusiveRight?1:0}function Pe(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=se(r.from,i.from)||De(t)-De(e);return o?-o:se(r.to,i.to)||Be(t)-Be(e)||e.id-t.id}function je(t,e){var n,r=Ce&&t.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(e?i.from:i.to)&&(!n||Pe(n,i.marker)<0)&&(n=i.marker);return n}function We(t){return je(t,!0)}function Ue(t){return je(t,!1)}function Fe(t,e){var n,r=Ce&&t.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<e)&&(null==o.to||o.to>e)&&(!n||Pe(n,o.marker)<0)&&(n=o.marker)}return n}function ze(t,e,n,r,i){var o=Jt(t,e),s=Ce&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=se(c.from,n)||De(l.marker)-De(i),f=se(c.to,r)||Be(l.marker)-Be(i);if(!(u>=0&&f<=0||u<=0&&f>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?se(c.to,n)>=0:se(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?se(c.from,r)<=0:se(c.from,r)<0)))return!0}}}function He(t){for(var e;e=We(t);)t=e.find(-1,!0).line;return t}function $e(t,e){var n=Jt(t,e),r=He(n);return n==r?e:ee(r)}function qe(t,e){if(e>t.lastLine())return e;var n,r=Jt(t,e);if(!Ve(t,r))return e;for(;n=Ue(r);)r=n.find(1,!0).line;return ee(r)+1}function Ve(t,e){var n=Ce&&e.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Ge(t,e,r))return!0}}function Ge(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return Ge(t,r.line,Le(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i=void 0,o=0;o<e.markedSpans.length;++o)if((i=e.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ge(t,e,i))return!0}function Ye(t){for(var e=0,n=(t=He(t)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var s=0;s<o.children.length;++s){var a=o.children[s];if(a==n)break;e+=a.height}return e}function Ke(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=We(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=Ue(r);){var o=e.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Xe(t){var e=t.display,n=t.doc;e.maxLine=Jt(n,n.first),e.maxLineLength=Ke(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=Ke(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}var Je=function(t,e,n){this.text=t,Re(this,e),this.height=n?n(this):1};function Ze(t){t.parent=null,Ne(t)}Je.prototype.lineNo=function(){return ee(this)},_t(Je);var Qe={},tn={};function en(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?tn:Qe;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function nn(t,e){var n=M("span",null,null,l?"padding-right: .1px":null),r={pre:M("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o=i?e.rest[i-1]:e.line,s=void 0;r.pos=0,r.addToken=on,Rt(t.display.measure)&&(s=pt(o,t.doc.direction))&&(r.addToken=sn(r.addToken,s)),r.map=[],ln(o,r,ye(t,o,e!=t.display.externalMeasured&&ee(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=D(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=D(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Nt(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var a=r.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return bt(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=D(r.pre.className,r.textClass||"")),r}function rn(t){var e=A("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function on(t,e,n,r,i,o,l){if(e){var c,u=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",i=0;i<t.length;i++){var o=t.charAt(i);" "!=o||!n||i!=t.length-1&&32!=t.charCodeAt(i+1)||(o=" "),r+=o,n=" "==o}return r}(e,t.trailingSpace):e,f=t.cm.state.specialChars,h=!1;if(f.test(e)){c=document.createDocumentFragment();for(var d=0;;){f.lastIndex=d;var p=f.exec(e),m=p?p.index-d:e.length-d;if(m){var g=document.createTextNode(u.slice(d,d+m));s&&a<9?c.appendChild(A("span",[g])):c.appendChild(g),t.map.push(t.pos,t.pos+m,g),t.col+=m,t.pos+=m}if(!p)break;d+=m+1;var y=void 0;if("\t"==p[0]){var v=t.cm.options.tabSize,b=v-t.col%v;(y=c.appendChild(A("span",Z(b),"cm-tab"))).setAttribute("role","presentation"),y.setAttribute("cm-text","\t"),t.col+=b}else"\r"==p[0]||"\n"==p[0]?((y=c.appendChild(A("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((y=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),s&&a<9?c.appendChild(A("span",[y])):c.appendChild(y),t.col+=1);t.map.push(t.pos,t.pos+1,y),t.pos++}}else t.col+=e.length,c=document.createTextNode(u),t.map.push(t.pos,t.pos+e.length,c),s&&a<9&&(h=!0),t.pos+=e.length;if(t.trailingSpace=32==u.charCodeAt(e.length-1),n||r||i||h||o||l){var w=n||"";r&&(w+=r),i&&(w+=i);var S=A("span",[c],w,o);if(l)for(var E in l)l.hasOwnProperty(E)&&"style"!=E&&"class"!=E&&S.setAttribute(E,l[E]);return t.content.appendChild(S)}t.content.appendChild(c)}}function sn(t,e){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var f=void 0,h=0;h<e.length&&!((f=e[h]).to>c&&f.from<=c);h++);if(f.to>=u)return t(n,r,i,o,s,a,l);t(n,r.slice(0,f.to-c),i,o,null,a,l),o=null,r=r.slice(f.to-c),c=f.to}}}function an(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e,t.trailingSpace=!1}function ln(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var s,a,l,c,u,f,h,d=i.length,p=0,m=1,g="",y=0;;){if(y==p){l=c=u=a="",h=null,f=null,y=1/0;for(var v=[],b=void 0,w=0;w<r.length;++w){var S=r[w],E=S.marker;if("bookmark"==E.type&&S.from==p&&E.widgetNode)v.push(E);else if(S.from<=p&&(null==S.to||S.to>p||E.collapsed&&S.to==p&&S.from==p)){if(null!=S.to&&S.to!=p&&y>S.to&&(y=S.to,c=""),E.className&&(l+=" "+E.className),E.css&&(a=(a?a+";":"")+E.css),E.startStyle&&S.from==p&&(u+=" "+E.startStyle),E.endStyle&&S.to==y&&(b||(b=[])).push(E.endStyle,S.to),E.title&&((h||(h={})).title=E.title),E.attributes)for(var _ in E.attributes)(h||(h={}))[_]=E.attributes[_];E.collapsed&&(!f||Pe(f.marker,E)<0)&&(f=S)}else S.from>p&&y>S.from&&(y=S.from)}if(b)for(var k=0;k<b.length;k+=2)b[k+1]==y&&(c+=" "+b[k]);if(!f||f.from==p)for(var x=0;x<v.length;++x)an(e,0,v[x]);if(f&&(f.from||0)==p){if(an(e,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var T=Math.min(d,y);;){if(g){var C=p+g.length;if(!f){var O=C>T?g.slice(0,T-p):g;e.addToken(e,O,s?s+l:l,u,p+O.length==y?c:"",a,h)}if(C>=T){g=g.slice(T-p),p=T;break}p=C,u=""}g=i.slice(o,o=n[m++]),s=en(n[m++],e.cm.options)}}else for(var L=1;L<n.length;L+=2)e.addToken(e,i.slice(o,o=n[L]),en(n[L+1],e.cm.options))}function cn(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=Ue(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?ee(Q(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ve(t,e)}function un(t,e,n){for(var r,i=[],o=e;o<n;o=r){var s=new cn(t.doc,Jt(t.doc,o),o);r=o+s.size,i.push(s)}return i}var fn=null;var hn=null;function dn(t,e){var n=yt(t,e);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);fn?r=fn.delayedCallbacks:hn?r=hn:(r=hn=[],setTimeout(pn,0));for(var o=function(t){r.push((function(){return n[t].apply(null,i)}))},s=0;s<n.length;++s)o(s)}}function pn(){var t=hn;hn=null;for(var e=0;e<t.length;++e)t[e]()}function mn(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?vn(t,e):"gutter"==o?wn(t,e,n,r):"class"==o?bn(t,e):"widget"==o&&Sn(t,e,r)}e.changes=null}function gn(t){return t.node==t.text&&(t.node=A("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),s&&a<8&&(t.node.style.zIndex=2)),t.node}function yn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):nn(t,e)}function vn(t,e){var n=e.text.className,r=yn(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,bn(t,e)):n&&(e.text.className=n)}function bn(t,e){(function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var r=gn(e);e.background=r.insertBefore(A("div",null,n),r.firstChild),t.display.input.setUneditable(e.background)}})(t,e),e.line.wrapClass?gn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function wn(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=gn(e);e.gutterBackground=A("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var s=gn(e),a=e.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),t.display.input.setUneditable(a),s.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(A("div",ie(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<t.display.gutterSpecs.length;++l){var c=t.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&a.appendChild(A("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function Sn(t,e,n){e.alignable&&(e.alignable=null);for(var r=x("CodeMirror-linewidget"),i=e.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&e.node.removeChild(i);_n(t,e,n)}function En(t,e,n,r){var i=yn(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),bn(t,e),wn(t,e,n,r),_n(t,e,r),e.node}function _n(t,e,n){if(kn(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)kn(t,e.rest[r],e,n,!1)}function kn(t,e,n,r,i){if(e.widgets)for(var o=gn(n),s=0,a=e.widgets;s<a.length;++s){var l=a[s],c=A("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),xn(l,c,n,r),t.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),dn(l,"redraw")}}function xn(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function Tn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!I(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),L(e.display.measure,A("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function Cn(t,e){for(var n=Ot(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function On(t){return t.lineSpace.offsetTop}function Ln(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function An(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=L(t.measure,A("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Mn(t){return 50-t.display.nativeBarWidth}function In(t){return t.display.scroller.clientWidth-Mn(t)-t.display.barWidth}function Nn(t){return t.display.scroller.clientHeight-Mn(t)-t.display.barHeight}function Rn(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var i=0;i<t.rest.length;i++)if(ee(t.rest[i])>n)return{map:t.measure.maps[i],cache:t.measure.caches[i],before:!0}}}function Dn(t,e,n,r){return jn(t,Pn(t,e),n,r)}function Bn(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[mr(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Pn(t,e){var n=ee(e),r=Bn(t,n);r&&!r.text?r=null:r&&r.changes&&(mn(t,r,n,ur(t)),t.curOp.forceUpdate=!0),r||(r=function(t,e){var n=ee(e=He(e)),r=t.display.externalMeasured=new cn(t.doc,e,n);r.lineN=n;var i=r.built=nn(t,r);return r.text=i.pre,L(t.display.lineMeasure,i.pre),r}(t,e));var i=Rn(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function jn(t,e,n,r,i){e.before&&(n=-1);var o,l=n+(r||"");return e.cache.hasOwnProperty(l)?o=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var r=t.options.lineWrapping,i=r&&In(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var s=e.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(o=function(t,e,n,r){var i,o=Fn(e.map,n,r),l=o.node,c=o.start,u=o.end,f=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;c&&lt(e.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&lt(e.line.text.charAt(o.coverStart+u));)++u;if((i=s&&a<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():zn(T(l,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,f="right"}s&&a<11&&(i=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Wt)return Wt;var e=L(t,A("span","x")),n=e.getBoundingClientRect(),r=T(e,0,1).getBoundingClientRect();return Wt=Math.abs(n.left-r.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}(t.display.measure,i))}else{var d;c>0&&(f=r="right"),i=t.options.lineWrapping&&(d=l.getClientRects()).length>1?d["right"==r?d.length-1:0]:l.getBoundingClientRect()}if(s&&a<9&&!c&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+cr(t.display),top:p.top,bottom:p.bottom}:Un}for(var m=i.top-e.rect.top,g=i.bottom-e.rect.top,y=(m+g)/2,v=e.view.measure.heights,b=0;b<v.length-1&&!(y<v[b]);b++);var w=b?v[b-1]:0,S=v[b],E={left:("right"==f?i.right:i.left)-e.rect.left,right:("left"==f?i.left:i.right)-e.rect.left,top:w,bottom:S};return i.left||i.right||(E.bogus=!0),t.options.singleCursorHeightPerLine||(E.rtop=m,E.rbottom=g),E}(t,e,n,r)).bogus||(e.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var Wn,Un={left:0,right:0,top:0,bottom:0};function Fn(t,e,n){for(var r,i,o,s,a,l,c=0;c<t.length;c+=3)if(a=t[c],l=t[c+1],e<a?(i=0,o=1,s="left"):e<l?o=1+(i=e-a):(c==t.length-3||e==l&&t[c+3]>e)&&(i=(o=l-a)-1,e>=l&&(s="right")),null!=i){if(r=t[c+2],a==l&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)for(;c&&t[c-2]==t[c-3]&&t[c-1].insertLeft;)r=t[2+(c-=3)],s="left";if("right"==n&&i==l-a)for(;c<t.length-3&&t[c+3]==t[c+4]&&!t[c+5].insertLeft;)r=t[(c+=3)+2],s="right";break}return{node:r,start:i,end:o,collapse:s,coverStart:a,coverEnd:l}}function zn(t,e){var n=Un;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var i=t.length-1;i>=0&&(n=t[i]).left==n.right;i--);return n}function Hn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function $n(t){t.display.externalMeasure=null,O(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Hn(t.display.view[e])}function qn(t){$n(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Vn(t){return u&&y?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Gn(t){return u&&y?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function Yn(t){var e=He(t).widgets,n=0;if(e)for(var r=0;r<e.length;++r)e[r].above&&(n+=Tn(e[r]));return n}function Kn(t,e,n,r,i){if(!i){var o=Yn(e);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=Ye(e);if("local"==r?s+=On(t.display):s-=t.display.viewOffset,"page"==r||"window"==r){var a=t.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:Gn(P(t)));var l=a.left+("window"==r?0:Vn(P(t)));n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function Xn(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=Vn(P(t)),i-=Gn(P(t));else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=t.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function Jn(t,e,n,r,i){return r||(r=Jt(t.doc,e.line)),Kn(t,r,Dn(t,r,e.ch,i),n)}function Zn(t,e,n,r,i,o){function s(e,s){var a=jn(t,i,e,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,Kn(t,r,a,n)}r=r||Jt(t.doc,e.line),i||(i=Pn(t,r));var a=pt(r,t.doc.direction),l=e.ch,c=e.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!a)return s("before"==c?l-1:l,"before"==c);function u(t,e,n){return s(n?t-1:t,1==a[e].level!=n)}var f=ht(a,l,c),h=ft,d=u(l,f,"before"==c);return null!=h&&(d.other=u(l,h,"before"!=c)),d}function Qn(t,e){var n=0;e=he(t.doc,e),t.options.lineWrapping||(n=cr(t.display)*e.ch);var r=Jt(t.doc,e.line),i=Ye(r)+On(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function tr(t,e,n,r,i){var o=oe(t,e,n);return o.xRel=i,r&&(o.outside=r),o}function er(t,e,n){var r=t.doc;if((n+=t.display.viewOffset)<0)return tr(r.first,0,null,-1,-1);var i=ne(r,n),o=r.first+r.size-1;if(i>o)return tr(r.first+r.size-1,Jt(r,o).text.length,null,1,1);e<0&&(e=0);for(var s=Jt(r,i);;){var a=or(t,s,i,e,n),l=Fe(s,a.ch+(a.xRel>0||a.outside>0?1:0));if(!l)return a;var c=l.find(1);if(c.line==i)return c;s=Jt(r,i=c.line)}}function nr(t,e,n,r){r-=Yn(e);var i=e.text.length,o=ut((function(e){return jn(t,n,e-1).bottom<=r}),i,0);return{begin:o,end:i=ut((function(e){return jn(t,n,e).top>r}),o,i)}}function rr(t,e,n,r){return n||(n=Pn(t,e)),nr(t,e,n,Kn(t,e,jn(t,n,r),"line").top)}function ir(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function or(t,e,n,r,i){i-=Ye(e);var o=Pn(t,e),s=Yn(e),a=0,l=e.text.length,c=!0,u=pt(e,t.doc.direction);if(u){var f=(t.options.lineWrapping?ar:sr)(t,e,n,o,u,r,i);a=(c=1!=f.level)?f.from:f.to-1,l=c?f.to:f.from-1}var h,d,p=null,m=null,g=ut((function(e){var n=jn(t,o,e);return n.top+=s,n.bottom+=s,!!ir(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(p=e,m=n),!0)}),a,l),y=!1;if(m){var v=r-m.left<m.right-r,b=v==c;g=p+(b?0:1),d=b?"after":"before",h=v?m.left:m.right}else{c||g!=l&&g!=a||g++,d=0==g?"after":g==e.text.length?"before":jn(t,o,g-(c?1:0)).bottom+s<=i==c?"after":"before";var w=Zn(t,oe(n,g,d),"line",e,o);h=w.left,y=i<w.top?-1:i>=w.bottom?1:0}return tr(n,g=ct(e.text,g,1),d,y,r-h)}function sr(t,e,n,r,i,o,s){var a=ut((function(a){var l=i[a],c=1!=l.level;return ir(Zn(t,oe(n,c?l.to:l.from,c?"before":"after"),"line",e,r),o,s,!0)}),0,i.length-1),l=i[a];if(a>0){var c=1!=l.level,u=Zn(t,oe(n,c?l.from:l.to,c?"after":"before"),"line",e,r);ir(u,o,s,!0)&&u.top>s&&(l=i[a-1])}return l}function ar(t,e,n,r,i,o,s){var a=nr(t,e,r,s),l=a.begin,c=a.end;/\s/.test(e.text.charAt(c-1))&&c--;for(var u=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=c||d.to<=l)){var p=jn(t,r,1!=d.level?Math.min(c,d.to)-1:Math.max(l,d.from)).right,m=p<o?o-p+1e9:p-o;(!u||f>m)&&(u=d,f=m)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function lr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Wn){Wn=A("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Wn.appendChild(document.createTextNode("x")),Wn.appendChild(A("br"));Wn.appendChild(document.createTextNode("x"))}L(t.measure,Wn);var n=Wn.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),O(t.measure),n||1}function cr(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=A("span","xxxxxxxxxx"),n=A("pre",[e],"CodeMirror-line-like");L(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function ur(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,s=0;o;o=o.nextSibling,++s){var a=t.display.gutterSpecs[s].className;n[a]=o.offsetLeft+o.clientLeft+i,r[a]=o.clientWidth}return{fixedPos:fr(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function fr(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function hr(t){var e=lr(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/cr(t.display)-3);return function(i){if(Ve(t.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function dr(t){var e=t.doc,n=hr(t);e.iter((function(t){var e=n(t);e!=t.height&&te(t,e)}))}function pr(t,e,n,r){var i=t.display;if(!n&&"true"==Ot(e).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=e.clientX-a.left,s=e.clientY-a.top}catch(t){return null}var l,c=er(t,o,s);if(r&&c.xRel>0&&(l=Jt(t.doc,c.line).text).length==c.ch){var u=H(l,l.length,t.options.tabSize)-l.length;c=oe(c.line,Math.max(0,Math.round((o-An(t.display).left)/cr(t.display))-u))}return c}function mr(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if((e-=n[r].size)<0)return r}function gr(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Ce&&$e(t.doc,e)<i.viewTo&&vr(t);else if(n<=i.viewFrom)Ce&&qe(t.doc,n+r)>i.viewFrom?vr(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)vr(t);else if(e<=i.viewFrom){var o=br(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):vr(t)}else if(n>=i.viewTo){var s=br(t,e,e,-1);s?(i.view=i.view.slice(0,s.index),i.viewTo=s.lineN):vr(t)}else{var a=br(t,e,e,-1),l=br(t,n,n+r,1);a&&l?(i.view=i.view.slice(0,a.index).concat(un(t,a.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):vr(t)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:e<c.lineN+c.size&&(i.externalMeasured=null))}function yr(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[mr(t,e)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==q(s,n)&&s.push(n)}}}function vr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function br(t,e,n,r){var i,o=mr(t,e),s=t.display.view;if(!Ce||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var a=t.display.viewFrom,l=0;l<o;l++)a+=s[l].size;if(a!=e){if(r>0){if(o==s.length-1)return null;i=a+s[o].size-e,o++}else i=a-e;e+=i,n+=i}for(;$e(t.doc,n)!=n;){if(o==(r<0?0:s.length-1))return null;n+=r*s[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function wr(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function Sr(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Er(t,e){void 0===e&&(e=!0);var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=t.options.$customCursor;s&&(e=!0);for(var a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var l=n.sel.ranges[a];if(!(l.from().line>=t.display.viewTo||l.to().line<t.display.viewFrom)){var c=l.empty();if(s){var u=s(t,l);u&&_r(t,u,i)}else(c||t.options.showCursorWhenSelecting)&&_r(t,l.head,i);c||xr(t,l,o)}}return r}function _r(t,e,n){var r=Zn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(A("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var o=Jn(t,e,"div",null,null),s=o.right-o.left;i.style.width=(s>0?s:t.defaultCharWidth())+"px"}if(r.other){var a=n.appendChild(A("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function kr(t,e){return t.top-e.top||t.left-e.left}function xr(t,e,n){var r=t.display,i=t.doc,o=document.createDocumentFragment(),s=An(t.display),a=s.left,l=Math.max(r.sizerWidth,In(t)-r.sizer.offsetLeft)-s.right,c="ltr"==i.direction;function u(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),o.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(r-e)+"px"))}function f(e,n,r){var o,s,f=Jt(i,e),h=f.text.length;function d(n,r){return Jn(t,oe(e,n),"div",f,r)}function p(e,n,r){var i=rr(t,f,null,e),o="ltr"==n==("after"==r)?"left":"right";return d("after"==r?i.begin:i.end-(/\s/.test(f.text.charAt(i.end-1))?2:1),o)[o]}var m=pt(f,i.direction);return function(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var i=!1,o=0;o<t.length;++o){var s=t[o];(s.from<n&&s.to>e||e==n&&s.to==e)&&(r(Math.max(s.from,e),Math.min(s.to,n),1==s.level?"rtl":"ltr",o),i=!0)}i||r(e,n,"ltr")}(m,n||0,null==r?h:r,(function(t,e,i,f){var g="ltr"==i,y=d(t,g?"left":"right"),v=d(e-1,g?"right":"left"),b=null==n&&0==t,w=null==r&&e==h,S=0==f,E=!m||f==m.length-1;if(v.top-y.top<=3){var _=(c?w:b)&&E,k=(c?b:w)&&S?a:(g?y:v).left,x=_?l:(g?v:y).right;u(k,y.top,x-k,y.bottom)}else{var T,C,O,L;g?(T=c&&b&&S?a:y.left,C=c?l:p(t,i,"before"),O=c?a:p(e,i,"after"),L=c&&w&&E?l:v.right):(T=c?p(t,i,"before"):a,C=!c&&b&&S?l:y.right,O=!c&&w&&E?a:v.left,L=c?p(e,i,"after"):l),u(T,y.top,C-T,y.bottom),y.bottom<v.top&&u(a,y.bottom,null,v.top),u(O,v.top,L-O,v.bottom)}(!o||kr(y,o)<0)&&(o=y),kr(v,o)<0&&(o=v),(!s||kr(y,s)<0)&&(s=y),kr(v,s)<0&&(s=v)})),{start:o,end:s}}var h=e.from(),d=e.to();if(h.line==d.line)f(h.line,h.ch,d.ch);else{var p=Jt(i,h.line),m=Jt(i,d.line),g=He(p)==He(m),y=f(h.line,h.ch,g?p.text.length+1:null).end,v=f(d.line,g?0:null,d.ch).start;g&&(y.top<v.top-2?(u(y.right,y.top,null,y.bottom),u(a,v.top,v.left,v.bottom)):u(y.right,y.top,v.left-y.right,y.bottom)),y.bottom<v.top&&u(a,y.bottom,null,v.top)}n.appendChild(o)}function Tr(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){t.hasFocus()||Ar(t),e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Cr(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Lr(t))}function Or(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Ar(t))}),100)}function Lr(t,e){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(bt(t,"focus",t,e),t.state.focused=!0,R(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),Tr(t))}function Ar(t,e){t.state.delayingBlurEvent||(t.state.focused&&(bt(t,"blur",t,e),t.state.focused=!1,C(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Mr(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=Math.max(0,e.scroller.getBoundingClientRect().top),i=e.lineDiv.getBoundingClientRect().top,o=0,l=0;l<e.view.length;l++){var c=e.view[l],u=t.options.lineWrapping,f=void 0,h=0;if(!c.hidden){if(i+=c.line.height,s&&a<8){var d=c.node.offsetTop+c.node.offsetHeight;f=d-n,n=d}else{var p=c.node.getBoundingClientRect();f=p.bottom-p.top,!u&&c.text.firstChild&&(h=c.text.firstChild.getBoundingClientRect().right-p.left-1)}var m=c.line.height-f;if((m>.005||m<-.005)&&(i<r&&(o-=m),te(c.line,f),Ir(c.line),c.rest))for(var g=0;g<c.rest.length;g++)Ir(c.rest[g]);if(h>t.display.sizerWidth){var y=Math.ceil(h/cr(t.display));y>t.display.maxLineLength&&(t.display.maxLineLength=y,t.display.maxLine=c.line,t.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(e.scroller.scrollTop+=o)}function Ir(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Nr(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-On(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=ne(e,r),s=ne(e,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;a<o?(o=a,s=ne(e,Ye(Jt(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=s&&(o=ne(e,Ye(Jt(e,l))-t.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function Rr(t,e){var n=t.display,r=lr(t.display);e.top<0&&(e.top=0);var i=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,o=Nn(t),s={};e.bottom-e.top>o&&(e.bottom=e.top+o);var a=t.doc.height+Ln(n),l=e.top<r,c=e.bottom>a-r;if(e.top<i)s.scrollTop=l?0:e.top;else if(e.bottom>i+o){var u=Math.min(e.top,(c?a:e.bottom)-o);u!=i&&(s.scrollTop=u)}var f=t.options.fixedGutter?0:n.gutters.offsetWidth,h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft-f,d=In(t)-n.gutters.offsetWidth,p=e.right-e.left>d;return p&&(e.right=e.left+d),e.left<10?s.scrollLeft=0:e.left<h?s.scrollLeft=Math.max(0,e.left+f-(p?0:10)):e.right>d+h-3&&(s.scrollLeft=e.right+(p?0:10)-d),s}function Dr(t,e){null!=e&&(jr(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Br(t){jr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Pr(t,e,n){null==e&&null==n||jr(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function jr(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Wr(t,Qn(t,e.from),Qn(t,e.to),e.margin))}function Wr(t,e,n,r){var i=Rr(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});Pr(t,i.scrollLeft,i.scrollTop)}function Ur(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||di(t,{top:e}),Fr(t,e,!0),n&&di(t),li(t,100))}function Fr(t,e,n){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function zr(t,e,n,r){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,gi(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Hr(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+Ln(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Mn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var $r=function(t,e,n){this.cm=n;var r=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,t(r),t(i),gt(r,"scroll",(function(){r.clientHeight&&e(r.scrollTop,"vertical")})),gt(i,"scroll",(function(){i.clientWidth&&e(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,s&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};$r.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},$r.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},$r.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},$r.prototype.zeroWidthHack=function(){var t=b&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new $,this.disableVert=new $},$r.prototype.enableZeroWidthBar=function(t,e,n){t.style.visibility="",e.set(1e3,(function r(){var i=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=t?t.style.visibility="hidden":e.set(1e3,r)}))},$r.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var qr=function(){};function Vr(t,e){e||(e=Hr(t));var n=t.display.barWidth,r=t.display.barHeight;Gr(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&Mr(t),Gr(t,Hr(t)),n=t.display.barWidth,r=t.display.barHeight}function Gr(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}qr.prototype.update=function(){return{bottom:0,right:0}},qr.prototype.setScrollLeft=function(){},qr.prototype.setScrollTop=function(){},qr.prototype.clear=function(){};var Yr={native:$r,null:qr};function Kr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&C(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Yr[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),gt(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,n){"horizontal"==n?zr(t,e):Ur(t,e)}),t),t.display.scrollbars.addClass&&R(t.display.wrapper,t.display.scrollbars.addClass)}var Xr=0;function Jr(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Xr,markArrays:null},e=t.curOp,fn?fn.ops.push(e):e.ownsGroup=fn={ops:[e],delayedCallbacks:[]}}function Zr(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}(n)}finally{fn=null,e(n)}}(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Qr(e[n]);for(var r=0;r<e.length;r++)ti(e[r]);for(var i=0;i<e.length;i++)ei(e[i]);for(var o=0;o<e.length;o++)ni(e[o]);for(var s=0;s<e.length;s++)ri(e[s])}(t)}))}function Qr(t){var e=t.cm,n=e.display;(function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Mn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Mn(t)+"px",e.scrollbarsClipped=!0)})(e),t.updateMaxLine&&Xe(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new ui(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function ti(t){t.updatedDisplay=t.mustUpdate&&fi(t.cm,t.update)}function ei(t){var e=t.cm,n=e.display;t.updatedDisplay&&Mr(e),t.barMeasure=Hr(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Dn(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Mn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-In(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function ni(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&zr(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==N(j(e));t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Vr(e,t.barMeasure),t.updatedDisplay&&mi(e,t.barMeasure),t.selectionChanged&&Tr(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Cr(t.cm)}function ri(t){var e=t.cm,n=e.display,r=e.doc;t.updatedDisplay&&hi(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Fr(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&zr(e,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,e){if(!wt(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null,o=n.wrapper.ownerDocument;if(e.top+r.top<0?i=!0:e.bottom+r.top>(o.defaultView.innerHeight||o.documentElement.clientHeight)&&(i=!1),null!=i&&!m){var s=A("div","​",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-On(t.display))+"px;\n                         height: "+(e.bottom-e.top+Mn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(s),s.scrollIntoView(i),t.display.lineSpace.removeChild(s)}}}(e,function(t,e,n,r){var i;null==r&&(r=0),t.options.lineWrapping||e!=n||(n="before"==e.sticky?oe(e.line,e.ch+1,"before"):e,e=e.ch?oe(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e);for(var o=0;o<5;o++){var s=!1,a=Zn(t,e),l=n&&n!=e?Zn(t,n):a,c=Rr(t,i={left:Math.min(a.left,l.left),top:Math.min(a.top,l.top)-r,right:Math.max(a.left,l.left),bottom:Math.max(a.bottom,l.bottom)+r}),u=t.doc.scrollTop,f=t.doc.scrollLeft;if(null!=c.scrollTop&&(Ur(t,c.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(s=!0)),null!=c.scrollLeft&&(zr(t,c.scrollLeft),Math.abs(t.doc.scrollLeft-f)>1&&(s=!0)),!s)break}return i}(e,he(r,t.scrollToPos.from),he(r,t.scrollToPos.to),t.scrollToPos.margin));var i=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||bt(i[s],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&bt(o[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&bt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function ii(t,e){if(t.curOp)return e();Jr(t);try{return e()}finally{Zr(t)}}function oi(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Jr(t);try{return e.apply(t,arguments)}finally{Zr(t)}}}function si(t){return function(){if(this.curOp)return t.apply(this,arguments);Jr(this);try{return t.apply(this,arguments)}finally{Zr(this)}}}function ai(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Jr(e);try{return t.apply(this,arguments)}finally{Zr(e)}}}function li(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,F(ci,t))}function ci(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=ve(t,e.highlightFrontier),i=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(o){if(r.line>=t.display.viewFrom){var s=o.styles,a=o.text.length>t.options.maxHighlightLength?Gt(e.mode,r.state):null,l=ge(t,o,r,!0);a&&(r.state=a),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var f=!s||s.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!f&&h<s.length;++h)f=s[h]!=o.styles[h];f&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=t.options.maxHighlightLength&&be(t,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return li(t,t.options.workDelay),!0})),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),i.length&&ii(t,(function(){for(var e=0;e<i.length;e++)yr(t,i[e],"text")}))}}var ui=function(t,e,n){var r=t.display;this.viewport=e,this.visible=Nr(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=In(t),this.force=n,this.dims=ur(t),this.events=[]};function fi(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return vr(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==wr(t))return!1;yi(t)&&(vr(t),e.dims=ur(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),s=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),Ce&&(o=$e(t.doc,o),s=qe(t.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;(function(t,e,n){var r=t.display;0==r.view.length||e>=r.viewTo||n<=r.viewFrom?(r.view=un(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=un(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(mr(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(un(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,mr(t,n)))),r.viewTo=n})(t,o,s),n.viewOffset=Ye(Jt(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var c=wr(t);if(!a&&0==c&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(t){if(t.hasFocus())return null;var e=N(j(t));if(!e||!I(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=U(t).getSelection();r.anchorNode&&r.extend&&I(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(t);return c>4&&(n.lineDiv.style.display="none"),function(t,e,n){var r=t.display,i=t.options.lineNumbers,o=r.lineDiv,s=o.firstChild;function a(e){var n=e.nextSibling;return l&&b&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var c=r.view,u=r.viewFrom,f=0;f<c.length;f++){var h=c[f];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;s!=h.node;)s=a(s);var d=i&&null!=e&&e<=u&&h.lineNumber;h.changes&&(q(h.changes,"gutter")>-1&&(d=!1),mn(t,h,u,n)),d&&(O(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(ie(t.options,u)))),s=h.node.nextSibling}else{var p=En(t,h,u,n);o.insertBefore(p,s)}u+=h.size}for(;s;)s=a(s)}(t,n.updateLineNumbers,e.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=N(W(t.activeElt))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&I(document.body,t.anchorNode)&&I(document.body,t.focusNode))){var e=t.activeElt.ownerDocument,n=e.defaultView.getSelection(),r=e.createRange();r.setEnd(t.anchorNode,t.anchorOffset),r.collapse(!1),n.removeAllRanges(),n.addRange(r),n.extend(t.focusNode,t.focusOffset)}}(u),O(n.cursorDiv),O(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,li(t,400)),n.updateLineNumbers=null,!0}function hi(t,e){for(var n=e.viewport,r=!0;;r=!1){if(r&&t.options.lineWrapping&&e.oldDisplayWidth!=In(t))r&&(e.visible=Nr(t.display,t.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Ln(t.display)-Nn(t),n.top)}),e.visible=Nr(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!fi(t,e))break;Mr(t);var i=Hr(t);Sr(t),Vr(t,i),mi(t,i),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function di(t,e){var n=new ui(t,e);if(fi(t,n)){Mr(t),hi(t,n);var r=Hr(t);Sr(t),Vr(t,r),mi(t,r),n.finish()}}function pi(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px",dn(t,"gutterChanged",t)}function mi(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Mn(t)+"px"}function gi(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=fr(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){t.options.fixedGutter&&(n[s].gutter&&(n[s].gutter.style.left=o),n[s].gutterBackground&&(n[s].gutterBackground.style.left=o));var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function yi(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=ie(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(A("div",[A("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",pi(t.display),!0}return!1}function vi(t,e){for(var n=[],r=!1,i=0;i<t.length;i++){var o=t[i],s=null;if("string"!=typeof o&&(s=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!e)continue;r=!0}n.push({className:o,style:s})}return e&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function bi(t){var e=t.gutters,n=t.gutterSpecs;O(e),t.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,s=i.style,a=e.appendChild(A("div",null,"CodeMirror-gutter "+o));s&&(a.style.cssText=s),"CodeMirror-linenumbers"==o&&(t.lineGutter=a,a.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",pi(t)}function wi(t){bi(t.display),gr(t),gi(t)}function Si(t,e,r,i){var o=this;this.input=r,o.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=M("div",null,"CodeMirror-code"),o.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=A("div",null,"CodeMirror-cursors"),o.measure=A("div",null,"CodeMirror-measure"),o.lineMeasure=A("div",null,"CodeMirror-measure"),o.lineSpace=M("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=M("div",[o.lineSpace],"CodeMirror-lines");o.mover=A("div",[c],null,"position: relative"),o.sizer=A("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=A("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=A("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=A("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=A("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),u&&f>=105&&(o.wrapper.style.clipPath="inset(0px)"),o.wrapper.setAttribute("translate","no"),s&&a<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(o.wrapper):t(o.wrapper)),o.viewFrom=o.viewTo=e.first,o.reportedViewFrom=o.reportedViewTo=e.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=vi(i.gutters,i.lineNumbers),bi(o),r.init(o)}ui.prototype.signal=function(t,e){Et(t,e)&&this.events.push(arguments)},ui.prototype.finish=function(){for(var t=0;t<this.events.length;t++)bt.apply(null,this.events[t])};var Ei=0,_i=null;function ki(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function xi(t){var e=ki(t);return e.x*=_i,e.y*=_i,e}function Ti(t,e){u&&102==f&&(null==t.display.chromeScrollHack?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout((function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""}),100));var r=ki(e),i=r.x,o=r.y,s=_i;0===e.deltaMode&&(i=e.deltaX,o=e.deltaY,s=1);var a=t.display,c=a.scroller,d=c.scrollWidth>c.clientWidth,p=c.scrollHeight>c.clientHeight;if(i&&d||o&&p){if(o&&b&&l)t:for(var m=e.target,g=a.view;m!=c;m=m.parentNode)for(var y=0;y<g.length;y++)if(g[y].node==m){t.display.currentWheelTarget=m;break t}if(i&&!n&&!h&&null!=s)return o&&p&&Ur(t,Math.max(0,c.scrollTop+o*s)),zr(t,Math.max(0,c.scrollLeft+i*s)),(!o||o&&p)&&kt(e),void(a.wheelStartX=null);if(o&&null!=s){var v=o*s,w=t.doc.scrollTop,S=w+a.wrapper.clientHeight;v<0?w=Math.max(0,w+v-50):S=Math.min(t.doc.height,S+v+50),di(t,{top:w,bottom:S})}Ei<20&&0!==e.deltaMode&&(null==a.wheelStartX?(a.wheelStartX=c.scrollLeft,a.wheelStartY=c.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var t=c.scrollLeft-a.wheelStartX,e=c.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(_i=(_i*Ei+n)/(Ei+1),++Ei)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}s?_i=-.53:n?_i=15:u?_i=-.7:d&&(_i=-1/3);var Ci=function(t,e){this.ranges=t,this.primIndex=e};Ci.prototype.primary=function(){return this.ranges[this.primIndex]},Ci.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(!ae(n.anchor,r.anchor)||!ae(n.head,r.head))return!1}return!0},Ci.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Oi(le(this.ranges[e].anchor),le(this.ranges[e].head));return new Ci(t,this.primIndex)},Ci.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Ci.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(se(e,r.from())>=0&&se(t,r.to())<=0)return n}return-1};var Oi=function(t,e){this.anchor=t,this.head=e};function Li(t,e,n){var r=t&&t.options.selectionsMayTouch,i=e[n];e.sort((function(t,e){return se(t.from(),e.from())})),n=q(e,i);for(var o=1;o<e.length;o++){var s=e[o],a=e[o-1],l=se(a.to(),s.from());if(r&&!s.empty()?l>0:l>=0){var c=ue(a.from(),s.from()),u=ce(a.to(),s.to()),f=a.empty()?s.from()==s.head:a.from()==a.head;o<=n&&--n,e.splice(--o,2,new Oi(f?u:c,f?c:u))}}return new Ci(e,n)}function Ai(t,e){return new Ci([new Oi(t,e||t)],0)}function Mi(t){return t.text?oe(t.from.line+t.text.length-1,Q(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Ii(t,e){if(se(t,e.from)<0)return t;if(se(t,e.to)<=0)return Mi(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Mi(e).ch-e.to.ch),oe(n,r)}function Ni(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new Oi(Ii(i.anchor,e),Ii(i.head,e)))}return Li(t.cm,n,t.sel.primIndex)}function Ri(t,e,n){return t.line==e.line?oe(n.line,t.ch-e.ch+n.ch):oe(n.line+(t.line-e.line),t.ch)}function Di(t){t.doc.mode=$t(t.options,t.doc.modeOption),Bi(t)}function Bi(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,li(t,100),t.state.modeGen++,t.curOp&&gr(t)}function Pi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Q(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function ji(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){(function(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ne(t),Re(t,n);var i=r?r(t):1;i!=t.height&&te(t,i)})(t,n,i,r),dn(t,"change",t,e)}function s(t,e){for(var n=[],o=t;o<e;++o)n.push(new Je(c[o],i(o),r));return n}var a=e.from,l=e.to,c=e.text,u=Jt(t,a.line),f=Jt(t,l.line),h=Q(c),d=i(c.length-1),p=l.line-a.line;if(e.full)t.insert(0,s(0,c.length)),t.remove(c.length,t.size-c.length);else if(Pi(t,e)){var m=s(0,c.length-1);o(f,f.text,d),p&&t.remove(a.line,p),m.length&&t.insert(a.line,m)}else if(u==f)if(1==c.length)o(u,u.text.slice(0,a.ch)+h+u.text.slice(l.ch),d);else{var g=s(1,c.length-1);g.push(new Je(h+u.text.slice(l.ch),d,r)),o(u,u.text.slice(0,a.ch)+c[0],i(0)),t.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+f.text.slice(l.ch),i(0)),t.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],i(0)),o(f,h+f.text.slice(l.ch),d);var y=s(1,c.length-1);p>1&&t.remove(a.line+1,p-1),t.insert(a.line+1,y)}dn(t,"change",t,e)}function Wi(t,e,n){!function t(r,i,o){if(r.linked)for(var s=0;s<r.linked.length;++s){var a=r.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;n&&!l||(e(a.doc,l),t(a.doc,r,l))}}}(t,null,!0)}function Ui(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,dr(t),Di(t),Fi(t),t.options.direction=e.direction,t.options.lineWrapping||Xe(t),t.options.mode=e.modeOption,gr(t)}function Fi(t){("rtl"==t.doc.direction?R:C)(t.display.lineDiv,"CodeMirror-rtl")}function zi(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Hi(t,e){var n={from:le(e.from),to:Mi(e),text:Zt(t,e.from,e.to)};return Yi(t,n,e.from.line,e.to.line+1),Wi(t,(function(t){return Yi(t,n,e.from.line,e.to.line+1)}),!0),n}function $i(t){for(;t.length&&Q(t).ranges;)t.pop()}function qi(t,e,n,r){var i=t.history;i.undone.length=0;var o,s,a=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&i.lastModTime>a-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(o=function(t,e){return e?($i(t.done),Q(t.done)):t.done.length&&!Q(t.done).ranges?Q(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Q(t.done)):void 0}(i,i.lastOp==r)))s=Q(o.changes),0==se(e.from,e.to)&&0==se(e.from,s.to)?s.to=Mi(e):o.changes.push(Hi(t,e));else{var l=Q(i.done);for(l&&l.ranges||Gi(t.sel,i.done),o={changes:[Hi(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,s||bt(t,"historyAdded")}function Vi(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,o,Q(i.done),e))?i.done[i.done.length-1]=e:Gi(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&$i(i.undone)}function Gi(t,e){var n=Q(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Yi(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),(function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o}))}function Ki(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function Xi(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],i=0;i<e.text.length;++i)r.push(Ki(n[i]));return r}(t,e),r=Me(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)t:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue t;o.push(l)}else s&&(n[i]=s)}return n}function Ji(t,e,n){for(var r=[],i=0;i<t.length;++i){var o=t[i];if(o.ranges)r.push(n?Ci.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c=s[l],u=void 0;if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&q(e,Number(u[1]))>-1&&(Q(a)[f]=c[f],delete c[f])}}}return r}function Zi(t,e,n,r){if(r){var i=t.anchor;if(n){var o=se(e,i)<0;o!=se(n,i)<0?(i=e,e=n):o!=se(e,n)<0&&(e=n)}return new Oi(i,e)}return new Oi(n||e,e)}function Qi(t,e,n,r,i){null==i&&(i=t.cm&&(t.cm.display.shift||t.extend)),io(t,new Ci([Zi(t.sel.primary(),e,n,i)],0),r)}function to(t,e,n){for(var r=[],i=t.cm&&(t.cm.display.shift||t.extend),o=0;o<t.sel.ranges.length;o++)r[o]=Zi(t.sel.ranges[o],e[o],null,i);io(t,Li(t.cm,r,t.sel.primIndex),n)}function eo(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,io(t,Li(t.cm,i,t.sel.primIndex),r)}function no(t,e,n,r){io(t,Ai(e,n),r)}function ro(t,e,n){var r=t.history.done,i=Q(r);i&&i.ranges?(r[r.length-1]=e,oo(t,e,n)):io(t,e,n)}function io(t,e,n){oo(t,e,n),Vi(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function oo(t,e,n){(Et(t,"beforeSelectionChange")||t.cm&&Et(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new Oi(he(t,e[n].anchor),he(t,e[n].head))},origin:n&&n.origin};return bt(t,"beforeSelectionChange",t,r),t.cm&&bt(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?Li(t.cm,r.ranges,r.ranges.length-1):e}(t,e,n));var r=n&&n.bias||(se(e.primary().head,t.sel.primary().head)<0?-1:1);so(t,lo(t,e,r,!0)),n&&!1===n.scroll||!t.cm||"nocursor"==t.cm.getOption("readOnly")||Br(t.cm)}function so(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,St(t.cm)),dn(t,"cursorActivity",t))}function ao(t){so(t,lo(t,t.sel,null,!1))}function lo(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var s=e.ranges[o],a=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[o],l=uo(t,s.anchor,a&&a.anchor,n,r),c=s.head==s.anchor?l:uo(t,s.head,a&&a.head,n,r);(i||l!=s.anchor||c!=s.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new Oi(l,c))}return i?Li(t.cm,i,e.primIndex):e}function co(t,e,n,r,i){var o=Jt(t,e.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==a.from||(c?a.from<=e.ch:a.from<e.ch))&&(null==a.to||(u?a.to>=e.ch:a.to>e.ch))){if(i&&(bt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var f=l.find(r<0?1:-1),h=void 0;if((r<0?u:c)&&(f=fo(t,f,-r,f&&f.line==e.line?o:null)),f&&f.line==e.line&&(h=se(f,n))&&(r<0?h<0:h>0))return co(t,f,e,r,i)}var d=l.find(r<0?-1:1);return(r<0?c:u)&&(d=fo(t,d,r,d.line==e.line?o:null)),d?co(t,d,e,r,i):null}}return e}function uo(t,e,n,r,i){var o=r||1;return co(t,e,n,o,i)||!i&&co(t,e,n,o,!0)||co(t,e,n,-o,i)||!i&&co(t,e,n,-o,!0)||(t.cantEdit=!0,oe(t.first,0))}function fo(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?he(t,oe(e.line-1)):null:n>0&&e.ch==(r||Jt(t,e.line)).text.length?e.line<t.first+t.size-1?oe(e.line+1,0):null:new oe(e.line,e.ch+n)}function ho(t){t.setSelection(oe(t.firstLine(),0),oe(t.lastLine()),G)}function po(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,i,o){e&&(r.from=he(t,e)),n&&(r.to=he(t,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),bt(t,"beforeChange",t,r),t.cm&&bt(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function mo(t,e,n){if(t.cm){if(!t.cm.curOp)return oi(t.cm,mo)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Et(t,"beforeChange")||t.cm&&Et(t.cm,"beforeChange"))||(e=po(t,e,!0))){var r=Te&&!n&&function(t,e,n){var r=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=q(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var c=i[l];if(!(se(c.to,a.from)<0||se(c.from,a.to)>0)){var u=[l,1],f=se(c.from,a.from),h=se(c.to,a.to);(f<0||!s.inclusiveLeft&&!f)&&u.push({from:c.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&u.push({from:a.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)go(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text,origin:e.origin});else go(t,e)}}function go(t,e){if(1!=e.text.length||""!=e.text[0]||0!=se(e.from,e.to)){var n=Ni(t,e);qi(t,e,n,t.cm?t.cm.curOp.id:NaN),bo(t,e,n,Me(t,e));var r=[];Wi(t,(function(t,n){n||-1!=q(r,t.history)||(_o(t.history,e),r.push(t.history)),bo(t,e,null,Me(t,e))}))}}function yo(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var i,o=t.history,s=t.sel,a="undo"==e?o.done:o.undone,l="undo"==e?o.undone:o.done,c=0;c<a.length&&(i=a[c],n?!i.ranges||i.equals(t.sel):i.ranges);c++);if(c!=a.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=a.pop()).ranges){if(r)return void a.push(i);break}if(Gi(i,l),n&&!i.equals(t.sel))return void io(t,i,{clearRedo:!1});s=i}var u=[];Gi(s,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=Et(t,"beforeChange")||t.cm&&Et(t.cm,"beforeChange"),h=function(n){var r=i.changes[n];if(r.origin=e,f&&!po(t,r,!1))return a.length=0,{};u.push(Hi(t,r));var o=n?Ni(t,r):Q(a);bo(t,r,o,Xi(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:Mi(r)});var s=[];Wi(t,(function(t,e){e||-1!=q(s,t.history)||(_o(t.history,r),s.push(t.history)),bo(t,r,null,Xi(t,r))}))},d=i.changes.length-1;d>=0;--d){var p=h(d);if(p)return p.v}}}}function vo(t,e){if(0!=e&&(t.first+=e,t.sel=new Ci(tt(t.sel.ranges,(function(t){return new Oi(oe(t.anchor.line+e,t.anchor.ch),oe(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){gr(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)yr(t.cm,r,"gutter")}}function bo(t,e,n,r){if(t.cm&&!t.cm.curOp)return oi(t.cm,bo)(t,e,n,r);if(e.to.line<t.first)vo(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);vo(t,i),e={from:oe(t.first,0),to:oe(e.to.line+i,e.to.ch),text:[Q(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:oe(o,Jt(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Zt(t,e.from,e.to),n||(n=Ni(t,e)),t.cm?function(t,e,n){var r=t.doc,i=t.display,o=e.from,s=e.to,a=!1,l=o.line;t.options.lineWrapping||(l=ee(He(Jt(r,o.line))),r.iter(l,s.line+1,(function(t){if(t==i.maxLine)return a=!0,!0}))),r.sel.contains(e.from,e.to)>-1&&St(t),ji(r,e,n,hr(t)),t.options.lineWrapping||(r.iter(l,o.line+e.text.length,(function(t){var e=Ke(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,a=!1)})),a&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var i=Jt(t,r).stateAfter;if(i&&(!(i instanceof pe)||r+i.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(r,o.line),li(t,400);var c=e.text.length-(s.line-o.line)-1;e.full?gr(t):o.line!=s.line||1!=e.text.length||Pi(t.doc,e)?gr(t,o.line,s.line+1,c):yr(t,o.line,"text");var u=Et(t,"changes"),f=Et(t,"change");if(f||u){var h={from:o,to:s,text:e.text,removed:e.removed,origin:e.origin};f&&dn(t,"change",t,h),u&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(h)}t.display.selForContextMenu=null}(t.cm,e,r):ji(t,e,r),oo(t,n,G),t.cantEdit&&uo(t,oe(t.firstLine(),0))&&(t.cantEdit=!1)}}function wo(t,e,n,r,i){var o;r||(r=n),se(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof e&&(e=t.splitLines(e)),mo(t,{from:n,to:r,text:e,origin:i})}function So(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function Eo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],s=!0;if(o.ranges){o.copied||((o=t[i]=o.deepCopy()).copied=!0);for(var a=0;a<o.ranges.length;a++)So(o.ranges[a].anchor,e,n,r),So(o.ranges[a].head,e,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=oe(c.from.line+r,c.from.ch),c.to=oe(c.to.line+r,c.to.ch);else if(e<=c.to.line){s=!1;break}}s||(t.splice(0,i+1),i=0)}}}function _o(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;Eo(t.done,n,r,i),Eo(t.undone,n,r,i)}function ko(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Jt(t,fe(t,e)):i=ee(e),null==i?null:(r(o,i)&&t.cm&&yr(t.cm,i,n),o)}function xo(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function To(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}Oi.prototype.from=function(){return ue(this.anchor,this.head)},Oi.prototype.to=function(){return ce(this.anchor,this.head)},Oi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},xo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,Ze(i),dn(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},To.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var o=Math.min(e,i-t),s=r.height;if(r.removeInner(t,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof xo))){var a=[];this.collapse(a),this.children=[new xo(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(var s=i.lines.length%25+25,a=s;a<i.lines.length;){var l=new xo(i.lines.slice(a,a+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,s),this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new To(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=q(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var r=new To(t.children);r.parent=t,t.children=[r,e],t=r}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var s=Math.min(e,o-t);if(i.iterN(t,s,n))return!0;if(0==(e-=s))break;t=0}else t-=o}}};var Co=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};function Oo(t,e,n){Ye(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Dr(t,n)}Co.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=ee(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=Tn(this);te(n,Math.max(0,n.height-o)),t&&(ii(t,(function(){Oo(t,n,-o),yr(t,r,"widget")})),dn(t,"lineWidgetCleared",t,this,r))}},Co.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=Tn(this)-e;i&&(Ve(this.doc,r)||te(r,r.height+i),n&&ii(n,(function(){n.curOp.forceUpdate=!0,Oo(n,r,i),dn(n,"lineWidgetChanged",n,t,ee(r))})))},_t(Co);var Lo=0,Ao=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Lo};function Mo(t,e,n,r,i){if(r&&r.shared)return function(t,e,n,r,i){(r=z(r)).shared=!1;var o=[Mo(t,e,n,r,i)],s=o[0],a=r.widgetNode;return Wi(t,(function(t){a&&(r.widgetNode=a.cloneNode(!0)),o.push(Mo(t,he(t,e),he(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;s=Q(o)})),new Io(o,s)}(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return oi(t.cm,Mo)(t,e,n,r,i);var o=new Ao(t,i),s=se(e,n);if(r&&z(r,o,!1),s>0||0==s&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=M("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(ze(t,e.line,e,n,o)||e.line!=n.line&&ze(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ce=!0}o.addToHistory&&qi(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var a,l=e.line,c=t.cm;if(t.iter(l,n.line+1,(function(r){c&&o.collapsed&&!c.options.lineWrapping&&He(r)==c.display.maxLine&&(a=!0),o.collapsed&&l!=e.line&&te(r,0),function(t,e,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&t.markedSpans&&r.has(t.markedSpans)?t.markedSpans.push(e):(t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],r&&r.add(t.markedSpans)),e.marker.attachLine(t)}(r,new Oe(o,l==e.line?e.ch:null,l==n.line?n.ch:null),t.cm&&t.cm.curOp),++l})),o.collapsed&&t.iter(e.line,n.line+1,(function(e){Ve(t,e)&&te(e,0)})),o.clearOnEnter&&gt(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Te=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++Lo,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)gr(c,e.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=e.line;u<=n.line;u++)yr(c,u,"text");o.atomic&&ao(c.doc),dn(c,"markerAdded",c,o)}return o}Ao.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Jr(t),Et(this,"clear")){var n=this.find();n&&dn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Le(s.markedSpans,this);t&&!this.collapsed?yr(t,ee(s),"text"):t&&(null!=a.to&&(i=ee(s)),null!=a.from&&(r=ee(s))),s.markedSpans=Ae(s.markedSpans,a),null==a.from&&this.collapsed&&!Ve(this.doc,s)&&t&&te(s,lr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=He(this.lines[l]),u=Ke(c);u>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&gr(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ao(t.doc)),t&&dn(t,"markerCleared",t,this,r,i),e&&Zr(t),this.parent&&this.parent.clear()}},Ao.prototype.find=function(t,e){var n,r;null==t&&"bookmark"==this.type&&(t=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],s=Le(o.markedSpans,this);if(null!=s.from&&(n=oe(e?o:ee(o),s.from),-1==t))return n;if(null!=s.to&&(r=oe(e?o:ee(o),s.to),1==t))return r}return n&&{from:n,to:r}},Ao.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&ii(r,(function(){var i=e.line,o=ee(e.line),s=Bn(r,o);if(s&&(Hn(s),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Ve(n.doc,i)&&null!=n.height){var a=n.height;n.height=null;var l=Tn(n)-a;l&&te(i,i.height+l)}dn(r,"markerChanged",r,t)}))},Ao.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=q(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Ao.prototype.detachLine=function(t){if(this.lines.splice(q(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},_t(Ao);var Io=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function No(t){return t.findMarks(oe(t.first,0),t.clipPos(oe(t.lastLine())),(function(t){return t.parent}))}function Ro(t){for(var e=function(e){var n=t[e],r=[n.primary.doc];Wi(n.primary.doc,(function(t){return r.push(t)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==q(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<t.length;n++)e(n)}Io.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();dn(this,"clear")}},Io.prototype.find=function(t,e){return this.primary.find(t,e)},_t(Io);var Do=0,Bo=function(t,e,n,r,i){if(!(this instanceof Bo))return new Bo(t,e,n,r,i);null==n&&(n=0),To.call(this,[new xo([new Je("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var o=oe(n,0);this.sel=Ai(o),this.history=new zi(null),this.id=++Do,this.modeOption=e,this.lineSep=r,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),ji(this,{from:o,to:o,text:t}),io(this,Ai(o),G)};Bo.prototype=nt(To.prototype,{constructor:Bo,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Qt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:ai((function(t){var e=oe(this.first,0),n=this.first+this.size-1;mo(this,{from:e,to:oe(n,Jt(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Pr(this.cm,0,0),io(this,Ai(e),G)})),replaceRange:function(t,e,n,r){wo(this,t,e=he(this,e),n=n?he(this,n):e,r)},getRange:function(t,e,n){var r=Zt(this,he(this,t),he(this,e));return!1===n?r:""===n?r.join(""):r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(re(this,t))return Jt(this,t)},getLineNumber:function(t){return ee(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Jt(this,t)),He(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return he(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ai((function(t,e,n){no(this,he(this,"number"==typeof t?oe(t,e||0):t),null,n)})),setSelection:ai((function(t,e,n){no(this,he(this,t),he(this,e||t),n)})),extendSelection:ai((function(t,e,n){Qi(this,he(this,t),e&&he(this,e),n)})),extendSelections:ai((function(t,e){to(this,de(this,t),e)})),extendSelectionsBy:ai((function(t,e){to(this,de(this,tt(this.sel.ranges,t)),e)})),setSelections:ai((function(t,e,n){if(t.length){for(var r=[],i=0;i<t.length;i++)r[i]=new Oi(he(this,t[i].anchor),he(this,t[i].head||t[i].anchor));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),io(this,Li(this.cm,r,e),n)}})),addSelection:ai((function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new Oi(he(this,t),he(this,e||t))),io(this,Li(this.cm,r,r.length-1),n)})),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=Zt(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Zt(this,n[r].from(),n[r].to());!1!==t&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:ai((function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(t[o]),origin:n}}for(var a=e&&"end"!=e&&function(t,e,n){for(var r=[],i=oe(t.first,0),o=i,s=0;s<e.length;s++){var a=e[s],l=Ri(a.from,i,o),c=Ri(Mi(a),i,o);if(i=a.to,o=c,"around"==n){var u=t.sel.ranges[s],f=se(u.head,u.anchor)<0;r[s]=new Oi(f?c:l,f?l:c)}else r[s]=new Oi(l,l)}return new Ci(r,t.sel.primIndex)}(this,r,e),l=r.length-1;l>=0;l--)mo(this,r[l]);a?ro(this,a):this.cm&&Br(this.cm)})),undo:ai((function(){yo(this,"undo")})),redo:ai((function(){yo(this,"redo")})),undoSelection:ai((function(){yo(this,"undo",!0)})),redoSelection:ai((function(){yo(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var i=0;i<t.undone.length;i++)t.undone[i].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new zi(this.history),Wi(this,(function(e){return e.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Ji(this.history.done),undone:Ji(this.history.undone)}},setHistory:function(t){var e=this.history=new zi(this.history);e.done=Ji(t.done.slice(0),null,!0),e.undone=Ji(t.undone.slice(0),null,!0)},setGutterMarker:ai((function(t,e,n){return ko(this,t,"gutter",(function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&st(r)&&(t.gutterMarkers=null),!0}))})),clearGutter:ai((function(t){var e=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&ko(e,n,"gutter",(function(){return n.gutterMarkers[t]=null,st(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!re(this,t))return null;if(e=t,!(t=Jt(this,t)))return null}else if(null==(e=ee(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:ai((function(t,e,n){return ko(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(x(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0}))})),removeLineClass:ai((function(t,e,n){return ko(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(x(n));if(!o)return!1;var s=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0}))})),addLineWidget:ai((function(t,e,n){return function(t,e,n,r){var i=new Co(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),ko(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!Ve(t,e)){var r=Ye(e)<t.scrollTop;te(e,e.height+Tn(i)),r&&Dr(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&dn(o,"lineWidgetAdded",o,i,"number"==typeof e?e:ee(e)),i}(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Mo(this,he(this,t),he(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Mo(this,t=he(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Jt(this,(t=he(this,t)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=he(this,t),e=he(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,(function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==t.line&&t.ch>=l.to||null==l.from&&i!=t.line||null!=l.from&&i==e.line&&l.from>=e.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)})),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>t)return e=t,!0;t-=o,++n})),he(this,oe(n,e))},indexFromPos:function(t){var e=(t=he(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new Bo(Qt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new Bo(Qt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),s=t.clipPos(i.to);if(se(o,s)){var a=Mo(t,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}(r,No(this)),r},unlinkDoc:function(t){if(t instanceof Is&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Ro(No(this));break}if(t.history==this.history){var n=[t.id];Wi(t,(function(t){return n.push(t.id)}),!0),t.history=new zi(null),t.history.done=Ji(this.history.done,n),t.history.undone=Ji(this.history.undone,n)}},iterLinkedDocs:function(t){Wi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Bt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ai((function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&ii(e=this.cm,(function(){Fi(e),gr(e)})))}))}),Bo.prototype.eachLine=Bo.prototype.iter;var Po=0;function jo(t){var e=this;if(Wo(e),!wt(e,t)&&!Cn(e.display,t)){kt(t),s&&(Po=+new Date);var n=pr(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,l=function(){++a==i&&oi(e,(function(){var t={from:n=he(e.doc,n),to:n,text:e.doc.splitLines(o.filter((function(t){return null!=t})).join(e.doc.lineSeparator())),origin:"paste"};mo(e.doc,t),ro(e.doc,Ai(he(e.doc,n),he(e.doc,Mi(t))))}))()},c=function(t,n){if(e.options.allowDropFileTypes&&-1==q(e.options.allowDropFileTypes,t.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var t=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(o[n]=t),l()},r.readAsText(t)}},u=0;u<r.length;u++)c(r[u],u);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var f=t.dataTransfer.getData("Text");if(f){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),oo(e.doc,Ai(n,n)),h)for(var d=0;d<h.length;++d)wo(e.doc,"",h[d].anchor,h[d].head,"drag");e.replaceSelection(f,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Wo(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Uo(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<e.length;r++){var i=e[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var e=0;e<n.length;e++)t(n[e])}))}}var Fo=!1;function zo(){var t;Fo||(gt(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Uo(Ho)}),100))})),gt(window,"blur",(function(){return Uo(Ar)})),Fo=!0)}function Ho(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var $o={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},qo=0;qo<10;qo++)$o[qo+48]=$o[qo+96]=String(qo);for(var Vo=65;Vo<=90;Vo++)$o[Vo]=String.fromCharCode(Vo);for(var Go=1;Go<=12;Go++)$o[Go+111]=$o[Go+63235]="F"+Go;var Yo={};function Ko(t){var e,n,r,i,o=t.split(/-(?!$)/);t=o[o.length-1];for(var s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Xo(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=tt(n.split(" "),Ko),o=0;o<i.length;o++){var s=void 0,a=void 0;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=e[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else e[a]=s}delete t[n]}for(var c in e)t[c]=e[c];return t}function Jo(t,e,n,r){var i=(e=es(e)).call?e.call(t,r):e[t];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Jo(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var s=Jo(t,e.fallthrough[o],n,r);if(s)return s}}}function Zo(t){var e="string"==typeof t?t:$o[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Qo(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(_?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(_?e.ctrlKey:e.metaKey)&&"Mod"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function ts(t,e){if(h&&34==t.keyCode&&t.char)return!1;var n=$o[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Qo(n,t,e))}function es(t){return"string"==typeof t?Yo[t]:t}function ns(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&se(o.from,Q(r).to)<=0;){var s=r.pop();if(se(s.from,o.from)<0){o.from=s.from;break}}r.push(o)}ii(t,(function(){for(var e=r.length-1;e>=0;e--)wo(t.doc,"",r[e].from,r[e].to,"+delete");Br(t)}))}function rs(t,e,n){var r=ct(t.text,e+n,n);return r<0||r>t.text.length?null:r}function is(t,e,n){var r=rs(t,e.ch,n);return null==r?null:new oe(e.line,r,n<0?"after":"before")}function os(t,e,n,r,i){if(t){"rtl"==e.doc.direction&&(i=-i);var o=pt(n,e.doc.direction);if(o){var s,a=i<0?Q(o):o[0],l=i<0==(1==a.level)?"after":"before";if(a.level>0||"rtl"==e.doc.direction){var c=Pn(e,n);s=i<0?n.text.length-1:0;var u=jn(e,c,s).top;s=ut((function(t){return jn(e,c,t).top==u}),i<0==(1==a.level)?a.from:a.to-1,s),"before"==l&&(s=rs(n,s,1))}else s=i<0?a.to:a.from;return new oe(r,s,l)}}return new oe(r,i<0?n.text.length:0,i<0?"before":"after")}Yo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Yo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Yo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Yo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Yo.default=b?Yo.macDefault:Yo.pcDefault;var ss={selectAll:ho,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),G)},killLine:function(t){return ns(t,(function(e){if(e.empty()){var n=Jt(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:oe(e.head.line+1,0)}:{from:e.head,to:oe(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return ns(t,(function(e){return{from:oe(e.from().line,0),to:he(t.doc,oe(e.to().line+1,0))}}))},delLineLeft:function(t){return ns(t,(function(t){return{from:oe(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return ns(t,(function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}}))},delWrappedLineRight:function(t){return ns(t,(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(oe(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(oe(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return as(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return ls(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return function(t,e){var n=Jt(t.doc,e),r=function(t){for(var e;e=Ue(t);)t=e.find(1,!0).line;return t}(n);return r!=n&&(e=ee(r)),os(!0,t,n,e,-1)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),K)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),K)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?ls(t,e.head):r}),K)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=H(t.getLine(o.line),o.ch,r);e.push(Z(r-s%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return ii(t,(function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var i=e[r].head,o=Jt(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new oe(i.line,i.ch-1)),i.ch>0)i=new oe(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),oe(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var s=Jt(t.doc,i.line-1).text;s&&(i=new oe(i.line,1),t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+s.charAt(s.length-1),oe(i.line-1,s.length-1),i,"+transpose"))}n.push(new Oi(i,i))}t.setSelections(n)}))},newlineAndIndent:function(t){return ii(t,(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Br(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function as(t,e){var n=Jt(t.doc,e),r=He(n);return r!=n&&(e=ee(r)),os(!0,t,r,e,1)}function ls(t,e){var n=as(t,e.line),r=Jt(t.doc,n.line),i=pt(r,t.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),s=e.line==n.line&&e.ch<=o&&e.ch;return oe(n.line,s?0:o,n.sticky)}return n}function cs(t,e,n){if("string"==typeof e&&!(e=ss[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=V}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}var us=new $;function fs(t,e,n,r){var i=t.state.keySeq;if(i){if(Zo(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:us.set(50,(function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())})),hs(t,i+" "+e,n,r))return!0}return hs(t,e,n,r)}function hs(t,e,n,r){var i=function(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=Jo(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&Jo(e,t.options.extraKeys,n,t)||Jo(e,t.options.keyMap,n,t)}(t,e,r);return"multi"==i&&(t.state.keySeq=e),"handled"==i&&dn(t,"keyHandled",t,e,n),"handled"!=i&&"multi"!=i||(kt(n),Tr(t)),!!i}function ds(t,e){var n=ts(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?fs(t,"Shift-"+n,e,(function(e){return cs(t,e,!0)}))||fs(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return cs(t,e)})):fs(t,n,e,(function(e){return cs(t,e)})))}var ps=null;function ms(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||(e.curOp.focus=N(j(e)),wt(e,t)))){s&&a<11&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=16==r||t.shiftKey;var i=ds(e,t);h&&(ps=i?r:null,i||88!=r||jt||!(b?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),n&&!b&&!i&&46==r&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(C(e,"CodeMirror-crosshair"),vt(document,"keyup",n),vt(document,"mouseover",n))}R(e,"CodeMirror-crosshair"),gt(document,"keyup",n),gt(document,"mouseover",n)}(e)}}function gs(t){16==t.keyCode&&(this.doc.sel.shift=!1),wt(this,t)}function ys(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||Cn(e.display,t)||wt(e,t)||t.ctrlKey&&!t.altKey||b&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(h&&n==ps)return ps=null,void kt(t);if(!h||t.which&&!(t.which<10)||!ds(e,t)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(t,e,n){return fs(t,"'"+n+"'",e,(function(e){return cs(t,e,!0)}))}(e,t,i)||e.display.input.onKeyPress(t))}}}var vs,bs,ws=function(t,e,n){this.time=t,this.pos=e,this.button=n};function Ss(t){var e=this,n=e.display;if(!(wt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,Cn(n,t))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!ks(e,t)){var r=pr(e,t),i=Lt(t),o=r?function(t,e){var n=+new Date;return bs&&bs.compare(n,t,e)?(vs=bs=null,"triple"):vs&&vs.compare(n,t,e)?(bs=new ws(n,t,e),vs=null,"double"):(vs=new ws(n,t,e),bs=null,"single")}(r,i):"single";U(e).focus(),1==i&&e.state.selectingText&&e.state.selectingText(t),r&&function(t,e,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),fs(t,Qo(o=(1==e?"Left":2==e?"Middle":"Right")+o,i),i,(function(e){if("string"==typeof e&&(e=ss[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=V}finally{t.state.suppressEdits=!1}return r}))}(e,i,r,o,t)||(1==i?r?function(t,e,n,r){s?setTimeout(F(Cr,t),0):t.curOp.focus=N(j(t));var i,o=function(t,e,n){var r=t.getOption("configureMouse"),i=r?r(t,e,n):{};if(null==i.unit){var o=w?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==i.extend||t.doc.extend)&&(i.extend=t.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=b?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(b?n.altKey:n.ctrlKey)),i}(t,n,r),c=t.doc.sel;t.options.dragDrop&&It&&!t.isReadOnly()&&"single"==n&&(i=c.contains(e))>-1&&(se((i=c.ranges[i]).from(),e)<0||e.xRel>0)&&(se(i.to(),e)>0||e.xRel<0)?function(t,e,n,r){var i=t.display,o=!1,c=oi(t,(function(e){l&&(i.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Or(t)),vt(i.wrapper.ownerDocument,"mouseup",c),vt(i.wrapper.ownerDocument,"mousemove",u),vt(i.scroller,"dragstart",f),vt(i.scroller,"drop",c),o||(kt(e),r.addNew||Qi(t.doc,n,null,null,r.extend),l&&!d||s&&9==a?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(t){o=o||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},f=function(){return o=!0};l&&(i.scroller.draggable=!0),t.state.draggingText=c,c.copy=!r.moveOnDrag,gt(i.wrapper.ownerDocument,"mouseup",c),gt(i.wrapper.ownerDocument,"mousemove",u),gt(i.scroller,"dragstart",f),gt(i.scroller,"drop",c),t.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}(t,r,e,o):function(t,e,n,r){s&&Or(t);var i=t.display,o=t.doc;kt(e);var a,l,c=o.sel,u=c.ranges;if(r.addNew&&!r.extend?(l=o.sel.contains(n),a=l>-1?u[l]:new Oi(n,n)):(a=o.sel.primary(),l=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new Oi(n,n)),n=pr(t,e,!0,!0),l=-1;else{var f=Es(t,n,r.unit);a=r.extend?Zi(a,f.anchor,f.head,r.extend):f}r.addNew?-1==l?(l=u.length,io(o,Li(t,u.concat([a]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==r.unit&&!r.extend?(io(o,Li(t,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=o.sel):eo(o,l,a,Y):(l=0,io(o,new Ci([a],0),Y),c=o.sel);var h=n;function d(e){if(0!=se(h,e))if(h=e,"rectangle"==r.unit){for(var i=[],s=t.options.tabSize,u=H(Jt(o,n.line).text,n.ch,s),f=H(Jt(o,e.line).text,e.ch,s),d=Math.min(u,f),p=Math.max(u,f),m=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));m<=g;m++){var y=Jt(o,m).text,v=X(y,d,s);d==p?i.push(new Oi(oe(m,v),oe(m,v))):y.length>v&&i.push(new Oi(oe(m,v),oe(m,X(y,p,s))))}i.length||i.push(new Oi(n,n)),io(o,Li(t,c.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,w=a,S=Es(t,e,r.unit),E=w.anchor;se(S.anchor,E)>0?(b=S.head,E=ue(w.from(),S.anchor)):(b=S.anchor,E=ce(w.to(),S.head));var _=c.ranges.slice(0);_[l]=function(t,e){var n=e.anchor,r=e.head,i=Jt(t.doc,n.line);if(0==se(n,r)&&n.sticky==r.sticky)return e;var o=pt(i);if(!o)return e;var s=ht(o,n.ch,n.sticky),a=o[s];if(a.from!=n.ch&&a.to!=n.ch)return e;var l,c=s+(a.from==n.ch==(1!=a.level)?0:1);if(0==c||c==o.length)return e;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var u=ht(o,r.ch,r.sticky),f=u-s||(r.ch-n.ch)*(1==a.level?-1:1);l=u==c-1||u==c?f<0:f>0}var h=o[c+(l?-1:0)],d=l==(1==h.level),p=d?h.from:h.to,m=d?"after":"before";return n.ch==p&&n.sticky==m?e:new Oi(new oe(n.line,p,m),r)}(t,new Oi(he(o,E),b)),io(o,Li(t,_,l),Y)}}var p=i.wrapper.getBoundingClientRect(),m=0;function g(e){var n=++m,s=pr(t,e,!0,"rectangle"==r.unit);if(s)if(0!=se(s,h)){t.curOp.focus=N(j(t)),d(s);var a=Nr(i,o);(s.line>=a.to||s.line<a.from)&&setTimeout(oi(t,(function(){m==n&&g(e)})),150)}else{var l=e.clientY<p.top?-20:e.clientY>p.bottom?20:0;l&&setTimeout(oi(t,(function(){m==n&&(i.scroller.scrollTop+=l,g(e))})),50)}}function y(e){t.state.selectingText=!1,m=1/0,e&&(kt(e),i.input.focus()),vt(i.wrapper.ownerDocument,"mousemove",v),vt(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var v=oi(t,(function(t){0!==t.buttons&&Lt(t)?g(t):y(t)})),b=oi(t,y);t.state.selectingText=b,gt(i.wrapper.ownerDocument,"mousemove",v),gt(i.wrapper.ownerDocument,"mouseup",b)}(t,r,e,o)}(e,r,o,t):Ot(t)==n.scroller&&kt(t):2==i?(r&&Qi(e.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(k?e.display.input.onContextMenu(t):Or(e)))}}function Es(t,e,n){if("char"==n)return new Oi(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new Oi(oe(e.line,0),he(t.doc,oe(e.line+1,0)));var r=n(t,e);return new Oi(r.from,r.to)}function _s(t,e,n,r){var i,o;if(e.touches)i=e.touches[0].clientX,o=e.touches[0].clientY;else try{i=e.clientX,o=e.clientY}catch(t){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&kt(e);var s=t.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Et(t,n))return Tt(e);o-=a.top-s.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return bt(t,n,t,ne(t.doc,o),t.display.gutterSpecs[l].className,e),Tt(e)}}function ks(t,e){return _s(t,e,"gutterClick",!0)}function xs(t,e){Cn(t.display,e)||function(t,e){return!!Et(t,"gutterContextMenu")&&_s(t,e,"gutterContextMenu",!1)}(t,e)||wt(t,e,"contextmenu")||k||t.display.input.onContextMenu(e)}function Ts(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),qn(t)}ws.prototype.compare=function(t,e,n){return this.time+400>t&&0==se(e,this.pos)&&n==this.button};var Cs={toString:function(){return"CodeMirror.Init"}},Os={},Ls={};function As(t,e,n){if(!e!=!(n&&n!=Cs)){var r=t.display.dragFunctions,i=e?gt:vt;i(t.display.scroller,"dragstart",r.start),i(t.display.scroller,"dragenter",r.enter),i(t.display.scroller,"dragover",r.over),i(t.display.scroller,"dragleave",r.leave),i(t.display.scroller,"drop",r.drop)}}function Ms(t){t.options.lineWrapping?(R(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(C(t.display.wrapper,"CodeMirror-wrap"),Xe(t)),dr(t),gr(t),qn(t),setTimeout((function(){return Vr(t)}),100)}function Is(t,e){var n=this;if(!(this instanceof Is))return new Is(t,e);this.options=e=e?z(e):{},z(Os,e,!1);var r=e.value;"string"==typeof r?r=new Bo(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var i=new Is.inputStyles[e.inputStyle](this),o=this.display=new Si(t,r,i,e);for(var c in o.wrapper.CodeMirror=this,Ts(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Kr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new $,keySeq:null,specialChars:null},e.autofocus&&!v&&o.input.focus(),s&&a<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(t){var e=t.display;gt(e.scroller,"mousedown",oi(t,Ss)),gt(e.scroller,"dblclick",s&&a<11?oi(t,(function(e){if(!wt(t,e)){var n=pr(t,e);if(n&&!ks(t,e)&&!Cn(t.display,e)){kt(e);var r=t.findWordAt(n);Qi(t.doc,r.anchor,r.head)}}})):function(e){return wt(t,e)||kt(e)}),gt(e.scroller,"contextmenu",(function(e){return xs(t,e)})),gt(e.input.getField(),"contextmenu",(function(n){e.scroller.contains(n.target)||xs(t,n)}));var n,r={end:0};function i(){e.activeTouch&&(n=setTimeout((function(){return e.activeTouch=null}),1e3),(r=e.activeTouch).end=+new Date)}function o(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function l(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}gt(e.scroller,"touchstart",(function(i){if(!wt(t,i)&&!o(i)&&!ks(t,i)){e.input.ensurePolled(),clearTimeout(n);var s=+new Date;e.activeTouch={start:s,moved:!1,prev:s-r.end<=300?r:null},1==i.touches.length&&(e.activeTouch.left=i.touches[0].pageX,e.activeTouch.top=i.touches[0].pageY)}})),gt(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),gt(e.scroller,"touchend",(function(n){var r=e.activeTouch;if(r&&!Cn(e,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var o,s=t.coordsChar(e.activeTouch,"page");o=!r.prev||l(r,r.prev)?new Oi(s,s):!r.prev.prev||l(r,r.prev.prev)?t.findWordAt(s):new Oi(oe(s.line,0),he(t.doc,oe(s.line+1,0))),t.setSelection(o.anchor,o.head),t.focus(),kt(n)}i()})),gt(e.scroller,"touchcancel",i),gt(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(Ur(t,e.scroller.scrollTop),zr(t,e.scroller.scrollLeft,!0),bt(t,"scroll",t))})),gt(e.scroller,"mousewheel",(function(e){return Ti(t,e)})),gt(e.scroller,"DOMMouseScroll",(function(e){return Ti(t,e)})),gt(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){wt(t,e)||Ct(e)},over:function(e){wt(t,e)||(function(t,e){var n=pr(t,e);if(n){var r=document.createDocumentFragment();_r(t,n,r),t.display.dragCursor||(t.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),L(t.display.dragCursor,r)}}(t,e),Ct(e))},start:function(e){return function(t,e){if(s&&(!t.state.draggingText||+new Date-Po<100))Ct(e);else if(!wt(t,e)&&!Cn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!d)){var n=A("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(t,e)},drop:oi(t,jo),leave:function(e){wt(t,e)||Wo(t)}};var c=e.input.getField();gt(c,"keyup",(function(e){return gs.call(t,e)})),gt(c,"keydown",oi(t,ms)),gt(c,"keypress",oi(t,ys)),gt(c,"focus",(function(e){return Lr(t,e)})),gt(c,"blur",(function(e){return Ar(t,e)}))}(this),zo(),Jr(this),this.curOp.forceUpdate=!0,Ui(this,r),e.autofocus&&!v||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Lr(n)}),20):Ar(this),Ls)Ls.hasOwnProperty(c)&&Ls[c](this,e[c],Cs);yi(this),e.finishInit&&e.finishInit(this);for(var u=0;u<Ns.length;++u)Ns[u](this);Zr(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Is.defaults=Os,Is.optionHandlers=Ls;var Ns=[];function Rs(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=ve(t,e).state:n="prev");var s=t.options.tabSize,a=Jt(o,e),l=H(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&((c=o.mode.indent(i,a.text.slice(u.length),a.text))==V||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=e>o.first?H(Jt(o,e-1).text,null,s):0:"add"==n?c=l+t.options.indentUnit:"subtract"==n?c=l-t.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var f="",h=0;if(t.options.indentWithTabs)for(var d=Math.floor(c/s);d;--d)h+=s,f+="\t";if(h<c&&(f+=Z(c-h)),f!=u)return wo(o,f,oe(e,0),oe(e,u.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==e&&m.head.ch<u.length){var g=oe(e,u.length);eo(o,p,new Oi(g,g));break}}}Is.defineInitHook=function(t){return Ns.push(t)};var Ds=null;function Bs(t){Ds=t}function Ps(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var s=+new Date-200,a="paste"==i||t.state.pasteIncoming>s,l=Bt(e),c=null;if(a&&r.ranges.length>1)if(Ds&&Ds.text.join("\n")==e){if(r.ranges.length%Ds.text.length==0){c=[];for(var u=0;u<Ds.text.length;u++)c.push(o.splitLines(Ds.text[u]))}}else l.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(c=tt(l,(function(t){return[t]})));for(var f=t.curOp.updateInput,h=r.ranges.length-1;h>=0;h--){var d=r.ranges[h],p=d.from(),m=d.to();d.empty()&&(n&&n>0?p=oe(p.line,p.ch-n):t.state.overwrite&&!a?m=oe(m.line,Math.min(Jt(o,m.line).text.length,m.ch+Q(l).length)):a&&Ds&&Ds.lineWise&&Ds.text.join("\n")==l.join("\n")&&(p=m=oe(p.line,0)));var g={from:p,to:m,text:c?c[h%c.length]:l,origin:i||(a?"paste":t.state.cutIncoming>s?"cut":"+input")};mo(t.doc,g),dn(t,"inputRead",t,g)}e&&!a&&Ws(t,e),Br(t),t.curOp.updateInput<2&&(t.curOp.updateInput=f),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function js(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||!e.hasFocus()||ii(e,(function(){return Ps(e,n,0,null,"paste")})),!0}function Ws(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(e.indexOf(o.electricChars.charAt(a))>-1){s=Rs(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Jt(t.doc,i.head.line).text.slice(0,i.head.ch))&&(s=Rs(t,i.head.line,"smart"));s&&dn(t,"electricInput",t,i.head.line)}}}function Us(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:oe(i,0),head:oe(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function Fs(t,e,n,r){t.setAttribute("autocorrect",n?"on":"off"),t.setAttribute("autocapitalize",r?"on":"off"),t.setAttribute("spellcheck",!!e)}function zs(){var t=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),e=A("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),e}function Hs(t,e,n,r,i){var o=e,s=n,a=Jt(t,e.line),l=i&&"rtl"==t.direction?-n:n;function c(o){var s,c;if("codepoint"==r){var u=a.text.charCodeAt(e.ch+(n>0?0:-1));if(isNaN(u))s=null;else{var f=n>0?u>=55296&&u<56320:u>=56320&&u<57343;s=new oe(e.line,Math.max(0,Math.min(a.text.length,e.ch+n*(f?2:1))),-n)}}else s=i?function(t,e,n,r){var i=pt(e,t.doc.direction);if(!i)return is(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=ht(i,n.ch,n.sticky),s=i[o];if("ltr"==t.doc.direction&&s.level%2==0&&(r>0?s.to>n.ch:s.from<n.ch))return is(e,n,r);var a,l=function(t,n){return rs(e,t instanceof oe?t.ch:t,n)},c=function(n){return t.options.lineWrapping?(a=a||Pn(t,e),rr(t,e,a,n)):{begin:0,end:e.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==s.level){var f=1==s.level==r<0,h=l(n,f?1:-1);if(null!=h&&(f?h<=s.to&&h<=u.end:h>=s.from&&h>=u.begin)){var d=f?"before":"after";return new oe(n.line,h,d)}}var p=function(t,e,r){for(var o=function(t,e){return e?new oe(n.line,l(t,1),"before"):new oe(n.line,t,"after")};t>=0&&t<i.length;t+=e){var s=i[t],a=e>0==(1!=s.level),c=a?r.begin:l(r.end,-1);if(s.from<=c&&c<s.to)return o(c,a);if(c=a?s.from:l(s.to,-1),r.begin<=c&&c<r.end)return o(c,a)}},m=p(o+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==e.text.length||!(m=p(r>0?0:i.length-1,r,c(g)))?null:m}(t.cm,a,e,n):is(a,e,n);if(null==s){if(o||((c=e.line+l)<t.first||c>=t.first+t.size||(e=new oe(c,e.ch,e.sticky),!(a=Jt(t,c)))))return!1;e=os(i,t.cm,a,e.line,l)}else e=s;return!0}if("char"==r||"codepoint"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var u=null,f="group"==r,h=t.cm&&t.cm.getHelper(e,"wordChars"),d=!0;!(n<0)||c(!d);d=!1){var p=a.text.charAt(e.ch)||"\n",m=ot(p,h)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||d||m||(m="s"),u&&u!=m){n<0&&(n=1,c(),e.sticky="after");break}if(m&&(u=m),n>0&&!c(!d))break}var g=uo(t,e,o,s,!0);return ae(o,g)&&(g.hitSide=!0),g}function $s(t,e,n,r){var i,o,s=t.doc,a=e.left;if("page"==r){var l=Math.min(t.display.wrapper.clientHeight,U(t).innerHeight||s(t).documentElement.clientHeight),c=Math.max(l-.5*lr(t.display),3);i=(n>0?e.bottom:e.top)+n*c}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;(o=er(t,a,i)).outside;){if(n<0?i<=0:i>=s.height){o.hitSide=!0;break}i+=5*n}return o}var qs=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new $,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Vs(t,e){var n=Bn(t,e.line);if(!n||n.hidden)return null;var r=Jt(t.doc,e.line),i=Rn(n,r,e.line),o=pt(r,t.doc.direction),s="left";o&&(s=ht(o,e.ch)%2?"right":"left");var a=Fn(i.map,e.ch,s);return a.offset="right"==a.collapse?a.end:a.start,a}function Gs(t,e){return e&&(t.bad=!0),t}function Ys(t,e,n){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[n]))return Gs(t.clipPos(oe(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return Ks(o,e,n)}}function Ks(t,e,n){var r=t.text.firstChild,i=!1;if(!e||!I(r,e))return Gs(oe(ee(t.line),0),!0);if(e==r&&(i=!0,e=r.childNodes[n],n=0,!e)){var o=t.rest?Q(t.rest):t.line;return Gs(oe(ee(o),o.text.length),i)}var s=3==e.nodeType?e:null,a=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));a.parentNode!=r;)a=a.parentNode;var l=t.measure,c=l.maps;function u(e,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==e||a==n){var u=ee(i<0?t.line:t.rest[i]),f=o[s]+r;return(r<0||a!=e)&&(f=o[s+(r?1:0)]),oe(u,f)}}}var f=u(s,a,n);if(f)return Gs(f,i);for(var h=a.nextSibling,d=s?s.nodeValue.length-n:0;h;h=h.nextSibling){if(f=u(h,h.firstChild,0))return Gs(oe(f.line,f.ch-d),i);d+=h.textContent.length}for(var p=a.previousSibling,m=n;p;p=p.previousSibling){if(f=u(p,p.firstChild,-1))return Gs(oe(f.line,f.ch+m),i);m+=p.textContent.length}}qs.prototype.init=function(t){var e=this,n=this,r=n.cm,i=n.div=t.lineDiv;function o(t){for(var e=t.target;e;e=e.parentNode){if(e==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(e.className))break}return!1}function s(t){if(o(t)&&!wt(r,t)){if(r.somethingSelected())Bs({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Us(r);Bs({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation((function(){r.setSelections(e.ranges,0,G),r.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var s=Ds.text.join("\n");if(t.clipboardData.setData("Text",s),t.clipboardData.getData("Text")==s)return void t.preventDefault()}var a=zs(),l=a.firstChild;Fs(l),r.display.lineSpace.insertBefore(a,r.display.lineSpace.firstChild),l.value=Ds.text.join("\n");var c=N(W(i));B(l),setTimeout((function(){r.display.lineSpace.removeChild(a),c.focus(),c==i&&n.showPrimarySelection()}),50)}}i.contentEditable=!0,Fs(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),gt(i,"paste",(function(t){!o(t)||wt(r,t)||js(t,r)||a<=11&&setTimeout(oi(r,(function(){return e.updateFromDOM()})),20)})),gt(i,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),gt(i,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),gt(i,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),gt(i,"touchstart",(function(){return n.forceCompositionEnd()})),gt(i,"input",(function(){e.composing||e.readFromDOMSoon()})),gt(i,"copy",s),gt(i,"cut",s)},qs.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},qs.prototype.prepareSelection=function(){var t=Er(this.cm,!1);return t.focus=N(W(this.div))==this.div,t},qs.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},qs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},qs.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),i=r.from(),o=r.to();if(e.display.viewTo==e.display.viewFrom||i.line>=e.display.viewTo||o.line<e.display.viewFrom)t.removeAllRanges();else{var s=Ys(e,t.anchorNode,t.anchorOffset),a=Ys(e,t.focusNode,t.focusOffset);if(!s||s.bad||!a||a.bad||0!=se(ue(s,a),i)||0!=se(ce(s,a),o)){var l=e.display.view,c=i.line>=e.display.viewFrom&&Vs(e,i)||{node:l[0].measure.map[2],offset:0},u=o.line<e.display.viewTo&&Vs(e,o);if(!u){var f=l[l.length-1].measure,h=f.maps?f.maps[f.maps.length-1]:f.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&u){var d,p=t.rangeCount&&t.getRangeAt(0);try{d=T(c.node,c.offset,u.offset,u.node)}catch(t){}d&&(!n&&e.state.focused?(t.collapse(c.node,c.offset),d.collapsed||(t.removeAllRanges(),t.addRange(d))):(t.removeAllRanges(),t.addRange(d)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},qs.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},qs.prototype.showMultipleSelections=function(t){L(this.cm.display.cursorDiv,t.cursors),L(this.cm.display.selectionDiv,t.selection)},qs.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},qs.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return I(this.div,e)},qs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&N(W(this.div))==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},qs.prototype.blur=function(){this.div.blur()},qs.prototype.getField=function(){return this.div},qs.prototype.supportsTouch=function(){return!0},qs.prototype.receivedFocus=function(){var t=this,e=this;this.selectionInEditor()?setTimeout((function(){return t.pollSelection()}),20):ii(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},qs.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},qs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(y&&u&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ys(e,t.anchorNode,t.anchorOffset),r=Ys(e,t.focusNode,t.focusOffset);n&&r&&ii(e,(function(){io(e.doc,Ai(n,r),G),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)}))}}},qs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),s=o.from(),a=o.to();if(0==s.ch&&s.line>r.firstLine()&&(s=oe(s.line-1,Jt(r.doc,s.line-1).length)),a.ch==Jt(r.doc,a.line).text.length&&a.line<r.lastLine()&&(a=oe(a.line+1,0)),s.line<i.viewFrom||a.line>i.viewTo-1)return!1;s.line==i.viewFrom||0==(t=mr(r,s.line))?(e=ee(i.view[0].line),n=i.view[0].node):(e=ee(i.view[t].line),n=i.view[t-1].node.nextSibling);var l,c,u=mr(r,a.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=ee(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(function(t,e,n,r,i){var o="",s=!1,a=t.doc.lineSeparator(),l=!1;function c(){s&&(o+=a,l&&(o+=a),s=l=!1)}function u(t){t&&(c(),o+=t)}function f(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void u(n);var o,h=e.getAttribute("cm-marker");if(h){var d=t.findMarks(oe(r,0),oe(i+1,0),(g=+h,function(t){return t.id==g}));return void(d.length&&(o=d[0].find(0))&&u(Zt(t.doc,o.from,o.to).join(a)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&c();for(var m=0;m<e.childNodes.length;m++)f(e.childNodes[m]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),p&&(s=!0)}else 3==e.nodeType&&u(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;f(e),e!=n;)e=e.nextSibling,l=!1;return o}(r,n,c,e,l)),h=Zt(r.doc,oe(e,0),oe(l,Jt(r.doc,l).text.length));f.length>1&&h.length>1;)if(Q(f)==Q(h))f.pop(),h.pop(),l--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),e++}for(var d=0,p=0,m=f[0],g=h[0],y=Math.min(m.length,g.length);d<y&&m.charCodeAt(d)==g.charCodeAt(d);)++d;for(var v=Q(f),b=Q(h),w=Math.min(v.length-(1==f.length?d:0),b.length-(1==h.length?d:0));p<w&&v.charCodeAt(v.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==f.length&&1==h.length&&e==s.line)for(;d&&d>s.ch&&v.charCodeAt(v.length-p-1)==b.charCodeAt(b.length-p-1);)d--,p++;f[f.length-1]=v.slice(0,v.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var S=oe(e,d),E=oe(l,h.length?Q(h).length-p:0);return f.length>1||f[0]||se(S,E)?(wo(r.doc,f,S,E,"+input"),!0):void 0},qs.prototype.ensurePolled=function(){this.forceCompositionEnd()},qs.prototype.reset=function(){this.forceCompositionEnd()},qs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},qs.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},qs.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||ii(this.cm,(function(){return gr(t.cm)}))},qs.prototype.setUneditable=function(t){t.contentEditable="false"},qs.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||oi(this.cm,Ps)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},qs.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},qs.prototype.onContextMenu=function(){},qs.prototype.resetPosition=function(){},qs.prototype.needsContentAttribute=!0;var Xs=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new $,this.hasSelection=!1,this.composing=null,this.resetting=!1};Xs.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var i=this.textarea;function o(t){if(!wt(r,t)){if(r.somethingSelected())Bs({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Us(r);Bs({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,G):(n.prevInput="",i.value=e.text.join("\n"),B(i))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(i.style.width="0px"),gt(i,"input",(function(){s&&a>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()})),gt(i,"paste",(function(t){wt(r,t)||js(t,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),gt(i,"cut",o),gt(i,"copy",o),gt(t.scroller,"paste",(function(e){if(!Cn(t,e)&&!wt(r,e)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=e.clipboardData,i.dispatchEvent(o)}})),gt(t.lineSpace,"selectstart",(function(e){Cn(t,e)||kt(e)})),gt(i,"compositionstart",(function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}})),gt(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Xs.prototype.createField=function(t){this.wrapper=zs(),this.textarea=this.wrapper.firstChild;var e=this.cm.options;Fs(this.textarea,e.spellcheck,e.autocorrect,e.autocapitalize)},Xs.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Xs.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=Er(t);if(t.options.moveInputWithCursor){var i=Zn(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),s=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},Xs.prototype.showSelection=function(t){var e=this.cm.display;L(e.cursorDiv,t.cursors),L(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Xs.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var e=this.cm;if(this.resetting=!0,e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&B(this.textarea),s&&a>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",s&&a>=9&&(this.hasSelection=null));this.resetting=!1}},Xs.prototype.getField=function(){return this.textarea},Xs.prototype.supportsTouch=function(){return!1},Xs.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||N(W(this.textarea))!=this.textarea))try{this.textarea.focus()}catch(t){}},Xs.prototype.blur=function(){this.textarea.blur()},Xs.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Xs.prototype.receivedFocus=function(){this.slowPoll()},Xs.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Xs.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function n(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))}))},Xs.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||this.resetting||!e.state.focused||Pt(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=n.value;if(i==r&&!e.somethingSelected())return!1;if(s&&a>=9&&this.hasSelection===i||b&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return ii(e,(function(){Ps(e,i.slice(l),r.length-l,null,t.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=i,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Xs.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Xs.prototype.onKeyPress=function(){s&&a>=9&&(this.hasSelection=null),this.fastPoll()},Xs.prototype.onContextMenu=function(t){var e=this,n=e.cm,r=n.display,i=e.textarea;e.contextMenuPending&&e.contextMenuPending();var o=pr(n,t),c=r.scroller.scrollTop;if(o&&!h){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&oi(n,io)(n.doc,Ai(o),G);var u,f=i.style.cssText,d=e.wrapper.style.cssText,p=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(s?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=i.ownerDocument.defaultView.scrollY),r.input.focus(),l&&i.ownerDocument.defaultView.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(i.value=e.prevInput=" "),e.contextMenuPending=y,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),s&&a>=9&&g(),k){Ct(t);var m=function(){vt(window,"mouseup",m),setTimeout(y,20)};gt(window,"mouseup",m)}else setTimeout(y,50)}function g(){if(null!=i.selectionStart){var t=n.somethingSelected(),o="​"+(t?i.value:"");i.value="⇚",i.value=o,e.prevInput=t?"":"​",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function y(){if(e.contextMenuPending==y&&(e.contextMenuPending=!1,e.wrapper.style.cssText=d,i.style.cssText=f,s&&a<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!s||s&&a<9)&&g();var t=0,o=function(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"​"==e.prevInput?oi(n,ho)(n):t++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(o,200)}}},Xs.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t,this.textarea.readOnly=!!t},Xs.prototype.setUneditable=function(){},Xs.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,r,i,o){t.defaults[n]=r,i&&(e[n]=o?function(t,e,n){n!=Cs&&i(t,e,n)}:i)}t.defineOption=n,t.Init=Cs,n("value","",(function(t,e){return t.setValue(e)}),!0),n("mode",null,(function(t,e){t.doc.modeOption=e,Di(t)}),!0),n("indentUnit",2,Di,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(t){Bi(t),qn(t),gr(t)}),!0),n("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter((function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(-1==o)break;i=o+e.length,n.push(oe(r,o))}r++}));for(var i=n.length-1;i>=0;i--)wo(t.doc,e,n[i],oe(n[i].line,n[i].ch+e.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,(function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=Cs&&t.refresh()})),n("specialCharPlaceholder",rn,(function(t){return t.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),n("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),n("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),n("rtlMoveVisually",!S),n("wholeLineUpdateBefore",!0),n("theme","default",(function(t){Ts(t),wi(t)}),!0),n("keyMap","default",(function(t,e,n){var r=es(e),i=n!=Cs&&es(n);i&&i.detach&&i.detach(t,r),r.attach&&r.attach(t,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ms,!0),n("gutters",[],(function(t,e){t.display.gutterSpecs=vi(e,t.options.lineNumbers),wi(t)}),!0),n("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?fr(t.display)+"px":"0",t.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(t){return Vr(t)}),!0),n("scrollbarStyle","native",(function(t){Kr(t),Vr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=vi(t.options.gutters,e),wi(t)}),!0),n("firstLineNumber",1,wi,!0),n("lineNumberFormatter",(function(t){return t}),wi,!0),n("showCursorWhenSelecting",!1,Sr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(t,e){"nocursor"==e&&(Ar(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),n("screenReaderLabel",null,(function(t,e){e=""===e?null:e,t.display.input.screenReaderLabelChanged(e)})),n("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),n("dragDrop",!0,As),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Sr,!0),n("singleCursorHeightPerLine",!0,Sr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Bi,!0),n("addModeClass",!1,Bi,!0),n("pollInterval",100),n("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),n("historyEventDelay",1250),n("viewportMargin",10,(function(t){return t.refresh()}),!0),n("maxHighlightLength",1e4,Bi,!0),n("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),n("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),n("autofocus",null),n("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),n("phrases",null)}(Is),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){U(this).focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,i=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&oi(this,e[t])(this,n,i),bt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](es(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:si((function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");(function(t,e,n){for(var r=0,i=n(e);r<t.length&&n(t[r])<=i;)r++;t.splice(r,0,e)})(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(t){return t.priority})),this.state.modeGen++,gr(this)})),removeOverlay:si((function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void gr(this)}})),indentLine:si((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),re(this.doc,t)&&Rs(this,t,e,n)})),indentSelection:si((function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Rs(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Br(this));else{var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;l<n;++l)Rs(this,l,t);var c=this.doc.sel.ranges;0==o.ch&&e.length==c.length&&c[r].from().ch>0&&eo(this.doc,r,new Oi(o,c[r].to()),G)}}})),getTokenAt:function(t,e){return _e(this,t,e)},getLineTokens:function(t,e){return _e(this,oe(t),e,!0)},getTokenTypeAt:function(t){t=he(this.doc,t);var e,n=ye(this,Jt(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){e=n[2*s+2];break}r=s+1}}var a=e?e.indexOf("overlay "):-1;return a<0?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!n.hasOwnProperty(e))return r;var i=n[e],o=this.getModeAt(t);if("string"==typeof o[e])i[o[e]]&&r.push(i[o[e]]);else if(o[e])for(var s=0;s<o[e].length;s++){var a=i[o[e][s]];a&&r.push(a)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==q(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(t,e){var n=this.doc;return ve(this,(t=fe(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Zn(this,null==t?n.head:"object"==typeof t?he(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Jn(this,he(this.doc,t),e||"page")},coordsChar:function(t,e){return er(this,(t=Xn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Xn(this,{top:t,left:0},e||"page").top,ne(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,i=!1;if("number"==typeof t){var o=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>o&&(t=o,i=!0),r=Jt(this.doc,t)}else r=t;return Kn(this,r,{top:0,left:0},e||"page",n||i).top+(i?this.doc.height-Ye(r):0)},defaultTextHeight:function(){return lr(this.display)},defaultCharWidth:function(){return cr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o,s,a,l=this.display,c=(t=Zn(this,he(this.doc,t))).bottom,u=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),l.sizer.appendChild(e),"over"==r)c=t.top;else if("above"==r||"near"==r){var f=Math.max(l.wrapper.clientHeight,this.doc.height),h=Math.max(l.sizer.clientWidth,l.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>f)&&t.top>e.offsetHeight?c=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=f&&(c=t.bottom),u+e.offsetWidth>h&&(u=h-e.offsetWidth)}e.style.top=c+"px",e.style.left=e.style.right="","right"==i?(u=l.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?u=0:"middle"==i&&(u=(l.sizer.clientWidth-e.offsetWidth)/2),e.style.left=u+"px"),n&&(o=this,s={left:u,top:c,right:u+e.offsetWidth,bottom:c+e.offsetHeight},null!=(a=Rr(o,s)).scrollTop&&Ur(o,a.scrollTop),null!=a.scrollLeft&&zr(o,a.scrollLeft))},triggerOnKeyDown:si(ms),triggerOnKeyPress:si(ys),triggerOnKeyUp:gs,triggerOnMouseDown:si(Ss),execCommand:function(t){if(ss.hasOwnProperty(t))return ss[t].call(null,this)},triggerElectric:si((function(t){Ws(this,t)})),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var o=he(this.doc,t),s=0;s<e&&!(o=Hs(this.doc,o,i,n,r)).hitSide;++s);return o},moveH:si((function(t,e){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Hs(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()}),K)})),deleteH:si((function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):ns(this,(function(n){var i=Hs(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(t,e,n,r){var i=1,o=r;e<0&&(i=-1,e=-e);for(var s=he(this.doc,t),a=0;a<e;++a){var l=Zn(this,s,"div");if(null==o?o=l.left:l.left=o,(s=$s(this,l,i,n)).hitSide)break}return s},moveV:si((function(t,e){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(s){if(o)return t<0?s.from():s.to();var a=Zn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=$s(n,a,t,e);return"page"==e&&s==r.sel.primary()&&Dr(n,Jn(n,l,"div").top-a.top),l}),K),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]})),findWordAt:function(t){var e=Jt(this.doc,t.line).text,n=t.ch,r=t.ch;if(e){var i=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=e.length||!n?++r:--n;for(var o=e.charAt(n),s=ot(o,i)?function(t){return ot(t,i)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!ot(t)};n>0&&s(e.charAt(n-1));)--n;for(;r<e.length&&s(e.charAt(r));)++r}return new Oi(oe(t.line,n),oe(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):C(this.display.cursorDiv,"CodeMirror-overwrite"),bt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==N(j(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:si((function(t,e){Pr(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Mn(this)-this.display.barHeight,width:t.scrollWidth-Mn(this)-this.display.barWidth,clientHeight:Nn(this),clientWidth:In(this)}},scrollIntoView:si((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:oe(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){jr(t),t.curOp.scrollToPos=e}(this,t):Wr(this,t.from,t.to,t.margin)})),setSize:si((function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&$n(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){yr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,bt(this,"refresh",this)})),operation:function(t){return ii(this,t)},startOperation:function(){return Jr(this)},endOperation:function(){return Zr(this)},refresh:si((function(){var t=this.display.cachedTextHeight;gr(this),this.curOp.forceUpdate=!0,qn(this),Pr(this,this.doc.scrollLeft,this.doc.scrollTop),pi(this.display),(null==t||Math.abs(t-lr(this.display))>.5||this.options.lineWrapping)&&dr(this),bt(this,"refresh",this)})),swapDoc:si((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Ui(this,t),qn(this),this.display.input.reset(),Pr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,dn(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_t(t),t.registerHelper=function(e,r,i){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=i},t.registerGlobalHelper=function(e,r,i,o){t.registerHelper(e,r,o),n[e]._global.push({pred:i,val:o})}}(Is);var Js="iter insert remove copy getEditor constructor".split(" ");for(var Zs in Bo.prototype)Bo.prototype.hasOwnProperty(Zs)&&q(Js,Zs)<0&&(Is.prototype[Zs]=function(t){return function(){return t.apply(this.doc,arguments)}}(Bo.prototype[Zs]));return _t(Bo),Is.inputStyles={textarea:Xs,contenteditable:qs},Is.defineMode=function(t){Is.defaults.mode||"null"==t||(Is.defaults.mode=t),zt.apply(this,arguments)},Is.defineMIME=function(t,e){Ft[t]=e},Is.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),Is.defineMIME("text/plain","null"),Is.defineExtension=function(t,e){Is.prototype[t]=e},Is.defineDocExtension=function(t,e){Bo.prototype[t]=e},Is.fromTextArea=function(t,e){if((e=e?z(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=N(W(t));e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=a.getValue()}var i;if(t.form&&(gt(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var o=t.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(t){}}e.finishInit=function(n){n.save=r,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,r(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(vt(t.form,"submit",r),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=i))}},t.style.display="none";var a=Is((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return a},function(t){t.off=vt,t.on=gt,t.wheelEventPixels=xi,t.Doc=Bo,t.splitLines=Bt,t.countColumn=H,t.findColumn=X,t.isWordChar=it,t.Pass=V,t.signal=bt,t.Line=Je,t.changeEnd=Mi,t.scrollbarModel=Yr,t.Pos=oe,t.cmpPos=se,t.modes=Ut,t.mimeModes=Ft,t.resolveMode=Ht,t.getMode=$t,t.modeExtensions=qt,t.extendMode=Vt,t.copyState=Gt,t.startState=Kt,t.innerMode=Yt,t.commands=ss,t.keyMap=Yo,t.keyName=ts,t.isModifierKey=Zo,t.lookupKey=Jo,t.normalizeKeyMap=Xo,t.StringStream=Xt,t.SharedTextMarker=Io,t.TextMarker=Ao,t.LineWidget=Co,t.e_preventDefault=kt,t.e_stopPropagation=xt,t.e_stop=Ct,t.addClass=R,t.contains=I,t.rmClass=C,t.keyNames=$o}(Is),Is.version="5.65.19",Is}()},251:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+t[e+f],f+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+f],f+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,f=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+f>=1?h/l:h*Math.pow(2,1-f))*l>=2&&(s++,l/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(e*l-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*m}},287:(t,e,n)=>{"use strict";const r=n(526),i=n(251),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|m(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(K(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(K(t,ArrayBuffer)||t&&K(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(K(t,SharedArrayBuffer)||t&&K(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return l.from(r,e,n);const i=function(t){if(l.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||X(t.length)?a(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return u(t),a(t<0?0:0|p(t))}function h(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,l.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function m(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||K(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(i)return r?-1:V(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return L(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),X(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){let o,s=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(t,o+r)!==c(e,r)){n=!1;break}if(n)return o}return-1}function w(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(X(r))return s;t[n+s]=r}return s}function S(t,e,n,r){return Y(V(e,t.length-n),t,n,r)}function E(t,e,n,r){return Y(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return Y(G(e),t,n,r)}function k(t,e,n,r){return Y(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function x(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,l;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(l=(31&e)<<6|63&n,l>127&&(o=l));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(l=(15&e)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=C)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=C));return n}(r)}e.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},l.allocUnsafe=function(t){return f(t)},l.allocUnsafeSlow=function(t){return f(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=l.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(K(e,Uint8Array))i+e.length>r.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(t,e,n,r,i){if(K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(r,i),u=t.slice(e,n);for(let t=0;t<a;++t)if(c[t]!==u[t]){o=c[t],s=u[t];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":case"latin1":case"binary":return E(this,t,e,n);case"base64":return _(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function O(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function L(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function A(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=J[t[r]];return i}function M(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function R(t,e,n,r,i){z(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function D(t,e,n,r,i){z(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function B(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,o){return e=+e,n>>>=0,o||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,o){return e=+e,n>>>=0,o||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||$(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||$(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||I(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){t>>>=0,e||I(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||$(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),l.prototype.readBigInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||$(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||I(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||I(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||I(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||I(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||N(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||N(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=Z((function(t,e=0){return R(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Z((function(t,e=0){return D(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);N(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o|0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=Z((function(t,e=0){return R(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Z((function(t,e=0){return D(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=l.isBuffer(t)?t:l.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const W={};function U(t,e,n){W[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function F(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function z(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new W.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||$(e,t.length-(n+1))}(r,i,o)}function H(t,e){if("number"!=typeof t)throw new W.ERR_INVALID_ARG_TYPE(e,"number",t)}function $(t,e,n){if(Math.floor(t)!==t)throw H(t,n),new W.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),U("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function V(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function K(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function X(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?Q:t}function Q(){throw new Error("BigInt not supported")}},340:()=>{},345:(t,e,n)=>{t.exports=n(7).EventEmitter},382:(t,e,n)=>{"use strict";var r=n(225),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var o=Object.create(n(622));o.inherits=n(698);var s=n(412),a=n(708);o.inherits(f,s);for(var l=i(a.prototype),c=0;c<l.length;c++){var u=l[c];f.prototype[u]||(f.prototype[u]=a.prototype[u])}function f(t){if(!(this instanceof f))return new f(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},399:(t,e,n)=>{(e=t.exports=n(412)).Stream=e,e.Readable=e,e.Writable=n(708),e.Duplex=n(382),e.Transform=n(610),e.PassThrough=n(600)},412:(t,e,n)=>{"use strict";var r=n(606),i=n(225);t.exports=b;var o,s=n(634);b.ReadableState=v,n(7).EventEmitter;var a=function(t,e){return t.listeners(e).length},l=n(345),c=n(861).Buffer,u=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},f=Object.create(n(622));f.inherits=n(698);var h=n(838),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,m=n(222),g=n(896);f.inherits(b,l);var y=["error","close","destroy","pause","resume"];function v(t,e){t=t||{};var r=e instanceof(o=o||n(382));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(141).I),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||n(382),!(this instanceof b))return new b(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function w(t,e,n,r,i){var o,s=t._readableState;return null===e?(s.reading=!1,function(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,k(t)}}(t,s)):(i||(o=function(t,e){var n,r;return r=e,c.isBuffer(r)||r instanceof u||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===c.prototype||(e=function(t){return c.from(t)}(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):S(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?S(t,s,e,!1):T(t,s)):S(t,s,e,!1))):r||(s.reading=!1)),function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function S(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&k(t)),T(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=c.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=n(141).I),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var E=8388608;function _(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=E?t=E:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function k(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(x,t):x(t))}function x(t){d("emit readable"),t.emit("readable"),A(t)}function T(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(C,t,e))}function C(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function O(t){d("readable nexttick read 0"),t.read(0)}function L(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),A(t),e.flowing&&!e.reading&&t.read(0)}function A(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function M(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),0===(t-=s)){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=c.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}(t,e),r}(t,e.buffer,e.decoder),n);var n}function I(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(N,e,t))}function N(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?I(this):k(this),null;if(0===(t=_(t,e))&&e.ended)return 0===e.length&&I(this),null;var r,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=_(n,e))),null===(r=t>0?M(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&I(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var l=e&&!1===e.end||t===r.stdout||t===r.stderr?v:c;function c(){d("onend"),t.end()}o.endEmitted?i.nextTick(l):n.once("end",l),t.on("unpipe",(function e(r,i){d("onunpipe"),r===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,d("cleanup"),t.removeListener("close",g),t.removeListener("finish",y),t.removeListener("drain",u),t.removeListener("error",m),t.removeListener("unpipe",e),n.removeListener("end",c),n.removeListener("end",v),n.removeListener("data",p),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||u())}));var u=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,A(t))}}(n);t.on("drain",u);var f=!1,h=!1;function p(e){d("ondata"),h=!1,!1!==t.write(e)||h||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==R(o.pipes,t))&&!f&&(d("false write response, pause",o.awaitDrain),o.awaitDrain++,h=!0),n.pause())}function m(e){d("onerror",e),v(),t.removeListener("error",m),0===a(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",y),v()}function y(){d("onfinish"),t.removeListener("close",g),v()}function v(){d("unpipe"),n.unpipe(t)}return n.on("data",p),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",m),t.once("close",g),t.once("finish",y),t.emit("pipe",n),o.flowing||(d("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=R(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},b.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&k(this):i.nextTick(O,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(L,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(d("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){d("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<y.length;o++)t.on(y[o],this.emit.bind(this,y[o]));return this._read=function(e){d("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=M},526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=a(t),s=o[0],l=o[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,l)),u=0,f=l>0?s-4:s;for(n=0;n<f;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===l&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[u++]=255&e),1===l&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(l(t,a,a+s>c?c:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},576:(t,e,n)=>{!function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",(function(r,i){var o,s,a=r.indentUnit,l={},c=i.htmlMode?e:n;for(var u in c)l[u]=c[u];for(var u in i)l[u]=i[u];function f(t,e){function n(n){return e.tokenize=n,n(t,e)}var r=t.next();return"<"==r?t.eat("!")?t.eat("[")?t.match("CDATA[")?n(d("atom","]]>")):null:t.match("--")?n(d("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(p(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=d("meta","?>"),"meta"):(o=t.eat("/")?"closeTag":"openTag",e.tokenize=h,"tag bracket"):"&"==r?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function h(t,e){var n,r,i=t.next();if(">"==i||"/"==i&&t.eat(">"))return e.tokenize=f,o=">"==i?"endTag":"selfcloseTag","tag bracket";if("="==i)return o="equals",null;if("<"==i){e.tokenize=f,e.state=b,e.tagName=e.tagStart=null;var s=e.tokenize(t,e);return s?s+" tag error":"tag error"}return/[\'\"]/.test(i)?(e.tokenize=(n=i,r=function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=h;break}return"string"},r.isInAttribute=!0,r),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function d(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=f;break}n.next()}return t}}function p(t){return function(e,n){for(var r;null!=(r=e.next());){if("<"==r)return n.tokenize=p(t+1),n.tokenize(e,n);if(">"==r){if(1==t){n.tokenize=f;break}return n.tokenize=p(t-1),n.tokenize(e,n)}}return"meta"}}function m(t){return t&&t.toLowerCase()}function g(t,e,n){this.prev=t.context,this.tagName=e||"",this.indent=t.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function y(t){t.context&&(t.context=t.context.prev)}function v(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!l.contextGrabbers.hasOwnProperty(m(n))||!l.contextGrabbers[m(n)].hasOwnProperty(m(e)))return;y(t)}}function b(t,e,n){return"openTag"==t?(n.tagStart=e.column(),w):"closeTag"==t?S:b}function w(t,e,n){return"word"==t?(n.tagName=e.current(),s="tag",k):l.allowMissingTagName&&"endTag"==t?(s="tag bracket",k(t,0,n)):(s="error",w)}function S(t,e,n){if("word"==t){var r=e.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(m(n.context.tagName))&&y(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(s="tag",E):(s="tag error",_)}return l.allowMissingTagName&&"endTag"==t?(s="tag bracket",E(t,0,n)):(s="error",_)}function E(t,e,n){return"endTag"!=t?(s="error",E):(y(n),b)}function _(t,e,n){return s="error",E(t,0,n)}function k(t,e,n){if("word"==t)return s="attribute",x;if("endTag"==t||"selfcloseTag"==t){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||l.autoSelfClosers.hasOwnProperty(m(r))?v(n,r):(v(n,r),n.context=new g(n,r,i==n.indented)),b}return s="error",k}function x(t,e,n){return"equals"==t?T:(l.allowMissing||(s="error"),k(t,0,n))}function T(t,e,n){return"string"==t?C:"word"==t&&l.allowUnquoted?(s="string",k):(s="error",k(t,0,n))}function C(t,e,n){return"string"==t?C:k(t,0,n)}return f.isInText=!0,{startState:function(t){var e={tokenize:f,state:b,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;o=null;var n=e.tokenize(t,e);return(n||o)&&"comment"!=n&&(s=null,e.state=e.state(o||n,t,e),s&&(n="error"==s?n+" error":s)),n},indent:function(e,n,r){var i=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+a;if(i&&i.noIndent)return t.Pass;if(e.tokenize!=h&&e.tokenize!=f)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+a*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var o=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(o&&o[1])for(;i;){if(i.tagName==o[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(m(i.tagName)))break;i=i.prev}else if(o)for(;i;){var s=l.contextGrabbers[m(i.tagName)];if(!s||!s.hasOwnProperty(m(o[2])))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+a:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(t){t.state==T&&(t.state=k)},xmlCurrentTag:function(t){return t.tagName?{name:t.tagName,close:"closeTag"==t.type}:null},xmlCurrentContext:function(t){for(var e=[],n=t.context;n;n=n.prev)e.push(n.tagName);return e.reverse()}}})),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n(237))},600:(t,e,n)=>{"use strict";t.exports=o;var r=n(610),i=Object.create(n(622));function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(698),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},606:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,l=[],c=!1,u=-1;function f(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&h())}function h(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(a=l,l=[];++u<e;)a&&a[u].run();u=-1,e=l.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},610:(t,e,n)=>{"use strict";t.exports=s;var r=n(382),i=Object.create(n(622));function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){l(t,e,n)})):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(698),i.inherits(s,r),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},622:(t,e,n)=>{function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(287).Buffer.isBuffer},634:t=>{var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},643:(t,e,n)=>{function r(t){try{if(!n.g.localStorage)return!1}catch(t){return!1}var e=n.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}},698:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},708:(t,e,n)=>{"use strict";var r=n(606),i=n(225);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e){var n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(undefined),n=n.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=y;var s,a=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?setImmediate:i.nextTick;y.WritableState=g;var l=Object.create(n(622));l.inherits=n(698);var c,u={deprecate:n(643)},f=n(345),h=n(861).Buffer,d=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},p=n(896);function m(){}function g(t,e){s=s||n(382),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var l=t.highWaterMark,c=t.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=l||0===l?l:r&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(_,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(o(r),t._writableState.errorEmitted=!0,t.emit("error",r),_(t,e))}(t,n,r,e,o);else{var s=S(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?a(b,t,n,s,o):b(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(t){if(s=s||n(382),!(c.call(y,this)||this instanceof s))return new y(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function v(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function b(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),_(t,e)}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,v(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,f=n.callback;if(v(t,e,!1,e.objectMode?1:c.length,c,u,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function S(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),_(t,e)}))}function _(t,e){var n=S(e);return n&&(function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,i.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}l.inherits(y,f),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!c.call(this,t)||this===y&&t&&t._writableState instanceof g}})):c=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=t,h.isBuffer(r)||r instanceof d);return a&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=m),o.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),i.nextTick(r,s),o=!1),o}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else v(t,e,!1,a,r,i,o);return l}(this,o,a,t,e,n)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||w(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,_(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}},736:function(t){var e;e=function(t){var e=function(t){return new e.lib.init(t)};function n(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function r(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var r=document.createElement("img");r.src=this.options.avatar,r.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(r):t.insertAdjacentElement("afterbegin",r)}if(!0===this.options.close){var i=document.createElement("button");i.type="button",i.setAttribute("aria-label","Close"),i.className="toast-close",i.innerHTML="&#10006;",i.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var o=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&o>360?t.insertAdjacentElement("afterbegin",i):t.appendChild(i)}if(this.options.stopOnFocus&&this.options.duration>0){var s=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){s.removeElement(t)}),s.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var a=n("x",this.options),l=n("y",this.options),c="left"==this.options.position?a:"-"+a,u="toastify-top"==this.options.gravity?l:"-"+l;t.style.transform="translate("+c+","+u+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var n=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,n),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},n={top:15,bottom:15},i={top:15,bottom:15},o=document.getElementsByClassName("toastify"),s=0;s<o.length;s++){t=!0===r(o[s],"toastify-top")?"toastify-top":"toastify-bottom";var a=o[s].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(o[s].style[t]=i[t]+"px",i[t]+=a+15):!0===r(o[s],"toastify-left")?(o[s].style[t]=e[t]+"px",e[t]+=a+15):(o[s].style[t]=n[t]+"px",n[t]+=a+15)}return this},e.lib.init.prototype=e.lib,e},t.exports?t.exports=e():this.Toastify=e()},829:(t,e,n)=>{!function(t){"use strict";var e={},n=/[^\s\u00a0]/,r=t.Pos,i=t.cmpPos;function o(t){var e=t.search(n);return-1==e?0:e}function s(t,e){var n=t.getMode();return!1!==n.useInnerComments&&n.innerMode?t.getModeAt(e):n}t.commands.toggleComment=function(t){t.toggleComment()},t.defineExtension("toggleComment",(function(t){t||(t=e);for(var n=this,i=1/0,o=this.listSelections(),s=null,a=o.length-1;a>=0;a--){var l=o[a].from(),c=o[a].to();l.line>=i||(c.line>=i&&(c=r(i,0)),i=l.line,null==s?n.uncomment(l,c,t)?s="un":(n.lineComment(l,c,t),s="line"):"un"==s?n.uncomment(l,c,t):n.lineComment(l,c,t))}})),t.defineExtension("lineComment",(function(t,i,a){a||(a=e);var l,c,u=this,f=s(u,t),h=u.getLine(t.line);if(null!=h&&(l=t,c=h,!/\bstring\b/.test(u.getTokenTypeAt(r(l.line,0)))||/^[\'\"\`]/.test(c))){var d=a.lineComment||f.lineComment;if(d){var p=Math.min(0!=i.ch||i.line==t.line?i.line+1:i.line,u.lastLine()+1),m=null==a.padding?" ":a.padding,g=a.commentBlankLines||t.line==i.line;u.operation((function(){if(a.indent){for(var e=null,i=t.line;i<p;++i){var s=-1===(l=u.getLine(i)).search(n)?l:l.slice(0,o(l));(null==e||e.length>s.length)&&(e=s)}for(i=t.line;i<p;++i){var l=u.getLine(i),c=e.length;(g||n.test(l))&&(l.slice(0,c)!=e&&(c=o(l)),u.replaceRange(e+d+m,r(i,0),r(i,c)))}}else for(i=t.line;i<p;++i)(g||n.test(u.getLine(i)))&&u.replaceRange(d+m,r(i,0))}))}else(a.blockCommentStart||f.blockCommentStart)&&(a.fullLines=!0,u.blockComment(t,i,a))}})),t.defineExtension("blockComment",(function(t,o,a){a||(a=e);var l=this,c=s(l,t),u=a.blockCommentStart||c.blockCommentStart,f=a.blockCommentEnd||c.blockCommentEnd;if(u&&f){if(!/\bcomment\b/.test(l.getTokenTypeAt(r(t.line,0)))){var h=Math.min(o.line,l.lastLine());h!=t.line&&0==o.ch&&n.test(l.getLine(h))&&--h;var d=null==a.padding?" ":a.padding;t.line>h||l.operation((function(){if(0!=a.fullLines){var e=n.test(l.getLine(h));l.replaceRange(d+f,r(h)),l.replaceRange(u+d,r(t.line,0));var s=a.blockCommentLead||c.blockCommentLead;if(null!=s)for(var p=t.line+1;p<=h;++p)(p!=h||e)&&l.replaceRange(s+d,r(p,0))}else{var m=0==i(l.getCursor("to"),o),g=!l.somethingSelected();l.replaceRange(f,o),m&&l.setSelection(g?o:l.getCursor("from"),o),l.replaceRange(u,t)}}))}}else(a.lineComment||c.lineComment)&&0!=a.fullLines&&l.lineComment(t,o,a)})),t.defineExtension("uncomment",(function(t,i,o){o||(o=e);var a,l=this,c=s(l,t),u=Math.min(0!=i.ch||i.line==t.line?i.line:i.line-1,l.lastLine()),f=Math.min(t.line,u),h=o.lineComment||c.lineComment,d=[],p=null==o.padding?" ":o.padding;t:if(h){for(var m=f;m<=u;++m){var g=l.getLine(m),y=g.indexOf(h);if(y>-1&&!/comment/.test(l.getTokenTypeAt(r(m,y+1)))&&(y=-1),-1==y&&n.test(g))break t;if(y>-1&&n.test(g.slice(0,y)))break t;d.push(g)}if(l.operation((function(){for(var t=f;t<=u;++t){var e=d[t-f],n=e.indexOf(h),i=n+h.length;n<0||(e.slice(i,i+p.length)==p&&(i+=p.length),a=!0,l.replaceRange("",r(t,n),r(t,i)))}})),a)return!0}var v=o.blockCommentStart||c.blockCommentStart,b=o.blockCommentEnd||c.blockCommentEnd;if(!v||!b)return!1;var w=o.blockCommentLead||c.blockCommentLead,S=l.getLine(f),E=S.indexOf(v);if(-1==E)return!1;var _=u==f?S:l.getLine(u),k=_.indexOf(b,u==f?E+v.length:0),x=r(f,E+1),T=r(u,k+1);if(-1==k||!/comment/.test(l.getTokenTypeAt(x))||!/comment/.test(l.getTokenTypeAt(T))||l.getRange(x,T,"\n").indexOf(b)>-1)return!1;var C=S.lastIndexOf(v,t.ch),O=-1==C?-1:S.slice(0,t.ch).indexOf(b,C+v.length);if(-1!=C&&-1!=O&&O+b.length!=t.ch)return!1;O=_.indexOf(b,i.ch);var L=_.slice(i.ch).lastIndexOf(v,O-i.ch);return C=-1==O||-1==L?-1:i.ch+L,(-1==O||-1==C||C==i.ch)&&(l.operation((function(){l.replaceRange("",r(u,k-(p&&_.slice(k-p.length,k)==p?p.length:0)),r(u,k+b.length));var t=E+v.length;if(p&&S.slice(t,t+p.length)==p&&(t+=p.length),l.replaceRange("",r(f,E),r(f,t)),w)for(var e=f+1;e<=u;++e){var i=l.getLine(e),o=i.indexOf(w);if(-1!=o&&!n.test(i.slice(0,o))){var s=o+w.length;p&&i.slice(s,s+p.length)==p&&(s+=p.length),l.replaceRange("",r(e,o),r(e,s))}}})),!0)}))}(n(237))},838:()=>{},861:(t,e,n)=>{var r=n(287),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},896:(t,e,n)=>{"use strict";var r=n(225);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,t)):r.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,r.nextTick(i,n,t)):r.nextTick(i,n,t):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},923:(t,e,n)=>{!function(t){var e=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),n=t.Pos,r={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(t){return t&&t.bracketRegex||/[(){}[\]]/}function o(t,e,o){var a=t.getLineHandle(e.line),l=e.ch-1,c=o&&o.afterCursor;null==c&&(c=/(^| )cm-fat-cursor($| )/.test(t.getWrapperElement().className));var u=i(o),f=!c&&l>=0&&u.test(a.text.charAt(l))&&r[a.text.charAt(l)]||u.test(a.text.charAt(l+1))&&r[a.text.charAt(++l)];if(!f)return null;var h=">"==f.charAt(1)?1:-1;if(o&&o.strict&&h>0!=(l==e.ch))return null;var d=t.getTokenTypeAt(n(e.line,l+1)),p=s(t,n(e.line,l+(h>0?1:0)),h,d,o);return null==p?null:{from:n(e.line,l),to:p&&p.pos,match:p&&p.ch==f.charAt(0),forward:h>0}}function s(t,e,o,s,a){for(var l=a&&a.maxScanLineLength||1e4,c=a&&a.maxScanLines||1e3,u=[],f=i(a),h=o>0?Math.min(e.line+c,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-c),d=e.line;d!=h;d+=o){var p=t.getLine(d);if(p){var m=o>0?0:p.length-1,g=o>0?p.length:-1;if(!(p.length>l))for(d==e.line&&(m=e.ch-(o<0?1:0));m!=g;m+=o){var y=p.charAt(m);if(f.test(y)&&(void 0===s||(t.getTokenTypeAt(n(d,m+1))||"")==(s||""))){var v=r[y];if(v&&">"==v.charAt(1)==o>0)u.push(y);else{if(!u.length)return{pos:n(d,m),ch:y};u.pop()}}}}}return d-o!=(o>0?t.lastLine():t.firstLine())&&null}function a(t,r,i){for(var s=t.state.matchBrackets.maxHighlightLineLength||1e3,a=i&&i.highlightNonMatching,l=[],c=t.listSelections(),u=0;u<c.length;u++){var f=c[u].empty()&&o(t,c[u].head,i);if(f&&(f.match||!1!==a)&&t.getLine(f.from.line).length<=s){var h=f.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";l.push(t.markText(f.from,n(f.from.line,f.from.ch+1),{className:h})),f.to&&t.getLine(f.to.line).length<=s&&l.push(t.markText(f.to,n(f.to.line,f.to.ch+1),{className:h}))}}if(l.length){e&&t.state.focused&&t.focus();var d=function(){t.operation((function(){for(var t=0;t<l.length;t++)l[t].clear()}))};if(!r)return d;setTimeout(d,800)}}function l(t){t.operation((function(){t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null),t.state.matchBrackets.currentlyHighlighted=a(t,!1,t.state.matchBrackets)}))}function c(t){t.state.matchBrackets&&t.state.matchBrackets.currentlyHighlighted&&(t.state.matchBrackets.currentlyHighlighted(),t.state.matchBrackets.currentlyHighlighted=null)}t.defineOption("matchBrackets",!1,(function(e,n,r){r&&r!=t.Init&&(e.off("cursorActivity",l),e.off("focus",l),e.off("blur",c),c(e)),n&&(e.state.matchBrackets="object"==typeof n?n:{},e.on("cursorActivity",l),e.on("focus",l),e.on("blur",c))})),t.defineExtension("matchBrackets",(function(){a(this,!0)})),t.defineExtension("findMatchingBracket",(function(t,e,n){return(n||"boolean"==typeof e)&&(n?(n.strict=e,e=n):e=e?{strict:!0}:null),o(this,t,e)})),t.defineExtension("scanForBracket",(function(t,e,n,r){return s(this,t,e,n,r)}))}(n(237))}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{initFolderStructure:()=>tu});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{COPYFILE_EXCL:()=>Mt,COPYFILE_FICLONE:()=>It,COPYFILE_FICLONE_FORCE:()=>Nt,F_OK:()=>Ct,O_APPEND:()=>Ft,O_CREAT:()=>Pt,O_DIRECT:()=>Yt,O_DIRECTORY:()=>zt,O_DSYNC:()=>Vt,O_EXCL:()=>jt,O_NOATIME:()=>Ht,O_NOCTTY:()=>Wt,O_NOFOLLOW:()=>$t,O_NONBLOCK:()=>Kt,O_RDONLY:()=>Rt,O_RDWR:()=>Bt,O_SYMLINK:()=>Gt,O_SYNC:()=>qt,O_TRUNC:()=>Ut,O_WRONLY:()=>Dt,R_OK:()=>Ot,S_IFBLK:()=>te,S_IFCHR:()=>ne,S_IFDIR:()=>ee,S_IFIFO:()=>re,S_IFLNK:()=>Zt,S_IFMT:()=>Xt,S_IFREG:()=>Qt,S_IFSOCK:()=>Jt,S_IRGRP:()=>he,S_IROTH:()=>ge,S_IRUSR:()=>le,S_IRWXG:()=>fe,S_IRWXO:()=>me,S_IRWXU:()=>ae,S_ISGID:()=>oe,S_ISUID:()=>ie,S_ISVTX:()=>se,S_IWGRP:()=>de,S_IWOTH:()=>ye,S_IWUSR:()=>ce,S_IXGRP:()=>pe,S_IXOTH:()=>ve,S_IXUSR:()=>ue,UV_FS_O_FILEMAP:()=>be,W_OK:()=>Lt,X_OK:()=>At,size_max:()=>we});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{FileHandle:()=>Qr,access:()=>Ci,appendFile:()=>fi,chmod:()=>wi,chown:()=>vi,constants:()=>t,copyFile:()=>Ai,cp:()=>Ii,exists:()=>ei,glob:()=>Ri,lchmod:()=>Si,lchown:()=>bi,link:()=>mi,lstat:()=>ri,lutimes:()=>_i,mkdir:()=>di,mkdtemp:()=>Li,open:()=>li,opendir:()=>Mi,readFile:()=>ci,readdir:()=>pi,readlink:()=>yi,realpath:()=>xi,rename:()=>ti,rm:()=>Oi,rmdir:()=>hi,stat:()=>ni,statfs:()=>Ni,symlink:()=>gi,truncate:()=>ii,unlink:()=>oi,utimes:()=>Ei,watch:()=>Ti,writeFile:()=>ui});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{BigIntStatsFs:()=>Ie,Dir:()=>Gr,Dirent:()=>Vr,ReadStream:()=>Kr,Stats:()=>Le,StatsFs:()=>Me,WriteStream:()=>Xr,access:()=>go,accessSync:()=>Br,appendFile:()=>qi,appendFileSync:()=>fr,chmod:()=>uo,chmodSync:()=>Ar,chown:()=>lo,chownSync:()=>Or,chroot:()=>$n,close:()=>Gi,closeSync:()=>dr,constants:()=>t,copyFile:()=>xo,copyFileSync:()=>Wr,cp:()=>Lo,cpSync:()=>Hr,createReadStream:()=>So,createWriteStream:()=>Eo,exists:()=>Pi,existsSync:()=>Qn,fchmod:()=>to,fchmodSync:()=>wr,fchown:()=>Qi,fchownSync:()=>br,fdatasync:()=>Xi,fdatasyncSync:()=>gr,fstat:()=>Vi,fstatSync:()=>hr,fsync:()=>Ki,fsyncSync:()=>mr,ftruncate:()=>Yi,ftruncateSync:()=>pr,futimes:()=>eo,futimesSync:()=>Sr,glob:()=>Io,globSync:()=>qr,lchmod:()=>fo,lchmodSync:()=>Mr,lchown:()=>co,lchownSync:()=>Lr,link:()=>oo,linkSync:()=>xr,lopenSync:()=>ar,lstat:()=>Wi,lstatSync:()=>er,lutimes:()=>po,lutimesSync:()=>Nr,mkdir:()=>ro,mkdirSync:()=>_r,mkdtemp:()=>ko,mkdtempSync:()=>jr,mount:()=>Pn,mountObject:()=>zn,mounts:()=>Bn,open:()=>zi,openAsBlob:()=>Mo,openSync:()=>sr,opendir:()=>Oo,opendirSync:()=>zr,promises:()=>e,read:()=>Zi,readFile:()=>Hi,readFileSync:()=>cr,readSync:()=>vr,readdir:()=>io,readdirSync:()=>kr,readlink:()=>ao,readlinkSync:()=>Cr,readv:()=>To,readvSync:()=>Ur,realpath:()=>mo,realpathSync:()=>Dr,rename:()=>Bi,renameSync:()=>Zn,rm:()=>_o,rmSync:()=>Pr,rmdir:()=>no,rmdirSync:()=>Er,stat:()=>ji,statSync:()=>tr,statfs:()=>Ao,statfsSync:()=>$r,symlink:()=>so,symlinkSync:()=>Tr,truncate:()=>Ui,truncateSync:()=>nr,umount:()=>jn,unlink:()=>Fi,unlinkSync:()=>rr,unwatchFile:()=>bo,utimes:()=>ho,utimesSync:()=>Ir,watch:()=>wo,watchFile:()=>vo,write:()=>Ji,writeFile:()=>$i,writeFileSync:()=>ur,writeSync:()=>yr,writev:()=>Co,writevSync:()=>Fr});const r=brs;var i,o,s=__webpack_require__(42),a=__webpack_require__.n(s),l=__webpack_require__(217),c=__webpack_require__.n(l);(o=i||(i={}))[o.EPERM=1]="EPERM",o[o.ENOENT=2]="ENOENT",o[o.EINTR=4]="EINTR",o[o.EIO=5]="EIO",o[o.ENXIO=6]="ENXIO",o[o.EBADF=9]="EBADF",o[o.EAGAIN=11]="EAGAIN",o[o.ENOMEM=12]="ENOMEM",o[o.EACCES=13]="EACCES",o[o.EFAULT=14]="EFAULT",o[o.ENOTBLK=15]="ENOTBLK",o[o.EBUSY=16]="EBUSY",o[o.EEXIST=17]="EEXIST",o[o.EXDEV=18]="EXDEV",o[o.ENODEV=19]="ENODEV",o[o.ENOTDIR=20]="ENOTDIR",o[o.EISDIR=21]="EISDIR",o[o.EINVAL=22]="EINVAL",o[o.ENFILE=23]="ENFILE",o[o.EMFILE=24]="EMFILE",o[o.ETXTBSY=26]="ETXTBSY",o[o.EFBIG=27]="EFBIG",o[o.ENOSPC=28]="ENOSPC",o[o.ESPIPE=29]="ESPIPE",o[o.EROFS=30]="EROFS",o[o.EMLINK=31]="EMLINK",o[o.EPIPE=32]="EPIPE",o[o.EDOM=33]="EDOM",o[o.ERANGE=34]="ERANGE",o[o.EDEADLK=35]="EDEADLK",o[o.ENAMETOOLONG=36]="ENAMETOOLONG",o[o.ENOLCK=37]="ENOLCK",o[o.ENOSYS=38]="ENOSYS",o[o.ENOTEMPTY=39]="ENOTEMPTY",o[o.ELOOP=40]="ELOOP",o[o.ENOMSG=42]="ENOMSG",o[o.EBADE=52]="EBADE",o[o.EBADR=53]="EBADR",o[o.EXFULL=54]="EXFULL",o[o.ENOANO=55]="ENOANO",o[o.EBADRQC=56]="EBADRQC",o[o.ENOSTR=60]="ENOSTR",o[o.ENODATA=61]="ENODATA",o[o.ETIME=62]="ETIME",o[o.ENOSR=63]="ENOSR",o[o.ENONET=64]="ENONET",o[o.EREMOTE=66]="EREMOTE",o[o.ENOLINK=67]="ENOLINK",o[o.ECOMM=70]="ECOMM",o[o.EPROTO=71]="EPROTO",o[o.EBADMSG=74]="EBADMSG",o[o.EOVERFLOW=75]="EOVERFLOW",o[o.EBADFD=77]="EBADFD",o[o.ESTRPIPE=86]="ESTRPIPE",o[o.ENOTSOCK=88]="ENOTSOCK",o[o.EDESTADDRREQ=89]="EDESTADDRREQ",o[o.EMSGSIZE=90]="EMSGSIZE",o[o.EPROTOTYPE=91]="EPROTOTYPE",o[o.ENOPROTOOPT=92]="ENOPROTOOPT",o[o.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",o[o.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",o[o.ENOTSUP=95]="ENOTSUP",o[o.ENETDOWN=100]="ENETDOWN",o[o.ENETUNREACH=101]="ENETUNREACH",o[o.ENETRESET=102]="ENETRESET",o[o.ETIMEDOUT=110]="ETIMEDOUT",o[o.ECONNREFUSED=111]="ECONNREFUSED",o[o.EHOSTDOWN=112]="EHOSTDOWN",o[o.EHOSTUNREACH=113]="EHOSTUNREACH",o[o.EALREADY=114]="EALREADY",o[o.EINPROGRESS=115]="EINPROGRESS",o[o.ESTALE=116]="ESTALE",o[o.EREMOTEIO=121]="EREMOTEIO",o[o.EDQUOT=122]="EDQUOT";const u={[i.EPERM]:"Operation not permitted",[i.ENOENT]:"No such file or directory",[i.EINTR]:"Interrupted system call",[i.EIO]:"Input/output error",[i.ENXIO]:"No such device or address",[i.EBADF]:"Bad file descriptor",[i.EAGAIN]:"Resource temporarily unavailable",[i.ENOMEM]:"Cannot allocate memory",[i.EACCES]:"Permission denied",[i.EFAULT]:"Bad address",[i.ENOTBLK]:"Block device required",[i.EBUSY]:"Resource busy or locked",[i.EEXIST]:"File exists",[i.EXDEV]:"Invalid cross-device link",[i.ENODEV]:"No such device",[i.ENOTDIR]:"File is not a directory",[i.EISDIR]:"File is a directory",[i.EINVAL]:"Invalid argument",[i.ENFILE]:"Too many open files in system",[i.EMFILE]:"Too many open files",[i.ETXTBSY]:"Text file busy",[i.EFBIG]:"File is too big",[i.ENOSPC]:"No space left on disk",[i.ESPIPE]:"Illegal seek",[i.EROFS]:"Cannot modify a read-only file system",[i.EMLINK]:"Too many links",[i.EPIPE]:"Broken pipe",[i.EDOM]:"Numerical argument out of domain",[i.ERANGE]:"Numerical result out of range",[i.EDEADLK]:"Resource deadlock would occur",[i.ENAMETOOLONG]:"File name too long",[i.ENOLCK]:"No locks available",[i.ENOSYS]:"Function not implemented",[i.ENOTEMPTY]:"Directory is not empty",[i.ELOOP]:"Too many levels of symbolic links",[i.ENOMSG]:"No message of desired type",[i.EBADE]:"Invalid exchange",[i.EBADR]:"Invalid request descriptor",[i.EXFULL]:"Exchange full",[i.ENOANO]:"No anode",[i.EBADRQC]:"Invalid request code",[i.ENOSTR]:"Device not a stream",[i.ENODATA]:"No data available",[i.ETIME]:"Timer expired",[i.ENOSR]:"Out of streams resources",[i.ENONET]:"Machine is not on the network",[i.EREMOTE]:"Object is remote",[i.ENOLINK]:"Link has been severed",[i.ECOMM]:"Communication error on send",[i.EPROTO]:"Protocol error",[i.EBADMSG]:"Bad message",[i.EOVERFLOW]:"Value too large for defined data type",[i.EBADFD]:"File descriptor in bad state",[i.ESTRPIPE]:"Streams pipe error",[i.ENOTSOCK]:"Socket operation on non-socket",[i.EDESTADDRREQ]:"Destination address required",[i.EMSGSIZE]:"Message too long",[i.EPROTOTYPE]:"Protocol wrong type for socket",[i.ENOPROTOOPT]:"Protocol not available",[i.EPROTONOSUPPORT]:"Protocol not supported",[i.ESOCKTNOSUPPORT]:"Socket type not supported",[i.ENOTSUP]:"Operation is not supported",[i.ENETDOWN]:"Network is down",[i.ENETUNREACH]:"Network is unreachable",[i.ENETRESET]:"Network dropped connection on reset",[i.ETIMEDOUT]:"Connection timed out",[i.ECONNREFUSED]:"Connection refused",[i.EHOSTDOWN]:"Host is down",[i.EHOSTUNREACH]:"No route to host",[i.EALREADY]:"Operation already in progress",[i.EINPROGRESS]:"Operation now in progress",[i.ESTALE]:"Stale file handle",[i.EREMOTEIO]:"Remote I/O error",[i.EDQUOT]:"Disk quota exceeded"};class f extends Error{static fromJSON(t){const e=new f(t.errno,t.message,t.path,t.syscall);return e.code=t.code,e.stack=t.stack,e}static With(t,e,n){return new f(i[t],u[i[t]],e,n)}constructor(t,e=u[t],n,r=""){super(e),this.errno=t,this.message=e,this.path=n,this.syscall=r,this.code=i[t]}toString(){return this.code+": "+this.message+(this.path?`, '${this.path}'`:"")}toJSON(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message,syscall:this.syscall}}bufferSize(){return 4+JSON.stringify(this.toJSON()).length}}var h=__webpack_require__(228);class d extends h{[Symbol.toStringTag]="List";constructor(t){super(),t&&this.push(...t)}data=new Set;toSet(){return new Set(this.data)}toArray(){return Array.from(this.data)}toJSON(){return JSON.stringify(Array.from(this.data))}toString(){return this.join(",")}_set(t,e,n=!1){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not set an element outside the bounds of the list");const r=Array.from(this.data);r.splice(t,+n,e),this.data=new Set(r),this.emit("update")}set(t,e){this._set(t,e,!0)}deleteAt(t){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not delete an element outside the bounds of the list");this.delete(Array.from(this.data).at(t))}insert(t,e=this.data.size){this._set(e,t,!1)}at(t){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not access an element outside the bounds of the list");return Array.from(this.data).at(t)}pop(){const t=Array.from(this.data).pop();return void 0!==t&&this.delete(t),t}push(...t){for(const e of t)this.add(e);return this.data.size}join(t){return Array.from(this.data).join(t)}splice(t,e,...n){if(Math.abs(t)>this.data.size)throw new ReferenceError("Can not splice elements outside the bounds of the list");const r=Array.from(this.data),i=r.splice(t,e,...n);return this.data=new Set(r),this.emit("update"),i}add(t){return this.data.add(t),this.emit("update"),this.emit("add",t),this}clear(){this.data.clear(),this.emit("update")}delete(t){const e=this.data.delete(t);return this.emit("update"),e}has(t){return this.data.has(t)}get size(){return this.data.size}entries(){return this.toArray().entries()}keys(){return this.toArray().keys()}values(){return this.data.values()}[Symbol.iterator](){return this.data[Symbol.iterator]()}}function p(t=new Error){const e=setTimeout((()=>{throw t}),5e3);return()=>clearTimeout(e)}function m(t){throw t}const g=Intl.NumberFormat("en",{notation:"compact"});function y(t,...e){const n={};for(const r of e.flat())n[r]=t[r];return n}function v(t=0,e=1){return Math.round(Math.random()*(e-t)+t)}function b(t){return t.at(0).toUpperCase()+t.slice(1)}function w(t,e){if(t.byteLength>=e)return t;if(ArrayBuffer.isView(t)){const n=w(t.buffer,e);return new t.constructor(n,t.byteOffset,e)}const n="undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer;if(t.maxByteLength>e)return n?t.grow(e):t.resize(e),t;if(n){const n=new SharedArrayBuffer(e);return new Uint8Array(n).set(new Uint8Array(t)),n}try{return t.transfer(e)}catch{const n=new ArrayBuffer(e);return new Uint8Array(n).set(new Uint8Array(t)),n}}g.format.bind(g),new TextEncoder,new TextDecoder;let S="process"in globalThis&&"env"in globalThis.process&&"true"==globalThis.process.env.U_DEBUG;function E(...t){S&&console.debug("[U]",...t)}const _=["int8","uint8","int16","uint16","int32","uint32","int64","uint64","int128","uint128","float32","float64","float128"],k=[..._,..._.map((t=>b(t))),"char"],x=/^(u?int|float)(8|16|32|64|128)$/i;function T(t){return"char"==t?"uint8":t.toLowerCase()}function C(t){return x.test(t.toString())}function O(t){return"char"==t||x.test(t.toString().toLowerCase())}const L=BigInt("0xffffffffffffffff");function A(t){return t.metadata??={},t.metadata.structInit=[...t.metadata.structInit??[]],t.metadata.structInit}function M(t){Symbol.metadata in t||Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)})}function I(t){return"function"==typeof t&&Symbol.metadata in t&&function(t){return null!=t&&"object"==typeof t&&"struct"in t}(t[Symbol.metadata])}function N(t){return null!=t&&"object"==typeof t&&I(t.constructor)}function R(t){if(!N(t))throw new TypeError(("function"==typeof t?t.name:"object"==typeof t&&t?t.constructor.name:t)+" is not a struct instance")}function D(t){return N(t)||I(t)}function B(t){if(!D(t))throw new TypeError(("function"==typeof t?t.name:"object"==typeof t&&t?t.constructor.name:t)+" is not a struct")}function P(t){return"object"==typeof t&&null!=t&&Symbol.size in t}function j(t){if(null==t)return 0;if(Array.isArray(t)){let e=0;for(let n=0;n<t.length;n++)e+=j(t[n]);return e}if("string"==typeof t)return function(t){if(!O(t))throw new TypeError("Not a valid primitive type: "+t)}(t),+T(t).match(x)[2]/8;if(P(t))return t[Symbol.size];B(t);const e=I(t)?t:t.constructor;M(e);const{struct:n}=e[Symbol.metadata];let r=n.staticSize;if(I(t))return r;for(const e of n.members.values()){const i=t[e.name];if(N(i)&&i.constructor[Symbol.metadata].struct.isDynamic){n.isUnion?r=Math.max(r,j(i)):r+=j(i);continue}if("string"!=typeof e.length)continue;let o=0;for(let n=0;n<t[e.length];n++)o+=j(D(i[n])?i[n]:e.type);n.isUnion?r=Math.max(r,o):r+=o}return r}function W(t={}){return function(e,n){const r=new Map;let i=0,o=!1;for(const{name:l,type:c,length:u}of A(n)){if(!O(c)&&!I(c))throw new TypeError("Not a valid type: "+c);if("string"==typeof u){const t=r.get(u);if(!t)throw new Error(`"${u}" is undefined or declared after "${l}"`);if(!C(t.type))throw new Error(`"${u}" is not a number and cannot be used to count "${l}"`)}let n=`${"string"==typeof c?c:c.name} ${l}`;void 0!==u&&(n+=`[${u}]`),r.set(l,{name:l,staticOffset:t.isUnion?0:i,type:O(c)?T(c):c,length:u,decl:n});const f="string"==typeof u||I(c)&&c[Symbol.metadata].struct.isDynamic?0:j(c)*(u||1);o||=I(c)?c[Symbol.metadata].struct.isDynamic:"string"==typeof u,i=t.isUnion?Math.max(i,f):i+f,s=i,a=t.align||1,i=Math.ceil(s/a)*a,E("define",e.name+"."+l)}var s,a;return n.metadata.struct={options:t,members:r,staticSize:i,isDynamic:o,isUnion:t.isUnion??!1},e}}function U(t,e){return function(n,r){let i=r.name;if("symbol"==typeof i&&(console.warn("Symbol used for struct member name will be coerced to string: "+i.toString()),i=i.toString()),!i)throw new ReferenceError("Invalid name for struct member");return A(r).push({name:i,type:t,length:e}),n}}function F(t,e){return void 0===e.length?-1:"string"==typeof e.length?t[e.length]:Number.isSafeInteger(e.length)&&e.length>=0?e.length:m(new Error("Array lengths must be natural numbers"))}function z(t){if(P(t)&&"function"==typeof t[Symbol.serialize])return t[Symbol.serialize]();R(t),M(t.constructor);const{options:e,members:n}=t.constructor[Symbol.metadata].struct,r=j(t),i=new Uint8Array(r),o=new DataView(i.buffer);E("serialize",t.constructor.name);let s=0,a=0;for(const r of n.values()){const n=F(t,r);E("\t",r.decl);for(let l=0;l<Math.abs(n);l++){let c=-1!=n?t[r.name][l]:t[r.name];if("string"==typeof c&&(c=c.charCodeAt(0)),s=a,a+=N(c)?j(c):j(r.type),!C(r.type)){i.set(c?z(c):new Uint8Array(j(r.type)),s);continue}const u=`set${b(r.type)}`;"setInt64"!=u?"setUint64"!=u?"setInt128"!=u?"setUint128"!=u?"setFloat128"!=u?o[u](s,Number(c),!e.bigEndian):(o.setFloat64(s+(e.bigEndian?8:0),Number(c),!e.bigEndian),o.setBigUint64(s+(e.bigEndian?0:8),BigInt(0),!e.bigEndian)):(o.setBigUint64(s+(e.bigEndian?8:0),c&L,!e.bigEndian),o.setBigUint64(s+(e.bigEndian?0:8),c>>BigInt(64),!e.bigEndian)):(o.setBigUint64(s+(e.bigEndian?8:0),c&L,!e.bigEndian),o.setBigInt64(s+(e.bigEndian?0:8),c>>BigInt(64),!e.bigEndian)):o.setBigUint64(s,BigInt(c),!e.bigEndian):o.setBigInt64(s,BigInt(c),!e.bigEndian)}}return i}function H(t,e){const n=function(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}(e);if(P(t)&&"function"==typeof t[Symbol.deserialize])return t[Symbol.deserialize](n);R(t),M(t.constructor);const{options:r,members:i}=t.constructor[Symbol.metadata].struct,o=new DataView(n.buffer,n.byteOffset,n.byteLength);E("deserialize",t.constructor.name);let s=0,a=0;for(const e of i.values()){const i=F(t,e);E("\t",e.decl);for(let l=0;l<Math.abs(i);l++){let c=-1!=i?t[e.name]:t;const u=-1!=i?l:e.name,f=null===c[u]||void 0===c[u],h=f&&I(e.type)&&e.type[Symbol.metadata].struct.isDynamic;if(s=a,N(c[u])||h||(a+=j(e.type)),"string"==typeof t[e.name]){t[e.name]=t[e.name].slice(0,l)+String.fromCharCode(o.getUint8(s))+t[e.name].slice(l+1);continue}if(!C(e.type)){if(h&&I(e.type))c[u]??=new e.type;else if(f)continue;H(c[u],new Uint8Array(n.subarray(s))),a+=j(c[u]);continue}i&&-1!=i&&(c||=[]);const d=`get${b(e.type)}`;c[u]="getInt64"!=d?"getUint64"!=d?"getInt128"!=d?"getUint128"!=d?"getFloat128"!=d?o[d](s,!r.bigEndian):o.getFloat64(s+(r.bigEndian?8:0),!r.bigEndian):o.getBigUint64(s+(r.bigEndian?0:8),!r.bigEndian)<<BigInt(64)|o.getBigUint64(s+(r.bigEndian?8:0),!r.bigEndian):o.getBigInt64(s+(r.bigEndian?0:8),!r.bigEndian)<<BigInt(64)|o.getBigUint64(s+(r.bigEndian?8:0),!r.bigEndian):o.getBigUint64(s,!r.bigEndian):o.getBigInt64(s,!r.bigEndian)}}}Symbol.metadata??=Symbol.for("Symbol.metadata"),Object.assign(Symbol,{size:Symbol("uSize"),serialize:Symbol("uSerialize"),deserialize:Symbol("uDeserialize")});const $=Object.fromEntries(k.map((t=>{return[t,(e=t,function(t,n){return"number"==typeof t||"string"==typeof t?U(e,t):U(e)(t,n)})];var e})));let q="/";function V(t,e){let n="",r=0,i=-1,o=0,s="\0";for(let a=0;a<=t.length;++a){if(a<t.length)s=t[a];else{if("/"==s)break;s="/"}if("/"==s){if(i===a-1||1===o);else if(2===o){if(n.length<2||2!==r||"."!==n.at(-1)||"."!==n.at(-2)){if(n.length>2){const t=n.lastIndexOf("/");-1===t?(n="",r=0):(n=n.slice(0,t),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}if(0!==n.length){n="",r=0,i=a,o=0;continue}}e&&(n+=n.length>0?"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,a):n=t.slice(i+1,a),r=a-i-1;i=a,o=0}else"."===s&&-1!==o?++o:o=-1}return n}function G(...t){let e="";for(const n of[...t.reverse(),q])if(n.length&&(e=`${n}/${e}`,n.startsWith("/")))break;const n=e.startsWith("/");return e=V(e,!n),n?`/${e}`:e.length?e:"/"}function Y(...t){if(!t.length)return".";const e=t.join("/");return(null==e?void 0:e.length)?function(t){if(!t.length)return".";const e=t.startsWith("/"),n=t.endsWith("/");return(t=V(t,!e)).length?(n&&(t+="/"),e?`/${t}`:t):e?"/":n?"./":"."}(e):"."}function K(t,e){if(t===e)return"";if((t=G(t))===(e=G(e)))return"";const n=t.length,r=n-1,i=e.length-1,o=r<i?r:i;let s=-1,a=0;for(;a<o;a++){const n=t[1+a];if(n!==e[1+a])break;"/"===n&&(s=a)}if(a===o)if(i>o){if("/"===e[1+a])return e.slice(1+a+1);if(0===a)return e.slice(1+a)}else r>o&&("/"===t[1+a]?s=a:0===a&&(s=0));let l="";for(a=1+s+1;a<=n;++a)a!==n&&"/"!==t[a]||(l+=0===l.length?"..":"/..");return`${l}${e.slice(1+s)}`}function X(t){if(0===t.length)return".";const e="/"===t[0];let n=-1,r=!0;for(let e=t.length-1;e>=1;--e)if("/"===t[e]){if(!r){n=e;break}}else r=!1;return-1===n?e?"/":".":e&&1===n?"//":t.slice(0,n)}function J(t,e){let n=0,r=-1,i=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e===t)return"";let o=e.length-1,s=-1;for(let a=t.length-1;a>=0;--a)if("/"===t[a]){if(!i){n=a+1;break}}else-1===s&&(i=!1,s=a+1),o>=0&&(t[a]===e[o]?-1===--o&&(r=a):(o=-1,r=s));return n===r?r=s:-1===r&&(r=t.length),t.slice(n,r)}for(let e=t.length-1;e>=0;--e)if("/"===t[e]){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}function Z(t){const e=t.startsWith("/"),n={root:e?"/":"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;const r=e?1:0;let i=-1,o=0,s=-1,a=!0,l=t.length-1,c=0;for(;l>=r;--l)if("/"!==t[l])-1===s&&(a=!1,s=l+1),"."===t[l]?-1===i?i=l:1!==c&&(c=1):-1!==i&&(c=-1);else if(!a){o=l+1;break}if(-1!==s){const r=0===o&&e?1:o;-1===i||0===c||1===c&&i===s-1&&i===o+1?n.base=n.name=t.slice(r,s):(n.name=t.slice(r,i),n.base=t.slice(r,s),n.ext=t.slice(i,s))}return o>0?n.dir=t.slice(0,o-1):e&&(n.dir="/"),n}var Q;!function(t){t[t.EMERG=0]="EMERG",t[t.ALERT=1]="ALERT",t[t.CRIT=2]="CRIT",t[t.ERR=3]="ERR",t[t.WARN=4]="WARN",t[t.NOTICE=5]="NOTICE",t[t.INFO=6]="INFO",t[t.DEBUG=7]="DEBUG"}(Q||(Q={}));const tt={[Q.EMERG]:"emergency",[Q.ALERT]:"alert",[Q.CRIT]:"critical",[Q.ERR]:"error",[Q.WARN]:"warning",[Q.NOTICE]:"notice",[Q.INFO]:"info",[Q.DEBUG]:"debug"},et=new d;function nt(t,e){if(!Et)return;const n={level:t,message:e,timestamp:new Date,elapsedMs:performance.now()};et.add(n),wt(n)}function rt(t){return function(e,n={}){return nt(t,function(t,e){var n,r;if(!(t instanceof f))return t.toString();const i=t.code+": "+t.message;return t.path?i+": "+Y("string"==typeof e.fs?e.fs:null!==(r=null===(n=e.fs)||void 0===n?void 0:n._mountPoint)&&void 0!==r?r:"<unknown>",t.path):i}(e,n)),e}}rt(Q.EMERG);const it=rt(Q.ALERT),ot=rt(Q.CRIT),st=rt(Q.ERR),at=rt(Q.WARN),lt=rt(Q.NOTICE),ct=rt(Q.INFO),ut=rt(Q.DEBUG);function ft(t){nt(Q.WARN,t+" is deprecated and should not be used.")}function ht(t,e){return`[${e}m${t}[0m`}function dt(t,e){const n="["+(t.elapsedMs/1e3).toFixed(3).padStart(10)+"] ";switch(e){case"ansi":return ht(n,"2;37");case"css":return["%c"+n,"opacity: 0.8; color: white;"];default:return n}}const pt={[Q.EMERG]:"1;4;37;41",[Q.ALERT]:"1;37;41",[Q.CRIT]:"1;35",[Q.ERR]:"1;31",[Q.WARN]:"1;33",[Q.NOTICE]:"1;36",[Q.INFO]:"1;37",[Q.DEBUG]:"0;2;37"},mt={[Q.EMERG]:"1;31",[Q.ALERT]:"1;31",[Q.CRIT]:"1;31",[Q.ERR]:"31",[Q.WARN]:"33",[Q.NOTICE]:"1;37",[Q.INFO]:"37",[Q.DEBUG]:"2;37"},gt={[Q.EMERG]:"font-weight: bold; text-decoration: underline; color: white; background-color: red;",[Q.ALERT]:"font-weight: bold; color: white; background-color: red;",[Q.CRIT]:"font-weight: bold; color: magenta;",[Q.ERR]:"font-weight: bold; color: red;",[Q.WARN]:"font-weight: bold; color: yellow;",[Q.NOTICE]:"font-weight: bold; color: cyan;",[Q.INFO]:"font-weight: bold; color: white;",[Q.DEBUG]:"opacity: 0.8; color: white;"},yt={[Q.EMERG]:"font-weight: bold; color: red;",[Q.ALERT]:"font-weight: bold; color: red;",[Q.CRIT]:"font-weight: bold; color: red;",[Q.ERR]:"color: red;",[Q.WARN]:"color: yellow;",[Q.NOTICE]:"font-weight: bold; color: white;",[Q.INFO]:"color: white;",[Q.DEBUG]:"opacity: 0.8; color: white;"};let vt={ansi_level(t){const e=ht(tt[t.level].toUpperCase(),pt[t.level]);return[dt(t,"ansi"),e,t.message]},ansi_message(t){let e=dt(t,"ansi");return t.level<Q.CRIT&&(e+=ht(tt[t.level].toUpperCase(),pt[t.level])+": "),e+=ht(t.message,mt[t.level]),e},css_level(t){const e=tt[t.level].toUpperCase();return[...dt(t,"css"),"%c"+e,gt[t.level],t.message]},css_message(t){const e=dt(t,"css");if(t.level<Q.CRIT){const n=tt[t.level].toUpperCase();e.push("%c"+n,gt[t.level])}return e.push("%c"+t.message,yt[t.level]),e},default:t=>[dt(t),t.message]}.default,bt=console.error;function wt(t){t.level>St||bt(...function(t){const e=vt(t);return Array.isArray(e)?e:[e]}(t))}let St=Q.ALERT,Et=!0;function _t(t){return null!=t&&"object"==typeof t&&"create"in t&&"function"==typeof t.create}function kt(t){return null!=t&&"object"==typeof t&&"backend"in t&&_t(t.backend)}const xt={uid:0,gid:0,suid:0,sgid:0,euid:0,egid:0,groups:[]};function Tt(t){return{suid:t.uid,sgid:t.gid,euid:t.uid,egid:t.gid,groups:[],...t}}const Ct=0,Ot=4,Lt=2,At=1,Mt=1,It=2,Nt=4,Rt=0,Dt=1,Bt=2,Pt=64,jt=128,Wt=256,Ut=512,Ft=1024,zt=65536,Ht=262144,$t=131072,qt=1052672,Vt=4096,Gt=32768,Yt=16384,Kt=2048,Xt=61440,Jt=49152,Zt=40960,Qt=32768,te=24576,ee=16384,ne=8192,re=4096,ie=2048,oe=1024,se=512,ae=448,le=256,ce=128,ue=64,fe=56,he=32,de=16,pe=8,me=7,ge=4,ye=2,ve=1,be=0,we=4294967295;var Se=function(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var g=(0,n[d])("accessor"===l?{get:f.get,set:f.set}:f[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(f.get=a),(a=s(g.set))&&(f.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):f[c]=a)}u&&Object.defineProperty(u,r.name,f),h=!0},Ee=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};const _e=["ino","data","size","mode","flags","nlink","uid","gid","atimeMs","birthtimeMs","mtimeMs","ctimeMs"];let ke=(()=>{var t,e,n,r,i,o,s,a,l,c,u,f,h,d,p;let m,g,b,w,S,E,_,k,x,T,C,O,L,A,M,I,N,R=[W()],D=[],B=[],P=[],j=[],U=[],F=[],z=[],q=[],V=[],G=[],Y=[],K=[],X=[],J=[],Z=[],Q=[],tt=[],et=[],nt=[],rt=[],it=[],st=[],at=[],lt=[],ct=[],ft=[],ht=[],dt=[],pt=[],mt=[],gt=[];return g=class{constructor(t){if(this.data=Ee(this,B,v(0,we)),this.__data_old=(Ee(this,P),Ee(this,j,0)),this.size=(Ee(this,U),Ee(this,F,0)),this.mode=(Ee(this,z),Ee(this,q,0)),this.nlink=(Ee(this,V),Ee(this,G,1)),this.uid=(Ee(this,Y),Ee(this,K,0)),this.gid=(Ee(this,X),Ee(this,J,0)),this.atimeMs=(Ee(this,Z),Ee(this,Q,Date.now())),this.birthtimeMs=(Ee(this,tt),Ee(this,et,Date.now())),this.mtimeMs=(Ee(this,nt),Ee(this,rt,Date.now())),this.ctimeMs=(Ee(this,it),Ee(this,st,Date.now())),this.ino=(Ee(this,at),Ee(this,lt,v(0,we))),this.__ino_old=(Ee(this,ct),Ee(this,ft,0)),this.flags=(Ee(this,ht),Ee(this,dt,0)),this.__padding=(Ee(this,pt),Ee(this,mt,0)),Ee(this,gt),t)if("byteLength"in t){if(t.byteLength<58)throw ot(new RangeError("Can not create an inode from a buffer less than 58 bytes"));if(t.byteLength<xe){const e=ArrayBuffer.isView(t)?t.buffer:t,n=new Uint8Array(xe);n.set(new Uint8Array(e)),ut("Extending undersized buffer for inode"),t=n}H(this,t)}else Object.assign(this,t)}toString(){return`<Inode ${this.ino}>`}toJSON(){return y(this,_e)}toStats(){return new Le(this)}update(t){if(!t)return!1;let e=!1;for(const n of _e)void 0!==t[n]&&"ino"!=n&&"data"!=n&&this[n]!==t[n]&&(this[n]=t[n],e=!0);return e}},yt=g,"symbol"==typeof(vt="Inode")&&(vt=vt.description?"[".concat(vt.description,"]"):""),Object.defineProperty(yt,"name",{configurable:!0,value:bt?"".concat(bt," ",vt):vt}),(()=>{const y="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;b=[(t=$).uint32.bind(t)],w=[(e=$).uint32.bind(e)],S=[(n=$).uint32.bind(n)],E=[(r=$).uint16.bind(r)],_=[(i=$).uint32.bind(i)],k=[(o=$).uint32.bind(o)],x=[(s=$).uint32.bind(s)],T=[(a=$).float64.bind(a)],C=[(l=$).float64.bind(l)],O=[(c=$).float64.bind(c)],L=[(u=$).float64.bind(u)],A=[(f=$).uint32.bind(f)],M=[(h=$).uint32.bind(h)],I=[(d=$).uint32.bind(d)],N=[(p=$).uint16.bind(p)],Se(null,null,b,{kind:"field",name:"data",static:!1,private:!1,access:{has:t=>"data"in t,get:t=>t.data,set:(t,e)=>{t.data=e}},metadata:y},B,P),Se(null,null,w,{kind:"field",name:"__data_old",static:!1,private:!1,access:{has:t=>"__data_old"in t,get:t=>t.__data_old,set:(t,e)=>{t.__data_old=e}},metadata:y},j,U),Se(null,null,S,{kind:"field",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:y},F,z),Se(null,null,E,{kind:"field",name:"mode",static:!1,private:!1,access:{has:t=>"mode"in t,get:t=>t.mode,set:(t,e)=>{t.mode=e}},metadata:y},q,V),Se(null,null,_,{kind:"field",name:"nlink",static:!1,private:!1,access:{has:t=>"nlink"in t,get:t=>t.nlink,set:(t,e)=>{t.nlink=e}},metadata:y},G,Y),Se(null,null,k,{kind:"field",name:"uid",static:!1,private:!1,access:{has:t=>"uid"in t,get:t=>t.uid,set:(t,e)=>{t.uid=e}},metadata:y},K,X),Se(null,null,x,{kind:"field",name:"gid",static:!1,private:!1,access:{has:t=>"gid"in t,get:t=>t.gid,set:(t,e)=>{t.gid=e}},metadata:y},J,Z),Se(null,null,T,{kind:"field",name:"atimeMs",static:!1,private:!1,access:{has:t=>"atimeMs"in t,get:t=>t.atimeMs,set:(t,e)=>{t.atimeMs=e}},metadata:y},Q,tt),Se(null,null,C,{kind:"field",name:"birthtimeMs",static:!1,private:!1,access:{has:t=>"birthtimeMs"in t,get:t=>t.birthtimeMs,set:(t,e)=>{t.birthtimeMs=e}},metadata:y},et,nt),Se(null,null,O,{kind:"field",name:"mtimeMs",static:!1,private:!1,access:{has:t=>"mtimeMs"in t,get:t=>t.mtimeMs,set:(t,e)=>{t.mtimeMs=e}},metadata:y},rt,it),Se(null,null,L,{kind:"field",name:"ctimeMs",static:!1,private:!1,access:{has:t=>"ctimeMs"in t,get:t=>t.ctimeMs,set:(t,e)=>{t.ctimeMs=e}},metadata:y},st,at),Se(null,null,A,{kind:"field",name:"ino",static:!1,private:!1,access:{has:t=>"ino"in t,get:t=>t.ino,set:(t,e)=>{t.ino=e}},metadata:y},lt,ct),Se(null,null,M,{kind:"field",name:"__ino_old",static:!1,private:!1,access:{has:t=>"__ino_old"in t,get:t=>t.__ino_old,set:(t,e)=>{t.__ino_old=e}},metadata:y},ft,ht),Se(null,null,I,{kind:"field",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:y},dt,pt),Se(null,null,N,{kind:"field",name:"__padding",static:!1,private:!1,access:{has:t=>"__padding"in t,get:t=>t.__padding,set:(t,e)=>{t.__padding=e}},metadata:y},mt,gt),Se(null,m={value:g},R,{kind:"class",name:g.name,metadata:y},null,D),g=m.value,y&&Object.defineProperty(g,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:y}),Ee(g,D)})(),g;var yt,vt,bt})();const xe=j(ke),Te=BigInt(1e3);class Ce{_convert(t){return this._isBigint?BigInt(t):Number(t)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}set blocks(t){}get atime(){return new Date(Number(this.atimeMs))}set atime(t){this.atimeMs=this._convert(t.getTime())}get mtime(){return new Date(Number(this.mtimeMs))}set mtime(t){this.mtimeMs=this._convert(t.getTime())}get ctime(){return new Date(Number(this.ctimeMs))}set ctime(t){this.ctimeMs=this._convert(t.getTime())}get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(t){this.birthtimeMs=this._convert(t.getTime())}constructor({atimeMs:t,mtimeMs:e,ctimeMs:n,birthtimeMs:r,uid:i,gid:o,size:s,mode:a,ino:l,...c}={}){this.dev=this._convert(0),this.ino=this._convert(0),this.rdev=this._convert(0),this.nlink=this._convert(1),this.blksize=this._convert(4096),this.uid=this._convert(0),this.gid=this._convert(0);const u=Date.now();this.atimeMs=this._convert(null!=t?t:u),this.mtimeMs=this._convert(null!=e?e:u),this.ctimeMs=this._convert(null!=n?n:u),this.birthtimeMs=this._convert(null!=r?r:u),this.uid=this._convert(null!=i?i:0),this.gid=this._convert(null!=o?o:0),this.size=this._convert(null!=s?s:0),this.ino=this._convert(null!=l?l:0),this.mode=this._convert(null!=a?a:420&Qt),0==(this.mode&Xt)&&(this.mode=this.mode|this._convert(Qt)),Object.assign(this,c)}isFile(){return(this.mode&Xt)===Qt}isDirectory(){return(this.mode&Xt)===ee}isSymbolicLink(){return(this.mode&Xt)===Zt}isSocket(){return(this.mode&Xt)===Jt}isBlockDevice(){return(this.mode&Xt)===te}isCharacterDevice(){return(this.mode&Xt)===ne}isFIFO(){return(this.mode&Xt)===re}toJSON(){return y(this,_e)}hasAccess(t,e){const n=(null==e?void 0:e.credentials)||xt;if(this.isSymbolicLink()||0===n.euid||0===n.egid)return!0;let r=0;return n.uid===this.uid&&(this.mode&le&&(r|=Ot),this.mode&ce&&(r|=Lt),this.mode&ue&&(r|=At)),(n.gid===this.gid||n.groups.includes(Number(this.gid)))&&(this.mode&he&&(r|=Ot),this.mode&de&&(r|=Lt),this.mode&pe&&(r|=At)),this.mode&ge&&(r|=Ot),this.mode&ye&&(r|=Lt),this.mode&ve&&(r|=At),(r&t)===t}chmod(t){ft("StatsCommon#chmod"),this.mode=this._convert(this.mode&Xt|t)}chown(t,e){ft("StatsCommon#chown"),t=Number(t),e=Number(e),!isNaN(t)&&0<=t&&t<2**32&&(this.uid=this._convert(t)),!isNaN(e)&&0<=e&&e<2**32&&(this.gid=this._convert(e))}get atimeNs(){return BigInt(this.atimeMs)*Te}get mtimeNs(){return BigInt(this.mtimeMs)*Te}get ctimeNs(){return BigInt(this.ctimeMs)*Te}get birthtimeNs(){return BigInt(this.birthtimeMs)*Te}}function Oe(t,e,n){!isNaN(e)&&0<=e&&e<we&&(t.uid=e),!isNaN(n)&&0<=n&&n<2**32&&(t.gid=n)}class Le extends Ce{constructor(){super(...arguments),this._isBigint=!1}}class Ae extends Ce{constructor(){super(...arguments),this._isBigint=!0}}class Me{constructor(){this.type=525687744115,this.bsize=4096,this.blocks=0,this.bfree=0,this.bavail=0,this.files=we,this.ffree=we}}class Ie{constructor(){this.type=BigInt("0x7a656e6673"),this.bsize=BigInt(4096),this.blocks=BigInt(0),this.bfree=BigInt(0),this.bavail=BigInt(0),this.files=BigInt(we),this.ffree=BigInt(we)}}const Ne={checkAccess:!0,updateOnRead:!0,syncImmediately:!0,unsafeBufferReplace:!1};var Re,De,Be;null!==(Re=Promise.withResolvers)&&void 0!==Re||(Promise.withResolvers=(at("Using a polyfill of Promise.withResolvers"),function(){let t,e;const n=new Promise(((n,r)=>{t=n,e=r}));return{promise:n,resolve:t,reject:e}})),null!==(De=Symbol.dispose)&&void 0!==De||(Symbol.dispose=(at("Using a polyfill of Symbol.dispose"),Symbol("Symbol.dispose"))),null!==(Be=Symbol.asyncDispose)&&void 0!==Be||(Symbol.asyncDispose=(at("Using a polyfill of Symbol.asyncDispose"),Symbol("Symbol.asyncDispose")));const Pe=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];function je(t){if("number"==typeof t)return function(t){switch(t){case Rt:return"r";case Rt|qt:return"rs";case Bt:return"r+";case Bt|qt:return"rs+";case Ut|Pt|Dt:return"w";case Ut|Pt|Dt|jt:return"wx";case Ut|Pt|Bt:return"w+";case Ut|Pt|Bt|jt:return"wx+";case Ft|Pt|Dt:return"a";case Ft|Pt|Dt|jt:return"ax";case Ft|Pt|Bt:return"a+";case Ft|Pt|Bt|jt:return"ax+";default:throw new Error("Invalid flag number: "+t)}}(t);if(!Pe.includes(t))throw new Error("Invalid flag string: "+t);return t}function We(t){let e=0;return e<<=1,e+=+Ue(t),e<<=1,e+=+Fe(t),e<<=1,e}function Ue(t){return-1!==t.indexOf("r")||-1!==t.indexOf("+")}function Fe(t){return-1!==t.indexOf("w")||-1!==t.indexOf("a")||-1!==t.indexOf("+")}function ze(t){return-1!==t.indexOf("w")}function He(t){return-1!==t.indexOf("a")}function $e(t){return-1!==t.indexOf("x")}class qe{constructor(t,e){this.fs=t,this.path=e}async[Symbol.asyncDispose](){await this.close()}[Symbol.dispose](){this.closeSync()}datasync(){return this.sync()}datasyncSync(){return this.syncSync()}streamRead(t){return this.fs.streamRead(this.path,t)}streamWrite(t){return this.fs.streamWrite(this.path,t)}}class Ve extends qe{get position(){return He(this.flag)?this.stats.size:this._position}set position(t){this._position=t}constructor(t,e,n,r){super(t,e),this.flag=n,this.stats=r,this._position=0,this.dirty=!1,this.closed=!1}async sync(){if(this.closed)throw f.With("EBADF",this.path,"sync");this.dirty&&(this.fs.attributes.has("no_write")||await this.fs.sync(this.path,void 0,this.stats),this.dirty=!1)}syncSync(){if(this.closed)throw f.With("EBADF",this.path,"sync");this.dirty&&(this.fs.attributes.has("no_write")||this.fs.syncSync(this.path,void 0,this.stats),this.dirty=!1)}async close(){if(this.closed)throw f.With("EBADF",this.path,"close");await this.sync(),this.dispose()}closeSync(){if(this.closed)throw f.With("EBADF",this.path,"close");this.syncSync(),this.dispose()}dispose(t){if(this.closed)throw f.With("EBADF",this.path,"dispose");if(this.dirty&&!t)throw f.With("EBUSY",this.path,"dispose");this.closed=!0}stat(){if(this.closed)throw f.With("EBADF",this.path,"stat");return Promise.resolve(new Le(this.stats))}statSync(){if(this.closed)throw f.With("EBADF",this.path,"stat");return new Le(this.stats)}async truncate(t){if(this.closed)throw f.With("EBADF",this.path,"truncate");if(this.dirty=!0,!Fe(this.flag))throw new f(i.EPERM,"File not opened with a writeable mode");this.stats.mtimeMs=Date.now(),this.stats.size=t,Ne.syncImmediately&&await this.sync()}truncateSync(t){if(this.closed)throw f.With("EBADF",this.path,"truncate");if(this.dirty=!0,!Fe(this.flag))throw new f(i.EPERM,"File not opened with a writeable mode");this.stats.mtimeMs=Date.now(),this.stats.size=t,Ne.syncImmediately&&this.syncSync()}prepareWrite(t,e,n,r){if(this.closed)throw f.With("EBADF",this.path,"write");if(!Fe(this.flag))throw new f(i.EPERM,"File not opened with a writeable mode");this.dirty=!0;const o=r+n,s=t.subarray(e,e+n);return o>this.stats.size&&(this.stats.size=o),this.stats.mtimeMs=Date.now(),this._position=r+s.byteLength,s}async write(t,e=0,n=t.byteLength-e,r=this.position){const i=this.prepareWrite(t,e,n,r);return await this.fs.write(this.path,i,r),Ne.syncImmediately&&await this.sync(),i.byteLength}writeSync(t,e=0,n=t.byteLength-e,r=this.position){const i=this.prepareWrite(t,e,n,r);return this.fs.writeSync(this.path,i,r),Ne.syncImmediately&&this.syncSync(),i.byteLength}prepareRead(t,e){if(this.closed)throw f.With("EBADF",this.path,"read");if(!Ue(this.flag))throw new f(i.EPERM,"File not opened with a readable mode");Ne.updateOnRead&&(this.dirty=!0),this.stats.atimeMs=Date.now();let n=e+t;return n>this.stats.size&&(n=e+Math.max(this.stats.size-e,0)),this._position=n,n}async read(t,e=0,n=t.byteLength-e,r=this.position){const i=this.prepareRead(n,r),o=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return await this.fs.read(this.path,o.subarray(e,e+n),r,i),Ne.syncImmediately&&await this.sync(),{bytesRead:i-r,buffer:t}}readSync(t,e=0,n=t.byteLength-e,r=this.position){const i=this.prepareRead(n,r),o=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return this.fs.readSync(this.path,o.subarray(e,e+n),r,i),Ne.syncImmediately&&this.syncSync(),i-r}async chmod(t){if(this.closed)throw f.With("EBADF",this.path,"chmod");this.dirty=!0,this.stats.mode=this.stats.mode&(t>Xt?~Xt:Xt)|t,(Ne.syncImmediately||t>Xt)&&await this.sync()}chmodSync(t){if(this.closed)throw f.With("EBADF",this.path,"chmod");this.dirty=!0,this.stats.mode=this.stats.mode&(t>Xt?~Xt:Xt)|t,(Ne.syncImmediately||t>Xt)&&this.syncSync()}async chown(t,e){if(this.closed)throw f.With("EBADF",this.path,"chown");this.dirty=!0,Oe(this.stats,t,e),Ne.syncImmediately&&await this.sync()}chownSync(t,e){if(this.closed)throw f.With("EBADF",this.path,"chown");this.dirty=!0,Oe(this.stats,t,e),Ne.syncImmediately&&this.syncSync()}async utimes(t,e){if(this.closed)throw f.With("EBADF",this.path,"utimes");this.dirty=!0,this.stats.atimeMs=t,this.stats.mtimeMs=e,Ne.syncImmediately&&await this.sync()}utimesSync(t,e){if(this.closed)throw f.With("EBADF",this.path,"utimes");this.dirty=!0,this.stats.atimeMs=t,this.stats.mtimeMs=e,Ne.syncImmediately&&this.syncSync()}}const Ge=4096;class Ye{constructor(t,e){this.id=t,this.name=e,this.attributes=new Map,this.streamRead===Ye.prototype.streamRead&&this.attributes.set("default_stream_read"),this.streamWrite===Ye.prototype.streamWrite&&this.attributes.set("default_stream_write")}toString(){var t;return`${this.name} ${null!==(t=this.label)&&void 0!==t?t:""} (${this._mountPoint?"mounted on "+this._mountPoint:"unmounted"})`}usage(){return{totalSpace:0,freeSpace:0}}metadata(){return{...this.usage(),name:this.name,readonly:this.attributes.has("no_write"),noResizableBuffers:this.attributes.has("no_buffer_resize"),noAsyncCache:this.attributes.has("no_async"),features:Array.from(this.attributes.keys()),type:this.id}}async ready(){}async exists(t){try{return await this.stat(t),!0}catch(t){return"ENOENT"!=t.code}}existsSync(t){try{return this.statSync(t),!0}catch(t){return"ENOENT"!=t.code}}streamRead(t,e){return new ReadableStream({start:async n=>{const{size:r}=await this.stat(t),{start:i=0,end:o=r}=e;for(let e=i;e<o;e+=Ge){const r=e+Ge>o?o-e:Ge,i=new Uint8Array(r);await this.read(t,i,e,e+r).catch(n.error.bind(n)),n.enqueue(i)}n.close()},type:"bytes"})}streamWrite(t,e){var n;let r=null!==(n=e.start)&&void 0!==n?n:0;return new WritableStream({write:async(e,n)=>{await this.write(t,e,r).catch(n.error.bind(n)),r+=e.byteLength}})}}class Ke extends Map{constructor(){super(...arguments),this.maxSize=we}toJSON(){return{version:1,maxSize:this.maxSize,entries:Object.fromEntries([...this].map((([t,e])=>[t,e.toJSON()])))}}toString(){return JSON.stringify(this.toJSON())}get byteSize(){let t=this.size*xe;for(const e of this.values())t+=e.size;return t}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.byteSize}}pathOf(t){for(const[e,n]of this)if(n.ino==t||n.data==t)return e}getByID(t){var e;return null===(e=this.entryByID(t))||void 0===e?void 0:e.inode}entryByID(t){for(const[e,n]of this)if(n.ino==t||n.data==t)return{path:e,inode:n}}directoryEntries(t){const e=this.get(t);if(!e)throw f.With("ENOENT",t);if((e.mode&Xt)!=ee)throw f.With("ENOTDIR",t);const n={};for(const e of this.keys())X(e)==t&&e!=t&&(n[J(e)]=this.get(e).ino);return n}_alloc(){return Math.max(...[...this.values()].flatMap((t=>[t.ino,t.data])))+1}directories(){const t=new Map;for(const[e,n]of this){if((n.mode&Xt)!=ee)continue;const r={};for(const t of this.keys())X(t)==e&&t!=e&&(r[J(t)]=this.get(t).ino);t.set(e,r)}return t}fromJSON(t){var e;if(1!=t.version)throw new f(i.EINVAL,"Index version mismatch");this.clear();for(const[n,r]of Object.entries(t.entries))null!==(e=r.data)&&void 0!==e||(r.data=v(1,we)),"/"==n&&(r.ino=0),this.set(n,new ke(r));return this}static parse(t){if(!function(t){try{return JSON.parse(t),!0}catch{return!1}}(t))throw new f(i.EINVAL,"Invalid JSON");const e=JSON.parse(t),n=new Ke;return n.fromJSON(e),n}}function Xe(t){if(!(t instanceof Uint8Array))throw new f(i.EINVAL,"Can not decode a non-Uint8Array");return Array.from(t).map((t=>String.fromCharCode(t))).join("")}const Je=new TextEncoder;function Ze(t){if("string"!=typeof t)throw new f(i.EINVAL,"Can not encode a non-string");return Je.encode(t)}const Qe=new TextDecoder;function tn(t){if(!(t instanceof Uint8Array))throw new f(i.EINVAL,"Can not decode a non-Uint8Array");return Qe.decode(t)}function en(t){return JSON.parse(tn(t),((t,e)=>""==t?e:"string"==typeof e?BigInt(e).toString(16).slice(0,Math.min(e.length,8)):e))}function nn(t){return Ze(JSON.stringify(t))}function rn(t,e){if("number"==typeof t)return t;if("string"==typeof t){const e=parseInt(t,8);if(!isNaN(e))return e}if("number"==typeof e)return e;throw new f(i.EINVAL,"Invalid mode: "+(null==t?void 0:t.toString()))}function on(t){if(t instanceof Date)return t.getTime();try{return Number(t)}catch{throw new f(i.EINVAL,"Invalid time.")}}function sn(t,e=!1){if(t instanceof URL){if("file:"!=t.protocol)throw new f(i.EINVAL,"URLs must use the file: protocol");t=t.pathname}if((t=t.toString()).startsWith("file://")&&(t=t.slice(7)),t.includes("\0"))throw new f(i.EINVAL,"Path can not contain null character");if(0==t.length)throw new f(i.EINVAL,"Path can not be empty");return t=t.replaceAll(/[/\\]+/g,"/"),e?t:G(t)}function an(t,e="utf8",n,r=0){return"object"!=typeof t||null===t?{encoding:"string"==typeof t?t:null!=e?e:null,flag:n,mode:r}:{encoding:"string"==typeof(null==t?void 0:t.encoding)?t.encoding:null!=e?e:null,flag:"string"==typeof(null==t?void 0:t.flag)?t.flag:n,mode:rn("mode"in t?null==t?void 0:t.mode:null,r)}}class ln{id;_size;options;regions=[];get size(){return this._size}set size(t){if(t>=this._size)this._size=t;else{this._size=t;for(let e=this.regions.length-1;e>=0;e--){const n=this.regions[e];if(n.offset>=t){this.regions.splice(e,1);continue}const r=t-n.offset;n.data.byteLength>r&&(n.data=n.data.subarray(0,r)),n.ranges=n.ranges.filter((e=>e.start<t)).map((e=>e.end>t?{start:e.start,end:t}:e))}}}constructor(t,e,n,r){this.id=t,this._size=e,this.options=n,n.sparse??=!0,n.sparse||this.regions.push({offset:0,data:new Uint8Array(e),ranges:[]}),r?.set(t,this)}collect(){if(!this.options.sparse)return;const{regionGapThreshold:t=4095}=this.options;for(let e=0;e<this.regions.length-1;){const n=this.regions[e],r=this.regions[e+1];r.offset-(n.offset+n.data.byteLength)>t?e++:(n.ranges.push(...r.ranges),n.ranges.sort(((t,e)=>t.start-e.start)),n.ranges=n.ranges.reduce(((t,e)=>(!t.length||t.at(-1).end<e.start?t.push(e):t.at(-1).end=Math.max(t.at(-1).end,e.end),t)),[]),n.data=w(n.data,r.offset+r.data.byteLength),n.data.set(r.data,r.offset-n.offset),this.regions.splice(e+1,1))}}missing(t,e){const n=[];for(const r of this.regions){if(r.offset>=e)break;for(const i of r.ranges)if(!(i.end<=t)){if(i.start>=e)break;if(i.start>t&&n.push({start:t,end:Math.min(i.start,e)}),i.end>t&&(t=Math.max(t,i.end)),t>=e)break}if(t>=e)break}return t<e&&n.push({start:t,end:e}),n}cached(t,e){const n=[];for(const r of this.regions){if(r.offset>=e)break;for(const i of r.ranges)if(!(i.end<=t)){if(i.start>=e)break;n.push({start:Math.max(t,i.start),end:Math.min(e,i.end)})}}n.sort(((t,e)=>t.start-e.start));const r=[];for(const t of n){const e=r.at(-1);e&&t.start<=e.end?e.end=Math.max(e.end,t.end):r.push(t)}return r}regionAt(t){if(this.regions.length)for(const e of this.regions){if(e.offset>t)break;if(t>=e.offset&&t<e.offset+e.data.byteLength)return e}}add(t,e){const n=e+t.byteLength,r=this.regionAt(e);if(r)return r.data=w(r.data,n),r.data.set(t,e),r.ranges.push({start:e,end:n}),r.ranges.sort(((t,e)=>t.start-e.start)),this.collect(),this;const i={data:t,offset:e,ranges:[{start:e,end:n}]},o=this.regions.findIndex((t=>t.offset>e));return-1==o?this.regions.push(i):this.regions.splice(o,0,i),this.collect(),this}}class cn{constructor(t){this.store=t}}class un extends cn{async get(t,e,n){return this.getSync(t,e,n)}async set(t,e,n){return this.setSync(t,e,n)}async remove(t){return this.removeSync(t)}}class fn extends cn{constructor(){super(...arguments),this.asyncDone=Promise.resolve()}async(t){this.asyncDone=this.asyncDone.then((()=>t))}_cached(t,e){var n,r;null!==(n=(r=this.store).cache)&&void 0!==n||(r.cache=new Map);const i=this.store.cache.get(t);return i?(e&&(i.size=e.size),i):e?new ln(t,e.size,{},this.store.cache):void 0}getSync(t,e,n){var r;const i=this._cached(t);if(!i)return;null!=n||(n=i.size);const o=i.missing(e,n);for(const{start:e,end:n}of o)this.async(this.get(t,e,n));if(o.length)throw st(f.With("EAGAIN",null===(r=this.store._fs)||void 0===r?void 0:r._path(t)));const s=i.regionAt(e);if(s)return s.data.subarray(e-s.offset,n-s.offset);at("Missing cache region for "+t)}setSync(t,e,n){this.async(this.set(t,e,n))}removeSync(t){var e;this.async(this.remove(t)),null===(e=this.store.cache)||void 0===e||e.delete(t)}}class hn{flag(t){var e,n;return null!==(n=null===(e=this.raw.store.flags)||void 0===e?void 0:e.includes(t))&&void 0!==n&&n}constructor(t,e){this.raw=t,this.fs=e,this.done=!1,this.originalData=new Map,this.modifiedKeys=new Set}keys(){return this.raw.keys()}async get(t,e=0,n){const r=await this.raw.get(t,e,n);return this.stash(t),r}getSync(t,e=0,n){const r=this.raw.getSync(t,e,n);return this.stash(t),r}async set(t,e,n=0){await this.markModified(t,n,e.byteLength),await this.raw.set(t,e,n)}setSync(t,e,n=0){this.markModifiedSync(t,n,e.byteLength),this.raw.setSync(t,e,n)}async remove(t){await this.markModified(t,0,void 0),await this.raw.remove(t)}removeSync(t){this.markModifiedSync(t,0,void 0),this.raw.removeSync(t)}commit(){return this.done=!0,Promise.resolve()}commitSync(){this.done=!0}async abort(){if(!this.done){for(const[t,e]of this.originalData)if(this.modifiedKeys.has(t))if(e.some((t=>!t.data)))await this.raw.remove(t),this.fs._remove(t);else for(const n of e.reverse())await this.raw.set(t,n.data,n.offset);this.done=!0}}abortSync(){if(!this.done){for(const[t,e]of this.originalData)if(this.modifiedKeys.has(t))if(e.some((t=>!t.data)))this.raw.removeSync(t),this.fs._remove(t);else for(const n of e.reverse())this.raw.setSync(t,n.data,n.offset);this.done=!0}}async[Symbol.asyncDispose](){this.done||await this.abort()}[Symbol.dispose](){this.done||this.abortSync()}stash(t,e,n=0){this.originalData.has(t)||this.originalData.set(t,[]),this.originalData.get(t).push({data:e,offset:n})}async markModified(t,e,n){this.modifiedKeys.add(t);const r=n?e+n:void 0;try{this.stash(t,await this.raw.get(t,e,r),e)}catch(n){if(!(this.raw instanceof fn))throw n;const i=this.raw._cached(t);if(!i)throw n;for(const n of i.cached(e,null!=r?r:e))this.stash(t,await this.raw.get(t,n.start,n.end),n.start)}}markModifiedSync(t,e,n){this.modifiedKeys.add(t);const r=n?e+n:void 0;try{this.stash(t,this.raw.getSync(t,e,r),e)}catch(n){if(!(this.raw instanceof fn))throw n;const i=this.raw._cached(t);if(!i)throw n;for(const n of i.cached(e,null!=r?r:e))this.stash(t,this.raw.getSync(t,n.start,n.end),n.start)}}}var dn=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e},pn=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;return function t(){for(;r=e.stack.pop();)try{if(!r.async&&1===i)return i=0,e.stack.push(r),Promise.resolve().then(t);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(t,(function(e){return n(e),t()}))}else i|=1}catch(t){n(t)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});class mn extends Ye{_path(t){var e;const[n]=null!==(e=this._paths.get(t))&&void 0!==e?e:[];return n}_add(t,e){this._paths.has(t)||this._paths.set(t,new Set),this._paths.get(t).add(e),this._ids.set(e,t)}_remove(t){var e;for(const n of null!==(e=this._paths.get(t))&&void 0!==e?e:[])this._ids.delete(n);this._paths.delete(t)}_move(t,e){const n=[];for(const[r,i]of this._ids){const o=K(t,r);if(o.startsWith(".."))continue;let s=Y(e,o);s.endsWith("/")&&(s=s.slice(0,-1)),n.push({oldKey:r,newKey:s,ino:i})}for(const{oldKey:t,newKey:e,ino:r}of n){this._ids.delete(t),this._ids.set(e,r);const n=this._paths.get(r);n?(n.delete(t),n.add(e)):at("Missing paths in table for ino "+r)}}async ready(){this._initialized||(this.checkRootSync(),await this.checkRoot(),await this._populate(),this._initialized=!0)}constructor(t){var e,n;super(null!==(e=t.id)&&void 0!==e?e:1802921587,t.name),this.store=t,this._ids=new Map([["/",0]]),this._paths=new Map([[0,new Set("/")]]),this._initialized=!1,this.attributes.set("setid"),t._fs=this,ut(this.name+": supports features: "+(null===(n=this.store.flags)||void 0===n?void 0:n.join(", ")))}usage(){var t,e;return(null===(e=(t=this.store).usage)||void 0===e?void 0:e.call(t))||{totalSpace:0,freeSpace:0}}async empty(){ft("StoreFS#empty"),await this.checkRoot()}emptySync(){ft("StoreFS#emptySync"),this.checkRootSync()}async loadIndex(t){const e={stack:[],error:void 0,hasError:!1};try{const n=dn(e,this.transaction(),!0),r=t.directories();for(const[e,i]of t)this._add(i.ino,e),await n.set(i.ino,z(i)),r.has(e)&&await n.set(i.data,nn(r.get(e)));await n.commit()}catch(t){e.error=t,e.hasError=!0}finally{const t=pn(e);t&&await t}}loadIndexSync(t){const e={stack:[],error:void 0,hasError:!1};try{const n=dn(e,this.transaction(),!1),r=t.directories();for(const[e,i]of t)this._add(i.ino,e),n.setSync(i.ino,z(i)),r.has(e)&&n.setSync(i.data,nn(r.get(e)));n.commitSync()}catch(t){e.error=t,e.hasError=!0}finally{pn(e)}}async createIndex(){var t;const e={stack:[],error:void 0,hasError:!1};try{const n=new Ke,r=dn(e,this.transaction(),!0),i=[["/",0]],o=p(f.With("EDEADLK"));for(;i.length;){const[e,o]=i.shift(),s=new ke(await r.get(o));if(n.set(e,s),s.mode&ee){const n=en(null!==(t=await r.get(s.data))&&void 0!==t?t:m(f.With("ENODATA",e)));for(const[t,r]of Object.entries(n))i.push([Y(e,t),r])}}return o(),n}catch(t){e.error=t,e.hasError=!0}finally{const t=pn(e);t&&await t}}createIndexSync(){var t;const e={stack:[],error:void 0,hasError:!1};try{const n=new Ke,r=dn(e,this.transaction(),!1),i=[["/",0]],o=p(f.With("EDEADLK"));for(;i.length;){const[e,o]=i.shift(),s=new ke(r.getSync(o));if(n.set(e,s),s.mode&ee){const n=en(null!==(t=r.getSync(s.data))&&void 0!==t?t:m(f.With("ENODATA",e)));for(const[t,r]of Object.entries(n))i.push([Y(e,t),r])}}return o(),n}catch(t){e.error=t,e.hasError=!0}finally{pn(e)}}async rename(t,e){var n,r,o;const s={stack:[],error:void 0,hasError:!1};try{const a=dn(s,this.transaction(),!0),l=Z(t),c=Z(e),u=await this.findInode(a,l.dir,"rename"),h=en(null!==(n=await a.get(u.data))&&void 0!==n?n:m(f.With("ENODATA",l.dir,"rename")));if(!h[l.base])throw f.With("ENOENT",t,"rename");const d=h[l.base];if(d!=this._ids.get(t)&&st(`Ino mismatch while renaming ${t} to ${e}`),delete h[l.base],(c.dir+"/").startsWith(t+"/"))throw new f(i.EBUSY,l.dir);const p=c.dir==l.dir,g=p?u:await this.findInode(a,c.dir,"rename"),y=p?h:en(null!==(r=await a.get(g.data))&&void 0!==r?r:m(f.With("ENODATA",c.dir,"rename")));if(y[c.base]){const t=new ke(null!==(o=await a.get(y[c.base]))&&void 0!==o?o:m(f.With("ENOENT",e,"rename")));if(!t.toStats().isFile())throw f.With("EPERM",e,"rename");await a.remove(t.data),await a.remove(y[c.base])}y[c.base]=d,await a.set(u.data,nn(h)),await a.set(g.data,nn(y)),await a.commit(),this._move(t,e)}catch(t){s.error=t,s.hasError=!0}finally{const t=pn(s);t&&await t}}renameSync(t,e){var n,r,o;const s={stack:[],error:void 0,hasError:!1};try{const a=dn(s,this.transaction(),!1),l=Z(t),c=Z(e),u=this.findInodeSync(a,l.dir,"rename"),h=en(null!==(n=a.getSync(u.data))&&void 0!==n?n:m(f.With("ENODATA",l.dir,"rename")));if(!h[l.base])throw f.With("ENOENT",t,"rename");const d=h[l.base];if(d!=this._ids.get(t)&&st(`Ino mismatch while renaming ${t} to ${e}`),delete h[l.base],(c.dir+"/").startsWith(t+"/"))throw new f(i.EBUSY,l.dir);const p=c.dir===l.dir,g=p?u:this.findInodeSync(a,c.dir,"rename"),y=p?h:en(null!==(r=a.getSync(g.data))&&void 0!==r?r:m(f.With("ENODATA",c.dir,"rename")));if(y[c.base]){const t=new ke(null!==(o=a.getSync(y[c.base]))&&void 0!==o?o:m(f.With("ENOENT",e,"rename")));if(!t.toStats().isFile())throw f.With("EPERM",e,"rename");a.removeSync(t.data),a.removeSync(y[c.base])}y[c.base]=d,a.setSync(u.data,nn(h)),a.setSync(g.data,nn(y)),a.commitSync(),this._move(t,e)}catch(t){s.error=t,s.hasError=!0}finally{pn(s)}}async stat(t){const e={stack:[],error:void 0,hasError:!1};try{const n=dn(e,this.transaction(),!0);return(await this.findInode(n,t,"stat")).toStats()}catch(t){e.error=t,e.hasError=!0}finally{const t=pn(e);t&&await t}}statSync(t){const e={stack:[],error:void 0,hasError:!1};try{const n=dn(e,this.transaction(),!1);return this.findInodeSync(n,t,"stat").toStats()}catch(t){e.error=t,e.hasError=!0}finally{pn(e)}}async createFile(t,e,n,r){const i=await this.commitNew(t,{mode:n|Qt,...r},new Uint8Array,"createFile");return new Ve(this,t,e,i.toStats())}createFileSync(t,e,n,r){const i=this.commitNewSync(t,{mode:n|Qt,...r},new Uint8Array,"createFile");return new Ve(this,t,e,i.toStats())}async openFile(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=dn(n,this.transaction(),!0),i=await this.findInode(r,t,"openFile");return new Ve(this,t,e,i.toStats())}catch(t){n.error=t,n.hasError=!0}finally{const t=pn(n);t&&await t}}openFileSync(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=dn(n,this.transaction(),!1),i=this.findInodeSync(r,t,"openFile");return new Ve(this,t,e,i.toStats())}catch(t){n.error=t,n.hasError=!0}finally{pn(n)}}async unlink(t){return this.remove(t,!1)}unlinkSync(t){this.removeSync(t,!1)}async rmdir(t){if((await this.readdir(t)).length)throw f.With("ENOTEMPTY",t,"rmdir");await this.remove(t,!0)}rmdirSync(t){if(this.readdirSync(t).length)throw f.With("ENOTEMPTY",t,"rmdir");this.removeSync(t,!0)}async mkdir(t,e,n){await this.commitNew(t,{mode:e|ee,...n},Ze("{}"),"mkdir")}mkdirSync(t,e,n){this.commitNewSync(t,{mode:e|ee,...n},Ze("{}"),"mkdir")}async readdir(t){var e;const n={stack:[],error:void 0,hasError:!1};try{const r=dn(n,this.transaction(),!0),i=await this.findInode(r,t,"readdir");return Object.keys(en(null!==(e=await r.get(i.data))&&void 0!==e?e:m(f.With("ENOENT",t,"readdir"))))}catch(t){n.error=t,n.hasError=!0}finally{const t=pn(n);t&&await t}}readdirSync(t){var e;const n={stack:[],error:void 0,hasError:!1};try{const r=dn(n,this.transaction(),!1),i=this.findInodeSync(r,t,"readdir");return Object.keys(en(null!==(e=r.getSync(i.data))&&void 0!==e?e:m(f.With("ENOENT",t,"readdir"))))}catch(t){n.error=t,n.hasError=!0}finally{pn(n)}}async sync(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=dn(r,this.transaction(),!0),o=await this.findInode(i,t,"sync");e&&await i.set(o.data,e),o.update(n)&&(this._add(o.ino,t),await i.set(o.ino,z(o))),await i.commit()}catch(t){r.error=t,r.hasError=!0}finally{const t=pn(r);t&&await t}}syncSync(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=dn(r,this.transaction(),!1),o=this.findInodeSync(i,t,"sync");e&&i.setSync(o.data,e),o.update(n)&&(this._add(o.ino,t),i.setSync(o.ino,z(o))),i.commitSync()}catch(t){r.error=t,r.hasError=!0}finally{pn(r)}}async link(t,e){var n;const r={stack:[],error:void 0,hasError:!1};try{const i=dn(r,this.transaction(),!0),o=X(e),s=await this.findInode(i,o,"link"),a=en(null!==(n=await i.get(s.data))&&void 0!==n?n:m(f.With("ENOENT",o,"link"))),l=await this.findInode(i,t,"link");l.nlink++,a[J(e)]=l.ino,this._add(l.ino,e),await i.set(l.ino,z(l)),await i.set(s.data,nn(a)),await i.commit()}catch(t){r.error=t,r.hasError=!0}finally{const t=pn(r);t&&await t}}linkSync(t,e){var n;const r={stack:[],error:void 0,hasError:!1};try{const i=dn(r,this.transaction(),!1),o=X(e),s=this.findInodeSync(i,o,"link"),a=en(null!==(n=i.getSync(s.data))&&void 0!==n?n:m(f.With("ENOENT",o,"link"))),l=this.findInodeSync(i,t,"link");l.nlink++,a[J(e)]=l.ino,this._add(l.ino,e),i.setSync(l.ino,z(l)),i.setSync(s.data,nn(a)),i.commitSync()}catch(t){r.error=t,r.hasError=!0}finally{pn(r)}}async read(t,e,n,r){var i;const o={stack:[],error:void 0,hasError:!1};try{const s=dn(o,this.transaction(),!0),a=await this.findInode(s,t,"read");if(0==a.size)return;const l=null!==(i=await s.get(a.data,n,r))&&void 0!==i?i:m(f.With("ENODATA",t,"read")),c=s.flag("partial")?l:l.subarray(n,r);c.byteLength>e.byteLength&&st(`Trying to place ${c.byteLength} bytes into a ${e.byteLength} byte buffer on read`),e.set(c)}catch(t){o.error=t,o.hasError=!0}finally{const t=pn(o);t&&await t}}readSync(t,e,n,r){var i;const o={stack:[],error:void 0,hasError:!1};try{const s=dn(o,this.transaction(),!1),a=this.findInodeSync(s,t,"read");if(0==a.size)return;const l=null!==(i=s.getSync(a.data,n,r))&&void 0!==i?i:m(f.With("ENODATA",t,"read")),c=s.flag("partial")?l:l.subarray(n,r);c.byteLength>e.byteLength&&st(`Trying to place ${c.byteLength} bytes into a ${e.byteLength} byte buffer on read`),e.set(c)}catch(t){o.error=t,o.hasError=!0}finally{pn(o)}}async write(t,e,n){var r;const i={stack:[],error:void 0,hasError:!1};try{const o=dn(i,this.transaction(),!0),s=await this.findInode(o,t,"write");let a=e;o.flag("partial")||(a=w(null!==(r=await o.get(s.data))&&void 0!==r?r:new Uint8Array,n+e.byteLength),a.set(e,n),n=0),await o.set(s.data,a,n),s.update({mtimeMs:Date.now(),size:Math.max(s.size,e.byteLength+n)}),this._add(s.ino,t),await o.set(s.ino,z(s)),await o.commit()}catch(t){i.error=t,i.hasError=!0}finally{const t=pn(i);t&&await t}}writeSync(t,e,n){var r;const i={stack:[],error:void 0,hasError:!1};try{const o=dn(i,this.transaction(),!1),s=this.findInodeSync(o,t,"write");let a=e;o.flag("partial")||(a=w(null!==(r=o.getSync(s.data))&&void 0!==r?r:new Uint8Array,n+e.byteLength),a.set(e,n),n=0),o.setSync(s.data,a,n),s.update({mtimeMs:Date.now(),size:Math.max(s.size,e.byteLength+n)}),this._add(s.ino,t),o.setSync(s.ino,z(s)),o.commitSync()}catch(t){i.error=t,i.hasError=!0}finally{pn(i)}}transaction(){return new hn(this.store.transaction(),this)}async checkRoot(){const t={stack:[],error:void 0,hasError:!1};try{const e=dn(t,this.transaction(),!0);if(await e.get(0))return;const n=new ke({ino:0,data:1,mode:511|ee});await e.set(n.data,Ze("{}")),this._add(0,"/"),await e.set(0,z(n)),await e.commit()}catch(e){t.error=e,t.hasError=!0}finally{const e=pn(t);e&&await e}}checkRootSync(){const t={stack:[],error:void 0,hasError:!1};try{const e=dn(t,this.transaction(),!1);if(e.getSync(0))return;const n=new ke({ino:0,data:1,mode:511|ee});e.setSync(n.data,Ze("{}")),this._add(0,"/"),e.setSync(0,z(n)),e.commitSync()}catch(e){t.error=e,t.hasError=!0}finally{pn(t)}}async _populate(){const t={stack:[],error:void 0,hasError:!1};try{if(this._initialized)return void at("Attempted to populate tables after initialization");ut("Populating tables with existing store metadata");const e=dn(t,this.transaction(),!0),n=await e.get(0);if(!n){lt("Store does not have a root inode");const t=new ke({ino:0,data:1,mode:511|ee});return await e.set(t.data,Ze("{}")),this._add(0,"/"),await e.set(0,z(t)),void await e.commit()}if(n.length!=xe)return void ot("Store contains an invalid root inode. Refusing to populate tables");const r=new Set;let i=0;const o=[["/",0]];for(;o.length>0;){i++;const[t,n]=o.shift();this._add(n,t);const s=await e.get(n);if(!s){at("Store is missing data for inode: "+n);continue}if(s.length!=xe){at(`Invalid inode size for ino ${n}: ${s.length}`);continue}const a=new ke(s);if((a.mode&ee)!=ee||r.has(n))continue;r.add(n);const l=await e.get(a.data);if(!l){at("Store is missing directory data: "+a.data);continue}const c=en(l);for(const[e,n]of Object.entries(c))o.push([Y(t,e),n])}ut(`Added ${i} existing inode(s) from store`)}catch(e){t.error=e,t.hasError=!0}finally{const e=pn(t);e&&await e}}async findInode(t,e,n){var r;const i=this._ids.get(e);if(void 0===i)throw f.With("ENOENT",e,n);return new ke(null!==(r=await t.get(i))&&void 0!==r?r:m(f.With("ENOENT",e,n)))}findInodeSync(t,e,n){var r;const i=this._ids.get(e);if(void 0===i)throw f.With("ENOENT",e,n);return new ke(null!==(r=t.getSync(i))&&void 0!==r?r:m(f.With("ENOENT",e,n)))}allocNew(t,e){var n;null!==(n=this._lastID)&&void 0!==n||(this._lastID=Math.max(...this._paths.keys())),this._lastID+=2;const r=this._lastID;if(r>we)throw st(new f(i.ENOSPC,"No IDs available",t,e),{fs:this});return this._add(r,t),r}async commitNew(t,e,n,r){var i;const o={stack:[],error:void 0,hasError:!1};try{if("/"==t)throw f.With("EEXIST",t,r);const s=dn(o,this.transaction(),!0),{dir:a,base:l}=Z(t),c=await this.findInode(s,a,r),u=en(null!==(i=await s.get(c.data))&&void 0!==i?i:m(f.With("ENOENT",a,r)));if(u[l])throw f.With("EEXIST",t,r);const h=this.allocNew(t,r),d=new ke({ino:h,data:h+1,mode:e.mode,size:n.byteLength,uid:c.mode&ie?c.uid:e.uid,gid:c.mode&oe?c.gid:e.gid});return await s.set(d.ino,z(d)),await s.set(d.data,n),u[l]=d.ino,await s.set(c.data,nn(u)),await s.commit(),d}catch(t){o.error=t,o.hasError=!0}finally{const t=pn(o);t&&await t}}commitNewSync(t,e,n,r){var i;const o={stack:[],error:void 0,hasError:!1};try{if("/"==t)throw f.With("EEXIST",t,r);const s=dn(o,this.transaction(),!1),{dir:a,base:l}=Z(t),c=this.findInodeSync(s,a,r),u=en(null!==(i=s.getSync(c.data))&&void 0!==i?i:m(f.With("ENOENT",a,r)));if(u[l])throw f.With("EEXIST",t,r);const h=this.allocNew(t,r),d=new ke({ino:h,data:h+1,mode:e.mode,size:n.byteLength,uid:c.mode&ie?c.uid:e.uid,gid:c.mode&oe?c.gid:e.gid});return s.setSync(d.ino,z(d)),s.setSync(d.data,n),u[l]=d.ino,s.setSync(c.data,nn(u)),s.commitSync(),d}catch(t){o.error=t,o.hasError=!0}finally{pn(o)}}async remove(t,e){var n,r;const i={stack:[],error:void 0,hasError:!1};try{const o=e?"rmdir":"unlink",s=dn(i,this.transaction(),!0),{dir:a,base:l}=Z(t),c=await this.findInode(s,a,o),u=en(null!==(n=await s.get(c.data))&&void 0!==n?n:m(f.With("ENOENT",a,o)));if(!u[l])throw f.With("ENOENT",t,o);const h=u[l],d=new ke(null!==(r=await s.get(h))&&void 0!==r?r:m(f.With("ENOENT",t,o)));if(delete u[l],!e&&d.toStats().isDirectory())throw f.With("EISDIR",t,o);await s.set(c.data,nn(u)),--d.nlink<1&&(await s.remove(d.data),await s.remove(h),this._remove(h)),await s.commit()}catch(t){i.error=t,i.hasError=!0}finally{const t=pn(i);t&&await t}}removeSync(t,e){var n,r;const i={stack:[],error:void 0,hasError:!1};try{const o=e?"rmdir":"unlink",s=dn(i,this.transaction(),!1),{dir:a,base:l}=Z(t),c=this.findInodeSync(s,a,o),u=en(null!==(n=s.getSync(c.data))&&void 0!==n?n:m(f.With("ENOENT",a,o))),h=u[l];if(!h)throw f.With("ENOENT",t,o);const d=new ke(null!==(r=s.getSync(h))&&void 0!==r?r:m(f.With("ENOENT",t,o)));if(delete u[l],!e&&d.toStats().isDirectory())throw f.With("EISDIR",t,o);s.setSync(c.data,nn(u)),--d.nlink<1&&(s.removeSync(d.data),s.removeSync(h),this._remove(h)),s.commitSync()}catch(t){i.error=t,i.hasError=!0}finally{pn(i)}}}class gn extends un{async keys(){return this.store.keys()}async get(t){var e,n,r;return await(null!==(r=null===(n=(e=this.store).getAsync)||void 0===n?void 0:n.call(e,t))&&void 0!==r?r:this.store.get(t))}getSync(t){return this.store.get(t)}setSync(t,e){this.store.set(t,e)}removeSync(t){this.store.delete(t)}}class yn extends Map{constructor(t=we,e){super(),this.maxSize=t,this.label=e,this.flags=[],this.name="tmpfs"}async sync(){}transaction(){return new gn(this)}get bytes(){let t=4*this.size;for(const e of this.values())t+=e.byteLength;return t}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.bytes}}}const vn={name:"InMemory",options:{maxSize:{type:"number",required:!1},label:{type:"string",required:!1},name:{type:"string",required:!1}},create({maxSize:t,label:e,name:n}){const r=new mn(new yn(t,null!=e?e:n));return r.checkRootSync(),r}};var bn=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e},wn=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;return function t(){for(;r=e.stack.pop();)try{if(!r.async&&1===i)return i=0,e.stack.push(r),Promise.resolve().then(t);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(t,(function(e){return n(e),t()}))}else i|=1}catch(t){n(t)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});class Sn extends qe{constructor(t,e,n){super(t,e),this.fs=t,this.device=n,this.position=0,this.stats=new ke({mode:438|(this.driver.isBuffered?te:ne)})}get driver(){return this.device.driver}async stat(){return Promise.resolve(new Le(this.stats))}statSync(){return new Le(this.stats)}readSync(t,e=0,n=t.byteLength-e,r=this.position){this.stats.atimeMs=Date.now();const i=r+n;this.position=i;const o=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return this.driver.readD(this.device,o.subarray(e,n),r,i),n}async read(t,e,n){return{bytesRead:this.readSync(t,e,n),buffer:t}}writeSync(t,e=0,n=t.byteLength-e,r=this.position){const i=r+n;i>this.stats.size&&(this.stats.size=i),this.stats.mtimeMs=Date.now(),this.position=i;const o=t.subarray(e,e+n);return this.driver.writeD(this.device,o,r),n}async write(t,e,n,r){return this.writeSync(t,e,n,r)}async truncate(t){const{size:e}=await this.stat(),n=new Uint8Array(t>e?t-e:0);await this.write(n,0,n.length,t>e?e:t)}truncateSync(t){const{size:e}=this.statSync(),n=new Uint8Array(t>e?t-e:0);this.writeSync(n,0,n.length,t>e?e:t)}closeSync(){var t,e;null===(e=(t=this.driver).close)||void 0===e||e.call(t,this)}close(){return this.closeSync(),Promise.resolve()}syncSync(){var t,e;null===(e=(t=this.driver).sync)||void 0===e||e.call(t,this)}sync(){return this.syncSync(),Promise.resolve()}chown(){throw f.With("ENOTSUP",this.path,"chown")}chownSync(){throw f.With("ENOTSUP",this.path,"chown")}chmod(){throw f.With("ENOTSUP",this.path,"chmod")}chmodSync(){throw f.With("ENOTSUP",this.path,"chmod")}utimes(){throw f.With("ENOTSUP",this.path,"utimes")}utimesSync(){throw f.With("ENOTSUP",this.path,"utimes")}}class En extends mn{createDevice(t,e,n={}){var r;if(ft("DeviceFS#createDevice"),this.existsSync(t))throw f.With("EEXIST",t,"mknod");let i=1;const o=p(f.With("EDEADLK",t,"mknod"));for(;this.store.has(i);)i++;o();const s={driver:e,ino:i,data:{},minor:0,major:0,...null===(r=e.init)||void 0===r?void 0:r.call(e,i,n)};return this.devices.set(t,s),s}devicesWithDriver(t,e){if(e&&"string"==typeof t)throw st(new f(i.EINVAL,"Can not fetch devices using only a driver name"),{fs:this});const n=[];for(const r of this.devices.values())e&&r.driver!=t||("string"==typeof t?t:t.name)==r.driver.name&&n.push(r);return n}_createDevice(t,e={}){var n;let r=1;for(;this.store.has(r);)r++;const i={driver:t,ino:r,data:{},minor:0,major:0,...null===(n=t.init)||void 0===n?void 0:n.call(t,r,e)},o="/"+(i.name||t.name)+(t.singleton?"":this.devicesWithDriver(t).length);if(this.existsSync(o))throw f.With("EEXIST",o,"mknod");return this.devices.set(o,i),ct("Initialized device: "+this._mountPoint+o),i}addDefaults(){this._createDevice(xn),this._createDevice(Tn),this._createDevice(Cn),this._createDevice(On),this._createDevice(Ln),ut("Added default devices")}constructor(){super(new yn(16777216,"devfs")),this.devices=new Map}async rename(t,e){if(this.devices.has(t))throw f.With("EPERM",t,"rename");if(this.devices.has(e))throw f.With("EEXIST",e,"rename");return super.rename(t,e)}renameSync(t,e){if(this.devices.has(t))throw f.With("EPERM",t,"rename");if(this.devices.has(e))throw f.With("EEXIST",e,"rename");return super.renameSync(t,e)}async stat(t){if(this.devices.has(t)){const e={stack:[],error:void 0,hasError:!1};try{return bn(e,await this.openFile(t,"r"),!0).stat()}catch(t){e.error=t,e.hasError=!0}finally{const t=wn(e);t&&await t}}return super.stat(t)}statSync(t){if(this.devices.has(t)){const e={stack:[],error:void 0,hasError:!1};try{return bn(e,this.openFileSync(t,"r"),!1).statSync()}catch(t){e.error=t,e.hasError=!0}finally{wn(e)}}return super.statSync(t)}async openFile(t,e){return this.devices.has(t)?new Sn(this,t,this.devices.get(t)):await super.openFile(t,e)}openFileSync(t,e){return this.devices.has(t)?new Sn(this,t,this.devices.get(t)):super.openFileSync(t,e)}async createFile(t,e,n,r){if(this.devices.has(t))throw f.With("EEXIST",t,"createFile");return super.createFile(t,e,n,r)}createFileSync(t,e,n,r){if(this.devices.has(t))throw f.With("EEXIST",t,"createFile");return super.createFileSync(t,e,n,r)}async unlink(t){if(this.devices.has(t))throw f.With("EPERM",t,"unlink");return super.unlink(t)}unlinkSync(t){if(this.devices.has(t))throw f.With("EPERM",t,"unlink");return super.unlinkSync(t)}async rmdir(t){return super.rmdir(t)}rmdirSync(t){return super.rmdirSync(t)}async mkdir(t,e,n){if(this.devices.has(t))throw f.With("EEXIST",t,"mkdir");return super.mkdir(t,e,n)}mkdirSync(t,e,n){if(this.devices.has(t))throw f.With("EEXIST",t,"mkdir");return super.mkdirSync(t,e,n)}async readdir(t){const e=await super.readdir(t);for(const n of this.devices.keys())X(n)==t&&e.push(J(n));return e}readdirSync(t){const e=super.readdirSync(t);for(const n of this.devices.keys())X(n)==t&&e.push(J(n));return e}async link(t,e){if(this.devices.has(t))throw f.With("EPERM",t,"rmdir");if(this.devices.has(e))throw f.With("EEXIST",e,"link");return super.link(t,e)}linkSync(t,e){if(this.devices.has(t))throw f.With("EPERM",t,"rmdir");if(this.devices.has(e))throw f.With("EEXIST",e,"link");return super.linkSync(t,e)}async sync(t,e,n){if(this.devices.has(t))throw it(new f(i.EINVAL,"Attempted to sync a device incorrectly (bug)",t,"sync"),{fs:this});return super.sync(t,e,n)}syncSync(t,e,n){if(this.devices.has(t))throw it(new f(i.EINVAL,"Attempted to sync a device incorrectly (bug)",t,"sync"),{fs:this});return super.syncSync(t,e,n)}async read(t,e,n,r){const i=this.devices.get(t);i?i.driver.readD(i,e,n,r):await super.read(t,e,n,r)}readSync(t,e,n,r){const i=this.devices.get(t);i?i.driver.readD(i,e,n,r):super.readSync(t,e,n,r)}async write(t,e,n){const r=this.devices.get(t);if(!r)return await super.write(t,e,n);r.driver.writeD(r,e,n)}writeSync(t,e,n){const r=this.devices.get(t);if(!r)return super.writeSync(t,e,n);r.driver.writeD(r,e,n)}}function _n(t,e,n){}const kn=new Uint8Array,xn={name:"null",singleton:!0,init:()=>({major:1,minor:3}),read:()=>0,readD:()=>kn,writeD:_n},Tn={name:"zero",singleton:!0,init:()=>({major:1,minor:5}),readD(t,e,n,r){e.fill(0,n,r)},writeD:_n},Cn={name:"full",singleton:!0,init:()=>({major:1,minor:7}),readD(t,e,n,r){e.fill(0,n,r)},write(t){throw f.With("ENOSPC",t.path,"write")},writeD(){throw f.With("ENOSPC",void 0,"write")}},On={name:"random",singleton:!0,init:()=>({major:1,minor:8}),readD(t,e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random())},writeD:_n},Ln={name:"console",singleton:!0,init:(t,{output:e=t=>console.log(t)}={})=>({major:5,minor:1,data:{output:e}}),readD:()=>kn,writeD(t,e,n){const r=tn(e);t.data.output(r,n)}};var An=__webpack_require__(287);function Mn(t,e){return Object.fromEntries(Object.entries(t).map((([t,n])=>[t,"function"==typeof n?n.bind(e):n])))}const In=new Map;let Nn=100;function Rn(t){const e=Nn++;return In.set(e,t),e}function Dn(t){if(!In.has(t))throw new f(i.EBADF);return In.get(t)}const Bn=new Map;function Pn(t,e){if("/"!=t[0]&&(t="/"+t),t=G(t),Bn.has(t))throw st(new f(i.EINVAL,"Mount point is already in use: "+t));e._mountPoint=t,Bn.set(t,e),ct(`Mounted ${e.name} on ${t}`),ut(`${e.name} attributes: ${[...e.attributes].map((([t,e])=>null!=e?t+"="+e:t)).join(", ")}`)}function jn(t){"/"!=t[0]&&(t="/"+t),t=G(t),Bn.has(t)?(Bn.delete(t),lt("Unmounted "+t)):at(t+" is already unmounted")}function Wn(t,e){const n=(null==e?void 0:e.root)||"/";t=sn(Y(n,t));const r=[...Bn].sort(((t,e)=>t[0].length>e[0].length?-1:1));for(const[e,i]of r)if(s=t,"/"===(o=e)||o===s||(o.endsWith("/")||(o+="/"),s.startsWith(o)))return""===(t=t.slice(e.length>1?e.length:0))&&(t=n),{fs:i,path:t,mountPoint:e,root:n};var o,s;throw it(new f(i.EIO,"No file system",t))}function Un(t,e){for(const[n,r]of Object.entries(e))t=null==t?void 0:t.replaceAll(n,r);return t}function Fn(t,e){"string"==typeof t.stack&&(t.stack=Un(t.stack,e));try{t.message=Un(t.message,e)}catch{}return t.path&&(t.path=Un(t.path,e)),t}function zn(t){ft("mountObject"),"/"in t&&jn("/");for(const[e,n]of Object.entries(t))Pn(e,n)}function Hn(t,e){const n=t.usage(),r=n.blockSize||4096;return{type:(e?BigInt:Number)(t.id),bsize:(e?BigInt:Number)(r),ffree:(e?BigInt:Number)(n.freeNodes||we),files:(e?BigInt:Number)(n.totalNodes||we),bavail:(e?BigInt:Number)(n.freeSpace/r),bfree:(e?BigInt:Number)(n.freeSpace/r),blocks:(e?BigInt:Number)(n.totalSpace/r)}}function $n(t,r){const o=null==this?void 0:this.credentials;if((null==o?void 0:o.uid)&&(null==o?void 0:o.gid)&&(null==o?void 0:o.euid)&&(null==o?void 0:o.egid))throw new f(i.EPERM,"Can not chroot() as non-root user");return r&&this?(this.root+=t,this):function(t,r=structuredClone(xt)){const i={root:t,credentials:Tt(r)},o=Mn(n,i),s=Mn(e,i);return{...i,fs:{...n,...o,promises:{...e,...s}}}}(Y((null==this?void 0:this.root)||"/",t),o)}Pn("/",vn.create({name:"root"}));class qn extends h{off(t,e,n,r){return super.off(t,e,n,r)}removeListener(t,e,n,r){return super.removeListener(t,e,n,r)}constructor(t,e){super(),this._context=t,this.path=e}setMaxListeners(){throw f.With("ENOSYS",this.path,"Watcher.setMaxListeners")}getMaxListeners(){throw f.With("ENOSYS",this.path,"Watcher.getMaxListeners")}prependListener(){throw f.With("ENOSYS",this.path,"Watcher.prependListener")}prependOnceListener(){throw f.With("ENOSYS",this.path,"Watcher.prependOnceListener")}rawListeners(){throw f.With("ENOSYS",this.path,"Watcher.rawListeners")}ref(){return this}unref(){return this}}class Vn extends qn{constructor(t,e,n){super(t,e),this.options=n,this.realpath=(null==t?void 0:t.root)?Y(t.root,e):e,function(t,e){const n=sn(t);Yn.has(n)||Yn.set(n,new Set),Yn.get(n).add(e)}(this.realpath,this)}close(){super.emit("close"),function(t,e){const n=sn(t);Yn.has(n)&&(Yn.get(n).delete(e),0===Yn.get(n).size&&Yn.delete(n))}(this.realpath,this)}[Symbol.dispose](){this.close()}}class Gn extends qn{constructor(t,e,n){super(t,e),this.options=n,this.start()}onInterval(){try{const n=tr(this.path);t=this.previous,e=n,(t.size!=e.size||+t.atime!=+e.atime||+t.mtime!=+e.mtime||+t.ctime!=+e.ctime||t.mode!=e.mode)&&(this.emit("change",n,this.previous),this.previous=n)}catch(t){this.emit("error",t)}var t,e}start(){const t=this.options.interval||5e3;try{this.previous=tr(this.path)}catch(t){return void this.emit("error",t)}this.intervalId=setInterval(this.onInterval.bind(this),t),this.options.persistent||"object"!=typeof this.intervalId||this.intervalId.unref()}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),this.removeAllListeners()}}const Yn=new Map;function Kn(t,e,n){var r;t&&(n=Y(null!==(r=t.root)&&void 0!==r?r:"/",n));for(let t=n=sn(n);"/"!=t;t=X(t)){const r=Yn.get(t);if(r)for(const i of r)i.emit("change",e,K(t,n)||J(n))}}var Xn=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e},Jn=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;return function t(){for(;r=e.stack.pop();)try{if(!r.async&&1===i)return i=0,e.stack.push(r),Promise.resolve().then(t);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(t,(function(e){return n(e),t()}))}else i|=1}catch(t){n(t)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});function Zn(t,e){t=sn(t),e=sn(e);const n=Wn(t,this),r=Wn(e,this);if(Ne.checkAccess&&!tr.call(this,X(t)).hasAccess(Lt,this))throw f.With("EACCES",t,"rename");try{if(n===r)return n.fs.renameSync(n.path,r.path),Kn(this,"rename",t.toString()),void Kn(this,"change",e.toString());ur.call(this,e,cr(t)),rr.call(this,t),Kn(this,"rename",t.toString())}catch(i){throw Fn(i,{[n.path]:t,[r.path]:e})}}function Qn(t){t=sn(t);try{const{fs:e,path:n}=Wn(Dr.call(this,t),this);return e.existsSync(n)}catch(t){if(t.errno==i.ENOENT)return!1;throw t}}function tr(t,e){t=sn(t);const{fs:n,path:r}=Wn(Dr.call(this,t),this);try{const t=n.statSync(r);if(Ne.checkAccess&&!t.hasAccess(Ot,this))throw f.With("EACCES",r,"stat");return(null==e?void 0:e.bigint)?new Ae(t):t}catch(e){throw Fn(e,{[r]:t})}}function er(t,e){t=sn(t);const{fs:n,path:r}=Wn(t,this);try{const t=n.statSync(r);return(null==e?void 0:e.bigint)?new Ae(t):t}catch(e){throw Fn(e,{[r]:t})}}function nr(t,e=0){const n={stack:[],error:void 0,hasError:!1};try{const r=Xn(n,or.call(this,t,{flag:"r+"}),!1);if(e||(e=0),e<0)throw new f(i.EINVAL);r.truncateSync(e)}catch(t){n.error=t,n.hasError=!0}finally{Jn(n)}}function rr(t){t=sn(t);const{fs:e,path:n}=Wn(t,this);try{if(Ne.checkAccess&&!e.statSync(n).hasAccess(Lt,this))throw f.With("EACCES",n,"unlink");e.unlinkSync(n),Kn(this,"rename",t.toString())}catch(e){throw Fn(e,{[n]:t})}}function ir(t,e,n){if(t.fs.attributes.has("setid"))return;const r=t.fs.statSync(X(t.path));t.chownSync(r.mode&ie?r.uid:e,r.mode&oe?r.gid:n)}function or(t,e){var n;t=sn(t);const r=rn(e.mode,420),i=je(e.flag);t=e.preserveSymlinks?t:Dr.call(this,t);const{fs:o,path:s}=Wn(t,this);let a;try{a=o.statSync(s)}catch{}if(!a){if(!Fe(i)&&!He(i)||"r+"==i)throw f.With("ENOENT",t,"_open");const a=o.statSync(X(s));if(Ne.checkAccess&&!a.hasAccess(Lt,this))throw f.With("EACCES",X(t),"_open");if(!a.isDirectory())throw f.With("ENOTDIR",X(t),"_open");const{euid:l,egid:c}=null!==(n=null==this?void 0:this.credentials)&&void 0!==n?n:xt,u=o.createFileSync(s,i,r,{uid:l,gid:c});if(!e.allowDirectory&&r&ee)throw f.With("EISDIR",t,"_open");return ir(u,l,c),u}if(Ne.checkAccess&&(!a.hasAccess(r,this)||!a.hasAccess(We(i),this)))throw f.With("EACCES",t,"_open");if($e(i))throw f.With("EEXIST",t,"_open");const l=o.openFileSync(s,i);if(ze(i)&&l.truncateSync(0),!e.allowDirectory&&a.mode&ee)throw f.With("EISDIR",t,"_open");return l}function sr(t,e,n=Ct){return Rn(or.call(this,t,{flag:e,mode:n}))}function ar(t,e,n){return Rn(or.call(this,t,{flag:e,mode:n,preserveSymlinks:!0}))}function lr(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{t=sn(t);const i=Xn(r,or.call(this,t,{flag:e,mode:420,preserveSymlinks:n}),!1),o=i.statSync(),s=new Uint8Array(o.size);return i.readSync(s,0,o.size,0),s}catch(t){r.error=t,r.hasError=!0}finally{Jn(r)}}function cr(t,e={}){const n=an(e,null,"r",420);if(!Ue(je(n.flag)))throw new f(i.EINVAL,"Flag passed to readFile must allow for reading");const r=An.Buffer.from(lr.call(this,"number"==typeof t?Dn(t).path:t,n.flag,!1));return n.encoding?r.toString(n.encoding):r}function ur(t,e,n={}){const r={stack:[],error:void 0,hasError:!1};try{const o=an(n,"utf8","w+",420),s=je(o.flag);if(!Fe(s))throw new f(i.EINVAL,"Flag passed to writeFile must allow for writing");if("string"!=typeof e&&!o.encoding)throw new f(i.EINVAL,"Encoding not specified");const a="string"==typeof e?An.Buffer.from(e,o.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(!a)throw new f(i.EINVAL,"Data not specified");Xn(r,or.call(this,"number"==typeof t?Dn(t).path:t.toString(),{flag:s,mode:o.mode,preserveSymlinks:!0}),!1).writeSync(a,0,a.byteLength,0),Kn(this,"change",t.toString())}catch(t){r.error=t,r.hasError=!0}finally{Jn(r)}}function fr(t,e,n={}){const r={stack:[],error:void 0,hasError:!1};try{const o=an(n,"utf8","a+",420),s=je(o.flag);if(!He(s))throw new f(i.EINVAL,"Flag passed to appendFile must allow for appending");if("string"!=typeof e&&!o.encoding)throw new f(i.EINVAL,"Encoding not specified");const a="string"==typeof e?An.Buffer.from(e,o.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);Xn(r,or.call(this,"number"==typeof t?Dn(t).path:t.toString(),{flag:s,mode:o.mode,preserveSymlinks:!0}),!1).writeSync(a,0,a.byteLength)}catch(t){r.error=t,r.hasError=!0}finally{Jn(r)}}function hr(t,e){const n=Dn(t).statSync();return(null==e?void 0:e.bigint)?new Ae(n):n}function dr(t){Dn(t).closeSync(),In.delete(t)}function pr(t,e=0){if(e||(e=0),e<0)throw new f(i.EINVAL);Dn(t).truncateSync(e)}function mr(t){Dn(t).syncSync()}function gr(t){Dn(t).datasyncSync()}function yr(t,e,n,r,i){let o,s,a,l;if("string"==typeof e){l="number"==typeof n?n:null;const t="string"==typeof r?r:"utf8";s=0,o=An.Buffer.from(e,t),a=o.byteLength}else o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=n,a=r,l="number"==typeof i?i:null;const c=Dn(t);null!=l||(l=c.position);const u=c.writeSync(o,s,a,l);return Kn(this,"change",c.path),u}function vr(t,e,n,r,i){const o=Dn(t),s="object"==typeof n?n.offset:n;return"object"==typeof n&&(r=n.length,i=n.position),i=Number(i),isNaN(i)&&(i=o.position),o.readSync(e,s,r,i)}function br(t,e,n){Dn(t).chownSync(e,n)}function wr(t,e){const n=rn(e,-1);if(n<0)throw new f(i.EINVAL,"Invalid mode.");Dn(t).chmodSync(n)}function Sr(t,e,n){Dn(t).utimesSync(on(e),on(n))}function Er(t){t=sn(t);const{fs:e,path:n}=Wn(Dr.call(this,t),this);try{const r=e.statSync(n);if(!r.isDirectory())throw f.With("ENOTDIR",n,"rmdir");if(Ne.checkAccess&&!r.hasAccess(Lt,this))throw f.With("EACCES",n,"rmdir");e.rmdirSync(n),Kn(this,"rename",t.toString())}catch(e){throw Fn(e,{[n]:t})}}function _r(t,e){var n,r;const{euid:i,egid:o}=null!==(n=null==this?void 0:this.credentials)&&void 0!==n?n:xt,s=rn(null==(e="object"==typeof e?e:{mode:e})?void 0:e.mode,511);t=Dr.call(this,t);const{fs:a,path:l,root:c}=Wn(t,this),u={[l]:t};try{if(!(null==e?void 0:e.recursive)){if(Ne.checkAccess&&!a.statSync(X(l)).hasAccess(Lt,this))throw f.With("EACCES",X(l),"mkdir");return a.mkdirSync(l,s,{uid:i,gid:o}),void ir(a.openFileSync(l,"r+"),i,o)}const n=[];for(let e=l,r=t;!a.existsSync(e);e=X(e),r=X(r))n.unshift(e),u[e]=r;for(const t of n){if(Ne.checkAccess&&!a.statSync(X(t)).hasAccess(Lt,this))throw f.With("EACCES",X(t),"mkdir");a.mkdirSync(t,s,{uid:i,gid:o}),ir(a.openFileSync(t,"r+"),i,o),Kn(this,"rename",t)}return 1==c.length?n[0]:null===(r=n[0])||void 0===r?void 0:r.slice(c.length)}catch(t){throw Fn(t,u)}}function kr(t,e){e="object"==typeof e?e:{encoding:e},t=sn(t);const{fs:n,path:r}=Wn(Dr.call(this,t),this);let i;try{const t=n.statSync(r);if(Ne.checkAccess&&!t.hasAccess(Ot,this))throw f.With("EACCES",r,"readdir");if(!t.isDirectory())throw f.With("ENOTDIR",r,"readdir");i=n.readdirSync(r)}catch(e){throw Fn(e,{[r]:t})}const o=[];for(const s of i){let i;try{i=n.statSync(Y(r,s))}catch{continue}if((null==e?void 0:e.withFileTypes)?o.push(new Vr(s,i)):"buffer"==(null==e?void 0:e.encoding)?o.push(An.Buffer.from(s)):o.push(s),i.isDirectory()&&(null==e?void 0:e.recursive))for(const n of kr.call(this,Y(t,s),e))n instanceof Vr?(n.path=Y(s,n.path),o.push(n)):An.Buffer.isBuffer(n)?o.push(An.Buffer.from(Y(s,tn(n)))):o.push(Y(s,n))}return o}function xr(t,e){if(t=sn(t),Ne.checkAccess&&!tr(X(t)).hasAccess(Ot,this))throw f.With("EACCES",X(t),"link");if(e=sn(e),Ne.checkAccess&&!tr(X(e)).hasAccess(Lt,this))throw f.With("EACCES",X(e),"link");const{fs:n,path:r}=Wn(t,this),i=Wn(e,this);if(n!=i.fs)throw f.With("EXDEV",e,"link");try{if(Ne.checkAccess&&!n.statSync(r).hasAccess(Ot,this))throw f.With("EACCES",r,"link");return n.linkSync(r,i.path)}catch(n){throw Fn(n,{[r]:t,[i.path]:e})}}function Tr(t,e,n="file"){if(!["file","dir","junction"].includes(n))throw new f(i.EINVAL,"Invalid type: "+n);if(Qn.call(this,e))throw f.With("EEXIST",e.toString(),"symlink");ur.call(this,e,sn(t,!0)),or.call(this,e,{flag:"r+",mode:420,preserveSymlinks:!0}).chmodSync(Zt)}function Cr(t,e){const n=An.Buffer.from(lr.call(this,t,"r",!0)),r="object"==typeof e?null==e?void 0:e.encoding:e;return"buffer"==r?n:n.toString(null!=r?r:"utf-8")}function Or(t,e,n){const r=sr.call(this,t,"r+");br(r,e,n),dr(r)}function Lr(t,e,n){const r=ar.call(this,t,"r+");br(r,e,n),dr(r)}function Ar(t,e){const n=sr.call(this,t,"r+");wr(n,e),dr(n)}function Mr(t,e){const n=ar.call(this,t,"r+");wr(n,e),dr(n)}function Ir(t,e,n){const r=sr.call(this,t,"r+");Sr(r,e,n),dr(r)}function Nr(t,e,n){const r=ar.call(this,t,"r+");Sr(r,e,n),dr(r)}function Rr(t,e,n){if(n){const n=Wn(e,t),r=n.fs.statSync(n.path);return{...n,fullPath:e,stats:r}}try{const n=Wn(e,t),r=n.fs.statSync(n.path);return r.isSymbolicLink()?Rr(t,G(X(e),Cr.call(t,e).toString())):{...n,fullPath:e,stats:r}}catch{}const{base:r,dir:i}=Z(e),o="/"==i?"/":Dr.call(t,i),s=Y(o,r),a=Wn(s,t);try{const e=a.fs.statSync(a.path);return e.isSymbolicLink()?Rr(t,G(o,Cr.call(t,s).toString())):{...a,fullPath:s,stats:e}}catch(t){if("ENOENT"==t.code)return{...a,fullPath:e};throw Fn(t,{[a.path]:s})}}function Dr(t,e){var n;const r="string"==typeof e?e:null!==(n=null==e?void 0:e.encoding)&&void 0!==n?n:"utf8";t=sn(t);const{fullPath:i}=Rr(this,t);if("utf8"==r||"utf-8"==r)return i;const o=An.Buffer.from(i,"utf-8");return"buffer"==r?o:o.toString(r)}function Br(t,e=384){if(Ne.checkAccess&&!tr.call(this,t).hasAccess(e,this))throw new f(i.EACCES)}function Pr(t,e){let n;t=sn(t);try{n=er.bind(this)(t)}catch(t){if("ENOENT"!=t.code||!(null==e?void 0:e.force))throw t}if(n)switch(n.mode&Xt){case ee:if(null==e?void 0:e.recursive)for(const n of kr.call(this,t))Pr.call(this,Y(t,n),e);Er.call(this,t);break;case Qt:case Zt:case te:case ne:rr.call(this,t);break;default:throw new f(i.EPERM,"File type not supported",t,"rm")}}function jr(t,e){const n="object"==typeof e?null==e?void 0:e.encoding:e||"utf8",r=`/tmp/${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return _r.call(this,r),"buffer"==n?An.Buffer.from(r):r}function Wr(t,e,n){if(t=sn(t),e=sn(e),n&&n&Mt&&Qn(e))throw new f(i.EEXIST,"Destination file already exists",e,"copyFile");ur.call(this,e,cr(t)),Kn(this,"rename",e.toString())}function Ur(t,e,n){const r=Dn(t);let i=0;for(const t of e)i+=r.readSync(t,0,t.byteLength,n+i);return i}function Fr(t,e,n){const r=Dn(t);let i=0;for(const t of e)i+=r.writeSync(new Uint8Array(t.buffer),0,t.byteLength,n+i);return i}function zr(t,e){return t=sn(t),new Gr(t,this)}function Hr(t,e,n){t=sn(t),e=sn(e);const r=er.call(this,t);if((null==n?void 0:n.errorOnExist)&&Qn.call(this,e))throw new f(i.EEXIST,"Destination file or directory already exists",e,"cp");switch(r.mode&Xt){case ee:if(!(null==n?void 0:n.recursive))throw new f(i.EISDIR,t+" is a directory (not copied)",t,"cp");_r.call(this,e,{recursive:!0});for(const r of kr.call(this,t,{withFileTypes:!0}))n.filter&&!n.filter(Y(t,r.name),Y(e,r.name))||Hr.call(this,Y(t,r.name),Y(e,r.name),n);break;case Qt:case Zt:Wr.call(this,t,e);break;default:throw new f(i.EPERM,"File type not supported",t,"rm")}(null==n?void 0:n.preserveTimestamps)&&Ir.call(this,e,r.atime,r.mtime)}function $r(t,e){t=sn(t);const{fs:n}=Wn(t,this);return Hn(n,null==e?void 0:e.bigint)}function qr(t,e={}){t=Array.isArray(t)?t:[t];const{cwd:n="/",withFileTypes:r=!1,exclude:i=()=>!1}=e,o=t.map((t=>(t=t.replace(/([.?+^$(){}|[\]/])/g,"\\$1").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,"."),new RegExp(`^${t}$`)))),s=[];return function t(e){const n=kr(e,{withFileTypes:r,encoding:"utf8"});for(const a of n){const n=r?a.path:e+"/"+a;i(r?a:n)||(tr(n).isDirectory()&&o.some((t=>t.source.includes(".*")))&&t(n),o.some((t=>t.test(n.replace(/^\/+/g,""))))&&s.push(r?a.path:n.replace(/^\/+/g,"")))}}(n),s}class Vr{get name(){return J(this.path)}constructor(t,e){this.path=t,this.stats=e}get parentPath(){return this.path}isFile(){return this.stats.isFile()}isDirectory(){return this.stats.isDirectory()}isBlockDevice(){return this.stats.isBlockDevice()}isCharacterDevice(){return this.stats.isCharacterDevice()}isSymbolicLink(){return this.stats.isSymbolicLink()}isFIFO(){return this.stats.isFIFO()}isSocket(){return this.stats.isSocket()}}class Gr{checkClosed(){if(this.closed)throw new f(i.EBADF,"Can not use closed Dir")}constructor(t,e){this.path=t,this.context=e,this.closed=!1}close(t){if(this.closed=!0,!t)return Promise.resolve();t()}closeSync(){this.closed=!0}async _read(){var t,e;return this.checkClosed(),null!==(t=this._entries)&&void 0!==t||(this._entries=await pi.call(this.context,this.path,{withFileTypes:!0})),this._entries.length&&null!==(e=this._entries.shift())&&void 0!==e?e:null}read(t){if(!t)return this._read();this._read().then((e=>t(void 0,e)))}readSync(){var t,e;return this.checkClosed(),null!==(t=this._entries)&&void 0!==t||(this._entries=kr.call(this.context,this.path,{withFileTypes:!0})),this._entries.length&&null!==(e=this._entries.shift())&&void 0!==e?e:null}async next(){const t=await this._read();return t?{done:!1,value:t}:(await this.close(),{done:!0,value:void 0})}[Symbol.asyncIterator](){return this}[Symbol.asyncDispose](){return Promise.resolve()}}var Yr=__webpack_require__(399);class Kr extends Yr.Readable{constructor(t={},e){var n;super({...t,encoding:null!==(n=t.encoding)&&void 0!==n?n:void 0}),this.pending=!0,this._path="<unknown>",this._bytesRead=0,Promise.resolve(e).then((({file:e})=>{this._path=e.path;const n=e.streamRead({start:t.start,end:t.end});return this.reader=n.getReader(),this.pending=!1,this._read()})).catch((t=>this.destroy(t)))}async _read(){if(!this.reader)return;const{done:t,value:e}=await this.reader.read();t?this.push(null):(this._bytesRead+=e.byteLength,this.push(e)&&await this._read())}close(t=()=>null){try{this.destroy(),this.emit("close"),t(null)}catch(e){t(new f(i.EIO,e.toString()))}}get path(){return this._path}get bytesRead(){return this._bytesRead}wrap(t){return super.wrap(t),this}}class Xr extends Yr.Writable{constructor(t={},e){super(t),this.pending=!0,this._path="<unknown>",this._bytesWritten=0,this.ready=Promise.resolve(e).then((({file:e})=>{this._path=e.path;const n=e.streamWrite({start:t.start});this.writer=n.getWriter(),this.pending=!1})).catch((t=>this.destroy(t)))}async _write(t,e,n){if(await this.ready,!this.writer)return n(at(new f(i.EAGAIN,"Underlying writable stream not ready",this._path)));if("buffer"!=e)return n(at(new f(i.ENOTSUP,"Unsupported encoding for stream",this._path)));const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);try{await this.writer.write(r),this._bytesWritten+=t.byteLength,n()}catch(t){n(new f(i.EIO,t.toString()))}}async _final(t){if(await this.ready,!this.writer)return t();try{await this.writer.close(),t()}catch(e){t(new f(i.EIO,e.toString()))}}close(t=()=>null){try{this.destroy(),this.emit("close"),t(null)}catch(e){t(new f(i.EIO,e.toString()))}}get path(){return this._path}get bytesWritten(){return this._bytesWritten}}var Jr=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e},Zr=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;return function t(){for(;r=e.stack.pop();)try{if(!r.async&&1===i)return i=0,e.stack.push(r),Promise.resolve().then(t);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(t,(function(e){return n(e),t()}))}else i|=1}catch(t){n(t)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});class Qr{constructor(t,e){this.context=e;const n="number"!=typeof t;this.fd=n?Rn(t):t,this.file=n?t:Dn(t)}_emitChange(){var t,e,n;Kn(this.context,"change",this.file.path.slice(null!==(n=null===(e=null===(t=this.context)||void 0===t?void 0:t.root)||void 0===e?void 0:e.length)&&void 0!==n?n:0))}async chown(t,e){await this.file.chown(t,e),this._emitChange()}async chmod(t){const e=rn(t,-1);if(e<0)throw new f(i.EINVAL,"Invalid mode");await this.file.chmod(e),this._emitChange()}datasync(){return this.file.datasync()}sync(){return this.file.sync()}async truncate(t){if(t||(t=0),t<0)throw new f(i.EINVAL);await this.file.truncate(t),this._emitChange()}async utimes(t,e){await this.file.utimes(on(t),on(e)),this._emitChange()}async appendFile(t,e={}){const n=an(e,"utf8","a",420);if(!He(je(n.flag)))throw new f(i.EINVAL,"Flag passed to appendFile must allow for appending");if("string"!=typeof t&&!n.encoding)throw new f(i.EINVAL,"Encoding not specified");const r="string"==typeof t?An.Buffer.from(t,n.encoding):t;await this.file.write(r,0,r.length),this._emitChange()}async read(t,e,n,r){"object"==typeof e&&null!=e&&(r=e.position,n=e.length,e=e.offset),ArrayBuffer.isView(t)||"object"!=typeof t||(r=t.position,n=t.length,e=t.offset,t=t.buffer);const i=Number.isSafeInteger(r)?r:this.file.position;return t||(t=new Uint8Array((await this.file.stat()).size)),null!=e||(e=0),this.file.read(t,e,null!=n?n:t.byteLength-e,i)}async readFile(t){const e=an(t,null,"r",292);if(!Ue(je(e.flag)))throw new f(i.EINVAL,"Flag passed must allow for reading");const{size:n}=await this.stat(),{buffer:r}=await this.file.read(new Uint8Array(n),0,n,0),o=An.Buffer.from(r);return e.encoding?o.toString(e.encoding):o}readableWebStream(t={}){return this.file.streamRead({})}readLines(t){throw f.With("ENOSYS",this.file.path,"FileHandle.readLines")}[Symbol.asyncDispose](){return this.close()}async stat(t){const e=await this.file.stat();if(Ne.checkAccess&&!e.hasAccess(Ot,this.context))throw f.With("EACCES",this.file.path,"stat");return(null==t?void 0:t.bigint)?new Ae(e):e}async write(t,e,n,r){let i,o,s;"object"==typeof e&&null!=e&&(n=e.length,r=e.position,e=e.offset),"string"==typeof t?(r="number"==typeof e?e:null,o=0,i=An.Buffer.from(t,"string"==typeof n?n:"utf8"),s=i.length):(i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),o=null!=e?e:0,s="number"==typeof n?n:i.byteLength,r="number"==typeof r?r:null),null!=r||(r=this.file.position);const a=await this.file.write(i,o,s,r);return this._emitChange(),{buffer:t,bytesWritten:a}}async writeFile(t,e={}){const n=an(e,"utf8","w",420);if(!Fe(je(n.flag)))throw new f(i.EINVAL,"Flag passed must allow for writing");if("string"!=typeof t&&!n.encoding)throw new f(i.EINVAL,"Encoding not specified");const r="string"==typeof t?An.Buffer.from(t,n.encoding):t;await this.file.write(r,0,r.length,0),this._emitChange()}async close(){await this.file.close(),In.delete(this.fd)}async writev(t,e){"number"==typeof e&&(this.file.position=e);let n=0;for(const e of t)n+=(await this.write(e)).bytesWritten;return{bytesWritten:n,buffers:t}}async readv(t,e){"number"==typeof e&&(this.file.position=e);let n=0;for(const e of t)n+=(await this.read(e)).bytesRead;return{bytesRead:n,buffers:t}}createReadStream(t={}){return new Kr(t,this)}createWriteStream(t={}){return new Xr(t,this)}}async function ti(t,e){t=sn(t),e=sn(e);const n=Wn(t,this),r=Wn(e,this);if(Ne.checkAccess&&!(await ni.call(this,X(t))).hasAccess(Lt,this))throw f.With("EACCES",t,"rename");try{if(n.mountPoint==r.mountPoint)return await n.fs.rename(n.path,r.path),Kn(this,"rename",t.toString()),void Kn(this,"change",e.toString());await ui.call(this,e,await ci(t)),await oi.call(this,t),Kn(this,"rename",t.toString())}catch(i){throw Fn(i,{[n.path]:t,[r.path]:e})}}async function ei(t){try{const{fs:e,path:n}=Wn(await xi.call(this,t),this);return await e.exists(n)}catch(t){if(t instanceof f&&"ENOENT"==t.code)return!1;throw t}}async function ni(t,e){t=sn(t);const{fs:n,path:r}=Wn(await xi.call(this,t),this);try{const t=await n.stat(r);if(Ne.checkAccess&&!t.hasAccess(Ot,this))throw f.With("EACCES",r,"stat");return(null==e?void 0:e.bigint)?new Ae(t):t}catch(e){throw Fn(e,{[r]:t})}}async function ri(t,e){t=sn(t);const{fs:n,path:r}=Wn(t,this);try{const t=await n.stat(r);return(null==e?void 0:e.bigint)?new Ae(t):t}catch(e){throw Fn(e,{[r]:t})}}async function ii(t,e=0){const n={stack:[],error:void 0,hasError:!1};try{const r=Jr(n,await li.call(this,t,"r+"),!0);await r.truncate(e)}catch(t){n.error=t,n.hasError=!0}finally{const t=Zr(n);t&&await t}}async function oi(t){t=sn(t);const{fs:e,path:n}=Wn(t,this);try{if(Ne.checkAccess&&!(await e.stat(n)).hasAccess(Lt,this))throw f.With("EACCES",n,"unlink");await e.unlink(n),Kn(this,"rename",t.toString())}catch(e){throw Fn(e,{[n]:t})}}async function si(t,e,n){if(t.fs.attributes.has("setid"))return;const r=await t.fs.stat(X(t.path));await t.chown(r.mode&ie?r.uid:e,r.mode&oe?r.gid:n)}async function ai(t,e,n){var r;e=sn(e);const i=rn(n.mode,420),o=je(n.flag),{fullPath:s,fs:a,path:l,stats:c}=await ki(t,e.toString(),n.preserveSymlinks);if(!c){if(!Fe(o)&&!He(o)||"r+"==o)throw f.With("ENOENT",s,"_open");const e=await a.stat(X(l));if(Ne.checkAccess&&!e.hasAccess(Lt,t))throw f.With("EACCES",X(s),"_open");if(!e.isDirectory())throw f.With("ENOTDIR",X(s),"_open");const{euid:n,egid:c}=null!==(r=null==t?void 0:t.credentials)&&void 0!==r?r:xt,u=await a.createFile(l,o,i,{uid:n,gid:c});return await si(u,n,c),new Qr(u,t)}if(Ne.checkAccess&&!c.hasAccess(We(o),t))throw f.With("EACCES",s,"_open");if($e(o))throw f.With("EEXIST",s,"_open");const u=new Qr(await a.openFile(l,o),t);return ze(o)&&await u.truncate(0),u}async function li(t,e="r",n=420){return await ai(this,t,{flag:e,mode:n})}async function ci(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=an(e,null,"r",420),i=Jr(n,"object"==typeof t&&"fd"in t?t:await li.call(this,t,r.flag,r.mode),!0);return await i.readFile(r)}catch(t){n.error=t,n.hasError=!0}finally{const t=Zr(n);t&&await t}}async function ui(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const o=an(n,"utf8","w+",420),s=Jr(r,t instanceof Qr?t:await li.call(this,t.toString(),o.flag,o.mode),!0),a="string"==typeof e?e:e instanceof DataView?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e;if("string"!=typeof a&&!(a instanceof Uint8Array))throw new f(i.EINVAL,'The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView. Received '+typeof e,s.file.path,"writeFile");await s.writeFile(a,o)}catch(t){r.error=t,r.hasError=!0}finally{const t=Zr(r);t&&await t}}async function fi(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const o=an(n,"utf8","a",420);if(!He(je(o.flag)))throw new f(i.EINVAL,"Flag passed to appendFile must allow for appending");if("string"!=typeof e&&!o.encoding)throw new f(i.EINVAL,"Encoding not specified");const s="string"==typeof e?An.Buffer.from(e,o.encoding):new Uint8Array(e.buffer,e.byteOffset,e.byteLength),a=Jr(r,"object"==typeof t&&"fd"in t?t:await li.call(this,t,o.flag,o.mode),!0);await a.appendFile(s,o)}catch(t){r.error=t,r.hasError=!0}finally{const t=Zr(r);t&&await t}}async function hi(t){t=await xi.call(this,t);const{fs:e,path:n}=Wn(t,this);try{const r=await e.stat(n);if(!r)throw f.With("ENOENT",t,"rmdir");if(!r.isDirectory())throw f.With("ENOTDIR",n,"rmdir");if(Ne.checkAccess&&!r.hasAccess(Lt,this))throw f.With("EACCES",n,"rmdir");await e.rmdir(n),Kn(this,"rename",t.toString())}catch(e){throw Fn(e,{[n]:t})}}async function di(t,e){var n,r;const{euid:i,egid:o}=null!==(n=null==this?void 0:this.credentials)&&void 0!==n?n:xt,s=rn(null==(e="object"==typeof e?e:{mode:e})?void 0:e.mode,511);t=await xi.call(this,t);const{fs:a,path:l,root:c}=Wn(t,this),u={[l]:t};try{if(!(null==e?void 0:e.recursive)){if(Ne.checkAccess&&!(await a.stat(X(l))).hasAccess(Lt,this))throw f.With("EACCES",X(l),"mkdir");return await a.mkdir(l,s,{uid:i,gid:o}),await si(await a.openFile(l,"r+"),i,o),void Kn(this,"rename",t.toString())}const n=[];for(let e=l,r=t;!await a.exists(e);e=X(e),r=X(r))n.unshift(e),u[e]=r;for(const t of n){if(Ne.checkAccess&&!(await a.stat(X(t))).hasAccess(Lt,this))throw f.With("EACCES",X(t),"mkdir");await a.mkdir(t,s,{uid:i,gid:o}),await si(await a.openFile(t,"r+"),i,o),Kn(this,"rename",t)}return 1==c.length?n[0]:null===(r=n[0])||void 0===r?void 0:r.slice(c.length)}catch(t){throw Fn(t,u)}}async function pi(t,e){e="object"==typeof e?e:{encoding:e},t=await xi.call(this,t);const{fs:n,path:r}=Wn(t,this),i=await n.stat(r).catch((e=>m(Fn(e,{[r]:t}))));if(!i)throw f.With("ENOENT",t,"readdir");if(Ne.checkAccess&&!i.hasAccess(Ot,this))throw f.With("EACCES",t,"readdir");if(!i.isDirectory())throw f.With("ENOTDIR",t,"readdir");const o=await n.readdir(r).catch((e=>m(Fn(e,{[r]:t})))),s=[];return await Promise.all(o.map((async i=>{let o;if((!(null==e?void 0:e.recursive)&&!(null==e?void 0:e.withFileTypes)||(o=await n.stat(Y(r,i)).catch((e=>{if("ENOENT"!=e.code)throw Fn(e,{[r]:t})})),o))&&((null==e?void 0:e.withFileTypes)?s.push(new Vr(i,o)):"buffer"==(null==e?void 0:e.encoding)?s.push(An.Buffer.from(i)):s.push(i),(null==e?void 0:e.recursive)&&(null==o?void 0:o.isDirectory())))for(const n of await pi.call(this,Y(t,i),e))n instanceof Vr?(n.path=Y(i,n.path),s.push(n)):An.Buffer.isBuffer(n)?s.push(An.Buffer.from(Y(i,tn(n)))):s.push(Y(i,n))}))),s}async function mi(t,e){t=sn(t),e=sn(e);const{fs:n,path:r}=Wn(t,this),i=Wn(e,this);if(n!=i.fs)throw f.With("EXDEV",e,"link");try{if(Ne.checkAccess&&!(await n.stat(X(t))).hasAccess(Ot,this))throw f.With("EACCES",X(r),"link");if(Ne.checkAccess&&!(await ni.call(this,X(e))).hasAccess(Lt,this))throw f.With("EACCES",X(e),"link");if(Ne.checkAccess&&!(await n.stat(r)).hasAccess(Ot,this))throw f.With("EACCES",r,"link");return await n.link(r,i.path)}catch(n){throw Fn(n,{[i.path]:e,[r]:t})}}async function gi(t,e,n="file"){const r={stack:[],error:void 0,hasError:!1};try{if(!["file","dir","junction"].includes(n))throw new f(i.EINVAL,"Invalid symlink type: "+n);if(e=sn(e),await ei.call(this,e))throw f.With("EEXIST",e,"symlink");const o=Jr(r,await ai(this,e,{flag:"w+",mode:420,preserveSymlinks:!0}),!0);await o.writeFile(sn(t,!0)),await o.file.chmod(Zt)}catch(t){r.error=t,r.hasError=!0}finally{const t=Zr(r);t&&await t}}async function yi(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=Jr(n,await ai(this,sn(t),{flag:"r",mode:420,preserveSymlinks:!0}),!0),i=await r.readFile(),o="object"==typeof e?null==e?void 0:e.encoding:e;return"buffer"==o?i:i.toString(null!=o?o:"utf-8")}catch(t){n.error=t,n.hasError=!0}finally{const t=Zr(n);t&&await t}}async function vi(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Jr(r,await li.call(this,t,"r+"),!0);await i.chown(e,n)}catch(t){r.error=t,r.hasError=!0}finally{const t=Zr(r);t&&await t}}async function bi(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Jr(r,await ai(this,t,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0);await i.chown(e,n)}catch(t){r.error=t,r.hasError=!0}finally{const t=Zr(r);t&&await t}}async function wi(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=Jr(n,await li.call(this,t,"r+"),!0);await r.chmod(e)}catch(t){n.error=t,n.hasError=!0}finally{const t=Zr(n);t&&await t}}async function Si(t,e){const n={stack:[],error:void 0,hasError:!1};try{const r=Jr(n,await ai(this,t,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0);await r.chmod(e)}catch(t){n.error=t,n.hasError=!0}finally{const t=Zr(n);t&&await t}}async function Ei(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Jr(r,await li.call(this,t,"r+"),!0);await i.utimes(e,n)}catch(t){r.error=t,r.hasError=!0}finally{const t=Zr(r);t&&await t}}async function _i(t,e,n){const r={stack:[],error:void 0,hasError:!1};try{const i=Jr(r,await ai(this,t,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0);await i.utimes(new Date(e),new Date(n))}catch(t){r.error=t,r.hasError=!0}finally{const t=Zr(r);t&&await t}}async function ki(t,e,n){if(n){const n=Wn(e,t),r=await n.fs.stat(n.path).catch((()=>{}));return{...n,fullPath:e,stats:r}}try{const n=Wn(e,t),r=await n.fs.stat(n.path);if(!r.isSymbolicLink())return{...n,fullPath:e,stats:r};const i=G(X(e),(await yi.call(t,e)).toString());return await ki(t,i)}catch{}const{base:r,dir:i}=Z(e),o="/"==i?"/":await xi.call(t,i),s=Y(o,r),a=Wn(s,t);try{const e=await a.fs.stat(a.path);if(!e.isSymbolicLink())return{...a,fullPath:s,stats:e};const n=G(o,(await yi.call(t,s)).toString());return await ki(t,n)}catch(t){if("ENOENT"==t.code)return{...a,fullPath:e};throw Fn(t,{[a.path]:s})}}async function xi(t,e){var n;const r="string"==typeof e?e:null!==(n=null==e?void 0:e.encoding)&&void 0!==n?n:"utf8";t=sn(t);const{fullPath:i}=await ki(this,t);if("utf8"==r||"utf-8"==r)return i;const o=An.Buffer.from(i,"utf-8");return"buffer"==r?o:o.toString(r)}function Ti(t,e={}){const n=new Vn(this,t.toString(),"string"!=typeof e?e:{encoding:e}),r=[];let i=!1;function o(){i=!0,n.close();for(const t of r)t({value:null,done:i});return r.length=0,Promise.resolve({value:null,done:!0})}return n.on("change",((t,e)=>{var n;null===(n=r.shift())||void 0===n||n({value:{eventType:t,filename:e},done:!1})})),{async next(){if(i)return Promise.resolve({value:null,done:i});const{promise:t,resolve:e}=Promise.withResolvers();return r.push(e),t},return:o,throw:o,async[Symbol.asyncDispose](){await o()},[Symbol.asyncIterator](){return this}}}async function Ci(t,e=Ct){if(Ne.checkAccess&&!(await ni.call(this,t)).hasAccess(e,this))throw new f(i.EACCES)}async function Oi(t,e){t=sn(t);const n=await ri.call(this,t).catch((t=>{if("ENOENT"!=t.code||!(null==e?void 0:e.force))throw t}));if(n)switch(n.mode&Xt){case ee:if(null==e?void 0:e.recursive)for(const n of await pi.call(this,t))await Oi.call(this,Y(t,n),e);await hi.call(this,t);break;case Qt:case Zt:case te:case ne:await oi.call(this,t);break;default:throw new f(i.EPERM,"File type not supported",t,"rm")}}async function Li(t,e){const n="object"==typeof e?null==e?void 0:e.encoding:e||"utf8",r=`/tmp/${t}${Date.now()}-${Math.random().toString(36).slice(2)}`;return await di.call(this,r),"buffer"==n?An.Buffer.from(r):r}async function Ai(t,e,n){if(t=sn(t),e=sn(e),n&&n&Mt&&await ei.call(this,e))throw new f(i.EEXIST,"Destination file already exists",e,"copyFile");await ui.call(this,e,await ci.call(this,t)),Kn(this,"rename",e.toString())}function Mi(t,e){return t=sn(t),Promise.resolve(new Gr(t,this))}async function Ii(t,e,n){t=sn(t),e=sn(e);const r=await ri.call(this,t);if((null==n?void 0:n.errorOnExist)&&await ei.call(this,e))throw new f(i.EEXIST,"Destination file or directory already exists",e,"cp");switch(r.mode&Xt){case ee:{if(!(null==n?void 0:n.recursive))throw new f(i.EISDIR,t+" is a directory (not copied)",t,"cp");const[r]=await Promise.all([pi.call(this,t,{withFileTypes:!0}),di.call(this,e,{recursive:!0})]),o=async r=>{n.filter&&!n.filter(Y(t,r.name),Y(e,r.name))||await Ii.call(this,Y(t,r.name),Y(e,r.name),n)};await Promise.all(r.map(o));break}case Qt:case Zt:await Ai.call(this,t,e);break;default:throw new f(i.EPERM,"File type not supported",t,"rm")}(null==n?void 0:n.preserveTimestamps)&&await Ei.call(this,e,r.atime,r.mtime)}async function Ni(t,e){t=sn(t);const{fs:n}=Wn(t,this);return Promise.resolve(Hn(n,null==e?void 0:e.bigint))}function Ri(t,e){t=Array.isArray(t)?t:[t];const{cwd:n="/",withFileTypes:r=!1,exclude:i=()=>!1}=e||{},o=t.map((t=>(t=t.replace(/([.?+^$(){}|[\]/])/g,"$1").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,"."),new RegExp(`^${t}$`))));return async function*t(e){const n=await pi(e,{withFileTypes:r,encoding:"utf8"});for(const s of n){const n=r?s.path:e+"/"+s;i(r?s:n)||((await ni(n)).isDirectory()&&o.some((t=>t.source.includes(".*")))&&(yield*t(n)),o.some((t=>t.test(n.replace(/^\/+/g,""))))&&(yield r?s:n.replace(/^\/+/g,"")))}}(n)}const Di=()=>{};function Bi(t,e,n=Di){ti.call(this,t,e).then((()=>n())).catch(n)}function Pi(t,e=Di){ei.call(this,t).then(e).catch((()=>e(!1)))}function ji(t,e,n=Di){n="function"==typeof e?e:n,ni.call(this,t,"function"!=typeof e?e:{}).then((t=>n(void 0,t))).catch(n)}function Wi(t,e,n=Di){n="function"==typeof e?e:n,ri.call(this,t,"function"!=typeof e?e:{}).then((t=>n(void 0,t))).catch(n)}function Ui(t,e=0,n=Di){n="function"==typeof e?e:n;const r="number"==typeof e?e:0;ii.call(this,t,r).then((()=>n())).catch(n)}function Fi(t,e=Di){oi.call(this,t).then((()=>e())).catch(e)}function zi(t,e,n,r=Di){const i=rn(n,420);r="function"==typeof n?n:r,li.call(this,t,e,i).then((t=>r(void 0,t.fd))).catch(r)}function Hi(t,e,n=Di){n="function"==typeof e?e:n,ci.call(this,t,"function"==typeof e?null:e).then((t=>n(void 0,t))).catch(n)}function $i(t,e,n,r=Di){r="function"==typeof n?n:r,ui.call(this,t,e,"function"!=typeof n?n:null).then((()=>r(void 0))).catch(r)}function qi(t,e,n,r=Di){const i="function"!=typeof n?n:void 0;r="function"==typeof n?n:r,fi.call(this,t,e,i).then((()=>r())).catch(r)}function Vi(t,e,n=Di){n="function"==typeof e?e:n,Dn(t).stat().then((t=>n(void 0,"object"==typeof e&&(null==e?void 0:e.bigint)?new Ae(t):t))).catch(n)}function Gi(t,e=Di){const n=Dn(t).close();In.delete(t),n.then((()=>e())).catch(e)}function Yi(t,e,n=Di){const r="number"==typeof e?e:0;n="function"==typeof e?e:n;const o=Dn(t);if(r<0)throw new f(i.EINVAL);o.truncate(r).then((()=>n())).catch(n)}function Ki(t,e=Di){Dn(t).sync().then((()=>e())).catch(e)}function Xi(t,e=Di){Dn(t).datasync().then((()=>e())).catch(e)}function Ji(t,e,n,r,o,s=Di){let a,l,c,u,h;const d=new Qr(t,this);if("string"==typeof e){switch(h="utf8",typeof n){case"function":s=n;break;case"number":u=n,h="string"==typeof r?r:"utf8",s="function"==typeof o?o:s;break;default:return void(s="function"==typeof r?r:"function"==typeof o?o:s)(new f(i.EINVAL,"Invalid arguments"))}a=An.Buffer.from(e),l=0,c=a.length;const t=s;d.write(a,l,c,u).then((({bytesWritten:e})=>t(void 0,e,a.toString(h)))).catch(t)}else{a=An.Buffer.from(e.buffer),l=n,c=r,u="number"==typeof o?o:null;const t="function"==typeof o?o:s;d.write(a,l,c,u).then((({bytesWritten:e})=>t(void 0,e,a))).catch(t)}}function Zi(t,e,n,r,i,o=Di){new Qr(t,this).read(e,n,r,i).then((({bytesRead:t,buffer:e})=>o(void 0,t,e))).catch(o)}function Qi(t,e,n,r=Di){new Qr(t,this).chown(e,n).then((()=>r())).catch(r)}function to(t,e,n){new Qr(t,this).chmod(e).then((()=>n())).catch(n)}function eo(t,e,n,r=Di){new Qr(t,this).utimes(e,n).then((()=>r())).catch(r)}function no(t,e=Di){hi.call(this,t).then((()=>e())).catch(e)}function ro(t,e,n=Di){di.call(this,t,e).then((()=>n())).catch(n)}function io(t,e,n=Di){n="function"==typeof e?e:n;const r="function"!=typeof e?e:{};pi.call(this,t,r).then((t=>n(void 0,t))).catch(n)}function oo(t,e,n=Di){mi.call(this,t,e).then((()=>n())).catch(n)}function so(t,e,n,r=Di){const i="string"==typeof n?n:"file";r="function"==typeof n?n:r,gi.call(this,t,e,i).then((()=>r())).catch(r)}function ao(t,e,n=Di){n="function"==typeof e?e:n,yi.call(this,t).then((t=>n(void 0,t))).catch(n)}function lo(t,e,n,r=Di){vi.call(this,t,e,n).then((()=>r())).catch(r)}function co(t,e,n,r=Di){bi.call(this,t,e,n).then((()=>r())).catch(r)}function uo(t,e,n=Di){wi.call(this,t,e).then((()=>n())).catch(n)}function fo(t,e,n=Di){Si.call(this,t,e).then((()=>n())).catch(n)}function ho(t,e,n,r=Di){Ei.call(this,t,e,n).then((()=>r())).catch(r)}function po(t,e,n,r=Di){_i.call(this,t,e,n).then((()=>r())).catch(r)}function mo(t,e,n=Di){n="function"==typeof e?e:n,xi.call(this,t,"function"==typeof e?null:e).then((t=>n(void 0,t))).catch(n)}function go(t,e,n=Di){const r="number"==typeof e?e:Ot;n="function"==typeof e?e:n,Ci.call(this,t,r).then((()=>n())).catch(n)}const yo=new Map;function vo(t,e,n){const r=sn(t.toString()),o="function"!=typeof e?e:{};if("function"==typeof e&&(n=e),!n)throw new f(i.EINVAL,"No listener specified",t.toString(),"watchFile");if(yo.has(r)){const t=yo.get(r);return void(t&&t.listeners.add(n))}const s=new Gn(this,r,o);s.on("change",((t,e)=>{const n=yo.get(r);if(n)for(const r of n.listeners)r(t,e)})),yo.set(r,{watcher:s,listeners:new Set})}function bo(t,e=Di){const n=sn(t.toString()),r=yo.get(n);r&&(e&&e!==Di?r.listeners.delete(e):r.listeners.clear(),0===r.listeners.size&&(r.watcher.stop(),yo.delete(n)))}function wo(t,e,n){const r=new Vn(this,sn(t),"object"==typeof e?e:{});return n="function"==typeof e?e:n,r.on("change",n||Di),r}function So(t,e){e="object"==typeof e?e:{encoding:e};const n=li.call(this,t,"r",null==e?void 0:e.mode);return new Kr({...e,autoClose:!0},n)}function Eo(t,e){e="object"==typeof e?e:{encoding:e};const n=li.call(this,t,"w",null==e?void 0:e.mode);return new Xr(e,n)}function _o(t,e,n=Di){n="function"==typeof e?e:n,Oi.call(this,t,"function"==typeof e?void 0:e).then((()=>n(void 0))).catch(n)}function ko(t,e,n=Di){n="function"==typeof e?e:n,Li.call(this,t,"function"!=typeof e?e:null).then((t=>n(void 0,t))).catch(n)}function xo(t,e,n,r=Di){r="function"==typeof n?n:r,Ai.call(this,t,e,"function"==typeof n?void 0:n).then((()=>r(void 0))).catch(r)}function To(t,e,n,r=Di){r="function"==typeof n?n:r,new Qr(t,this).readv(e,"function"==typeof n?void 0:n).then((({buffers:t,bytesRead:e})=>r(void 0,e,t))).catch(r)}function Co(t,e,n,r=Di){r="function"==typeof n?n:r,new Qr(t,this).writev(e,"function"==typeof n?void 0:n).then((({buffers:t,bytesWritten:e})=>r(void 0,e,t))).catch(r)}function Oo(t,e,n=Di){n="function"==typeof e?e:n,Mi.call(this,t,"function"==typeof e?void 0:e).then((t=>n(void 0,t))).catch(n)}function Lo(t,e,n,r=Di){r="function"==typeof n?n:r,Ii.call(this,t,e,"function"==typeof n?void 0:n).then((()=>r(void 0))).catch(r)}function Ao(t,e,n=Di){n="function"==typeof e?e:n,Ni.call(this,t,"function"==typeof e?void 0:e).then((t=>n(void 0,t))).catch(n)}async function Mo(t,e){const n=await li.call(this,t.toString(),"r"),r=await n.readFile();return await n.close(),new Blob([r],e)}function Io(t,e,n=Di){n="function"==typeof e?e:n,async function(t){const e=[];for await(const n of t)e.push(n);return e}(Ri.call(this,t,"function"==typeof e?void 0:e)).then((t=>{var e;return n(null,null!==(e=t)&&void 0!==e?e:[])})).catch((t=>n(t)))}function No(t){return kt(t)||_t(t)||t instanceof Ye}async function Ro(t,e=0){if("object"!=typeof t||null==t)throw st(new f(i.EINVAL,"Invalid options on mount configuration"));if(!No(t))throw st(new f(i.EINVAL,"Invalid mount configuration"));if(t instanceof Ye)return await t.ready(),t;_t(t)&&(t={backend:t});for(const[n,r]of Object.entries(t))if("backend"!=n&&No(r)){if(ct("Resolving nested mount configuration: "+n),e>10)throw st(new f(i.EINVAL,"Invalid configuration, too deep and possibly infinite"));t[n]=await Ro(r,++e)}const{backend:n}=t;if("function"==typeof n.isAvailable&&!await n.isAvailable())throw st(new f(i.EPERM,"Backend not available: "+n.name));await async function(t,e){if("object"!=typeof e||null===e)throw st(new f(i.EINVAL,"Invalid options"));for(const[n,r]of Object.entries(t.options)){const t=null==e?void 0:e[n];if(null==t){if(!r.required){ut("Missing non-required option: "+n);continue}throw st(new f(i.EINVAL,"Missing required option: "+n))}const o=(e,n=t)=>"function"==typeof e?t instanceof e:typeof t===e;if(Array.isArray(r.type)?!r.type.some((t=>o(t))):!o(r.type)){const e="object"==typeof t&&"constructor"in t?t.constructor.name:typeof t,o=t=>"function"==typeof t?t.name:t,s=Array.isArray(r.type)?`one of ${r.type.map(o).join(", ")}`:o(r.type);throw st(new f(i.EINVAL,`Incorrect type for "${n}": ${e} (expected ${s})`))}ut("Using custom validator for option: "+n),r.validator&&await r.validator(t)}}(n,t);const r=await n.create(t);return t.disableAsyncCache&&r.attributes.set("no_async"),await r.ready(),r}async function Do(t,e){if("/"==t)return void Pn(t,e);const n=await ni(t).catch((()=>null));if(n){if(!n.isDirectory())throw f.With("ENOTDIR",t,"configure")}else await di(t,{recursive:!0});Pn(t,e)}async function Bo(t){var e;var n;if(n={uid:"uid"in t&&t.uid||0,gid:"gid"in t&&t.gid||0},Object.assign(xt,Tt(n)),Ne.checkAccess=!t.disableAccessChecks,Ne.updateOnRead=!t.disableUpdateOnRead,Ne.syncImmediately=!t.onlySyncOnClose,t.log&&function(t){var e,n,r,i,o;if(vt=null!==(e=t.format)&&void 0!==e?e:vt,bt=null!==(n=t.output)&&void 0!==n?n:bt,St="string"==typeof t.level?(o=t.level,Object.values(tt).indexOf(o)):null!==(r=t.level)&&void 0!==r?r:St,Et=null!==(i=t.enabled)&&void 0!==i?i:Et,t.dumpBacklog)for(const t of et)wt(t)}(t.log),t.mounts)for(const[n,r]of Object.entries(t.mounts).sort((([t],[e])=>t.length>e.length?1:-1))){const i=n.startsWith("/")?n:"/"+n;kt(r)&&(null!==(e=r.disableAsyncCache)&&void 0!==e||(r.disableAsyncCache=t.disableAsyncCache||!1)),"/"==i&&jn("/"),await Do(i,await Ro(r))}if(t.addDevices){const t=new En;t.addDefaults(),await t.ready(),await Do("/dev",t)}}"function"==typeof SuppressedError&&SuppressedError;Math.max(...["delete"].map((t=>t.length))),new Map;"function"==typeof SuppressedError&&SuppressedError;var Po=function(t){return function(e){function n(n){e.error=e.hasError?new t(n,e.error,"An error was suppressed during disposal."):n,e.hasError=!0}var r,i=0;return function t(){for(;r=e.stack.pop();)try{if(!r.async&&1===i)return i=0,e.stack.push(r),Promise.resolve().then(t);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(o).then(t,(function(e){return n(e),t()}))}else i|=1}catch(t){n(t)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}}("function"==typeof SuppressedError?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r});function jo(t){return class extends t{async done(){await this._promise}queueDone(){return this.done()}_async(t){this._promise=this._promise.then((()=>t))}constructor(...t){super(...t),this._promise=Promise.resolve(),this._isInitialized=!1,this._skippedCacheUpdates=0,this._patchAsync()}async ready(){if(await super.ready(),await this.queueDone(),!this._isInitialized&&!this.attributes.has("no_async")){if(this.checkSync(),await this._sync.ready(),this._sync instanceof mn&&this instanceof mn){const t=this._sync.transaction(),e=this.transaction(),n=[];for(const r of await e.keys())n.push(e.get(r).then((e=>t.setSync(r,e))));return await Promise.all(n),void(this._isInitialized=!0)}try{await this.crossCopy("/"),ut(`Skipped ${this._skippedCacheUpdates} updates to the sync cache during initialization`),this._isInitialized=!0}catch(t){throw this._isInitialized=!1,ot(t,{fs:this})}}}checkSync(t,e){if(this.attributes.has("no_async"))throw ot(new f(i.ENOTSUP,"Sync preloading has been disabled for this async file system",t,e),{fs:this});if(!this._sync)throw ot(new f(i.ENOTSUP,"No sync cache is attached to this async file system",t,e),{fs:this})}renameSync(t,e){this.checkSync(t,"rename"),this._sync.renameSync(t,e),this._async(this.rename(t,e))}statSync(t){return this.checkSync(t,"stat"),this._sync.statSync(t)}createFileSync(t,e,n,r){this.checkSync(t,"createFile");const i=this._sync.createFileSync(t,e,n,r);return this._async(this.createFile(t,e,n,r)),new Ve(this,t,e,i.statSync())}openFileSync(t,e){this.checkSync(t,"openFile");const n=this._sync.statSync(t);return new Ve(this,t,e,n)}unlinkSync(t){this.checkSync(t,"unlinkSync"),this._sync.unlinkSync(t),this._async(this.unlink(t))}rmdirSync(t){this.checkSync(t,"rmdir"),this._sync.rmdirSync(t),this._async(this.rmdir(t))}mkdirSync(t,e,n){this.checkSync(t,"mkdir"),this._sync.mkdirSync(t,e,n),this._async(this.mkdir(t,e,n))}readdirSync(t){return this.checkSync(t,"readdir"),this._sync.readdirSync(t)}linkSync(t,e){this.checkSync(t,"link"),this._sync.linkSync(t,e),this._async(this.link(t,e))}syncSync(t,e,n){this.checkSync(t,"sync"),this._sync.syncSync(t,e,n),this._async(this.sync(t,e,n))}existsSync(t){return this.checkSync(t,"exists"),this._sync.existsSync(t)}readSync(t,e,n,r){this.checkSync(t,"read"),this._sync.readSync(t,e,n,r)}writeSync(t,e,n){this.checkSync(t,"write"),this._sync.writeSync(t,e,n),this._async(this.write(t,e,n))}streamWrite(t,e){this.checkSync(t,"streamWrite");const n=this._sync.streamWrite(t,e).getWriter(),r=super.streamWrite(t,e).getWriter();return new WritableStream({async write(t,e){await Promise.all([n.write(t),r.write(t)]).catch(e.error.bind(e))},async close(){await Promise.all([n.close(),r.close()])},async abort(t){await Promise.all([n.abort(t),r.abort(t)])}})}async crossCopy(t){this.checkSync(t,"crossCopy");const e=await this.stat(t);if(!e.isDirectory()){const n={stack:[],error:void 0,hasError:!1};try{const r=function(t,e,n){if(null!=e){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(t){return Promise.reject(t)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}(n,this._sync.createFileSync(t,je("w"),e.mode,e),!1),i=new Uint8Array(e.size);return await this.read(t,i,0,e.size),void r.writeSync(i,0,e.size)}catch(t){n.error=t,n.hasError=!0}finally{Po(n)}}if("/"!==t){const e=await this.stat(t);this._sync.mkdirSync(t,e.mode,e)}const n=[];for(const e of await this.readdir(t))n.push(this.crossCopy(Y(t,e)));await Promise.all(n)}_patchAsync(){const t=Array.from(function*(t){for(let e=t;e;e=Object.getPrototypeOf(e))yield e}(this)).flatMap(Object.getOwnPropertyNames).filter((t=>"function"==typeof this[t]&&`${t}Sync`in this));ut("Async: patching methods: "+t.join(", "));for(const e of t){const t=this[e];this[e]=async(...n)=>{var r,i,o;const s=await t.apply(this,n),a=null===(r=(new Error).stack)||void 0===r?void 0:r.split("\n").slice(2).join("\n");if((null==a?void 0:a.includes(`at <computed> [as ${e}]`))||(null==a?void 0:a.includes(`${e}Sync `))||!a)return s;if(!this._isInitialized)return this._skippedCacheUpdates++,s;try{null===(o=null===(i=this._sync)||void 0===i?void 0:i[`${e}Sync`])||void 0===o||o.call(i,...n)}catch(t){throw st(new f(t.errno,t.message+" (Out of sync!)",t.path,e),{fs:this})}return s}}}}}new Map,jo(Ye);const Wo=new Uint32Array(256);for(let t=0;t<256;t++){let e=t;for(let t=0;t<8;t++)e=1&e?2197175160^e>>>1:e>>>1;Wo[t]=e}var Uo=function(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var g=(0,n[d])("accessor"===l?{get:f.get,set:f.set}:f[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(f.get=a),(a=s(g.set))&&(f.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):f[c]=a)}u&&Object.defineProperty(u,r.name,f),h=!0},Fo=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0},zo=function(t,e,n){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})};let Ho=(()=>{var t,e,n,r;let i,o,s,a,l,c,u=[W()],f=[],h=[],d=[],p=[],m=[],g=[],y=[],v=[],b=[];return o=class{constructor(){this.id=Fo(this,h,0),this.offset_=(Fo(this,d),Fo(this,p,0)),this.offset=(Fo(this,m),Fo(this,g,0)),this.size=(Fo(this,y),Fo(this,v,0)),Fo(this,b)}},zo(o,"MetadataEntry"),(()=>{const w="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s=[(t=$).uint32.bind(t)],a=[(e=$).uint32.bind(e)],l=[(n=$).uint32.bind(n)],c=[(r=$).uint32.bind(r)],Uo(null,null,s,{kind:"field",name:"id",static:!1,private:!1,access:{has:t=>"id"in t,get:t=>t.id,set:(t,e)=>{t.id=e}},metadata:w},h,d),Uo(null,null,a,{kind:"field",name:"offset_",static:!1,private:!1,access:{has:t=>"offset_"in t,get:t=>t.offset_,set:(t,e)=>{t.offset_=e}},metadata:w},p,m),Uo(null,null,l,{kind:"field",name:"offset",static:!1,private:!1,access:{has:t=>"offset"in t,get:t=>t.offset,set:(t,e)=>{t.offset=e}},metadata:w},g,y),Uo(null,null,c,{kind:"field",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:w},v,b),Uo(null,i={value:o},u,{kind:"class",name:o.name,metadata:w},null,f),o=i.value,w&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:w}),Fo(o,f)})(),o})(),$o=(()=>{var t,e,n,r;let o,s,a,l,c,u,h,d=[W()],p=[],m=[],g=[],y=[],v=[],b=[],w=[],S=[],E=[],_=[],k=[];var x=s=class{constructor(t,e=0){if(this.superblock=t,this.offset=e,this.checksum=Fo(this,m,0),this.timestamp=(Fo(this,g),Fo(this,y,Date.now())),this.previous_offset_=(Fo(this,v),Fo(this,b,0)),this.previous_offset=(Fo(this,w),Fo(this,S,0)),this._previous=Fo(this,E),this.entries=Fo(this,_,Array.from({length:255},(()=>new Ho))),Fo(this,k),this.superblock=t,this.offset=e,e&&(H(this,t.store._buffer.subarray(e,e+j(x))),!Vo(this)))throw ot(new f(i.EIO,"SingleBuffer: Checksum mismatch for metadata block at 0x"+e.toString(16)))}get previous(){var t;if(this.previous_offset)return null!==(t=this._previous)&&void 0!==t||(this._previous=new x(this.superblock,this.previous_offset)),this._previous}};return zo(s,"MetadataBlock"),(()=>{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;a=[(t=$).uint32.bind(t)],l=[(e=$).uint32.bind(e)],c=[(n=$).uint32.bind(n)],u=[(r=$).uint32.bind(r)],h=[U(Ho,255)],Uo(null,null,a,{kind:"field",name:"checksum",static:!1,private:!1,access:{has:t=>"checksum"in t,get:t=>t.checksum,set:(t,e)=>{t.checksum=e}},metadata:i},m,g),Uo(null,null,l,{kind:"field",name:"timestamp",static:!1,private:!1,access:{has:t=>"timestamp"in t,get:t=>t.timestamp,set:(t,e)=>{t.timestamp=e}},metadata:i},y,v),Uo(null,null,c,{kind:"field",name:"previous_offset_",static:!1,private:!1,access:{has:t=>"previous_offset_"in t,get:t=>t.previous_offset_,set:(t,e)=>{t.previous_offset_=e}},metadata:i},b,w),Uo(null,null,u,{kind:"field",name:"previous_offset",static:!1,private:!1,access:{has:t=>"previous_offset"in t,get:t=>t.previous_offset,set:(t,e)=>{t.previous_offset=e}},metadata:i},S,E),Uo(null,null,h,{kind:"field",name:"entries",static:!1,private:!1,access:{has:t=>"entries"in t,get:t=>t.entries,set:(t,e)=>{t.entries=e}},metadata:i},_,k),Uo(null,o={value:s},d,{kind:"class",name:s.name,metadata:i},null,p),x=s=o.value,i&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Fo(s,p)})(),x=s})();const qo=2049864546;function Vo(t){const e=function(t){let e=4294967295;for(let n=0;n<t.length;n++)e=e>>>8^Wo[255&(e^t[n])];return(4294967295^e)>>>0}(z(t).subarray(4));return t.checksum===e}function Go(t){return class extends t{constructor(...t){super(...t),this.attributes.set("no_write")}async rename(){throw new f(i.EROFS)}renameSync(){throw new f(i.EROFS)}async createFile(){throw new f(i.EROFS)}createFileSync(){throw new f(i.EROFS)}async unlink(){throw new f(i.EROFS)}unlinkSync(){throw new f(i.EROFS)}async rmdir(){throw new f(i.EROFS)}rmdirSync(){throw new f(i.EROFS)}async mkdir(){throw new f(i.EROFS)}mkdirSync(){throw new f(i.EROFS)}async link(){throw new f(i.EROFS)}linkSync(){throw new f(i.EROFS)}async sync(){throw new f(i.EROFS)}syncSync(){throw new f(i.EROFS)}async write(){throw new f(i.EROFS)}writeSync(){throw new f(i.EROFS)}streamWrite(){throw new f(i.EROFS)}}}function Yo(t){return class extends t{async exists(t){return this.existsSync(t)}async rename(t,e){return this.renameSync(t,e)}async stat(t){return this.statSync(t)}async createFile(t,e,n,r){return this.createFileSync(t,e,n,r)}async openFile(t,e){return this.openFileSync(t,e)}async unlink(t){return this.unlinkSync(t)}async rmdir(t){return this.rmdirSync(t)}async mkdir(t,e,n){return this.mkdirSync(t,e,n)}async readdir(t){return this.readdirSync(t)}async link(t,e){return this.linkSync(t,e)}async sync(t,e,n){return this.syncSync(t,e,n)}async read(t,e,n,r){return this.readSync(t,e,n,r)}async write(t,e,n){return this.writeSync(t,e,n)}}}var Ko;(()=>{var t,e,n,r,o,s,a,l,c,u,h;let d,p,g,y,v,b,w,S,E,_,k,x,T,C,O,L=[W()],A=[],N=[],R=[],P=[],U=[],F=[],z=[],q=[],V=[],G=[],Y=[],K=[],X=[],J=[],Z=[],Q=[],tt=[],et=[],nt=[],rt=[],it=[],st=[],lt=[],ct=[],ut=[],ft=[],ht=[];var dt=p=class{constructor(t){if(this.store=t,this.checksum=Fo(this,N,0),this.magic=(Fo(this,R),Fo(this,P,qo)),this.version=(Fo(this,U),Fo(this,F,1)),this.inode_format=(Fo(this,z),Fo(this,q,3)),this.flags=(Fo(this,V),Fo(this,G,0)),this.used_bytes=(Fo(this,Y),Fo(this,K,BigInt(0))),this.total_bytes=(Fo(this,X),Fo(this,J,BigInt(0))),this.id=(Fo(this,Z),Fo(this,Q,BigInt(0))),this.metadata_block_size=(Fo(this,tt),Fo(this,et,j($o))),this.metadata_offset_=(Fo(this,nt),Fo(this,rt,0)),this.metadata_offset=(Fo(this,it),Fo(this,st,0)),this.metadata=Fo(this,lt),this.label=Fo(this,ct,""),this._padding=(Fo(this,ut),Fo(this,ft,new Array(132).fill(0))),Fo(this,ht),this.store=t,t._view.getUint32(function(t,e){B(t);const n=I(t)?t:t.constructor;M(n);const{struct:r}=n[Symbol.metadata];if(I(t)||!r.isDynamic)return r.members.get(e)?.staticOffset??m(new Error("Struct does not have member: "+e));let i=0;for(const n of r.members.values()){if(n.name==e)return i;const r=t[n.name];i+=j(D(r)?r:n.type)}throw new Error("Struct does not have member: "+e)}(dt,"magic"),!0)!=qo)return at("SingleBuffer: Invalid magic value, assuming this is a fresh super block"),this.metadata=new $o(this),this.used_bytes=BigInt(j(dt)+j($o)),this.total_bytes=BigInt(t._buffer.byteLength),t._write(this),void t._write(this.metadata);if(H(this,t._buffer.subarray(0,j(dt))),!Vo(this))throw ot(new f(i.EIO,"SingleBuffer: Checksum mismatch for super block!"));this.metadata=new $o(this,this.metadata_offset)}rotateMetadata(){const t=new $o(this);return t.offset=Number(this.used_bytes),t.previous_offset=this.metadata_offset,this.metadata=t,this.metadata_offset=t.offset,this.store._write(t),this.used_bytes+=BigInt(j($o)),this.store._write(this),t}isUnused(t,e){if(!e)return!0;if(t+e>this.total_bytes||t<j(dt))return!1;for(let n=this.metadata;n;n=n.previous){if(t<n.offset+j($o)&&t+e>n.offset)return!1;for(const r of n.entries)if(r.offset&&(t>=r.offset&&t<r.offset+r.size||t+e>r.offset&&t+e<=r.offset+r.size||t<=r.offset&&t+e>=r.offset+r.size))return!1}return!0}};zo(p,"SuperBlock"),(()=>{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;g=[(t=$).uint32.bind(t)],y=[(e=$).uint32.bind(e)],v=[(n=$).uint16.bind(n)],b=[(r=$).uint16.bind(r)],w=[(o=$).uint32.bind(o)],S=[(s=$).uint64.bind(s)],E=[(a=$).uint64.bind(a)],_=[(l=$).uint128.bind(l)],k=[(c=$).uint32.bind(c)],x=[(u=$).uint32.bind(u)],T=[(h=$).uint32.bind(h)],C=[$.char(64)],O=[$.char(132)],Uo(null,null,g,{kind:"field",name:"checksum",static:!1,private:!1,access:{has:t=>"checksum"in t,get:t=>t.checksum,set:(t,e)=>{t.checksum=e}},metadata:i},N,R),Uo(null,null,y,{kind:"field",name:"magic",static:!1,private:!1,access:{has:t=>"magic"in t,get:t=>t.magic,set:(t,e)=>{t.magic=e}},metadata:i},P,U),Uo(null,null,v,{kind:"field",name:"version",static:!1,private:!1,access:{has:t=>"version"in t,get:t=>t.version,set:(t,e)=>{t.version=e}},metadata:i},F,z),Uo(null,null,b,{kind:"field",name:"inode_format",static:!1,private:!1,access:{has:t=>"inode_format"in t,get:t=>t.inode_format,set:(t,e)=>{t.inode_format=e}},metadata:i},q,V),Uo(null,null,w,{kind:"field",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:i},G,Y),Uo(null,null,S,{kind:"field",name:"used_bytes",static:!1,private:!1,access:{has:t=>"used_bytes"in t,get:t=>t.used_bytes,set:(t,e)=>{t.used_bytes=e}},metadata:i},K,X),Uo(null,null,E,{kind:"field",name:"total_bytes",static:!1,private:!1,access:{has:t=>"total_bytes"in t,get:t=>t.total_bytes,set:(t,e)=>{t.total_bytes=e}},metadata:i},J,Z),Uo(null,null,_,{kind:"field",name:"id",static:!1,private:!1,access:{has:t=>"id"in t,get:t=>t.id,set:(t,e)=>{t.id=e}},metadata:i},Q,tt),Uo(null,null,k,{kind:"field",name:"metadata_block_size",static:!1,private:!1,access:{has:t=>"metadata_block_size"in t,get:t=>t.metadata_block_size,set:(t,e)=>{t.metadata_block_size=e}},metadata:i},et,nt),Uo(null,null,x,{kind:"field",name:"metadata_offset_",static:!1,private:!1,access:{has:t=>"metadata_offset_"in t,get:t=>t.metadata_offset_,set:(t,e)=>{t.metadata_offset_=e}},metadata:i},rt,it),Uo(null,null,T,{kind:"field",name:"metadata_offset",static:!1,private:!1,access:{has:t=>"metadata_offset"in t,get:t=>t.metadata_offset,set:(t,e)=>{t.metadata_offset=e}},metadata:i},st,lt),Uo(null,null,C,{kind:"field",name:"label",static:!1,private:!1,access:{has:t=>"label"in t,get:t=>t.label,set:(t,e)=>{t.label=e}},metadata:i},ct,ut),Uo(null,null,O,{kind:"field",name:"_padding",static:!1,private:!1,access:{has:t=>"_padding"in t,get:t=>t._padding,set:(t,e)=>{t._padding=e}},metadata:i},ft,ht),Uo(null,d={value:p},L,{kind:"class",name:p.name,metadata:i},null,A),dt=p=d.value,i&&Object.defineProperty(p,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Fo(p,A)})(),dt=p})(),"function"==typeof SuppressedError&&SuppressedError,Symbol.dispose,globalThis.__zenfs__=n,function(t){t[t.Hidden=1]="Hidden",t[t.Directory=2]="Directory",t[t.AssociatedFile=4]="AssociatedFile",t[t.EARContainsInfo=8]="EARContainsInfo",t[t.EARContainsPerms=16]="EARContainsPerms",t[t.FinalDirectoryRecordForFile=32]="FinalDirectoryRecordForFile"}(Ko||(Ko={}));var Xo,Jo=function(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var g=(0,n[d])("accessor"===l?{get:f.get,set:f.set}:f[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(f.get=a),(a=s(g.set))&&(f.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):f[c]=a)}u&&Object.defineProperty(u,r.name,f),h=!0},Zo=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};!function(t){t[t.CONTINUE=1]="CONTINUE",t[t.CURRENT=2]="CURRENT",t[t.PARENT=4]="PARENT",t[t.ROOT=8]="ROOT"}(Xo||(Xo={}));let Qo=(()=>{var t,e;let n,r,i,o,s=[W()],a=[],l=[],c=[],u=[],f=[];return class{static{r=this}static{const h="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;i=[(t=$).uint8.bind(t)],o=[(e=$).uint8.bind(e)],Jo(null,null,i,{kind:"field",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:h},l,c),Jo(null,null,o,{kind:"field",name:"componentLength",static:!1,private:!1,access:{has:t=>"componentLength"in t,get:t=>t.componentLength,set:(t,e)=>{t.componentLength=e}},metadata:h},u,f),Jo(null,n={value:r},s,{kind:"class",name:r.name,metadata:h},null,a),r=n.value,h&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),Zo(r,a)}data;constructor(t){Zo(this,f),this.data=t}flags=Zo(this,l,void 0);componentLength=(Zo(this,c),Zo(this,u,void 0));get length(){return 2+this.componentLength}content(t){return t(this.data.slice(2,2+this.componentLength))}},r})();var ts=function(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var g=(0,n[d])("accessor"===l?{get:f.get,set:f.set}:f[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(f.get=a),(a=s(g.set))&&(f.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):f[c]=a)}u&&Object.defineProperty(u,r.name,f),h=!0},es=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};let ns=(()=>{var t;let e,n,r,i,o,s,a,l,c,u,f=[W()],h=[],d=[],p=[],m=[],g=[],y=[],v=[],b=[],w=[],S=[],E=[],_=[],k=[],x=[],T=[],C=[],O=[];return class{static{n=this}static{const L="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;r=[$.char(4)],i=[$.char(2)],o=[$.char(2)],s=[$.char(2)],a=[$.char(2)],l=[$.char(2)],c=[$.char(2)],u=[(t=$).uint8.bind(t)],ts(null,null,r,{kind:"field",name:"_year",static:!1,private:!1,access:{has:t=>"_year"in t,get:t=>t._year,set:(t,e)=>{t._year=e}},metadata:L},d,p),ts(null,null,i,{kind:"field",name:"_month",static:!1,private:!1,access:{has:t=>"_month"in t,get:t=>t._month,set:(t,e)=>{t._month=e}},metadata:L},m,g),ts(null,null,o,{kind:"field",name:"_day",static:!1,private:!1,access:{has:t=>"_day"in t,get:t=>t._day,set:(t,e)=>{t._day=e}},metadata:L},y,v),ts(null,null,s,{kind:"field",name:"_hour",static:!1,private:!1,access:{has:t=>"_hour"in t,get:t=>t._hour,set:(t,e)=>{t._hour=e}},metadata:L},b,w),ts(null,null,a,{kind:"field",name:"_minute",static:!1,private:!1,access:{has:t=>"_minute"in t,get:t=>t._minute,set:(t,e)=>{t._minute=e}},metadata:L},S,E),ts(null,null,l,{kind:"field",name:"_second",static:!1,private:!1,access:{has:t=>"_second"in t,get:t=>t._second,set:(t,e)=>{t._second=e}},metadata:L},_,k),ts(null,null,c,{kind:"field",name:"_centisecond",static:!1,private:!1,access:{has:t=>"_centisecond"in t,get:t=>t._centisecond,set:(t,e)=>{t._centisecond=e}},metadata:L},x,T),ts(null,null,u,{kind:"field",name:"offsetFromGMT",static:!1,private:!1,access:{has:t=>"offsetFromGMT"in t,get:t=>t.offsetFromGMT,set:(t,e)=>{t.offsetFromGMT=e}},metadata:L},C,O),ts(null,e={value:n},f,{kind:"class",name:n.name,metadata:L},null,h),n=e.value,L&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:L}),es(n,h)}_year=es(this,d,"");get year(){return parseInt(this._year)}set year(t){this._year=t.toFixed()}_month=(es(this,p),es(this,m,""));get month(){return parseInt(this._month)}set month(t){this._month=t.toFixed()}_day=(es(this,g),es(this,y,""));get day(){return parseInt(this._day)}set day(t){this._day=t.toFixed()}_hour=(es(this,v),es(this,b,""));get hour(){return parseInt(this._hour)}set hour(t){this._hour=t.toFixed()}_minute=(es(this,w),es(this,S,""));get minute(){return parseInt(this._minute)}set minute(t){this._minute=t.toFixed()}_second=(es(this,E),es(this,_,""));get second(){return parseInt(this._second)}set second(t){this._second=t.toFixed()}_centisecond=(es(this,k),es(this,x,""));get centisecond(){return parseInt(this._centisecond)}set centisecond(t){this._centisecond=t.toFixed()}offsetFromGMT=(es(this,T),es(this,C,void 0));get date(){return new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,10*this.centisecond)}constructor(){es(this,O)}},n})(),rs=(()=>{var t,e,n,r,i,o,s;let a,l,c,u,f,h,d,p,m,g=[W()],y=[],v=[],b=[],w=[],S=[],E=[],_=[],k=[],x=[],T=[],C=[],O=[],L=[],A=[],M=[];return class{static{l=this}static{const I="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;c=[(t=$).uint8.bind(t)],u=[(e=$).uint8.bind(e)],f=[(n=$).uint8.bind(n)],h=[(r=$).uint8.bind(r)],d=[(i=$).uint8.bind(i)],p=[(o=$).uint8.bind(o)],m=[(s=$).uint8.bind(s)],ts(null,null,c,{kind:"field",name:"year",static:!1,private:!1,access:{has:t=>"year"in t,get:t=>t.year,set:(t,e)=>{t.year=e}},metadata:I},v,b),ts(null,null,u,{kind:"field",name:"month",static:!1,private:!1,access:{has:t=>"month"in t,get:t=>t.month,set:(t,e)=>{t.month=e}},metadata:I},w,S),ts(null,null,f,{kind:"field",name:"day",static:!1,private:!1,access:{has:t=>"day"in t,get:t=>t.day,set:(t,e)=>{t.day=e}},metadata:I},E,_),ts(null,null,h,{kind:"field",name:"hour",static:!1,private:!1,access:{has:t=>"hour"in t,get:t=>t.hour,set:(t,e)=>{t.hour=e}},metadata:I},k,x),ts(null,null,d,{kind:"field",name:"minute",static:!1,private:!1,access:{has:t=>"minute"in t,get:t=>t.minute,set:(t,e)=>{t.minute=e}},metadata:I},T,C),ts(null,null,p,{kind:"field",name:"second",static:!1,private:!1,access:{has:t=>"second"in t,get:t=>t.second,set:(t,e)=>{t.second=e}},metadata:I},O,L),ts(null,null,m,{kind:"field",name:"offsetFromGMT",static:!1,private:!1,access:{has:t=>"offsetFromGMT"in t,get:t=>t.offsetFromGMT,set:(t,e)=>{t.offsetFromGMT=e}},metadata:I},A,M),ts(null,a={value:l},g,{kind:"class",name:l.name,metadata:I},null,y),l=a.value,I&&Object.defineProperty(l,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:I}),es(l,y)}year=es(this,v,void 0);month=(es(this,b),es(this,w,void 0));day=(es(this,S),es(this,E,void 0));hour=(es(this,_),es(this,k,void 0));minute=(es(this,x),es(this,T,void 0));second=(es(this,C),es(this,O,void 0));offsetFromGMT=(es(this,L),es(this,A,void 0));get date(){return new Date(1900+this.year,this.month-1,this.day,this.hour,this.minute,this.second)}constructor(){es(this,M)}},l})();var is,os=function(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var g=(0,n[d])("accessor"===l?{get:f.get,set:f.set}:f[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(f.get=a),(a=s(g.set))&&(f.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):f[c]=a)}u&&Object.defineProperty(u,r.name,f),h=!0},ss=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};!function(t){t[t.CE=17221]="CE",t[t.PD=20548]="PD",t[t.SP=21328]="SP",t[t.ST=21332]="ST",t[t.ER=17746]="ER",t[t.ES=17747]="ES",t[t.PX=20568]="PX",t[t.PN=20558]="PN",t[t.SL=21324]="SL",t[t.NM=20045]="NM",t[t.CL=17228]="CL",t[t.PL=20556]="PL",t[t.RE=21061]="RE",t[t.TF=21574]="TF",t[t.SF=21318]="SF",t[t.RR=21074]="RR"}(is||(is={}));let as=(()=>{var t,e,n;let r,i,o,s,a,l=[W()],c=[],u=[],f=[],h=[],d=[],p=[],m=[];return class{static{i=this}static{const g="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;o=[(t=$).uint16.bind(t)],s=[(e=$).uint8.bind(e)],a=[(n=$).uint8.bind(n)],os(null,null,o,{kind:"field",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:g},u,f),os(null,null,s,{kind:"field",name:"length",static:!1,private:!1,access:{has:t=>"length"in t,get:t=>t.length,set:(t,e)=>{t.length=e}},metadata:g},h,d),os(null,null,a,{kind:"field",name:"suVersion",static:!1,private:!1,access:{has:t=>"suVersion"in t,get:t=>t.suVersion,set:(t,e)=>{t.suVersion=e}},metadata:g},p,m),os(null,r={value:i},l,{kind:"class",name:i.name,metadata:g},null,c),i=r.value,g&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:g}),ss(i,c)}data;constructor(t){ss(this,m),this.data=t,H(this,t)}signature=ss(this,u,void 0);get signatureString(){return tn(this.data.slice(0,2))}length=(ss(this,f),ss(this,h,void 0));suVersion=(ss(this,d),ss(this,p,void 0))},i})(),ls=(()=>{var t,e,n;let r,i,o,s,a,l=[W()],c=[],u=as,f=[],h=[],d=[],p=[],m=[],g=[];return class extends u{static{i=this}static{const y="function"==typeof Symbol&&Symbol.metadata?Object.create(u[Symbol.metadata]??null):void 0;o=[(t=$).uint64.bind(t)],s=[(e=$).uint64.bind(e)],a=[(n=$).uint64.bind(n)],os(null,null,o,{kind:"field",name:"extent",static:!1,private:!1,access:{has:t=>"extent"in t,get:t=>t.extent,set:(t,e)=>{t.extent=e}},metadata:y},f,h),os(null,null,s,{kind:"field",name:"offset",static:!1,private:!1,access:{has:t=>"offset"in t,get:t=>t.offset,set:(t,e)=>{t.offset=e}},metadata:y},d,p),os(null,null,a,{kind:"field",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:y},m,g),os(null,r={value:i},l,{kind:"class",name:i.name,metadata:y},null,c),i=r.value,y&&Object.defineProperty(i,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:y}),ss(i,c)}_entries=[];extent=ss(this,f,void 0);offset=(ss(this,h),ss(this,d,void 0));size=(ss(this,p),ss(this,m,void 0));entries(t){return this._entries||=bs(t,Number(2048n*this.extent+this.offset),this.size,t),this._entries}constructor(){super(...arguments),ss(this,g)}},i})(),cs=(()=>{let t,e,n=[W()],r=[],i=as;return class extends i{static{e=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;os(null,t={value:e},n,{kind:"class",name:e.name,metadata:o},null,r),e=t.value,o&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),ss(e,r)}},e})(),us=(()=>{var t;let e,n,r,i,o=[W()],s=[],a=as,l=[],c=[],u=[],f=[];return class extends a{static{n=this}static{const h="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;r=[$.uint8(2)],i=[(t=$).uint8.bind(t)],os(null,null,r,{kind:"field",name:"magic",static:!1,private:!1,access:{has:t=>"magic"in t,get:t=>t.magic,set:(t,e)=>{t.magic=e}},metadata:h},l,c),os(null,null,i,{kind:"field",name:"skip",static:!1,private:!1,access:{has:t=>"skip"in t,get:t=>t.skip,set:(t,e)=>{t.skip=e}},metadata:h},u,f),os(null,e={value:n},o,{kind:"class",name:n.name,metadata:h},null,s),n=e.value,h&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:h}),ss(n,s)}magic=ss(this,l,void 0);checkMagic(){return 190==this.magic[0]&&239==this.magic[1]}skip=(ss(this,c),ss(this,u,void 0));constructor(){super(...arguments),ss(this,f)}},n})(),fs=(()=>{let t,e,n=[W()],r=[],i=as;return class extends i{static{e=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;os(null,t={value:e},n,{kind:"class",name:e.name,metadata:o},null,r),e=t.value,o&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),ss(e,r)}},e})(),hs=(()=>{var t,e,n,r;let i,o,s,a,l,c,u=[W()],f=[],h=as,d=[],p=[],m=[],g=[],y=[],v=[],b=[],w=[];return class extends h{static{o=this}static{const S="function"==typeof Symbol&&Symbol.metadata?Object.create(h[Symbol.metadata]??null):void 0;s=[(t=$).uint8.bind(t)],a=[(e=$).uint8.bind(e)],l=[(n=$).uint8.bind(n)],c=[(r=$).uint8.bind(r)],os(null,null,s,{kind:"field",name:"idLength",static:!1,private:!1,access:{has:t=>"idLength"in t,get:t=>t.idLength,set:(t,e)=>{t.idLength=e}},metadata:S},d,p),os(null,null,a,{kind:"field",name:"descriptorLength",static:!1,private:!1,access:{has:t=>"descriptorLength"in t,get:t=>t.descriptorLength,set:(t,e)=>{t.descriptorLength=e}},metadata:S},m,g),os(null,null,l,{kind:"field",name:"sourceLength",static:!1,private:!1,access:{has:t=>"sourceLength"in t,get:t=>t.sourceLength,set:(t,e)=>{t.sourceLength=e}},metadata:S},y,v),os(null,null,c,{kind:"field",name:"extensionVersion",static:!1,private:!1,access:{has:t=>"extensionVersion"in t,get:t=>t.extensionVersion,set:(t,e)=>{t.extensionVersion=e}},metadata:S},b,w),os(null,i={value:o},u,{kind:"class",name:o.name,metadata:S},null,f),o=i.value,S&&Object.defineProperty(o,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:S}),ss(o,f)}idLength=ss(this,d,void 0);descriptorLength=(ss(this,p),ss(this,m,void 0));sourceLength=(ss(this,g),ss(this,y,void 0));extensionVersion=(ss(this,v),ss(this,b,void 0));get extensionIdentifier(){return tn(this.data.slice(8,8+this.idLength))}get extensionDescriptor(){return tn(this.data.slice(8+this.idLength,8+this.idLength+this.descriptorLength))}get extensionSource(){const t=8+this.idLength+this.descriptorLength;return tn(this.data.slice(t,t+this.sourceLength))}constructor(){super(...arguments),ss(this,w)}},o})(),ds=(()=>{var t;let e,n,r,i=[W()],o=[],s=as,a=[],l=[];return class extends s{static{n=this}static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;r=[(t=$).uint8.bind(t)],os(null,null,r,{kind:"field",name:"extensionSequence",static:!1,private:!1,access:{has:t=>"extensionSequence"in t,get:t=>t.extensionSequence,set:(t,e)=>{t.extensionSequence=e}},metadata:c},a,l),os(null,e={value:n},i,{kind:"class",name:n.name,metadata:c},null,o),n=e.value,c&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),ss(n,o)}extensionSequence=ss(this,a,void 0);constructor(){super(...arguments),ss(this,l)}},n})(),ps=(()=>{let t,e,n=[W()],r=[],i=as;return class extends i{static{e=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;os(null,t={value:e},n,{kind:"class",name:e.name,metadata:o},null,r),e=t.value,o&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),ss(e,r)}},e})(),ms=(()=>{var t,e,n,r,i;let o,s,a,l,c,u,f,h=[W()],d=[],p=as,m=[],g=[],y=[],v=[],b=[],w=[],S=[],E=[],_=[],k=[];return class extends p{static{s=this}static{const x="function"==typeof Symbol&&Symbol.metadata?Object.create(p[Symbol.metadata]??null):void 0;a=[(t=$).uint64.bind(t)],l=[(e=$).uint64.bind(e)],c=[(n=$).uint64.bind(n)],u=[(r=$).uint64.bind(r)],f=[(i=$).uint64.bind(i)],os(null,null,a,{kind:"field",name:"mode",static:!1,private:!1,access:{has:t=>"mode"in t,get:t=>t.mode,set:(t,e)=>{t.mode=e}},metadata:x},m,g),os(null,null,l,{kind:"field",name:"nlinks",static:!1,private:!1,access:{has:t=>"nlinks"in t,get:t=>t.nlinks,set:(t,e)=>{t.nlinks=e}},metadata:x},y,v),os(null,null,c,{kind:"field",name:"uid",static:!1,private:!1,access:{has:t=>"uid"in t,get:t=>t.uid,set:(t,e)=>{t.uid=e}},metadata:x},b,w),os(null,null,u,{kind:"field",name:"gid",static:!1,private:!1,access:{has:t=>"gid"in t,get:t=>t.gid,set:(t,e)=>{t.gid=e}},metadata:x},S,E),os(null,null,f,{kind:"field",name:"inode",static:!1,private:!1,access:{has:t=>"inode"in t,get:t=>t.inode,set:(t,e)=>{t.inode=e}},metadata:x},_,k),os(null,o={value:s},h,{kind:"class",name:s.name,metadata:x},null,d),s=o.value,x&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:x}),ss(s,d)}mode=ss(this,m,void 0);nlinks=(ss(this,g),ss(this,y,void 0));uid=(ss(this,v),ss(this,b,void 0));gid=(ss(this,w),ss(this,S,void 0));inode=(ss(this,E),ss(this,_,void 0));constructor(){super(...arguments),ss(this,k)}},s})(),gs=(()=>{var t,e;let n,r,i,o,s=[W()],a=[],l=as,c=[],u=[],f=[],h=[];return class extends l{static{r=this}static{const d="function"==typeof Symbol&&Symbol.metadata?Object.create(l[Symbol.metadata]??null):void 0;i=[(t=$).uint64.bind(t)],o=[(e=$).uint64.bind(e)],os(null,null,i,{kind:"field",name:"dev_high",static:!1,private:!1,access:{has:t=>"dev_high"in t,get:t=>t.dev_high,set:(t,e)=>{t.dev_high=e}},metadata:d},c,u),os(null,null,o,{kind:"field",name:"dev_low",static:!1,private:!1,access:{has:t=>"dev_low"in t,get:t=>t.dev_low,set:(t,e)=>{t.dev_low=e}},metadata:d},f,h),os(null,n={value:r},s,{kind:"class",name:r.name,metadata:d},null,a),r=n.value,d&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d}),ss(r,a)}dev_high=ss(this,c,void 0);dev_low=(ss(this,u),ss(this,f,void 0));constructor(){super(...arguments),ss(this,h)}},r})(),ys=(()=>{var t;let e,n,r,i=[W()],o=[],s=as,a=[],l=[];return class extends s{static{n=this}static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;r=[(t=$).uint8.bind(t)],os(null,null,r,{kind:"field",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:c},a,l),os(null,e={value:n},i,{kind:"class",name:n.name,metadata:c},null,o),n=e.value,c&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),ss(n,o)}flags=ss(this,a,void 0);get continueFlag(){return 1&this.flags}get componentRecords(){const t=[];let e=5;for(;e<this.length;){const n=new Qo(this.data.slice(e));t.push(n),e+=n.length}return t}constructor(){super(...arguments),ss(this,l)}},n})();function vs(t){const e=new as(t);switch(e.signature){case is.CE:return new ls(t);case is.PD:return new cs(t);case is.SP:return new us(t);case is.ST:return new fs(t);case is.ER:return new hs(t);case is.ES:return new ds(t);case is.PX:return new ms(t);case is.PN:return new gs(t);case is.SL:return new ys(t);case is.NM:return new Ss(t);case is.CL:return new Es(t);case is.PL:return new _s(t);case is.RE:return new ks(t);case is.TF:return new Ts(t);case is.SF:return new Cs(t);case is.RR:return new ps(t);default:return e}}function bs(t,e,n,r){n-=4n;const i=[];for(;e<n;){const n=vs(t.slice(e)),o=n.length;if(!o)return i;if(e+=o,n instanceof fs)break;i.push(...n instanceof ls?n.entries(r):[n])}return i}var ws;!function(t){t[t.CONTINUE=1]="CONTINUE",t[t.CURRENT=2]="CURRENT",t[t.PARENT=4]="PARENT"}(ws||(ws={}));let Ss=(()=>{var t;let e,n,r,i=[W()],o=[],s=as,a=[],l=[];return class extends s{static{n=this}static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;r=[(t=$).uint8.bind(t)],os(null,null,r,{kind:"field",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:c},a,l),os(null,e={value:n},i,{kind:"class",name:n.name,metadata:c},null,o),n=e.value,c&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),ss(n,o)}flags=ss(this,a,void 0);name(t){return t(this.data.slice(5,this.length))}constructor(){super(...arguments),ss(this,l)}},n})(),Es=(()=>{var t;let e,n,r,i=[W()],o=[],s=as,a=[],l=[];return class extends s{static{n=this}static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;r=[(t=$).uint32.bind(t)],os(null,null,r,{kind:"field",name:"childDirectoryLba",static:!1,private:!1,access:{has:t=>"childDirectoryLba"in t,get:t=>t.childDirectoryLba,set:(t,e)=>{t.childDirectoryLba=e}},metadata:c},a,l),os(null,e={value:n},i,{kind:"class",name:n.name,metadata:c},null,o),n=e.value,c&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),ss(n,o)}childDirectoryLba=ss(this,a,void 0);constructor(){super(...arguments),ss(this,l)}},n})(),_s=(()=>{var t;let e,n,r,i=[W()],o=[],s=as,a=[],l=[];return class extends s{static{n=this}static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;r=[(t=$).uint32.bind(t)],os(null,null,r,{kind:"field",name:"parentDirectoryLba",static:!1,private:!1,access:{has:t=>"parentDirectoryLba"in t,get:t=>t.parentDirectoryLba,set:(t,e)=>{t.parentDirectoryLba=e}},metadata:c},a,l),os(null,e={value:n},i,{kind:"class",name:n.name,metadata:c},null,o),n=e.value,c&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),ss(n,o)}parentDirectoryLba=ss(this,a,void 0);constructor(){super(...arguments),ss(this,l)}},n})(),ks=(()=>{let t,e,n=[W()],r=[],i=as;return class extends i{static{e=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(i[Symbol.metadata]??null):void 0;os(null,t={value:e},n,{kind:"class",name:e.name,metadata:o},null,r),e=t.value,o&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),ss(e,r)}},e})();var xs;!function(t){t[t.CREATION=1]="CREATION",t[t.MODIFY=2]="MODIFY",t[t.ACCESS=4]="ACCESS",t[t.ATTRIBUTES=8]="ATTRIBUTES",t[t.BACKUP=16]="BACKUP",t[t.EXPIRATION=32]="EXPIRATION",t[t.EFFECTIVE=64]="EFFECTIVE",t[t.LONG_FORM=128]="LONG_FORM"}(xs||(xs={}));let Ts=(()=>{var t;let e,n,r,i=[W()],o=[],s=as,a=[],l=[];return class extends s{static{n=this}static{const c="function"==typeof Symbol&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;r=[(t=$).uint8.bind(t)],os(null,null,r,{kind:"field",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:c},a,l),os(null,e={value:n},i,{kind:"class",name:n.name,metadata:c},null,o),n=e.value,c&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:c}),ss(n,o)}flags=ss(this,a,void 0);_getDate(t){if(!(this.flags&t))return;let e=0;for(let n=0;n<t-1;n++)e+=this.flags&1<<n?1:0;const n=this.flags&xs.LONG_FORM?ns:rs,r=5+e*j(n),i=new n;return H(i,this.data.slice(r,r+j(n))),i.date}get creation(){return this._getDate(xs.CREATION)}get modify(){return this._getDate(xs.MODIFY)}get access(){return this._getDate(xs.ACCESS)}get backup(){return this._getDate(xs.BACKUP)}get expiration(){return this._getDate(xs.EXPIRATION)}get effective(){return this._getDate(xs.EFFECTIVE)}constructor(){super(...arguments),ss(this,l)}},n})(),Cs=(()=>{var t,e,n;let r,i,o,s=as,a=[],l=[],c=[],u=[],f=[],h=[];return class extends s{static{const d="function"==typeof Symbol&&Symbol.metadata?Object.create(s[Symbol.metadata]??null):void 0;r=[(t=$).uint64.bind(t)],i=[(e=$).uint64.bind(e)],o=[(n=$).uint8.bind(n)],os(null,null,r,{kind:"field",name:"virtualSizeHigh",static:!1,private:!1,access:{has:t=>"virtualSizeHigh"in t,get:t=>t.virtualSizeHigh,set:(t,e)=>{t.virtualSizeHigh=e}},metadata:d},a,l),os(null,null,i,{kind:"field",name:"virtualSizeLow",static:!1,private:!1,access:{has:t=>"virtualSizeLow"in t,get:t=>t.virtualSizeLow,set:(t,e)=>{t.virtualSizeLow=e}},metadata:d},c,u),os(null,null,o,{kind:"field",name:"tableDepth",static:!1,private:!1,access:{has:t=>"tableDepth"in t,get:t=>t.tableDepth,set:(t,e)=>{t.tableDepth=e}},metadata:d},f,h),d&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d})}virtualSizeHigh=ss(this,a,void 0);virtualSizeLow=(ss(this,l),ss(this,c,void 0));tableDepth=(ss(this,u),ss(this,f,void 0));constructor(){super(...arguments),ss(this,h)}}})();class Os extends Map{record;constructor(t,e){super(),this.record=t;let n=t.lba,r=n+t.dataLength;if(!(t.fileFlags&Ko.Directory)){const i=t.getSUEntries(e).find((t=>t instanceof Es));if(!i)throw new ReferenceError("No CL entry");n=2048*i.childDirectoryLba,r=1/0}for(;n<r;){if(!e[n]){n++;continue}const t=new Ms(e.slice(n),this.record.rockRidgeOffset),i=t.fileName(e);"\0"===i||""===i||t.hasRockRidge&&t.getSUEntries(e).filter((t=>t instanceof ks)).length?r===1/0&&(r=n+t.dataLength):this.set(i,t),n+=t.length}}getDotEntry(t){return new Ms(t.slice(this.record.lba),this.record.rockRidgeOffset)}}var Ls=function(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var g=(0,n[d])("accessor"===l?{get:f.get,set:f.set}:f[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(f.get=a),(a=s(g.set))&&(f.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):f[c]=a)}u&&Object.defineProperty(u,r.name,f),h=!0},As=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};let Ms=(()=>{var t,e,n,r,o,s,a,l,c,u,h,d;let p,m,g,y,v,b,w,S,E,_,k,x,T,C,O,L,A=[W()],M=[],I=[],N=[],R=[],D=[],B=[],P=[],j=[],F=[],z=[],q=[],V=[],G=[],Y=[],K=[],X=[],J=[],Z=[],Q=[],tt=[],et=[],nt=[],rt=[],it=[],ot=[],at=[],lt=[],ct=[],ut=[];return class{static{m=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;g=[(t=$).uint8.bind(t)],y=[(e=$).uint8.bind(e)],v=[(n=$).uint32.bind(n)],b=[(r=$).uint32.bind(r)],w=[(o=$).uint32.bind(o)],S=[(s=$).uint32.bind(s)],E=[U(rs)],_=[(a=$).uint8.bind(a)],k=[(l=$).uint8.bind(l)],x=[(c=$).uint8.bind(c)],T=[(u=$).uint16.bind(u)],C=[(h=$).uint16.bind(h)],O=[(d=$).uint8.bind(d)],L=[$.char(0)],Ls(null,null,g,{kind:"field",name:"length",static:!1,private:!1,access:{has:t=>"length"in t,get:t=>t.length,set:(t,e)=>{t.length=e}},metadata:i},I,N),Ls(null,null,y,{kind:"field",name:"extendedAttributeRecordLength",static:!1,private:!1,access:{has:t=>"extendedAttributeRecordLength"in t,get:t=>t.extendedAttributeRecordLength,set:(t,e)=>{t.extendedAttributeRecordLength=e}},metadata:i},R,D),Ls(null,null,v,{kind:"field",name:"_lba",static:!1,private:!1,access:{has:t=>"_lba"in t,get:t=>t._lba,set:(t,e)=>{t._lba=e}},metadata:i},B,P),Ls(null,null,b,{kind:"field",name:"_lbaBE",static:!1,private:!1,access:{has:t=>"_lbaBE"in t,get:t=>t._lbaBE,set:(t,e)=>{t._lbaBE=e}},metadata:i},j,F),Ls(null,null,w,{kind:"field",name:"dataLength",static:!1,private:!1,access:{has:t=>"dataLength"in t,get:t=>t.dataLength,set:(t,e)=>{t.dataLength=e}},metadata:i},z,q),Ls(null,null,S,{kind:"field",name:"dataLengthBE",static:!1,private:!1,access:{has:t=>"dataLengthBE"in t,get:t=>t.dataLengthBE,set:(t,e)=>{t.dataLengthBE=e}},metadata:i},V,G),Ls(null,null,E,{kind:"field",name:"date",static:!1,private:!1,access:{has:t=>"date"in t,get:t=>t.date,set:(t,e)=>{t.date=e}},metadata:i},Y,K),Ls(null,null,_,{kind:"field",name:"fileFlags",static:!1,private:!1,access:{has:t=>"fileFlags"in t,get:t=>t.fileFlags,set:(t,e)=>{t.fileFlags=e}},metadata:i},X,J),Ls(null,null,k,{kind:"field",name:"fileUnitSize",static:!1,private:!1,access:{has:t=>"fileUnitSize"in t,get:t=>t.fileUnitSize,set:(t,e)=>{t.fileUnitSize=e}},metadata:i},Z,Q),Ls(null,null,x,{kind:"field",name:"interleaveGapSize",static:!1,private:!1,access:{has:t=>"interleaveGapSize"in t,get:t=>t.interleaveGapSize,set:(t,e)=>{t.interleaveGapSize=e}},metadata:i},tt,et),Ls(null,null,T,{kind:"field",name:"volumeSequenceNumber",static:!1,private:!1,access:{has:t=>"volumeSequenceNumber"in t,get:t=>t.volumeSequenceNumber,set:(t,e)=>{t.volumeSequenceNumber=e}},metadata:i},nt,rt),Ls(null,null,C,{kind:"field",name:"volumeSequenceNumberBE",static:!1,private:!1,access:{has:t=>"volumeSequenceNumberBE"in t,get:t=>t.volumeSequenceNumberBE,set:(t,e)=>{t.volumeSequenceNumberBE=e}},metadata:i},it,ot),Ls(null,null,O,{kind:"field",name:"identifierLength",static:!1,private:!1,access:{has:t=>"identifierLength"in t,get:t=>t.identifierLength,set:(t,e)=>{t.identifierLength=e}},metadata:i},at,lt),Ls(null,null,L,{kind:"field",name:"_identifier",static:!1,private:!1,access:{has:t=>"_identifier"in t,get:t=>t._identifier,set:(t,e)=>{t._identifier=e}},metadata:i},ct,ut),Ls(null,p={value:m},A,{kind:"class",name:m.name,metadata:i},null,M),m=p.value,i&&Object.defineProperty(m,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),As(m,M)}data;_rockRidgeOffset;_view;_suEntries;_file;_dir;_kind;constructor(t,e){this.data=t,this._rockRidgeOffset=e,H(this,t),this._view=new DataView(t.buffer)}get hasRockRidge(){return this._rockRidgeOffset>-1}get rockRidgeOffset(){return this._rockRidgeOffset}rootCheckForRockRidge(t){const e=this.getDirectory(t);this._rockRidgeOffset=e.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._dir=void 0)}length=As(this,I,void 0);extendedAttributeRecordLength=(As(this,N),As(this,R,void 0));_lba=(As(this,D),As(this,B,void 0));_lbaBE=(As(this,P),As(this,j,void 0));get lba(){return 2048*this._lba}set lba(t){if(!Number.isInteger(t/2048))throw new f(i.EINVAL,"Invalid LBA value");this._lba=t/2048}dataLength=(As(this,F),As(this,z,void 0));dataLengthBE=(As(this,q),As(this,V,void 0));date=(As(this,G),As(this,Y,new rs));get recordingDate(){return this.date.date}fileFlags=(As(this,K),As(this,X,void 0));fileUnitSize=(As(this,J),As(this,Z,void 0));interleaveGapSize=(As(this,Q),As(this,tt,void 0));volumeSequenceNumber=(As(this,et),As(this,nt,void 0));volumeSequenceNumberBE=(As(this,rt),As(this,it,void 0));identifierLength=(As(this,ot),As(this,at,void 0));_identifier=(As(this,lt),As(this,ct,""));get identifier(){const t=this.data.slice(33,33+this.identifierLength);return this._decode(t)}fileName(t){if(this.hasRockRidge){const e=this._rockRidgeFilename(t);if(null!=e)return e}const e=this.identifier;if(this.isDirectory(t))return e;const n=e.indexOf(";");return-1===n?e:"."===e[n-1]?e.slice(0,n-1):e.slice(0,n)}isDirectory(t){let e=!!(this.fileFlags&Ko.Directory);return!e&&this.hasRockRidge&&(e=this.getSUEntries(t).filter((t=>t instanceof Es)).length>0),e}isSymlink(t){return this.hasRockRidge&&this.getSUEntries(t).filter((t=>t instanceof ys)).length>0}getSymlinkPath(t){let e="";const n=this.getSUEntries(t);for(const t of n){if(!(t instanceof ys))continue;const n=t.componentRecords;for(const t of n){const n=t.flags;n&Xo.CURRENT?e+="./":n&Xo.PARENT?e+="../":n&Xo.ROOT?e+="/":(e+=t.content(this._decode),n&Xo.CONTINUE||(e+="/"))}if(!t.continueFlag)break}return e.endsWith("/")?e.slice(0,-1):e}getFile(t){if(this.isDirectory(t))throw st(f.With("EISDIR",void 0,"read"));return this._file??=t.slice(this.lba,this.lba+this.dataLength),this._file}getDirectory(t){if(!this.isDirectory(t))throw st(f.With("ENOTDIR",void 0,"read"));return this._dir??=new Os(this,t),this._dir}getSUEntries(t){if(this._suEntries)return this._suEntries;let e=33+this.data[32];return e%2==1&&e++,e+=this._rockRidgeOffset,this._suEntries=bs(this.data,e,BigInt(this.length),t),this._suEntries}getString(){return this._decode(this.data)}_decoder=As(this,ut);get _decode(){return this._decoder||=new TextDecoder("Joliet"==this._kind?"utf-16be":"utf-8"),t=>this._decoder.decode(t).toLowerCase()}_rockRidgeFilename(t){const e=this.getSUEntries(t).filter((t=>t instanceof Ss));if(!e.length||e[0].flags&(ws.CURRENT|ws.PARENT))return null;let n="";for(const t of e)if(n+=t.name(this._decode),!(t.flags&ws.CONTINUE))break;return n}_getRockRidgeOffset(t){this._rockRidgeOffset=0;const e=this.getSUEntries(t);if(e.length>0){const t=e[0];if(t instanceof us&&t.checkMagic())for(let n=1;n<e.length;n++){const r=e[n];if(r instanceof ps||r instanceof hs&&"IEEE_P1282"===r.extensionIdentifier)return t.skip}}return this._rockRidgeOffset=-1,-1}},m})();var Is,Ns=function(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var g=(0,n[d])("accessor"===l?{get:f.get,set:f.set}:f[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(f.get=a),(a=s(g.set))&&(f.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):f[c]=a)}u&&Object.defineProperty(u,r.name,f),h=!0},Rs=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};!function(t){t[t.BootRecord=0]="BootRecord",t[t.Primary=1]="Primary",t[t.Supplementary=2]="Supplementary",t[t.Partition=3]="Partition",t[t.SetTerminator=255]="SetTerminator"}(Is||(Is={}));let Ds=(()=>{var t,e;let n,r,i,o,s,a,l=[W()],c=[],u=[],f=[],h=[],d=[],p=[],m=[],g=[],y=[];return class{static{r=this}static{const v="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;i=[(t=$).uint8.bind(t)],o=[$.char(5)],s=[(e=$).uint8.bind(e)],a=[$.char(1)],Ns(null,null,i,{kind:"field",name:"type",static:!1,private:!1,access:{has:t=>"type"in t,get:t=>t.type,set:(t,e)=>{t.type=e}},metadata:v},u,f),Ns(null,null,o,{kind:"field",name:"standardIdentifier",static:!1,private:!1,access:{has:t=>"standardIdentifier"in t,get:t=>t.standardIdentifier,set:(t,e)=>{t.standardIdentifier=e}},metadata:v},h,d),Ns(null,null,s,{kind:"field",name:"version",static:!1,private:!1,access:{has:t=>"version"in t,get:t=>t.version,set:(t,e)=>{t.version=e}},metadata:v},p,m),Ns(null,null,a,{kind:"field",name:"__padding__7",static:!1,private:!1,access:{has:t=>"__padding__7"in t,get:t=>t.__padding__7,set:(t,e)=>{t.__padding__7=e}},metadata:v},g,y),Ns(null,n={value:r},l,{kind:"class",name:r.name,metadata:v},null,c),r=n.value,v&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:v}),Rs(r,c)}_data;constructor(t){Rs(this,y),this._data=t,H(this,t)}type=Rs(this,u,void 0);standardIdentifier=(Rs(this,f),Rs(this,h,""));version=(Rs(this,d),Rs(this,p,void 0));__padding__7=(Rs(this,m),Rs(this,g,void 0))},r})(),Bs=(()=>{var t,e,n,r,i,o,s,a,l,c,u,f,h,d,p;let m,g,y,v,b,w,S,E,_,k,x,T,C,O,L,A,M,I,N,R,D,B,P,j,F,z,q,V,G,Y,K,X,J,Z,Q,tt=[W()],et=[],nt=Ds,rt=[],it=[],ot=[],st=[],at=[],lt=[],ct=[],ut=[],ft=[],ht=[],dt=[],pt=[],mt=[],gt=[],yt=[],vt=[],bt=[],wt=[],St=[],Et=[],_t=[],kt=[],xt=[],Tt=[],Ct=[],Ot=[],Lt=[],At=[],Mt=[],It=[],Nt=[],Rt=[],Dt=[],Bt=[],Pt=[],jt=[],Wt=[],Ut=[],Ft=[],zt=[],Ht=[],$t=[],qt=[],Vt=[],Gt=[],Yt=[],Kt=[],Xt=[],Jt=[],Zt=[],Qt=[],te=[],ee=[],ne=[],re=[],ie=[],oe=[],se=[],ae=[],le=[],ce=[],ue=[],fe=[],he=[],de=[],pe=[];return class extends nt{static{g=this}static{const W="function"==typeof Symbol&&Symbol.metadata?Object.create(nt[Symbol.metadata]??null):void 0;y=[$.char(32)],v=[$.char(32)],b=[$.char(8)],w=[(t=$).uint32.bind(t)],S=[(e=$).uint32.bind(e)],E=[$.char(32)],_=[(n=$).uint16.bind(n)],k=[(r=$).uint16.bind(r)],x=[(i=$).uint16.bind(i)],T=[(o=$).uint16.bind(o)],C=[(s=$).uint16.bind(s)],O=[(a=$).uint16.bind(a)],L=[(l=$).uint32.bind(l)],A=[(c=$).uint32.bind(c)],M=[(u=$).uint32.bind(u)],I=[(f=$).uint32.bind(f)],N=[(h=$).uint32.bind(h)],R=[(d=$).uint32.bind(d)],D=[U(Ms)],B=[$.char(128)],P=[$.char(128)],j=[$.char(128)],F=[$.char(128)],z=[$.char(38)],q=[$.char(36)],V=[$.char(37)],G=[U(ns)],Y=[U(ns)],K=[U(ns)],X=[U(ns)],J=[(p=$).uint8.bind(p)],Z=[$.char(512)],Q=[$.char(653)],Ns(null,null,y,{kind:"field",name:"_systemIdentifier",static:!1,private:!1,access:{has:t=>"_systemIdentifier"in t,get:t=>t._systemIdentifier,set:(t,e)=>{t._systemIdentifier=e}},metadata:W},rt,it),Ns(null,null,v,{kind:"field",name:"_volumeIdentifier",static:!1,private:!1,access:{has:t=>"_volumeIdentifier"in t,get:t=>t._volumeIdentifier,set:(t,e)=>{t._volumeIdentifier=e}},metadata:W},ot,st),Ns(null,null,b,{kind:"field",name:"__padding__72",static:!1,private:!1,access:{has:t=>"__padding__72"in t,get:t=>t.__padding__72,set:(t,e)=>{t.__padding__72=e}},metadata:W},at,lt),Ns(null,null,w,{kind:"field",name:"volumeSpaceSize",static:!1,private:!1,access:{has:t=>"volumeSpaceSize"in t,get:t=>t.volumeSpaceSize,set:(t,e)=>{t.volumeSpaceSize=e}},metadata:W},ct,ut),Ns(null,null,S,{kind:"field",name:"_volumeSpaceSizeBE",static:!1,private:!1,access:{has:t=>"_volumeSpaceSizeBE"in t,get:t=>t._volumeSpaceSizeBE,set:(t,e)=>{t._volumeSpaceSizeBE=e}},metadata:W},ft,ht),Ns(null,null,E,{kind:"field",name:"escapeSequence",static:!1,private:!1,access:{has:t=>"escapeSequence"in t,get:t=>t.escapeSequence,set:(t,e)=>{t.escapeSequence=e}},metadata:W},dt,pt),Ns(null,null,_,{kind:"field",name:"volumeSetSize",static:!1,private:!1,access:{has:t=>"volumeSetSize"in t,get:t=>t.volumeSetSize,set:(t,e)=>{t.volumeSetSize=e}},metadata:W},mt,gt),Ns(null,null,k,{kind:"field",name:"_volumeSetSizeBE",static:!1,private:!1,access:{has:t=>"_volumeSetSizeBE"in t,get:t=>t._volumeSetSizeBE,set:(t,e)=>{t._volumeSetSizeBE=e}},metadata:W},yt,vt),Ns(null,null,x,{kind:"field",name:"volumeSequenceNumber",static:!1,private:!1,access:{has:t=>"volumeSequenceNumber"in t,get:t=>t.volumeSequenceNumber,set:(t,e)=>{t.volumeSequenceNumber=e}},metadata:W},bt,wt),Ns(null,null,T,{kind:"field",name:"_volumeSequenceNumberBE",static:!1,private:!1,access:{has:t=>"_volumeSequenceNumberBE"in t,get:t=>t._volumeSequenceNumberBE,set:(t,e)=>{t._volumeSequenceNumberBE=e}},metadata:W},St,Et),Ns(null,null,C,{kind:"field",name:"logicalBlockSize",static:!1,private:!1,access:{has:t=>"logicalBlockSize"in t,get:t=>t.logicalBlockSize,set:(t,e)=>{t.logicalBlockSize=e}},metadata:W},_t,kt),Ns(null,null,O,{kind:"field",name:"_logicalBlockSizeBE",static:!1,private:!1,access:{has:t=>"_logicalBlockSizeBE"in t,get:t=>t._logicalBlockSizeBE,set:(t,e)=>{t._logicalBlockSizeBE=e}},metadata:W},xt,Tt),Ns(null,null,L,{kind:"field",name:"pathTableSize",static:!1,private:!1,access:{has:t=>"pathTableSize"in t,get:t=>t.pathTableSize,set:(t,e)=>{t.pathTableSize=e}},metadata:W},Ct,Ot),Ns(null,null,A,{kind:"field",name:"_pathTableSizeBE",static:!1,private:!1,access:{has:t=>"_pathTableSizeBE"in t,get:t=>t._pathTableSizeBE,set:(t,e)=>{t._pathTableSizeBE=e}},metadata:W},Lt,At),Ns(null,null,M,{kind:"field",name:"locationOfTypeLPathTable",static:!1,private:!1,access:{has:t=>"locationOfTypeLPathTable"in t,get:t=>t.locationOfTypeLPathTable,set:(t,e)=>{t.locationOfTypeLPathTable=e}},metadata:W},Mt,It),Ns(null,null,I,{kind:"field",name:"locationOfOptionalTypeLPathTable",static:!1,private:!1,access:{has:t=>"locationOfOptionalTypeLPathTable"in t,get:t=>t.locationOfOptionalTypeLPathTable,set:(t,e)=>{t.locationOfOptionalTypeLPathTable=e}},metadata:W},Nt,Rt),Ns(null,null,N,{kind:"field",name:"_locationOfTypeMPathTable",static:!1,private:!1,access:{has:t=>"_locationOfTypeMPathTable"in t,get:t=>t._locationOfTypeMPathTable,set:(t,e)=>{t._locationOfTypeMPathTable=e}},metadata:W},Dt,Bt),Ns(null,null,R,{kind:"field",name:"_locationOfOptionalTypeMPathTable",static:!1,private:!1,access:{has:t=>"_locationOfOptionalTypeMPathTable"in t,get:t=>t._locationOfOptionalTypeMPathTable,set:(t,e)=>{t._locationOfOptionalTypeMPathTable=e}},metadata:W},Pt,jt),Ns(null,null,D,{kind:"field",name:"_root",static:!1,private:!1,access:{has:t=>"_root"in t,get:t=>t._root,set:(t,e)=>{t._root=e}},metadata:W},Wt,Ut),Ns(null,null,B,{kind:"field",name:"_volumeSetIdentifier",static:!1,private:!1,access:{has:t=>"_volumeSetIdentifier"in t,get:t=>t._volumeSetIdentifier,set:(t,e)=>{t._volumeSetIdentifier=e}},metadata:W},Ft,zt),Ns(null,null,P,{kind:"field",name:"_publisherIdentifier",static:!1,private:!1,access:{has:t=>"_publisherIdentifier"in t,get:t=>t._publisherIdentifier,set:(t,e)=>{t._publisherIdentifier=e}},metadata:W},Ht,$t),Ns(null,null,j,{kind:"field",name:"_dataPreparerIdentifier",static:!1,private:!1,access:{has:t=>"_dataPreparerIdentifier"in t,get:t=>t._dataPreparerIdentifier,set:(t,e)=>{t._dataPreparerIdentifier=e}},metadata:W},qt,Vt),Ns(null,null,F,{kind:"field",name:"_applicationIdentifier",static:!1,private:!1,access:{has:t=>"_applicationIdentifier"in t,get:t=>t._applicationIdentifier,set:(t,e)=>{t._applicationIdentifier=e}},metadata:W},Gt,Yt),Ns(null,null,z,{kind:"field",name:"_copyrightFileIdentifier",static:!1,private:!1,access:{has:t=>"_copyrightFileIdentifier"in t,get:t=>t._copyrightFileIdentifier,set:(t,e)=>{t._copyrightFileIdentifier=e}},metadata:W},Kt,Xt),Ns(null,null,q,{kind:"field",name:"_abstractFileIdentifier",static:!1,private:!1,access:{has:t=>"_abstractFileIdentifier"in t,get:t=>t._abstractFileIdentifier,set:(t,e)=>{t._abstractFileIdentifier=e}},metadata:W},Jt,Zt),Ns(null,null,V,{kind:"field",name:"_bibliographicFileIdentifier",static:!1,private:!1,access:{has:t=>"_bibliographicFileIdentifier"in t,get:t=>t._bibliographicFileIdentifier,set:(t,e)=>{t._bibliographicFileIdentifier=e}},metadata:W},Qt,te),Ns(null,null,G,{kind:"field",name:"volumeCreationDate",static:!1,private:!1,access:{has:t=>"volumeCreationDate"in t,get:t=>t.volumeCreationDate,set:(t,e)=>{t.volumeCreationDate=e}},metadata:W},ee,ne),Ns(null,null,Y,{kind:"field",name:"volumeModificationDate",static:!1,private:!1,access:{has:t=>"volumeModificationDate"in t,get:t=>t.volumeModificationDate,set:(t,e)=>{t.volumeModificationDate=e}},metadata:W},re,ie),Ns(null,null,K,{kind:"field",name:"volumeExpirationDate",static:!1,private:!1,access:{has:t=>"volumeExpirationDate"in t,get:t=>t.volumeExpirationDate,set:(t,e)=>{t.volumeExpirationDate=e}},metadata:W},oe,se),Ns(null,null,X,{kind:"field",name:"volumeEffectiveDate",static:!1,private:!1,access:{has:t=>"volumeEffectiveDate"in t,get:t=>t.volumeEffectiveDate,set:(t,e)=>{t.volumeEffectiveDate=e}},metadata:W},ae,le),Ns(null,null,J,{kind:"field",name:"fileStructureVersion",static:!1,private:!1,access:{has:t=>"fileStructureVersion"in t,get:t=>t.fileStructureVersion,set:(t,e)=>{t.fileStructureVersion=e}},metadata:W},ce,ue),Ns(null,null,Z,{kind:"field",name:"applicationUsed",static:!1,private:!1,access:{has:t=>"applicationUsed"in t,get:t=>t.applicationUsed,set:(t,e)=>{t.applicationUsed=e}},metadata:W},fe,he),Ns(null,null,Q,{kind:"field",name:"reserved",static:!1,private:!1,access:{has:t=>"reserved"in t,get:t=>t.reserved,set:(t,e)=>{t.reserved=e}},metadata:W},de,pe),Ns(null,m={value:g},tt,{kind:"class",name:g.name,metadata:W},null,et),g=m.value,W&&Object.defineProperty(g,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:W}),Rs(g,et)}constructor(t){super(t),Rs(this,pe),H(this,t)}_decoder;_decode(t){return this._decoder||=new TextDecoder("Joilet"==this.name?"utf-16be":"utf-8"),this._decoder.decode(t).toLowerCase()}_systemIdentifier=Rs(this,rt,new Uint8Array(32));get systemIdentifier(){return this._decode(this._systemIdentifier)}_volumeIdentifier=(Rs(this,it),Rs(this,ot,new Uint8Array(32)));get volumeIdentifier(){return this._decode(this._volumeIdentifier)}__padding__72=(Rs(this,st),Rs(this,at,void 0));volumeSpaceSize=(Rs(this,lt),Rs(this,ct,void 0));_volumeSpaceSizeBE=(Rs(this,ut),Rs(this,ft,void 0));escapeSequence=(Rs(this,ht),Rs(this,dt,new Uint8Array(32)));volumeSetSize=(Rs(this,pt),Rs(this,mt,void 0));_volumeSetSizeBE=(Rs(this,gt),Rs(this,yt,void 0));volumeSequenceNumber=(Rs(this,vt),Rs(this,bt,void 0));_volumeSequenceNumberBE=(Rs(this,wt),Rs(this,St,void 0));logicalBlockSize=(Rs(this,Et),Rs(this,_t,void 0));_logicalBlockSizeBE=(Rs(this,kt),Rs(this,xt,void 0));pathTableSize=(Rs(this,Tt),Rs(this,Ct,void 0));_pathTableSizeBE=(Rs(this,Ot),Rs(this,Lt,void 0));locationOfTypeLPathTable=(Rs(this,At),Rs(this,Mt,void 0));locationOfOptionalTypeLPathTable=(Rs(this,It),Rs(this,Nt,void 0));_locationOfTypeMPathTable=(Rs(this,Rt),Rs(this,Dt,void 0));get locationOfTypeMPathTable(){return new DataView(this._data.buffer).getUint32(148)}_locationOfOptionalTypeMPathTable=(Rs(this,Bt),Rs(this,Pt,void 0));locationOfOptionalTypeMPathTable(){return new DataView(this._data.buffer).getUint32(152)}_root=(Rs(this,jt),Rs(this,Wt,void 0));rootDirectoryEntry(t){return this._root||(this._root=new Ms(this._data.slice(156),-1),this._root.rootCheckForRockRidge(t)),this._root._kind=this.name,this._root}_volumeSetIdentifier=(Rs(this,Ut),Rs(this,Ft,new Uint8Array(128)));get volumeSetIdentifier(){return this._decode(this._volumeIdentifier)}_publisherIdentifier=(Rs(this,zt),Rs(this,Ht,new Uint8Array(128)));get publisherIdentifier(){return this._decode(this._publisherIdentifier)}_dataPreparerIdentifier=(Rs(this,$t),Rs(this,qt,new Uint8Array(128)));get dataPreparerIdentifier(){return this._decode(this._dataPreparerIdentifier)}_applicationIdentifier=(Rs(this,Vt),Rs(this,Gt,new Uint8Array(128)));get applicationIdentifier(){return this._decode(this._applicationIdentifier)}_copyrightFileIdentifier=(Rs(this,Yt),Rs(this,Kt,new Uint8Array(38)));get copyrightFileIdentifier(){return this._decode(this._copyrightFileIdentifier)}_abstractFileIdentifier=(Rs(this,Xt),Rs(this,Jt,new Uint8Array(36)));get abstractFileIdentifier(){return this._decode(this._abstractFileIdentifier)}_bibliographicFileIdentifier=(Rs(this,Zt),Rs(this,Qt,new Uint8Array(37)));get bibliographicFileIdentifier(){return this._decode(this._bibliographicFileIdentifier)}volumeCreationDate=(Rs(this,te),Rs(this,ee,new ns));volumeModificationDate=(Rs(this,ne),Rs(this,re,new ns));volumeExpirationDate=(Rs(this,ie),Rs(this,oe,new ns));volumeEffectiveDate=(Rs(this,se),Rs(this,ae,new ns));fileStructureVersion=(Rs(this,le),Rs(this,ce,void 0));applicationUsed=(Rs(this,ue),Rs(this,fe,new Uint8Array(512)));reserved=(Rs(this,he),Rs(this,de,new Uint8Array(653)));toString(){return`${this.name} CD-ROM\n\t\t\t\tSystem id: ${this.systemIdentifier}\n\t\t\t\tVolume id: ${this.volumeIdentifier}\n\t\t\t\tVolume set id: ${this.volumeSetIdentifier}\n\t\t\t\tPublisher id: ${this.publisherIdentifier}\n\t\t\t\tData preparer id: ${this.dataPreparerIdentifier}\n\t\t\t\tApplication id: ${this.applicationIdentifier}\n\t\t\t\tCopyright file id: ${this.copyrightFileIdentifier}\n\t\t\t\tAbstract file id: ${this.abstractFileIdentifier}\n\t\t\t\tBibliographic file id: ${this.bibliographicFileIdentifier}\n\t\t\t\tVolume set size: ${this.volumeSetSize}\n\t\t\t\tVolume sequence number: ${this.volumeSequenceNumber}\n\t\t\t\tLogical block size: ${this.logicalBlockSize}\n\t\t\t\tVolume size: ${this.volumeSpaceSize}`.replaceAll("\t","")}},g})();(()=>{let t,e,n=[W()],r=[],o=Bs;(class extends o{static{e=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Ns(null,t={value:e},n,{kind:"class",name:e.name,metadata:i},null,r),e=t.value,i&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Rs(e,r)}name="ISO9660";constructor(t){if(super(t),this.type!==Is.Primary)throw new f(i.EIO,"Invalid primary volume descriptor.")}})})(),(()=>{let t,e,n=[W()],r=[],o=Bs;(class extends o{static{e=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(o[Symbol.metadata]??null):void 0;Ns(null,t={value:e},n,{kind:"class",name:e.name,metadata:i},null,r),e=t.value,i&&Object.defineProperty(e,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Rs(e,r)}name="Joliet";constructor(t){if(super(t),this.type!==Is.Supplementary)throw new f(i.EIO,"Invalid supplementary volume descriptor.");if(37!==this.escapeSequence[0]||47!==this.escapeSequence[1]||![64,67,69].includes(this.escapeSequence[2]))throw new f(i.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+Xe(this.escapeSequence))}})})(),Go(Yo(Ye));var Ps=Uint8Array,js=Uint16Array,Ws=Int32Array,Us=new Ps([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fs=new Ps([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),zs=new Ps([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hs=function(t,e){for(var n=new js(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new Ws(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},$s=Hs(Us,2),qs=$s.b,Vs=$s.r;qs[28]=258,Vs[258]=28;for(var Gs=Hs(Fs,0),Ys=Gs.b,Ks=Gs.r,Xs=new js(32768),Js=0;Js<32768;++Js){var Zs=(43690&Js)>>1|(21845&Js)<<1;Zs=(61680&(Zs=(52428&Zs)>>2|(13107&Zs)<<2))>>4|(3855&Zs)<<4,Xs[Js]=((65280&Zs)>>8|(255&Zs)<<8)>>1}var Qs=function(t,e,n){for(var r=t.length,i=0,o=new js(e);i<r;++i)t[i]&&++o[t[i]-1];var s,a=new js(e);for(i=1;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new js(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],f=a[t[i]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)s[Xs[f]>>l]=c}else for(s=new js(r),i=0;i<r;++i)t[i]&&(s[i]=Xs[a[t[i]-1]++]>>15-t[i]);return s},ta=new Ps(288);for(Js=0;Js<144;++Js)ta[Js]=8;for(Js=144;Js<256;++Js)ta[Js]=9;for(Js=256;Js<280;++Js)ta[Js]=7;for(Js=280;Js<288;++Js)ta[Js]=8;var ea=new Ps(32);for(Js=0;Js<32;++Js)ea[Js]=5;var na=Qs(ta,9,0),ra=Qs(ta,9,1),ia=Qs(ea,5,0),oa=Qs(ea,5,1),sa=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},aa=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(7&e)&n},la=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(7&e)},ca=function(t){return(t+7)/8|0},ua=function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new Ps(t.subarray(e,n))},fa=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ha=function(t,e,n){var r=new Error(e||fa[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ha),!n)throw r;return r},da=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},pa=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},ma=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:Ea,l:0};if(1==i){var s=new Ps(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort((function(t,e){return t.f-e.f})),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var d=new js(h+1),p=ga(n[u-1],d,0);if(p>e){r=0;var m=0,g=p-e,y=1<<g;for(o.sort((function(t,e){return d[e.s]-d[t.s]||t.f-e.f}));r<i;++r){var v=o[r].s;if(!(d[v]>e))break;m+=y-(1<<p-d[v]),d[v]=e}for(m>>=g;m>0;){var b=o[r].s;d[b]<e?m-=1<<e-d[b]++-1:++r}for(;r>=0&&m;--r){var w=o[r].s;d[w]==e&&(--d[w],++m)}p=e}return{t:new Ps(d),l:p}},ga=function(t,e,n){return-1==t.s?Math.max(ga(t.l,e,n+1),ga(t.r,e,n+1)):e[t.s]=n},ya=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new js(++e),r=0,i=t[0],o=1,s=function(t){n[r++]=t},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},va=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},ba=function(t,e,n){var r=n.length,i=ca(e+2);t[i]=255&r,t[i+1]=r>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<r;++o)t[i+o+4]=n[o];return 8*(i+4+r)},wa=function(t,e,n,r,i,o,s,a,l,c,u){da(e,u++,n),++i[256];for(var f=ma(i,15),h=f.t,d=f.l,p=ma(o,15),m=p.t,g=p.l,y=ya(h),v=y.c,b=y.n,w=ya(m),S=w.c,E=w.n,_=new js(19),k=0;k<v.length;++k)++_[31&v[k]];for(k=0;k<S.length;++k)++_[31&S[k]];for(var x=ma(_,7),T=x.t,C=x.l,O=19;O>4&&!T[zs[O-1]];--O);var L,A,M,I,N=c+5<<3,R=va(i,ta)+va(o,ea)+s,D=va(i,h)+va(o,m)+s+14+3*O+va(_,T)+2*_[16]+3*_[17]+7*_[18];if(l>=0&&N<=R&&N<=D)return ba(e,u,t.subarray(l,l+c));if(da(e,u,1+(D<R)),u+=2,D<R){L=Qs(h,d,0),A=h,M=Qs(m,g,0),I=m;var B=Qs(T,C,0);for(da(e,u,b-257),da(e,u+5,E-1),da(e,u+10,O-4),u+=14,k=0;k<O;++k)da(e,u+3*k,T[zs[k]]);u+=3*O;for(var P=[v,S],j=0;j<2;++j){var W=P[j];for(k=0;k<W.length;++k){var U=31&W[k];da(e,u,B[U]),u+=T[U],U>15&&(da(e,u,W[k]>>5&127),u+=W[k]>>12)}}}else L=na,A=ta,M=ia,I=ea;for(k=0;k<a;++k){var F=r[k];if(F>255){pa(e,u,L[257+(U=F>>18&31)]),u+=A[U+257],U>7&&(da(e,u,F>>23&31),u+=Us[U]);var z=31&F;pa(e,u,M[z]),u+=I[z],z>3&&(pa(e,u,F>>5&8191),u+=Fs[z])}else pa(e,u,L[F]),u+=A[F]}return pa(e,u,L[256]),u+A[256]},Sa=new Ws([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ea=new Ps(0),_a=function(){for(var t=new Int32Array(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&-306674912)^n>>>1;t[e]=n}return t}(),ka=function(){var t=-1;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=_a[255&n^e[r]]^n>>>8;t=n},d:function(){return~t}}},xa=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Ps(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return function(t,e,n,r,i,o){var s=o.z||t.length,a=new Ps(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,u=7&(o.r||0);if(e){u&&(l[0]=o.r>>3);for(var f=Sa[e-1],h=f>>13,d=8191&f,p=(1<<n)-1,m=o.p||new js(32768),g=o.h||new js(p+1),y=Math.ceil(n/3),v=2*y,b=function(e){return(t[e]^t[e+1]<<y^t[e+2]<<v)&p},w=new Ws(25e3),S=new js(288),E=new js(32),_=0,k=0,x=o.i||0,T=0,C=o.w||0,O=0;x+2<s;++x){var L=b(x),A=32767&x,M=g[L];if(m[A]=M,g[L]=A,C<=x){var I=s-x;if((_>7e3||T>24576)&&(I>423||!c)){u=wa(t,l,0,w,S,E,k,T,O,x-O,u),T=_=k=0,O=x;for(var N=0;N<286;++N)S[N]=0;for(N=0;N<30;++N)E[N]=0}var R=2,D=0,B=d,P=A-M&32767;if(I>2&&L==b(x-P))for(var j=Math.min(h,I)-1,W=Math.min(32767,x),U=Math.min(258,I);P<=W&&--B&&A!=M;){if(t[x+R]==t[x+R-P]){for(var F=0;F<U&&t[x+F]==t[x+F-P];++F);if(F>R){if(R=F,D=P,F>j)break;var z=Math.min(P,F-2),H=0;for(N=0;N<z;++N){var $=x-P+N&32767,q=$-m[$]&32767;q>H&&(H=q,M=$)}}}P+=(A=M)-(M=m[A])&32767}if(D){w[T++]=268435456|Vs[R]<<18|Ks[D];var V=31&Vs[R],G=31&Ks[D];k+=Us[V]+Fs[G],++S[257+V],++E[G],C=x+R,++_}else w[T++]=t[x],++S[t[x]]}}for(x=Math.max(x,C);x<s;++x)w[T++]=t[x],++S[t[x]];u=wa(t,l,c,w,S,E,k,T,O,x-O,u),c||(o.r=7&u|l[u/8|0]<<3,u-=7,o.h=g,o.p=m,o.i=x,o.w=C)}else{for(x=o.w||0;x<s+c;x+=65535){var Y=x+65535;Y>=s&&(l[u/8|0]=c,Y=s),u=ba(l,u+1,t.subarray(x,Y))}o.i=s}return ua(a,0,r+ca(u)+i)}(t,null==e.level?6:e.level,null==e.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,i)},Ta=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},Ca=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function Oa(t,e){return xa(t,e||{},0,0)}function La(t,e){return function(t,e,n,r){var i=t.length,o=r?r.length:0;if(!i||e.f&&!e.l)return n||new Ps(0);var s=!n,a=s||2!=e.i,l=e.i;s&&(n=new Ps(3*i));var c=function(t){var e=n.length;if(t>e){var r=new Ps(Math.max(2*e,t));r.set(n),n=r}},u=e.f||0,f=e.p||0,h=e.b||0,d=e.l,p=e.d,m=e.m,g=e.n,y=8*i;do{if(!d){u=aa(t,f,1);var v=aa(t,f+1,3);if(f+=3,!v){var b=t[(A=ca(f)+4)-4]|t[A-3]<<8,w=A+b;if(w>i){l&&ha(0);break}a&&c(h+b),n.set(t.subarray(A,w),h),e.b=h+=b,e.p=f=8*w,e.f=u;continue}if(1==v)d=ra,p=oa,m=9,g=5;else if(2==v){var S=aa(t,f,31)+257,E=aa(t,f+10,15)+4,_=S+aa(t,f+5,31)+1;f+=14;for(var k=new Ps(_),x=new Ps(19),T=0;T<E;++T)x[zs[T]]=aa(t,f+3*T,7);f+=3*E;var C=sa(x),O=(1<<C)-1,L=Qs(x,C,1);for(T=0;T<_;){var A,M=L[aa(t,f,O)];if(f+=15&M,(A=M>>4)<16)k[T++]=A;else{var I=0,N=0;for(16==A?(N=3+aa(t,f,3),f+=2,I=k[T-1]):17==A?(N=3+aa(t,f,7),f+=3):18==A&&(N=11+aa(t,f,127),f+=7);N--;)k[T++]=I}}var R=k.subarray(0,S),D=k.subarray(S);m=sa(R),g=sa(D),d=Qs(R,m,1),p=Qs(D,g,1)}else ha(1);if(f>y){l&&ha(0);break}}a&&c(h+131072);for(var B=(1<<m)-1,P=(1<<g)-1,j=f;;j=f){var W=(I=d[la(t,f)&B])>>4;if((f+=15&I)>y){l&&ha(0);break}if(I||ha(2),W<256)n[h++]=W;else{if(256==W){j=f,d=null;break}var U=W-254;if(W>264){var F=Us[T=W-257];U=aa(t,f,(1<<F)-1)+qs[T],f+=F}var z=p[la(t,f)&P],H=z>>4;if(z||ha(3),f+=15&z,D=Ys[H],H>3&&(F=Fs[H],D+=la(t,f)&(1<<F)-1,f+=F),f>y){l&&ha(0);break}a&&c(h+131072);var $=h+U;if(h<D){var q=o-D,V=Math.min(D,$);for(q+h<0&&ha(3);h<V;++h)n[h]=r[q+h]}for(;h<$;++h)n[h]=n[h-D]}}e.l=d,e.p=j,e.b=h,e.f=u,d&&(u=1,e.m=m,e.d=p,e.n=g)}while(!u);return h!=n.length&&s?ua(n,0,h):n.subarray(0,h)}(t,{i:2},e&&e.out,e&&e.dictionary)}var Aa=function(t,e,n,r){for(var i in t){var o=t[i],s=e+i,a=r;Array.isArray(o)&&(a=Ta(r,o[1]),o=o[0]),o instanceof Ps?n[s]=[o,a]:(n[s+="/"]=[new Ps(0),a],Aa(o,s,n,r))}},Ma="undefined"!=typeof TextEncoder&&new TextEncoder,Ia="undefined"!=typeof TextDecoder&&new TextDecoder;try{Ia.decode(Ea,{stream:!0})}catch(t){}function Na(t,e){if(e){for(var n=new Ps(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}if(Ma)return Ma.encode(t);var i=t.length,o=new Ps(t.length+(t.length>>1)),s=0,a=function(t){o[s++]=t};for(r=0;r<i;++r){if(s+5>o.length){var l=new Ps(s+8+(i-r<<1));l.set(o),o=l}var c=t.charCodeAt(r);c<128||e?a(c):c<2048?(a(192|c>>6),a(128|63&c)):c>55295&&c<57344?(a(240|(c=65536+(1047552&c)|1023&t.charCodeAt(++r))>>18),a(128|c>>12&63),a(128|c>>6&63),a(128|63&c)):(a(224|c>>12),a(128|c>>6&63),a(128|63&c))}return ua(o,0,s)}var Ra,Da=function(t){var e=0;if(t)for(var n in t){var r=t[n].length;r>65535&&ha(9),e+=r+4}return e},Ba=function(t,e,n,r,i,o,s,a){var l=r.length,c=n.extra,u=a&&a.length,f=Da(c);Ca(t,e,null!=s?33639248:67324752),e+=4,null!=s&&(t[e++]=20,t[e++]=n.os),t[e]=20,e+=2,t[e++]=n.flag<<1|(o<0&&8),t[e++]=i&&8,t[e++]=255&n.compression,t[e++]=n.compression>>8;var h=new Date(null==n.mtime?Date.now():n.mtime),d=h.getFullYear()-1980;if((d<0||d>119)&&ha(10),Ca(t,e,d<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>1),e+=4,-1!=o&&(Ca(t,e,n.crc),Ca(t,e+4,o<0?-o-2:o),Ca(t,e+8,n.size)),Ca(t,e+12,l),Ca(t,e+14,f),e+=16,null!=s&&(Ca(t,e,u),Ca(t,e+6,n.attrs),Ca(t,e+10,s),e+=14),t.set(r,e),e+=l,f)for(var p in c){var m=c[p],g=m.length;Ca(t,e,+p),Ca(t,e+2,g),t.set(m,e+4),e+=4+g}return u&&(t.set(a,e),e+=u),e};"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout,function(t){t[t.STORED=0]="STORED",t[t.SHRUNK=1]="SHRUNK",t[t.REDUCED_1=2]="REDUCED_1",t[t.REDUCED_2=3]="REDUCED_2",t[t.REDUCED_3=4]="REDUCED_3",t[t.REDUCED_4=5]="REDUCED_4",t[t.IMPLODE=6]="IMPLODE",t[t.DEFLATE=8]="DEFLATE",t[t.DEFLATE64=9]="DEFLATE64",t[t.TERSE_OLD=10]="TERSE_OLD",t[t.BZIP2=12]="BZIP2",t[t.LZMA=14]="LZMA",t[t.TERSE_NEW=18]="TERSE_NEW",t[t.LZ77=19]="LZ77",t[t.WAVPACK=97]="WAVPACK",t[t.PPMD=98]="PPMD"}(Ra||(Ra={}));const Pa={[Ra.DEFLATE]:(t,e)=>La(new Uint8Array(t,0,e)),[Ra.STORED]:(t,e,n)=>new Uint8Array(t,0,n)};function ja(t){return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,2*(31&t))}const Wa=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];function Ua(t,e,n,r){if(0===r)return"";const i=new Uint8Array("buffer"in t?t.buffer:t).slice(n,n+r);return e?tn(i):[...i].map((t=>t>127?Wa[t-128]:String.fromCharCode(t))).join("")}var Fa,za=function(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!e&&t?r.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var p={};for(var m in r)p[m]="access"===m?{}:r[m];for(var m in r.access)p.access[m]=r.access[m];p.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var g=(0,n[d])("accessor"===l?{get:f.get,set:f.set}:f[c],p);if("accessor"===l){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(f.get=a),(a=s(g.set))&&(f.set=a),(a=s(g.init))&&i.unshift(a)}else(a=s(g))&&("field"===l?i.unshift(a):f[c]=a)}u&&Object.defineProperty(u,r.name,f),h=!0},Ha=function(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0};!function(t){t[t.MSDOS=0]="MSDOS",t[t.AMIGA=1]="AMIGA",t[t.OPENVMS=2]="OPENVMS",t[t.UNIX=3]="UNIX",t[t.VM_CMS=4]="VM_CMS",t[t.ATARI_ST=5]="ATARI_ST",t[t.OS2_HPFS=6]="OS2_HPFS",t[t.MAC=7]="MAC",t[t.Z_SYSTEM=8]="Z_SYSTEM",t[t.CP_M=9]="CP_M",t[t.NTFS=10]="NTFS",t[t.MVS=11]="MVS",t[t.VSE=12]="VSE",t[t.ACORN_RISC=13]="ACORN_RISC",t[t.VFAT=14]="VFAT",t[t.ALT_MVS=15]="ALT_MVS",t[t.BEOS=16]="BEOS",t[t.TANDEM=17]="TANDEM",t[t.OS_400=18]="OS_400",t[t.OSX=19]="OSX"}(Fa||(Fa={}));let $a=(()=>{var t,e,n,r,o,s,a,l,c,u;let h,d,p,m,g,y,v,b,w,S,E,_,k=[W()],x=[],T=[],C=[],O=[],L=[],A=[],M=[],I=[],N=[],R=[],D=[],B=[],P=[],j=[],U=[],F=[],z=[],q=[],V=[],G=[],Y=[];return class{static{d=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;p=[(t=$).uint32.bind(t)],m=[(e=$).uint16.bind(e)],g=[(n=$).uint16.bind(n)],y=[(r=$).uint16.bind(r)],v=[(o=$).uint32.bind(o)],b=[(s=$).uint32.bind(s)],w=[(a=$).uint32.bind(a)],S=[(l=$).uint32.bind(l)],E=[(c=$).uint16.bind(c)],_=[(u=$).uint16.bind(u)],za(null,null,p,{kind:"field",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:i},T,C),za(null,null,m,{kind:"field",name:"versionNeeded",static:!1,private:!1,access:{has:t=>"versionNeeded"in t,get:t=>t.versionNeeded,set:(t,e)=>{t.versionNeeded=e}},metadata:i},O,L),za(null,null,g,{kind:"field",name:"flags",static:!1,private:!1,access:{has:t=>"flags"in t,get:t=>t.flags,set:(t,e)=>{t.flags=e}},metadata:i},A,M),za(null,null,y,{kind:"field",name:"compressionMethod",static:!1,private:!1,access:{has:t=>"compressionMethod"in t,get:t=>t.compressionMethod,set:(t,e)=>{t.compressionMethod=e}},metadata:i},I,N),za(null,null,v,{kind:"field",name:"datetime",static:!1,private:!1,access:{has:t=>"datetime"in t,get:t=>t.datetime,set:(t,e)=>{t.datetime=e}},metadata:i},R,D),za(null,null,b,{kind:"field",name:"crc32",static:!1,private:!1,access:{has:t=>"crc32"in t,get:t=>t.crc32,set:(t,e)=>{t.crc32=e}},metadata:i},B,P),za(null,null,w,{kind:"field",name:"compressedSize",static:!1,private:!1,access:{has:t=>"compressedSize"in t,get:t=>t.compressedSize,set:(t,e)=>{t.compressedSize=e}},metadata:i},j,U),za(null,null,S,{kind:"field",name:"uncompressedSize",static:!1,private:!1,access:{has:t=>"uncompressedSize"in t,get:t=>t.uncompressedSize,set:(t,e)=>{t.uncompressedSize=e}},metadata:i},F,z),za(null,null,E,{kind:"field",name:"nameLength",static:!1,private:!1,access:{has:t=>"nameLength"in t,get:t=>t.nameLength,set:(t,e)=>{t.nameLength=e}},metadata:i},q,V),za(null,null,_,{kind:"field",name:"extraLength",static:!1,private:!1,access:{has:t=>"extraLength"in t,get:t=>t.extraLength,set:(t,e)=>{t.extraLength=e}},metadata:i},G,Y),za(null,h={value:d},k,{kind:"class",name:d.name,metadata:i},null,x),d=h.value,i&&Object.defineProperty(d,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Ha(d,x)}data;constructor(t){if(Ha(this,Y),this.data=t,H(this,t),67324752!==this.signature)throw new f(i.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.signature)}signature=Ha(this,T,void 0);versionNeeded=(Ha(this,C),Ha(this,O,void 0));flags=(Ha(this,L),Ha(this,A,void 0));compressionMethod=(Ha(this,M),Ha(this,I,void 0));datetime=(Ha(this,N),Ha(this,R,void 0));get lastModified(){return ja(this.datetime)}crc32=(Ha(this,D),Ha(this,B,void 0));compressedSize=(Ha(this,P),Ha(this,j,void 0));uncompressedSize=(Ha(this,U),Ha(this,F,void 0));nameLength=(Ha(this,z),Ha(this,q,void 0));extraLength=(Ha(this,V),Ha(this,G,void 0));get name(){return Ua(this.data,this.useUTF8,30,this.nameLength)}get extra(){const t=30+this.nameLength;return this.data.slice(t,t+this.extraLength)}get size(){return 30+this.nameLength+this.extraLength}get useUTF8(){return!!(2048&this.flags)}},d})();(()=>{var t,e;let n,r,o,s,a=[W()],l=[],c=[],u=[],h=[],d=[];(class{static{r=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;o=[(t=$).uint32.bind(t)],s=[(e=$).uint32.bind(e)],za(null,null,o,{kind:"field",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:i},c,u),za(null,null,s,{kind:"field",name:"length",static:!1,private:!1,access:{has:t=>"length"in t,get:t=>t.length,set:(t,e)=>{t.length=e}},metadata:i},h,d),za(null,n={value:r},a,{kind:"class",name:r.name,metadata:i},null,l),r=n.value,i&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Ha(r,l)}data;signature=Ha(this,c,void 0);length=(Ha(this,u),Ha(this,h,void 0));constructor(t){if(Ha(this,d),this.data=t,H(this,t),134630224!=this.signature)throw new f(i.EINVAL,"Invalid archive extra data record signature: "+this.signature)}get extraField(){return this.data.slice(8,8+this.length)}})})();let qa=(()=>{var t,e,n,r,o,s,a,l,c,u,h,d,p,m,g,y,v;let b,w,S,E,_,k,x,T,C,O,L,A,M,I,N,R,D,B,P,U=[W()],F=[],z=[],q=[],V=[],G=[],Y=[],K=[],X=[],J=[],Z=[],Q=[],tt=[],et=[],nt=[],rt=[],it=[],ot=[],st=[],at=[],lt=[],ct=[],ut=[],ft=[],ht=[],dt=[],pt=[],mt=[],gt=[],yt=[],vt=[],bt=[],wt=[],St=[],Et=[],_t=[];var kt=class{static{w=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;S=[(t=$).uint32.bind(t)],E=[(e=$).uint8.bind(e)],_=[(n=$).uint8.bind(n)],k=[(r=$).uint16.bind(r)],x=[(o=$).uint16.bind(o)],T=[(s=$).uint16.bind(s)],C=[(a=$).uint32.bind(a)],O=[(l=$).uint32.bind(l)],L=[(c=$).uint32.bind(c)],A=[(u=$).uint32.bind(u)],M=[(h=$).uint16.bind(h)],I=[(d=$).uint16.bind(d)],N=[(p=$).uint16.bind(p)],R=[(m=$).uint16.bind(m)],D=[(g=$).uint16.bind(g)],B=[(y=$).uint32.bind(y)],P=[(v=$).uint32.bind(v)],za(null,null,S,{kind:"field",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:i},z,q),za(null,null,E,{kind:"field",name:"zipVersion",static:!1,private:!1,access:{has:t=>"zipVersion"in t,get:t=>t.zipVersion,set:(t,e)=>{t.zipVersion=e}},metadata:i},V,G),za(null,null,_,{kind:"field",name:"attributeCompat",static:!1,private:!1,access:{has:t=>"attributeCompat"in t,get:t=>t.attributeCompat,set:(t,e)=>{t.attributeCompat=e}},metadata:i},Y,K),za(null,null,k,{kind:"field",name:"versionNeeded",static:!1,private:!1,access:{has:t=>"versionNeeded"in t,get:t=>t.versionNeeded,set:(t,e)=>{t.versionNeeded=e}},metadata:i},X,J),za(null,null,x,{kind:"field",name:"flag",static:!1,private:!1,access:{has:t=>"flag"in t,get:t=>t.flag,set:(t,e)=>{t.flag=e}},metadata:i},Z,Q),za(null,null,T,{kind:"field",name:"compressionMethod",static:!1,private:!1,access:{has:t=>"compressionMethod"in t,get:t=>t.compressionMethod,set:(t,e)=>{t.compressionMethod=e}},metadata:i},tt,et),za(null,null,C,{kind:"field",name:"datetime",static:!1,private:!1,access:{has:t=>"datetime"in t,get:t=>t.datetime,set:(t,e)=>{t.datetime=e}},metadata:i},nt,rt),za(null,null,O,{kind:"field",name:"crc32",static:!1,private:!1,access:{has:t=>"crc32"in t,get:t=>t.crc32,set:(t,e)=>{t.crc32=e}},metadata:i},it,ot),za(null,null,L,{kind:"field",name:"compressedSize",static:!1,private:!1,access:{has:t=>"compressedSize"in t,get:t=>t.compressedSize,set:(t,e)=>{t.compressedSize=e}},metadata:i},st,at),za(null,null,A,{kind:"field",name:"uncompressedSize",static:!1,private:!1,access:{has:t=>"uncompressedSize"in t,get:t=>t.uncompressedSize,set:(t,e)=>{t.uncompressedSize=e}},metadata:i},lt,ct),za(null,null,M,{kind:"field",name:"nameLength",static:!1,private:!1,access:{has:t=>"nameLength"in t,get:t=>t.nameLength,set:(t,e)=>{t.nameLength=e}},metadata:i},ut,ft),za(null,null,I,{kind:"field",name:"extraLength",static:!1,private:!1,access:{has:t=>"extraLength"in t,get:t=>t.extraLength,set:(t,e)=>{t.extraLength=e}},metadata:i},ht,dt),za(null,null,N,{kind:"field",name:"commentLength",static:!1,private:!1,access:{has:t=>"commentLength"in t,get:t=>t.commentLength,set:(t,e)=>{t.commentLength=e}},metadata:i},pt,mt),za(null,null,R,{kind:"field",name:"startDisk",static:!1,private:!1,access:{has:t=>"startDisk"in t,get:t=>t.startDisk,set:(t,e)=>{t.startDisk=e}},metadata:i},gt,yt),za(null,null,D,{kind:"field",name:"internalAttributes",static:!1,private:!1,access:{has:t=>"internalAttributes"in t,get:t=>t.internalAttributes,set:(t,e)=>{t.internalAttributes=e}},metadata:i},vt,bt),za(null,null,B,{kind:"field",name:"externalAttributes",static:!1,private:!1,access:{has:t=>"externalAttributes"in t,get:t=>t.externalAttributes,set:(t,e)=>{t.externalAttributes=e}},metadata:i},wt,St),za(null,null,P,{kind:"field",name:"headerRelativeOffset",static:!1,private:!1,access:{has:t=>"headerRelativeOffset"in t,get:t=>t.headerRelativeOffset,set:(t,e)=>{t.headerRelativeOffset=e}},metadata:i},Et,_t),za(null,b={value:w},U,{kind:"class",name:w.name,metadata:i},null,F),kt=w=b.value,i&&Object.defineProperty(w,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Ha(w,F)}zipData;_buffer;constructor(t,e){if(this.zipData=t,this._buffer=e,H(this,e),33639248!=this.signature)throw new f(i.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.signature);this.name=Ua(this._buffer,this.useUTF8,46,this.nameLength).replace(/\\/g,"/"),this.comment=Ua(this._buffer,this.useUTF8,46+this.nameLength+this.extraLength,this.commentLength)}signature=Ha(this,z,void 0);zipVersion=(Ha(this,q),Ha(this,V,void 0));attributeCompat=(Ha(this,G),Ha(this,Y,void 0));versionNeeded=(Ha(this,K),Ha(this,X,void 0));flag=(Ha(this,J),Ha(this,Z,void 0));get useUTF8(){return!!(2048&this.flag)}get isEncrypted(){return!!(1&this.flag)}compressionMethod=(Ha(this,Q),Ha(this,tt,void 0));datetime=(Ha(this,et),Ha(this,nt,void 0));get lastModified(){return ja(this.datetime)}crc32=(Ha(this,rt),Ha(this,it,void 0));compressedSize=(Ha(this,ot),Ha(this,st,void 0));uncompressedSize=(Ha(this,at),Ha(this,lt,void 0));nameLength=(Ha(this,ct),Ha(this,ut,void 0));extraLength=(Ha(this,ft),Ha(this,ht,void 0));commentLength=(Ha(this,dt),Ha(this,pt,void 0));startDisk=(Ha(this,mt),Ha(this,gt,void 0));internalAttributes=(Ha(this,yt),Ha(this,vt,void 0));externalAttributes=(Ha(this,bt),Ha(this,wt,void 0));headerRelativeOffset=(Ha(this,St),Ha(this,Et,void 0));name=Ha(this,_t);get extra(){const t=44+this.nameLength;return this._buffer.slice(t,t+this.extraLength)}comment;get size(){return j(kt)+this.nameLength+this.extraLength+this.commentLength}get isDirectory(){return!!(16&this.externalAttributes)||this.name.endsWith("/")}get isFile(){return!this.isDirectory}_data;_decompress(){const{compressionMethod:t,size:e,name:n}=new $a(this.zipData.slice(this.headerRelativeOffset)),r=this.zipData.slice(this.headerRelativeOffset+e),o=Pa[t];if("function"!=typeof o){const e=t in Ra?Ra[t]:t.toString();throw new f(i.EINVAL,`Invalid compression method on file '${n}': ${e}`)}return o(r,this.compressedSize,this.uncompressedSize,this.flag)}get data(){return this._data??=this._decompress(),this._data}get stats(){return new Le({mode:365|(this.isDirectory?ee:Qt),size:this.uncompressedSize,mtimeMs:this.lastModified.getTime()})}};return kt=w})(),Va=((()=>{var t,e;let n,r,o,s,a=[W()],l=[],c=[],u=[],h=[],d=[];(class{static{r=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;o=[(t=$).uint32.bind(t)],s=[(e=$).uint16.bind(e)],za(null,null,o,{kind:"field",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:i},c,u),za(null,null,s,{kind:"field",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:i},h,d),za(null,n={value:r},a,{kind:"class",name:r.name,metadata:i},null,l),r=n.value,i&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Ha(r,l)}data;constructor(t){if(Ha(this,d),this.data=t,H(this,t),84233040!=this.signature)throw new f(i.EINVAL,"Invalid digital signature signature: "+this.signature)}signature=Ha(this,c,void 0);size=(Ha(this,u),Ha(this,h,void 0));get signatureData(){return this.data.slice(6,6+this.size)}})})(),(()=>{var t,e,n,r,o,s,a,l;let c,u,h,d,p,m,g,y,v,b,w=[W()],S=[],E=[],_=[],k=[],x=[],T=[],C=[],O=[],L=[],A=[],M=[],I=[],N=[],R=[],D=[],B=[],P=[];return class{static{u=this}static{const i="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;h=[(t=$).uint32.bind(t)],d=[(e=$).uint16.bind(e)],p=[(n=$).uint16.bind(n)],m=[(r=$).uint16.bind(r)],g=[(o=$).uint16.bind(o)],y=[(s=$).uint32.bind(s)],v=[(a=$).uint32.bind(a)],b=[(l=$).uint16.bind(l)],za(null,null,h,{kind:"field",name:"signature",static:!1,private:!1,access:{has:t=>"signature"in t,get:t=>t.signature,set:(t,e)=>{t.signature=e}},metadata:i},E,_),za(null,null,d,{kind:"field",name:"disk",static:!1,private:!1,access:{has:t=>"disk"in t,get:t=>t.disk,set:(t,e)=>{t.disk=e}},metadata:i},k,x),za(null,null,p,{kind:"field",name:"entriesDisk",static:!1,private:!1,access:{has:t=>"entriesDisk"in t,get:t=>t.entriesDisk,set:(t,e)=>{t.entriesDisk=e}},metadata:i},T,C),za(null,null,m,{kind:"field",name:"diskEntryCount",static:!1,private:!1,access:{has:t=>"diskEntryCount"in t,get:t=>t.diskEntryCount,set:(t,e)=>{t.diskEntryCount=e}},metadata:i},O,L),za(null,null,g,{kind:"field",name:"totalEntryCount",static:!1,private:!1,access:{has:t=>"totalEntryCount"in t,get:t=>t.totalEntryCount,set:(t,e)=>{t.totalEntryCount=e}},metadata:i},A,M),za(null,null,y,{kind:"field",name:"size",static:!1,private:!1,access:{has:t=>"size"in t,get:t=>t.size,set:(t,e)=>{t.size=e}},metadata:i},I,N),za(null,null,v,{kind:"field",name:"offset",static:!1,private:!1,access:{has:t=>"offset"in t,get:t=>t.offset,set:(t,e)=>{t.offset=e}},metadata:i},R,D),za(null,null,b,{kind:"field",name:"commentLength",static:!1,private:!1,access:{has:t=>"commentLength"in t,get:t=>t.commentLength,set:(t,e)=>{t.commentLength=e}},metadata:i},B,P),za(null,c={value:u},w,{kind:"class",name:u.name,metadata:i},null,S),u=c.value,i&&Object.defineProperty(u,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i}),Ha(u,S)}data;constructor(t){if(Ha(this,P),this.data=t,H(this,t),101010256!=this.signature)throw new f(i.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: 0x"+this.signature.toString(16))}signature=Ha(this,E,void 0);disk=(Ha(this,_),Ha(this,k,void 0));entriesDisk=(Ha(this,x),Ha(this,T,void 0));diskEntryCount=(Ha(this,C),Ha(this,O,void 0));totalEntryCount=(Ha(this,L),Ha(this,A,void 0));size=(Ha(this,M),Ha(this,I,void 0));offset=(Ha(this,N),Ha(this,R,void 0));commentLength=(Ha(this,D),Ha(this,B,void 0));get comment(){return Ua(this.data,!0,22,this.commentLength)}},u})());class Ga extends(Go(Yo(Ye))){label;data;files=new Map;directories=new Map;_time=Date.now();static computeEOCD(t){const e=new DataView(t),n=Math.min(65557,t.byteLength-1);for(let r=22;r<n;r++)if(101010256===e.getUint32(t.byteLength-r,!0))return new Va(t.slice(t.byteLength-r));throw new f(i.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")}eocd;get endOfCentralDirectory(){return this.eocd}constructor(t,e){if(super(544893296,"zipfs"),this.label=t,this.data=e,this.eocd=Ga.computeEOCD(e),this.eocd.disk!=this.eocd.entriesDisk)throw new f(i.EINVAL,"ZipFS does not support spanned zip files.");let n=this.eocd.offset;if(4294967295===n)throw new f(i.EINVAL,"ZipFS does not support Zip64.");const r=n+this.eocd.size;for(;n<r;){const t=new qa(this.data,this.data.slice(n));if(t.name.startsWith("/"))throw new f(i.EPERM,"Unexpectedly encountered an absolute path in a zip file.");const e=t.name.endsWith("/")?t.name.slice(0,-1):t.name;this.files.set("/"+e,t),n+=t.size}for(const t of this.files.keys()){const{dir:e,base:n}=Z(t);this.directories.has(e)||this.directories.set(e,new Set),this.directories.get(e).add(n)}for(const t of this.directories.keys()){const{dir:e,base:n}=Z(t);""!=n&&(this.directories.has(e)||this.directories.set(e,new Set),this.directories.get(e).add(n))}}usage(){return{totalSpace:this.data.byteLength,freeSpace:0}}get numberOfCentralDirectoryEntries(){return this.files.size}statSync(t){if(this.directories.has(t))return new Le({mode:365|ee,size:4096,mtimeMs:this._time,ctimeMs:this._time,atimeMs:Date.now(),birthtimeMs:this._time});const e=this.files.get(t);if(!e)throw f.With("ENOENT",t,"stat");return e.stats}openFileSync(t,e){if(Fe(e))throw new f(i.EPERM,t);return new Ve(this,t,e,this.statSync(t))}readdirSync(t){if(!this.statSync(t).isDirectory())throw f.With("ENOTDIR",t,"readdir");const e=this.directories.get(t);if(!e)throw f.With("ENODATA",t,"readdir");return Array.from(e)}readSync(t,e,n,r){if(this.directories.has(t))throw f.With("EISDIR",t,"read");const{data:i}=this.files.get(t)??m(f.With("ENOENT",t,"read"));e.set(i.subarray(n,r))}}const Ya={name:"Zip",options:{data:{type:"object",required:!0,validator(t){if(!(t instanceof ArrayBuffer))throw new f(i.EINVAL,"option must be a ArrayBuffer.")}},name:{type:"string",required:!1}},isAvailable:()=>!0,create:t=>new Ga(t.name??"",t.data)};jo(class extends Ye{constructor(t,e,n=new Ke){super(t,e),this.index=n}usage(){return this.index.usage()}reloadFiles(){throw f.With("ENOTSUP")}reloadFilesSync(){throw f.With("ENOTSUP")}pathsForRename(t,e){if(!this.index.has(t))throw f.With("ENOENT",t,"rename");if((X(e)+"/").startsWith(t+"/"))throw f.With("EBUSY",X(t),"rename");const n=[];for(const[r,i]of this.index.entries()){const o=K(t,r);if(o.startsWith(".."))continue;let s=Y(e,o);s.endsWith("/")&&(s=s.slice(0,-1)),n.push({from:r,to:s,inode:i})}return n}async rename(t,e){if(t!=e){for(const{from:n,to:r,inode:i}of this.pathsForRename(t,e)){const t=new Uint8Array(i.size);await this.read(n,t,0,i.size),this.index.delete(n),this.index.set(r,i),await this.write(r,t,0)}await this.remove(t)}}renameSync(t,e){if(t!=e){for(const{from:n,to:r,inode:i}of this.pathsForRename(t,e)){const t=new Uint8Array(i.size);this.readSync(n,t,0,i.size),this.index.delete(n),this.index.set(r,i),this.writeSync(r,t,0)}this.removeSync(t)}}async stat(t){const e=this.index.get(t);if(!e)throw f.With("ENOENT",t,"stat");return new Le(e)}statSync(t){const e=this.index.get(t);if(!e)throw f.With("ENOENT",t,"stat");return new Le(e)}async openFile(t,e){var n;const r=null!==(n=this.index.get(t))&&void 0!==n?n:m(f.With("ENOENT",t,"openFile"));return new Ve(this,t,e,r)}openFileSync(t,e){var n;const r=null!==(n=this.index.get(t))&&void 0!==n?n:m(f.With("ENOENT",t,"openFile"));return new Ve(this,t,e,r)}_remove(t,e){const n=e?"unlink":"rmdir",r=this.index.get(t);if(!r)throw f.With("ENOENT",t,n);const i=(r.mode&Xt)==ee;if(!i&&!e)throw f.With("ENOTDIR",t,n);if(i&&e)throw f.With("EISDIR",t,n);this.index.delete(t)}async unlink(t){this._remove(t,!0),await this.remove(t)}unlinkSync(t){this._remove(t,!0),this.removeSync(t)}async rmdir(t){this._remove(t,!1),await this.remove(t)}rmdirSync(t){this._remove(t,!1),this.removeSync(t)}create(t,e){const n=(e.mode&Xt)==ee?"mkdir":"createFile";if(this.index.has(t))throw f.With("EEXIST",t,n);const r=this.index.get(X(t));if(!r)throw f.With("ENOENT",X(t),n);const i=this.index._alloc(),o=new ke({ino:i,data:i+1,mode:e.mode,size:0,uid:r.mode&ie?r.uid:e.uid,gid:r.mode&oe?r.gid:e.gid});return this.index.set(t,o),o}async createFile(t,e,n,r){const i=this.create(t,{mode:n|Qt,...r});return new Ve(this,t,e,i.toStats())}createFileSync(t,e,n,r){const i=this.create(t,{mode:n|Qt,...r});return new Ve(this,t,e,i.toStats())}async mkdir(t,e,n){this.create(t,{mode:e|ee,...n})}mkdirSync(t,e,n){this.create(t,{mode:e|ee,...n})}link(t,e){throw f.With("ENOSYS",e,"link")}linkSync(t,e){throw f.With("ENOSYS",e,"link")}async readdir(t){return Object.keys(this.index.directoryEntries(t))}readdirSync(t){return Object.keys(this.index.directoryEntries(t))}async sync(t,e,n){var r;const i=this.index.get(t);if(!i)throw f.With("ENOENT",t,"sync");i.update(n)&&await(null===(r=this.syncMetadata)||void 0===r?void 0:r.call(this,t,n)),e&&await this.write(t,e,0)}syncSync(t,e,n){var r;const i=this.index.get(t);if(!i)throw f.With("ENOENT",t,"sync");i.update(n)&&(null===(r=this.syncMetadataSync)||void 0===r||r.call(this,t,n)),e&&this.writeSync(t,e,0)}});class Ka{get name(){return Xa.name}constructor(t){this.storage=t}clear(){this.storage.clear()}clearSync(){this.storage.clear()}async sync(){}transaction(){return new gn(this)}keys(){return Object.keys(this.storage).map((t=>Number(t)))}get(t){const e=this.storage.getItem(t.toString());if("string"==typeof e)return function(t){if("string"!=typeof t)throw new f(i.EINVAL,"Can not encode a non-string");return new Uint8Array(Array.from(t).map((t=>t.charCodeAt(0))))}(e)}set(t,e){try{this.storage.setItem(t.toString(),Xe(e))}catch{throw new f(i.ENOSPC,"Storage is full.")}}delete(t){try{this.storage.removeItem(t.toString())}catch(e){throw new f(i.EIO,"Unable to delete key "+t+": "+e)}}}const Xa={name:"WebStorage",options:{storage:{type:"object",required:!1}},isAvailable:(t=globalThis.localStorage)=>t instanceof globalThis.Storage,create:({storage:t=globalThis.localStorage})=>new mn(new Ka(t))};Yo(Ye);var Ja=__webpack_require__(213),Za=__webpack_require__(736),Qa=__webpack_require__.n(Za);function tl(){return((t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce(((t,e)=>t+((e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_")),""))(10)}function el(t){const e=nl(t).toLowerCase();return["png","jpg","jpeg","gif","bmp","webp"].includes(e)}function nl(t){return t.slice((t.lastIndexOf(".")-1>>>0)+2)}function rl(t){switch(nl(t).toLowerCase()){case"png":case"jpg":case"jpeg":case"gif":case"bmp":case"webp":return"icon-file-image";case"brs":case"xml":return"icon-file-code";default:return"icon-doc-text"}}function il(t){switch(nl(t).toLowerCase()){case"png":return"image/png";case"jpg":case"jpeg":return"image/jpeg";case"gif":return"image/gif";case"bmp":return"image/bmp";case"webp":return"image/webp";default:return"application/octet-stream"}}function ol(t,e=3e3,n=!1){Qa()({text:t,duration:e,close:!1,gravity:"bottom",position:"center",stopOnFocus:!0,className:n?"toastify-error":"toastify-success"}).showToast()}const sl=document.getElementById("code-selector"),al=document.querySelector(".folder-structure"),ll=document.getElementById("file-system"),cl=document.getElementById("image-panel"),ul=document.getElementById("image-preview"),fl=new Map;function hl(t){!function(){const t=[];for(let e=0;e<localStorage.length;e++){const n=localStorage.key(e);n&&10===n.length&&t.push(n)}if(0!==t.length)for(let e=0;e<t.length;e++){const n=t[e];console.log("Migrating code snippet: ",n);let r=`Code #${e+1}`;const i=localStorage.getItem(n);if(i){let t=i;i.startsWith("@=")&&(r=i.substring(2,i.indexOf("=@")),t=i.substring(i.indexOf("=@")+2)),Qn(`/code/${n}`)||xl(n,r,t),localStorage.removeItem(n)}}}();const e=new Array;fl.clear();const n=kr("/code");for(const t of n)if(10===t.length){const n=El(`/code/${t}/.snippet`);e.push([n,t]),fl.set(t,n)}e.sort(((t,e)=>t[0].toLowerCase().localeCompare(e[0].toLowerCase()))),sl.length=1;for(let n=0;n<e.length;n++){const r=e[n][1],i=r===t;sl.options[n+1]=new Option(e[n][0],r,!1,i)}dl(t,!1)}function dl(t,e){const n=Array.from(sl.options);for(const r of n)r.value===t&&(r.text=e?`• ${r.text.replace(/^• /,"")}`:r.text.replace(/^• /,""))}async function pl(t,e,n){try{if(!await async function(t){const e=await fetch(`./templates/${t}`);if(200!==e.status)return!1;const n=await e.arrayBuffer();return!!n&&(jn("/mnt/zip"),Pn("/mnt/zip",await Ro({backend:Ya,data:n})),!0)}(n))return void ol(`The template is missing: ${e}`,5e3,!0);const r=`/code/${t}`;vl("/mnt/zip",r),ur(`${r}/.snippet`,e)}catch(t){ol(`Error loading template ${n}: ${t.message}`,5e3,!0)}}async function ml(t,e,n){try{const r=await fetch(`./templates/${n}`),i=await r.text();200===r.status&&i?xl(t,e,i):ol(`The template is missing: ${e}`,5e3,!0)}catch(t){ol(`Error loading template ${n}: ${t.message}`,5e3,!0)}}function gl(t){const e=wl(`/code/${t}`);ll.innerHTML=Sl(e)}function yl(t){let e={};return function t(n,r){const i=kr(n);for(const o of i){const i=`${n}/${o}`,s=r?`${r}/${o}`:o;if(tr(i).isDirectory())t(i,s);else if(el(o)){const t=cr(i);e[s]=[t,{level:0}]}else if(".snippet"!==s){let t=cr(i,"utf-8");e[s]=[Na(t),{}]}}}(`/code/${t}`,""),function(t,e){e||(e={});var n={},r=[];Aa(t,"",n,e);var i=0,o=0;for(var s in n){var a=n[s],l=a[0],c=a[1],u=0==c.level?0:8,f=(_=Na(s)).length,h=c.comment,d=h&&Na(h),p=d&&d.length,m=Da(c.extra);f>65535&&ha(11);var g=u?Oa(l,c):l,y=g.length,v=ka();v.p(l),r.push(Ta(c,{size:l.length,crc:v.d(),c:g,f:_,m:d,u:f!=s.length||d&&h.length!=p,o:i,compression:u})),i+=30+f+m+y,o+=76+2*(f+m)+(p||0)+y}for(var b=new Ps(o+22),w=i,S=o-i,E=0;E<r.length;++E){var _=r[E];Ba(b,_.o,_,_.f,_.u,_.c.length);var k=30+_.f.length+Da(_.extra);b.set(_.c,_.o+k),Ba(b,i,_,_.f,_.u,_.c.length,_.o,_.m),i+=16+k+(_.m?_.m.length:0)}return function(t,e,n,r,i){Ca(t,e,101010256),Ca(t,e+8,n),Ca(t,e+10,n),Ca(t,e+12,r),Ca(t,e+16,i)}(b,i,r.length,S,w),b}(e)}function vl(t,e){const n=kr(t);bl(e);for(const r of n){const n=`${t}/${r}`,i=`${e}/${r}`;tr(n).isDirectory()?vl(n,i):ur(i,cr(n))}}function bl(t){const e=t.split("/");let n="";for(const t of e)t&&(n+=`/${t}`,Qn(n)||_r(n))}function wl(t){const e={},n=kr(t);for(const r of n){const n=`${t}/${r}`;tr(n).isDirectory()?e[r]=wl(n):e[r]=null}return e}function Sl(t,e=""){let n="<ul>";for(const r in t){if(r.startsWith("."))continue;const i=e?`${e}/${r}`:r;if(null===t[r]){const t=rl(r);"main.brs"===r?(Ll=i,n+=`<li data-type="file" data-path="${i}" class="selected"><i class="${t}"></i>${r}</li>`):n+=`<li data-type="file" data-path="${i}"><i class="${t}"></i>${r}</li>`}else n+=`<li data-type="folder"><i class="icon-folder-open"></i>${r}`,n+=Sl(t[r],i),n+="</li>"}return n+="</ul>",n}function El(t){try{return cr(t,"utf-8")}catch(e){return console.error("error reading ",t,e),""}}function _l(t){return Qn(`/code/${t}`)}function kl(t){return Array.from(fl.values()).includes(t)}function xl(t,e,n){try{_r(`/code/${t}`),ur(`/code/${t}/.snippet`,e),_r(`/code/${t}/source`),ur(`/code/${t}/source/main.brs`,n)}catch(t){ol(`Error saving code snippet ${e}: ${t.message}`,5e3,!0)}}function Tl(t,e){const n=`/code/${t}`;try{if(Qn(`${n}/${Ll}`))return ur(`${n}/${Ll}`,e),!0;ol(`File not found: ${Ll}`,5e3,!0)}catch(t){ol(`Error saving code snippet: ${t.message}`,5e3,!0)}return!1}function Cl(t){const e=`/code/${t}`;Qn(e)?Ol(e):ol("Code snippet not found",5e3,!0)}function Ol(t){const e=kr(t);for(const n of e){const e=`${t}/${n}`;if(tr(e).isDirectory())Ol(e);else try{rr(e)}catch(t){console.error("error deleting file: ",e,t)}}try{Er(t)}catch(e){console.error("error deleting folder: ",t,e)}}let Ll="",Al=0;function Ml(){cl.style.display="none",ul.src=""}function Il(t,e,n){const r=kr(t);for(const o of r){const r=`${t}/${o}`,s=e?`${e}/${o}`:o,a=tr(r);if(!o.startsWith("."))if(a.isDirectory())Il(r,s,n);else{const t=cr(r);el(o)?n[s]=`data:image/${i=o,i.split(".").pop()??""};base64,${t.toString("base64")}`:n[s]=t.toString("utf-8")}}var i}var Nl=__webpack_require__(237);__webpack_require__(829),__webpack_require__(218),__webpack_require__(923),__webpack_require__(576),__webpack_require__(236);class Rl{tagElement;editor;config={lineWrapping:!0,theme:"vscode-dark",lineNumbers:!0,indentUnit:4,indentWithTabs:!0,electricChars:!1,matchBrackets:!0,autoCloseBrackets:'()[]{}``""',mode:"brightscript"};constructor(t,e){var n;this.tagElement=t,(n=Nl).defineMode("brightscript",(function(t,e){const n="error";function r(t){return new RegExp(`^((${t.join(")|(")}))\\b`,"i")}const i=/^[+\-/*&\\^<>=]/,o=/^((<>)|(<=)|(>=)|(<<)|(>>))/,s=/^[.,;:$%!#&@?]/,a=/^[(){}[\]]/,l=/^[_A-Za-z]\w*(?=\()/,c=/^[_A-Za-z]\w*/,u=r(["and","or","not","mod"]);let f=["global","m"];const h=["getdefaultfont","clear","push","next","replace","write","writeline","close","open","state","update","addnew","tostr","toint"];f=f.concat(["LINE_NUM"]);const d=r(["dim","print","goto","library"]),p=r(["object","dynamic","boolean","string","integer","longinteger","double","float","void"]),m=r(["true","false","invalid"]),g=r(["box","createobject","getglobalaa","getlastruncompileerror","getlastrunruntimeerror","type","copyfile","createdirectory","deletefile","findmemberfunction","formatdrive","formatjson","getinterface","listdir","matchfiles","movefile","parsejson","readasciifile","rebootsystem","rungarbagecollector","sleep","strtoi","uptime","wait","writeasciifile","asc","chr","instr","lcase","left","len","mid","right","str","stri","string","stringi","substitute","tr","ucase","val","abs","atn","cdbl","cint","cos","csng","exp","fix","int","log","sgn","sin","sqr","tan"]),y=r(f),v=r(h),b=r(["sub","function"]),w=r(["endsub","endfunction"]),S=r(["while","if","for","try"]),E=r(["catch","continue for","continue while","else if","elseif","else","exit for","exit while","to","step","in","then","each","as","return","stop","throw"]),_=r(["next","endif","end if","endfor","end for","endwhile","end while","endtry","end try"]),k=r(["end"]),x=r(["do"]),T=r(["library"]),C=r(["rem"]);function O(t,e){e.currentIndent++}function L(t,e){e.currentIndent--}function A(t,r){if(t.eatSpace())return"space";if("'"===t.peek())return t.skipToEnd(),"comment";if(t.match(C))return t.skipToEnd(),"comment";if(t.match(/^((&H)|(&O))?[0-9.]/i,!1)&&!t.match(/^((&H)|(&O))?[0-9.]+[a-z_]/i,!1)){let e=!1;if((t.match(/^\d*\.\d+/i)||t.match(/^\d+\.\d*/)||t.match(/^\.\d+/))&&(e=!0),e)return t.eat(/J/i),"number";let n=!1;if(t.match(/^&H[0-9a-f]+/i)||t.match(/^&O[0-7]+/i)?n=!0:t.match(/^[1-9]\d*F?/)?(t.eat(/J/i),n=!0):t.match(/^0(?![\dx])/i)&&(n=!0),n)return t.eat(/L/i),"number"}if(t.match('"'))return r.tokenize=function(t){const r=1==t.length,i="string";return function(o,s){for(;!o.eol();){if(o.eatWhile(/[^'"]/),o.match(t))return s.tokenize=A,i;o.eat(/['"]/)}if(r){if(e.singleLineStringErrors)return n;s.tokenize=A}return i}}(t.current()),r.tokenize(t,r);if(t.match(o)||t.match(i)||t.match(u))return"operator";if(t.match(s))return null;if(t.match(a))return"bracket";if(t.match(T))return r.doInCurrentLine=!0,"control";if(t.match(x))return O(0,r),r.doInCurrentLine=!0,"keyword";if(t.match(b))return r.doInCurrentLine?r.doInCurrentLine=!1:O(0,r),"keyword";if(t.match(S))return r.doInCurrentLine?r.doInCurrentLine=!1:O(0,r),"control";if(t.match(E))return"control";if(t.match(k)){" "===t.peek()&&t.eatSpace();let e="keyword";return t.match(S,!1)&&(e="control"),L(0,r),L(0,r),e}return t.match(w)?(r.doInCurrentLine?r.doInCurrentLine=!1:L(0,r),"keyword"):t.match(_)?(r.doInCurrentLine?r.doInCurrentLine=!1:L(0,r),"control"):t.match(p)?"type":t.match(d)?"keyword":t.match(m)?"atom":t.match(v)?"variable-2":t.match(g)?"builtin":t.match(y)?"keyword":t.match(l)?"variable-2":t.match(c)?"variable":(t.next(),n)}return{electricChars:"dDpPtTfFeE ",startState:function(){return{tokenize:A,lastToken:null,currentIndent:0,nextLineIndent:0,doInCurrentLine:!1,ignoreKeyword:!1}},token:function(t,e){t.sol()&&(e.currentIndent+=e.nextLineIndent,e.nextLineIndent=0,e.doInCurrentLine=0);let r=function(t,e){let r=e.tokenize(t,e),i=t.current();return"."===i?(r=e.tokenize(t,e),i=t.current(),r&&("variable"===r.substr(0,8)||"builtin"===r||"keyword"===r)||h.indexOf(i.substring(1))>-1?("builtin"!==r&&"keyword"!==r||(r="variable"),h.indexOf(i.substr(1))>-1&&(r="variable-2"),r):n):r}(t,e);return e.lastToken={style:r,content:t.current()},"space"===r&&(r=null),r},indent:function(e,n){const r=n.replace(/(^\s+)|(\s+$)/g,"");return r.match(w)||r.match(k)||r.match(E)?t.indentUnit*(e.currentIndent-1):e.currentIndent<0?0:e.currentIndent*t.indentUnit},lineComment:"'"}})),n.defineMIME("text/brs","brightscript"),this.config.theme=Dl(e),this.editor=Nl.fromTextArea(this.tagElement,this.config),this.editor.setOption("extraKeys",{"Ctrl-/":function(t){t.toggleComment()}})}setMode(t){this.editor.setOption("mode",t)}}function Dl(t){return"light"===t?"coda":"vscode-dark"}const Bl=JSON.parse('{"UU":"brs-fiddle","rE":"2.0.7"}'),Pl="brsFiddle",jl="MacOS"===(()=>{const t=window.navigator.userAgent,e=window.navigator.platform;let n=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(e)?n="MacOS":-1!==["iPhone","iPad","iPod"].indexOf(e)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(e)?n="Windows":/Android/.test(t)?n="Android":!n&&/Linux/.test(e)&&(n="Linux"),n})(),Wl=a()("lzma"),Ul=document.getElementById("brsCode"),Fl=document.querySelector("button.save"),zl=document.querySelector("button.run"),Hl=document.querySelector("button.clear-all"),$l=document.querySelector("button.break"),ql=document.querySelector("button.resume"),Vl=document.querySelector("button.end"),Gl=document.querySelector("button.share"),Yl=document.querySelector("main.editor"),Kl=document.querySelector("div.layout-separator"),Xl=document.querySelector("div.code"),Jl=document.querySelector("div.console"),Zl=document.getElementById("right-container"),Ql=document.getElementById("display"),tc=document.getElementById("keyboard"),ec=document.getElementById("gamepad"),nc=document.getElementById("audioSwitch"),rc=document.getElementById("audio-icon"),ic=document.getElementById("darkTheme"),oc=document.getElementById("theme-icon"),sc=document.getElementById("code-selector"),ac=document.getElementById("code-dialog"),lc=document.getElementById("actionType"),cc=document.getElementById("code-form"),uc=document.getElementById("confirm-dialog"),fc=document.getElementById("dialog-text"),hc=document.getElementById("confirm-button"),dc=document.getElementById("cancel-button"),pc=document.getElementById("more-options"),mc=document.getElementById("more-options-dropdown"),gc=document.querySelector(".folder-structure"),yc=document.getElementById("file-system"),vc=yc.innerHTML,bc=document.getElementById("template-dialog"),wc=[{name:"Hello World (Draw2D)",path:"hello-world.brs"},{name:"Snake Game (Draw2D)",path:"snake-game.brs"},{name:"Ball Boing (Draw2D)",path:"ball-boing.brs"},{name:"Collisions (Draw2D)",path:"collisions.zip"},{name:"Hello World (SceneGraph)",path:"hello-world.zip"},{name:"Simple Task (SceneGraph)",path:"simple-task.zip"},{name:"Bounding Rect (SceneGraph)",path:"bounding-rect.zip"},{name:"Label List (SceneGraph)",path:"label-list.zip"},{name:"Markup Grid (SceneGraph)",path:"markup-grid.zip"},{name:"Keyboard Dlg (SceneGraph)",path:"keyboard-dialog.zip"},{name:"Video List (SceneGraph)",path:"video-list.zip"}],Sc=function(){let t={codeId:"",audio:!0,keys:!0,gamePads:!0,darkTheme:globalThis.matchMedia("(prefers-color-scheme: dark)")?.matches};const e=localStorage.getItem(`${Pl}.state`);return e&&(t=Object.assign(t,JSON.parse(e))),t}();nc.checked=Sc.audio,tc.checked=Sc.keys,ec.checked=Sc.gamePads,ic.checked=Sc.darkTheme;const Ec="Brightscript Debugger",_c={help:t=>{r.debug("help")},version:t=>{t.output(`<br />BrightScript Simulation Engine v${r.getVersion()}<br />`)}},kc=new(c())({welcome:`<span style='color: #2e71ff'>BrightScript Console - ${Bl.UU} v${Bl.rE} -  brs-engine v${r.getVersion()}</span>`,container:"console-logs",commands:_c,prompt:Ec,ignoreBadCommand:!0,autoFocus:!1,colorTheme:Sc.darkTheme?"dark":"light"});kc.idle(),Fl.addEventListener("click",Uc),zl.addEventListener("click",zc),Hl.addEventListener("click",qc),$l.addEventListener("click",Hc),ql.addEventListener("click",(function(){Tc.running&&r.debug("cont")})),Vl.addEventListener("click",$c),Gl.addEventListener("click",(function(){let t=xc.editor.getValue();t&&""!==t.trim()?("0"!==sc.value&&(t=`@=${sc.options[sc.selectedIndex].text.replace(/^• /,"")}=@${t}`),function(t){if(!t)return Promise.resolve(null);const e=[t.id,t.code];return Wl.compress(e).then((function(t){return Jc()+"?code="+t}))}({id:Lc,code:t}).then((function(t){navigator.clipboard.writeText(t),t.length>2048?ol("Share URL copied to clipboard, but it's longer than 2048 bytes, consider exporting as a file instead!",7e3,!0):ol("Share URL copied to clipboard")}))):ol("There is no Source Code to share",3e3,!0)})),Kl.addEventListener("mousedown",(function(){Oc=!0})),pc.addEventListener("click",(function(t){t.stopPropagation(),"block"===mc.style.display?mc.style.display="none":mc.style.display="block"})),document.addEventListener("click",(function(t){mc.contains(t.target)||t.target===pc||(mc.style.display="none")})),document.getElementById("templates-option")?.addEventListener("click",(function(){bc.showModal()})),document.getElementById("rename-option")?.addEventListener("click",(function(){if(Lc&&_l(Lc)){lc.value="rename";const t=sc.options[sc.selectedIndex].text;cc.codeName.value=t.replace(/^• /,""),ac.showModal()}else ol("There is no code snippet selected to rename!",3e3,!0)})),document.getElementById("saveas-option")?.addEventListener("click",(function(){if(Lc&&_l(Lc)){lc.value="saveas";const t=sc.options[sc.selectedIndex].text+" (Copy)";cc.codeName.value=t.replace(/^• /,""),ac.showModal()}else ol("There is no code snippet selected to save as!",3e3,!0)})),document.getElementById("delete-option")?.addEventListener("click",(async function(){Lc&&_l(Lc)?await Pc("Are you sure you want to delete this code?")&&(Cl(Lc),Lc=tl(),Wc(!0),yc.innerHTML=vc,Mc="",ol("Code deleted from the browser local storage!",3e3)):ol("There is no code snippet selected to delete!",3e3,!0)})),document.getElementById("export-option")?.addEventListener("click",(function(){let t=xc.editor.getValue();t&&""!==t.trim()?function(t){const e={},n=`/code/${t}`;if(Qn(n)){const r=El(`${n}/.snippet`),i={};Il(n,"",i),e[t]={name:r,files:i};const o=r.toLowerCase().replaceAll(/\s+/g,"-").replace(/^• /,"").replaceAll(/[^a-z0-9-]/g,""),s=JSON.stringify(e,null,2),a=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(a);(0,Ja.saveAs)(a,`${o}.json`),URL.revokeObjectURL(l)}else ol("Code snippet not found",3e3,!0)}(Lc):ol("There is no Code Snippet to Export",3e3,!0)})),document.getElementById("export-all-option")?.addEventListener("click",(function(){const t={},e=kr("/code");for(const n of e)if(10===n.length){const e=El(`/code/${n}/.snippet`),r={};Il(`/code/${n}`,"",r),t[n]={name:e,files:r}}const n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download="codesnippets.json",o.click(),URL.revokeObjectURL(i)})),document.getElementById("import-option")?.addEventListener("click",(function(){(async function(){return new Promise(((t,e)=>{const n=document.createElement("input");n.type="file",n.accept=".json,.brs,application/json,text/brs",n.onchange=async n=>{const r=n.target.files?.[0];if(r)try{const e=await r.text();if(r.name.endsWith(".brs"))return xl(tl(),r.name,e),void t();const n=JSON.parse(e);for(const t in n){const e=n[t],r=`/code/${t}`;Qn(r)||_r(r),ur(`${r}/.snippet`,e.name);for(const t in e.files){const n=`${r}/${t}`;bl(n.substring(0,n.lastIndexOf("/")));const i=e.files[t];if(i.startsWith("data:image/")){const t=i.split(",")[1];ur(n,Buffer.from(t,"base64"))}else ur(n,i)}}t()}catch(t){ol("Failed to import code snippets",3e3,!0),e(t)}else e(new Error("No file selected"))},n.click()}))})().then((()=>{ol("Code snippet(s) imported to the browser local storage!",3e3),Lc?(hl(Lc),dl(Lc,Ac)):Wc(!0)}))}));let xc,Tc={id:"",running:!1},Cc=document.getElementById("console-logs"),Oc=!1,Lc=tl(),Ac=!1,Mc="",Ic="";function Nc(t,e){"loaded"===t?(Tc=e,kc.output("<br />Executing source code...<br /><br />"),kc.idle()):"started"===t?(Tc=e,console.info(`Execution started ${Pl}`),zl.style.display="none",Vl.style.display="inline",$l.style.display="inline"):"debug"===t?(function(t){if("stop"===t?.level)kc.output("<br />"),kc.setPrompt(),ql.style.display="inline",$l.style.display="none";else if("continue"===t?.level)kc.idle(),ql.style.display="none",$l.style.display="inline";else if("beacon"!==t?.level&&"string"==typeof t?.content){let e=t.content.replaceAll("<","&lt;").replaceAll(">","&gt;");if("print"===t.level){const t=`${Ec}&gt; `.length;e.endsWith(`${Ec}&gt; `)&&(e=e.slice(0,e.length-t)),e=e.replaceAll(" ","&nbsp;")}else"warning"===t.level?e=kc.colorize(e.replaceAll(" ","&nbsp;"),"#d7ba7d"):"error"===t.level&&(e=kc.colors.brightRed(e.replaceAll(" ","&nbsp;")));const n=e.split(/\r\n?|\n/);for(const t of n)kc.output(t)}}(e),Rc()):"closed"!==t&&"error"!==t||(Tc=e,console.info(`Execution terminated! ${t}: ${e}`),kc.idle(),zl.style.display="inline",Vl.style.display="none",ql.style.display="none",$l.style.display="none")}function Rc(){if(Cc.children.length){const t=Cc.children[0],e=t.scrollHeight;t.scrollTo({top:e,left:0,behavior:"auto"})}}function Dc(){Ac=!1,dl(Lc,Ac)}let Bc=sc.value;function Pc(t){return new Promise((e=>{t&&(fc.innerText=t),uc.showModal(),hc.onclick=()=>{uc.close(),e(!0)},dc.onclick=()=>{uc.close(),e(!1)}}))}function jc(t){_l(t)?(Tc.running&&(r.terminate("EXIT_USER_NAV"),qc()),Lc=t,gl(t),Mc=eu(`/code/${t}/source/main.brs`)??"",Sc.codeId=t,Zc(),Dc()):ol("Could not find the code in the Local Storage!",3e3,!0)}function Wc(t){t&&hl(""),Tc.running&&(r.terminate("EXIT_USER_NAV"),qc());const e=Ql.getContext("2d",{alpha:!1});e?.clearRect(0,0,Ql.width,Ql.height),Mc="",xc.editor.setValue(""),xc.setMode("brightscript"),xc.editor.focus(),Sc.codeId="",Zc(),Dc()}function Uc(t){const e=xc.editor.getValue();if(!e?.trim())return void ol("There is no Source Code to save",3e3,!0);if("0"===sc.value)return lc.value="save",void ac.showModal();const n=sc.options[sc.selectedIndex].text.replace(/^• /,"");Tl(Lc,e)&&(sc.options[sc.selectedIndex].text=n,Mc=e,("boolean"!=typeof t||t)&&ol("Code saved in the browser local storage!\nTo share it use the Share button.",5e3),Dc())}function Fc(){ac.returnValue="",cc.codeName.value="",xc.editor.focus()}function zc(){if(Qn(`/code/${Lc}/manifest`)){Ac&&Uc(!1);const t=yl(Lc);return void(t?function(t,e){r.execute(t,e,{clearDisplayOnExit:!1,debugOnCrash:!0,muteSound:!nc.checked},new Map([["source","auto-run-dev"]]))}(`${Pl}.zip`,t.buffer):ol("There was an error creating the ZIP file!",3e3,!0))}const t=xc.editor.getValue();if(t&&""!==t.trim())try{"0"!==sc.value&&Ac&&Uc(!1),r.execute("main.brs",xc.editor.getValue(),{clearDisplayOnExit:!1,debugOnCrash:!0,muteSound:!nc.checked})}catch(t){console.log(t),kc.output(`${t.name}: ${t.message}`),Rc()}else ol("There is no Source Code to run",3e3,!0)}function Hc(){Tc.running?r.debug("break"):ol("There is nothing running to debug",3e3,!0)}function $c(){Tc.running?r.terminate("EXIT_USER_NAV"):ol("There is nothing running to terminate",3e3,!0)}function qc(){kc.clear()}function Vc(){r.setControlMode({keyboard:tc.checked,gamePads:ec.checked}),Sc.keys=tc.checked,Sc.gamePads=ec.checked,Zc(),Ql.focus()}function Gc(t,e){return jl&&t.code===e&&t.metaKey||!jl&&t.code===e&&t.ctrlKey}function Yc(){let t=Ql.width,e=Ql.height;globalThis.innerWidth>=1220?(t=Zl.getBoundingClientRect().width,e=Math.trunc(9*t/16)):(e=globalThis.innerHeight/3,t=Math.trunc(16*e/9),t>globalThis.innerWidth&&(t=globalThis.innerWidth,e=Math.trunc(9*t/16))),r.redraw(!1,t,e)}function Kc(){if(Yc(),globalThis.innerWidth>=1220){const{height:t}=Xl.getBoundingClientRect();xc.editor.setSize("100%",t-25+"px"),Cc.style.height="100%"}else{xc.editor.setSize("100%",`${Math.trunc(globalThis.innerHeight/3.5)}px`),Xl.style.width="100%";const t=Cc.getBoundingClientRect(),e=globalThis.innerHeight-t.top;Cc.style.height=`${e}px`}Rc()}function Xc(t,e=globalThis.location.href){t=t.replaceAll(/[[\]]/g,"\\$&");const n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replaceAll("+"," ")):"":null}function Jc(){let t=globalThis.location.origin+globalThis.location.pathname;return t.endsWith("/")&&(t=t.slice(0,-1)),t}function Zc(){localStorage.setItem(`${Pl}.state`,JSON.stringify(Sc))}function Qc(t){const e=t?"dark":"light";document.documentElement.dataset.theme=e,document.body.style.colorScheme=e,Xl.style.colorScheme=e,Jl.style.colorScheme=e,Zl.style.colorScheme=e,xc&&xc.editor.setOption("theme",Dl(e)),kc.setColorTheme(e)}function tu(){const t=document.querySelector(".code-content"),e=xc.editor;gc?.addEventListener("click",(t=>{const n=t.target;if("LI"===n.tagName||"I"===n.tagName){const t=n.textContent?.trim(),r="folder"===n.dataset.type,i=n.dataset.path;if(t&&!r&&i){const t=`/code/${Lc}/${i}`;if(Ic===t)return void e.focus();if(el(t))return void function(t){const e=cr(t),n=new Blob([e],{type:il(t)}),r=URL.createObjectURL(n);ul.src=r,cl.style.display="block",Al++,setTimeout((()=>{Al--,0===Al&&Ml(),URL.revokeObjectURL(r)}),1e4)}(t);Ml(),"0"!==sc.value&&Ac&&Uc(!1),eu(t),function(t){const e=al?.querySelector("li.selected");e&&e.classList.remove("selected"),t.classList.add("selected"),Ll=t.dataset.path??""}(n)}e.focus()}})),t?.addEventListener("click",(t=>{const n=t.target;n.closest(".folder-structure")||n.closest(".CodeMirror")||e.focus()}))}function eu(t){const e=xc.editor,n=El(t);let r;switch(nl(t)){case"brs":r="brightscript";break;case"xml":r="xml";break;case"":r="properties";break;default:return void ol("Unknown file cannot be loaded in the code editor.",3e3,!0)}return Ic=t,e.setValue(n),e.setOption("mode",r),Dc(),e.focus(),n}sc.addEventListener("mousedown",(async t=>{Bc=sc.value})),sc.addEventListener("change",(async t=>{if(Ac){if(!await Pc("There are unsaved changes, do you want to discard and continue?"))return t.preventDefault(),void(sc.value=Bc);const e=Array.from(sc.options);for(const[t,n]of e.entries()){const e=n.text.replace(/^• /,"");sc.options[t].text=e}}"0"===sc.value?(Lc=tl(),Wc(!1),yc.innerHTML=vc):jc(sc.value),Ml(),xc?.editor?.clearHistory()})),ac.addEventListener("close",(t=>{if("ok"===ac.returnValue){const t=cc.codeName.value.trim();if(t.length<3)return ol("Code snippet name must have least 3 characters!",3e3,!0),void Fc();if(kl(t))return ol("There is already a code snippet with this Name!",3e3,!0),void Fc();const e=xc.editor.getValue();if("rename"===lc.value)return function(t,e){const n=`/code/${t}/.snippet`;try{ur(n,e),fl.set(t,e)}catch(t){ol(`Error renaming code snippet: ${t.message}`,5e3,!0)}}(Lc,t),hl(Lc),ol("Code snippet renamed in the browser local storage.",5e3),void Fc();if("saveas"===lc.value){const n=Lc;Lc=tl(),function(t,e,n){const r=`/code/${t}`,i=`/code/${e}`;Qn(r)?(vl(r,i),ur(`${i}/.snippet`,n)):ol(`Code snippet not found: ${t}`,5e3,!0)}(n,Lc,t),Tl(Lc,e)}else xl(Lc,t,e);Mc=e,Sc.codeId=Lc,Zc(),hl(Lc),ol("Code saved in the browser local storage!\nTo share it use the Share button.",5e3),Dc()}Fc()})),ic.addEventListener("click",(t=>{oc.className=ic.checked?"icon-moon":"icon-sun",Sc.darkTheme=ic.checked,Qc(Sc.darkTheme),Zc()})),nc.addEventListener("click",(t=>{rc.className=nc.checked?"icon-sound-on":"icon-sound-off",Sc.audio=nc.checked,r.setAudioMute(!Sc.audio),Zc()})),tc.addEventListener("click",Vc),ec.addEventListener("click",Vc),globalThis.addEventListener("load",(async function(){Fl&&(Fl.title=jl?"CMD+S":"CTRL+S"),zl&&(zl.title=jl?"CMD+R":"CTRL+R"),Hl&&(Hl.title=jl?"CMD+L":"CTRL+L"),Vl&&(Vl.title=jl?"CTRL+ESC":"HOME"),$l&&($l.title=jl?"CTRL+C":"CTRL+B"),function(){if(Ul&&(xc=new Rl(Ul,"dark"),jl)){const t=document.querySelector(".CodeMirror");t&&delete t.CodeMirror.constructor.keyMap.emacsy["Ctrl-V"]}Qc(Sc.darkTheme);const{height:t}=Xl.getBoundingClientRect();xc.editor.setSize("100%",t-40+"px"),xc.editor.on("change",(()=>{if("0"===sc.value){const t=xc.editor.getValue();if(t&&""===t.trim())return void(Ac=!1)}xc.editor.getValue()===Mc?Dc():(Ac=!0,dl(Lc,Ac))}))}(),tu(),await async function(){await Bo({mounts:{"/code":{backend:Xa,storage:localStorage}}})}(),function(){const t=document.getElementById("template-list");t.innerHTML="";for(const e of wc){const n=document.createElement("li");n.textContent=e.name,n.dataset.path=e.path,n.addEventListener("click",(async()=>{bc.close(),kl(e.name)?ol("There is already a code snippet with this Name!",3e3,!0):(Lc=tl(),"zip"===nl(e.path)?await pl(Lc,e.name,e.path):await ml(Lc,e.name,e.path),hl(Lc),jc(Lc))})),t.appendChild(n)}bc.addEventListener("close",(()=>{xc.editor.focus()}))}();const t=Xc("code");if(t)return void(e=t,Wl.decompress(e).then((function(t){return{id:t[0]??null,code:t[1]??""}}))).then((function(t){t?.id&&t?.code&&(localStorage.setItem(t.id,t.code),localStorage.setItem(`${Pl}.load`,t.id)),globalThis.location.href=Jc()}));var e;const n=Xc("id");if(n?.length)return localStorage.setItem(`${Pl}.load`,n),void(globalThis.location.href=Jc());const i=localStorage.getItem(`${Pl}.load`)??Sc.codeId;if(hl(i),i?.length&&jc(i),localStorage.removeItem(`${Pl}.load`),Ql){let t="https://brs-cors-proxy.up.railway.app/";"localhost"===globalThis.location.hostname&&(t=""),r.initialize({developerId:Pl,corsProxy:t},{debugToConsole:!1,disableKeys:!tc.checked,disableGamePads:!ec.checked}),r.subscribe(Pl,Nc),Kc(),kc.onInput(((t,e,n)=>{n||r.debug(`${t} ${e.join(" ")}`)}))}xc.editor.focus(),function(){let t,e,n=0;for(e in localStorage)localStorage.hasOwnProperty(e)&&(t=2*(localStorage[e].length+e.length),n+=t);console.log("Current Local Storage usage is "+(n/1024).toFixed(2)+" KB"),(n/1024).toFixed(2)}()}),!1),globalThis.addEventListener("resize",Kc,!1),document.addEventListener("keydown",(function(t){r.setControlMode({keyboard:!xc.editor.hasFocus()&&tc.checked,gamePads:ec.checked}),Gc(t,"KeyR")?(t.preventDefault(),zc()):Gc(t,"KeyS")?(t.preventDefault(),Uc()):Gc(t,"KeyL")?(t.preventDefault(),qc()):Tc.running&&(jl&&"KeyC"===t.code&&t.ctrlKey||!jl&&"KeyB"===t.code&&t.ctrlKey?(t.preventDefault(),Hc()):(jl&&"Escape"===t.code&&t.ctrlKey||!jl&&"Home"===t.code)&&(t.preventDefault(),$c()))}),!1),document.addEventListener("mousemove",(function(t){if(Oc&&(t.preventDefault(),Yl&&Zl&&Xl&&Jl)){const{x:e,width:n}=Yl.getBoundingClientRect(),r=n-(n-(t.clientX-e))+"px",i=Zl.getBoundingClientRect();Xl.style.width=r,Zl.style.width=`${i.width}px`,Yc()}}),!1),document.addEventListener("mouseup",(function(){Oc&&(Yc(),Rc()),Oc=!1}),!1),document.addEventListener("mousedown",(function(t){Oc&&t.preventDefault()}),!1),globalThis.addEventListener("beforeunload",(t=>{if(Ac){const e="You have unsaved changes. Are you sure you want to leave?";return t.returnValue=e,e}return null}))})(),brsFiddle=__webpack_exports__})();
//# sourceMappingURL=brsFiddle.min.js.map