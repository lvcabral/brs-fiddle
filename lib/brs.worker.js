/*! For license information please see brs.worker.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("brs-worker",[],t):"object"==typeof exports?exports["brs-worker"]=t():e["brs-worker"]=t()}("undefined"!=typeof self?self:this,(()=>(()=>{var __webpack_modules__={5568:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},3244:e=>{"use strict";function t(e,t){if(!Array.isArray(t))return e.slice();for(var r=t.length,n=e.length,i=-1,s=[];++i<n;){for(var a=e[i],o=!1,c=0;c<r;c++)if(a===t[c]){o=!0;break}!1===o&&s.push(a)}return s}e.exports=function(e){for(var r=arguments.length,n=0;++n<r;)e=t(e,arguments[n]);return e}},4450:e=>{"use strict";e.exports=function(e){if(!Array.isArray(e))throw new TypeError("arr-union expects the first argument to be an array.");for(var t=arguments.length,r=0;++r<t;){var n=arguments[r];if(n){Array.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var s=n[i];e.indexOf(s)>=0||e.push(s)}}}return e}},7294:e=>{"use strict";e.exports=function(e){if(!Array.isArray(e))throw new TypeError("array-unique expects an array.");for(var t=e.length,r=-1;r++<t;)for(var n=r+1;n<e.length;++n)e[r]===e[n]&&e.splice(n--,1);return e},e.exports.immutable=function(t){if(!Array.isArray(t))throw new TypeError("array-unique expects an array.");for(var r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=t[i];return e.exports(n)}},7568:(e,t,r)=>{var n=t;n.bignum=r(9404),n.define=r(7363).define,n.base=r(9673),n.constants=r(2153),n.decoders=r(2853),n.encoders=r(4669)},7363:(e,t,r)=>{var n=r(7568),i=r(6698);function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(e){var t;try{t=r(8950).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},7227:(e,t,r)=>{var n=r(6698),i=r(9673).Reporter,s=r(8287).Buffer;function a(e,t){i.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function o(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof o||(e=new o(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(a,i),t.t=a,a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new a(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.d=o,o.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(r){r.join(e,t),t+=r.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},9673:(e,t,r)=>{var n=t;n.Reporter=r(9220).a,n.DecoderBuffer=r(7227).t,n.EncoderBuffer=r(7227).d,n.Node=r(993)},993:(e,t,r)=>{var n=r(9673).Reporter,i=r(9673).EncoderBuffer,s=r(9673).DecoderBuffer,a=r(3349),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function u(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=u;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};l.forEach((function(r){t[r]=e[r]}));var r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){var e=this._baseState;c.forEach((function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}}),this)},u.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,r=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==r.length&&(a(null===t.children),t.children=r,r.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),o.forEach((function(e){u.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(r),this}})),u.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},u.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,a=!0,o=null;if(null!==r.key&&(o=e.enterKey(r.key)),r.optional){var c=null;if(null!==r.explicit?c=r.explicit:null!==r.implicit?c=r.implicit:null!==r.tag&&(c=r.tag),null!==c||r.any){if(a=this._peekTag(e,c,r.any),e.isError(a))return a}else{var u=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(u)}}if(r.obj&&a&&(n=e.enterObject()),a){if(null!==r.explicit){var l=this._decodeTag(e,r.explicit);if(e.isError(l))return l;e=l}var h=e.offset;if(null===r.use&&null===r.choice){r.any&&(u=e.save());var f=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(f))return f;r.any?i=e.raw(u):e=f}if(t&&t.track&&null!==r.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach((function(r){r._decode(e,t)})),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var d=new s(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(d,t)}}return r.obj&&a&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==a?null!==o&&e.exitKey(o):e.leaveKey(o,r.key,i),i},u.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some((function(s){var a=e.save(),o=r.choice[s];try{var c=o._decode(e,t);if(e.isError(c))return!1;n={type:s,value:c},i=!0}catch(t){return e.restore(a),!1}return!0}),this),i?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},u.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},u.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var s=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,o=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,r)._encode(e,t),o=!0;else if(i.children)a=i.children.map((function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)}),c))}else null!==i.use?s=this._getUse(i.use,r)._encode(e,t):(a=this._encodePrimitive(i.tag,e),o=!0);if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===u?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(s=this._encodeComposite(u,o,l,a))}return null!==i.explicit&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},u.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},9220:(e,t,r)=>{var n=r(6698);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}t.a=i,i.prototype.isError=function(e){return e instanceof s},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof s;if(t=n?e:new s(r.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},4598:(e,t,r)=>{var n=r(2153);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n._reverse(t.tag)},2153:(e,t,r)=>{var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r})),t},n.der=r(4598)},2010:(e,t,r)=>{var n=r(6698),i=r(7568),s=i.base,a=i.bignum,o=i.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.Node.call(this,"der",e)}function l(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=o.tagClass[r>>6],i=!(32&r);if(31&~r)r&=31;else{var s=r;for(r=0;!(128&~s);){if(s=e.readUInt8(t),e.isError(s))return s;r<<=7,r|=127&s}}return{cls:n,primitive:i,tag:r,tagStr:o.tag[r]}}function h(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(!(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var s=0;s<i;s++){n<<=8;var a=e.readUInt8(r);if(e.isError(a))return a;n|=a}return n}e.exports=c,c.prototype.decode=function(e,t){return e instanceof s.DecoderBuffer||(e=new s.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(u,s.Node),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){var n=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=h(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var r=l(e,t);if(e.isError(r))return r;var n,i=h(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var s=this._peekTag(e,"end");if(e.isError(s))return s;var a=r.decode(e,"der",n);if(e.isError(a)&&s)break;i.push(a)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(2*s));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var o=e.raw().toString("ascii");return this._isPrintstr(o)?o:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){for(var n,i=[],s=0;!e.isEmpty();){var a=e.readUInt8();s<<=7,s|=127&a,128&a||(i.push(s),s=0)}128&a&&i.push(s);var o=i[0]/40|0,c=i[0]%40;if(n=r?i:[o,c].concat(i.slice(1)),t){var u=t[n.join(" ")];void 0===u&&(u=t[n.join(".")]),void 0!==u&&(n=u)}return n},u.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),o=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),a=0|r.slice(6,8),o=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,a,o,c,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var r=e.raw(),n=new a(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},2853:(e,t,r)=>{var n=t;n.der=r(2010),n.pem=r(8903)},8903:(e,t,r)=>{var n=r(6698),i=r(8287).Buffer,s=r(2010);function a(e){s.call(this,e),this.enc="pem"}n(a,s),e.exports=a,a.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,c=-1,u=0;u<r.length;u++){var l=r[u].match(a);if(null!==l&&l[2]===n){if(-1!==o){if("END"!==l[1])break;c=u;break}if("BEGIN"!==l[1])break;o=u}}if(-1===o||-1===c)throw new Error("PEM section not found for: "+n);var h=r.slice(o+1,c).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var f=new i(h,"base64");return s.prototype.decode.call(this,f,t)}},82:(e,t,r)=>{var n=r(6698),i=r(8287).Buffer,s=r(7568),a=s.base,o=s.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){a.Node.call(this,"der",e)}function l(e){return e<10?"0"+e:e}e.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(u,a.Node),u.prototype._encodeComposite=function(e,t,r,n){var s,a=function(e,t,r,n){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),o.tagByName.hasOwnProperty(e))i=o.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=o.tagClassByName[r||"universal"]<<6)}(e,t,r,this.reporter);if(n.length<128)return(s=new i(2))[0]=a,s[1]=n.length,this._createEncoderBuffer([s,n]);for(var c=1,u=n.length;u>=256;u>>=8)c++;(s=new i(2+c))[0]=a,s[1]=128|c,u=1+c;for(var l=n.length;l>0;u--,l>>=8)s[u]=255&l;return this._createEncoderBuffer([s,n])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new i(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e))for(e=e.slice(),n=0;n<e.length;n++)e[n]|=0;if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var s=0;for(n=0;n<e.length;n++){var a=e[n];for(s++;a>=128;a>>=7)s++}var o=new i(s),c=o.length-1;for(n=e.length-1;n>=0;n--)for(a=e[n],o[c--]=127&a;(a>>=7)>0;)o[c--]=128|127&a;return this._createEncoderBuffer(o)},u.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[l(n.getFullYear()),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[l(n.getFullYear()%100),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new i(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var s=new i(n);return e.copy(s),0===e.length&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var a=e;a>=256;a>>=8)n++;for(a=(s=new Array(n)).length-1;a>=0;a--)s[a]=255&e,e>>=8;return 128&s[0]&&s.unshift(0),this._createEncoderBuffer(new i(s))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var s=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),s.length!==i.defaultBuffer.length)return!1;for(n=0;n<s.length;n++)if(s[n]!==i.defaultBuffer[n])return!1;return!0}},4669:(e,t,r)=>{var n=t;n.der=r(82),n.pem=r(735)},735:(e,t,r)=>{var n=r(6698),i=r(82);function s(e){i.call(this,e),this.enc="pem"}n(s,i),e.exports=s,s.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],s=0;s<r.length;s+=64)n.push(r.slice(s,s+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},160:e=>{"use strict";e.exports=function(e,t){if(null==e)throw new TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol)return e;if("function"!=typeof Object.getOwnPropertySymbols)return e;for(var r=Object.prototype.propertyIsEnumerable,n=Object(e),i=arguments.length,s=0;++s<i;)for(var a=Object(arguments[s]),o=Object.getOwnPropertySymbols(a),c=0;c<o.length;c++){var u=o[c];r.call(a,u)&&(n[u]=a[u])}return n}},7526:(e,t)=>{"use strict";t.byteLength=function(e){var t=o(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,s=o(e),a=s[0],c=s[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,c)),l=0,h=c>0?a-4:a;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],a=16383,o=0,u=n-i;o<u;o+=a)s.push(c(e,o,o+a>u?u:o+a));return 1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=s[a],n[s.charCodeAt(a)]=a;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,n){for(var i,s,a=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return a.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},224:(e,t,r)=>{"use strict";var n=r(537),i=r(7824),s=r(8413),a=r(5971),o=r(3798),c=r(2899),u=r(4049),l=r(967);function h(e){var t=e?s.namespace(e):s,r=[];function h(e,r){if(!(this instanceof h))return new h(e,r);t.call(this,e),this.is("base"),this.initBase(e,r)}return n.inherits(h,t),a(h),h.prototype.initBase=function(t,n){this.options=c({},this.options,n),this.cache=this.cache||{},this.define("registered",{}),e&&(this[e]={}),this.define("_callbacks",this._callbacks),o(t)&&this.visit("set",t),h.run(this,"use",r)},h.prototype.is=function(e){if("string"!=typeof e)throw new TypeError("expected name to be a string");return this.define("is"+u(e),!0),this.define("_name",e),this.define("_appname",e),this},h.prototype.isRegistered=function(e,t){return!!this.registered.hasOwnProperty(e)||(!1!==t&&(this.registered[e]=!0,this.emit("plugin",e)),!1)},h.prototype.use=function(e){return e.call(this,this),this},h.prototype.define=function(e,t){return o(e)?this.visit("define",e):(i(this,e,t),this)},h.prototype.mixin=function(e,t){return h.prototype[e]=t,this},h.prototype.mixins=h.prototype.mixins||[],Object.defineProperty(h.prototype,"base",{configurable:!0,get:function(){return this.parent?this.parent.base:this}}),i(h,"use",(function(e){return r.push(e),h})),i(h,"run",(function(e,t,r){for(var n=r.length,i=0;n--;)e[t](r[i++]);return h})),i(h,"extend",l.extend(h,(function(e,t){return e.prototype.mixins=e.prototype.mixins||[],i(e,"mixin",(function(t){var r=t(e.prototype,e);return"function"==typeof r&&e.prototype.mixins.push(r),e})),i(e,"mixins",(function(t){return h.run(t,"mixin",e.prototype.mixins),e})),e.prototype.mixin=function(t,r){return e.prototype[t]=r,this},h}))),i(h,"mixin",(function(e){var t=e(h.prototype,h);return"function"==typeof t&&h.prototype.mixins.push(t),h})),i(h,"mixins",(function(e){return h.run(e,"mixin",h.prototype.mixins),h})),i(h,"inherit",l.inherit),i(h,"bubble",l.bubble),h}e.exports=h(),e.exports.namespace=h},9404:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(7790).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,s=Math.min(e.length,r),a=t;a<s;a++){var o=e.charCodeAt(a)-48;i*=n,i+=o>=49?o-49+10:o>=17?o-17+10:o}return i}s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,a,o=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);return this.strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,a=s%n,o=Math.min(s,s-a)+r,c=0,l=r;l<o;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],a=i*s,o=67108863&a,c=a/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var l=c>>>26,h=67108863&c,f=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=f;d++){var p=u-d|0;l+=(a=(i=0|e.words[p])*(s=0|t.words[d])+h)/67108864|0,h=67108863&a}r.words[u]=0|h,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,a=0;a<this.length;a++){var o=this.words[a],c=(16777215&(o<<i|s)).toString(16);s=o>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==s||a!==this.length-1?l[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=h[e],d=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?g+r:l[u-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(e,t){return n(void 0!==a),this.toArrayLike(a,e,t)},s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var a,o,c="le"===t,u=new e(s),l=this.clone();if(c){for(o=0;!l.isZero();o++)a=l.andln(255),l.iushrn(8),u[o]=a;for(;o<s;o++)u[o]=0}else{for(o=0;o<s-i;o++)u[o]=0;for(o=0;!l.isZero();o++)a=l.andln(255),l.iushrn(8),u[s-o-1]=a}return u},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},s.prototype.ior=function(e){return n(!(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},s.prototype.iand=function(e){return n(!(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},s.prototype.ixor=function(e){return n(!(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,a=0;a<n.length;a++)s=(t=(0|r.words[a])-(0|n.words[a])+s)>>26,this.words[a]=67108863&t;for(;0!==s&&a<r.length;a++)s=(t=(0|r.words[a])+s)>>26,this.words[a]=67108863&t;if(0===s&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,s,a=e.words,o=t.words,c=r.words,u=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,g=d>>>13,m=0|a[2],y=8191&m,b=m>>>13,v=0|a[3],w=8191&v,S=v>>>13,E=0|a[4],x=8191&E,I=E>>>13,_=0|a[5],T=8191&_,k=_>>>13,A=0|a[6],C=8191&A,M=A>>>13,R=0|a[7],O=8191&R,D=R>>>13,P=0|a[8],L=8191&P,F=P>>>13,N=0|a[9],B=8191&N,U=N>>>13,j=0|o[0],V=8191&j,G=j>>>13,z=0|o[1],W=8191&z,q=z>>>13,$=0|o[2],H=8191&$,X=$>>>13,Y=0|o[3],K=8191&Y,Z=Y>>>13,J=0|o[4],Q=8191&J,ee=J>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ie=0|o[6],se=8191&ie,ae=ie>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,le=0|o[8],he=8191&le,fe=le>>>13,de=0|o[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(u+(n=Math.imul(h,V))|0)+((8191&(i=(i=Math.imul(h,G))+Math.imul(f,V)|0))<<13)|0;u=((s=Math.imul(f,G))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,V),i=(i=Math.imul(p,G))+Math.imul(g,V)|0,s=Math.imul(g,G);var ye=(u+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,q)|0)+Math.imul(f,W)|0))<<13)|0;u=((s=s+Math.imul(f,q)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,V),i=(i=Math.imul(y,G))+Math.imul(b,V)|0,s=Math.imul(b,G),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,q)|0)+Math.imul(g,W)|0,s=s+Math.imul(g,q)|0;var be=(u+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(f,H)|0))<<13)|0;u=((s=s+Math.imul(f,X)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(w,V),i=(i=Math.imul(w,G))+Math.imul(S,V)|0,s=Math.imul(S,G),n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,q)|0)+Math.imul(b,W)|0,s=s+Math.imul(b,q)|0,n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,H)|0,s=s+Math.imul(g,X)|0;var ve=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,K)|0))<<13)|0;u=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(x,V),i=(i=Math.imul(x,G))+Math.imul(I,V)|0,s=Math.imul(I,G),n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,q)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,q)|0,n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,H)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,Z)|0;var we=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;u=((s=s+Math.imul(f,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(T,V),i=(i=Math.imul(T,G))+Math.imul(k,V)|0,s=Math.imul(k,G),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,q)|0)+Math.imul(I,W)|0,s=s+Math.imul(I,q)|0,n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,X)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,ee)|0;var Se=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;u=((s=s+Math.imul(f,ne)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(C,V),i=(i=Math.imul(C,G))+Math.imul(M,V)|0,s=Math.imul(M,G),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,q)|0)+Math.imul(k,W)|0,s=s+Math.imul(k,q)|0,n=n+Math.imul(x,H)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(I,H)|0,s=s+Math.imul(I,X)|0,n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(S,K)|0,s=s+Math.imul(S,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,s=s+Math.imul(g,ne)|0;var Ee=(u+(n=n+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,ae)|0)+Math.imul(f,se)|0))<<13)|0;u=((s=s+Math.imul(f,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(O,V),i=(i=Math.imul(O,G))+Math.imul(D,V)|0,s=Math.imul(D,G),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,q)|0)+Math.imul(M,W)|0,s=s+Math.imul(M,q)|0,n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,ae)|0;var xe=(u+(n=n+Math.imul(h,ce)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(f,ce)|0))<<13)|0;u=((s=s+Math.imul(f,ue)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,G))+Math.imul(F,V)|0,s=Math.imul(F,G),n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,q)|0)+Math.imul(D,W)|0,s=s+Math.imul(D,q)|0,n=n+Math.imul(C,H)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(M,H)|0,s=s+Math.imul(M,X)|0,n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(S,re)|0,s=s+Math.imul(S,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,ue)|0;var Ie=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;u=((s=s+Math.imul(f,fe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(B,V),i=(i=Math.imul(B,G))+Math.imul(U,V)|0,s=Math.imul(U,G),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,q)|0)+Math.imul(F,W)|0,s=s+Math.imul(F,q)|0,n=n+Math.imul(O,H)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(D,H)|0,s=s+Math.imul(D,X)|0,n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(M,K)|0,s=s+Math.imul(M,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,ee)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(I,re)|0,s=s+Math.imul(I,ne)|0,n=n+Math.imul(w,se)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,ae)|0,n=n+Math.imul(y,ce)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(b,ce)|0,s=s+Math.imul(b,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(g,he)|0,s=s+Math.imul(g,fe)|0;var _e=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ge)|0)+Math.imul(f,pe)|0))<<13)|0;u=((s=s+Math.imul(f,ge)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,q))+Math.imul(U,W)|0,s=Math.imul(U,q),n=n+Math.imul(L,H)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(F,H)|0,s=s+Math.imul(F,X)|0,n=n+Math.imul(O,K)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(D,K)|0,s=s+Math.imul(D,Z)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(M,Q)|0,s=s+Math.imul(M,ee)|0,n=n+Math.imul(T,re)|0,i=(i=i+Math.imul(T,ne)|0)+Math.imul(k,re)|0,s=s+Math.imul(k,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,ae)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(S,ce)|0,s=s+Math.imul(S,ue)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(b,he)|0,s=s+Math.imul(b,fe)|0;var Te=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;u=((s=s+Math.imul(g,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(B,H),i=(i=Math.imul(B,X))+Math.imul(U,H)|0,s=Math.imul(U,X),n=n+Math.imul(L,K)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(F,K)|0,s=s+Math.imul(F,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(D,Q)|0,s=s+Math.imul(D,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ne)|0,n=n+Math.imul(T,se)|0,i=(i=i+Math.imul(T,ae)|0)+Math.imul(k,se)|0,s=s+Math.imul(k,ae)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(I,ce)|0,s=s+Math.imul(I,ue)|0,n=n+Math.imul(w,he)|0,i=(i=i+Math.imul(w,fe)|0)+Math.imul(S,he)|0,s=s+Math.imul(S,fe)|0;var ke=(u+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(b,pe)|0))<<13)|0;u=((s=s+Math.imul(b,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(B,K),i=(i=Math.imul(B,Z))+Math.imul(U,K)|0,s=Math.imul(U,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(F,Q)|0,s=s+Math.imul(F,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(D,re)|0,s=s+Math.imul(D,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,ae)|0,n=n+Math.imul(T,ce)|0,i=(i=i+Math.imul(T,ue)|0)+Math.imul(k,ce)|0,s=s+Math.imul(k,ue)|0,n=n+Math.imul(x,he)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(I,he)|0,s=s+Math.imul(I,fe)|0;var Ae=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ge)|0)+Math.imul(S,pe)|0))<<13)|0;u=((s=s+Math.imul(S,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(B,Q),i=(i=Math.imul(B,ee))+Math.imul(U,Q)|0,s=Math.imul(U,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(F,re)|0,s=s+Math.imul(F,ne)|0,n=n+Math.imul(O,se)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(D,se)|0,s=s+Math.imul(D,ae)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(M,ce)|0,s=s+Math.imul(M,ue)|0,n=n+Math.imul(T,he)|0,i=(i=i+Math.imul(T,fe)|0)+Math.imul(k,he)|0,s=s+Math.imul(k,fe)|0;var Ce=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ge)|0)+Math.imul(I,pe)|0))<<13)|0;u=((s=s+Math.imul(I,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(B,re),i=(i=Math.imul(B,ne))+Math.imul(U,re)|0,s=Math.imul(U,ne),n=n+Math.imul(L,se)|0,i=(i=i+Math.imul(L,ae)|0)+Math.imul(F,se)|0,s=s+Math.imul(F,ae)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(D,ce)|0,s=s+Math.imul(D,ue)|0,n=n+Math.imul(C,he)|0,i=(i=i+Math.imul(C,fe)|0)+Math.imul(M,he)|0,s=s+Math.imul(M,fe)|0;var Me=(u+(n=n+Math.imul(T,pe)|0)|0)+((8191&(i=(i=i+Math.imul(T,ge)|0)+Math.imul(k,pe)|0))<<13)|0;u=((s=s+Math.imul(k,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(B,se),i=(i=Math.imul(B,ae))+Math.imul(U,se)|0,s=Math.imul(U,ae),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,ue)|0)+Math.imul(F,ce)|0,s=s+Math.imul(F,ue)|0,n=n+Math.imul(O,he)|0,i=(i=i+Math.imul(O,fe)|0)+Math.imul(D,he)|0,s=s+Math.imul(D,fe)|0;var Re=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ge)|0)+Math.imul(M,pe)|0))<<13)|0;u=((s=s+Math.imul(M,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(B,ce),i=(i=Math.imul(B,ue))+Math.imul(U,ce)|0,s=Math.imul(U,ue),n=n+Math.imul(L,he)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(F,he)|0,s=s+Math.imul(F,fe)|0;var Oe=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(D,pe)|0))<<13)|0;u=((s=s+Math.imul(D,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(B,he),i=(i=Math.imul(B,fe))+Math.imul(U,he)|0,s=Math.imul(U,fe);var De=(u+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ge)|0)+Math.imul(F,pe)|0))<<13)|0;u=((s=s+Math.imul(F,ge)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863;var Pe=(u+(n=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,ge))+Math.imul(U,pe)|0))<<13)|0;return u=((s=Math.imul(U,ge))+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,c[0]=me,c[1]=ye,c[2]=be,c[3]=ve,c[4]=we,c[5]=Se,c[6]=Ee,c[7]=xe,c[8]=Ie,c[9]=_e,c[10]=Te,c[11]=ke,c[12]=Ae,c[13]=Ce,c[14]=Me,c[15]=Re,c[16]=Oe,c[17]=De,c[18]=Pe,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=d),s.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var a=i;i=0;for(var o=67108863&n,c=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=c;u++){var l=s-u,h=(0|e.words[l])*(0|t.words[u]),f=67108863&h;o=67108863&(f=f+o|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[s]=o,n=a,a=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,e,t):g(this,e,t),r},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,s){for(var a=0;a<s;a++)n[a]=t[e[a]],i[a]=r[e[a]]},m.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var o=a<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),l=0;l<i;l+=o)for(var h=c,f=u,d=0;d<a;d++){var p=r[l+d],g=n[l+d],m=r[l+d+a],y=n[l+d+a],b=h*m-f*y;y=h*y+f*m,m=b,r[l+d]=p+m,n[l+d]=g+y,r[l+d+a]=p-m,n[l+d+a]=g-y,d!==o&&(b=c*h-u*f,f=c*f+u*h,h=b)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var s=0,a=0;a<t;a++)s+=0|e[a],r[2*a]=8191&s,s>>>=13,r[2*a+1]=8191&s,s>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===s),n(!(-8192&s))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),a=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,s,o,c,n,i),this.transform(u,s,l,h,n,i);for(var d=0;d<n;d++){var p=o[d]*l[d]-c[d]*h[d];c[d]=o[d]*h[d]+c[d]*l[d],o[d]=p}return this.conjugate(o,c,n),this.transform(o,c,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),g(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,s=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=s>>>26,this.words[r]=67108863&s}return 0!==t&&(this.words[r]=t,this.length++),this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&s,c=(0|this.words[t])-o<<r;this.words[t]=c|a,a=o>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,a=Math.min((e-s)/26,this.length),o=67108863^67108863>>>s<<s,c=r;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s,l=h&o}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,a=e.length+r;this._expand(a);var o=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+o;var c=(0|e.words[i])*t;o=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)o=(s=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&s;if(0===o)return this.strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(s=-(0|this.words[i])+o)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!=(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,c=n.length-i.length;if("mod"!==t){(o=new s(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,o&&(o.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);o&&(o.words[h]=f)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):this.negative&e.negative?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},s.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),a=new s(0),o=new s(0),c=new s(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;!(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;!(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(l),c.isub(h)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(c)):(r.isub(t),o.isub(i),c.isub(a))}return{a:o,b:c,gcd:r.iushln(u)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new s(1),o=new s(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;!(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var h=0,f=1;!(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,a=r;0!==s&&a<this.length;a++){var o=0|this.words[a];s=(o+=s)>>>26,o&=67108863,this.words[a]=o}return 0!==s&&(this.words[a]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new x(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function I(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(v,b),v.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|s>>>22,s=a}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,b),i(S,b),i(E,b),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return y[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(!(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new s(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(o);){for(var g=d,m=0;0!==g.cmp(o);m++)g=g.redSqr();n(m<p);var y=this.pow(h,new s(1).iushln(p-m-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=m}return f},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4==++o||0===n&&0===l)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new I(e)},i(I,x),I.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},I.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},I.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},I.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},5037:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(3776);if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(e){}},462:(e,t,r)=>{var n=r(2861).Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function s(e){for(;0<e.length;e++)e[0]=0}function a(e,t,r,n,i){for(var s,a,o,c,u=r[0],l=r[1],h=r[2],f=r[3],d=e[0]^t[0],p=e[1]^t[1],g=e[2]^t[2],m=e[3]^t[3],y=4,b=1;b<i;b++)s=u[d>>>24]^l[p>>>16&255]^h[g>>>8&255]^f[255&m]^t[y++],a=u[p>>>24]^l[g>>>16&255]^h[m>>>8&255]^f[255&d]^t[y++],o=u[g>>>24]^l[m>>>16&255]^h[d>>>8&255]^f[255&p]^t[y++],c=u[m>>>24]^l[d>>>16&255]^h[p>>>8&255]^f[255&g]^t[y++],d=s,p=a,g=o,m=c;return s=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[g>>>8&255]<<8|n[255&m])^t[y++],a=(n[p>>>24]<<24|n[g>>>16&255]<<16|n[m>>>8&255]<<8|n[255&d])^t[y++],o=(n[g>>>24]<<24|n[m>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^t[y++],c=(n[m>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&g])^t[y++],[s>>>=0,a>>>=0,o>>>=0,c>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],a=0,o=0,c=0;c<256;++c){var u=o^o<<1^o<<2^o<<3^o<<4;u=u>>>8^255&u^99,r[a]=u,n[u]=a;var l=e[a],h=e[l],f=e[h],d=257*e[u]^16843008*u;i[0][a]=d<<24|d>>>8,i[1][a]=d<<16|d>>>16,i[2][a]=d<<8|d>>>24,i[3][a]=d,d=16843009*f^65537*h^257*l^16843008*a,s[0][u]=d<<24|d>>>8,s[1][u]=d<<16|d>>>16,s[2][u]=d<<8|d>>>24,s[3][u]=d,0===a?a=o=1:(a=l^e[e[e[f^l]]],o^=e[e[o]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function u(e){this._key=i(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],s=0;s<t;s++)i[s]=e[s];for(s=t;s<n;s++){var a=i[s-1];s%t==0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=o[s/t|0]<<24):t>6&&s%t==4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),i[s]=i[s-t]^a}for(var u=[],l=0;l<n;l++){var h=n-l,f=i[h-(l%4?0:4)];u[l]=l<4||h<=4?f:c.INV_SUB_MIX[0][c.SBOX[f>>>24]]^c.INV_SUB_MIX[1][c.SBOX[f>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[f>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&f]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},u.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=a(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),s=n.allocUnsafe(16);return s.writeUInt32BE(r[0],0),s.writeUInt32BE(r[3],4),s.writeUInt32BE(r[2],8),s.writeUInt32BE(r[1],12),s},u.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},e.exports.AES=u},2356:(e,t,r)=>{var n=r(462),i=r(2861).Buffer,s=r(6168),a=r(6698),o=r(5892),c=r(295),u=r(5122);function l(e,t,r,a){s.call(this);var c=i.alloc(4,0);this._cipher=new n.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new o(l),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new o(r),s=t.length,a=s%16;n.update(t),a&&(a=16-a,n.update(i.alloc(a,0))),n.update(i.alloc(8,0));var c=8*s,l=i.alloc(8);l.writeUIntBE(c,0,8),n.update(l),e._finID=n.state;var h=i.from(e._finID);return u(h),h}(this,r,l),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(l,s),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},1241:(e,t,r)=>{var n=r(5799),i=r(6171),s=r(3219);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(s)}},6171:(e,t,r)=>{var n=r(2356),i=r(2861).Buffer,s=r(530),a=r(650),o=r(6168),c=r(462),u=r(8078);function l(e,t,r){o.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function f(e,t,r){var o=s[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==o.mode&&r.length!==o.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===o.type?new a(o.module,t,r,!0):"auth"===o.type?new n(o.module,t,r,!0):new l(o.module,t,r)}r(6698)(l,o),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=i.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=s[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return f(e,n.key,n.iv)},t.createDecipheriv=f},5799:(e,t,r)=>{var n=r(530),i=r(2356),s=r(2861).Buffer,a=r(650),o=r(6168),c=r(462),u=r(8078);function l(e,t,r){o.call(this),this._cache=new f,this._cipher=new c.AES(t),this._prev=s.from(r),this._mode=e,this._autopadding=!0}r(6698)(l,o),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return s.concat(n)};var h=s.alloc(16,16);function f(){this.cache=s.allocUnsafe(0)}function d(e,t,r){var o=n[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=s.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=s.from(r)),"GCM"!==o.mode&&r.length!==o.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===o.type?new a(o.module,t,r):"auth"===o.type?new i(o.module,t,r):new l(o.module,t,r)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=s.concat([this.cache,e])},f.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},f.prototype.flush=function(){for(var e=16-this.cache.length,t=s.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return s.concat([this.cache,t])},t.createCipheriv=d,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=u(t,!1,r.key,r.iv);return d(e,i.key,i.iv)}},5892:(e,t,r)=>{var n=r(2861).Buffer,i=n.alloc(16,0);function s(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(!!(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=!!(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=s(i)},a.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(s([0,e,0,t])),this.state},e.exports=a},5122:e=>{e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},2884:(e,t,r)=>{var n=r(295);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},6383:(e,t,r)=>{var n=r(2861).Buffer,i=r(295);function s(e,t,r){var s=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(s),e._prev=n.concat([e._prev,r?t:a]),a}t.encrypt=function(e,t,r){for(var i,a=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){a=n.concat([a,s(e,t,r)]);break}i=e._cache.length,a=n.concat([a,s(e,t.slice(0,i),r)]),t=t.slice(i)}return a}},5264:(e,t,r)=>{var n=r(2861).Buffer;function i(e,t,r){for(var n,i,a=-1,o=0;++a<8;)n=t&1<<7-a?128:0,o+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>a%8,e._prev=s(e._prev,r?n:i);return o}function s(e,t){var r=e.length,i=-1,s=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)s[i]=e[i]<<1|e[i+1]>>7;return s}t.encrypt=function(e,t,r){for(var s=t.length,a=n.allocUnsafe(s),o=-1;++o<s;)a[o]=i(e,t[o],r);return a}},6975:(e,t,r)=>{var n=r(2861).Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}t.encrypt=function(e,t,r){for(var s=t.length,a=n.allocUnsafe(s),o=-1;++o<s;)a[o]=i(e,t[o],r);return a}},3053:(e,t,r)=>{var n=r(295),i=r(2861).Buffer,s=r(5122);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return s(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),s=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var o=0;o<r;o++){var c=a(e),u=s+16*o;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,l)}},2632:(e,t)=>{t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},530:(e,t,r)=>{var n={ECB:r(2632),CBC:r(2884),CFB:r(6383),CFB8:r(6975),CFB1:r(5264),OFB:r(6843),CTR:r(3053),GCM:r(3053)},i=r(3219);for(var s in i)i[s].module=n[i[s].mode];e.exports=i},6843:(e,t,r)=>{var n=r(8287).Buffer,i=r(295);function s(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=n.concat([e._cache,s(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,r)}},650:(e,t,r)=>{var n=r(462),i=r(2861).Buffer,s=r(6168);function a(e,t,r,a){s.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}r(6698)(a,s),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},125:(e,t,r)=>{var n=r(4050),i=r(1241),s=r(530),a=r(2438),o=r(8078);function c(e,t,r){if(e=e.toLowerCase(),s[e])return i.createCipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),s[e])return i.createDecipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=o(t,!1,r,n);return c(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=o(t,!1,r,n);return u(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},4050:(e,t,r)=>{var n=r(6168),i=r(9560),s=r(6698),a=r(2861).Buffer,o={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(e){n.call(this);var t,r=e.mode.toLowerCase(),i=o[r];t=e.decrypt?"decrypt":"encrypt";var s=e.key;a.isBuffer(s)||(s=a.from(s)),"des-ede"!==r&&"des-ede-cbc"!==r||(s=a.concat([s,s.slice(0,8)]));var c=e.iv;a.isBuffer(c)||(c=a.from(c)),this._des=i.create({key:s,iv:c,type:t})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=c,s(c,n),c.prototype._update=function(e){return a.from(this._des.update(e))},c.prototype._final=function(){return a.from(this._des.final())}},2438:(e,t)=>{t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},7332:(e,t,r)=>{"use strict";var n=r(9404),i=r(3209),s=r(2861).Buffer;function a(e){var t,r=e.modulus.byteLength();do{t=new n(i(r))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function o(e,t){var r=function(e){var t=a(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),i=t.modulus.byteLength(),o=new n(e).mul(r.blinder).umod(t.modulus),c=o.toRed(n.mont(t.prime1)),u=o.toRed(n.mont(t.prime2)),l=t.coefficient,h=t.prime1,f=t.prime2,d=c.redPow(t.exponent1).fromRed(),p=u.redPow(t.exponent2).fromRed(),g=d.isub(p).imul(l).umod(h).imul(f);return p.iadd(g).imul(r.unblinder).umod(t.modulus).toArrayLike(s,"be",i)}o.getr=a,e.exports=o},5715:(e,t,r)=>{"use strict";e.exports=r(2951)},20:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=r(7108),s=r(9198),a=r(6698),o=r(5359),c=r(4847),u=r(2951);function l(e){s.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){s.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new l(e)}function d(e){return new h(e)}Object.keys(u).forEach((function(e){u[e].id=n.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),a(l,s.Writable),l.prototype._write=function(e,t,r){this._hash.update(e),r()},l.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},l.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=o(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},a(h,s.Writable),h.prototype._write=function(e,t,r){this._hash.update(e),r()},h.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},h.prototype.verify=function(e,t,r){var i="string"==typeof t?n.from(t,r):t;this.end();var s=this._hash.digest();return c(i,s,e,this._signType,this._tag)},e.exports={Sign:f,Verify:d,createSign:f,createVerify:d}},5359:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=r(3507),s=r(7332),a=r(6729).ec,o=r(9404),c=r(8170),u=r(4589);function l(e,t,r,s){if((e=n.from(e.toArray())).length<t.byteLength()){var a=n.alloc(t.byteLength()-e.length);e=n.concat([a,e])}var o=r.length,c=function(e,t){e=(e=h(e,t)).mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var i=n.alloc(t.byteLength()-r.length);r=n.concat([i,r])}return r}(r,t),u=n.alloc(o);u.fill(1);var l=n.alloc(o);return l=i(s,l).update(u).update(n.from([0])).update(e).update(c).digest(),u=i(s,l).update(u).digest(),{k:l=i(s,l).update(u).update(n.from([1])).update(e).update(c).digest(),v:u=i(s,l).update(u).digest()}}function h(e,t){var r=new o(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function f(e,t,r){var s,a;do{for(s=n.alloc(0);8*s.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),s=n.concat([s,t.v]);a=h(s,e),t.k=i(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function d(e,t,r,n){return e.toRed(o.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,r,i,p){var g=c(t);if(g.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var r=u[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var i=new a(r).keyFromPrivate(t.privateKey).sign(e);return n.from(i.toDER())}(e,g)}if("dsa"===g.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,r){for(var i,s=t.params.priv_key,a=t.params.p,c=t.params.q,u=t.params.g,p=new o(0),g=h(e,c).mod(c),m=!1,y=l(s,c,e,r);!1===m;)p=d(u,i=f(c,y,r),a,c),0===(m=i.invm(c).imul(g.add(s.mul(p))).mod(c)).cmpn(0)&&(m=!1,p=new o(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),n.from(r)}(p,m)}(e,g,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");if(void 0!==t.padding&&1!==t.padding)throw new Error("illegal or unsupported padding mode");e=n.concat([p,e]);for(var m=g.modulus.byteLength(),y=[0,1];e.length+y.length+1<m;)y.push(255);y.push(0);for(var b=-1;++b<e.length;)y.push(e[b]);return s(y,g)},e.exports.getKey=l,e.exports.makeKey=f},4847:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=r(9404),s=r(6729).ec,a=r(8170),o=r(4589);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=0)throw new Error("invalid sig")}e.exports=function(e,t,r,u,l){var h=a(r);if("ec"===h.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=o[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new s(n),a=r.data.subjectPrivateKey.data;return i.verify(t,e,a)}(e,t,h)}if("dsa"===h.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,s=r.data.q,o=r.data.g,u=r.data.pub_key,l=a.signature.decode(e,"der"),h=l.s,f=l.r;c(h,s),c(f,s);var d=i.mont(n),p=h.invm(s);return 0===o.toRed(d).redPow(new i(t).mul(p).mod(s)).fromRed().mul(u.toRed(d).redPow(f.mul(p).mod(s)).fromRed()).mod(n).mod(s).cmp(f)}(e,t,h)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=n.concat([l,t]);for(var f=h.modulus.byteLength(),d=[1],p=0;t.length+d.length+2<f;)d.push(255),p+=1;d.push(0);for(var g=-1;++g<t.length;)d.push(t[g]);d=n.from(d);var m=i.mont(h.modulus);e=(e=new i(e).toRed(m)).redPow(new i(h.publicExponent)),e=n.from(e.fromRed().toArray());var y=p<8?1:0;for(f=Math.min(e.length,d.length),e.length!==d.length&&(y=1),g=-1;++g<f;)y|=e[g]^d[g];return 0===y}},295:(e,t,r)=>{var n=r(8287).Buffer;e.exports=function(e,t){for(var r=Math.min(e.length,t.length),i=new n(r),s=0;s<r;++s)i[s]=e[s]^t[s];return i}},8287:(e,t,r)=>{"use strict";const n=r(7526),i=r(251),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function o(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=o(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),o(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(i)return n?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let s,a=1,o=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,o/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(s=r;s<o;s++)if(u(e,s)===u(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*a}else-1!==n&&(s-=s-n),n=-1}else for(r+c>o&&(r=o-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(u(e,s+n)!==u(t,n)){r=!1;break}if(r)return s}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let a;for(n>s/2&&(n=s/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(K(n))return a;e[r+a]=n}return a}function S(e,t,r,n){return X($(t,e.length-r),e,r,n)}function E(e,t,r,n){return X(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return X(H(t),e,r,n)}function I(e,t,r,n){return X(function(e,t){let r,n,i;const s=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,o,c;switch(a){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(s=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&o)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=a}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const o=Math.min(s,a),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<o;++e)if(u[e]!==l[e]){s=u[e],a=l[e];break}return s<a?-1:a<s?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function A(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function M(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function R(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,i){G(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function L(e,t,r,n,i){G(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function F(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,s){return t=+t,r>>>=0,s||F(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,s){return t=+t,r>>>=0,s||F(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){z(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}let i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);D(this,e,t,r,n-1,-n)}let i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=c.isBuffer(e)?e:c.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};const U={};function j(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function V(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function G(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||W(t,e.length-(r+1))}(n,i,s)}function z(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,r){if(Math.floor(e)!==e)throw z(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=V(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function $(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function H(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},8413:(e,t,r)=>{"use strict";var n=r(3798),i=r(5971),s=r(4515),a=r(2944),o=r(1384),c=r(8782),u=r(5363),l=(r(6839),r(9575));function h(e){function t(t){e&&(this[e]={}),t&&this.set(t)}return i(t.prototype),t.prototype.set=function(t,r){return Array.isArray(t)&&2===arguments.length&&(t=a(t)),n(t)||Array.isArray(t)?this.visit("set",t):(l(e?this[e]:this,t,r),this.emit("set",t,r)),this},t.prototype.union=function(t,r){Array.isArray(t)&&2===arguments.length&&(t=a(t));var n=e?this[e]:this;return o(n,t,function(e){return e?Array.isArray(e)?e:[e]:[]}(r)),this.emit("union",r),this},t.prototype.get=function(t){t=a(arguments);var r=e?this[e]:this,n=u(r,t);return this.emit("get",t,n),n},t.prototype.has=function(t){t=a(arguments);var r=e?this[e]:this,n=void 0!==u(r,t);return this.emit("has",t,n),n},t.prototype.del=function(t){return Array.isArray(t)?this.visit("del",t):(c(e?this[e]:this,t),this.emit("del",t)),this},t.prototype.clear=function(){e&&(this[e]={})},t.prototype.visit=function(e,t){return s(this,e,t),this},t}e.exports=h(),e.exports.namespace=h},3144:(e,t,r)=>{"use strict";var n=r(6743),i=r(1002),s=r(76),a=r(7119);e.exports=a||n.call(s,i)},2205:(e,t,r)=>{"use strict";var n=r(6743),i=r(1002),s=r(3144);e.exports=function(){return s(n,i,arguments)}},1002:e=>{"use strict";e.exports=Function.prototype.apply},76:e=>{"use strict";e.exports=Function.prototype.call},3126:(e,t,r)=>{"use strict";var n=r(6743),i=r(9675),s=r(76),a=r(3144);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(n,s,e)}},7119:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},487:(e,t,r)=>{"use strict";var n=r(6897),i=r(655),s=r(3126),a=r(2205);e.exports=function(e){var t=s(arguments),r=e.length-(arguments.length-1);return n(t,1+(r>0?r:0),!0)},i?i(e.exports,"apply",{value:a}):e.exports.apply=a},6556:(e,t,r)=>{"use strict";var n=r(453),i=r(3126),s=i([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&s(e,".prototype.")>-1?i([r]):r}},6168:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=r(8310).Transform,s=r(3141).StringDecoder;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r(6698)(a,i);var o="undefined"!=typeof Uint8Array,c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&ArrayBuffer.isView&&(n.prototype instanceof Uint8Array||n.TYPED_ARRAY_SUPPORT);a.prototype.update=function(e,t,r){var i=function(e,t){if(e instanceof n)return e;if("string"==typeof e)return n.from(e,t);if(c&&ArrayBuffer.isView(e)){if(0===e.byteLength)return n.alloc(0);var r=n.from(e.buffer,e.byteOffset,e.byteLength);if(r.byteLength===e.byteLength)return r}if(o&&e instanceof Uint8Array)return n.from(e);if(n.isBuffer(e)&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))return n.from(e);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}(e,t),s=this._update(i);return this.hashMode?this:(r&&(s=this._toString(s,r)),s)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can’t switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=a},967:(e,t,r)=>{"use strict";r(537);var n=r(4450),i=r(7824),s=r(1394),a=r(3798),o=e.exports;o.isObject=function(e){return a(e)||"function"==typeof e},o.has=function(e,t){var r=(t=o.arrayify(t)).length;if(o.isObject(e)){for(var n in e)if(t.indexOf(n)>-1)return!0;var i=o.nativeKeys(e);return o.has(i,t)}if(Array.isArray(e)){for(var s=e;r--;)if(s.indexOf(t[r])>-1)return!0;return!1}throw new TypeError("expected an array or object.")},o.hasAll=function(e,t){for(var r=(t=o.arrayify(t)).length;r--;)if(!o.has(e,t[r]))return!1;return!0},o.arrayify=function(e){return e?Array.isArray(e)?e:[e]:[]},o.noop=function(){},o.identity=function(e){return e},o.hasConstructor=function(e){return o.isObject(e)&&void 0!==e.constructor},o.nativeKeys=function(e){if(!o.hasConstructor(e))return[];var t=Object.getOwnPropertyNames(e);return"caller"in e&&t.push("caller"),t},o.getDescriptor=function(e,t){if(!o.isObject(e))throw new TypeError("expected an object.");if("string"!=typeof t)throw new TypeError("expected key to be a string.");return Object.getOwnPropertyDescriptor(e,t)},o.copyDescriptor=function(e,t,r){if(!o.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!o.isObject(t))throw new TypeError("expected providing object to be an object.");if("string"!=typeof r)throw new TypeError("expected name to be a string.");var n=o.getDescriptor(t,r);n&&Object.defineProperty(e,r,n)},o.copy=function(e,t,r){if(!o.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!o.isObject(t))throw new TypeError("expected providing object to be an object.");var n,s=Object.getOwnPropertyNames(t),a=Object.keys(t),c=s.length;for(r=o.arrayify(r);c--;)n=s[c],o.has(a,n)?i(e,n,t[n]):n in e||o.has(r,n)||o.copyDescriptor(e,t,n)},o.inherit=function(e,t,r){if(!o.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!o.isObject(t))throw new TypeError("expected providing object to be an object.");var n=[];for(var i in t)n.push(i),e[i]=t[i];n=n.concat(o.arrayify(r));var s=t.prototype||t,a=e.prototype||e;o.copy(a,s,n)},o.extend=function(){return s.apply(null,arguments)},o.bubble=function(e,t){t=t||[],e.bubble=function(r,i){Array.isArray(i)&&(t=n([],t,i));for(var s=t.length,a=-1;++a<s;){var c=t[a];e.on(c,r.emit.bind(r,c))}o.bubble(r,t)}}},4515:(e,t,r)=>{"use strict";var n=r(3188),i=r(7435);e.exports=function(e,t,r){var s;if("string"==typeof r&&t in e){var a=[].slice.call(arguments,2);s=e[t].apply(e,a)}else s=Array.isArray(r)?i.apply(null,arguments):n.apply(null,arguments);return void 0!==s?s:e}},5971:e=>{function t(e){if(e)return function(e){for(var r in t.prototype)e[r]=t.prototype[r];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},7462:e=>{"use strict";function t(e){return"[object Object]"==={}.toString.call(e)}e.exports=function(e,r,n,i){if(t(r)||"function"==typeof r||(i=n,n=r,r=e),!t(e)&&"function"!=typeof e)throw new TypeError("expected the first argument to be an object");if(!t(r)&&"function"!=typeof r)throw new TypeError("expected provider to be an object");if("string"!=typeof i&&(i=n),"string"!=typeof n)throw new TypeError("expected key to be a string");if(!(n in r))throw new Error('property "'+n+'" does not exist');var s=Object.getOwnPropertyDescriptor(r,n);s&&Object.defineProperty(e,i,s)}},1324:(e,t,r)=>{var n=r(8287).Buffer,i=r(6729),s=r(9404);e.exports=function(e){return new o(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function c(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new n(e);if(r&&i.length<r){var s=new n(r-i.length);s.fill(0),i=n.concat([s,i])}return t?i.toString(t):i}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,t,r){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),c(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),c(r,e)},o.prototype.getPrivateKey=function(e){return c(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var r=new s(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},7108:(e,t,r)=>{"use strict";var n=r(6698),i=r(8276),s=r(6011),a=r(2802),o=r(6168);function c(e){o.call(this,"digest"),this._hash=e}n(c,o),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new s:new c(a(e))}},320:(e,t,r)=>{var n=r(8276);e.exports=function(e){return(new n).update(e).digest()}},3507:(e,t,r)=>{"use strict";var n=r(6698),i=r(1800),s=r(6168),a=r(2861).Buffer,o=r(320),c=r(6011),u=r(2802),l=a.alloc(128);function h(e,t){s.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<r&&(t=a.concat([t,l],r));for(var n=this._ipad=a.allocUnsafe(r),i=this._opad=a.allocUnsafe(r),o=0;o<r;o++)n[o]=54^t[o],i[o]=92^t[o];this._hash="rmd160"===e?new c:u(e),this._hash.update(n)}n(h,s),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new i(o,t):new h(e,t)}},1800:(e,t,r)=>{"use strict";var n=r(6698),i=r(2861).Buffer,s=r(6168),a=i.alloc(128),o=64;function c(e,t){s.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>o?t=e(t):t.length<o&&(t=i.concat([t,a],o));for(var r=this._ipad=i.allocUnsafe(o),n=this._opad=i.allocUnsafe(o),c=0;c<o;c++)r[c]=54^t[c],n[c]=92^t[c];this._hash=[r]}n(c,s),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=c},1565:(e,t,r)=>{"use strict";t.po=r(3209),t.n1=r(7108),t.Gz=r(3507);var n=r(5715),i=Object.keys(n),s=(["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i),r(8396));s.pbkdf2,s.pbkdf2Sync;var a=r(125);a.Cipher,a.createCipher,a.Cipheriv,t.Tt=a.createCipheriv,a.Decipher,a.createDecipher,a.Decipheriv,t._7=a.createDecipheriv,a.getCiphers,a.listCiphers;var o=r(5380);o.DiffieHellmanGroup,o.createDiffieHellmanGroup,o.getDiffieHellman,o.createDiffieHellman,o.DiffieHellman;var c=r(20);c.createSign,c.Sign,c.createVerify,c.Verify,r(1324);var u=r(7168);u.publicEncrypt,u.privateEncrypt,u.publicDecrypt,u.privateDecrypt;var l=r(6983);l.randomFill,l.randomFillSync},4353:function(e){e.exports=function(){"use strict";var e=6e4,t=36e5,r="millisecond",n="second",i="minute",s="hour",a="day",o="week",c="month",u="quarter",l="year",h="date",f="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},m=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:m,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,c),s=r-i<0,a=t.clone().add(n+(s?-1:1),c);return+(-(n+(r-i)/(s?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:l,w:o,d:a,D:h,h:s,m:i,s:n,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=g;var w="$isDayjsObject",S=function(e){return e instanceof _||!(!e||!e[w])},E=function e(t,r,n){var i;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();v[s]&&(i=s),r&&(v[s]=r,i=s);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var o=t.name;v[o]=t,i=o}return!n&&i&&(b=i),i||!n&&b},x=function(e,t){if(S(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new _(r)},I=y;I.l=E,I.i=S,I.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var _=function(){function g(e){this.$L=E(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(I.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(d);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return I},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(e,t){var r=x(e);return this.startOf(t)<=r&&r<=this.endOf(t)},m.isAfter=function(e,t){return x(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<x(e)},m.$g=function(e,t,r){return I.u(e)?this[t]:this.set(r,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var r=this,u=!!I.u(t)||t,f=I.p(e),d=function(e,t){var n=I.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return u?n:n.endOf(a)},p=function(e,t){return I.w(r.toDate()[e].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,m=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(f){case l:return u?d(1,0):d(31,11);case c:return u?d(1,m):d(0,m+1);case o:var v=this.$locale().weekStart||0,w=(g<v?g+7:g)-v;return d(u?y-w:y+(6-w),m);case a:case h:return p(b+"Hours",0);case s:return p(b+"Minutes",1);case i:return p(b+"Seconds",2);case n:return p(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var o,u=I.p(e),f="set"+(this.$u?"UTC":""),d=(o={},o[a]=f+"Date",o[h]=f+"Date",o[c]=f+"Month",o[l]=f+"FullYear",o[s]=f+"Hours",o[i]=f+"Minutes",o[n]=f+"Seconds",o[r]=f+"Milliseconds",o)[u],p=u===a?this.$D+(t-this.$W):t;if(u===c||u===l){var g=this.clone().set(h,1);g.$d[d](p),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[I.p(e)]()},m.add=function(r,u){var h,f=this;r=Number(r);var d=I.p(u),p=function(e){var t=x(f);return I.w(t.date(t.date()+Math.round(e*r)),f)};if(d===c)return this.set(c,this.$M+r);if(d===l)return this.set(l,this.$y+r);if(d===a)return p(1);if(d===o)return p(7);var g=(h={},h[i]=e,h[s]=t,h[n]=1e3,h)[d]||1,m=this.$d.getTime()+r*g;return I.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=I.z(this),s=this.$H,a=this.$m,o=this.$M,c=r.weekdays,u=r.months,l=r.meridiem,h=function(e,r,i,s){return e&&(e[r]||e(t,n))||i[r].slice(0,s)},d=function(e){return I.s(s%12||12,e,"0")},g=l||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(p,(function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return I.s(t.$y,4,"0");case"M":return o+1;case"MM":return I.s(o+1,2,"0");case"MMM":return h(r.monthsShort,o,u,3);case"MMMM":return h(u,o);case"D":return t.$D;case"DD":return I.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(r.weekdaysMin,t.$W,c,2);case"ddd":return h(r.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(s);case"HH":return I.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return g(s,a,!0);case"A":return g(s,a,!1);case"m":return String(a);case"mm":return I.s(a,2,"0");case"s":return String(t.$s);case"ss":return I.s(t.$s,2,"0");case"SSS":return I.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,h,f){var d,p=this,g=I.p(h),m=x(r),y=(m.utcOffset()-this.utcOffset())*e,b=this-m,v=function(){return I.m(p,m)};switch(g){case l:d=v()/12;break;case c:d=v();break;case u:d=v()/3;break;case o:d=(b-y)/6048e5;break;case a:d=(b-y)/864e5;break;case s:d=b/t;break;case i:d=b/e;break;case n:d=b/1e3;break;default:d=b}return f?d:I.a(d)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return v[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=E(e,t,!0);return n&&(r.$L=n),r},m.clone=function(){return I.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),T=_.prototype;return x.prototype=T,[["$ms",r],["$s",n],["$m",i],["$H",s],["$W",a],["$M",c],["$y",l],["$D",h]].forEach((function(e){T[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,_,x),e.$i=!0),x},x.locale=E,x.isDayjs=S,x.unix=function(e){return x(1e3*e)},x.en=v[b],x.Ls=v,x.p={},x}()},445:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,n=/\d\d/,i=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,a={},o=function(e){return(e=+e)+(e>68?1900:2e3)},c=function(e){return function(t){this[e]=+t}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),r=60*t[1]+(+t[2]||0);return 0===r?0:"+"===t[0]?-r:r}(e)}],l=function(e){var t=a[e];return t&&(t.indexOf?t:t.s.concat(t.f))},h=function(e,t){var r,n=a.meridiem;if(n){for(var i=1;i<=24;i+=1)if(e.indexOf(n(i,0,t))>-1){r=i>12;break}}else r=e===(t?"pm":"PM");return r},f={A:[s,function(e){this.afternoon=h(e,!1)}],a:[s,function(e){this.afternoon=h(e,!0)}],Q:[r,function(e){this.month=3*(e-1)+1}],S:[r,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[n,c("day")],Do:[s,function(e){var t=a.ordinal,r=e.match(/\d+/);if(this.day=r[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,"")===e&&(this.day=n)}],w:[i,c("week")],ww:[n,c("week")],M:[i,c("month")],MM:[n,c("month")],MMM:[s,function(e){var t=l("months"),r=(l("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(r<1)throw new Error;this.month=r%12||r}],MMMM:[s,function(e){var t=l("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,c("year")],YY:[n,function(e){this.year=o(e)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function d(r){var n,i;n=r,i=a&&a.formats;for(var s=(r=n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,n){var s=n&&n.toUpperCase();return r||i[n]||e[n]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,r){return t||r.slice(1)}))}))).match(t),o=s.length,c=0;c<o;c+=1){var u=s[c],l=f[u],h=l&&l[0],d=l&&l[1];s[c]=d?{regex:h,parser:d}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},r=0,n=0;r<o;r+=1){var i=s[r];if("string"==typeof i)n+=i.length;else{var a=i.regex,c=i.parser,u=e.slice(n),l=a.exec(u)[0];c.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var r=e.hours;t?r<12&&(e.hours+=12):12===r&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,r){r.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(o=e.parseTwoDigitYear);var n=t.prototype,i=n.parse;n.parse=function(e){var t=e.date,n=e.utc,s=e.args;this.$u=n;var o=s[1];if("string"==typeof o){var c=!0===s[2],u=!0===s[3],l=c||u,h=s[2];u&&(h=s[2]),a=this.$locale(),!c&&h&&(a=r.Ls[h]),this.$d=function(e,t,r,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var i=d(t)(e),s=i.year,a=i.month,o=i.day,c=i.hours,u=i.minutes,l=i.seconds,h=i.milliseconds,f=i.zone,p=i.week,g=new Date,m=o||(s||a?1:g.getDate()),y=s||g.getFullYear(),b=0;s&&!a||(b=a>0?a-1:g.getMonth());var v,w=c||0,S=u||0,E=l||0,x=h||0;return f?new Date(Date.UTC(y,b,m,w,S,E,x+60*f.offset*1e3)):r?new Date(Date.UTC(y,b,m,w,S,E,x)):(v=new Date(y,b,m,w,S,E,x),p&&(v=n(v).week(p).toDate()),v)}catch(e){return new Date("")}}(t,o,n,r),this.init(),h&&!0!==h&&(this.$L=this.locale(h).$L),l&&t!=this.format(o)&&(this.$d=new Date("")),a={}}else if(o instanceof Array)for(var f=o.length,p=1;p<=f;p+=1){s[1]=o[p-1];var g=r.apply(this,s);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}p===f&&(this.$d=new Date(""))}else i.call(this,e)}}}()},3826:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,i,s){var a=i.prototype;s.utc=function(e){return new i({date:e,utc:!0,args:arguments})},a.utc=function(t){var r=s(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},a.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var o=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var c=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var u=a.utcOffset;a.utcOffset=function(n,i){var s=this.$utils().u;if(s(n))return this.$u?0:s(this.$offset)?u.call(this):this.$offset;if("string"==typeof n&&(n=function(e){void 0===e&&(e="");var n=e.match(t);if(!n)return null;var i=(""+n[0]).match(r)||["-",0,0],s=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===s?a:-a}(n),null===n))return this;var a=Math.abs(n)<=16?60*n:n,o=this;if(i)return o.$offset=a,o.$u=0===n,o;if(0!==n){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(a+c,e)).$offset=a,o.$x.$localOffset=c}else o=this.utc();return o};var l=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var h=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var f=a.diff;a.diff=function(e,t,r){if(e&&this.$u===e.$u)return f.call(this,e,t,r);var n=this.local(),i=s(e).local();return f.call(n,i,t,r)}}}()},214:(e,t,r)=>{var n=r(5606);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(736)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},736:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,s,a=null;function o(...e){if(!o.enabled)return;const n=o,i=Number(new Date),s=i-(r||i);n.diff=s,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";a++;const s=t.formatters[i];if("function"==typeof s){const t=e[a];r=s.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{a=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e,t){let r=0,n=0,i=-1,s=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,s=r,n++):(r++,n++);else{if(-1===i)return!1;n=i+1,s++,r=s}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names,...t.skips.map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").trim().replace(" ",",").split(",").filter(Boolean);for(const e of r)"-"===e[0]?t.skips.push(e.slice(1)):t.names.push(e)},t.enabled=function(e){for(const r of t.skips)if(i(e,r))return!1;for(const r of t.names)if(i(e,r))return!0;return!1},t.humanize=r(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},9473:(e,t,r)=>{const n=r(2047);class i{constructor(e,t,{width:r,height:n,colorDepth:i,format:s}){if(this.format=s,this.offset=t,this.depth=i,this.stride=function(e){const t=e%4;return t?e+4-t:e}(r*this.depth/8),this.size=this.stride*n,this.data=e.slice(this.offset,this.offset+this.size),this.size!==this.data.byteLength)throw new Error("Truncated bitmap data")}get(e,t,r){const n=this.format.indexOf(r);return 1===this.depth?(this.data[t*this.stride+(e/8|0)]&1<<7-e%8*1)>>7-e%8*1:2===this.depth?(this.data[t*this.stride+(e/4|0)]&3<<6-e%4*2)>>>6-e%4*2:4===this.depth?(this.data[t*this.stride+(e/2|0)]&15<<4-e%2*4)>>>4-e%2*4:this.data[t*this.stride+e*(this.depth/8)+n]}}e.exports=function(e,{width:t=0,height:r=0,icon:s=!1}={}){const a=n(e);let o,c,u,l,h;s?(o=a.getUint32(0,!0),c=a.getUint32(4,!0)/1|0,u=a.getUint32(8,!0)/2|0,l=a.getUint16(14,!0),h=a.getUint32(32,!0)):(function(e){if(19778!==e)throw new Error(`Invalid magic byte 0x${e.toString(16)}`)}(a.getUint16(0,!0)),o=14+a.getUint32(14,!0),c=a.getUint32(18,!0),u=a.getUint32(22,!0),l=a.getUint16(28,!0),h=a.getUint32(46,!0)),0===h&&l<=8&&(h=1<<l);const f=0===c?t:c,d=0===u?r:u,p=new Uint8Array(a.buffer,a.byteOffset+o,a.byteLength-o),g=h?function(e,{width:t,height:r,colorDepth:n,colorCount:s,icon:a}){if(8!==n&&4!==n&&2!==n&&1!==n)throw new Error(`A color depth of ${n} is not supported`);const o=new i(e,0,{width:s,height:1,colorDepth:32,format:"BGRA"}),c=new i(e,o.offset+o.size,{width:t,height:r,colorDepth:n,format:"C"}),u=a?new i(e,c.offset+c.size,{width:t,height:r,colorDepth:1,format:"A"}):null,l=new Uint8Array(t*r*4);let h=0;for(let e=0;e<r;e++)for(let n=0;n<t;n++){const t=c.get(n,r-e-1,"C");l[h++]=o.get(t,0,"R"),l[h++]=o.get(t,0,"G"),l[h++]=o.get(t,0,"B"),l[h++]=u&&u.get(n,r-e-1,"A")?0:255}return l}(p,{width:f,height:d,colorDepth:l,colorCount:h,icon:s}):function(e,{width:t,height:r,colorDepth:n,icon:s}){if(32!==n&&24!==n)throw new Error(`A color depth of ${n} is not supported`);const a=new i(e,0,{width:t,height:r,colorDepth:n,format:"BGRA"}),o=24===n&&s?new i(e,a.offset+a.size,{width:t,height:r,colorDepth:1,format:"A"}):null,c=new Uint8Array(t*r*4);let u=0;for(let e=0;e<r;e++)for(let i=0;i<t;i++)c[u++]=a.get(i,r-e-1,"R"),c[u++]=a.get(i,r-e-1,"G"),c[u++]=a.get(i,r-e-1,"B"),c[u++]=32===n?a.get(i,r-e-1,"A"):o&&o.get(i,r-e-1,"A")?0:255;return c}(p,{width:f,height:d,colorDepth:l,icon:s});return{width:f,height:d,data:g,colorDepth:l}}},41:(e,t,r)=>{"use strict";var n=r(655),i=r(8068),s=r(9675),a=r(5795);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],h=!!a&&a(e,t);if(n)n(e,t,{configurable:null===u&&h?h.configurable:!u,enumerable:null===o&&h?h.enumerable:!o,value:r,writable:null===c&&h?h.writable:!c});else{if(!l&&(o||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},7824:(e,t,r)=>{"use strict";var n=r(8233);e.exports=function(e,t,r){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("expected an object or function.");if("string"!=typeof t)throw new TypeError("expected `prop` to be a string.");return n(r)&&("set"in r||"get"in r)?Object.defineProperty(e,t,r):Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r})}},9560:(e,t,r)=>{"use strict";t.utils=r(7626),t.Cipher=r(2808),t.DES=r(2211),t.CBC=r(3389),t.EDE=r(5279)},3389:(e,t,r)=>{"use strict";var n=r(3349),i=r(6698),s={};function a(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(s),n=0;n<r.length;n++){var a=r[n];t.prototype[a]=s[a]}return t.create=function(e){return new t(e)},t},s._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},s._update=function(e,t,r,n){var i=this._cbcState,s=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)a[o]^=e[t+o];for(s._update.call(this,a,0,r,n),o=0;o<this.blockSize;o++)a[o]=r[n+o]}else{for(s._update.call(this,e,t,r,n),o=0;o<this.blockSize;o++)r[n+o]^=a[o];for(o=0;o<this.blockSize;o++)a[o]=e[t+o]}}},2808:(e,t,r)=>{"use strict";var n=r(3349);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==e.padding}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var s=e.length-(e.length-t)%this.blockSize;t<s;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},2211:(e,t,r)=>{"use strict";var n=r(3349),i=r(6698),s=r(7626),a=r(2808);function o(){this.tmp=new Array(2),this.keys=null}function c(e){a.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}i(c,a),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=s.readUInt32BE(t,0),i=s.readUInt32BE(t,4);s.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var o=u[a>>>1];r=s.r28shl(r,o),i=s.r28shl(i,o),s.pc2(r,i,e.keys,a)}},c.prototype._update=function(e,t,r,n){var i=this._desState,a=s.readUInt32BE(e,t),o=s.readUInt32BE(e,t+4);s.ip(a,o,i.tmp,0),a=i.tmp[0],o=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,o,i.tmp,0):this._decrypt(i,a,o,i.tmp,0),a=i.tmp[0],o=i.tmp[1],s.writeUInt32BE(r,a,n),s.writeUInt32BE(r,o,n+4)},c.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},c.prototype._unpad=function(e){if(!1===this.padding)return e;for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,r,n,i){for(var a=t,o=r,c=0;c<e.keys.length;c+=2){var u=e.keys[c],l=e.keys[c+1];s.expand(o,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var h=s.substitute(u,l),f=o;o=(a^s.permute(h))>>>0,a=f}s.rip(o,a,n,i)},c.prototype._decrypt=function(e,t,r,n,i){for(var a=r,o=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],l=e.keys[c+1];s.expand(a,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var h=s.substitute(u,l),f=a;a=(o^s.permute(h))>>>0,o=f}s.rip(a,o,n,i)}},5279:(e,t,r)=>{"use strict";var n=r(3349),i=r(6698),s=r(2808),a=r(2211);function o(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),s=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:s})]:[a.create({type:"decrypt",key:s}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r})]}function c(e){s.call(this,e);var t=new o(this.type,this.options.key);this._edeState=t}i(c,s),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},7626:(e,t)=>{"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var i=0,s=0,a=6;a>=0;a-=2){for(var o=0;o<=24;o+=8)i<<=1,i|=t>>>o+a&1;for(o=0;o<=24;o+=8)i<<=1,i|=e>>>o+a&1}for(a=6;a>=0;a-=2){for(o=1;o<=25;o+=8)s<<=1,s|=t>>>o+a&1;for(o=1;o<=25;o+=8)s<<=1,s|=e>>>o+a&1}r[n+0]=i>>>0,r[n+1]=s>>>0},t.rip=function(e,t,r,n){for(var i=0,s=0,a=0;a<4;a++)for(var o=24;o>=0;o-=8)i<<=1,i|=t>>>o+a&1,i<<=1,i|=e>>>o+a&1;for(a=4;a<8;a++)for(o=24;o>=0;o-=8)s<<=1,s|=t>>>o+a&1,s<<=1,s|=e>>>o+a&1;r[n+0]=i>>>0,r[n+1]=s>>>0},t.pc1=function(e,t,r,n){for(var i=0,s=0,a=7;a>=5;a--){for(var o=0;o<=24;o+=8)i<<=1,i|=t>>o+a&1;for(o=0;o<=24;o+=8)i<<=1,i|=e>>o+a&1}for(o=0;o<=24;o+=8)i<<=1,i|=t>>o+a&1;for(a=1;a<=3;a++){for(o=0;o<=24;o+=8)s<<=1,s|=t>>o+a&1;for(o=0;o<=24;o+=8)s<<=1,s|=e>>o+a&1}for(o=0;o<=24;o+=8)s<<=1,s|=e>>o+a&1;r[n+0]=i>>>0,r[n+1]=s>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var s=0,a=0,o=r.length>>>1,c=0;c<o;c++)s<<=1,s|=e>>>r[c]&1;for(c=o;c<r.length;c++)a<<=1,a|=t>>>r[c]&1;n[i+0]=s>>>0,n[i+1]=a>>>0},t.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=e>>>s&63;for(s=11;s>=3;s-=4)i|=e>>>s&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,i=0;i<4;i++)r<<=4,r|=n[64*i+(e>>>18-6*i&63)];for(i=0;i<4;i++)r<<=4,r|=n[256+64*i+(t>>>18-6*i&63)];return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<i.length;r++)t<<=1,t|=e>>>i[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],s=0;s<t;s+=r)i.push(n.slice(s,s+r));return i.join(" ")}},5380:(e,t,r)=>{var n=r(8287).Buffer,i=r(4934),s=r(3241),a=r(4910),o={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new n(s[e].prime,"hex"),r=new n(s[e].gen,"hex");return new a(t,r)},t.createDiffieHellman=t.DiffieHellman=function e(t,r,s,c){return n.isBuffer(r)||void 0===o[r]?e(t,"binary",r,s):(r=r||"binary",c=c||"binary",s=s||new n([2]),n.isBuffer(s)||(s=new n(s,c)),"number"==typeof t?new a(i(t,s),s,!0):(n.isBuffer(t)||(t=new n(t,r)),new a(t,s,!0)))}},4910:(e,t,r)=>{var n=r(8287).Buffer,i=r(9404),s=new(r(2244)),a=new i(24),o=new i(11),c=new i(10),u=new i(3),l=new i(7),h=r(4934),f=r(3209);function d(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._pub=new i(e),this}function p(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._priv=new i(e),this}e.exports=m;var g={};function m(e,t,r){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=p):this._primeCode=8}function y(e,t){var r=new n(e.toArray());return t?r.toString(t):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in g)return g[n];var i,f=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!s.test(e))return f+=1,f+="02"===r||"05"===r?8:4,g[n]=f,f;switch(s.test(e.shrn(1))||(f+=2),r){case"02":e.mod(a).cmp(o)&&(f+=8);break;case"05":(i=e.mod(c)).cmp(u)&&i.cmp(l)&&(f+=8);break;default:f+=4}return g[n]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new i(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(t.toArray()),s=this.getPrime();if(r.length<s.length){var a=new n(s.length-r.length);a.fill(0),r=n.concat([a,r])}return r},m.prototype.getPublicKey=function(e){return y(this._pub,e)},m.prototype.getPrivateKey=function(e){return y(this._priv,e)},m.prototype.getPrime=function(e){return y(this.__prime,e)},m.prototype.getGenerator=function(e){return y(this._gen,e)},m.prototype.setGenerator=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.__gen=e,this._gen=new i(e),this}},4934:(e,t,r)=>{var n=r(3209);e.exports=y,y.simpleSieve=g,y.fermatTest=m;var i=r(9404),s=new i(24),a=new(r(2244)),o=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),h=new i(3),f=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function g(e){for(var t=function(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function m(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(o),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;r.mod(l).cmp(h);)r.iadd(d)}else for(;r.mod(s).cmp(f);)r.iadd(d);if(g(p=r.shrn(1))&&g(r)&&m(p)&&m(r)&&a.test(p)&&a.test(r))return r}}},7176:(e,t,r)=>{"use strict";var n,i=r(3126),s=r(5795);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!n&&s&&s(Object.prototype,"__proto__"),o=Object,c=o.getPrototypeOf;e.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof c&&function(e){return c(null==e?e:o(e))}},6729:(e,t,r)=>{"use strict";var n=t;n.version=r(1636).rE,n.utils=r(7011),n.rand=r(5037),n.curve=r(894),n.curves=r(480),n.ec=r(7447),n.eddsa=r(8650)},6677:(e,t,r)=>{"use strict";var n=r(9404),i=r(7011),s=i.getNAF,a=i.getJSF,o=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var r=e._getDoubles(),n=s(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,c,u=[];for(a=0;a<n.length;a+=r.step){c=0;for(var l=a+r.step-1;l>=a;l--)c=(c<<1)+n[l];u.push(c)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(a=0;a<u.length;a++)(c=u[a])===d?f=f.mixedAdd(r.points[a]):c===-d&&(f=f.mixedAdd(r.points[a].neg()));h=h.add(f)}return h.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=s(t,r,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var l=0;u>=0&&0===a[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var h=a[u];o(0!==h),c="affine"===e.type?h>0?c.mixedAdd(i[h-1>>1]):c.mixedAdd(i[-h-1>>1].neg()):h>0?c.add(i[h-1>>1]):c.add(i[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var o,c,u,l=this._wnafT1,h=this._wnafT2,f=this._wnafT3,d=0;for(o=0;o<n;o++){var p=(u=t[o])._getNAFPoints(e);l[o]=p.wnd,h[o]=p.points}for(o=n-1;o>=1;o-=2){var g=o-1,m=o;if(1===l[g]&&1===l[m]){var y=[t[g],null,null,t[m]];0===t[g].y.cmp(t[m].y)?(y[1]=t[g].add(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg())):0===t[g].y.cmp(t[m].y.redNeg())?(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].add(t[m].neg())):(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=a(r[g],r[m]);for(d=Math.max(v[0].length,d),f[g]=new Array(d),f[m]=new Array(d),c=0;c<d;c++){var w=0|v[0][c],S=0|v[1][c];f[g][c]=b[3*(w+1)+(S+1)],f[m][c]=0,h[g]=y}}else f[g]=s(r[g],l[g],this._bitLength),f[m]=s(r[m],l[m],this._bitLength),d=Math.max(f[g].length,d),d=Math.max(f[m].length,d)}var E=this.jpoint(null,null,null),x=this._wnafT4;for(o=d;o>=0;o--){for(var I=0;o>=0;){var _=!0;for(c=0;c<n;c++)x[c]=0|f[c][o],0!==x[c]&&(_=!1);if(!_)break;I++,o--}if(o>=0&&I++,E=E.dblp(I),o<0)break;for(c=0;c<n;c++){var T=x[c];0!==T&&(T>0?u=h[c][T-1>>1]:T<0&&(u=h[c][-T-1>>1].neg()),E="affine"===u.type?E.mixedAdd(u):E.add(u))}}for(o=0;o<n;o++)h[o]=null;return i?E:E.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?o(e[e.length-1]%2==0):7===e[0]&&o(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},1298:(e,t,r)=>{"use strict";var n=r(7011),i=r(9404),s=r(6698),a=r(6677),o=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,s){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(s.redInvm()),o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(s.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),a=s.redSub(r),o=n.redSub(t),c=i.redMul(a),u=s.redMul(o),l=i.redMul(o),h=a.redMul(s);return this.curve.point(c,u,h,l)},u.prototype._projDbl=function(){var e,t,r,n,i,s,a=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(o)).redAdd(c);this.zOne?(e=a.redSub(o).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),s=u.redSub(i).redISub(i),e=a.redSub(o).redISub(c).redMul(s),t=u.redMul(n.redSub(c)),r=u.redMul(s))}else n=o.redAdd(c),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(s),t=this.curve._mulC(n).redMul(o.redISub(c)),r=n.redMul(s);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),a=i.redSub(n),o=i.redAdd(n),c=r.redAdd(t),u=s.redMul(a),l=o.redMul(c),h=s.redMul(c),f=a.redMul(o);return this.curve.point(u,l,f,h)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(s).redMul(a),c=i.redSub(o),u=i.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(a),h=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(s))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(s)),r=this.curve._mulC(c).redMul(u)),this.curve.point(h,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},894:(e,t,r)=>{"use strict";var n=t;n.base=r(6677),n.short=r(9188),n.mont=r(370),n.edwards=r(1298)},370:(e,t,r)=>{"use strict";var n=r(9404),i=r(6698),s=r(6677),a=r(7011);function o(e){s.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(o,s),e.exports=o,o.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,s.BasePoint),o.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},o.prototype.point=function(e,t){return new c(this,e,t)},o.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),a=i.redMul(n),o=t.z.redMul(s.redAdd(a).redSqr()),c=t.x.redMul(s.redISub(a).redSqr());return this.curve.point(o,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},9188:(e,t,r)=>{"use strict";var n=r(7011),i=r(9404),s=r(6698),a=r(6677),o=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],o(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),s=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,s,a,o,c,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,d=this.n.clone(),p=new i(1),g=new i(0),m=new i(0),y=new i(1),b=0;0!==f.cmpn(0);){var v=d.div(f);u=d.sub(v.mul(f)),l=m.sub(v.mul(p));var w=y.sub(v.mul(g));if(!n&&u.cmp(h)<0)t=c.neg(),r=p,n=u.neg(),s=l;else if(n&&2==++b)break;c=u,d=f,f=u,m=p,p=l,y=g,g=w}a=u.neg(),o=l;var S=n.sqr().add(s.sqr());return a.sqr().add(o.sqr()).cmp(S)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),s=s.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:s},{a,b:o}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),o=s.mul(n.a),c=i.mul(r.b),u=s.mul(n.b);return{k1:e.sub(a).sub(o),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),o=e[s],c=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*s]=o,n[2*s+1]=c,i[2*s]=a.k1,i[2*s+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return u},s(u,a.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new l(this,e,t,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=s.redSub(a);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),l=u.redMul(o),h=n.redMul(u),f=c.redSqr().redIAdd(l).redISub(h).redISub(h),d=c.redMul(h.redISub(f)).redISub(s.redMul(l)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(f,d,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=r.redSub(n),o=i.redSub(s);if(0===a.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=r.redMul(c),h=o.redSqr().redIAdd(u).redISub(l).redISub(l),f=o.redMul(l.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(a);return this.curve.jpoint(h,f,d)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,o=this.z,c=o.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var l=s.redSqr(),h=u.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=s.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var b=u.redMul(o);t+1<e&&(c=c.redMul(f)),s=g,o=b,u=y}return this.curve.jpoint(s,u.redMul(i),o)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},l.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(a).redISub(a);e=c;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),a=r.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),l=o.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=o.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(s).redISub(o).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(o).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(o)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(o);return this.curve.jpoint(h,f,d)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},480:(e,t,r)=>{"use strict";var n,i=t,s=r(7952),a=r(894),o=r(7011).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(4011)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},7447:(e,t,r)=>{"use strict";var n=r(9404),i=r(2723),s=r(7011),a=r(480),o=r(5037),c=s.assert,u=r(1200),l=r(8545);function h(e){if(!(this instanceof h))return new h(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new u(this,e)},h.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},h.prototype._truncateToN=function(e,t,r){var i;if(n.isBN(e)||"number"==typeof e)i=(e=new n(e,16)).byteLength();else if("object"==typeof e)i=e.length,e=new n(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new n(s,16)}"number"!=typeof r&&(r=8*i);var a=r-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,r,s){if("object"==typeof r&&(s=r,r=null),s||(s={}),"string"!=typeof e&&"number"!=typeof e&&!n.isBN(e)){c("object"==typeof e&&e&&"number"==typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),c(e.length>>>0===e.length);for(var a=0;a<e.length;a++)c((255&e[a])===e[a])}t=this.keyFromPrivate(t,r),e=this._truncateToN(e,!1,s.msgBitLength),c(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),u=t.getPrivate().toArray("be",o),h=e.toArray("be",o);c(new n(h).eq(e),"Can not sign message");for(var f=new i({hash:this.hash,entropy:u,nonce:h,pers:s.pers,persEnc:s.persEnc||"utf8"}),d=this.n.sub(new n(1)),p=0;;p++){var g=s.k?s.k(p):new n(f.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(d)>=0)){var m=this.g.mul(g);if(!m.isInfinity()){var y=m.getX(),b=y.umod(this.n);if(0!==b.cmpn(0)){var v=g.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var w=(m.getY().isOdd()?1:0)|(0!==y.cmp(b)?2:0);return s.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),w^=1),new l({r:b,s:v,recoveryParam:w})}}}}}},h.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var s=(t=new l(t,"hex")).r,a=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,c=a.invm(this.n),u=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),h)).isInfinity()&&o.eqXToP(s):!(o=this.g.mulAdd(u,r.getPublic(),h)).isInfinity()&&0===o.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new l(t,i);var s=this.n,a=new n(e),o=t.r,u=t.s,h=1&r,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");o=f?this.curve.pointFromX(o.add(this.curve.n),h):this.curve.pointFromX(o,h);var d=t.r.invm(s),p=s.sub(a).mul(d).umod(s),g=u.mul(d).umod(s);return this.g.mulAdd(p,o,g)},h.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new l(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},1200:(e,t,r)=>{"use strict";var n=r(9404),i=r(7011).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},8545:(e,t,r)=>{"use strict";var n=r(9404),i=r(7011),s=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function o(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;if(0===e[t.place])return!1;for(var i=0,s=0,a=t.place;s<n;s++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new o;if(48!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;if(s+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=c(e,r);if(!1===a)return!1;if(128&e[r.place])return!1;var u=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var l=c(e,r);if(!1===l)return!1;if(e.length!==l+r.place)return!1;if(128&e[r.place])return!1;var h=e.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(u),this.s=new n(h),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];l(n,t.length),(n=n.concat(t)).push(2),l(n,r.length);var s=n.concat(r),a=[48];return l(a,s.length),a=a.concat(s),i.encode(a,e)}},8650:(e,t,r)=>{"use strict";var n=r(7952),i=r(480),s=r(7011),a=s.assert,o=s.parseBytes,c=r(6661),u=r(220);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(e,t){e=o(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),a=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})},l.prototype.verify=function(e,t,r){if(e=o(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return s.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},6661:(e,t,r)=>{"use strict";var n=r(7011),i=n.assert,s=n.parseBytes,a=n.cachedProperty;function o(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},a(o,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(o,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(o,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),a(o,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(o,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(o,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),o.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},o.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=o},220:(e,t,r)=>{"use strict";var n=r(9404),i=r(7011),s=i.assert,a=i.cachedProperty,o=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=o(t)),Array.isArray(t)&&(s(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},4011:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},7011:(e,t,r)=>{"use strict";var n=t,i=r(9404),s=r(3349),a=r(4367);n.assert=s,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var s=1<<t+1,a=e.clone();for(n=0;n<i.length;n++){var o,c=a.andln(s-1);a.isOdd()?(o=c>(s>>1)-1?(s>>1)-c:c,a.isubn(o)):o=0,i[n]=o,a.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var a,o,c=e.andln(3)+i&3,u=t.andln(3)+s&3;3===c&&(c=-1),3===u&&(u=-1),a=1&c?3!=(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(a),o=1&u?3!=(n=t.andln(7)+s&7)&&5!==n||2!==c?u:-u:0,r[1].push(o),2*i===a+1&&(i=1-i),2*s===o+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},2796:(e,t,r)=>{var n=r(9723);function i(e,t,r){t&&"string"!=typeof t&&(t=t.message||t.name),n(this,{type:e,name:e,cause:"string"!=typeof t?t:r,message:t},"ewr")}function s(e,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i.call(this,"CustomError",e,t)}s.prototype=new Error,e.exports=function(e){var t=function(t,r){return function(e,t,r){var n=function(r,s){i.call(this,t,r,s),"FilesystemError"==t&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,n)};return n.prototype=r?new r:new s,n}(e,t,r)};return{CustomError:s,FilesystemError:t("FilesystemError"),createError:t}}},519:(e,t,r)=>{var n=e.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];e.exports.errno={},e.exports.code={},n.forEach((function(t){e.exports.errno[t.errno]=t,e.exports.code[t.code]=t})),e.exports.custom=r(2796)(e.exports),e.exports.create=e.exports.custom.createError},655:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},1237:e=>{"use strict";e.exports=EvalError},9383:e=>{"use strict";e.exports=Error},9290:e=>{"use strict";e.exports=RangeError},9538:e=>{"use strict";e.exports=ReferenceError},8068:e=>{"use strict";e.exports=SyntaxError},9675:e=>{"use strict";e.exports=TypeError},5345:e=>{"use strict";e.exports=URIError},9612:e=>{"use strict";e.exports=Object},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new i(n,s||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,s,a){var o=r?r+e:e;if(!this._events[o])return!1;var c,u,l=this._events[o],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,a),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(f=1,c=new Array(h-1);f<h;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||a(this,s);else{for(var c=0,u=[],l=o.length;c<l;c++)(o[c].fn!==t||i&&!o[c].once||n&&o[c].context!==n)&&u.push(o[c]);u.length?this._events[s]=1===u.length?u[0]:u:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},7007:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,s,a,u;if(o(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){n.once&&e.removeEventListener(t,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,a;if(o(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},8078:(e,t,r)=>{var n=r(2861).Buffer,i=r(8276);e.exports=function(e,t,r,s){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,o=n.alloc(a),c=n.alloc(s||0),u=n.alloc(0);a>0||s>0;){var l=new i;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var h=0;if(a>0){var f=o.length-a;h=Math.min(a,u.length),u.copy(o,f,0,h),a-=h}if(h<u.length&&s>0){var d=c.length-s,p=Math.min(s,u.length-h);u.copy(c,d,h,h+p),s-=p}}return u.fill(0),{key:o,iv:c}}},7833:(e,t,r)=>{var n=r(4942);e.exports={create:function(e,t){if(e instanceof(t=t||(0,eval)("this")).ArrayBuffer){var i=r(4628);return new n(new i(e,0,e.byteLength,!0,t))}var s=r(3779);return new n(new s(e,0,e.length,!0))}}},3779:e=>{function t(e,t,r,n){this.buffer=e,this.offset=t||0,r="number"==typeof r?r:e.length,this.endPosition=this.offset+r,this.setBigEndian(n)}t.prototype={setBigEndian:function(e){this.bigEndian=!!e},nextUInt8:function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.buffer.readInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,e},nextUInt32:function(){var e=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,e},nextInt16:function(){var e=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,e},nextInt32:function(){var e=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,e},nextFloat:function(){var e=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,e},nextDouble:function(){var e=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,e},nextBuffer:function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.endPosition-this.offset},nextString:function(e){var t=this.buffer.toString("utf8",this.offset,this.offset+e);return this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new t(e.buffer,r,e.endPosition-r,e.bigEndian)},offset:this.offset}},offsetFrom:function(e){return this.offset-e.offset},skip:function(e){this.offset+=e},branch:function(e,r){return r="number"==typeof r?r:this.endPosition-(this.offset+e),new t(this.buffer,this.offset+e,r,this.bigEndian)}},e.exports=t},2297:e=>{function t(e){return parseInt(e,10)}function r(e,r){e=e.map(t),r=r.map(t);var n=e[0],i=e[1]-1,s=e[2],a=r[0],o=r[1],c=r[2];return Date.UTC(n,i,s,a,o,c,0)/1e3}function n(e){var n=e.substr(0,10).split("-"),i=e.substr(11,8).split(":"),s=e.substr(19,6).split(":").map(t),a=3600*s[0]+60*s[1],o=r(n,i);if("number"==typeof(o-=a)&&!isNaN(o))return o}function i(e){var t=e.split(" "),n=r(t[0].split(":"),t[1].split(":"));if("number"==typeof n&&!isNaN(n))return n}e.exports={parseDateWithSpecFormat:i,parseDateWithTimezoneFormat:n,parseExifDate:function(e){var t=19===e.length&&":"===e.charAt(4);return 25===e.length&&"T"===e.charAt(10)?n(e):t?i(e):void 0}}},4628:e=>{function t(e,t,r,n,i,s){this.global=i,t=t||0,r=r||e.byteLength-t,this.arrayBuffer=e.slice(t,t+r),this.view=new i.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(n),this.offset=0,this.parentOffset=(s||0)+t}t.prototype={setBigEndian:function(e){this.littleEndian=!e},nextUInt8:function(){var e=this.view.getUint8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.view.getInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},nextUInt32:function(){var e=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},nextInt16:function(){var e=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},nextInt32:function(){var e=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},nextFloat:function(){var e=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},nextDouble:function(){var e=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},nextBuffer:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return t=String.fromCharCode.apply(null,new this.global.Uint8Array(t)),this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new t(e.arrayBuffer,r,e.arrayBuffer.byteLength-r,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(e){return this.parentOffset+this.offset-(e.offset+e.getParentOffset())},skip:function(e){this.offset+=e},branch:function(e,r){return r="number"==typeof r?r:this.arrayBuffer.byteLength-(this.offset+e),new t(this.arrayBuffer,this.offset+e,r,!this.littleEndian,this.global,this.parentOffset)}},e.exports=t},6393:e=>{e.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},8107:e=>{function t(e,t){switch(e){case 1:return t.nextUInt8();case 3:case 8:return t.nextUInt16();case 4:case 9:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function r(e,r){var n,i,s=r.nextUInt16(),a=r.nextUInt16(),o=function(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(a),c=r.nextUInt32(),u=o*c;if(u>4&&(r=e.openWithOffset(r.nextUInt32())),2===a){var l=(n=r.nextString(c)).indexOf("\0");-1!==l&&(n=n.substr(0,l))}else if(7===a)n=r.nextBuffer(c);else if(0!==a)for(n=[],i=0;i<c;++i)n.push(t(a,r));return u<4&&r.skip(4-u),[s,n,a]}function n(e,t,n){var i,s,a=t.nextUInt16();for(s=0;s<a;++s)n((i=r(e,t))[0],i[1],i[2])}e.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var r,i,s,a;try{r=function(e){if("Exif\0\0"!==e.nextString(6))throw new Error("Invalid EXIF header");var t=e.mark(),r=e.nextUInt16();if(18761===r)e.setBigEndian(!1);else{if(19789!==r)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(42!==e.nextUInt16())throw new Error("Invalid TIFF data");return t}(e)}catch(e){return!1}var o=r.openWithOffset(e.nextUInt32()),c=this.IFD0;n(r,o,(function(e,r,n){switch(e){case 34853:s=r[0];break;case 34665:i=r[0];break;default:t(c,e,r,n)}}));var u=o.nextUInt32();if(0!==u){var l=r.openWithOffset(u);n(r,l,t.bind(null,this.IFD1))}if(s){var h=r.openWithOffset(s);n(r,h,t.bind(null,this.GPSIFD))}if(i){var f=r.openWithOffset(i),d=this.InteropIFD;n(r,f,(function(e,r,n){40965===e?a=r[0]:t(d,e,r,n)}))}if(a){var p=r.openWithOffset(a);n(r,p,t.bind(null,this.InteropIFD))}return!0}}},2335:e=>{e.exports={parseSections:function(e,t){var r,n;for(e.setBigEndian(!0);e.remainingLength()>0&&218!==n;){if(255!==e.nextUInt8())throw new Error("Invalid JPEG section offset");r=(n=e.nextUInt8())>=208&&n<=217||218===n?0:e.nextUInt16()-2,t(n,e.branch(0,r)),e.skip(r)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,r;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",r=e-224):e>=192&&e<=207&&196!==e&&200!==e&&204!==e?(t="SOF",r=e-192):e>=208&&e<=215&&(t="RST",r=e-208)}var n={name:t};return"number"==typeof r&&(n.index=r),n}}},4942:(e,t,r)=>{var n=r(2335),i=r(8107),s=r(9062);function a(e,t,r,n,i,s,a){this.startMarker=e,this.tags=t,this.imageSize=r,this.thumbnailOffset=n,this.thumbnailLength=i,this.thumbnailType=s,this.app1Offset=a}function o(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}a.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength||"string"==typeof e&&("image/jpeg"===e.toLowerCase().trim()?6!==this.thumbnailType:"image/tiff"!==e.toLowerCase().trim()||1!==this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e,t=this._getThumbnailStream();return n.parseSections(t,(function(t,r){"SOF"===n.getSectionName(t).name&&(e=n.getSizeFromSOFSection(r))})),e}},o.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var e,t,o,c,u,l,h,f,d,p=this.stream.mark(),g=p.openWithOffset(0),m=this.flags;return m.resolveTagNames&&(h=r(6393)),m.resolveTagNames?(e={},f=function(t){return e[t.name]},d=function(t,r){e[t.name]=r}):(e=[],f=function(t){var r;for(r=0;r<e.length;++r)if(e[r].type===t.type&&e[r].section===t.section)return e.value},d=function(t,r){var n;for(n=0;n<e.length;++n)if(e[n].type===t.type&&e[n].section===t.section)return void(e.value=r)}),n.parseSections(g,(function(r,a){var f=a.offsetFrom(p);225===r?i.parseTags(a,(function(t,r,n,a){if(m.readBinaryTags||7!==a){if(513===r){if(o=n[0],m.hidePointers)return}else if(514===r){if(c=n[0],m.hidePointers)return}else if(259===r&&(u=n[0],m.hidePointers))return;if(m.returnTags)if(m.simplifyValues&&(n=s.simplifyValue(n,a)),m.resolveTagNames){var l=(t===i.GPSIFD?h.gps:h.exif)[r];l||(l=h.exif[r]),e.hasOwnProperty(l)||(e[l]=n)}else e.push({section:t,type:r,value:n})}}))&&(l=f):m.imageSize&&"SOF"===n.getSectionName(r).name&&(t=n.getSizeFromSOFSection(a))})),m.simplifyValues&&(s.castDegreeValues(f,d),s.castDateValues(f,d)),new a(p,e,t,o,c,u,l)}},e.exports=o},9062:(e,t,r)=>{var n=r(8107),i=r(2297),s=[{section:n.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:n.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],a=[{section:n.SubIFD,type:306,name:"ModifyDate"},{section:n.SubIFD,type:36867,name:"DateTimeOriginal"},{section:n.SubIFD,type:36868,name:"CreateDate"},{section:n.SubIFD,type:306,name:"ModifyDate"}];e.exports={castDegreeValues:function(e,t){s.forEach((function(r){var n=e(r);if(n){var i=e({section:r.section,type:r.refType,name:r.refName})===r.posVal?1:-1,s=(n[0]+n[1]/60+n[2]/3600)*i;t(r,s)}}))},castDateValues:function(e,t){a.forEach((function(r){var n=e(r);if(n){var s=i.parseExifDate(n);void 0!==s&&t(r,s)}}))},simplifyValue:function(e,t){return Array.isArray(e)&&1===(e=e.map((function(e){return 10===t||5===t?e[0]/e[1]:e}))).length&&(e=e[0]),e}}},1432:(e,t,r)=>{"use strict";var n=r(2328),i=r(160);function s(e,t){for(var r in t)u(t,r)&&(e[r]=t[r])}function a(e){return e&&"string"==typeof e}function o(e){var t={};for(var r in e)t[r]=e[r];return t}function c(e){return e&&"object"==typeof e||n(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var r=arguments[t];a(r)&&(r=o(r)),c(r)&&(s(e,r),i(e,r))}return e}},3846:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8287).Buffer;const{multiByteIndexOf,stringToBytes,readUInt64LE,tarHeaderChecksumMatches,uint8ArrayUtf8ByteString}=__webpack_require__(6760),supported=__webpack_require__(1664),xpiZipFilename=stringToBytes("META-INF/mozilla.rsa"),oxmlContentTypes=stringToBytes("[Content_Types].xml"),oxmlRels=stringToBytes("_rels/.rels"),fileType=e=>{if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1))return;const r=(e,r)=>{r={offset:0,...r};for(let n=0;n<e.length;n++)if(r.mask){if(e[n]!==(r.mask[n]&t[n+r.offset]))return!1}else if(e[n]!==t[n+r.offset])return!1;return!0},n=(e,t)=>r(stringToBytes(e),t);if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10])){const e=33,r=t.findIndex(((r,n)=>n>=e&&73===t[n]&&68===t[n+1]&&65===t[n+2]&&84===t[n+3])),n=t.subarray(e,r);return n.findIndex(((e,t)=>97===n[t]&&99===n[t+1]&&84===n[t+2]&&76===n[t+3]))>=0?{ext:"apng",mime:"image/apng"}:{ext:"png",mime:"image/png"}}if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(r([73,73,42,0])&&(r([16,251,134,1],{offset:4})||r([8,0,0,0],{offset:4}))&&r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9}))return{ext:"arw",mime:"image/x-sony-arw"};if(r([73,73,42,0,8,0,0,0])&&(r([45,0,254,0],{offset:8})||r([39,0,254,0],{offset:8})))return{ext:"dng",mime:"image/x-adobe-dng"};if(r([73,73,42,0])&&r([28,0,254,0],{offset:8}))return{ext:"nef",mime:"image/x-nikon-nef"};if(r([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};const i=[80,75,3,4];if(r(i)){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(n("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(n("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};let e,s=0,a=!1;do{const o=s+30;if(a||(a=r(oxmlContentTypes,{offset:o})||r(oxmlRels,{offset:o})),e||(n("word/",{offset:o})?e={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:n("ppt/",{offset:o})?e={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:n("xl/",{offset:o})&&(e={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),a&&e)return e;s=multiByteIndexOf(t,i,o)}while(s>=0);if(e)return e}if(r([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(r([48,48,48,48,48,48],{offset:148,mask:[248,248,248,248,248,248]})&&tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n("ftyp",{offset:4})&&96&t[8]){const e=uint8ArrayUtf8ByteString(t,8,12).replace("\0"," ").trim();switch(e){case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){const e=t.subarray(4,4100),r=e.findIndex(((e,t,r)=>66===r[t]&&130===r[t+1]));if(-1!==r){const t=r+3,n=r=>[...r].every(((r,n)=>e[t+n]===r.charCodeAt(0)));if(n("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(n("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217])){let e=30;do{const n=readUInt64LE(t,e+16);if(r([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:e})){if(r([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(r([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}e+=n}while(e+24<=t.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};for(let e=0;e<2&&e<t.length-16;e++){if(r([73,68,51],{offset:e})||r([255,226],{offset:e,mask:[255,230]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:e,mask:[255,230]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:e,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:e,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===t[0]||70===t[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}return r([70,79,82,77])?{ext:"aif",mime:"audio/aiff"}:n("<?xml ")?{ext:"xml",mime:"application/xml"}:r([66,79,79,75,77,79,66,73],{offset:60})?{ext:"mobi",mime:"application/x-mobipocket-ebook"}:r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:r([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:r([77,80,43])||r([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:r([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:r([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:r([212,195,178,161])||r([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:r([68,83,68,32])?{ext:"dsf",mime:"audio/x-dsf"}:r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])?{ext:"lnk",mime:"application/x.ms.shortcut"}:r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])?{ext:"alias",mime:"application/x.apple.alias"}:n("Creative Voice File")?{ext:"voc",mime:"audio/x-voc"}:r([11,119])?{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"}:(r([126,16,4])||r([126,24,4]))&&r([48,77,73,69],{offset:4})?{ext:"mie",mime:"application/x-mie"}:r([65,82,82,79,87,49,0,0])?{ext:"arrow",mime:"application/x-apache-arrow"}:r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2})?{ext:"shp",mime:"application/x-esri-shape"}:void 0};module.exports=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),fileType.stream=readableStream=>new Promise(((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",(()=>{const e=new stream.PassThrough,t=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{e.fileType=fileType(t)}catch(e){reject(e)}readableStream.unshift(t),stream.pipeline?resolve(stream.pipeline(readableStream,e,(()=>{}))):resolve(readableStream.pipe(e))}))})),Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)})},1664:e=>{"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","cr2","orf","arw","dng","nef","rw2","raf","tif","bmp","jxr","psd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","msi","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","wmv","wma","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-canon-cr2","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-wma","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-msi","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/ktx","application/dicom","audio/x-musepack","text/calendar","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape"]}},6760:(e,t,r)=>{"use strict";var n=r(8287).Buffer;t.stringToBytes=e=>[...e].map((e=>e.charCodeAt(0)));const i=(e,t,r)=>String.fromCharCode(...e.slice(t,r));t.readUInt64LE=(e,t=0)=>{let r=e[t],n=1,i=0;for(;++i<8;)n*=256,r+=e[t+i]*n;return r},t.tarHeaderChecksumMatches=e=>{if(e.length<512)return!1;let t=256,r=0;for(let n=0;n<148;n++){const i=e[n];t+=i,r+=128&i}for(let n=156;n<512;n++){const i=e[n];t+=i,r+=128&i}const n=parseInt(i(e,148,154),8);return n===t||n===t-(r<<1)},t.multiByteIndexOf=(e,t,r=0)=>{if(n&&n.isBuffer(e))return e.indexOf(n.from(t),r);const i=(e,t,r)=>{for(let n=1;n<t.length;n++)if(t[n]!==e[r+n])return!1;return!0};let s=e.indexOf(t[0],r);for(;s>=0;){if(i(e,t,s))return s;s=e.indexOf(t[0],s+1)}return-1},t.uint8ArrayUtf8ByteString=i},2682:(e,t,r)=>{"use strict";var n=r(9600),i=Object.prototype.toString,s=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=r),"[object Array]"===i.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)s.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)s.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},7300:e=>{"use strict";e.exports=function(e,t,r){for(var n in e)if(!1===t.call(r,e[n],n,e))break}},4030:(e,t,r)=>{"use strict";var n=r(2954);function i(e){this.caches=e||{}}i.prototype={cache:function(e){return this.caches[e]||(this.caches[e]=new n)},set:function(e,t,r){var n=this.cache(e);return n.set(t,r),n},has:function(e,t){return void 0!==this.get(e,t)},get:function(e,t){var r=this.cache(e);return"string"==typeof t?r.get(t):r}},e.exports=i},9353:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var s,a=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),o=r(0,i.length-a.length),c=[],u=0;u<o;u++)c[u]="$"+u;if(s=Function("binder","return function ("+function(e){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=",");return t}(c)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof s){var t=i.apply(this,n(a,arguments));return Object(t)===t?t:this}return i.apply(e,n(a,arguments))})),i.prototype){var l=function(){};l.prototype=i.prototype,s.prototype=new l,l.prototype=null}return s}},6743:(e,t,r)=>{"use strict";var n=r(9353);e.exports=Function.prototype.bind||n},453:(e,t,r)=>{"use strict";var n,i=r(9612),s=r(9383),a=r(1237),o=r(9290),c=r(9538),u=r(8068),l=r(9675),h=r(5345),f=r(1514),d=r(8968),p=r(6188),g=r(8002),m=r(5880),y=r(414),b=r(3093),v=Function,w=function(e){try{return v('"use strict"; return ('+e+").constructor;")()}catch(e){}},S=r(5795),E=r(655),x=function(){throw new l},I=S?function(){try{return x}catch(e){try{return S(arguments,"callee").get}catch(e){return x}}}():x,_=r(4039)(),T=r(3628),k=r(1064),A=r(8648),C=r(1002),M=r(76),R={},O="undefined"!=typeof Uint8Array&&T?T(Uint8Array):n,D={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":_&&T?T([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":a,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":R,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_&&T?T(T([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&_&&T?T((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":S,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":o,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&_&&T?T((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_&&T?T(""[Symbol.iterator]()):n,"%Symbol%":_?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":I,"%TypedArray%":O,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":M,"%Function.prototype.apply%":C,"%Object.defineProperty%":E,"%Object.getPrototypeOf%":k,"%Math.abs%":f,"%Math.floor%":d,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":m,"%Math.round%":y,"%Math.sign%":b,"%Reflect.getPrototypeOf%":A};if(T)try{null.error}catch(e){var P=T(T(e));D["%Error.prototype%"]=P}var L=function e(t){var r;if("%AsyncFunction%"===t)r=w("async function () {}");else if("%GeneratorFunction%"===t)r=w("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=w("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&T&&(r=T(i.prototype))}return D[t]=r,r},F={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},N=r(6743),B=r(9957),U=N.call(M,Array.prototype.concat),j=N.call(C,Array.prototype.splice),V=N.call(M,String.prototype.replace),G=N.call(M,String.prototype.slice),z=N.call(M,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,$=function(e,t){var r,n=e;if(B(F,n)&&(n="%"+(r=F[n])[0]+"%"),B(D,n)){var i=D[n];if(i===R&&(i=L(n)),void 0===i&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===z(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=G(e,0,1),r=G(e,-1);if("%"===t&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return V(e,W,(function(e,t,r,i){n[n.length]=r?V(i,q,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=$("%"+n+"%",t),s=i.name,a=i.value,o=!1,c=i.alias;c&&(n=c[0],j(r,U([0,1],c)));for(var h=1,f=!0;h<r.length;h+=1){var d=r[h],p=G(d,0,1),g=G(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===g||"'"===g||"`"===g)&&p!==g)throw new u("property names with quotes must have matching quotes");if("constructor"!==d&&f||(o=!0),B(D,s="%"+(n+="."+d)+"%"))a=D[s];else if(null!=a){if(!(d in a)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(S&&h+1>=r.length){var m=S(a,d);a=(f=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:a[d]}else f=B(a,d),a=a[d];f&&!o&&(D[s]=a)}}return a}},1064:(e,t,r)=>{"use strict";var n=r(9612);e.exports=n.getPrototypeOf||null},8648:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},3628:(e,t,r)=>{"use strict";var n=r(8648),i=r(1064),s=r(7176);e.exports=n?function(e){return n(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return i(e)}:s?function(e){return s(e)}:null},5363:e=>{function t(e){return e?Array.isArray(e)?e.join("."):e:""}e.exports=function(e,r,n,i,s){if(null===(a=e)||"object"!=typeof a&&"function"!=typeof a||!r)return e;var a;if(r=t(r),n&&(r+="."+t(n)),i&&(r+="."+t(i)),s&&(r+="."+t(s)),r in e)return e[r];for(var o=r.split("."),c=o.length,u=-1;e&&++u<c;){for(var l=o[u];"\\"===l[l.length-1];)l=l.slice(0,-1)+"."+o[++u];e=e[l]}return e}},3253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deinterlace=void 0,t.deinterlace=function(e,t){for(var r=new Array(e.length),n=e.length/t,i=function(n,i){var s=e.slice(i*t,(i+1)*t);r.splice.apply(r,[n*t,t].concat(s))},s=[0,4,2,1],a=[8,8,4,2],o=0,c=0;c<4;c++)for(var u=s[c];u<n;u+=a[c])i(u,o),o++;return r}},2393:(e,t,r)=>{"use strict";t.Ud=t.O5=void 0;var n,i=(n=r(8841))&&n.__esModule?n:{default:n},s=r(5208),a=r(2515),o=r(3253),c=r(5270);t.O5=function(e){var t=new Uint8Array(e);return(0,s.parse)((0,a.buildStream)(t),i.default)},t.Ud=function(e,t){return e.frames.filter((function(e){return e.image})).map((function(r){return function(e,t,r){if(e.image){var n=e.image,i=n.descriptor.width*n.descriptor.height,s=(0,c.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(s=(0,o.deinterlace)(s,n.descriptor.width));var a={pixels:s,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?a.colorTable=n.lct:a.colorTable=t,e.gce&&(a.delay=10*(e.gce.delay||10),a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),r&&(a.patch=function(e){for(var t=e.pixels.length,r=new Uint8ClampedArray(4*t),n=0;n<t;n++){var i=4*n,s=e.pixels[n],a=e.colorTable[s]||[0,0,0];r[i]=a[0],r[i+1]=a[1],r[i+2]=a[2],r[i+3]=s!==e.transparentIndex?255:0}return r}(a)),a}console.warn("gif frame does not have associated image.")}(r,e.gct,t)}))}},5270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lzw=void 0,t.lzw=function(e,t,r){var n,i,s,a,o,c,u,l,h,f,d,p,g,m,y,b,v=4096,w=r,S=new Array(r),E=new Array(v),x=new Array(v),I=new Array(4097);for(o=1+(i=1<<(f=e)),n=i+2,u=-1,s=(1<<(a=f+1))-1,l=0;l<i;l++)E[l]=0,x[l]=l;for(d=p=g=m=y=b=0,h=0;h<w;){if(0===m){if(p<a){d+=t[b]<<p,p+=8,b++;continue}if(l=d&s,d>>=a,p-=a,l>n||l==o)break;if(l==i){s=(1<<(a=f+1))-1,n=i+2,u=-1;continue}if(-1==u){I[m++]=x[l],u=l,g=l;continue}for(c=l,l==n&&(I[m++]=g,l=u);l>i;)I[m++]=x[l],l=E[l];g=255&x[l],I[m++]=g,n<v&&(E[n]=u,x[n]=g,!(++n&s)&&n<v&&(a++,s+=n)),u=c}m--,S[y++]=I[m],h++}for(h=y;h<w;h++)S[h]=0;return S}},6549:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},5795:(e,t,r)=>{"use strict";var n=r(6549);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},592:(e,t,r)=>{"use strict";var n=r(655),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},4039:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(1333);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},1333:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},9092:(e,t,r)=>{"use strict";var n=r(1333);e.exports=function(){return n()&&!!Symbol.toStringTag}},6839:(e,t,r)=>{"use strict";var n=r(3798),i=r(8408),s=r(5363);e.exports=function(e,t){return i(n(e)&&t?s(e,t):e)}},8408:(e,t,r)=>{"use strict";var n=r(4908),i=r(1929);e.exports=function e(t){if(i(t))return!0;switch(n(t)){case"null":case"boolean":case"function":return!0;case"string":case"arguments":return 0!==t.length;case"error":return""!==t.message;case"array":var r=t.length;if(0===r)return!1;for(var s=0;s<r;s++)if(e(t[s]))return!0;return!1;case"file":case"map":case"set":return 0!==t.size;case"object":var a=Object.keys(t);if(0===a.length)return!1;for(s=0;s<a.length;s++)if(e(t[a[s]]))return!0;return!1;default:return!1}}},4729:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=r(8310).Transform;function s(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(6698)(s,i),s.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},s.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)};var a="undefined"!=typeof Uint8Array,o="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&ArrayBuffer.isView&&(n.prototype instanceof Uint8Array||n.TYPED_ARRAY_SUPPORT);s.prototype.update=function(e,t){if(this._finalized)throw new Error("Digest already called");e=function(e,t){if(e instanceof n)return e;if("string"==typeof e)return n.from(e,t);if(o&&ArrayBuffer.isView(e)){if(0===e.byteLength)return n.alloc(0);var r=n.from(e.buffer,e.byteOffset,e.byteLength);if(r.byteLength===e.byteLength)return r}if(a&&e instanceof Uint8Array)return n.from(e);if(n.isBuffer(e)&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))return n.from(e);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}(e,t);for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var c=0,u=8*e.length;u>0;++c)this._length[c]+=u,(u=this._length[c]/4294967296|0)>0&&(this._length[c]-=4294967296*u);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},s.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=s},7952:(e,t,r)=>{var n=t;n.utils=r(7426),n.common=r(6166),n.sha=r(6229),n.ripemd=r(6784),n.hmac=r(8948),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},6166:(e,t,r)=>{"use strict";var n=r(7426),i=r(3349);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},8948:(e,t,r)=>{"use strict";var n=r(7426),i=r(3349);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},6784:(e,t,r)=>{"use strict";var n=r(7426),i=r(6166),s=n.rotl32,a=n.sum32,o=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],b=r,v=n,w=i,S=u,E=l,x=0;x<80;x++){var I=a(s(c(r,h(x,n,i,u),e[p[x]+t],f(x)),m[x]),l);r=l,l=u,u=s(i,10),i=n,n=I,I=a(s(c(b,h(79-x,v,w,S),e[g[x]+t],d(x)),y[x]),E),b=E,E=S,S=s(w,10),w=v,v=I}I=o(this.h[1],i,S),this.h[1]=o(this.h[2],u,E),this.h[2]=o(this.h[3],l,b),this.h[3]=o(this.h[4],r,v),this.h[4]=o(this.h[0],n,w),this.h[0]=I},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},6229:(e,t,r)=>{"use strict";t.sha1=r(3917),t.sha224=r(7714),t.sha256=r(2287),t.sha384=r(1911),t.sha512=r(7766)},3917:(e,t,r)=>{"use strict";var n=r(7426),i=r(6166),s=r(6225),a=n.rotl32,o=n.sum32,c=n.sum32_5,u=s.ft_1,l=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,l),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],l=this.h[2],f=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=c(a(i,5),u(p,s,l,f),d,r[n],h[p]);d=f,f=l,l=a(s,30),s=i,i=g}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],l),this.h[3]=o(this.h[3],f),this.h[4]=o(this.h[4],d)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7714:(e,t,r)=>{"use strict";var n=r(7426),i=r(2287);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},2287:(e,t,r)=>{"use strict";var n=r(7426),i=r(6166),s=r(6225),a=r(3349),o=n.sum32,c=n.sum32_4,u=n.sum32_5,l=s.ch32,h=s.maj32,f=s.s0_256,d=s.s1_256,p=s.g0_256,g=s.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(b,m),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],m=this.h[2],y=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],S=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var E=u(S,d(b),l(b,v,w),this.k[n],r[n]),x=o(f(i),h(i,s,m));S=w,w=v,v=b,b=o(y,E),y=m,m=s,s=i,i=o(E,x)}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],m),this.h[3]=o(this.h[3],y),this.h[4]=o(this.h[4],b),this.h[5]=o(this.h[5],v),this.h[6]=o(this.h[6],w),this.h[7]=o(this.h[7],S)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},1911:(e,t,r)=>{"use strict";var n=r(7426),i=r(7766);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},7766:(e,t,r)=>{"use strict";var n=r(7426),i=r(6166),s=r(3349),a=n.rotr64_hi,o=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,l=n.sum64,h=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function S(e,t,r,n,i,s){var a=t&n^~t&s;return a<0&&(a+=4294967296),a}function E(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function x(e,t,r,n,i,s){var a=t&n^t&s^n&s;return a<0&&(a+=4294967296),a}function I(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function _(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function k(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function A(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,y),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=(m=r[n-4],y=r[n-3],b=void 0,(b=a(m,y,19)^a(y,m,29)^c(m,y,6))<0&&(b+=4294967296),b),s=C(r[n-4],r[n-3]),o=r[n-14],u=r[n-13],l=k(r[n-30],r[n-29]),h=A(r[n-30],r[n-29]),f=r[n-32],g=r[n-31];r[n]=d(i,s,o,u,l,h,f,g),r[n+1]=p(i,s,o,u,l,h,f,g)}var m,y,b},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r,n,i,o=this.W,c=this.h[0],u=this.h[1],d=this.h[2],p=this.h[3],y=this.h[4],b=this.h[5],v=this.h[6],k=this.h[7],A=this.h[8],C=this.h[9],M=this.h[10],R=this.h[11],O=this.h[12],D=this.h[13],P=this.h[14],L=this.h[15];s(this.k.length===o.length);for(var F=0;F<o.length;F+=2){var N=P,B=L,U=(i=void 0,(i=a(r=A,n=C,14)^a(r,n,18)^a(n,r,9))<0&&(i+=4294967296),i),j=T(A,C),V=w(A,0,M,0,O),G=S(0,C,0,R,0,D),z=this.k[F],W=this.k[F+1],q=o[F],$=o[F+1],H=g(N,B,U,j,V,G,z,W,q,$),X=m(N,B,U,j,V,G,z,W,q,$);N=I(c,u),B=_(c,u),U=E(c,0,d,0,y),j=x(0,u,0,p,0,b);var Y=h(N,B,U,j),K=f(N,B,U,j);P=O,L=D,O=M,D=R,M=A,R=C,A=h(v,k,H,X),C=f(k,k,H,X),v=y,k=b,y=d,b=p,d=c,p=u,c=h(H,X,Y,K),u=f(H,X,Y,K)}l(this.h,0,c,u),l(this.h,2,d,p),l(this.h,4,y,b),l(this.h,6,v,k),l(this.h,8,A,C),l(this.h,10,M,R),l(this.h,12,O,D),l(this.h,14,P,L)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},6225:(e,t,r)=>{"use strict";var n=r(7426).rotr32;function i(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function a(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?a(t,r,n):2===e?s(t,r,n):void 0},t.ch32=i,t.maj32=s,t.p32=a,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},7426:(e,t,r)=>{"use strict";var n=r(3349),i=r(6698);function s(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):s(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=a(i)),r+=c(i.toString(16))}return r},t.zero2=o,t.zero8=c,t.join32=function(e,t,r,i){var s=r-t;n(s%4==0);for(var a=new Array(s/4),o=0,c=t;o<a.length;o++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],a[o]=u>>>0}return a},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,a=(s<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=s},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,s,a,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+s>>>0)<s?1:0,e+r+i+a+(c+=(u=u+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,s,a,o){return t+n+s+o>>>0},t.sum64_5_hi=function(e,t,r,n,i,s,a,o,c,u){var l=0,h=t;return l+=(h=h+n>>>0)<t?1:0,l+=(h=h+s>>>0)<s?1:0,l+=(h=h+o>>>0)<o?1:0,e+r+i+a+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,s,a,o,c,u){return t+n+s+o+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},9957:(e,t,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,s=r(6743);e.exports=s.call(n,i)},2723:(e,t,r)=>{"use strict";var n=r(7952),i=r(4367),s=r(3349);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=a,a.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(r),this._reseed++,i.encode(a,t)}},251:(e,t)=>{t.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,c=(1<<o)-1,u=c>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-l)-1,d>>=-l,l+=o;l>0;s=256*s+e[t+h],h+=f,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),s-=u}return(d?-1:1)*a*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var a,o,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=l?(o=0,a=l):a+h>=1?(o=(t*c-1)*Math.pow(2,i),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&o,d+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[r+d]=255&a,d+=p,a/=256,u-=8);e[r+d-p]|=128*g}},6698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},1959:(e,t,r)=>{"use strict";var n=r(9957),i={__proto__:null,configurable:"boolean",enumerable:"boolean",get:"function",set:"function"};e.exports=function(e,t){if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if(!e||"object"!=typeof e)return!1;if(n(e,"value")||n(e,"writable"))return!1;if(!(n(e,"get")&&"function"==typeof e.get||n(e,"set")&&"function"==typeof e.set))return!1;if(n(e,"get")&&"function"!=typeof e.get&&void 0!==e.get||n(e,"set")&&"function"!=typeof e.set&&void 0!==e.set)return!1;for(var r in e)if(n(e,r)&&n(i,r)&&typeof e[r]!==i[r]&&void 0!==e[r])return!1;return!0}},7244:(e,t,r)=>{"use strict";var n=r(9092)(),i=r(6556)("Object.prototype.toString"),s=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!s(e)||null!==e&&"object"==typeof e&&"length"in e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"callee"in e&&"[object Function]"===i(e.callee)},o=function(){return s(arguments)}();s.isLegacyArguments=a,e.exports=o?s:a},7206:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},9600:e=>{"use strict";var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(e){e!==r&&(i=null)}else i=null;var s=/^\s*class\b/,a=function(e){try{var t=n.call(e);return s.test(t)}catch(e){return!1}},o=function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var f=document.all;c.call(f)===c.call(document.all)&&(h=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(h(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)&&o(e)}:function(e){if(h(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return o(e);if(a(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&o(e)}},6354:(e,t,r)=>{"use strict";var n=r(9957),i={__proto__:null,configurable:"boolean",enumerable:"boolean",writable:"boolean"};e.exports=function(e,t){if(!e||"object"!=typeof e)return!1;if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if(!("value"in e)&&!("writable"in e)||"get"in e||"set"in e)return!1;for(var r in e)if("value"!==r&&n(e,r)&&n(i,r)&&typeof e[r]!==i[r]&&void 0!==e[r])return!1;return!0}},8233:(e,t,r)=>{"use strict";var n=r(1959),i=r(6354);e.exports=function(e,t){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&("get"in e||"set"in e?n(e,t):i(e,t))}},2328:e=>{"use strict";e.exports=function(e){return null!=e&&("object"==typeof e||"function"==typeof e)}},8184:(e,t,r)=>{"use strict";var n,i=r(6556),s=r(9721)(/^\s*(?:function)?\*/),a=r(9092)(),o=r(3628),c=i("Object.prototype.toString"),u=i("Function.prototype.toString");e.exports=function(e){if("function"!=typeof e)return!1;if(s(u(e)))return!0;if(!a)return"[object GeneratorFunction]"===c(e);if(!o)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&o(t)}return o(e)===n}},1929:e=>{"use strict";e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},7128:(e,t,r)=>{"use strict";var n=r(3798);function i(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==i(e)&&"function"==typeof(t=e.constructor)&&!1!==i(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},4035:(e,t,r)=>{"use strict";var n,i=r(6556),s=r(9092)(),a=r(9957),o=r(5795);if(s){var c=i("RegExp.prototype.exec"),u={},l=function(){throw u},h={toString:l,valueOf:l};"symbol"==typeof Symbol.toPrimitive&&(h[Symbol.toPrimitive]=l),n=function(e){if(!e||"object"!=typeof e)return!1;var t=o(e,"lastIndex");if(!t||!a(t,"value"))return!1;try{c(e,h)}catch(e){return e===u}}}else{var f=i("Object.prototype.toString");n=function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===f(e)}}e.exports=n},5680:(e,t,r)=>{"use strict";var n=r(5767);e.exports=function(e){return!!n(e)}},4253:(e,t,r)=>{var n,i,s,a,o=r(5606);a=function(){"use strict";return function(){return o&&("win32"===o.platform||/^(msys|cygwin)$/.test(o.env.OSTYPE))}},t&&"object"==typeof t?e.exports=a():(i=[],void 0===(s="function"==typeof(n=a)?n.apply(t,i):n)||(e.exports=s))},3798:e=>{"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},5609:(e,t,r)=>{var n=r(2521),i=r(3877);e.exports={encode:n,decode:i}},3877:(e,t,r)=>{var n=r(8287).Buffer,i=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,r=799,n=3406,i=2276,s=1567,a=3784,o=5793,c=2896;function u(){}function l(e,t){for(var r,n,i=0,s=[],a=16;a>0&&!e[a-1];)a--;s.push({children:[],index:0});var o,c=s[0];for(r=0;r<a;r++){for(n=0;n<e[r];n++){for((c=s.pop()).children[c.index]=t[i];c.index>0;){if(0===s.length)throw new Error("Could not recreate Huffman Table");c=s.pop()}for(c.index++,s.push(c);s.length<=r;)s.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o;i++}r+1<a&&(s.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o)}return s[0].children}function h(t,r,n,i,s,a,o,c,u,l){n.precision,n.samplesPerLine,n.scanLines;var h=n.mcusPerLine,f=n.progressive,d=(n.maxH,n.maxV,r),p=0,g=0;function m(){if(g>0)return g--,p>>g&1;if(255==(p=t[r++])){var e=t[r++];if(e)throw new Error("unexpected marker: "+(p<<8|e).toString(16))}return g=7,p>>>7}function y(e){for(var t,r=e;null!==(t=m());){if("number"==typeof(r=r[t]))return r;if("object"!=typeof r)throw new Error("invalid huffman sequence")}return null}function b(e){for(var t=0;e>0;){var r=m();if(null===r)return;t=t<<1|r,e--}return t}function v(e){var t=b(e);return t>=1<<e-1?t:t+(-1<<e)+1}var w,S=0,E=0;function x(e,t,r,n,i){var s=r%h,a=(r/h|0)*e.v+n,o=s*e.h+i;void 0===e.blocks[a]&&l.tolerantDecoding||t(e,e.blocks[a][o])}function I(e,t,r){var n=r/e.blocksPerLine|0,i=r%e.blocksPerLine;void 0===e.blocks[n]&&l.tolerantDecoding||t(e,e.blocks[n][i])}var _,T,k,A,C,M,R=i.length;M=f?0===a?0===c?function(e,t){var r=y(e.huffmanTableDC),n=0===r?0:v(r)<<u;t[0]=e.pred+=n}:function(e,t){t[0]|=m()<<u}:0===c?function(t,r){if(S>0)S--;else for(var n=a,i=o;n<=i;){var s=y(t.huffmanTableAC),c=15&s,l=s>>4;if(0!==c)r[e[n+=l]]=v(c)*(1<<u),n++;else{if(l<15){S=b(l)+(1<<l)-1;break}n+=16}}}:function(t,r){for(var n=a,i=o,s=0;n<=i;){var c=e[n],l=r[c]<0?-1:1;switch(E){case 0:var h=y(t.huffmanTableAC),f=15&h;if(s=h>>4,0===f)s<15?(S=b(s)+(1<<s),E=4):(s=16,E=1);else{if(1!==f)throw new Error("invalid ACn encoding");w=v(f),E=s?2:3}continue;case 1:case 2:r[c]?r[c]+=(m()<<u)*l:0==--s&&(E=2==E?3:0);break;case 3:r[c]?r[c]+=(m()<<u)*l:(r[c]=w<<u,E=0);break;case 4:r[c]&&(r[c]+=(m()<<u)*l)}n++}4===E&&0==--S&&(E=0)}:function(t,r){var n=y(t.huffmanTableDC),i=0===n?0:v(n);r[0]=t.pred+=i;for(var s=1;s<64;){var a=y(t.huffmanTableAC),o=15&a,c=a>>4;if(0!==o)r[e[s+=c]]=v(o),s++;else{if(c<15)break;s+=16}}};var O,D,P,L,F=0;for(D=1==R?i[0].blocksPerLine*i[0].blocksPerColumn:h*n.mcusPerColumn,s||(s=D);F<D;){for(T=0;T<R;T++)i[T].pred=0;if(S=0,1==R)for(_=i[0],C=0;C<s;C++)I(_,M,F),F++;else for(C=0;C<s;C++){for(T=0;T<R;T++)for(P=(_=i[T]).h,L=_.v,k=0;k<L;k++)for(A=0;A<P;A++)x(_,M,F,k,A);if(++F===D)break}if(F===D)do{if(255===t[r]&&0!==t[r+1])break;r+=1}while(r<t.length-2);if(g=0,(O=t[r]<<8|t[r+1])<65280)throw new Error("marker was not found");if(!(O>=65488&&O<=65495))break;r+=2}return r-d}function f(e,u){var l,h,f=[],d=u.blocksPerLine,p=u.blocksPerColumn,g=d<<3,y=new Int32Array(64),b=new Uint8Array(64);function v(e,l,h){var f,d,p,g,m,y,b,v,w,S,E=u.quantizationTable,x=h;for(S=0;S<64;S++)x[S]=e[S]*E[S];for(S=0;S<8;++S){var I=8*S;0!=x[1+I]||0!=x[2+I]||0!=x[3+I]||0!=x[4+I]||0!=x[5+I]||0!=x[6+I]||0!=x[7+I]?(f=o*x[0+I]+128>>8,d=o*x[4+I]+128>>8,p=x[2+I],g=x[6+I],m=c*(x[1+I]-x[7+I])+128>>8,v=c*(x[1+I]+x[7+I])+128>>8,y=x[3+I]<<4,b=x[5+I]<<4,w=f-d+1>>1,f=f+d+1>>1,d=w,w=p*a+g*s+128>>8,p=p*s-g*a+128>>8,g=w,w=m-b+1>>1,m=m+b+1>>1,b=w,w=v+y+1>>1,y=v-y+1>>1,v=w,w=f-g+1>>1,f=f+g+1>>1,g=w,w=d-p+1>>1,d=d+p+1>>1,p=w,w=m*i+v*n+2048>>12,m=m*n-v*i+2048>>12,v=w,w=y*r+b*t+2048>>12,y=y*t-b*r+2048>>12,b=w,x[0+I]=f+v,x[7+I]=f-v,x[1+I]=d+b,x[6+I]=d-b,x[2+I]=p+y,x[5+I]=p-y,x[3+I]=g+m,x[4+I]=g-m):(w=o*x[0+I]+512>>10,x[0+I]=w,x[1+I]=w,x[2+I]=w,x[3+I]=w,x[4+I]=w,x[5+I]=w,x[6+I]=w,x[7+I]=w)}for(S=0;S<8;++S){var _=S;0!=x[8+_]||0!=x[16+_]||0!=x[24+_]||0!=x[32+_]||0!=x[40+_]||0!=x[48+_]||0!=x[56+_]?(f=o*x[0+_]+2048>>12,d=o*x[32+_]+2048>>12,p=x[16+_],g=x[48+_],m=c*(x[8+_]-x[56+_])+2048>>12,v=c*(x[8+_]+x[56+_])+2048>>12,y=x[24+_],b=x[40+_],w=f-d+1>>1,f=f+d+1>>1,d=w,w=p*a+g*s+2048>>12,p=p*s-g*a+2048>>12,g=w,w=m-b+1>>1,m=m+b+1>>1,b=w,w=v+y+1>>1,y=v-y+1>>1,v=w,w=f-g+1>>1,f=f+g+1>>1,g=w,w=d-p+1>>1,d=d+p+1>>1,p=w,w=m*i+v*n+2048>>12,m=m*n-v*i+2048>>12,v=w,w=y*r+b*t+2048>>12,y=y*t-b*r+2048>>12,b=w,x[0+_]=f+v,x[56+_]=f-v,x[8+_]=d+b,x[48+_]=d-b,x[16+_]=p+y,x[40+_]=p-y,x[24+_]=g+m,x[32+_]=g-m):(w=o*h[S+0]+8192>>14,x[0+_]=w,x[8+_]=w,x[16+_]=w,x[24+_]=w,x[32+_]=w,x[40+_]=w,x[48+_]=w,x[56+_]=w)}for(S=0;S<64;++S){var T=128+(x[S]+8>>4);l[S]=T<0?0:T>255?255:T}}m(g*p*8);for(var w=0;w<p;w++){var S=w<<3;for(l=0;l<8;l++)f.push(new Uint8Array(g));for(var E=0;E<d;E++){v(u.blocks[w][E],b,y);var x=0,I=E<<3;for(h=0;h<8;h++){var _=f[S+h];for(l=0;l<8;l++)_[I+l]=b[x++]}}}return f}function d(e){return e<0?0:e>255?255:e}u.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(t){var r=1e3*this.opts.maxResolutionInMP*1e3,n=0;function i(){var e=t[n]<<8|t[n+1];return n+=2,e}function s(e){var t,r,n=1,i=1;for(r in e.components)e.components.hasOwnProperty(r)&&(n<(t=e.components[r]).h&&(n=t.h),i<t.v&&(i=t.v));var s=Math.ceil(e.samplesPerLine/8/n),a=Math.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];var o=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),c=Math.ceil(Math.ceil(e.scanLines/8)*t.v/i),u=s*t.h,l=a*t.v,h=[];m(l*u*256);for(var f=0;f<l;f++){for(var d=[],p=0;p<u;p++)d.push(new Int32Array(64));h.push(d)}t.blocksPerLine=o,t.blocksPerColumn=c,t.blocks=h}e.maxH=n,e.maxV=i,e.mcusPerLine=s,e.mcusPerColumn=a}t.length;var a,o,c,u,d=null,p=null,g=[],y=[],b=[],v=[],w=i(),S=-1;if(this.comments=[],65496!=w)throw new Error("SOI not found");for(w=i();65497!=w;){switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var E=(c=i(),u=t.subarray(n,n+c-2),n+=u.length,u);if(65534===w){var x=String.fromCharCode.apply(null,E);this.comments.push(x)}65504===w&&74===E[0]&&70===E[1]&&73===E[2]&&70===E[3]&&0===E[4]&&(d={version:{major:E[5],minor:E[6]},densityUnits:E[7],xDensity:E[8]<<8|E[9],yDensity:E[10]<<8|E[11],thumbWidth:E[12],thumbHeight:E[13],thumbData:E.subarray(14,14+3*E[12]*E[13])}),65505===w&&69===E[0]&&120===E[1]&&105===E[2]&&102===E[3]&&0===E[4]&&(this.exifBuffer=E.subarray(5,E.length)),65518===w&&65===E[0]&&100===E[1]&&111===E[2]&&98===E[3]&&101===E[4]&&0===E[5]&&(p={version:E[6],flags0:E[7]<<8|E[8],flags1:E[9]<<8|E[10],transformCode:E[11]});break;case 65499:for(var I=i()+n-2;n<I;){var _=t[n++];m(256);var T=new Int32Array(64);if(_>>4){if(_>>4!=1)throw new Error("DQT: invalid table spec");for(X=0;X<64;X++)T[e[X]]=i()}else for(X=0;X<64;X++)T[e[X]]=t[n++];g[15&_]=T}break;case 65472:case 65473:case 65474:i(),(a={}).extended=65473===w,a.progressive=65474===w,a.precision=t[n++],a.scanLines=i(),a.samplesPerLine=i(),a.components={},a.componentsOrder=[];var k=a.scanLines*a.samplesPerLine;if(k>r){var A=Math.ceil((k-r)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${A}MP`)}var C,M=t[n++];for($=0;$<M;$++){C=t[n];var R=t[n+1]>>4,O=15&t[n+1],D=t[n+2];if(R<=0||O<=0)throw new Error("Invalid sampling factor, expected values above 0");a.componentsOrder.push(C),a.components[C]={h:R,v:O,quantizationIdx:D},n+=3}s(a),y.push(a);break;case 65476:var P=i();for($=2;$<P;){var L=t[n++],F=new Uint8Array(16),N=0;for(X=0;X<16;X++,n++)N+=F[X]=t[n];m(16+N);var B=new Uint8Array(N);for(X=0;X<N;X++,n++)B[X]=t[n];$+=17+N,(L>>4?b:v)[15&L]=l(F,B)}break;case 65501:i(),o=i();break;case 65500:i(),i();break;case 65498:i();var U=t[n++],j=[];for($=0;$<U;$++){Y=a.components[t[n++]];var V=t[n++];Y.huffmanTableDC=v[V>>4],Y.huffmanTableAC=b[15&V],j.push(Y)}var G=t[n++],z=t[n++],W=t[n++],q=h(t,n,a,j,o,G,z,W>>4,15&W,this.opts);n+=q;break;case 65535:255!==t[n]&&n--;break;default:if(255==t[n-3]&&t[n-2]>=192&&t[n-2]<=254){n-=3;break}if(224===w||225==w){if(-1!==S)throw new Error(`first unknown JPEG marker at offset ${S.toString(16)}, second unknown JPEG marker ${w.toString(16)} at offset ${(n-1).toString(16)}`);S=n-1;const e=i();if(255===t[n+e-2]){n+=e-2;break}}throw new Error("unknown JPEG marker "+w.toString(16))}w=i()}if(1!=y.length)throw new Error("only single frame JPEGs supported");for(var $=0;$<y.length;$++){var H=y[$].components;for(var X in H)H[X].quantizationTable=g[H[X].quantizationIdx],delete H[X].quantizationIdx}for(this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=d,this.adobe=p,this.components=[],$=0;$<a.componentsOrder.length;$++){var Y=a.components[a.componentsOrder[$]];this.components.push({lines:f(0,Y),scaleX:Y.h/a.maxH,scaleY:Y.v/a.maxV})}},getData:function(e,t){var r,n,i,s,a,o,c,u,l,h,f,p,g,y,b,v,w,S,E,x,I,_=this.width/e,T=this.height/t,k=0,A=e*t*this.components.length;m(A);var C=new Uint8Array(A);switch(this.components.length){case 1:for(r=this.components[0],h=0;h<t;h++)for(a=r.lines[0|h*r.scaleY*T],l=0;l<e;l++)f=a[0|l*r.scaleX*_],C[k++]=f;break;case 2:for(r=this.components[0],n=this.components[1],h=0;h<t;h++)for(a=r.lines[0|h*r.scaleY*T],o=n.lines[0|h*n.scaleY*T],l=0;l<e;l++)f=a[0|l*r.scaleX*_],C[k++]=f,f=o[0|l*n.scaleX*_],C[k++]=f;break;case 3:for(I=!0,this.adobe&&this.adobe.transformCode?I=!0:void 0!==this.opts.colorTransform&&(I=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],h=0;h<t;h++)for(a=r.lines[0|h*r.scaleY*T],o=n.lines[0|h*n.scaleY*T],c=i.lines[0|h*i.scaleY*T],l=0;l<e;l++)I?(f=a[0|l*r.scaleX*_],p=o[0|l*n.scaleX*_],S=d(f+1.402*((g=c[0|l*i.scaleX*_])-128)),E=d(f-.3441363*(p-128)-.71413636*(g-128)),x=d(f+1.772*(p-128))):(S=a[0|l*r.scaleX*_],E=o[0|l*n.scaleX*_],x=c[0|l*i.scaleX*_]),C[k++]=S,C[k++]=E,C[k++]=x;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(I=!1,this.adobe&&this.adobe.transformCode?I=!0:void 0!==this.opts.colorTransform&&(I=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],s=this.components[3],h=0;h<t;h++)for(a=r.lines[0|h*r.scaleY*T],o=n.lines[0|h*n.scaleY*T],c=i.lines[0|h*i.scaleY*T],u=s.lines[0|h*s.scaleY*T],l=0;l<e;l++)I?(f=a[0|l*r.scaleX*_],p=o[0|l*n.scaleX*_],g=c[0|l*i.scaleX*_],y=u[0|l*s.scaleX*_],b=255-d(f+1.402*(g-128)),v=255-d(f-.3441363*(p-128)-.71413636*(g-128)),w=255-d(f+1.772*(p-128))):(b=a[0|l*r.scaleX*_],v=o[0|l*n.scaleX*_],w=c[0|l*i.scaleX*_],y=u[0|l*s.scaleX*_]),C[k++]=255-b,C[k++]=255-v,C[k++]=255-w,C[k++]=255-y;break;default:throw new Error("Unsupported color mode")}return C},copyToImageData:function(e,t){var r,n,i,s,a,o,c,u,l,h=e.width,f=e.height,p=e.data,g=this.getData(h,f),m=0,y=0;switch(this.components.length){case 1:for(n=0;n<f;n++)for(r=0;r<h;r++)i=g[m++],p[y++]=i,p[y++]=i,p[y++]=i,t&&(p[y++]=255);break;case 3:for(n=0;n<f;n++)for(r=0;r<h;r++)c=g[m++],u=g[m++],l=g[m++],p[y++]=c,p[y++]=u,p[y++]=l,t&&(p[y++]=255);break;case 4:for(n=0;n<f;n++)for(r=0;r<h;r++)a=g[m++],o=g[m++],i=g[m++],c=255-d(a*(1-(s=g[m++])/255)+s),u=255-d(o*(1-s/255)+s),l=255-d(i*(1-s/255)+s),p[y++]=c,p[y++]=u,p[y++]=l,t&&(p[y++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,g=0;function m(e=0){var t=p+e;if(t>g){var r=Math.ceil((t-g)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${r}MB`)}p=t}return u.resetMaxMemoryUsage=function(e){p=0,g=e},u.getBytesAllocated=function(){return p},u.requestMemoryAllocation=m,u}();e.exports=function(e,t={}){var r={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...t},s=new Uint8Array(e),a=new i;a.opts=r,i.resetMaxMemoryUsage(1024*r.maxMemoryUsageInMB*1024),a.parse(s);var o=r.formatAsRGBA?4:3,c=a.width*a.height*o;try{i.requestMemoryAllocation(c);var u={width:a.width,height:a.height,exifBuffer:a.exifBuffer,data:r.useTArray?new Uint8Array(c):n.alloc(c)};a.comments.length>0&&(u.comments=a.comments)}catch(e){if(e instanceof RangeError)throw new Error("Could not allocate enough memory for the image. Required: "+c);if(e instanceof ReferenceError&&"Buffer is not defined"===e.message)throw new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw e}return a.copyToImageData(u,r.formatAsRGBA),u}},2521:(e,t,r)=>{var n=r(8287).Buffer;function i(e){Math.round;var t,r,i,s,a,o=Math.floor,c=new Array(64),u=new Array(64),l=new Array(64),h=new Array(64),f=new Array(65535),d=new Array(65535),p=new Array(64),g=new Array(64),m=[],y=0,b=7,v=new Array(64),w=new Array(64),S=new Array(64),E=new Array(256),x=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],_=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],O=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function D(e,t){for(var r=0,n=0,i=new Array,s=1;s<=16;s++){for(var a=1;a<=e[s];a++)i[t[n]]=[],i[t[n]][0]=r,i[t[n]][1]=s,n++,r++;r*=2}return i}function P(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(y|=1<<b),r--,--b<0&&(255==y?(L(255),L(0)):L(y),b=7,y=0)}function L(e){m.push(e)}function F(e){L(e>>8&255),L(255&e)}function N(e,t,r,n,i){for(var s,a=i[0],o=i[240],c=function(e,t){var r,n,i,s,a,o,c,u,l,h,f=0;for(l=0;l<8;++l){r=e[f],n=e[f+1],i=e[f+2],s=e[f+3],a=e[f+4],o=e[f+5],c=e[f+6];var d=r+(u=e[f+7]),g=r-u,m=n+c,y=n-c,b=i+o,v=i-o,w=s+a,S=s-a,E=d+w,x=d-w,I=m+b,_=m-b;e[f]=E+I,e[f+4]=E-I;var T=.707106781*(_+x);e[f+2]=x+T,e[f+6]=x-T;var k=.382683433*((E=S+v)-(_=y+g)),A=.5411961*E+k,C=1.306562965*_+k,M=.707106781*(I=v+y),R=g+M,O=g-M;e[f+5]=O+A,e[f+3]=O-A,e[f+1]=R+C,e[f+7]=R-C,f+=8}for(f=0,l=0;l<8;++l){r=e[f],n=e[f+8],i=e[f+16],s=e[f+24],a=e[f+32],o=e[f+40],c=e[f+48];var D=r+(u=e[f+56]),P=r-u,L=n+c,F=n-c,N=i+o,B=i-o,U=s+a,j=s-a,V=D+U,G=D-U,z=L+N,W=L-N;e[f]=V+z,e[f+32]=V-z;var q=.707106781*(W+G);e[f+16]=G+q,e[f+48]=G-q;var $=.382683433*((V=j+B)-(W=F+P)),H=.5411961*V+$,X=1.306562965*W+$,Y=.707106781*(z=B+F),K=P+Y,Z=P-Y;e[f+40]=Z+H,e[f+24]=Z-H,e[f+8]=K+X,e[f+56]=K-X,f++}for(l=0;l<64;++l)h=e[l]*t[l],p[l]=h>0?h+.5|0:h-.5|0;return p}(e,t),u=0;u<64;++u)g[I[u]]=c[u];var l=g[0]-r;r=g[0],0==l?P(n[0]):(P(n[d[s=32767+l]]),P(f[s]));for(var h=63;h>0&&0==g[h];h--);if(0==h)return P(a),r;for(var m,y=1;y<=h;){for(var b=y;0==g[y]&&y<=h;++y);var v=y-b;if(v>=16){m=v>>4;for(var w=1;w<=m;++w)P(o);v&=15}s=32767+g[y],P(i[(v<<4)+d[s]]),P(f[s]),y++}return 63!=h&&P(a),r}function B(e){e<=0&&(e=1),e>100&&(e=100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=o((t[r]*e+50)/100);n<1?n=1:n>255&&(n=255),c[I[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var a=o((i[s]*e+50)/100);a<1?a=1:a>255&&(a=255),u[I[s]]=a}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var g=0;g<8;g++)l[d]=1/(c[I[d]]*f[p]*f[g]*8),h[d]=1/(u[I[d]]*f[p]*f[g]*8),d++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){var o;(new Date).getTime(),a&&B(a),m=new Array,y=0,b=7,F(65496),F(65504),F(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),F(1),F(1),L(0),L(0),void 0!==(o=e.comments)&&o.constructor===Array&&o.forEach((e=>{if("string"==typeof e){F(65534);var t,r=e.length;for(F(r+2),t=0;t<r;t++)L(e.charCodeAt(t))}})),function(e){if(e){F(65505),69===e[0]&&120===e[1]&&105===e[2]&&102===e[3]?F(e.length+2):(F(e.length+5+2),L(69),L(120),L(105),L(102),L(0));for(var t=0;t<e.length;t++)L(e[t])}}(e.exifBuffer),function(){F(65499),F(132),L(0);for(var e=0;e<64;e++)L(c[e]);L(1);for(var t=0;t<64;t++)L(u[t])}(),function(e,t){F(65472),F(17),L(8),F(t),F(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){F(65476),F(418),L(0);for(var e=0;e<16;e++)L(_[e+1]);for(var t=0;t<=11;t++)L(T[t]);L(16);for(var r=0;r<16;r++)L(k[r+1]);for(var n=0;n<=161;n++)L(A[n]);L(1);for(var i=0;i<16;i++)L(C[i+1]);for(var s=0;s<=11;s++)L(M[s]);L(17);for(var a=0;a<16;a++)L(R[a+1]);for(var o=0;o<=161;o++)L(O[o])}(),F(65498),F(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var f=0,d=0,p=0;y=0,b=7,this.encode.displayName="_encode_";for(var g,E,I,D,U,j,V,G,z,W=e.data,q=e.width,$=e.height,H=4*q,X=0;X<$;){for(g=0;g<H;){for(j=U=H*X+g,V=-1,G=0,z=0;z<64;z++)j=U+(G=z>>3)*H+(V=4*(7&z)),X+G>=$&&(j-=H*(X+1+G-$)),g+V>=H&&(j-=g+V-H+4),E=W[j++],I=W[j++],D=W[j++],v[z]=(x[E]+x[I+256|0]+x[D+512|0]>>16)-128,w[z]=(x[E+768|0]+x[I+1024|0]+x[D+1280|0]>>16)-128,S[z]=(x[E+1280|0]+x[I+1536|0]+x[D+1792|0]>>16)-128;f=N(v,l,f,t,i),d=N(w,h,d,r,s),p=N(S,h,p,r,s),g+=32}X+=8}if(b>=0){var Y=[];Y[1]=b+1,Y[0]=(1<<b+1)-1,P(Y)}return F(65497),n.from(m)},(new Date).getTime(),e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)E[t]=e(t)}(),t=D(_,T),r=D(C,M),i=D(k,A),s=D(R,O),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)d[32767+n]=r,f[32767+n]=[],f[32767+n][1]=r,f[32767+n][0]=n;for(var i=-(t-1);i<=-e;i++)d[32767+i]=r,f[32767+i]=[],f[32767+i][1]=r,f[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256|0]=38470*e,x[e+512|0]=7471*e+32768,x[e+768|0]=-11059*e,x[e+1024|0]=-21709*e,x[e+1280|0]=32768*e+8421375,x[e+1536|0]=-27439*e,x[e+1792|0]=-5329*e}(),B(e),(new Date).getTime()}e.exports=function(e,t){return void 0===t&&(t=50),{data:new i(t).encode(e,t),width:e.width,height:e.height}}},5208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loop=t.conditional=t.parse=void 0,t.parse=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(r))r.forEach((function(r){return e(t,r,n,i)}));else if("function"==typeof r)r(t,n,i,e);else{var s=Object.keys(r)[0];Array.isArray(r[s])?(i[s]={},e(t,r[s],n,i[s])):i[s]=r[s](t,n,i,e)}return n},t.conditional=function(e,t){return function(r,n,i,s){t(r,n,i)&&s(r,e,n,i)}},t.loop=function(e,t){return function(r,n,i,s){for(var a=[],o=r.pos;t(r,n,i);){var c={};if(s(r,e,n,c),r.pos===o)break;o=r.pos,a.push(c)}return a}}},2515:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readBits=t.readArray=t.readUnsigned=t.readString=t.peekBytes=t.readBytes=t.peekByte=t.readByte=t.buildStream=void 0,t.buildStream=function(e){return{data:e,pos:0}},t.readByte=function(){return function(e){return e.data[e.pos++]}},t.peekByte=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return t.data[t.pos+e]}};var r=function(e){return function(t){return t.data.subarray(t.pos,t.pos+=e)}};t.readBytes=r,t.peekBytes=function(e){return function(t){return t.data.subarray(t.pos,t.pos+e)}},t.readString=function(e){return function(t){return Array.from(r(e)(t)).map((function(e){return String.fromCharCode(e)})).join("")}},t.readUnsigned=function(e){return function(t){var n=r(2)(t);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}},t.readArray=function(e,t){return function(n,i,s){for(var a="function"==typeof t?t(n,i,s):t,o=r(e),c=new Array(a),u=0;u<a;u++)c[u]=o(n);return c}},t.readBits=function(e){return function(t){for(var r=function(e){return e.data[e.pos++]}(t),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(e).reduce((function(t,r){var i=e[r];return i.length?t[r]=function(e,t,r){for(var n=0,i=0;i<r;i++)n+=e[t+i]&&Math.pow(2,r-i-1);return n}(n,i.index,i.length):t[r]=n[i.index],t}),{})}}},8841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(5208),i=r(2515),s={blocks:function(e){for(var t=[],r=e.data.length,n=0,s=(0,i.readByte)()(e);0!==s&&s;s=(0,i.readByte)()(e)){if(e.pos+s>=r){var a=r-e.pos;t.push((0,i.readBytes)(a)(e)),n+=a;break}t.push((0,i.readBytes)(s)(e)),n+=s}for(var o=new Uint8Array(n),c=0,u=0;u<t.length;u++)o.set(t[u],c),c+=t[u].length;return o}},a=(0,n.conditional)({gce:[{codes:(0,i.readBytes)(2)},{byteSize:(0,i.readByte)()},{extras:(0,i.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,i.readUnsigned)(!0)},{transparentColorIndex:(0,i.readByte)()},{terminator:(0,i.readByte)()}]},(function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&249===t[1]})),o=(0,n.conditional)({image:[{code:(0,i.readByte)()},{descriptor:[{left:(0,i.readUnsigned)(!0)},{top:(0,i.readUnsigned)(!0)},{width:(0,i.readUnsigned)(!0)},{height:(0,i.readUnsigned)(!0)},{lct:(0,i.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,n.conditional)({lct:(0,i.readArray)(3,(function(e,t,r){return Math.pow(2,r.descriptor.lct.size+1)}))},(function(e,t,r){return r.descriptor.lct.exists})),{data:[{minCodeSize:(0,i.readByte)()},s]}]},(function(e){return 44===(0,i.peekByte)()(e)})),c=(0,n.conditional)({text:[{codes:(0,i.readBytes)(2)},{blockSize:(0,i.readByte)()},{preData:function(e,t,r){return(0,i.readBytes)(r.text.blockSize)(e)}},s]},(function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&1===t[1]})),u=(0,n.conditional)({application:[{codes:(0,i.readBytes)(2)},{blockSize:(0,i.readByte)()},{id:function(e,t,r){return(0,i.readString)(r.blockSize)(e)}},s]},(function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&255===t[1]})),l=(0,n.conditional)({comment:[{codes:(0,i.readBytes)(2)},s]},(function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&254===t[1]})),h=[{header:[{signature:(0,i.readString)(3)},{version:(0,i.readString)(3)}]},{lsd:[{width:(0,i.readUnsigned)(!0)},{height:(0,i.readUnsigned)(!0)},{gct:(0,i.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,i.readByte)()},{pixelAspectRatio:(0,i.readByte)()}]},(0,n.conditional)({gct:(0,i.readArray)(3,(function(e,t){return Math.pow(2,t.lsd.gct.size+1)}))},(function(e,t){return t.lsd.gct.exists})),{frames:(0,n.loop)([a,u,l,o,c],(function(e){var t=(0,i.peekByte)()(e);return 33===t||44===t}))}];t.default=h},4908:(e,t,r)=>{var n=r(7206),i=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=i.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":n(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},1271:function(e,t){var r,n;void 0===(n="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebPDecoder=function(){function e(){a(55)}function u(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function l(e,t,n,i,s){r(!(i%n));do{e[t+(i-=n)]=s}while(0<i)}function h(e,t,n,i,s){if(r(2328>=s),512>=s)var o=a(512);else if(null==(o=a(s)))return 0;return function(e,t,n,i,s,o){var c,h,d=t,p=1<<n,g=a(16),m=a(16);for(r(0!=s),r(null!=i),r(null!=e),r(0<n),h=0;h<s;++h){if(15<i[h])return 0;++g[i[h]]}if(g[0]==s)return 0;for(m[1]=0,c=1;15>c;++c){if(g[c]>1<<c)return 0;m[c+1]=m[c]+g[c]}for(h=0;h<s;++h)c=i[h],0<i[h]&&(o[m[c]++]=h);if(1==m[15])return(i=new f).g=0,i.value=o[0],l(e,d,1,p,i),p;var y,b=-1,v=p-1,w=0,S=1,E=1,x=1<<n;for(h=0,c=1,s=2;c<=n;++c,s<<=1){if(S+=E<<=1,0>(E-=g[c]))return 0;for(;0<g[c];--g[c])(i=new f).g=c,i.value=o[h++],l(e,d+w,s,x,i),w=u(w,c)}for(c=n+1,s=2;15>=c;++c,s<<=1){if(S+=E<<=1,0>(E-=g[c]))return 0;for(;0<g[c];--g[c]){if(i=new f,(w&v)!=b){for(d+=x,y=1<<(b=c)-n;15>b&&!(0>=(y-=g[b]));)++b,y<<=1;p+=x=1<<(y=b-n),e[t+(b=w&v)].g=y+n,e[t+b].value=d-t-b}i.g=c-n,i.value=o[h++],l(e,d+(w>>n),s,x,i),w=u(w,c)}}return S!=2*m[15]-1?0:p}(e,t,n,i,s,o)}function f(){this.value=this.g=0}function d(){this.value=this.g=0}function p(){this.G=o(5,f),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ur,d)}function g(e,t,n,i){r(null!=e),r(null!=t),r(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=t,e.pa=n,e.Jd=t,e.Yc=n+i,e.Zc=4<=i?n+i-4+1:n,k(e)}function m(e,t){for(var r=0;0<t--;)r|=C(e,128)<<t;return r}function y(e,t){var r=m(e,t);return A(e)?-r:r}function b(e,t,n,i){var s,a=0;for(r(null!=e),r(null!=t),r(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),s=0;s<i;++s)a+=t[n+s]<<8*s;e.Ra=a,e.bb=i,e.oa=t,e.pa=n}function v(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Gr-8>>>0,++e.bb,e.u-=8;I(e)&&(e.h=1,e.u=0)}function w(e,t){if(r(0<=t),!e.h&&t<=Vr){var n=x(e)&jr[t];return e.u+=t,v(e),n}return e.h=1,e.u=0}function S(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&Gr-1)>>>0}function I(e){return r(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Gr}function _(e,t){e.u=t,e.h=I(e)}function T(e){e.u>=zr&&(r(e.u>=zr),v(e))}function k(e){r(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(r(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return m(e,1)}function C(e,t){var r=e.Ca;0>e.b&&k(e);var n=e.b,i=r*t>>>8,s=(e.I>>>n>i)+0;for(s?(r-=i,e.I-=i+1<<n>>>0):r=i+1,n=r,i=0;256<=n;)i+=8,n>>=8;return n=7^i+Wr[n],e.b-=n,e.Ca=(r<<n)-1,s}function M(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function R(e,t){return e[t+0]|e[t+1]<<8}function O(e,t){return R(e,t)|e[t+2]<<16}function D(e,t){return R(e,t)|R(e,t+2)<<16}function P(e,t){var n=1<<t;return r(null!=e),r(0<t),e.X=a(n),null==e.X?0:(e.Mb=32-t,e.Xa=t,1)}function L(e,t){r(null!=e),r(null!=t),r(e.Xa==t.Xa),i(t.X,0,e.X,0,1<<t.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function N(e,t,n,i){r(null!=n),r(null!=i);var s=n[0],a=i[0];return 0==s&&(s=(e*a+t/2)/t),0==a&&(a=(t*s+e/2)/e),0>=s||0>=a?0:(n[0]=s,i[0]=a,1)}function B(e,t){return e+(1<<t)-1>>>t}function U(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function j(e,r){t[r]=function(r,n,i,s,a,o,c){var u;for(u=0;u<a;++u){var l=t[e](o[c+u-1],i,s+u);o[c+u]=U(r[n+u],l)}}}function V(){this.ud=this.hd=this.jd=0}function G(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function z(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function W(e,t){return z(e+(e-t+.5>>1))}function q(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function $(e,t,r,n,i,s,a){for(n=s[a-1],r=0;r<i;++r)s[a+r]=n=U(e[t+r],n)}function H(e,t,r,n,i){var s;for(s=0;s<r;++s){var a=e[t+s],o=a>>8&255,c=16711935&(c=(c=16711935&a)+((o<<16)+o));n[i+s]=(4278255360&a)+c>>>0}}function X(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,r,n,i,s){var a;for(a=0;a<n;++a){var o=t[r+a],c=o>>>8,u=o,l=255&(l=(l=o>>>16)+((e.jd<<24>>24)*(c<<24>>24)>>>5));u=255&(u=(u+=(e.hd<<24>>24)*(c<<24>>24)>>>5)+((e.ud<<24>>24)*(l<<24>>24)>>>5)),i[s+a]=(4278255360&o)+(l<<16)+u}}function K(e,r,n,i,s){t[r]=function(e,t,r,n,a,o,c,u,l){for(n=c;n<u;++n)for(c=0;c<l;++c)a[o++]=s(r[i(e[t++])])},t[e]=function(e,r,a,o,c,u,l){var h=8>>e.b,f=e.Ea,d=e.K[0],p=e.w;if(8>h)for(e=(1<<e.b)-1,p=(1<<h)-1;r<a;++r){var g,m=0;for(g=0;g<f;++g)g&e||(m=i(o[c++])),u[l++]=s(d[m&p]),m>>=h}else t["VP8LMapColor"+n](o,c,d,p,u,l,r,a,f)}}function Z(e,t,r,n,i){for(r=t+r;t<r;){var s=e[t++];n[i++]=s>>16&255,n[i++]=s>>8&255,n[i++]=255&s}}function J(e,t,r,n,i){for(r=t+r;t<r;){var s=e[t++];n[i++]=s>>16&255,n[i++]=s>>8&255,n[i++]=255&s,n[i++]=s>>24&255}}function Q(e,t,r,n,i){for(r=t+r;t<r;){var s=(a=e[t++])>>16&240|a>>12&15,a=240&a|a>>28&15;n[i++]=s,n[i++]=a}}function ee(e,t,r,n,i){for(r=t+r;t<r;){var s=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;n[i++]=s,n[i++]=a}}function te(e,t,r,n,i){for(r=t+r;t<r;){var s=e[t++];n[i++]=255&s,n[i++]=s>>8&255,n[i++]=s>>16&255}}function re(e,t,r,n,s,a){if(0==a)for(r=t+r;t<r;)M(n,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),s+=32;else i(n,s,e,t,r)}function ne(e,r){t[r][0]=t[e+"0"],t[r][1]=t[e+"1"],t[r][2]=t[e+"2"],t[r][3]=t[e+"3"],t[r][4]=t[e+"4"],t[r][5]=t[e+"5"],t[r][6]=t[e+"6"],t[r][7]=t[e+"7"],t[r][8]=t[e+"8"],t[r][9]=t[e+"9"],t[r][10]=t[e+"10"],t[r][11]=t[e+"11"],t[r][12]=t[e+"12"],t[r][13]=t[e+"13"],t[r][14]=t[e+"0"],t[r][15]=t[e+"0"]}function ie(e){return e==Wn||e==qn||e==$n||e==Hn}function se(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new se,this.f.kb=new ae,this.sd=null}function ce(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ue(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function le(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function he(e,t){var r=e.T,n=t.ba.f.RGBA,s=n.eb,a=n.fb+e.ka*n.A,o=bi[t.ba.S],c=e.y,u=e.O,l=e.f,h=e.N,f=e.ea,d=e.W,p=t.cc,g=t.dc,m=t.Mc,y=t.Nc,b=e.ka,v=e.ka+e.T,w=e.U,S=w+1>>1;for(0==b?o(c,u,null,null,l,h,f,d,l,h,f,d,s,a,null,null,w):(o(t.ec,t.fc,c,u,p,g,m,y,l,h,f,d,s,a-n.A,s,a,w),++r);b+2<v;b+=2)p=l,g=h,m=f,y=d,h+=e.Rc,d+=e.Rc,a+=2*n.A,o(c,(u+=2*e.fa)-e.fa,c,u,p,g,m,y,l,h,f,d,s,a-n.A,s,a,w);return u+=e.fa,e.j+v<e.o?(i(t.ec,t.fc,c,u,w),i(t.cc,t.dc,l,h,S),i(t.Mc,t.Nc,f,d,S),r--):1&v||o(c,u,null,null,l,h,f,d,l,h,f,d,s,a+n.A,null,null,w),r}function fe(e,t,n){var i=e.F,s=[e.J];if(null!=i){var a=e.U,o=t.ba.S,c=o==Vn||o==$n;t=t.ba.f.RGBA;var u=[0],l=e.ka;u[0]=e.T,e.Kb&&(0==l?--u[0]:(--l,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(u[0]=e.o-e.j-l));var h=t.eb;l=t.fb+l*t.A,e=Tn(i,s[0],e.width,a,u,h,l+(c?0:3),t.A),r(n==u),e&&ie(o)&&In(h,l,c,a,u,t.A)}return 0}function de(e){var t=e.ma,r=t.ba.S,n=11>r,i=r==Bn||r==jn||r==Vn||r==Gn||12==r||ie(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Fr(t.Oa,e,i?11:12))return 0;if(i&&ie(r)&&vr(),e.da)alert("todo:use_scaling");else{if(n){if(t.Ib=le,e.Kb){if(r=e.U+1>>1,t.memory=a(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=he,vr()}}else alert("todo:EmitYUV");i&&(t.Jb=fe,n&&yr())}if(n&&!Oi){for(e=0;256>e;++e)Di[e]=89858*(e-128)+ki>>Ti,Fi[e]=-22014*(e-128)+ki,Li[e]=-45773*(e-128),Pi[e]=113618*(e-128)+ki>>Ti;for(e=Ai;e<Ci;++e)t=76283*(e-16)+ki>>Ti,Ni[e-Ai]=$e(t,255),Bi[e-Ai]=$e(t+8>>4,15);Oi=1}return 1}function pe(e){var t=e.ma,n=e.U,i=e.T;return r(!(1&e.ka)),0>=n||0>=i?0:(n=t.Ib(e,t),null!=t.Jb&&t.Jb(e,t,n),t.Dc+=n,1)}function ge(e){e.ma.memory=null}function me(e,t,r,n){return 47!=w(e,8)?0:(t[0]=w(e,14)+1,r[0]=w(e,14)+1,n[0]=w(e,1),0!=w(e,3)?0:!e.h)}function ye(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+w(t,r)+1}function be(e,t){return 120<t?t-120:1<=(r=((r=Qn[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function ve(e,t,r){var n=x(r),i=e[t+=255&n].g-8;return 0<i&&(_(r,r.u+8),n=x(r),t+=e[t].value,t+=n&(1<<i)-1),_(r,r.u+e[t].g),e[t].value}function we(e,t,n){return n.g+=e.g,n.value+=e.value<<t>>>0,r(8>=n.g),e.g}function Se(e,t,n){var i=e.xc;return r((t=0==i?0:e.vc[e.md*(n>>i)+(t>>i)])<e.Wb),e.Ya[t]}function Ee(e,t,n,s){var a=e.ab,o=e.c*t,c=e.C;t=c+t;var u=n,l=s;for(s=e.Ta,n=e.Ua;0<a--;){var h=e.gc[a],f=c,d=t,p=u,g=l,m=(l=s,u=n,h.Ea);switch(r(f<d),r(d<=h.nc),h.hc){case 2:Hr(p,g,(d-f)*m,l,u);break;case 0:var y=f,b=d,v=l,w=u,S=(T=h).Ea;0==y&&(qr(p,g,null,null,1,v,w),$(p,g+1,0,0,S-1,v,w+1),g+=S,w+=S,++y);for(var E=1<<T.b,x=E-1,I=B(S,T.b),_=T.K,T=T.w+(y>>T.b)*I;y<b;){var k=_,A=T,C=1;for($r(p,g,v,w-S,1,v,w);C<S;){var M=(C&~x)+E;M>S&&(M=S),(0,Jr[k[A++]>>8&15])(p,g+ +C,v,w+C-S,M-C,v,w+C),C=M}g+=S,w+=S,++y&x||(T+=I)}d!=h.nc&&i(l,u-m,l,u+(d-f-1)*m,m);break;case 1:for(m=p,b=g,S=(p=h.Ea)-(w=p&~(v=(g=1<<h.b)-1)),y=B(p,h.b),E=h.K,h=h.w+(f>>h.b)*y;f<d;){for(x=E,I=h,_=new V,T=b+w,k=b+p;b<T;)X(x[I++],_),Qr(_,m,b,g,l,u),b+=g,u+=g;b<k&&(X(x[I++],_),Qr(_,m,b,S,l,u),b+=S,u+=S),++f&v||(h+=y)}break;case 3:if(p==l&&g==u&&0<h.b){for(b=l,p=m=u+(d-f)*m-(w=(d-f)*B(h.Ea,h.b)),g=l,v=u,y=[],w=(S=w)-1;0<=w;--w)y[w]=g[v+w];for(w=S-1;0<=w;--w)b[p+w]=y[w];Xr(h,f,d,l,m,l,u)}else Xr(h,f,d,p,g,l,u)}u=s,l=n}l!=n&&i(s,n,u,l,o)}function xe(e,t){var n=e.V,i=e.Ba+e.c*e.C,s=t-e.C;if(r(t<=e.l.o),r(16>=s),0<s){var a=e.l,o=e.Ta,c=e.Ua,u=a.width;if(Ee(e,s,n,i),s=c=[c],r((n=e.C)<(i=t)),r(a.v<a.va),i>a.o&&(i=a.o),n<a.j){var l=a.j-n;n=a.j,s[0]+=l*u}if(n>=i?n=0:(s[0]+=4*a.v,a.ka=n-a.j,a.U=a.va-a.v,a.T=i-n,n=1),n){if(c=c[0],11>(n=e.ca).S){var h=n.f.RGBA,f=(i=n.S,s=a.U,a=a.T,l=h.eb,h.A),d=a;for(h=h.fb+e.Ma*h.A;0<d--;){var p=o,g=c,m=s,y=l,b=h;switch(i){case Nn:en(p,g,m,y,b);break;case Bn:tn(p,g,m,y,b);break;case Wn:tn(p,g,m,y,b),In(y,b,0,m,1,0);break;case Un:sn(p,g,m,y,b);break;case jn:re(p,g,m,y,b,1);break;case qn:re(p,g,m,y,b,1),In(y,b,0,m,1,0);break;case Vn:re(p,g,m,y,b,0);break;case $n:re(p,g,m,y,b,0),In(y,b,1,m,1,0);break;case Gn:rn(p,g,m,y,b);break;case Hn:rn(p,g,m,y,b),_n(y,b,m,1,0);break;case zn:nn(p,g,m,y,b);break;default:r(0)}c+=u,h+=f}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");r(e.Ma<=n.height)}}e.C=t,r(e.C<=e.i)}function Ie(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,n=e.Ya[t].H;if(0<r[1][n[1]+0].g||0<r[2][n[2]+0].g||0<r[3][n[3]+0].g)return 0}return 1}function _e(e,t,n,i,s,a){if(0!=e.Z){var o=e.qd,c=e.rd;for(r(null!=yi[e.Z]);t<n;++t)yi[e.Z](o,c,i,s,i,s,a),o=i,c=s,s+=a;e.qd=o,e.rd=c}}function Te(e,t){var n=e.l.ma,i=0==n.Z||1==n.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,r(t<=e.l.o),t>i){var s=e.l.width,a=n.ca,o=n.tb+s*i,c=e.V,u=e.Ba+e.c*i,l=e.gc;r(1==e.ab),r(3==l[0].hc),Kr(l[0],i,t,c,u,a,o),_e(n,i,t,a,o,s)}e.C=e.Ma=t}function ke(e,t,n,i,s,a,o){var c=e.$/i,u=e.$%i,l=e.m,h=e.s,f=n+e.$,d=f;s=n+i*s;var p=n+i*a,g=280+h.ua,m=e.Pb?c:16777216,y=0<h.ua?h.Wa:null,b=h.wc,v=f<p?Se(h,u,c):null;r(e.C<a),r(p<=s);var w=!1;e:for(;;){for(;w||f<p;){var S=0;if(c>=m){var E=f-n;r((m=e).Pb),m.wd=m.m,m.xd=E,0<m.s.ua&&L(m.s.Wa,m.s.vb),m=c+ti}if(u&b||(v=Se(h,u,c)),r(null!=v),v.Qb&&(t[f]=v.qb,w=!0),!w)if(T(l),v.jc){S=l,E=t;var k=f,A=v.pd[x(S)&Ur-1];r(v.jc),256>A.g?(_(S,S.u+A.g),E[k]=A.value,S=0):(_(S,S.u+A.g-256),r(256<=A.value),S=A.value),0==S&&(w=!0)}else S=ve(v.G[0],v.H[0],l);if(l.h)break;if(w||256>S){if(!w)if(v.nd)t[f]=(v.qb|S<<8)>>>0;else{if(T(l),w=ve(v.G[1],v.H[1],l),T(l),E=ve(v.G[2],v.H[2],l),k=ve(v.G[3],v.H[3],l),l.h)break;t[f]=(k<<24|w<<16|S<<8|E)>>>0}if(w=!1,++f,++u>=i&&(u=0,++c,null!=o&&c<=a&&!(c%16)&&o(e,c),null!=y))for(;d<f;)S=t[d++],y.X[(506832829*S&4294967295)>>>y.Mb]=S}else if(280>S){if(S=ye(S-256,l),E=ve(v.G[4],v.H[4],l),T(l),E=be(i,E=ye(E,l)),l.h)break;if(f-n<E||s-f<S)break e;for(k=0;k<S;++k)t[f+k]=t[f+k-E];for(f+=S,u+=S;u>=i;)u-=i,++c,null!=o&&c<=a&&!(c%16)&&o(e,c);if(r(f<=s),u&b&&(v=Se(h,u,c)),null!=y)for(;d<f;)S=t[d++],y.X[(506832829*S&4294967295)>>>y.Mb]=S}else{if(!(S<g))break e;for(w=S-280,r(null!=y);d<f;)S=t[d++],y.X[(506832829*S&4294967295)>>>y.Mb]=S;S=f,r(!(w>>>(E=y).Xa)),t[S]=E.X[w],w=!0}w||r(l.h==I(l))}if(e.Pb&&l.h&&f<s)r(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(l.h)break e;null!=o&&o(e,c>a?a:c),e.a=0,e.$=f-n}return 1}return e.a=3,0}function Ae(e){r(null!=e),e.vc=null,e.yc=null,e.Ya=null;var t=e.Wa;null!=t&&(t.X=null),e.vb=null,r(null!=e)}function Ce(){var e=new or;return null==e?null:(e.a=0,e.xb=mi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Hr=H,Qr=Y,en=Z,tn=J,rn=Q,nn=ee,sn=te,t.VP8LMapColor32b=Yr,t.VP8LMapColor8b=Zr,e)}function Me(e,t,n,i,c){var u=1,l=[e],d=[t],g=i.m,m=i.s,y=null,b=0;e:for(;;){if(n)for(;u&&w(g,1);){var v=l,S=d,E=i,I=1,k=E.m,A=E.gc[E.ab],C=w(k,2);if(E.Oc&1<<C)u=0;else{switch(E.Oc|=1<<C,A.hc=C,A.Ea=v[0],A.nc=S[0],A.K=[null],++E.ab,r(4>=E.ab),C){case 0:case 1:A.b=w(k,3)+2,I=Me(B(A.Ea,A.b),B(A.nc,A.b),0,E,A.K),A.K=A.K[0];break;case 3:var M,R=w(k,8)+1,O=16<R?0:4<R?1:2<R?2:3;if(v[0]=B(A.Ea,O),A.b=O,M=I=Me(R,1,0,E,A.K)){var D,L=R,F=A,N=1<<(8>>F.b),j=a(N);if(null==j)M=0;else{var V=F.K[0],G=F.w;for(j[0]=F.K[0][0],D=1;D<1*L;++D)j[D]=U(V[G+D],j[D-1]);for(;D<4*N;++D)j[D]=0;F.K[0]=null,F.K[0]=j,M=1}}I=M;break;case 2:break;default:r(0)}u=I}}if(l=l[0],d=d[0],u&&w(g,1)&&!(u=1<=(b=w(g,4))&&11>=b)){i.a=3;break e}var z;if(z=u)t:{var W,q,$,H=i,X=l,Y=d,K=b,Z=n,J=H.m,Q=H.s,ee=[null],te=1,re=0,ne=ei[K];r:for(;;){if(Z&&w(J,1)){var ie=w(J,3)+2,se=B(X,ie),ae=B(Y,ie),oe=se*ae;if(!Me(se,ae,0,H,ee))break r;for(ee=ee[0],Q.xc=ie,W=0;W<oe;++W){var ce=ee[W]>>8&65535;ee[W]=ce,ce>=te&&(te=ce+1)}}if(J.h)break r;for(q=0;5>q;++q){var ue=Kn[q];!q&&0<K&&(ue+=1<<K),re<ue&&(re=ue)}var le=o(te*ne,f),he=te,fe=o(he,p);if(null==fe)var de=null;else r(65536>=he),de=fe;var pe=a(re);if(null==de||null==pe||null==le){H.a=1;break r}var ge=le;for(W=$=0;W<te;++W){var me=de[W],ye=me.G,be=me.H,ve=0,Se=1,Ee=0;for(q=0;5>q;++q){ue=Kn[q],ye[q]=ge,be[q]=$,!q&&0<K&&(ue+=1<<K);n:{var xe,Ie=ue,_e=H,Te=pe,Ce=ge,Re=$,Oe=0,De=_e.m,Pe=w(De,1);if(s(Te,0,0,Ie),Pe){var Le=w(De,1)+1,Fe=w(De,1),Ne=w(De,0==Fe?1:8);Te[Ne]=1,2==Le&&(Te[Ne=w(De,8)]=1);var Be=1}else{var Ue=a(19),je=w(De,4)+4;if(19<je){_e.a=3;var Ve=0;break n}for(xe=0;xe<je;++xe)Ue[Jn[xe]]=w(De,3);var Ge=void 0,ze=void 0,We=_e,qe=Ue,$e=Ie,He=Te,Xe=0,Ye=We.m,Ke=8,Ze=o(128,f);i:for(;h(Ze,0,7,qe,19);){if(w(Ye,1)){var Je=2+2*w(Ye,3);if((Ge=2+w(Ye,Je))>$e)break i}else Ge=$e;for(ze=0;ze<$e&&Ge--;){T(Ye);var Qe=Ze[0+(127&x(Ye))];_(Ye,Ye.u+Qe.g);var et=Qe.value;if(16>et)He[ze++]=et,0!=et&&(Ke=et);else{var tt=16==et,rt=et-16,nt=Yn[rt],it=w(Ye,Xn[rt])+nt;if(ze+it>$e)break i;for(var st=tt?Ke:0;0<it--;)He[ze++]=st}}Xe=1;break i}Xe||(We.a=3),Be=Xe}(Be=Be&&!De.h)&&(Oe=h(Ce,Re,8,Te,Ie)),Be&&0!=Oe?Ve=Oe:(_e.a=3,Ve=0)}if(0==Ve)break r;if(Se&&1==Zn[q]&&(Se=0==ge[$].g),ve+=ge[$].g,$+=Ve,3>=q){var at,ot=pe[0];for(at=1;at<ue;++at)pe[at]>ot&&(ot=pe[at]);Ee+=ot}}if(me.nd=Se,me.Qb=0,Se&&(me.qb=(ye[3][be[3]+0].value<<24|ye[1][be[1]+0].value<<16|ye[2][be[2]+0].value)>>>0,0==ve&&256>ye[0][be[0]+0].value&&(me.Qb=1,me.qb+=ye[0][be[0]+0].value<<8)),me.jc=!me.Qb&&6>Ee,me.jc){var ct,ut=me;for(ct=0;ct<Ur;++ct){var lt=ct,ht=ut.pd[lt],ft=ut.G[0][ut.H[0]+lt];256<=ft.value?(ht.g=ft.g+256,ht.value=ft.value):(ht.g=0,ht.value=0,lt>>=we(ft,8,ht),lt>>=we(ut.G[1][ut.H[1]+lt],16,ht),lt>>=we(ut.G[2][ut.H[2]+lt],0,ht),we(ut.G[3][ut.H[3]+lt],24,ht))}}}Q.vc=ee,Q.Wb=te,Q.Ya=de,Q.yc=le,z=1;break t}z=0}if(!(u=z)){i.a=3;break e}if(0<b){if(m.ua=1<<b,!P(m.Wa,b)){i.a=1,u=0;break e}}else m.ua=0;var dt=i,pt=l,gt=d,mt=dt.s,yt=mt.xc;if(dt.c=pt,dt.i=gt,mt.md=B(pt,yt),mt.wc=0==yt?-1:(1<<yt)-1,n){i.xb=gi;break e}if(null==(y=a(l*d))){i.a=1,u=0;break e}u=(u=ke(i,y,0,l,d,d,null))&&!g.h;break e}return u?(null!=c?c[0]=y:(r(null==y),r(n)),i.$=0,n||Ae(m)):Ae(m),u}function Re(e,t){var n=e.c*e.i,i=n+t+16*t;return r(e.c<=t),e.V=a(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+n+t,1)}function Oe(e,t){var n=e.C,i=t-n,s=e.V,a=e.Ba+e.c*n;for(r(t<=e.l.o);0<i;){var o=16<i?16:i,c=e.l.ma,u=e.l.width,l=u*o,h=c.ca,f=c.tb+u*n,d=e.Ta,p=e.Ua;Ee(e,o,s,a),kn(d,p,h,f,l),_e(c,n,n+o,h,f,u),i-=o,s+=o*e.c,n+=o}r(n==t),e.C=e.Ma=t}function De(){this.ub=this.yd=this.td=this.Rb=0}function Pe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Fe(){this.Yb=function(){var e=[];return function e(t,r,n){for(var i=n[r],s=0;s<i&&(t.push(n.length>r+1?[]:0),!(n.length<r+1));s++)e(t[s],r+1,n)}(e,0,[3,11]),e}()}function Ne(){this.jb=a(3),this.Wc=c([4,8],Fe),this.Xc=c([4,17],Fe)}function Be(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ue(){this.ld=this.La=this.dd=this.tc=0}function je(){this.Na=this.la=0}function Ve(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ge(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ze(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ue),this.Y=0,this.ya=Array(new Ge),this.aa=0,this.l=new He}function We(){this.y=a(16),this.f=a(8),this.ea=a(8)}function qe(){this.cb=this.a=0,this.sc="",this.m=new S,this.Od=new De,this.Kc=new Pe,this.ed=new Be,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new ze,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,S),this.ia=0,new e,this.pb=o(4,Ve),this.Pa=new Ne,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new We),this.Hd=0,this.rb=Array(new je),this.sb=0,this.wa=Array(new Ue),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ge),this.L=this.aa=0,this.gd=c([4,2],Ue),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $e(e,t){return 0>e?0:e>t?t:e}function He(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xe(){var e=new qe;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ii||(ii=Je)),e}function Ye(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function Ke(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ze(e,t){if(null==e)return 0;if(e.a=0,e.sc="OK",null==t)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var n=t.data,i=t.w,a=t.ha;if(4>a)return Ye(e,7,"Truncated header.");var o=n[i+0]|n[i+1]<<8|n[i+2]<<16,c=e.Od;if(c.Rb=!(1&o),c.td=o>>1&7,c.yd=o>>4&1,c.ub=o>>5,3<c.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!c.yd)return Ye(e,4,"Frame not displayable.");i+=3,a-=3;var u=e.Kc;if(c.Rb){if(7>a)return Ye(e,7,"cannot parse picture header");if(!Ke(n,i,a))return Ye(e,3,"Bad code word");u.c=16383&(n[i+4]<<8|n[i+3]),u.Td=n[i+4]>>6,u.i=16383&(n[i+6]<<8|n[i+5]),u.Ud=n[i+6]>>6,i+=7,a-=7,e.za=u.c+15>>4,e.Ub=u.i+15>>4,t.width=u.c,t.height=u.i,t.Da=0,t.j=0,t.v=0,t.va=t.width,t.o=t.height,t.da=0,t.ib=t.width,t.hb=t.height,t.U=t.width,t.T=t.height,s((o=e.Pa).jb,0,255,o.jb.length),r(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,s(o.Zb,0,0,o.Zb.length),s(o.Lb,0,0,o.Lb)}if(c.ub>a)return Ye(e,7,"bad partition length");g(o=e.m,n,i,c.ub),i+=c.ub,a-=c.ub,c.Rb&&(u.Ld=A(o),u.Kd=A(o)),u=e.Qa;var l,h=e.Pa;if(r(null!=o),r(null!=u),u.Cb=A(o),u.Cb){if(u.Bb=A(o),A(o)){for(u.Fb=A(o),l=0;4>l;++l)u.Zb[l]=A(o)?y(o,7):0;for(l=0;4>l;++l)u.Lb[l]=A(o)?y(o,6):0}if(u.Bb)for(l=0;3>l;++l)h.jb[l]=A(o)?m(o,8):255}else u.Bb=0;if(o.Ka)return Ye(e,3,"cannot parse segment header");if((u=e.ed).zd=A(o),u.Tb=m(o,6),u.wb=m(o,3),u.Pc=A(o),u.Pc&&A(o)){for(h=0;4>h;++h)A(o)&&(u.vd[h]=y(o,6));for(h=0;4>h;++h)A(o)&&(u.od[h]=y(o,6))}if(e.L=0==u.Tb?0:u.zd?1:2,o.Ka)return Ye(e,3,"cannot parse filter header");var f=a;if(a=l=i,i=l+f,u=f,e.Xb=(1<<m(e.m,2))-1,f<3*(h=e.Xb))n=7;else{for(l+=3*h,u-=3*h,f=0;f<h;++f){var d=n[a+0]|n[a+1]<<8|n[a+2]<<16;d>u&&(d=u),g(e.Jc[+f],n,l,d),l+=d,u-=d,a+=3}g(e.Jc[+h],n,l,u),n=l<i?0:5}if(0!=n)return Ye(e,n,"cannot parse partitions");for(n=m(l=e.m,7),a=A(l)?y(l,4):0,i=A(l)?y(l,4):0,u=A(l)?y(l,4):0,h=A(l)?y(l,4):0,l=A(l)?y(l,4):0,f=e.Qa,d=0;4>d;++d){if(f.Cb){var p=f.Zb[d];f.Fb||(p+=n)}else{if(0<d){e.pb[d]=e.pb[0];continue}p=n}var b=e.pb[d];b.Sc[0]=ri[$e(p+a,127)],b.Sc[1]=ni[$e(p+0,127)],b.Eb[0]=2*ri[$e(p+i,127)],b.Eb[1]=101581*ni[$e(p+u,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ri[$e(p+h,117)],b.Qc[1]=ni[$e(p+l,127)],b.lc=p+l}if(!c.Rb)return Ye(e,4,"Not a key frame.");for(A(o),c=e.Pa,n=0;4>n;++n){for(a=0;8>a;++a)for(i=0;3>i;++i)for(u=0;11>u;++u)h=C(o,li[n][a][i][u])?m(o,8):ci[n][a][i][u],c.Wc[n][a].Yb[i][u]=h;for(a=0;17>a;++a)c.Xc[n][a]=c.Wc[n][hi[a]]}return e.kc=A(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function Je(e,t,r,n,i,s,a){var o=t[i].Yb[r];for(r=0;16>i;++i){if(!C(e,o[r+0]))return i;for(;!C(e,o[r+1]);)if(o=t[++i].Yb[0],r=0,16==i)return 16;var c=t[i+1].Yb;if(C(e,o[r+2])){var u=e,l=0;if(C(u,(f=o)[(h=r)+3]))if(C(u,f[h+6])){for(o=0,h=2*(l=C(u,f[h+8]))+(f=C(u,f[h+9+l])),l=0,f=si[h];f[o];++o)l+=l+C(u,f[o]);l+=3+(8<<h)}else C(u,f[h+7])?(l=7+2*C(u,165),l+=C(u,145)):l=5+C(u,159);else l=C(u,f[h+4])?3+C(u,f[h+5]):2;o=c[2]}else l=1,o=c[1];c=a+ai[i],0>(u=e).b&&k(u);var h,f=u.b,d=(h=u.Ca>>1)-(u.I>>f)>>31;--u.b,u.Ca+=d,u.Ca|=1,u.I-=(h+1&d)<<f,s[c]=((l^d)-d)*n[(0<i)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,s(e.zc,0,0,e.zc.length),e.ja=0}function et(e,t){if(null==e)return 0;if(null==t)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ze(e,t))return 0;if(r(e.cb),null==t.ac||t.ac(t)){t.ob&&(e.L=0);var n=ji[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=t.v-n>>4,e.zb=t.j-n>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=t.o+15+n>>4,e.Hb=t.va+15+n>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var c=e.ed;for(n=0;4>n;++n){var u;if(e.Qa.Cb){var l=e.Qa.Lb[n];e.Qa.Fb||(l+=c.Tb)}else l=c.Tb;for(u=0;1>=u;++u){var h=e.gd[n][u],f=l;if(c.Pc&&(f+=c.vd[0],u&&(f+=c.od[0])),0<(f=0>f?0:63<f?63:f)){var d=f;0<c.wb&&(d=4<c.wb?d>>2:d>>1)>9-c.wb&&(d=9-c.wb),1>d&&(d=1),h.dd=d,h.tc=2*f+d,h.ld=40<=f?2:15<=f?1:0}else h.tc=0;h.La=u}}}n=0}else Ye(e,6,"Frame setup failed"),n=e.a;if(n=0==n){if(n){e.$c=0,0<e.Aa||(e.Ic=Gi);e:{n=e.Ic,c=4*(d=e.za);var p=32*d,g=d+1,m=0<e.L?d*(0<e.Aa?2:1):0,y=(2==e.Aa?2:1)*d;if((h=c+832+(u=3*(16*n+ji[e.L])/2*p)+(l=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=h)n=0;else{if(h>e.Vb){if(e.Vb=0,e.Ec=a(h),e.Fc=0,null==e.Ec){n=Ye(e,1,"no memory during frame initialization.");break e}e.Vb=h}h=e.Ec,f=e.Fc,e.Ac=h,e.Bc=f,f+=c,e.Gd=o(p,We),e.Hd=0,e.rb=o(g+1,je),e.sb=1,e.wa=m?o(m,Ue):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=d),r(!0),e.oc=h,e.pc=f,f+=832,e.ya=o(y,Ge),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=d),e.R=16*d,e.B=8*d,d=(p=ji[e.L])*e.R,p=p/2*e.B,e.sa=h,e.ta=f+d,e.qa=e.sa,e.ra=e.ta+16*n*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*n*e.B+p,e.$c=0,f+=u,e.mb=l?h:null,e.nb=l?f:null,r(f+l<=e.Fc+e.Vb),Qe(e),s(e.Ac,e.Bc,0,c),n=1}}if(n){if(t.ka=0,t.y=e.sa,t.O=e.ta,t.f=e.qa,t.N=e.ra,t.ea=e.Ha,t.Vd=e.Ia,t.fa=e.R,t.Rc=e.B,t.F=null,t.J=0,!On){for(n=-255;255>=n;++n)An[255+n]=0>n?-n:n;for(n=-1020;1020>=n;++n)Cn[1020+n]=-128>n?-128:127<n?127:n;for(n=-112;112>=n;++n)Mn[112+n]=-16>n?-16:15<n?15:n;for(n=-255;510>=n;++n)Rn[255+n]=0>n?0:255<n?255:n;On=1}an=lt,on=at,un=ot,ln=ct,hn=ut,cn=st,fn=Yt,dn=Kt,pn=Qt,gn=er,mn=Zt,yn=Jt,bn=tr,vn=rr,wn=zt,Sn=Wt,En=qt,xn=$t,di[0]=_t,di[1]=ft,di[2]=xt,di[3]=It,di[4]=Tt,di[5]=At,di[6]=kt,di[7]=Ct,di[8]=Rt,di[9]=Mt,fi[0]=bt,fi[1]=pt,fi[2]=gt,fi[3]=mt,fi[4]=vt,fi[5]=wt,fi[6]=St,pi[0]=Lt,pi[1]=dt,pi[2]=Ot,pi[3]=Dt,pi[4]=Nt,pi[5]=Ft,pi[6]=Bt,n=1}else n=0}n&&(n=function(e,t){for(e.M=0;e.M<e.Va;++e.M){var n,o=e.Jc[e.M&e.Xb],c=e.m,u=e;for(n=0;n<u.za;++n){var l=c,h=u,f=h.Ac,d=h.Bc+4*n,p=h.zc,g=h.ya[h.aa+n];if(h.Qa.Bb?g.$b=C(l,h.Pa.jb[0])?2+C(l,h.Pa.jb[2]):C(l,h.Pa.jb[1]):g.$b=0,h.kc&&(g.Ad=C(l,h.Bd)),g.Za=!C(l,145)+0,g.Za){var m=g.Ob,y=0;for(h=0;4>h;++h){var b,v=p[0+h];for(b=0;4>b;++b){v=ui[f[d+b]][v];for(var w=oi[C(l,v[0])];0<w;)w=oi[2*w+C(l,v[w])];v=-w,f[d+b]=v}i(m,y,f,d,4),y+=4,p[0+h]=v}}else v=C(l,156)?C(l,128)?1:3:C(l,163)?2:0,g.Ob[0]=v,s(f,d,v,4),s(p,0,v,4);g.Dd=C(l,142)?C(l,114)?C(l,183)?1:3:2:0}if(u.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(u=o,l=(c=e).rb[c.sb-1],f=c.rb[c.sb+c.ja],n=c.ya[c.aa+c.ja],d=c.kc?n.Ad:0)l.la=f.la=0,n.Za||(l.Na=f.Na=0),n.Hc=0,n.Gc=0,n.ia=0;else{var S,E;if(l=f,f=u,d=c.Pa.Xc,p=c.ya[c.aa+c.ja],g=c.pb[p.$b],h=p.ad,m=0,y=c.rb[c.sb-1],v=b=0,s(h,m,0,384),p.Za)var x=0,I=d[3];else{w=a(16);var _=l.Na+y.Na;if(_=ii(f,d[1],_,g.Eb,0,w,0),l.Na=y.Na=(0<_)+0,1<_)an(w,0,h,m);else{var T=w[0]+3>>3;for(w=0;256>w;w+=16)h[m+w]=T}x=1,I=d[0]}var k=15&l.la,A=15&y.la;for(w=0;4>w;++w){var M=1&A;for(T=E=0;4>T;++T)k=k>>1|(M=(_=ii(f,I,_=M+(1&k),g.Sc,x,h,m))>x)<<7,E=E<<2|(3<_?3:1<_?2:0!=h[m+0]),m+=16;k>>=4,A=A>>1|M<<7,b=(b<<8|E)>>>0}for(I=k,x=A>>4,S=0;4>S;S+=2){for(E=0,k=l.la>>4+S,A=y.la>>4+S,w=0;2>w;++w){for(M=1&A,T=0;2>T;++T)_=M+(1&k),k=k>>1|(M=0<(_=ii(f,d[2],_,g.Qc,0,h,m)))<<3,E=E<<2|(3<_?3:1<_?2:0!=h[m+0]),m+=16;k>>=2,A=A>>1|M<<5}v|=E<<4*S,I|=k<<4<<S,x|=(240&A)<<S}l.la=I,y.la=x,p.Hc=b,p.Gc=v,p.ia=43690&v?0:g.ia,d=!(b|v)}if(0<c.L&&(c.wa[c.Y+c.ja]=c.gd[n.$b][n.Za],c.wa[c.Y+c.ja].La|=!d),u.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if(Qe(e),c=t,u=1,n=(o=e).D,l=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(n.M=o.M,n.uc=l,Pr(o,n),u=1,n=(E=o.D).Nb,l=(v=ji[o.L])*o.R,f=v/2*o.B,w=16*n*o.R,T=8*n*o.B,d=o.sa,p=o.ta-l+w,g=o.qa,h=o.ra-f+T,m=o.Ha,y=o.Ia-f+T,A=0==(k=E.M),b=k>=o.Va-1,2==o.Aa&&Pr(o,E),E.uc)for(M=(_=o).D.M,r(_.D.uc),E=_.yb;E<_.Hb;++E){x=E,I=M;var R=(O=(V=_).D).Nb;S=V.R;var O=O.wa[O.Y+x],D=V.sa,P=V.ta+16*R*S+16*x,L=O.dd,F=O.tc;if(0!=F)if(r(3<=F),1==V.L)0<x&&Sn(D,P,S,F+4),O.La&&xn(D,P,S,F),0<I&&wn(D,P,S,F+4),O.La&&En(D,P,S,F);else{var N=V.B,B=V.qa,U=V.ra+8*R*N+8*x,j=V.Ha,V=V.Ia+8*R*N+8*x;R=O.ld,0<x&&(dn(D,P,S,F+4,L,R),gn(B,U,j,V,N,F+4,L,R)),O.La&&(yn(D,P,S,F,L,R),vn(B,U,j,V,N,F,L,R)),0<I&&(fn(D,P,S,F+4,L,R),pn(B,U,j,V,N,F+4,L,R)),O.La&&(mn(D,P,S,F,L,R),bn(B,U,j,V,N,F,L,R))}}if(o.ia&&alert("todo:DitherRow"),null!=c.put){if(E=16*k,k=16*(k+1),A?(c.y=o.sa,c.O=o.ta+w,c.f=o.qa,c.N=o.ra+T,c.ea=o.Ha,c.W=o.Ia+T):(E-=v,c.y=d,c.O=p,c.f=g,c.N=h,c.ea=m,c.W=y),b||(k-=v),k>c.o&&(k=c.o),c.F=null,c.J=null,null!=o.Fa&&0<o.Fa.length&&E<k&&(c.J=fr(o,c,E,k-E),c.F=o.mb,null==c.F&&0==c.F.length)){u=Ye(o,3,"Could not decode alpha data.");break e}E<c.j&&(v=c.j-E,E=c.j,r(!(1&v)),c.O+=o.R*v,c.N+=o.B*(v>>1),c.W+=o.B*(v>>1),null!=c.F&&(c.J+=c.width*v)),E<k&&(c.O+=c.v,c.N+=c.v>>1,c.W+=c.v>>1,null!=c.F&&(c.J+=c.v),c.ka=E-c.j,c.U=c.va-c.v,c.T=k-E,u=c.put(c))}n+1!=o.Ic||b||(i(o.sa,o.ta-l,d,p+16*o.R,l),i(o.qa,o.ra-f,g,h+8*o.B,f),i(o.Ha,o.Ia-f,m,y+8*o.B,f))}if(!u)return Ye(e,6,"Output aborted.")}return 1}(e,t)),null!=t.bc&&t.bc(t),n&=1}return n?(e.cb=0,n):0}function tt(e,t,r,n,i){i=e[t+r+32*n]+(i>>3),e[t+r+32*n]=-256&i?0>i?0:255:i}function rt(e,t,r,n,i,s){tt(e,t,0,r,n+i),tt(e,t,1,r,n+s),tt(e,t,2,r,n-s),tt(e,t,3,r,n-i)}function nt(e){return(20091*e>>16)+e}function it(e,t,r,n){var i,s=0,o=a(16);for(i=0;4>i;++i){var c=e[t+0]+e[t+8],u=e[t+0]-e[t+8],l=(35468*e[t+4]>>16)-nt(e[t+12]),h=nt(e[t+4])+(35468*e[t+12]>>16);o[s+0]=c+h,o[s+1]=u+l,o[s+2]=u-l,o[s+3]=c-h,s+=4,t++}for(i=s=0;4>i;++i)c=(e=o[s+0]+4)+o[s+8],u=e-o[s+8],l=(35468*o[s+4]>>16)-nt(o[s+12]),tt(r,n,0,0,c+(h=nt(o[s+4])+(35468*o[s+12]>>16))),tt(r,n,1,0,u+l),tt(r,n,2,0,u-l),tt(r,n,3,0,c-h),s++,n+=32}function st(e,t,r,n){var i=e[t+0]+4,s=35468*e[t+4]>>16,a=nt(e[t+4]),o=35468*e[t+1]>>16;rt(r,n,0,i+a,e=nt(e[t+1]),o),rt(r,n,1,i+s,e,o),rt(r,n,2,i-s,e,o),rt(r,n,3,i-a,e,o)}function at(e,t,r,n,i){it(e,t,r,n),i&&it(e,t+16,r,n+4)}function ot(e,t,r,n){on(e,t+0,r,n,1),on(e,t+32,r,n+128,1)}function ct(e,t,r,n){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)tt(r,n,t,i,e)}function ut(e,t,r,n){e[t+0]&&ln(e,t+0,r,n),e[t+16]&&ln(e,t+16,r,n+4),e[t+32]&&ln(e,t+32,r,n+128),e[t+48]&&ln(e,t+48,r,n+128+4)}function lt(e,t,r,n){var i,s=a(16);for(i=0;4>i;++i){var o=e[t+0+i]+e[t+12+i],c=e[t+4+i]+e[t+8+i],u=e[t+4+i]-e[t+8+i],l=e[t+0+i]-e[t+12+i];s[0+i]=o+c,s[8+i]=o-c,s[4+i]=l+u,s[12+i]=l-u}for(i=0;4>i;++i)o=(e=s[0+4*i]+3)+s[3+4*i],c=s[1+4*i]+s[2+4*i],u=s[1+4*i]-s[2+4*i],l=e-s[3+4*i],r[n+0]=o+c>>3,r[n+16]=l+u>>3,r[n+32]=o-c>>3,r[n+48]=l-u>>3,n+=64}function ht(e,t,r){var n,i=t-32,s=Ln,a=255-e[i-1];for(n=0;n<r;++n){var o,c=s,u=a+e[t-1];for(o=0;o<r;++o)e[t+o]=c[u+e[i+o]];t+=32}}function ft(e,t){ht(e,t,4)}function dt(e,t){ht(e,t,8)}function pt(e,t){ht(e,t,16)}function gt(e,t){var r;for(r=0;16>r;++r)i(e,t+32*r,e,t-32,16)}function mt(e,t){var r;for(r=16;0<r;--r)s(e,t,e[t-1],16),t+=32}function yt(e,t,r){var n;for(n=0;16>n;++n)s(t,r+32*n,e,16)}function bt(e,t){var r,n=16;for(r=0;16>r;++r)n+=e[t-1+32*r]+e[t+r-32];yt(n>>5,e,t)}function vt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t-1+32*r];yt(n>>4,e,t)}function wt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t+r-32];yt(n>>4,e,t)}function St(e,t){yt(128,e,t)}function Et(e,t,r){return e+2*t+r+2>>2}function xt(e,t){var r,n=t-32;for(n=new Uint8Array([Et(e[n-1],e[n+0],e[n+1]),Et(e[n+0],e[n+1],e[n+2]),Et(e[n+1],e[n+2],e[n+3]),Et(e[n+2],e[n+3],e[n+4])]),r=0;4>r;++r)i(e,t+32*r,n,0,n.length)}function It(e,t){var r=e[t-1],n=e[t-1+32],i=e[t-1+64],s=e[t-1+96];M(e,t+0,16843009*Et(e[t-1-32],r,n)),M(e,t+32,16843009*Et(r,n,i)),M(e,t+64,16843009*Et(n,i,s)),M(e,t+96,16843009*Et(i,s,s))}function _t(e,t){var r,n=4;for(r=0;4>r;++r)n+=e[t+r-32]+e[t-1+32*r];for(n>>=3,r=0;4>r;++r)s(e,t+32*r,n,4)}function Tt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+96]=Et(n,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=Et(r,n,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=Et(s,r,n),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=Et(a,s,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=Et(o,a,s),e[t+3+32]=e[t+2+0]=Et(c,o,a),e[t+3+0]=Et(u,c,o)}function kt(e,t){var r=e[t+1-32],n=e[t+2-32],i=e[t+3-32],s=e[t+4-32],a=e[t+5-32],o=e[t+6-32],c=e[t+7-32];e[t+0+0]=Et(e[t+0-32],r,n),e[t+1+0]=e[t+0+32]=Et(r,n,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=Et(n,i,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=Et(i,s,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=Et(s,a,o),e[t+3+64]=e[t+2+96]=Et(a,o,c),e[t+3+96]=Et(o,c,c)}function At(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+0]=e[t+1+64]=s+a+1>>1,e[t+1+0]=e[t+2+64]=a+o+1>>1,e[t+2+0]=e[t+3+64]=o+c+1>>1,e[t+3+0]=c+u+1>>1,e[t+0+96]=Et(i,n,r),e[t+0+64]=Et(n,r,s),e[t+0+32]=e[t+1+96]=Et(r,s,a),e[t+1+32]=e[t+2+96]=Et(s,a,o),e[t+2+32]=e[t+3+96]=Et(a,o,c),e[t+3+32]=Et(o,c,u)}function Ct(e,t){var r=e[t+0-32],n=e[t+1-32],i=e[t+2-32],s=e[t+3-32],a=e[t+4-32],o=e[t+5-32],c=e[t+6-32],u=e[t+7-32];e[t+0+0]=r+n+1>>1,e[t+1+0]=e[t+0+64]=n+i+1>>1,e[t+2+0]=e[t+1+64]=i+s+1>>1,e[t+3+0]=e[t+2+64]=s+a+1>>1,e[t+0+32]=Et(r,n,i),e[t+1+32]=e[t+0+96]=Et(n,i,s),e[t+2+32]=e[t+1+96]=Et(i,s,a),e[t+3+32]=e[t+2+96]=Et(s,a,o),e[t+3+64]=Et(a,o,c),e[t+3+96]=Et(o,c,u)}function Mt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],s=e[t-1+96];e[t+0+0]=r+n+1>>1,e[t+2+0]=e[t+0+32]=n+i+1>>1,e[t+2+32]=e[t+0+64]=i+s+1>>1,e[t+1+0]=Et(r,n,i),e[t+3+0]=e[t+1+32]=Et(n,i,s),e[t+3+32]=e[t+1+64]=Et(i,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function Rt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],s=e[t-1+96],a=e[t-1-32],o=e[t+0-32],c=e[t+1-32],u=e[t+2-32];e[t+0+0]=e[t+2+32]=r+a+1>>1,e[t+0+32]=e[t+2+64]=n+r+1>>1,e[t+0+64]=e[t+2+96]=i+n+1>>1,e[t+0+96]=s+i+1>>1,e[t+3+0]=Et(o,c,u),e[t+2+0]=Et(a,o,c),e[t+1+0]=e[t+3+32]=Et(r,a,o),e[t+1+32]=e[t+3+64]=Et(n,r,a),e[t+1+64]=e[t+3+96]=Et(i,n,r),e[t+1+96]=Et(s,i,n)}function Ot(e,t){var r;for(r=0;8>r;++r)i(e,t+32*r,e,t-32,8)}function Dt(e,t){var r;for(r=0;8>r;++r)s(e,t,e[t-1],8),t+=32}function Pt(e,t,r){var n;for(n=0;8>n;++n)s(t,r+32*n,e,8)}function Lt(e,t){var r,n=8;for(r=0;8>r;++r)n+=e[t+r-32]+e[t-1+32*r];Pt(n>>4,e,t)}function Ft(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t+r-32];Pt(n>>3,e,t)}function Nt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t-1+32*r];Pt(n>>3,e,t)}function Bt(e,t){Pt(128,e,t)}function Ut(e,t,r){var n=e[t-r],i=e[t+0],s=3*(i-n)+Dn[1020+e[t-2*r]-e[t+r]],a=Pn[112+(s+4>>3)];e[t-r]=Ln[255+n+Pn[112+(s+3>>3)]],e[t+0]=Ln[255+i-a]}function jt(e,t,r,n){var i=e[t+0],s=e[t+r];return Fn[255+e[t-2*r]-e[t-r]]>n||Fn[255+s-i]>n}function Vt(e,t,r,n){return 4*Fn[255+e[t-r]-e[t+0]]+Fn[255+e[t-2*r]-e[t+r]]<=n}function Gt(e,t,r,n,i){var s=e[t-3*r],a=e[t-2*r],o=e[t-r],c=e[t+0],u=e[t+r],l=e[t+2*r],h=e[t+3*r];return 4*Fn[255+o-c]+Fn[255+a-u]>n?0:Fn[255+e[t-4*r]-s]<=i&&Fn[255+s-a]<=i&&Fn[255+a-o]<=i&&Fn[255+h-l]<=i&&Fn[255+l-u]<=i&&Fn[255+u-c]<=i}function zt(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)Vt(e,t+n,r,i)&&Ut(e,t+n,r)}function Wt(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)Vt(e,t+n*r,1,i)&&Ut(e,t+n*r,1)}function qt(e,t,r,n){var i;for(i=3;0<i;--i)zt(e,t+=4*r,r,n)}function $t(e,t,r,n){var i;for(i=3;0<i;--i)Wt(e,t+=4,r,n)}function Ht(e,t,r,n,i,s,a,o){for(s=2*s+1;0<i--;){if(Gt(e,t,r,s,a))if(jt(e,t,r,o))Ut(e,t,r);else{var c=e,u=t,l=r,h=c[u-2*l],f=c[u-l],d=c[u+0],p=c[u+l],g=c[u+2*l],m=27*(b=Dn[1020+3*(d-f)+Dn[1020+h-p]])+63>>7,y=18*b+63>>7,b=9*b+63>>7;c[u-3*l]=Ln[255+c[u-3*l]+b],c[u-2*l]=Ln[255+h+y],c[u-l]=Ln[255+f+m],c[u+0]=Ln[255+d-m],c[u+l]=Ln[255+p-y],c[u+2*l]=Ln[255+g-b]}t+=n}}function Xt(e,t,r,n,i,s,a,o){for(s=2*s+1;0<i--;){if(Gt(e,t,r,s,a))if(jt(e,t,r,o))Ut(e,t,r);else{var c=e,u=t,l=r,h=c[u-l],f=c[u+0],d=c[u+l],p=Pn[112+(4+(g=3*(f-h))>>3)],g=Pn[112+(g+3>>3)],m=p+1>>1;c[u-2*l]=Ln[255+c[u-2*l]+m],c[u-l]=Ln[255+h+g],c[u+0]=Ln[255+f-p],c[u+l]=Ln[255+d-m]}t+=n}}function Yt(e,t,r,n,i,s){Ht(e,t,r,1,16,n,i,s)}function Kt(e,t,r,n,i,s){Ht(e,t,1,r,16,n,i,s)}function Zt(e,t,r,n,i,s){var a;for(a=3;0<a;--a)Xt(e,t+=4*r,r,1,16,n,i,s)}function Jt(e,t,r,n,i,s){var a;for(a=3;0<a;--a)Xt(e,t+=4,1,r,16,n,i,s)}function Qt(e,t,r,n,i,s,a,o){Ht(e,t,i,1,8,s,a,o),Ht(r,n,i,1,8,s,a,o)}function er(e,t,r,n,i,s,a,o){Ht(e,t,1,i,8,s,a,o),Ht(r,n,1,i,8,s,a,o)}function tr(e,t,r,n,i,s,a,o){Xt(e,t+4*i,i,1,8,s,a,o),Xt(r,n+4*i,i,1,8,s,a,o)}function rr(e,t,r,n,i,s,a,o){Xt(e,t+4,1,i,8,s,a,o),Xt(r,n+4,1,i,8,s,a,o)}function nr(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ue,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ir(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ar(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new f}function or(){this.xb=this.a=0,this.l=new He,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ar,this.ab=0,this.gc=o(4,sr),this.Oc=0}function cr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new He,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ur(e,t,r,n,i,s,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)i[s+t]=e+r[n+t]&255,e=i[s+t]}function lr(e,t,r,n,i,s,a){var o;if(null==e)ur(null,null,r,n,i,s,a);else for(o=0;o<a;++o)i[s+o]=e[t+o]+r[n+o]&255}function hr(e,t,r,n,i,s,a){if(null==e)ur(null,null,r,n,i,s,a);else{var o,c=e[t+0],u=c,l=c;for(o=0;o<a;++o)u=l+(c=e[t+o])-u,l=r[n+o]+(-256&u?0>u?0:255:u)&255,u=c,i[s+o]=l}}function fr(e,t,n,s){var o=t.width,c=t.o;if(r(null!=e&&null!=t),0>n||0>=s||n+s>c)return null;if(!e.Cc){if(null==e.ga){var u;if(e.ga=new cr,(u=null==e.ga)||(u=t.width*t.o,r(0==e.Gb.length),e.Gb=a(u),e.Uc=0,null==e.Gb?u=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,u=1),u=!u),!u){u=e.ga;var l=e.Fa,h=e.P,f=e.qc,d=e.mb,p=e.nb,g=h+1,m=f-1,y=u.l;if(r(null!=l&&null!=d&&null!=t),yi[0]=null,yi[1]=ur,yi[2]=lr,yi[3]=hr,u.ca=d,u.tb=p,u.c=t.width,u.i=t.height,r(0<u.c&&0<u.i),1>=f)t=0;else if(u.$a=3&l[h+0],u.Z=l[h+0]>>2&3,u.Lc=l[h+0]>>4&3,h=l[h+0]>>6&3,0>u.$a||1<u.$a||4<=u.Z||1<u.Lc||h)t=0;else if(y.put=pe,y.ac=de,y.bc=ge,y.ma=u,y.width=t.width,y.height=t.height,y.Da=t.Da,y.v=t.v,y.va=t.va,y.j=t.j,y.o=t.o,u.$a)e:{r(1==u.$a),t=Ce();t:for(;;){if(null==t){t=0;break e}if(r(null!=u),u.mc=t,t.c=u.c,t.i=u.i,t.l=u.l,t.l.ma=u,t.l.width=u.c,t.l.height=u.i,t.a=0,b(t.m,l,g,m),!Me(u.c,u.i,1,t,null))break t;if(1==t.ab&&3==t.gc[0].hc&&Ie(t.s)?(u.ic=1,l=t.c*t.i,t.Ta=null,t.Ua=0,t.V=a(l),t.Ba=0,null==t.V?(t.a=1,t=0):t=1):(u.ic=0,t=Re(t,u.c)),!t)break t;t=1;break e}u.mc=null,t=0}else t=m>=u.c*u.i;u=!t}if(u)return null;1!=e.ga.Lc?e.Ga=0:s=c-n}r(null!=e.ga),r(n+s<=c);e:{if(t=(l=e.ga).c,c=l.l.o,0==l.$a){if(g=e.rc,m=e.Vc,y=e.Fa,h=e.P+1+n*t,f=e.mb,d=e.nb+n*t,r(h<=e.P+e.qc),0!=l.Z)for(r(null!=yi[l.Z]),u=0;u<s;++u)yi[l.Z](g,m,y,h,f,d,t),g=f,m=d,d+=t,h+=t;else for(u=0;u<s;++u)i(f,d,y,h,t),g=f,m=d,d+=t,h+=t;e.rc=g,e.Vc=m}else{if(r(null!=l.mc),t=n+s,r(null!=(u=l.mc)),r(t<=u.i),u.C>=t)t=1;else if(l.ic||yr(),l.ic){l=u.V,g=u.Ba,m=u.c;var v=u.i,w=(y=1,h=u.$/m,f=u.$%m,d=u.m,p=u.s,u.$),S=m*v,E=m*t,x=p.wc,_=w<E?Se(p,f,h):null;r(w<=S),r(t<=v),r(Ie(p));t:for(;;){for(;!d.h&&w<E;){if(f&x||(_=Se(p,f,h)),r(null!=_),T(d),256>(v=ve(_.G[0],_.H[0],d)))l[g+w]=v,++w,++f>=m&&(f=0,++h<=t&&!(h%16)&&Te(u,h));else{if(!(280>v)){y=0;break t}v=ye(v-256,d);var k,A=ve(_.G[4],_.H[4],d);if(T(d),!(w>=(A=be(m,A=ye(A,d)))&&S-w>=v)){y=0;break t}for(k=0;k<v;++k)l[g+w+k]=l[g+w+k-A];for(w+=v,f+=v;f>=m;)f-=m,++h<=t&&!(h%16)&&Te(u,h);w<E&&f&x&&(_=Se(p,f,h))}r(d.h==I(d))}Te(u,h>t?t:h);break t}!y||d.h&&w<S?(y=0,u.a=d.h?5:3):u.$=w,t=y}else t=ke(u,u.V,u.Ba,u.c,u.i,t,Oe);if(!t){s=0;break e}}n+s>=c&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+n*o}function dr(e,t,r,n,i,s){for(;0<i--;){var a,o=e,c=t+(r?1:0),u=e,l=t+(r?0:3);for(a=0;a<n;++a){var h=u[l+4*a];255!=h&&(h*=32897,o[c+4*a+0]=o[c+4*a+0]*h>>23,o[c+4*a+1]=o[c+4*a+1]*h>>23,o[c+4*a+2]=o[c+4*a+2]*h>>23)}t+=s}}function pr(e,t,r,n,i){for(;0<n--;){var s;for(s=0;s<r;++s){var a=e[t+2*s+0],o=15&(u=e[t+2*s+1]),c=4369*o,u=(240&u|u>>4)*c>>16;e[t+2*s+0]=(240&a|a>>4)*c>>16&240|(15&a|a<<4)*c>>16>>4&15,e[t+2*s+1]=240&u|o}t+=i}}function gr(e,t,r,n,i,s,a,o){var c,u,l=255;for(u=0;u<i;++u){for(c=0;c<n;++c){var h=e[t+c];s[a+4*c]=h,l&=h}t+=r,a+=o}return 255!=l}function mr(e,t,r,n,i){var s;for(s=0;s<i;++s)r[n+s]=e[t+s]>>8}function yr(){In=dr,_n=pr,Tn=gr,kn=mr}function br(e,n,i){t[e]=function(e,t,s,a,o,c,u,l,h,f,d,p,g,m,y,b,v){var w,S=v-1>>1,E=o[c+0]|u[l+0]<<16,x=h[f+0]|d[p+0]<<16;r(null!=e);var I=3*E+x+131074>>2;for(n(e[t+0],255&I,I>>16,g,m),null!=s&&(I=3*x+E+131074>>2,n(s[a+0],255&I,I>>16,y,b)),w=1;w<=S;++w){var _=o[c+w]|u[l+w]<<16,T=h[f+w]|d[p+w]<<16,k=E+_+x+T+524296,A=k+2*(_+x)>>3;I=A+E>>1,E=(k=k+2*(E+T)>>3)+_>>1,n(e[t+2*w-1],255&I,I>>16,g,m+(2*w-1)*i),n(e[t+2*w-0],255&E,E>>16,g,m+(2*w-0)*i),null!=s&&(I=k+x>>1,E=A+T>>1,n(s[a+2*w-1],255&I,I>>16,y,b+(2*w-1)*i),n(s[a+2*w+0],255&E,E>>16,y,b+(2*w+0)*i)),E=_,x=T}1&v||(I=3*E+x+131074>>2,n(e[t+v-1],255&I,I>>16,g,m+(v-1)*i),null!=s&&(I=3*x+E+131074>>2,n(s[a+v-1],255&I,I>>16,y,b+(v-1)*i)))}}function vr(){bi[Nn]=vi,bi[Bn]=Si,bi[Un]=wi,bi[jn]=Ei,bi[Vn]=xi,bi[Gn]=Ii,bi[zn]=_i,bi[Wn]=Si,bi[qn]=Ei,bi[$n]=xi,bi[Hn]=Ii}function wr(e){return e&~Ri?0>e?0:255:e>>Mi}function Sr(e,t){return wr((19077*e>>8)+(26149*t>>8)-14234)}function Er(e,t,r){return wr((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function xr(e,t){return wr((19077*e>>8)+(33050*t>>8)-17685)}function Ir(e,t,r,n,i){n[i+0]=Sr(e,r),n[i+1]=Er(e,t,r),n[i+2]=xr(e,t)}function _r(e,t,r,n,i){n[i+0]=xr(e,t),n[i+1]=Er(e,t,r),n[i+2]=Sr(e,r)}function Tr(e,t,r,n,i){var s=Er(e,t,r);t=s<<3&224|xr(e,t)>>3,n[i+0]=248&Sr(e,r)|s>>5,n[i+1]=t}function kr(e,t,r,n,i){var s=240&xr(e,t)|15;n[i+0]=240&Sr(e,r)|Er(e,t,r)>>4,n[i+1]=s}function Ar(e,t,r,n,i){n[i+0]=255,Ir(e,t,r,n,i+1)}function Cr(e,t,r,n,i){_r(e,t,r,n,i),n[i+3]=255}function Mr(e,t,r,n,i){Ir(e,t,r,n,i),n[i+3]=255}function $e(e,t){return 0>e?0:e>t?t:e}function Rr(e,r,n){t[e]=function(e,t,i,s,a,o,c,u,l){for(var h=u+(-2&l)*n;u!=h;)r(e[t+0],i[s+0],a[o+0],c,u),r(e[t+1],i[s+0],a[o+0],c,u+n),t+=2,++s,++o,u+=2*n;1&l&&r(e[t+0],i[s+0],a[o+0],c,u)}}function Or(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function Dr(e,t,r,n,i){switch(e>>>30){case 3:on(t,r,n,i,0);break;case 2:cn(t,r,n,i);break;case 1:ln(t,r,n,i)}}function Pr(e,t){var r,n,a=t.M,o=t.Nb,c=e.oc,u=e.pc+40,l=e.oc,h=e.pc+584,f=e.oc,d=e.pc+600;for(r=0;16>r;++r)c[u+32*r-1]=129;for(r=0;8>r;++r)l[h+32*r-1]=129,f[d+32*r-1]=129;for(0<a?c[u-1-32]=l[h-1-32]=f[d-1-32]=129:(s(c,u-32-1,127,21),s(l,h-32-1,127,9),s(f,d-32-1,127,9)),n=0;n<e.za;++n){var p=t.ya[t.aa+n];if(0<n){for(r=-1;16>r;++r)i(c,u+32*r-4,c,u+32*r+12,4);for(r=-1;8>r;++r)i(l,h+32*r-4,l,h+32*r+4,4),i(f,d+32*r-4,f,d+32*r+4,4)}var g=e.Gd,m=e.Hd+n,y=p.ad,b=p.Hc;if(0<a&&(i(c,u-32,g[m].y,0,16),i(l,h-32,g[m].f,0,8),i(f,d-32,g[m].ea,0,8)),p.Za){var v=c,w=u-32+16;for(0<a&&(n>=e.za-1?s(v,w,g[m].y[15],4):i(v,w,g[m+1].y,0,4)),r=0;4>r;r++)v[w+128+r]=v[w+256+r]=v[w+384+r]=v[w+0+r];for(r=0;16>r;++r,b<<=2)v=c,w=u+Ui[r],di[p.Ob[r]](v,w),Dr(b,y,16*+r,v,w)}else if(v=Or(n,a,p.Ob[0]),fi[v](c,u),0!=b)for(r=0;16>r;++r,b<<=2)Dr(b,y,16*+r,c,u+Ui[r]);for(r=p.Gc,v=Or(n,a,p.Dd),pi[v](l,h),pi[v](f,d),b=y,v=l,w=h,255&(p=0|r)&&(170&p?un(b,256,v,w):hn(b,256,v,w)),p=f,b=d,255&(r>>=8)&&(170&r?un(y,320,p,b):hn(y,320,p,b)),a<e.Ub-1&&(i(g[m].y,0,c,u+480,16),i(g[m].f,0,l,h+224,8),i(g[m].ea,0,f,d+224,8)),r=8*o*e.B,g=e.sa,m=e.ta+16*n+16*o*e.R,y=e.qa,p=e.ra+8*n+r,b=e.Ha,v=e.Ia+8*n+r,r=0;16>r;++r)i(g,m+r*e.R,c,u+32*r,16);for(r=0;8>r;++r)i(y,p+r*e.B,l,h+32*r,8),i(b,v+r*e.B,f,d+32*r,8)}}function Lr(e,t,i,s,a,o,c,u,l){var h=[0],f=[0],d=0,p=null!=l?l.kd:0,g=null!=l?l:new ir;if(null==e||12>i)return 7;g.data=e,g.w=t,g.ha=i,t=[t],i=[i],g.gb=[g.gb];e:{var m=t,y=i,v=g.gb;if(r(null!=e),r(null!=y),r(null!=v),v[0]=0,12<=y[0]&&!n(e,m[0],"RIFF")){if(n(e,m[0]+8,"WEBP")){v=3;break e}var w=D(e,m[0]+4);if(12>w||4294967286<w){v=3;break e}if(p&&w>y[0]-8){v=7;break e}v[0]=w,m[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(w=0<g.gb[0],i=i[0];;){e:{var S=e;y=t,v=i;var x=h,I=f,_=m=[0];if((A=d=[d])[0]=0,8>v[0])v=7;else{if(!n(S,y[0],"VP8X")){if(10!=D(S,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var T=D(S,y[0]+8),k=1+O(S,y[0]+12);if(2147483648<=k*(S=1+O(S,y[0]+15))){v=3;break e}null!=_&&(_[0]=T),null!=x&&(x[0]=k),null!=I&&(I[0]=S),y[0]+=18,v[0]-=18,A[0]=1}v=0}}if(d=d[0],m=m[0],0!=v)return v;if(y=!!(2&m),!w&&d)return 3;if(null!=o&&(o[0]=!!(16&m)),null!=c&&(c[0]=y),null!=u&&(u[0]=0),c=h[0],m=f[0],d&&y&&null==l){v=0;break}if(4>i){v=7;break}if(w&&d||!w&&!d&&!n(e,t[0],"ALPH")){i=[i],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];e:{T=e,v=t,w=i;var A=g.gb;x=g.na,I=g.P,_=g.Sa,k=22,r(null!=T),r(null!=w),S=v[0];var C=w[0];for(r(null!=x),r(null!=_),x[0]=null,I[0]=null,_[0]=0;;){if(v[0]=S,w[0]=C,8>C){v=7;break e}var M=D(T,S+4);if(4294967286<M){v=3;break e}var R=8+M+1&-2;if(k+=R,0<A&&k>A){v=3;break e}if(!n(T,S,"VP8 ")||!n(T,S,"VP8L")){v=0;break e}if(C[0]<R){v=7;break e}n(T,S,"ALPH")||(x[0]=T,I[0]=S+8,_[0]=M),S+=R,C-=R}}if(i=i[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=v)break}i=[i],g.Ja=[g.Ja],g.xa=[g.xa];e:if(A=e,v=t,w=i,x=g.gb[0],I=g.Ja,_=g.xa,T=v[0],S=!n(A,T,"VP8 "),k=!n(A,T,"VP8L"),r(null!=A),r(null!=w),r(null!=I),r(null!=_),8>w[0])v=7;else{if(S||k){if(A=D(A,T+4),12<=x&&A>x-12){v=3;break e}if(p&&A>w[0]-8){v=7;break e}I[0]=A,v[0]+=8,w[0]-=8,_[0]=k}else _[0]=5<=w[0]&&47==A[T+0]&&!(A[T+4]>>5),I[0]=w[0];v=0}if(i=i[0],g.Ja=g.Ja[0],g.xa=g.xa[0],t=t[0],0!=v)break;if(4294967286<g.Ja)return 3;if(null==u||y||(u[0]=g.xa?2:1),c=[c],m=[m],g.xa){if(5>i){v=7;break}u=c,p=m,y=o,null==e||5>i?e=0:5<=i&&47==e[t+0]&&!(e[t+4]>>5)?(w=[0],A=[0],x=[0],b(I=new E,e,t,i),me(I,w,A,x)?(null!=u&&(u[0]=w[0]),null!=p&&(p[0]=A[0]),null!=y&&(y[0]=x[0]),e=1):e=0):e=0}else{if(10>i){v=7;break}u=m,null==e||10>i||!Ke(e,t+3,i-3)?e=0:(p=e[t+0]|e[t+1]<<8|e[t+2]<<16,y=16383&(e[t+7]<<8|e[t+6]),e=16383&(e[t+9]<<8|e[t+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=g.Ja||!y||!e?e=0:(c&&(c[0]=y),u&&(u[0]=e),e=1))}if(!e)return 3;if(c=c[0],m=m[0],d&&(h[0]!=c||f[0]!=m))return 3;null!=l&&(l[0]=g,l.offset=t-l.w,r(4294967286>t-l.w),r(l.offset==l.ha-i));break}return 0==v||7==v&&d&&null==l?(null!=o&&(o[0]|=null!=g.na&&0<g.na.length),null!=s&&(s[0]=c),null!=a&&(a[0]=m),0):v}function Fr(e,t,r){var n=t.width,i=t.height,s=0,a=0,o=n,c=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,c=e.bd,s=e.v,a=e.j,11>r||(s&=-2,a&=-2),0>s||0>a||0>=o||0>=c||s+o>n||a+c>i))return 0;if(t.v=s,t.j=a,t.va=s+o,t.o=a+c,t.U=o,t.T=c,t.da=null!=e&&0<e.da,t.da){if(!N(o,c,r=[e.ib],s=[e.hb]))return 0;t.ib=r[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*n/4&&t.hb<3*i/4,t.Kb=0),1}function Nr(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Br(e,t,r,n){if(null==n||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var i=r.cd,s=r.bd,o=-2&r.v,c=-2&r.j;if(0>o||0>c||0>=i||0>=s||o+i>e||c+s>t)return 2;e=i,t=s}if(r.da){if(!N(e,t,i=[r.ib],s=[r.hb]))return 2;e=i[0],t=s[0]}}n.width=e,n.height=t;e:{var u=n.width,l=n.height;if(e=n.S,0>=u||0>=l||!(e>=Nn&&13>e))e=2;else{if(0>=n.Rd&&null==n.sd){o=s=i=t=0;var h=(c=u*zi[e])*l;if(11>e||(s=(l+1)/2*(t=(u+1)/2),12==e&&(o=(i=u)*l)),null==(l=a(h+2*s+o))){e=1;break e}n.sd=l,11>e?((u=n.f.RGBA).eb=l,u.fb=0,u.A=c,u.size=h):((u=n.f.kb).y=l,u.O=0,u.fa=c,u.Fd=h,u.f=l,u.N=0+h,u.Ab=t,u.Cd=s,u.ea=l,u.W=0+h+s,u.Db=t,u.Ed=s,12==e&&(u.F=l,u.J=0+h+2*s),u.Tc=o,u.lb=i)}if(t=1,i=n.S,s=n.width,o=n.height,i>=Nn&&13>i)if(11>i)e=n.f.RGBA,t&=(c=Math.abs(e.A))*(o-1)+s<=e.size,t&=c>=s*zi[i],t&=null!=e.eb;else{e=n.f.kb,c=(s+1)/2,h=(o+1)/2,u=Math.abs(e.fa),l=Math.abs(e.Ab);var f=Math.abs(e.Db),d=Math.abs(e.lb),p=d*(o-1)+s;t&=u*(o-1)+s<=e.Fd,t&=l*(h-1)+c<=e.Cd,t=(t&=f*(h-1)+c<=e.Ed)&u>=s&l>=c&f>=c,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=d>=s,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Nr(n)),e}var Ur=64,jr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vr=24,Gr=32,zr=8,Wr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];j("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(e){return e},t.Predictor2=function(e,t,r){return t[r+0]},t.Predictor3=function(e,t,r){return t[r+1]},t.Predictor4=function(e,t,r){return t[r-1]},t.Predictor5=function(e,t,r){return G(G(e,t[r+1]),t[r+0])},t.Predictor6=function(e,t,r){return G(e,t[r-1])},t.Predictor7=function(e,t,r){return G(e,t[r+0])},t.Predictor8=function(e,t,r){return G(t[r-1],t[r+0])},t.Predictor9=function(e,t,r){return G(t[r+0],t[r+1])},t.Predictor10=function(e,t,r){return G(G(e,t[r-1]),G(t[r+0],t[r+1]))},t.Predictor11=function(e,t,r){var n=t[r+0];return 0>=q(n>>24&255,e>>24&255,(t=t[r-1])>>24&255)+q(n>>16&255,e>>16&255,t>>16&255)+q(n>>8&255,e>>8&255,t>>8&255)+q(255&n,255&e,255&t)?n:e},t.Predictor12=function(e,t,r){var n=t[r+0];return(z((e>>24&255)+(n>>24&255)-((t=t[r-1])>>24&255))<<24|z((e>>16&255)+(n>>16&255)-(t>>16&255))<<16|z((e>>8&255)+(n>>8&255)-(t>>8&255))<<8|z((255&e)+(255&n)-(255&t)))>>>0},t.Predictor13=function(e,t,r){var n=t[r-1];return(W((e=G(e,t[r+0]))>>24&255,n>>24&255)<<24|W(e>>16&255,n>>16&255)<<16|W(e>>8&255,n>>8&255)<<8|W(255&e,255&n))>>>0};var qr=t.PredictorAdd0;t.PredictorAdd1=$,j("Predictor2","PredictorAdd2"),j("Predictor3","PredictorAdd3"),j("Predictor4","PredictorAdd4"),j("Predictor5","PredictorAdd5"),j("Predictor6","PredictorAdd6"),j("Predictor7","PredictorAdd7"),j("Predictor8","PredictorAdd8"),j("Predictor9","PredictorAdd9"),j("Predictor10","PredictorAdd10"),j("Predictor11","PredictorAdd11"),j("Predictor12","PredictorAdd12"),j("Predictor13","PredictorAdd13");var $r=t.PredictorAdd2;K("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),K("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Hr,Xr=t.ColorIndexInverseTransform,Yr=t.MapARGB,Kr=t.VP8LColorIndexInverseTransformAlpha,Zr=t.MapAlpha,Jr=t.VP8LPredictorsAdd=[];Jr.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var Qr,en,tn,rn,nn,sn,an,on,cn,un,ln,hn,fn,dn,pn,gn,mn,yn,bn,vn,wn,Sn,En,xn,In,_n,Tn,kn,An=a(511),Cn=a(2041),Mn=a(225),Rn=a(767),On=0,Dn=Cn,Pn=Mn,Ln=Rn,Fn=An,Nn=0,Bn=1,Un=2,jn=3,Vn=4,Gn=5,zn=6,Wn=7,qn=8,$n=9,Hn=10,Xn=[2,3,7],Yn=[3,3,11],Kn=[280,256,256,256,40],Zn=[0,1,1,1,0],Jn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ei=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ti=8,ri=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ii=null,si=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ai=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ci=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ui=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fi=[],di=[],pi=[],gi=1,mi=2,yi=[],bi=[];br("UpsampleRgbLinePair",Ir,3),br("UpsampleBgrLinePair",_r,3),br("UpsampleRgbaLinePair",Mr,4),br("UpsampleBgraLinePair",Cr,4),br("UpsampleArgbLinePair",Ar,4),br("UpsampleRgba4444LinePair",kr,2),br("UpsampleRgb565LinePair",Tr,2);var vi=t.UpsampleRgbLinePair,wi=t.UpsampleBgrLinePair,Si=t.UpsampleRgbaLinePair,Ei=t.UpsampleBgraLinePair,xi=t.UpsampleArgbLinePair,Ii=t.UpsampleRgba4444LinePair,_i=t.UpsampleRgb565LinePair,Ti=16,ki=1<<Ti-1,Ai=-227,Ci=482,Mi=6,Ri=(256<<Mi)-1,Oi=0,Di=a(256),Pi=a(256),Li=a(256),Fi=a(256),Ni=a(Ci-Ai),Bi=a(Ci-Ai);Rr("YuvToRgbRow",Ir,3),Rr("YuvToBgrRow",_r,3),Rr("YuvToRgbaRow",Mr,4),Rr("YuvToBgraRow",Cr,4),Rr("YuvToArgbRow",Ar,4),Rr("YuvToRgba4444Row",kr,2),Rr("YuvToRgb565Row",Tr,2);var Ui=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ji=[0,2,8],Vi=[8,7,6,4,4,2,2,2,1,1,1,1],Gi=1;this.WebPDecodeRGBA=function(e,t,n,i,s){var a=Bn,o=new nr,c=new oe;o.ba=c,c.S=a,c.width=[c.width],c.height=[c.height];var u=c.width,l=c.height,h=new ce;if(null==h||null==e)var f=2;else r(null!=h),f=Lr(e,t,n,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=f?u=0:(null!=u&&(u[0]=h.width[0]),null!=l&&(l[0]=h.height[0]),u=1),u){c.width=c.width[0],c.height=c.height[0],null!=i&&(i[0]=c.width),null!=s&&(s[0]=c.height);e:{if(i=new He,(s=new ir).data=e,s.w=t,s.ha=n,s.kd=1,t=[0],r(null!=s),(0==(e=Lr(s.data,s.w,s.ha,null,null,null,t,null,s))||7==e)&&t[0]&&(e=4),0==(t=e)){if(r(null!=o),i.data=s.data,i.w=s.w+s.offset,i.ha=s.ha-s.offset,i.put=pe,i.ac=de,i.bc=ge,i.ma=o,s.xa){if(null==(e=Ce())){o=1;break e}if(function(e,t){var n=[0],i=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==t)return e.a=2,0;if(e.l=t,e.a=0,b(e.m,t.data,t.w,t.ha),!me(e.m,n,i,s)){e.a=3;break t}if(e.xb=mi,t.width=n[0],t.height=i[0],!Me(n[0],i[0],1,e,null))break t;return 1}return r(0!=e.a),0}(e,i)){if(i=0==(t=Br(i.width,i.height,o.Oa,o.ba))){t:{i=e;r:for(;;){if(null==i){i=0;break t}if(r(null!=i.s.yc),r(null!=i.s.Ya),r(0<i.s.Wb),r(null!=(n=i.l)),r(null!=(s=n.ma)),0!=i.xb){if(i.ca=s.ba,i.tb=s.tb,r(null!=i.ca),!Fr(s.Oa,n,jn)){i.a=2;break r}if(!Re(i,n.width))break r;if(n.da)break r;if((n.da||ie(i.ca.S))&&yr(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&yr()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!P(i.s.vb,i.s.Wa.Xa)){i.a=1;break r}i.xb=0}if(!ke(i,i.V,i.Ba,i.c,i.i,n.o,xe))break r;s.Dc=i.Ma,i=1;break t}r(0!=i.a),i=0}i=!i}i&&(t=e.a)}else t=e.a}else{if(null==(e=new Xe)){o=1;break e}if(e.Fa=s.na,e.P=s.P,e.qc=s.Sa,Ze(e,i)){if(0==(t=Br(i.width,i.height,o.Oa,o.ba))){if(e.Aa=0,n=o.Oa,r(null!=(s=e)),null!=n){if(0<(u=0>(u=n.Md)?0:100<u?255:255*u/100)){for(l=h=0;4>l;++l)12>(f=s.pb[l]).lc&&(f.ia=u*Vi[0>f.lc?0:f.lc]>>3),h|=f.ia;h&&(alert("todo:VP8InitRandom"),s.ia=1)}s.Ga=n.Id,100<s.Ga?s.Ga=100:0>s.Ga&&(s.Ga=0)}et(e,i)||(t=e.a)}}else t=e.a}0==t&&null!=o.Oa&&o.Oa.fd&&(t=Nr(o.ba))}o=t}a=0!=o?null:11>a?c.f.RGBA.eb:c.f.kb.y}else a=null;return a};var zi=[3,4,3,4,4,2,2,4,4,4,2,1,1]},e.WebPRiffParser=function(e,t){var r,n,i={},s=0,a=!1,o=0,c=0;if(i.frames=[],!function(e,t){for(var r=0;r<4;r++)if(e[t+r]!="RIFF".charCodeAt(r))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var f=u(e,t),d=h(e,t+=4);t+=4;var p=d+(1&d);switch(f){case"VP8 ":case"VP8L":void 0===i.frames[s]&&(i.frames[s]={}),(m=i.frames[s]).src_off=a?c:t-8,m.src_size=o+d+8,s++,a&&(a=!1,o=0,c=0);break;case"VP8X":(m=i.header={}).feature_flags=e[t];var g=t+4;m.canvas_width=1+l(e,g),g+=3,m.canvas_height=1+l(e,g),g+=3;break;case"ALPH":a=!0,o=p+8,c=t-8;break;case"ANIM":(m=i.header).bgcolor=h(e,t),g=t+4,m.loop_count=(r=e)[(n=g)+0]|r[n+1]<<8,g+=2;break;case"ANMF":var m,y;(m=i.frames[s]={}).offset_x=2*l(e,t),t+=3,m.offset_y=2*l(e,t),t+=3,m.width=1+l(e,t),t+=3,m.height=1+l(e,t),t+=3,m.duration=l(e,t),t+=3,y=e[t++],m.dispose=1&y,m.blend=y>>1&1}"ANMF"!=f&&(t+=p)}return i}};var t={};function r(e){if(!e)throw Error("assert :P")}function n(e,t,r){for(var n=0;4>n;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}function i(e,t,r,n,i){for(var s=0;s<i;s++)e[t+s]=r[n+s]}function s(e,t,r,n){for(var i=0;i<n;i++)e[t+i]=r}function a(e){return new Int32Array(e)}function o(e,t){for(var r=[],n=0;n<e;n++)r.push(new t);return r}function c(e,t){var r=[];return function e(r,n,i){for(var s=i[n],a=0;a<s&&(r.push(i.length>n+1?[]:new t),!(i.length<n+1));a++)e(r[a],n+1,i)}(r,0,e),r}function u(e,t){for(var r="",n=0;n<4;n++)r+=String.fromCharCode(e[t++]);return r}function l(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}})?r.apply(t,[t]):r)||(e.exports=n)},4:function(e,t){var r,n;void 0===(n="function"==typeof(r=function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var r={},n={};function i(e,t){var i,s,o;return t?(o=0<=(e>>>=0)&&e<256)&&(s=n[e])?s:(i=a(e,(0|e)<0?-1:0,!0),o&&(n[e]=i),i):(o=-128<=(e|=0)&&e<128)&&(s=r[e])?s:(i=a(e,e<0?-1:0,!1),o&&(r[e]=i),i)}function s(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=h)return w}else{if(e<=-f)return S;if(e+1>=f)return v}return e<0?s(-e,t).neg():a(e%l|0,e/l|0,t)}function a(t,r,n){return new e(t,r,n)}e.fromInt=i,e.fromNumber=s,e.fromBits=a;var o=Math.pow;function c(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return c(e.substring(1),t,r).neg();for(var i=s(o(r,8)),a=p,u=0;u<e.length;u+=8){var l=Math.min(8,e.length-u),h=parseInt(e.substring(u,u+l),r);if(l<8){var f=s(o(r,l));a=a.mul(f).add(s(h))}else a=(a=a.mul(i)).add(s(h))}return a.unsigned=t,a}function u(t){return t instanceof e?t:"number"==typeof t?s(t):"string"==typeof t?c(t):a(t.low,t.high,t.unsigned)}e.fromString=c,e.fromValue=u;var l=4294967296,h=l*l,f=h/2,d=i(1<<24),p=i(0);e.ZERO=p;var g=i(0,!0);e.UZERO=g;var m=i(1);e.ONE=m;var y=i(1,!0);e.UONE=y;var b=i(-1);e.NEG_ONE=b;var v=a(-1,2147483647,!1);e.MAX_VALUE=v;var w=a(-1,-1,!0);e.MAX_UNSIGNED_VALUE=w;var S=a(0,-2147483648,!1);e.MIN_VALUE=S;var E=e.prototype;return E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(o(e,6),this.unsigned),a=this,c="";;){var u=a.div(i),l=(a.sub(u.mul(i)).toInt()>>>0).toString(e);if((a=u).isZero())return l+c;for(;l.length<6;)l="0"+l;c=""+l+c}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return!(1&~this.low)},E.isEven=function(){return!(1&this.low)},E.equals=function(e){return t(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.compare=function(e){if(t(e)||(e=u(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(m)},E.neg=E.negate,E.add=function(e){t(e)||(e=u(e));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,o=e.high>>>16,c=65535&e.high,l=e.low>>>16,h=0,f=0,d=0,p=0;return d+=(p+=s+(65535&e.low))>>>16,f+=(d+=i+l)>>>16,h+=(f+=n+c)>>>16,h+=r+o,a((d&=65535)<<16|(p&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},E.subtract=function(e){return t(e)||(e=u(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return p;if(t(e)||(e=u(e)),e.isZero())return p;if(this.eq(S))return e.isOdd()?S:p;if(e.eq(S))return this.isOdd()?S:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(d)&&e.lt(d))return s(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,c=e.high>>>16,l=65535&e.high,h=e.low>>>16,f=65535&e.low,g=0,m=0,y=0,b=0;return y+=(b+=o*f)>>>16,m+=(y+=i*f)>>>16,y&=65535,m+=(y+=o*h)>>>16,g+=(m+=n*f)>>>16,m&=65535,g+=(m+=i*h)>>>16,m&=65535,g+=(m+=o*l)>>>16,g+=r*f+n*h+i*l+o*c,a((y&=65535)<<16|(b&=65535),(g&=65535)<<16|(m&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(t(e)||(e=u(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;var r,n,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return y;i=g}else{if(this.eq(S))return e.eq(m)||e.eq(b)?S:e.eq(S)?m:(r=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?m:b:(n=this.sub(e.mul(r)),i=r.add(n.div(e)));if(e.eq(S))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=p}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),c=a<=48?1:o(2,a-48),l=s(r),h=l.mul(e);h.isNegative()||h.gt(n);)h=(l=s(r-=c,this.unsigned)).mul(e);l.isZero()&&(l=m),i=i.add(l),n=n.sub(h)}return i},E.div=E.divide,E.modulo=function(e){return t(e)||(e=u(e)),this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.not=function(){return a(~this.low,~this.high,this.unsigned)},E.and=function(e){return t(e)||(e=u(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return t(e)||(e=u(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return t(e)||(e=u(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0==(e&=63))return this;var r=this.high;return e<32?a(this.low>>>e|r<<32-e,r>>>e,this.unsigned):a(32===e?r:r>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e})?r.apply(t,[]):r)||(e.exports=n)},2954:e=>{"use strict";var t=Object.prototype.hasOwnProperty;function r(e){this.__data__=e||{}}e.exports=r,r.prototype.set=function(e,t){return"__proto__"!==e&&(this.__data__[e]=t),this},r.prototype.get=function(e){return"__proto__"===e?void 0:this.__data__[e]},r.prototype.has=function(e){return"__proto__"!==e&&t.call(this.__data__,e)},r.prototype.del=function(e){return this.has(e)&&delete this.__data__[e]}},7435:(e,t,r)=>{"use strict";var n=r(537),i=r(3188);function s(e){return e&&("function"==typeof e||!Array.isArray(e)&&"object"==typeof e)}e.exports=function(e,t,r){if(s(r))return i.apply(null,arguments);if(!Array.isArray(r))throw new TypeError("expected an array: "+n.inspect(r));for(var a=[].slice.call(arguments,3),o=0;o<r.length;o++){var c=r[o];s(c)?i.apply(null,[e,t,c].concat(a)):e[t].apply(e,[c].concat(a))}}},1514:e=>{"use strict";e.exports=Math.abs},8968:e=>{"use strict";e.exports=Math.floor},4459:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},6188:e=>{"use strict";e.exports=Math.max},8002:e=>{"use strict";e.exports=Math.min},5880:e=>{"use strict";e.exports=Math.pow},414:e=>{"use strict";e.exports=Math.round},3093:(e,t,r)=>{"use strict";var n=r(4459);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},8276:(e,t,r)=>{"use strict";var n=r(6698),i=r(4729),s=r(2861).Buffer,a=new Array(16);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,s,a){return c(e+(t&r|~t&n)+i+s|0,a)+t|0}function l(e,t,r,n,i,s,a){return c(e+(t&n|r&~n)+i+s|0,a)+t|0}function h(e,t,r,n,i,s,a){return c(e+(t^r^n)+i+s|0,a)+t|0}function f(e,t,r,n,i,s,a){return c(e+(r^(t|~n))+i+s|0,a)+t|0}n(o,i),o.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;r=u(r,n,i,s,e[0],3614090360,7),s=u(s,r,n,i,e[1],3905402710,12),i=u(i,s,r,n,e[2],606105819,17),n=u(n,i,s,r,e[3],3250441966,22),r=u(r,n,i,s,e[4],4118548399,7),s=u(s,r,n,i,e[5],1200080426,12),i=u(i,s,r,n,e[6],2821735955,17),n=u(n,i,s,r,e[7],4249261313,22),r=u(r,n,i,s,e[8],1770035416,7),s=u(s,r,n,i,e[9],2336552879,12),i=u(i,s,r,n,e[10],4294925233,17),n=u(n,i,s,r,e[11],2304563134,22),r=u(r,n,i,s,e[12],1804603682,7),s=u(s,r,n,i,e[13],4254626195,12),i=u(i,s,r,n,e[14],2792965006,17),r=l(r,n=u(n,i,s,r,e[15],1236535329,22),i,s,e[1],4129170786,5),s=l(s,r,n,i,e[6],3225465664,9),i=l(i,s,r,n,e[11],643717713,14),n=l(n,i,s,r,e[0],3921069994,20),r=l(r,n,i,s,e[5],3593408605,5),s=l(s,r,n,i,e[10],38016083,9),i=l(i,s,r,n,e[15],3634488961,14),n=l(n,i,s,r,e[4],3889429448,20),r=l(r,n,i,s,e[9],568446438,5),s=l(s,r,n,i,e[14],3275163606,9),i=l(i,s,r,n,e[3],4107603335,14),n=l(n,i,s,r,e[8],1163531501,20),r=l(r,n,i,s,e[13],2850285829,5),s=l(s,r,n,i,e[2],4243563512,9),i=l(i,s,r,n,e[7],1735328473,14),r=h(r,n=l(n,i,s,r,e[12],2368359562,20),i,s,e[5],4294588738,4),s=h(s,r,n,i,e[8],2272392833,11),i=h(i,s,r,n,e[11],1839030562,16),n=h(n,i,s,r,e[14],4259657740,23),r=h(r,n,i,s,e[1],2763975236,4),s=h(s,r,n,i,e[4],1272893353,11),i=h(i,s,r,n,e[7],4139469664,16),n=h(n,i,s,r,e[10],3200236656,23),r=h(r,n,i,s,e[13],681279174,4),s=h(s,r,n,i,e[0],3936430074,11),i=h(i,s,r,n,e[3],3572445317,16),n=h(n,i,s,r,e[6],76029189,23),r=h(r,n,i,s,e[9],3654602809,4),s=h(s,r,n,i,e[12],3873151461,11),i=h(i,s,r,n,e[15],530742520,16),r=f(r,n=h(n,i,s,r,e[2],3299628645,23),i,s,e[0],4096336452,6),s=f(s,r,n,i,e[7],1126891415,10),i=f(i,s,r,n,e[14],2878612391,15),n=f(n,i,s,r,e[5],4237533241,21),r=f(r,n,i,s,e[12],1700485571,6),s=f(s,r,n,i,e[3],2399980690,10),i=f(i,s,r,n,e[10],4293915773,15),n=f(n,i,s,r,e[1],2240044497,21),r=f(r,n,i,s,e[8],1873313359,6),s=f(s,r,n,i,e[15],4264355552,10),i=f(i,s,r,n,e[6],2734768916,15),n=f(n,i,s,r,e[13],1309151649,21),r=f(r,n,i,s,e[4],4149444226,6),s=f(s,r,n,i,e[11],3174756917,10),i=f(i,s,r,n,e[2],718787259,15),n=f(n,i,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},8208:(e,t,r)=>{"use strict";var n=r(8287).Buffer;const i=r(7169),s=r(9808),a=r(7664),o=r(519),c=r(9198),u=c.Readable,l=c.Writable;function h(e){return"object"==typeof e&&!0===e[""]}function f(e){return"object"==typeof e&&!e[""]}function d(e){if(e=i(e),/^\//.test(e))e=(e=e.replace(/\/+/g,"/")).substr(1).split("/");else{if(!/^[A-Za-z]:/.test(e))throw new a(o.code.EINVAL,e);(e=(e=e.replace(/[\\\/]+/g,"\\")).split(/[\\\/]/))[0]=e[0].toUpperCase()}return e[e.length-1]||e.pop(),e}function p(){return!0}function g(){return!1}class m{constructor(e){this.data=e||{},this.join=s,this.pathToArray=d,this.normalize=i}meta(e){const t=d(e);let r=this.data,n=0;for(;n<t.length-1;n++){if(!h(r[t[n]]))return;r=r[t[n]]}return r[t[n]]}existsSync(e){return"/"===e.trim()||!!this.meta(e)}statSync(e){let t=this.meta(e);if("/"===e||h(t))return{isFile:g,isDirectory:p,isBlockDevice:g,isCharacterDevice:g,isSymbolicLink:g,isFIFO:g,isSocket:g};if(f(t))return{isFile:p,isDirectory:g,isBlockDevice:g,isCharacterDevice:g,isSymbolicLink:g,isFIFO:g,isSocket:g};throw new a(o.code.ENOENT,e,"stat")}readFileSync(e,t){const r=d(e);let n=this.data,i=0;for(;i<r.length-1;i++){if(!h(n[r[i]]))throw new a(o.code.ENOENT,e,"readFile");n=n[r[i]]}if(!f(n[r[i]]))throw h(n[r[i]])?new a(o.code.EISDIR,e,"readFile"):new a(o.code.ENOENT,e,"readFile");n=n[r[i]];const s="object"==typeof t?t.encoding:t;return s?n.toString(s):n}readdirSync(e){if("/"===e)return Object.keys(this.data).filter(Boolean);const t=d(e);let r=this.data,n=0;for(;n<t.length-1;n++){if(!h(r[t[n]]))throw new a(o.code.ENOENT,e,"readdir");r=r[t[n]]}if(!h(r[t[n]]))throw f(r[t[n]])?new a(o.code.ENOTDIR,e,"readdir"):new a(o.code.ENOENT,e,"readdir");return Object.keys(r[t[n]]).filter(Boolean)}mkdirpSync(e){const t=d(e);if(0===t.length)return;let r=this.data;for(let n=0;n<t.length;n++){if(f(r[t[n]]))throw new a(o.code.ENOTDIR,e,"mkdirp");h(r[t[n]])||(r[t[n]]={"":!0}),r=r[t[n]]}}mkdirSync(e){const t=d(e);if(0===t.length)return;let r=this.data,n=0;for(;n<t.length-1;n++){if(!h(r[t[n]]))throw new a(o.code.ENOENT,e,"mkdir");r=r[t[n]]}if(h(r[t[n]]))throw new a(o.code.EEXIST,e,"mkdir");if(f(r[t[n]]))throw new a(o.code.ENOTDIR,e,"mkdir");r[t[n]]={"":!0}}_remove(e,t,r){const n=d(e),i="File"===t?"unlink":"rmdir";if(0===n.length)throw new a(o.code.EPERM,e,i);let s=this.data,c=0;for(;c<n.length-1;c++){if(!h(s[n[c]]))throw new a(o.code.ENOENT,e,i);s=s[n[c]]}if(!r(s[n[c]]))throw new a(o.code.ENOENT,e,i);delete s[n[c]]}rmdirSync(e){return this._remove(e,"Directory",h)}unlinkSync(e){return this._remove(e,"File",f)}readlinkSync(e){throw new a(o.code.ENOSYS,e,"readlink")}writeFileSync(e,t,r){if(!t&&!r)throw new Error("No content");const i=d(e);if(0===i.length)throw new a(o.code.EISDIR,e,"writeFile");let s=this.data,c=0;for(;c<i.length-1;c++){if(!h(s[i[c]]))throw new a(o.code.ENOENT,e,"writeFile");s=s[i[c]]}if(h(s[i[c]]))throw new a(o.code.EISDIR,e,"writeFile");const u="object"==typeof r?r.encoding:r;s[i[c]]=r||"string"==typeof t?new n.from(t,u):t}createReadStream(e,t){let r,n=new u,i=!1;try{r=this.readFileSync(e)}catch(e){return n._read=function(){i||(i=!0,this.emit("error",e),this.push(null))},n}return(t=t||{}).start=t.start||0,t.end=t.end||r.length,n._read=function(){i||(i=!0,this.push(r.slice(t.start,t.end)),this.push(null))},n}createWriteStream(e){let t=new l;try{this.writeFileSync(e,new n.from(0))}catch(e){return t.once("prefinish",(function(){t.emit("error",e)})),t}let r=[],i=0;return t._write=(t,s,a)=>{r.push(t),i+=t.length,this.writeFile(e,n.concat(r,i),a)},t}exists(e,t){return t(this.existsSync(e))}writeFile(e,t,r,n){n||(n=r,r=void 0);try{this.writeFileSync(e,t,r)}catch(e){return n(e)}return n()}}["stat","readdir","mkdirp","rmdir","unlink","readlink"].forEach((function(e){m.prototype[e]=function(t,r){let n;try{n=this[e+"Sync"](t)}catch(e){return void setImmediate((function(){r(e)}))}setImmediate((function(){r(null,n)}))}})),["mkdir","readFile"].forEach((function(e){m.prototype[e]=function(t,r,n){let i;n||(n=r,r=void 0);try{i=this[e+"Sync"](t,r)}catch(e){return void setImmediate((function(){n(e)}))}setImmediate((function(){n(null,i)}))}})),e.exports=m},7664:e=>{"use strict";class t extends Error{constructor(e,t,r){super(e,t),this.name=this.constructor.name;var n=[`${e.code}:`,`${e.description},`];r&&n.push(r),n.push(`'${t}'`),this.message=n.join(" "),this.code=e.code,this.errno=e.errno,this.path=t,this.operation=r,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}e.exports=t},9808:(e,t,r)=>{"use strict";const n=r(7169),i=/^[A-Z]:([\\\/]|$)/i,s=/^\//i;e.exports=function(e,t){return t?i.test(t)?n(t.replace(/\//g,"\\")):s.test(t)?n(t):"/"==e?n(e+t):i.test(e)?n(e.replace(/\//g,"\\")+"\\"+t.replace(/\//g,"\\")):(s.test(e),n(e+"/"+t)):n(e)}},7169:e=>{"use strict";e.exports=function(e){var t=e.split(/(\\+|\/+)/);if(1===t.length)return e;for(var r=[],n=0,i=0,s=!1;i<t.length;i+=1,s=!s){var a=t[i];if(0===i&&/^([A-Z]:)?$/i.test(a))r.push(a),n=2;else if(s)1===i&&0===t[0].length&&"\\\\"===a?r.push(a):r.push(a[0]);else if(".."===a)switch(r.length){case 0:r.push(a);break;case 2:"."!==r[0]?(i+=1,s=!s,r.length=n):(r.length=0,r.push(a));break;case 4:0===n?r.length-=3:(i+=1,s=!s,r.length=2);break;default:r.length-=3}else if("."===a)switch(r.length){case 0:r.push(a);break;case 2:0===n?r.length-=1:(i+=1,s=!s);break;default:r.length-=1}else a&&r.push(a)}return 1===r.length&&/^[A-Za-z]:$/.test(r[0])?r[0]+"\\":r.join("")}},2244:(e,t,r)=>{var n=r(9404),i=r(5037);function s(e){this.rand=e||new i.Rand}e.exports=s,s.create=function(e){return new s(e)},s.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},s.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},s.prototype.test=function(e,t,r){var i=e.bitLength(),s=n.mont(e),a=new n(1).toRed(s);t||(t=Math.max(1,i/48|0));for(var o=e.subn(1),c=0;!o.testn(c);c++);for(var u=e.shrn(c),l=o.toRed(s);t>0;t--){var h=this._randrange(new n(2),o);r&&r(h);var f=h.toRed(s).redPow(u);if(0!==f.cmp(a)&&0!==f.cmp(l)){for(var d=1;d<c;d++){if(0===(f=f.redSqr()).cmp(a))return!1;if(0===f.cmp(l))break}if(d===c)return!1}}return!0},s.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),s=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var a=e.subn(1),o=0;!a.testn(o);o++);for(var c=e.shrn(o),u=a.toRed(i);t>0;t--){var l=this._randrange(new n(2),a),h=e.gcd(l);if(0!==h.cmpn(1))return h;var f=l.toRed(i).redPow(c);if(0!==f.cmp(s)&&0!==f.cmp(u)){for(var d=1;d<o;d++){if(0===(f=f.redSqr()).cmp(s))return f.fromRed().subn(1).gcd(e);if(0===f.cmp(u))break}if(d===o)return(f=f.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},3349:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},4367:(e,t)=>{"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,a=255&i;s?r.push(s,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},2899:(e,t,r)=>{"use strict";var n=r(2328),i=r(7300);function s(e,t){for(var r=arguments.length,n=0;++n<r;){var s=arguments[n];o(s)&&i(s,a,e)}return e}function a(e,t){if(function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}(t)){var r=this[t];o(e)&&o(r)?s(r,e):this[t]=e}}function o(e){return n(e)&&!Array.isArray(e)}e.exports=s},8961:function(e,t,r){var n,i,s;!function(){"use strict";i=[t,r(9224)],void 0!==(s="function"==typeof(n=function(e,t){var r={AENC:"Audio encryption",APIC:"Attached picture",CHAP:"Chapter",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},n={T:function(e,r,n){var i={encoding:e.getUint8(r)};return i.value=t.readStr[0===i.encoding?"iso":"ucs"](e,r+1,n-1),i},TXXX:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<2)return i;var s=0===i.encoding?"iso":"ucs",a=r+1,o=t.locateStrTrm[s](e,a,n-4);return-1===o||(i.description=t.readStr[s](e,a,o-a),o+="ucs"===s?2:1,i.value=t.readStr[s](e,o,r+n-o)),i},W:function(e,r,n){return{value:t.readStr.iso(e,r,n)}},WXXX:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<2)return i;var s=0===i.encoding?"iso":"ucs",a=r+1,o=t.locateStrTrm[s](e,a,n-4);return-1===o||(i.description=t.readStr[s](e,a,o-a),o+="ucs"===s?2:1,i.value=t.readStr.iso(e,o,r+n-o)),i},COMM:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<5)return i;var s=0===i.encoding?"iso":"ucs",a=r+4;i.language=t.readTrmStr.iso(e,r+1,3);var o=t.locateStrTrm[s](e,a,n-4);return-1===o||(i.description=t.readStr[s](e,a,o-a),o+="ucs"===s?2:1,i.text=t.readStr[s](e,o,r+n-o)),i},UFID:function(e,r,n){var i=t.readTrmStr.iso(e,r,n);return{ownerIdentifier:i,identifier:new DataView(e.buffer,r+i.length+1,n-i.length-1)}},IPLS:function(e,r,n){for(var i,s={encoding:e.getUint8(r),values:[]},a=0===s.encoding?"iso":"ucs",o=r+1;o<r+n;)-1===(i=t.locateStrTrm[a](e,o,n-(o-r)))&&(i=r+n),s.values.push(t.readStr[a](e,o,i-o)),o=i+("ucs"===a?2:1);return s},USER:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<5)return i;i.language=t.readTrmStr.iso(e,r+1,3);var s=r+4,a=0===i.encoding?"iso":"ucs";return i.text=t.readStr[a](e,s,r+n-s),i},PRIV:function(e,r,n){var i=t.readTrmStr.iso(e,r,n);return{ownerIdentifier:i,privateData:new DataView(e.buffer,r+i.length+1,n-i.length-1)}},PCNT:function(e,t,r){return r<4?{}:{counter:e.getUint32(t)}},POPM:function(e,r,n){var i={email:t.readTrmStr.iso(e,r,n)};return r+=i.email.length+1,n<6||(i.rating=e.getUint8(r),i.counter=e.getUint32(r+1)),i},APIC:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<4)return i;var s,a,o=0===i.encoding?"iso":"ucs";return s=r+1,-1===(a=t.locateStrTrm.iso(e,s,n-1))||(i.mimeType=t.readStr.iso(e,s,a-s),s=a+1,i.pictureType=e.getUint8(s),s+=1,-1===(a=t.locateStrTrm[o](e,s,r+n-s))||(i.description=t.readStr[o](e,s,a-s),s=a+("ucs"===o?2:1),i.pictureData=new DataView(e.buffer,s,r+n-s))),i},CHAP:function(r,n,i){var s={encoding:r.getUint8(n)},a=t.locateStrTrm.iso(r,n,i-1);if(-1===a)return s;s.id=t.readStr.iso(r,n,a-n),s.startTime=r.getUint32(a+1),s.endTime=r.getUint32(a+5),s.startOffset=r.getUint32(a+9),s.endOffset=r.getUint32(a+13);var o=a+17;for(s.frames=[];o<n+i;){var c=e.readId3v2TagFrame(r,o);s.frames.push(c),o+=c.header.size+10}return s}};e.readId3v2TagFrame=function(e,i){var s={header:{id:t.readStr.iso(e,i,4),size:e.getUint32(i+4),flagsOctet1:e.getUint8(i+8),flagsOctet2:e.getUint8(i+9)}};if(s.header.size<1)return s;var a,o,c=(a=n,"TXXX"===(o=s.header.id)?a.TXXX:"T"===o.charAt(0)?a.T:"WXXX"===o?a.WXXX:"W"===o.charAt(0)?a.W:"COMM"===o||"USLT"===o?a.COMM:a[o]||t.noOp);return s.name=r[s.header.id],s.content=c(e,i+10,s.header.size),s},e.readId3v2Tag=function(r,n){if(n||(n=0),r.byteLength-n<10)return null;if(!t.isSeq(t.seq.id3,r,n))return null;var i=r.getUint8(n+5),s={_section:{type:"ID3v2",offset:n},header:{majorVersion:r.getUint8(n+3),minorRevision:r.getUint8(n+4),flagsOctet:i,unsynchronisationFlag:!(128&~i),extendedHeaderFlag:!(64&~i),experimentalIndicatorFlag:!(32&~i),size:t.unsynchsafe(r.getUint32(n+6))},frames:[]};s._section.byteLength=s.header.size+10;var a,o=n+s._section.byteLength;if(3!==s.header.majorVersion)return s;for(n+=10;n<o&&0!==r.getUint32(n)&&(a=e.readId3v2TagFrame(r,n));)s.frames.push(a),n+=a.header.size+10;return s}})?n.apply(t,i):n)&&(e.exports=s)}()},9224:function(e,t){var r,n,i;!function(){"use strict";n=[t],void 0!==(i="function"==typeof(r=function(e){var t,r=(t=[],function(e){return t[0]=128&~e?"0":"1",t[1]=64&~e?"0":"1",t[2]=32&~e?"0":"1",t[3]=16&~e?"0":"1",t[4]=8&~e?"0":"1",t[5]=4&~e?"0":"1",t[6]=2&~e?"0":"1",t[7]=1&~e?"0":"1",t.join("")});e.getFrameByteLength=function(t,r,n,i,s){var a=e.sampleLengthMap[i][s],o=n?"11"===s?4:1:0,c=1e3*t/8;return Math.floor(a*c/r+o)},e.getXingOffset=function(e,t){var r="11"===t;return"11"===e?r?21:36:r?13:21},e.v1l1Bitrates={"0000":"free","0001":32,"0010":64,"0011":96,"0100":128,"0101":160,"0110":192,"0111":224,1e3:256,1001:288,1010:320,1011:352,1100:384,1101:416,1110:448,1111:"bad"},e.v1l2Bitrates={"0000":"free","0001":32,"0010":48,"0011":56,"0100":64,"0101":80,"0110":96,"0111":112,1e3:128,1001:160,1010:192,1011:224,1100:256,1101:320,1110:384,1111:"bad"},e.v1l3Bitrates={"0000":"free","0001":32,"0010":40,"0011":48,"0100":56,"0101":64,"0110":80,"0111":96,1e3:112,1001:128,1010:160,1011:192,1100:224,1101:256,1110:320,1111:"bad"},e.v2l1Bitrates={"0000":"free","0001":32,"0010":48,"0011":56,"0100":64,"0101":80,"0110":96,"0111":112,1e3:128,1001:144,1010:160,1011:176,1100:192,1101:224,1110:256,1111:"bad"},e.v2l2Bitrates={"0000":"free","0001":8,"0010":16,"0011":24,"0100":32,"0101":40,"0110":48,"0111":56,1e3:64,1001:80,1010:96,1011:112,1100:128,1101:144,1110:160,1111:"bad"},e.v2l3Bitrates=e.v2l2Bitrates,e.v1SamplingRates={"00":44100,"01":48e3,10:32e3,11:"reserved"},e.v2SamplingRates={"00":22050,"01":24e3,10:16e3,11:"reserved"},e.v25SamplingRates={"00":11025,"01":12e3,10:8e3,11:"reserved"},e.channelModes={"00":"Stereo","01":"Joint stereo (Stereo)",10:"Dual channel (Stereo)",11:"Single channel (Mono)"},e.mpegVersionDescription={"00":"MPEG Version 2.5 (unofficial)","01":"reserved",10:"MPEG Version 2 (ISO/IEC 13818-3)",11:"MPEG Version 1 (ISO/IEC 11172-3)"},e.layerDescription={"00":"reserved","01":"Layer III",10:"Layer II",11:"Layer I"},e.bitrateMap={11:{"01":e.v1l3Bitrates,10:e.v1l2Bitrates,11:e.v1l1Bitrates},10:{"01":e.v2l3Bitrates,10:e.v2l2Bitrates,11:e.v2l1Bitrates}},e.samplingRateMap={"00":e.v25SamplingRates,10:e.v2SamplingRates,11:e.v1SamplingRates},e.v1SampleLengths={"01":1152,10:1152,11:384},e.v2SampleLengths={"01":576,10:1152,11:384},e.sampleLengthMap={"01":e.v2SampleLengths,10:e.v2SampleLengths,11:e.v1SampleLengths},e.wordSeqFromStr=function(e){for(var t=e.length-1,r=[];t>=0;--t)r[t]=e.charCodeAt(t);return r},e.seq={id3:e.wordSeqFromStr("ID3"),xing:e.wordSeqFromStr("Xing"),info:e.wordSeqFromStr("Info")},e.noOp=function(){},e.unsynchsafe=function(e){for(var t=0,r=2130706432;r;)t>>=1,t|=e&r,r>>=8;return t},e.isSeq=function(e,t,r){for(var n=e.length-1;n>=0;n--)if(e[n]!==t.getUint8(r+n))return!1;return!0},e.locateSeq=function(t,r,n,i){for(var s=0,a=i-t.length+1;s<a;++s)if(e.isSeq(t,r,n+s))return n+s;return-1},e.locateStrTrm={iso:function(t,r,n){return e.locateSeq([0],t,r,n)},ucs:function(t,r,n){var i=e.locateSeq([0,0],t,r,n);return-1===i?-1:((i-r)%2!=0&&++i,i)}},e.readStr={iso:function(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer,t,r))},ucs:function(e,t,r){65534!==e.getUint16(t)&&65279!==e.getUint16(t)||(t+=2,r-=2);var n=e.buffer;return t%2==1&&(n=n.slice(t,t+r),t=0),String.fromCharCode.apply(null,new Uint16Array(n,t,r/2))}},e.readTrmStr={iso:function(t,r,n){var i=e.locateStrTrm.iso(t,r,n);return-1!==i&&(n=i-r),e.readStr.iso(t,r,n)},ucs:function(t,r,n){var i=e.locateStrTrm.ucs(t,r,n);return-1!==i&&(n=i-r),e.readStr.ucs(t,r,n)}},e.readFrameHeader=function(t,n){if(n||(n=0),t.byteLength-n<=4)return null;if(255!==t.getUint8(n))return null;var i=t.getUint8(n+1);if(i<224)return null;var s=r(i).substr(3,2),a=r(i).substr(5,2),o={_section:{type:"frameHeader",byteLength:4,offset:n},mpegAudioVersionBits:s,mpegAudioVersion:e.mpegVersionDescription[s],layerDescriptionBits:a,layerDescription:e.layerDescription[a],isProtected:1&i};if(o.protectionBit=o.isProtected?"1":"0","reserved"===o.mpegAudioVersion)return null;if("reserved"===o.layerDescription)return null;var c=t.getUint8(n+2);if(c=r(c),o.bitrateBits=c.substr(0,4),o.bitrate=e.bitrateMap[s][a][o.bitrateBits],"bad"===o.bitrate)return null;if(o.samplingRateBits=c.substr(4,2),o.samplingRate=e.samplingRateMap[s][o.samplingRateBits],"reserved"===o.samplingRate)return null;o.frameIsPaddedBit=c.substr(6,1),o.frameIsPadded="1"===o.frameIsPaddedBit,o.framePadding=o.frameIsPadded?1:0,o.privateBit=c.substr(7,1);var u=t.getUint8(n+3);return o.channelModeBits=r(u).substr(0,2),o.channelMode=e.channelModes[o.channelModeBits],o},e.readFrame=function(t,r,n){r||(r=0);var i={_section:{type:"frame",offset:r},header:e.readFrameHeader(t,r)},s=i.header;if(!s)return null;i._section.sampleLength=e.sampleLengthMap[s.mpegAudioVersionBits][s.layerDescriptionBits],i._section.byteLength=e.getFrameByteLength(s.bitrate,s.samplingRate,s.framePadding,s.mpegAudioVersionBits,s.layerDescriptionBits),i._section.nextFrameIndex=r+i._section.byteLength;var a=e.getXingOffset(s.mpegAudioVersionBits,s.channelModeBits);return e.isSeq(e.seq.xing,t,r+a)||e.isSeq(e.seq.info,t,r+a)||n&&!e.readFrameHeader(t,i._section.nextFrameIndex)?null:i}})?r.apply(t,n):r)&&(e.exports=i)}()},7275:function(e,t,r){var n,i,s;!function(){"use strict";i=[t,r(9224)],void 0!==(s="function"==typeof(n=function(e,t){e.readXingTag=function(e,r){r||(r=0);var n={_section:{type:"Xing",offset:r},header:t.readFrameHeader(e,r)},i=n.header;if(!i)return null;var s=r+t.getXingOffset(i.mpegAudioVersionBits,i.channelModeBits);return e.byteLength<s+4?null:(n.identifier=t.isSeq(t.seq.xing,e,s)?"Xing":t.isSeq(t.seq.info,e,s)&&"Info",n.identifier?(n._section.byteLength=t.getFrameByteLength(i.bitrate,i.samplingRate,i.framePadding,i.mpegAudioVersionBits,i.layerDescriptionBits),n._section.nextFrameIndex=r+n._section.byteLength,n):null)}})?n.apply(t,i):n)&&(e.exports=s)}()},9546:function(e,t,r){var n,i,s;!function(){"use strict";i=[t,r(9224),r(8961),r(7275)],void 0!==(s="function"==typeof(n=function(e,t,r,n){e.readFrameHeader=function(e,r){return t.readFrameHeader(e,r)},e.readFrame=function(e,r,n){return t.readFrame(e,r,n)},e.readLastFrame=function(t,r,n){r||(r=t.byteLength-1);for(var i=null;r>=0;--r)if(255===t.getUint8(r)&&(i=e.readFrame(t,r,n)))return i;return null},e.readId3v2Tag=function(e,t){return r.readId3v2Tag(e,t)},e.readXingTag=function(e,t){return n.readXingTag(e,t)},e.readTags=function(t,r){r||(r=0);for(var n=[],i=null,s=!1,a=t.byteLength,o=[e.readId3v2Tag,e.readXingTag,e.readFrame],c=o.length;r<a&&!s;++r)for(var u=0;u<c;++u)if(i=o[u](t,r)){if(n.push(i),r+=i._section.byteLength,"frame"===i._section.type){s=!0;break}u=-1}return n}})?n.apply(t,i):n)&&(e.exports=s)}()},6585:e=>{var t=1e3,r=60*t,n=60*r,i=24*n,s=7*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,o){o=o||{};var c,u,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var o=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return o*s;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===l&&isFinite(e))return o.long?(c=e,(u=Math.abs(c))>=i?a(c,u,i,"day"):u>=n?a(c,u,n,"hour"):u>=r?a(c,u,r,"minute"):u>=t?a(c,u,t,"second"):c+" ms"):function(e){var s=Math.abs(e);return s>=i?Math.round(e/i)+"d":s>=n?Math.round(e/n)+"h":s>=r?Math.round(e/r)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},360:(e,t,r)=>{"use strict";var n=r(537),i=r(3982),s=r(1432),a=r(6394),o=r(9876),c=r(7610),u=r(9629);function l(e,t,r){t=u.arrayify(t),e=u.arrayify(e);var n=t.length;if(0===e.length||0===n)return[];if(1===n)return l.match(e,t[0],r);for(var i=!1,s=[],a=[],o=-1;++o<n;){var c=t[o];"string"==typeof c&&33===c.charCodeAt(0)?(s.push.apply(s,l.match(e,c.slice(1),r)),i=!0):a.push.apply(a,l.match(e,c,r))}if(i&&0===a.length)if(r&&!1===r.unixify)a=e.slice();else for(var h=u.unixify(r),f=0;f<e.length;f++)a.push(h(e[f]));var d=u.diff(a,s);return r&&!1===r.nodupes?d:u.unique(d)}function h(e,t,r,n){var i=u.createKey(e+"="+t,r);if(r&&!1===r.cache)return n(t,r);if(c.has(e,i))return c.get(e,i);var s=n(t,r);return c.set(e,i,s),s}l.match=function(e,t,r){if(Array.isArray(t))throw new TypeError("expected pattern to be a string");for(var n=u.unixify(r),i=h("match",t,r,l.matcher),s=[],a=(e=u.arrayify(e)).length,o=-1;++o<a;){var c=e[o];(c===t||i(c))&&s.push(u.value(c,n,r))}if(void 0===r)return u.unique(s);if(0===s.length){if(!0===r.failglob)throw new Error('no matches found for "'+t+'"');if(!0===r.nonull||!0===r.nullglob)return[r.unescape?u.unescape(t):t]}return r.ignore&&(s=l.not(s,r.ignore,r)),!1!==r.nodupes?u.unique(s):s},l.isMatch=function(e,t,r){if("string"!=typeof e)throw new TypeError('expected a string: "'+n.inspect(e)+'"');return!u.isEmptyString(e)&&!u.isEmptyString(t)&&(!!u.equalsPattern(r)(e)||h("isMatch",t,r,l.matcher)(e))},l.some=function(e,t,r){"string"==typeof e&&(e=[e]);for(var n=0;n<e.length;n++)if(1===l(e[n],t,r).length)return!0;return!1},l.every=function(e,t,r){"string"==typeof e&&(e=[e]);for(var n=0;n<e.length;n++)if(1!==l(e[n],t,r).length)return!1;return!0},l.any=function(e,t,r){if("string"!=typeof e)throw new TypeError('expected a string: "'+n.inspect(e)+'"');if(u.isEmptyString(e)||u.isEmptyString(t))return!1;"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(l.isMatch(e,t[i],r))return!0;return!1},l.all=function(e,t,r){if("string"!=typeof e)throw new TypeError('expected a string: "'+n.inspect(e)+'"');"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(!l.isMatch(e,t[i],r))return!1;return!0},l.not=function(e,t,r){var n=s({},r),i=n.ignore;delete n.ignore,e=u.arrayify(e);var a=u.diff(e,l(e,t,n));return i&&(a=u.diff(a,l(e,i))),!1!==n.nodupes?u.unique(a):a},l.contains=function(e,t,r){if("string"!=typeof e)throw new TypeError('expected a string: "'+n.inspect(e)+'"');if("string"==typeof t){if(u.isEmptyString(e)||u.isEmptyString(t))return!1;if(u.equalsPattern(t,r)(e))return!0;if(u.containsPattern(t,r)(e))return!0}var i=s({},r,{contains:!0});return l.any(e,t,i)},l.matchBase=function(e,t){return!(e&&-1!==e.indexOf("/")||!t||!0!==t.basename&&!0!==t.matchBase)},l.matchKeys=function(e,t,r){if(!u.isObject(e))throw new TypeError("expected the first argument to be an object");var n=l(Object.keys(e),t,r);return u.pick(e,n)},l.matcher=function e(t,r){if(u.isEmptyString(t))return function(){return!1};if(Array.isArray(t))return function(e,t,r){var n;return h("compose",String(e),t,(function(){return function(i){if(!n){n=[];for(var s=0;s<e.length;s++)n.push(r(e[s],t))}for(var a=n.length;a--;)if(!0===n[a](i))return!0;return!1}}))}(t,r,e);if(t instanceof RegExp)return i(t);if(!u.isString(t))throw new TypeError("expected pattern to be an array, string or regex");if(!u.hasSpecialChars(t))return r&&!0===r.nocase&&(t=t.toLowerCase()),u.matchPath(t,r);var n=l.makeRe(t,r);if(l.matchBase(t,r))return u.matchBasename(n,r);function i(e){var t=u.equalsPattern(r),n=u.unixify(r);return function(r){return!!t(r)||!!e.test(n(r))}}var s=i(n);return u.define(s,"result",n.result),s},l.capture=function(e,t,r){var n=l.makeRe(e,s({capture:!0},r)),i=u.unixify(r);return h("capture",e,r,(function(){return function(e){var t=n.exec(i(e));return t?t.slice(1):null}}))(t)},l.makeRe=function(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected pattern to be a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");return h("makeRe",e,t,(function(){var r=u.extend({wrap:!1},t),n=l.create(e,r),s=i(n.output,r);return u.define(s,"result",n),s}))},l.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return h("create",e,t,(function(){return l.compile(l.parse(e,t),t)}))},l.parse=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return h("parse",e,t,(function(){var r=u.instantiate(null,t);o(r,t);var n=r.parse(e,t);return u.define(n,"snapdragon",r),n.input=e,n}))},l.compile=function(e,t){return"string"==typeof e&&(e=l.parse(e,t)),h("compile",e.input,t,(function(){var r=u.instantiate(e,t);return a(r,t),r.compile(e,t)}))},l.clearCache=function(){l.cache.__data__={}},l.compilers=a,l.parsers=o,l.cache=c,e.exports=l},7610:(e,t,r)=>{e.exports=new(r(4030))},6394:e=>{"use strict";e.exports=function(e,t){function r(){return t&&"string"==typeof t.slash?t.slash:t&&"function"==typeof t.slash?t.slash.call(e):"\\\\/"}function n(){return t&&"string"==typeof t.star?t.star:t&&"function"==typeof t.star?t.star.call(e):"[^"+r()+"]*?"}var i=e.ast=e.parser.ast;i.state=e.parser.state,e.compiler.state=i.state,e.compiler.set("not",(function(e){var t=this.prev();return!0===this.options.nonegate||"bos"!==t.type?this.emit("\\"+e.val,e):this.emit(e.val,e)})).set("escape",(function(e){return this.options.unescape&&/^[-\w_.]/.test(e.val)?this.emit(e.val,e):this.emit("\\"+e.val,e)})).set("quoted",(function(e){return this.emit(e.val,e)})).set("dollar",(function(e){return"bracket"===e.parent.type?this.emit(e.val,e):this.emit("\\"+e.val,e)})).set("dot",(function(e){return!0===e.dotfiles&&(this.dotfiles=!0),this.emit("\\"+e.val,e)})).set("backslash",(function(e){return this.emit(e.val,e)})).set("slash",(function(e,t,n){for(var i="["+r()+"]",s=e.parent,a=this.prev();"paren"===s.type&&!s.hasSlash;)s.hasSlash=!0,s=s.parent;return a.addQmark&&(i+="?"),"\\b"===e.rest.slice(0,2)?this.emit(i,e):"**"===e.parsed||"./**"===e.parsed?(this.output="(?:"+this.output,this.emit(i+")?",e)):"!**"===e.parsed&&!0!==this.options.nonegate?this.emit(i+"?\\b",e):this.emit(i,e)})).set("bracket",(function(e){var t=e.close,r=e.escaped?"\\[":"[",n=e.negated,i=e.inner,s=e.val;return!0===e.escaped&&(i=i.replace(/\\?(\W)/g,"\\$1"),n=""),"]-"===i&&(i="\\]\\-"),n&&-1===i.indexOf(".")&&(i+="."),n&&-1===i.indexOf("/")&&(i+="/"),s=r+n+i+t,this.emit(s,e)})).set("square",(function(e){var t=(/^\W/.test(e.val)?"\\":"")+e.val;return this.emit(t,e)})).set("qmark",(function(e){var t=this.prev(),r="[^.\\\\/]";if((this.options.dot||"bos"!==t.type&&"slash"!==t.type)&&(r="[^\\\\/]"),"("===e.parsed.slice(-1)){var n=e.rest.charAt(0);if("!"===n||"="===n||":"===n)return this.emit(e.val,e)}return e.val.length>1&&(r+="{"+e.val.length+"}"),this.emit(r,e)})).set("plus",(function(e){var t=e.parsed.slice(-1);if("]"===t||")"===t)return this.emit(e.val,e);if(!this.output||/[?*+]/.test(r)&&"bracket"!==e.parent.type)return this.emit("\\+",e);var r=this.output.slice(-1);return/\w/.test(r)&&!e.inside?this.emit("+\\+?",e):this.emit("+",e)})).set("globstar",(function(e,t,i){this.output||(this.state.leadingGlobstar=!0);var s=this.prev(),a=this.prev(2),o=this.next(),c=this.next(2),u=s.type,l=e.val;"slash"===s.type&&"slash"===o.type&&"text"===a.type&&(this.output+="?","text"!==c.type&&(this.output+="\\b"));var h=e.parsed;"!"===h.charAt(0)&&(h=h.slice(1));var f=e.isInside.paren||e.isInside.brace;return l=h&&"slash"!==u&&"bos"!==u&&!f?n():!0!==this.options.dot?"(?:(?!(?:["+r()+"]|^)\\.).)*?":"(?:(?!(?:["+r()+"]|^)(?:\\.{1,2})($|["+r()+"]))(?!\\.{2}).)*?","slash"!==u&&"bos"!==u||!0===this.options.dot||(l="(?!\\.)"+l),"slash"===s.type&&"slash"===o.type&&"text"!==a.type&&("text"!==c.type&&"star"!==c.type||(e.addQmark=!0)),this.options.capture&&(l="("+l+")"),this.emit(l,e)})).set("star",(function(e,t,i){var s=t[i-2]||{},a=this.prev(),o=this.next(),c=a.type;function u(e){return"bos"===e.type||"slash"===e.type}if(""===this.output&&!0!==this.options.contains&&(this.output="(?!["+r()+"])"),"bracket"===c&&!1===this.options.bash){var l=o&&"bracket"===o.type?n():"*?";if(!a.nodes||"posix"!==a.nodes[1].type)return this.emit(l,e)}var h=this.dotfiles||"text"===c||"escape"===c?"":this.options.dot?"(?!(?:^|["+r()+"])\\.{1,2}(?:$|["+r()+"]))":"(?!\\.)";u(a)||u(s)&&"not"===c?h+="(?!\\.)"!==h?"(?!(\\.{2}|\\.["+r()+"]))(?=.)":"(?=.)":"(?!\\.)"===h&&(h=""),"not"===a.type&&"bos"===s.type&&!0===this.options.dot&&(this.output="(?!\\.)"+this.output);var f=h+n();return this.options.capture&&(f="("+f+")"),this.emit(f,e)})).set("text",(function(e){return this.emit(e.val,e)})).set("eos",(function(e){var t=this.prev(),n=e.val;return this.output="(?:\\.["+r()+"](?=.))?"+this.output,this.state.metachar&&"qmark"!==t.type&&"slash"!==t.type&&(n+=this.options.contains?"["+r()+"]?":"(?:["+r()+"]|$)"),this.emit(n,e)})),t&&"function"==typeof t.compilers&&t.compilers(e.compiler)}},9876:(e,t,r)=>{"use strict";var n,i=r(2912),s=r(3982),a="[\\[!*+?$^\"'.\\\\/]+",o=function(e){if(n)return n;var t={contains:!0,strictClose:!1},r=i.create(e,t),a=s("^(?:[*]\\((?=.)|"+r+")",t);return n=a}(a);e.exports=function(e,t){var r=e.parser,n=r.options;r.state={slashes:0,paths:[]},r.ast.state=r.state,r.capture("prefix",(function(){this.parsed||this.match(/^\.[\\/]/)&&(this.state.strictOpen=!!this.options.strictOpen,this.state.addPrefix=!0)})).capture("escape",(function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^(?:\\(.)|([$^]))/);if(t)return e({type:"escape",val:t[2]||t[1]})}})).capture("quoted",(function(){var e=this.position(),t=this.match(/^["']/);if(t){var r=t[0];if(-1===this.input.indexOf(r))return e({type:"escape",val:r});var n=function(e,t){var r=e.charAt(0),n={len:1,val:"",esc:""},i=0;function s(){"\\"!==r&&(n.esc+="\\"+r,n.val+=r),r=e.charAt(++i),n.len++,"\\"===r&&(s(),s())}for(;r&&r!==t;)s();return n}(this.input,r);return this.consume(n.len),e({type:"quoted",val:n.esc})}})).capture("not",(function(){var e=this.parsed,t=this.position(),r=this.match(this.notRegex||/^!+/);if(r){var n=r[0],i=n.length%2==1;return""!==e||i||(n=""),""===e&&i&&!0!==this.options.nonegate&&(this.bos.val="(?!^(?:",this.append=")$).*",n=""),t({type:"not",val:n})}})).capture("dot",(function(){var e=this.parsed,t=this.position(),r=this.match(/^\.+/);if(r){var n=r[0];return this.state.dot="."===n&&(""===e||"/"===e.slice(-1)),t({type:"dot",dotfiles:this.state.dot,val:n})}})).capture("plus",/^\+(?!\()/).capture("qmark",(function(){var e=this.parsed,t=this.position(),r=this.match(/^\?+(?!\()/);if(r)return this.state.metachar=!0,this.state.qmark=!0,t({type:"qmark",parsed:e,val:r[0]})})).capture("globstar",(function(){var e=this.parsed,t=this.position();if(this.match(/^\*{2}(?![*(])(?=[,)/]|$)/)){var r=!0!==n.noglobstar?"globstar":"star",i=t({type:r,parsed:e});for(this.state.metachar=!0;"/**/"===this.input.slice(0,4);)this.input=this.input.slice(3);return i.isInside={brace:this.isInside("brace"),paren:this.isInside("paren")},"globstar"===r?(this.state.globstar=!0,i.val="**"):(this.state.star=!0,i.val="*"),i}})).capture("star",(function(){var e=this.position(),t=this.match(/^(?:\*(?![*(])|[*]{3,}(?!\()|[*]{2}(?![(/]|$)|\*(?=\*\())/);if(t)return this.state.metachar=!0,this.state.star=!0,e({type:"star",val:t[0]})})).capture("slash",(function(){var e=this.position(),t=this.match(/^\//);if(t)return this.state.slashes++,e({type:"slash",val:t[0]})})).capture("backslash",(function(){var e=this.position(),t=this.match(/^\\(?![*+?(){}[\]'"])/);if(t){var r=t[0];return this.isInside("bracket")?r="\\":r.length>1&&(r="\\\\"),e({type:"backslash",val:r})}})).capture("square",(function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^\[([^!^\\])\]/);if(t)return e({type:"square",val:t[1]})}})).capture("bracket",(function(){var e=this.position(),t=this.match(/^(?:\[([!^]?)([^\]]+|\]-)(\]|[^*+?]+)|\[)/);if(t){var r=t[0],n=t[1]?"^":"",i=(t[2]||"").replace(/\\\\+/,"\\\\"),s=t[3]||"";t[2]&&i.length<t[2].length&&(r=r.replace(/\\\\+/,"\\\\"));var a=this.input.slice(0,2);if(""===i&&"\\]"===a){i+=a,this.consume(2);for(var o,c=this.input,u=-1;o=c[++u];){if(this.consume(1),"]"===o){s=o;break}i+=o}}return e({type:"bracket",val:r,escaped:"]"!==s,negated:n,inner:i,close:s})}})).capture("text",(function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(o);if(t&&t[0])return e({type:"text",val:t[0]})}})),t&&"function"==typeof t.parsers&&t.parsers(e.parser)},e.exports.not=a},9629:(e,t,r)=>{"use strict";var n=e.exports,i=r(7975),s=r(4253)(),a=r(1546);n.define=r(7824),n.diff=r(3244),n.extend=r(1432),n.pick=r(5),n.typeOf=r(4908),n.unique=r(7294),n.isEmptyString=function(e){return""===String(e)||"./"===String(e)},n.isWindows=function(){return"\\"===i.sep||!0===s},n.last=function(e,t){return e[e.length-(t||1)]},n.instantiate=function(e,t){var r;return r="object"===n.typeOf(e)&&e.snapdragon?e.snapdragon:"object"===n.typeOf(t)&&t.snapdragon?t.snapdragon:new a(t),n.define(r,"parse",(function(e,t){var r=a.prototype.parse.call(this,e,t);r.input=e;var i=this.parser.stack.pop();if(i&&!0!==this.options.strictErrors){var s=i.nodes[0],o=i.nodes[1];if("bracket"===i.type)"["===o.val.charAt(0)&&(o.val="\\"+o.val);else{s.val="\\"+s.val;var c=s.parent.nodes[1];"star"===c.type&&(c.loose=!0)}}return n.define(r,"parser",this.parser),r})),r},n.createKey=function(e,t){if(void 0===t)return e;var r=e;for(var n in t)t.hasOwnProperty(n)&&(r+=";"+n+"="+String(t[n]));return r},n.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},n.isString=function(e){return"string"==typeof e},n.isRegex=function(e){return"regexp"===n.typeOf(e)},n.isObject=function(e){return"object"===n.typeOf(e)},n.escapeRegex=function(e){return e.replace(/[-[\]{}()^$|*+?.\\/\s]/g,"\\$&")},n.combineDupes=function(e,t){var r=(t=(t=n.arrayify(t).join("|").split("|")).map((function(e){return e.replace(/\\?([+*\\/])/g,"\\$1")}))).join("|"),i=new RegExp("("+r+")(?=\\1)","g");return e.replace(i,"")},n.hasSpecialChars=function(e){return/(?:(?:(^|\/)[!.])|[*?+()|[\]{}]|[+@]\()/.test(e)},n.toPosixPath=function(e){return e.replace(/\\+/g,"/")},n.unescape=function(e){return n.toPosixPath(e.replace(/\\(?=[*+?!.])/g,""))},n.stripDrive=function(e){return n.isWindows()?e.replace(/^[a-z]:[\\/]+?/i,"/"):e},n.stripPrefix=function(e){return"."!==e.charAt(0)||"/"!==e.charAt(1)&&"\\"!==e.charAt(1)?e:e.slice(2)},n.isSimpleChar=function(e){return""===e.trim()||"."===e},n.isSlash=function(e){return"/"===e||"\\/"===e||"\\"===e||"\\\\"===e},n.matchPath=function(e,t){return t&&t.contains?n.containsPattern(e,t):n.equalsPattern(e,t)},n._equals=function(e,t,r){return r===e||r===t},n._contains=function(e,t,r){return-1!==e.indexOf(r)||-1!==t.indexOf(r)},n.equalsPattern=function(e,t){var r=n.unixify(t);return t=t||{},function(i){var s=n._equals(i,r(i),e);if(!0===s||!0!==t.nocase)return s;var a=i.toLowerCase();return n._equals(a,r(a),e)}},n.containsPattern=function(e,t){var r=n.unixify(t);return t=t||{},function(i){var s=n._contains(i,r(i),e);if(!0===s||!0!==t.nocase)return s;var a=i.toLowerCase();return n._contains(a,r(a),e)}},n.matchBasename=function(e){return function(t){return e.test(t)||e.test(i.basename(t))}},n.identity=function(e){return e},n.value=function(e,t,r){return r&&!1===r.unixify?e:r&&"function"==typeof r.unixify?r.unixify(e):t(e)},n.unixify=function(e){var t=e||{};return function(e){return!1!==t.stripPrefix&&(e=n.stripPrefix(e)),!0===t.unescape&&(e=n.unescape(e)),(!0===t.unixify||n.isWindows())&&(e=n.toPosixPath(e)),e}}},1516:(e,t,r)=>{"use strict";var n=r(4908),i=r(7462),s=r(7824);function a(e){return"object"===n(e)||"function"==typeof e}function o(e,t){var r=(t=c(t)).length;if(a(e)){for(var n in e)if(t.indexOf(n)>-1)return!0;return o(u(e),t)}if(Array.isArray(e)){for(var i=e;r--;)if(i.indexOf(t[r])>-1)return!0;return!1}throw new TypeError("expected an array or object.")}function c(e){return e?Array.isArray(e)?e:[e]:[]}function u(e){return function(e){return a(e)&&void 0!==e.constructor}(e)?Object.getOwnPropertyNames(e):[]}e.exports=function(e,t,r){if(!a(e))throw new TypeError("expected receiving object to be an object.");if(!a(t))throw new TypeError("expected providing object to be an object.");var n=u(t),l=Object.keys(t),h=n.length;for(r=c(r);h--;){var f=n[h];o(l,f)?s(e,f,t[f]):f in e||o(r,f)||i(e,t,f)}},e.exports.has=o},3188:(e,t,r)=>{"use strict";var n=r(3798);e.exports=function(e,t,r,i){if(!n(e)&&"function"!=typeof e)throw new Error("object-visit expects `thisArg` to be an object.");if("string"!=typeof t)throw new Error("object-visit expects `method` name to be a string");if("function"!=typeof e[t])return e;var s=[].slice.call(arguments,3);for(var a in r=r||{}){var o=[a,r[a]].concat(s);e[t].apply(e,o)}return e}},5:(e,t,r)=>{"use strict";var n=r(3798);e.exports=function(e,t){if(!n(e)&&"function"!=typeof e)return{};var r={};if("string"==typeof t)return t in e&&(r[t]=e[t]),r;for(var i=t.length,s=-1;++s<i;){var a=t[s];a in e&&(r[a]=e[a])}return r}},1137:(e,t,r)=>{"use strict";var n=r(7568);t.certificate=r(6413);var i=n.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var s=n.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=s;var a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),o=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));t.PublicKey=o;var c=n.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=c;var u=n.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=u;var l=n.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=n.define("DSAparam",(function(){this.int()}));var h=n.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})})),f=n.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=f,t.signature=n.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},6413:(e,t,r)=>{"use strict";var n=r(7568),i=n.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),s=n.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=n.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),o=n.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),c=n.define("RelativeDistinguishedName",(function(){this.setof(s)})),u=n.define("RDNSequence",(function(){this.seqof(c)})),l=n.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),h=n.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),f=n.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),d=n.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())})),p=n.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},4101:(e,t,r)=>{"use strict";var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=r(8078),o=r(1241),c=r(2861).Buffer;e.exports=function(e,t){var r,u=e.toString(),l=u.match(n);if(l){var h="aes"+l[1],f=c.from(l[2],"hex"),d=c.from(l[3].replace(/[\r\n]/g,""),"base64"),p=a(t,f.slice(0,8),parseInt(l[1],10)).key,g=[],m=o.createDecipheriv(h,p,f);g.push(m.update(d)),g.push(m.final()),r=c.concat(g)}else{var y=u.match(s);r=c.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:r}}},8170:(e,t,r)=>{"use strict";var n=r(1137),i=r(5579),s=r(4101),a=r(1241),o=r(8396),c=r(2861).Buffer;function u(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var r,u,l=s(e,t),h=l.tag,f=l.data;switch(h){case"CERTIFICATE":u=n.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(f,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":f=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=i[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,h=parseInt(s.split("-")[1],10)/8,f=o.pbkdf2Sync(t,r,n,h,"sha1"),d=a.createDecipheriv(s,f,u),p=[];return p.push(d.update(l)),p.push(d.final()),c.concat(p)}(f=n.EncryptedPrivateKey.decode(f,"der"),t);case"PRIVATE KEY":switch(r=(u=n.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=n.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}u.signature=n.signature,e.exports=u},4049:e=>{e.exports=function(e){if("string"!=typeof e)throw new TypeError("expected a string.");return 1===(e=e.replace(/([A-Z])/g," $1")).length?e.toUpperCase():(e=(e=e.replace(/^[\W_]+|[\W_]+$/g,"").toLowerCase()).charAt(0).toUpperCase()+e.slice(1)).replace(/[\W_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}},7975:(e,t,r)=>{"use strict";var n=r(5606);function i(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function s(e,t){for(var r,n="",i=0,s=-1,a=0,o=0;o<=e.length;++o){if(o<e.length)r=e.charCodeAt(o);else{if(47===r)break;r=47}if(47===r){if(s===o-1||1===a);else if(s!==o-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",i=0):i=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),s=o,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,s=o,a=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),i=o-s-1;s=o,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var a={resolve:function(){for(var e,t="",r=!1,a=arguments.length-1;a>=-1&&!r;a--){var o;a>=0?o=arguments[a]:(void 0===e&&(e=n.cwd()),o=e),i(o),0!==o.length&&(t=o+"/"+t,r=47===o.charCodeAt(0))}return t=s(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=s(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];i(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":a.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t)return"";if((e=a.resolve(e))===(t=a.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,s=n-r,o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var c=t.length-o,u=s<c?s:c,l=-1,h=0;h<=u;++h){if(h===u){if(c>u){if(47===t.charCodeAt(o+h))return t.slice(o+h+1);if(0===h)return t.slice(o+h)}else s>u&&(47===e.charCodeAt(r+h)?l=h:0===h&&(l=0));break}var f=e.charCodeAt(r+h);if(f!==t.charCodeAt(o+h))break;47===f&&(l=h)}var d="";for(h=r+l+1;h<=n;++h)h!==n&&47!==e.charCodeAt(h)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(o+l):(o+=l,47===t.charCodeAt(o)&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,s=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!s){n=a;break}}else s=!1;return-1===n?r?"/":".":r&&1===n?"//":e.slice(0,n)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');i(e);var r,n=0,s=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!a){n=r+1;break}}else-1===c&&(a=!1,c=r+1),o>=0&&(u===t.charCodeAt(o)?-1==--o&&(s=r):(o=-1,s=c))}return n===s?s=c:-1===s&&(s=e.length),e.slice(n,s)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){n=r+1;break}}else-1===s&&(a=!1,s=r+1);return-1===s?"":e.slice(n,s)},extname:function(e){i(e);for(var t=-1,r=0,n=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var c=e.charCodeAt(o);if(47!==c)-1===n&&(s=!1,n=o+1),46===c?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!s){r=o+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){i(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,n=e.charCodeAt(0),s=47===n;s?(t.root="/",r=1):r=0;for(var a=-1,o=0,c=-1,u=!0,l=e.length-1,h=0;l>=r;--l)if(47!==(n=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===n?-1===a?a=l:1!==h&&(h=1):-1!==a&&(h=-1);else if(!u){o=l+1;break}return-1===a||-1===c||0===h||1===h&&a===c-1&&a===o+1?-1!==c&&(t.base=t.name=0===o&&s?e.slice(1,c):e.slice(o,c)):(0===o&&s?(t.name=e.slice(1,a),t.base=e.slice(1,c)):(t.name=e.slice(o,a),t.base=e.slice(o,c)),t.ext=e.slice(a,c)),o>0?t.dir=e.slice(0,o-1):s&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,e.exports=a},8396:(e,t,r)=>{t.pbkdf2=r(3832),t.pbkdf2Sync=r(1352)},3832:(e,t,r)=>{var n,i,s=r(2861).Buffer,a=r(4196),o=r(2455),c=r(1352),u=r(3382),l=r.g.crypto&&r.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(e,t,r,n,i){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)})).then((function(e){return s.from(e)}))}e.exports=function(e,t,i,g,m,y){"function"==typeof m&&(y=m,m=void 0);var b=h[(m=m||"sha1").toLowerCase()];if(b&&"function"==typeof r.g.Promise){if(a(i,g),e=u(e,o,"Password"),t=u(t,o,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){d()((function(){t(null,e)}))}),(function(e){d()((function(){t(e)}))}))}(function(e){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var t=p(n=n||s.alloc(8),n,10,128,e).then((function(){return!0})).catch((function(){return!1}));return f[e]=t,t}(b).then((function(r){return r?p(e,t,i,g,b):c(e,t,i,g,m)})),y)}else d()((function(){var r;try{r=c(e,t,i,g,m)}catch(e){return y(e)}y(null,r)}))}},2455:(e,t,r)=>{var n,i=r(5606);n=r.g.process&&r.g.process.browser?"utf-8":r.g.process&&r.g.process.version?parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=n},4196:e=>{var t=Math.pow(2,30)-1;e.exports=function(e,r){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(r<0||r>t||r!=r)throw new TypeError("Bad key length")}},1352:(e,t,r)=>{var n=r(320),i=r(6011),s=r(2802),a=r(2861).Buffer,o=r(4196),c=r(2455),u=r(3382),l=a.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(e,t,r){var o=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?n:function(t){return s(e).update(t).digest()}}(e),c="sha512"===e||"sha384"===e?128:64;t.length>c?t=o(t):t.length<c&&(t=a.concat([t,l],c));for(var u=a.allocUnsafe(c+h[e]),f=a.allocUnsafe(c+h[e]),d=0;d<c;d++)u[d]=54^t[d],f[d]=92^t[d];var p=a.allocUnsafe(c+r+4);u.copy(p,0,0,c),this.ipad1=p,this.ipad2=u,this.opad=f,this.alg=e,this.blocksize=c,this.hash=o,this.size=h[e]}f.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,i){o(r,n);var s=new f(i=i||"sha1",e=u(e,c,"Password"),(t=u(t,c,"Salt")).length),l=a.allocUnsafe(n),d=a.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var p=0,g=h[i],m=Math.ceil(n/g),y=1;y<=m;y++){d.writeUInt32BE(y,t.length);for(var b=s.run(d,s.ipad1),v=b,w=1;w<r;w++){v=s.run(v,s.ipad2);for(var S=0;S<g;S++)b[S]^=v[S]}b.copy(l,p),p+=g}return l}},3382:(e,t,r)=>{var n=r(2861).Buffer;e.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},6578:e=>{"use strict";e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},5606:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var o,c=[],u=!1,l=-1;function h(){u&&o&&(u=!1,o.length?c=o.concat(c):l=-1,c.length&&f())}function f(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(o=c,c=[];++l<t;)o&&o[l].run();l=-1,t=c.length}o=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||u||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},9723:function(e){var t;t=function(){var e="function"==typeof Object.defineProperty?function(e,t,r){return Object.defineProperty(e,t,r),e}:function(e,t,r){return e[t]=r.value,e};return function(t,r,n,i){var s;if(i=function(e,t){var r="object"==typeof t,n=!r&&"string"==typeof t,i=function(e){return r?!!t[e]:!!n&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(n,i),"object"==typeof r){for(s in r)Object.hasOwnProperty.call(r,s)&&(i.value=r[s],e(t,s,i));return t}return e(t,r,i)}},e.exports?e.exports=t():this.prr=t()},7168:(e,t,r)=>{t.publicEncrypt=r(8902),t.privateDecrypt=r(7362),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},8206:(e,t,r)=>{var n=r(7108),i=r(2861).Buffer;function s(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,a=i.alloc(0),o=0;a.length<t;)r=s(o++),a=i.concat([a,n("sha1").update(e).update(r).digest()]);return a.slice(0,t)}},7362:(e,t,r)=>{var n=r(8170),i=r(8206),s=r(2061),a=r(9404),o=r(7332),c=r(7108),u=r(9247),l=r(2861).Buffer;e.exports=function(e,t,r){var h;h=e.padding?e.padding:r?1:4;var f,d=n(e),p=d.modulus.byteLength();if(t.length>p||new a(t).cmp(d.modulus)>=0)throw new Error("decryption error");f=r?u(new a(t),d):o(t,d);var g=l.alloc(p-f.length);if(f=l.concat([g,f],p),4===h)return function(e,t){var r=e.modulus.byteLength(),n=c("sha1").update(l.alloc(0)).digest(),a=n.length;if(0!==t[0])throw new Error("decryption error");var o=t.slice(1,a+1),u=t.slice(a+1),h=s(o,i(u,a)),f=s(u,i(h,r-a-1));if(function(e,t){e=l.from(e),t=l.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}(n,f.slice(0,a)))throw new Error("decryption error");for(var d=a;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===h)return function(e,t,r){for(var n=t.slice(0,2),i=2,s=0;0!==t[i++];)if(i>=t.length){s++;break}var a=t.slice(2,i-1);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&s++,a.length<8&&s++,s)throw new Error("decryption error");return t.slice(i)}(0,f,r);if(3===h)return f;throw new Error("unknown padding")}},8902:(e,t,r)=>{var n=r(8170),i=r(3209),s=r(7108),a=r(8206),o=r(2061),c=r(9404),u=r(9247),l=r(7332),h=r(2861).Buffer;e.exports=function(e,t,r){var f;f=e.padding?e.padding:r?1:4;var d,p=n(e);if(4===f)d=function(e,t){var r=e.modulus.byteLength(),n=t.length,u=s("sha1").update(h.alloc(0)).digest(),l=u.length,f=2*l;if(n>r-f-2)throw new Error("message too long");var d=h.alloc(r-n-f-2),p=r-l-1,g=i(l),m=o(h.concat([u,d,h.alloc(1,1),t],p),a(g,p)),y=o(g,a(m,l));return new c(h.concat([h.alloc(1),y,m],r))}(p,t);else if(1===f)d=function(e,t,r){var n,s=t.length,a=e.modulus.byteLength();if(s>a-11)throw new Error("message too long");return n=r?h.alloc(a-s-3,255):function(e){for(var t,r=h.allocUnsafe(e),n=0,s=i(2*e),a=0;n<e;)a===s.length&&(s=i(2*e),a=0),(t=s[a++])&&(r[n++]=t);return r}(a-s-3),new c(h.concat([h.from([0,r?1:2]),n,h.alloc(1),t],a))}(p,t,r);else{if(3!==f)throw new Error("unknown padding");if((d=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?l(d,p):u(d,p)}},9247:(e,t,r)=>{var n=r(9404),i=r(2861).Buffer;e.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},2061:e=>{e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},3209:(e,t,r)=>{"use strict";var n=r(5606),i=65536,s=r(2861).Buffer,a=r.g.crypto||r.g.msCrypto;a&&a.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=s.allocUnsafe(e);if(e>0)if(e>i)for(var o=0;o<e;o+=i)a.getRandomValues(r.slice(o,o+i));else a.getRandomValues(r);return"function"==typeof t?n.nextTick((function(){t(null,r)})):r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},6983:(e,t,r)=>{"use strict";var n=r(5606);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=r(2861),a=r(3209),o=s.Buffer,c=s.kMaxLength,u=r.g.crypto||r.g.msCrypto,l=Math.pow(2,32)-1;function h(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function f(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function d(e,t,r,i){if(n.browser){var s=e.buffer,o=new Uint8Array(s,t,r);return u.getRandomValues(o),i?void n.nextTick((function(){i(null,e)})):e}if(!i)return a(r).copy(e,t),e;a(r,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}u&&u.getRandomValues||!n.browser?(t.randomFill=function(e,t,n,i){if(!(o.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return h(t,e.length),f(n,t,e.length),d(e,t,n,i)},t.randomFillSync=function(e,t,n){if(void 0===t&&(t=0),!(o.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(t,e.length),void 0===n&&(n=e.length-t),f(n,t,e.length),d(e,t,n)}):(t.randomFill=i,t.randomFillSync=i)},5382:(e,t,r)=>{"use strict";e.exports=r(5506).Duplex},3600:(e,t,r)=>{"use strict";e.exports=r(5506).PassThrough},5412:(e,t,r)=>{"use strict";e.exports=r(5506).Readable},4610:(e,t,r)=>{"use strict";e.exports=r(5506).Transform},6708:(e,t,r)=>{"use strict";e.exports=r(5506).Writable},4147:(e,t,r)=>{"use strict";const{SymbolDispose:n}=r(4134),{AbortError:i,codes:s}=r(6371),{isNodeStream:a,isWebStream:o,kControllerErrorFunction:c}=r(6115),u=r(6238),{ERR_INVALID_ARG_TYPE:l}=s;let h;e.exports.addAbortSignal=function(t,r){if((e=>{if("object"!=typeof e||!("aborted"in e))throw new l("signal","AbortSignal",e)})(t),!a(r)&&!o(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const s=a(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[c](new i(void 0,{cause:e.reason}))};if(e.aborted)s();else{h=h||r(7760).addAbortListener;const i=h(e,s);u(t,i[n])}return t}},345:(e,t,r)=>{"use strict";const{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:s,Uint8Array:a}=r(4134),{Buffer:o}=r(8287),{inspect:c}=r(7760);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return o.alloc(0);const t=o.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)s(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{const s=r.data;if(!(e>s.length)){e===s.length?(t+=s,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(s,0,e),this.head=r,r.data=n(s,e));break}t+=s,e-=s.length,++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){const t=o.allocUnsafe(e),r=e;let n=this.head,i=0;do{const o=n.data;if(!(e>o.length)){e===o.length?(s(t,o,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(s(t,new a(o.buffer,o.byteOffset,e),r-e),this.head=n,n.data=o.slice(e));break}s(t,o,r-e),e-=o.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},7830:(e,t,r)=>{"use strict";const{pipeline:n}=r(7758),i=r(3370),{destroyer:s}=r(5896),{isNodeStream:a,isReadable:o,isWritable:c,isWebStream:u,isTransformStream:l,isWritableStream:h,isReadableStream:f}=r(6115),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=r(6371),m=r(6238);e.exports=function(...e){if(0===e.length)throw new g("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let r=0;r<e.length;++r)if(a(e[r])||u(e[r])){if(r<e.length-1&&!(o(e[r])||f(e[r])||l(e[r])))throw new p(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(c(e[r])||h(e[r])||l(e[r])))throw new p(`streams[${r}]`,t[r],"must be writable")}let r,y,b,v,w;const S=e[0],E=n(e,(function(e){const t=v;v=null,t?t(e):e?w.destroy(e):I||x||w.destroy()})),x=!!(c(S)||h(S)||l(S)),I=!!(o(E)||f(E)||l(E));if(w=new i({writableObjectMode:!(null==S||!S.writableObjectMode),readableObjectMode:!(null==E||!E.readableObjectMode),writable:x,readable:I}),x){if(a(S))w._write=function(e,t,n){S.write(e,t)?n():r=n},w._final=function(e){S.end(),y=e},S.on("drain",(function(){if(r){const e=r;r=null,e()}}));else if(u(S)){const e=(l(S)?S.writable:S).getWriter();w._write=async function(t,r,n){try{await e.ready,e.write(t).catch((()=>{})),n()}catch(e){n(e)}},w._final=async function(t){try{await e.ready,e.close().catch((()=>{})),y=t}catch(e){t(e)}}}const e=l(E)?E.readable:E;m(e,(()=>{if(y){const e=y;y=null,e()}}))}if(I)if(a(E))E.on("readable",(function(){if(b){const e=b;b=null,e()}})),E.on("end",(function(){w.push(null)})),w._read=function(){for(;;){const e=E.read();if(null===e)return void(b=w._read);if(!w.push(e))return}};else if(u(E)){const e=(l(E)?E.readable:E).getReader();w._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!w.push(t))return;if(r)return void w.push(null)}catch{return}}}return w._destroy=function(e,t){e||null===v||(e=new d),b=null,r=null,y=null,null===v?t(e):(v=t,a(E)&&s(E,e))},w}},5896:(e,t,r)=>{"use strict";const n=r(5606),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:s},AbortError:a}=r(6371),{Symbol:o}=r(4134),{kIsDestroyed:c,isDestroyed:u,isFinished:l,isServerRequest:h}=r(6115),f=o("kDestroy"),d=o("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function g(e,t,r){let i=!1;function s(t){if(i)return;i=!0;const s=e._readableState,a=e._writableState;p(t,a,s),a&&(a.closed=!0),s&&(s.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(m,e,t):n.nextTick(y,e)}try{e._destroy(t||null,s)}catch(t){s(t)}}function m(e,t){b(e,t),y(e)}function y(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function b(e,t){const r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function v(e,t,r){const i=e._readableState,s=e._writableState;if(null!=s&&s.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=s&&s.autoDestroy?e.destroy(t):t&&(t.stack,s&&!s.errored&&(s.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(b,e,t):b(e,t))}function w(e){let t=!1;function r(r){if(t)return void v(e,null!=r?r:new s);t=!0;const i=e._readableState,a=e._writableState,o=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),o.destroyed?e.emit(f,r):r?v(e,r,!0):n.nextTick(S,e)}try{e._construct((e=>{n.nextTick(r,e)}))}catch(e){n.nextTick(r,e)}}function S(e){e.emit(d)}function E(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function x(e){e.emit("close")}function I(e,t){e.emit("error",t),n.nextTick(x,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(d,t),e.listenerCount(d)>1||n.nextTick(w,e)},destroyer:function(e,t){e&&!u(e)&&(t||l(e)||(t=new a),h(e)?(e.socket=null,e.destroy(t)):E(e)?e.abort():E(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(I,e,t):n.nextTick(x,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,s=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),s.constructed?g(this,e,t):this.once(f,(function(r){g(this,i(r,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:v}},3370:(e,t,r)=>{"use strict";const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:s,ObjectSetPrototypeOf:a}=r(4134);e.exports=u;const o=r(7576),c=r(8584);a(u.prototype,o.prototype),a(u,o);{const e=s(c.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=c.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let l,h;function f(){return void 0===l&&(l={}),l}n(u.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},u.from=function(e){return h||(h=r(6706)),h(e,"body")}},6706:(e,t,r)=>{const n=r(5606),i=r(8287),{isReadable:s,isWritable:a,isIterable:o,isNodeStream:c,isReadableNodeStream:u,isWritableNodeStream:l,isDuplexNodeStream:h,isReadableStream:f,isWritableStream:d}=r(6115),p=r(6238),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:y}}=r(6371),{destroyer:b}=r(5896),v=r(3370),w=r(7576),S=r(8584),{createDeferredPromise:E}=r(7760),x=r(6532),I=globalThis.Blob||i.Blob,_=void 0!==I?function(e){return e instanceof I}:function(e){return!1},T=globalThis.AbortController||r(5568).AbortController,{FunctionPrototypeCall:k}=r(4134);class A extends v{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function C(e){const t=e.readable&&"function"!=typeof e.readable.read?w.wrap(e.readable):e.readable,r=e.writable;let n,i,o,c,u,l=!!s(t),h=!!a(r);function f(e){const t=c;c=null,t?t(e):e&&u.destroy(e)}return u=new A({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:l,writable:h}),h&&(p(r,(e=>{h=!1,e&&b(t,e),f(e)})),u._write=function(e,t,i){r.write(e,t)?i():n=i},u._final=function(e){r.end(),i=e},r.on("drain",(function(){if(n){const e=n;n=null,e()}})),r.on("finish",(function(){if(i){const e=i;i=null,e()}}))),l&&(p(t,(e=>{l=!1,e&&b(t,e),f(e)})),t.on("readable",(function(){if(o){const e=o;o=null,e()}})),t.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const e=t.read();if(null===e)return void(o=u._read);if(!u.push(e))return}}),u._destroy=function(e,s){e||null===c||(e=new g),o=null,n=null,i=null,null===c?s(e):(c=s,b(r,e),b(t,e))},u}e.exports=function e(t,r){if(h(t))return t;if(u(t))return C({readable:t});if(l(t))return C({writable:t});if(c(t))return C({writable:!1,readable:!1});if(f(t))return C({readable:w.fromWeb(t)});if(d(t))return C({writable:S.fromWeb(t)});if("function"==typeof t){const{value:e,write:i,final:s,destroy:a}=function(e){let{promise:t,resolve:r}=E();const i=new T,s=i.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:o}=await e;if(n.nextTick(o),a)return;if(s.aborted)throw new g(void 0,{cause:s.reason});({promise:t,resolve:r}=E()),yield i}}(),{signal:s}),write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(o(e))return x(A,e,{objectMode:!0,write:i,final:s,destroy:a});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const r=k(c,e,(e=>{if(null!=e)throw new y("nully","body",e)}),(e=>{b(t,e)}));return t=new A({objectMode:!0,readable:!1,write:i,final(e){s((async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}}))},destroy:a})}throw new y("Iterable, AsyncIterable or AsyncFunction",r,e)}if(_(t))return e(t.arrayBuffer());if(o(t))return x(A,t,{objectMode:!0,writable:!1});if(f(null==t?void 0:t.readable)&&d(null==t?void 0:t.writable))return A.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return C({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?l(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const i=null==t?void 0:t.then;if("function"==typeof i){let e;return k(i,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{b(e,t)})),e=new A({objectMode:!0,writable:!1,read(){}})}throw new m(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},6238:(e,t,r)=>{"use strict";const n=r(5606),{AbortError:i,codes:s}=r(6371),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:o}=s,{kEmptyObject:c,once:u}=r(7760),{validateAbortSignal:l,validateFunction:h,validateObject:f,validateBoolean:d}=r(277),{Promise:p,PromisePrototypeThen:g,SymbolDispose:m}=r(4134),{isClosed:y,isReadable:b,isReadableNodeStream:v,isReadableStream:w,isReadableFinished:S,isReadableErrored:E,isWritable:x,isWritableNodeStream:I,isWritableStream:_,isWritableFinished:T,isWritableErrored:k,isNodeStream:A,willEmitClose:C,kIsClosedPromise:M}=r(6115);let R;const O=()=>{};function D(e,t,s){var d,p;if(2===arguments.length?(s=t,t=c):null==t?t=c:f(t,"options"),h(s,"callback"),l(t.signal,"options.signal"),s=u(s),w(e)||_(e))return function(e,t,s){let a=!1,o=O;if(t.signal)if(o=()=>{a=!0,s.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(o);else{R=R||r(7760).addAbortListener;const n=R(t.signal,o),i=s;s=u(((...t)=>{n[m](),i.apply(e,t)}))}const c=(...t)=>{a||n.nextTick((()=>s.apply(e,t)))};return g(e[M].promise,c,c),O}(e,t,s);if(!A(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const D=null!==(d=t.readable)&&void 0!==d?d:v(e),P=null!==(p=t.writable)&&void 0!==p?p:I(e),L=e._writableState,F=e._readableState,N=()=>{e.writable||j()};let B=C(e)&&v(e)===D&&I(e)===P,U=T(e,!1);const j=()=>{U=!0,e.destroyed&&(B=!1),(!B||e.readable&&!D)&&(D&&!V||s.call(e))};let V=S(e,!1);const G=()=>{V=!0,e.destroyed&&(B=!1),(!B||e.writable&&!P)&&(P&&!U||s.call(e))},z=t=>{s.call(e,t)};let W=y(e);const q=()=>{W=!0;const t=k(e)||E(e);return t&&"boolean"!=typeof t?s.call(e,t):D&&!V&&v(e,!0)&&!S(e,!1)?s.call(e,new o):!P||U||T(e,!1)?void s.call(e):s.call(e,new o)},$=()=>{W=!0;const t=k(e)||E(e);if(t&&"boolean"!=typeof t)return s.call(e,t);s.call(e)},H=()=>{e.req.on("finish",j)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?P&&!L&&(e.on("end",N),e.on("close",N)):(e.on("complete",j),B||e.on("abort",q),e.req?H():e.on("request",H)),B||"boolean"!=typeof e.aborted||e.on("aborted",q),e.on("end",G),e.on("finish",j),!1!==t.error&&e.on("error",z),e.on("close",q),W?n.nextTick(q):null!=L&&L.errorEmitted||null!=F&&F.errorEmitted?B||n.nextTick($):(D||B&&!b(e)||!U&&!1!==x(e))&&(P||B&&!x(e)||!V&&!1!==b(e))?F&&e.req&&e.aborted&&n.nextTick($):n.nextTick($);const X=()=>{s=O,e.removeListener("aborted",q),e.removeListener("complete",j),e.removeListener("abort",q),e.removeListener("request",H),e.req&&e.req.removeListener("finish",j),e.removeListener("end",N),e.removeListener("close",N),e.removeListener("finish",j),e.removeListener("end",G),e.removeListener("error",z),e.removeListener("close",q)};if(t.signal&&!W){const a=()=>{const r=s;X(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(a);else{R=R||r(7760).addAbortListener;const n=R(t.signal,a),i=s;s=u(((...t)=>{n[m](),i.apply(e,t)}))}}return X}e.exports=D,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(d(t.cleanup,"cleanup"),n=t.cleanup),new p(((r,i)=>{const s=D(e,t,(e=>{n&&s(),e?i(e):r()}))}))}},6532:(e,t,r)=>{"use strict";const n=r(5606),{PromisePrototypeThen:i,SymbolAsyncIterator:s,SymbolIterator:a}=r(4134),{Buffer:o}=r(8287),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:u}=r(6371).codes;e.exports=function(e,t,r){let l,h;if("string"==typeof t||t instanceof o)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[s])h=!0,l=t[s]();else{if(!t||!t[a])throw new c("iterable",["Iterable"],t);h=!1,l=t[a]()}const f=new e({objectMode:!0,highWaterMark:1,...r});let d=!1;return f._read=function(){d||(d=!0,async function(){for(;;){try{const{value:e,done:t}=h?await l.next():l.next();if(t)f.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw d=!1,new u;if(f.push(t))continue;d=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){i(async function(e){const t=null!=e,r="function"==typeof l.throw;if(t&&r){const{value:t,done:r}=await l.throw(e);if(await t,r)return}if("function"==typeof l.return){const{value:e}=await l.return();await e}}(e),(()=>n.nextTick(t,e)),(r=>n.nextTick(t,r||e)))},f}},4259:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(4134),{EventEmitter:s}=r(7007);function a(e){s.call(this,e)}function o(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,s.prototype),i(a,s),a.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",u));let a=!1;function c(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){h(),0===s.listenerCount(this,"error")&&this.emit("error",e)}function h(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return o(r,"error",l),o(e,"error",l),r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:o}},823:(e,t,r)=>{"use strict";const n=globalThis.AbortController||r(5568).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:s,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:o},AbortError:c}=r(6371),{validateAbortSignal:u,validateInteger:l,validateObject:h}=r(277),f=r(4134).Symbol("kWeak"),d=r(4134).Symbol("kResistStopPropagation"),{finished:p}=r(6238),g=r(7830),{addAbortSignalNoValidate:m}=r(4147),{isWritable:y,isNodeStream:b}=r(6115),{deprecate:v}=r(7760),{ArrayPrototypePush:w,Boolean:S,MathFloor:E,Number:x,NumberIsNaN:I,Promise:_,PromiseReject:T,PromiseResolve:k,PromisePrototypeThen:A,Symbol:C}=r(4134),M=C("kEmpty"),R=C("kEof");function O(e,t){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal");let n=1;null!=(null==t?void 0:t.concurrency)&&(n=E(t.concurrency));let i=n-1;return null!=(null==t?void 0:t.highWaterMark)&&(i=E(t.highWaterMark)),l(n,"options.concurrency",1),l(i,"options.highWaterMark",0),i+=n,async function*(){const s=r(7760).AbortSignalAny([null==t?void 0:t.signal].filter(S)),a=this,o=[],u={signal:s};let l,h,f=!1,d=0;function p(){f=!0,g()}function g(){d-=1,m()}function m(){h&&!f&&d<n&&o.length<i&&(h(),h=null)}!async function(){try{for await(let t of a){if(f)return;if(s.aborted)throw new c;try{if(t=e(t,u),t===M)continue;t=k(t)}catch(e){t=T(e)}d+=1,A(t,g,p),o.push(t),l&&(l(),l=null),!f&&(o.length>=i||d>=n)&&await new _((e=>{h=e}))}o.push(R)}catch(e){const t=T(e);A(t,g,p),o.push(t)}finally{f=!0,l&&(l(),l=null)}}();try{for(;;){for(;o.length>0;){const e=await o[0];if(e===R)return;if(s.aborted)throw new c;e!==M&&(yield e),o.shift(),m()}await new _((e=>{l=e}))}}finally{f=!0,h&&(h(),h=null)}}.call(this)}async function D(e,t=void 0){for await(const r of P.call(this,e,t))return!0;return!1}function P(e,t){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);return O.call(this,(async function(t,r){return await e(t,r)?t:M}),t)}class L extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function F(e){if(e=x(e),I(e))return 0;if(e<0)throw new o("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:v((function(e=void 0){return null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c({cause:e.signal.reason});yield[t++,n]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=F(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;e--<=0&&(yield r)}}.call(this)},filter:P,flatMap:function(e,t){const r=O.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:O,take:function(e,t=void 0){return null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=F(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;if(e-- >0&&(yield r),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),b(e)&&!y(e))throw new i("stream",e,"must be writable");const r=g(this,e);return null!=t&&t.signal&&m(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);return!await D.call(this,(async(...t)=>!await e(...t)),t)},forEach:async function(e,t){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);for await(const r of O.call(this,(async function(t,r){return await e(t,r),M}),t));},reduce:async function(e,t,r){var i;if("function"!=typeof e)throw new s("reducer",["Function","AsyncFunction"],e);null!=r&&h(r,"options"),null!=(null==r?void 0:r.signal)&&u(r.signal,"options.signal");let a=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){const e=new c(void 0,{cause:r.signal.reason});throw this.once("error",(()=>{})),await p(this.destroy(e)),e}const o=new n,l=o.signal;if(null!=r&&r.signal){const e={once:!0,[f]:this,[d]:!0};r.signal.addEventListener("abort",(()=>o.abort()),e)}let g=!1;try{for await(const n of this){var m;if(g=!0,null!=r&&null!==(m=r.signal)&&void 0!==m&&m.aborted)throw new c;a?t=await e(t,n,{signal:l}):(t=n,a=!0)}if(!g&&!a)throw new L}finally{o.abort()}return t},toArray:async function(e){null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c(void 0,{cause:e.signal.reason});w(t,n)}return t},some:D,find:async function(e,t){for await(const r of P.call(this,e,t))return r}}},6524:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n}=r(4134);e.exports=s;const i=r(7382);function s(e){if(!(this instanceof s))return new s(e);i.call(this,e)}n(s.prototype,i.prototype),n(s,i),s.prototype._transform=function(e,t,r){r(null,e)}},7758:(e,t,r)=>{const n=r(5606),{ArrayIsArray:i,Promise:s,SymbolAsyncIterator:a,SymbolDispose:o}=r(4134),c=r(6238),{once:u}=r(7760),l=r(5896),h=r(3370),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:b}=r(6371),{validateFunction:v,validateAbortSignal:w}=r(277),{isIterable:S,isReadable:E,isReadableNodeStream:x,isNodeStream:I,isTransformStream:_,isWebStream:T,isReadableStream:k,isReadableFinished:A}=r(6115),C=globalThis.AbortController||r(5568).AbortController;let M,R,O;function D(e,t,r){let n=!1;return e.on("close",(()=>{n=!0})),{destroy:t=>{n||(n=!0,l.destroyer(e,t||new m("pipe")))},cleanup:c(e,{readable:t,writable:r},(e=>{n=!e}))}}function P(e){if(S(e))return e;if(x(e))return async function*(e){R||(R=r(7576)),yield*R.prototype[a].call(e)}(e);throw new d("val",["Readable","Iterable","AsyncIterable"],e)}async function L(e,t,r,{end:n}){let i,a=null;const o=e=>{if(e&&(i=e),a){const e=a;a=null,e()}},u=()=>new s(((e,t)=>{i?t(i):a=()=>{i?t(i):e()}}));t.on("drain",o);const l=c(t,{readable:!1},o);try{t.writableNeedDrain&&await u();for await(const r of e)t.write(r)||await u();n&&(t.end(),await u()),r()}catch(e){r(i!==e?f(i,e):e)}finally{l(),t.off("drain",o)}}async function F(e,t,r,{end:n}){_(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch((()=>{}));await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function N(e,t,s){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new g("streams");const a=new C,c=a.signal,u=null==s?void 0:s.signal,l=[];function f(){j(new b)}let m,y,v;w(u,"options.signal"),O=O||r(7760).addAbortListener,u&&(m=O(u,f));const A=[];let R,N=0;function U(e){j(e,0==--N)}function j(e,r){var i;if(!e||y&&"ERR_STREAM_PREMATURE_CLOSE"!==y.code||(y=e),y||r){for(;A.length;)A.shift()(y);null===(i=m)||void 0===i||i[o](),a.abort(),r&&(y||l.forEach((e=>e())),n.nextTick(t,y,v))}}for(let W=0;W<e.length;W++){const q=e[W],$=W<e.length-1,H=W>0,X=$||!1!==(null==s?void 0:s.end),Y=W===e.length-1;if(I(q)){if(X){const{destroy:K,cleanup:Z}=D(q,$,H);A.push(K),E(q)&&Y&&l.push(Z)}function V(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&U(e)}q.on("error",V),E(q)&&Y&&l.push((()=>{q.removeListener("error",V)}))}if(0===W)if("function"==typeof q){if(R=q({signal:c}),!S(R))throw new p("Iterable, AsyncIterable or Stream","source",R)}else R=S(q)||x(q)||_(q)?q:h.from(q);else if("function"==typeof q){var G;if(R=_(R)?P(null===(G=R)||void 0===G?void 0:G.readable):P(R),R=q(R,{signal:c}),$){if(!S(R,!0))throw new p("AsyncIterable",`transform[${W-1}]`,R)}else{var z;M||(M=r(6524));const J=new M({objectMode:!0}),Q=null===(z=R)||void 0===z?void 0:z.then;if("function"==typeof Q)N++,Q.call(R,(e=>{v=e,null!=e&&J.write(e),X&&J.end(),n.nextTick(U)}),(e=>{J.destroy(e),n.nextTick(U,e)}));else if(S(R,!0))N++,L(R,J,U,{end:X});else{if(!k(R)&&!_(R))throw new p("AsyncIterable or Promise","destination",R);{const re=R.readable||R;N++,L(re,J,U,{end:X})}}R=J;const{destroy:ee,cleanup:te}=D(R,!1,!0);A.push(ee),Y&&l.push(te)}}else if(I(q)){if(x(R)){N+=2;const ne=B(R,q,U,{end:X});E(q)&&Y&&l.push(ne)}else if(_(R)||k(R)){const ie=R.readable||R;N++,L(ie,q,U,{end:X})}else{if(!S(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);N++,L(R,q,U,{end:X})}R=q}else if(T(q)){if(x(R))N++,F(P(R),q,U,{end:X});else if(k(R)||S(R))N++,F(R,q,U,{end:X});else{if(!_(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);N++,F(R.readable,q,U,{end:X})}R=q}else R=h.from(q)}return(null!=c&&c.aborted||null!=u&&u.aborted)&&n.nextTick(f),R}function B(e,t,r,{end:i}){let s=!1;if(t.on("close",(()=>{s||r(new y)})),e.pipe(t,{end:!1}),i){function a(){s=!0,t.end()}A(e)?n.nextTick(a):e.once("end",a)}else r();return c(e,{readable:!0,writable:!1},(t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)})),c(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:N,pipeline:function(...e){return N(e,u(function(e){return v(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},7576:(e,t,r)=>{"use strict";const n=r(5606),{ArrayPrototypeIndexOf:i,NumberIsInteger:s,NumberIsNaN:a,NumberParseInt:o,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:l,Promise:h,SafeSet:f,SymbolAsyncDispose:d,SymbolAsyncIterator:p,Symbol:g}=r(4134);e.exports=H,H.ReadableState=$;const{EventEmitter:m}=r(7007),{Stream:y,prependListener:b}=r(4259),{Buffer:v}=r(8287),{addAbortSignal:w}=r(4147),S=r(6238);let E=r(7760).debuglog("stream",(e=>{E=e}));const x=r(345),I=r(5896),{getHighWaterMark:_,getDefaultHighWaterMark:T}=r(5291),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:A,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_OUT_OF_RANGE:M,ERR_STREAM_PUSH_AFTER_EOF:R,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:O},AbortError:D}=r(6371),{validateObject:P}=r(277),L=g("kPaused"),{StringDecoder:F}=r(3141),N=r(6532);l(H.prototype,y.prototype),l(H,y);const B=()=>{},{errorOrDestroy:U}=I,j=1,V=16,G=32,z=2048,W=4096;function q(e){return{enumerable:!1,get(){return!!(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function $(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(3370)),this.state=z|W|V|G,e&&e.objectMode&&(this.state|=j),n&&e&&e.readableObjectMode&&(this.state|=j),this.highWaterMark=e?_(this,e,"readableHighWaterMark",n):T(!1),this.buffer=new x,this.length=0,this.pipes=[],this.flowing=null,this[L]=null,e&&!1===e.emitClose&&(this.state&=~z),e&&!1===e.autoDestroy&&(this.state&=~W),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new F(e.encoding),this.encoding=e.encoding)}function H(e){if(!(this instanceof H))return new H(e);const t=this instanceof r(3370);this._readableState=new $(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),y.call(this,e),I.construct(this,(()=>{this._readableState.needReadable&&Q(this,this._readableState)}))}function X(e,t,r,n){E("readableAddChunk",t);const i=e._readableState;let s;if(i.state&j||("string"==typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=v.from(t,r).toString(i.encoding):(t=v.from(t,r),r=""))):t instanceof v?r="":y._isUint8Array(t)?(t=y._uint8ArrayToBuffer(t),r=""):null!=t&&(s=new A("chunk",["string","Buffer","Uint8Array"],t))),s)U(e,s);else if(null===t)i.state&=-9,function(e,t){if(E("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?Z(e):(t.needReadable=!1,t.emittedReadable=!0,J(e))}}(e,i);else if(i.state&j||t&&t.length>0)if(n)if(4&i.state)U(e,new O);else{if(i.destroyed||i.errored)return!1;Y(e,i,t,!0)}else if(i.ended)U(e,new R);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?Y(e,i,t,!1):Q(e,i)):Y(e,i,t,!1)}else n||(i.state&=-9,Q(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function Y(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(65536&t.state?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),64&t.state&&Z(e)),Q(e,t)}function K(e,t){return e<=0||0===t.length&&t.ended?0:t.state&j?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function Z(e){const t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(J,e))}function J(e){const t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ie(e)}function Q(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(ee,e,t))}function ee(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function te(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[L]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function re(e){E("readable nexttick read 0"),e.read(0)}function ne(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ie(e),t.flowing&&!t.reading&&e.read(0)}function ie(e){const t=e._readableState;for(E("flow",t.flowing);t.flowing&&null!==e.read(););}function se(e,t){"function"!=typeof e.read&&(e=H.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=B;function i(t){this===e?(n(),n=B):n=t}e.on("readable",i);const s=S(e,{writable:!1},(e=>{r=e?k(r,e):null,n(),n=B}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new h(i)}}}catch(e){throw r=k(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",i),s()):I.destroyer(e,null)}}(e,t);return r.stream=e,r}function ae(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function oe(e){const t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(ce,t,e))}function ce(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(ue,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function ue(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let le;function he(){return void 0===le&&(le={}),le}c($.prototype,{objectMode:q(j),ended:q(2),endEmitted:q(4),reading:q(8),constructed:q(V),sync:q(G),needReadable:q(64),emittedReadable:q(128),readableListening:q(256),resumeScheduled:q(512),errorEmitted:q(1024),emitClose:q(z),autoDestroy:q(W),destroyed:q(8192),closed:q(16384),closeEmitted:q(32768),multiAwaitDrain:q(65536),readingMore:q(1<<17),dataEmitted:q(1<<18)}),H.prototype.destroy=I.destroy,H.prototype._undestroy=I.undestroy,H.prototype._destroy=function(e,t){t(e)},H.prototype[m.captureRejectionSymbol]=function(e){this.destroy(e)},H.prototype[d]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new D,this.destroy(e)),new h(((t,r)=>S(this,(n=>n&&n!==e?r(n):t(null)))))},H.prototype.push=function(e,t){return X(this,e,t,!1)},H.prototype.unshift=function(e,t){return X(this,e,t,!0)},H.prototype.isPaused=function(){const e=this._readableState;return!0===e[L]||!1===e.flowing},H.prototype.setEncoding=function(e){const t=new F(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},H.prototype.read=function(e){E("read",e),void 0===e?e=NaN:s(e)||(e=o(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new M("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return E("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?oe(this):Z(this),null;if(0===(e=K(e,t))&&t.ended)return 0===t.length&&oe(this),null;let n,i=!!(64&t.state);if(E("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,E("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,E("reading, ended or constructing",i);else if(i){E("do read"),t.state|=8|G,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(e){U(this,e)}t.state&=~G,t.reading||(e=K(r,t))}return n=e>0?ae(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&oe(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},H.prototype._read=function(e){throw new C("_read()")},H.prototype.pipe=function(e,t){const r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),E("pipe count=%d opts=%j",i.pipes.length,t);const s=t&&!1===t.end||e===n.stdout||e===n.stderr?g:a;function a(){E("onend"),e.end()}let o;i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",(function t(n,s){E("onunpipe"),n===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,E("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),o&&e.removeListener("drain",o),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",l),c=!0,o&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&o())}));let c=!1;function u(){c||(1===i.pipes.length&&i.pipes[0]===e?(E("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(E("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),o||(o=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(E("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(E("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",o))}function l(t){E("ondata");const r=e.write(t);E("dest.write",r),!1===r&&u()}function h(t){if(E("onerror",t),g(),e.removeListener("error",h),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?U(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",p),g()}function p(){E("onfinish"),e.removeListener("close",d),g()}function g(){E("unpipe"),r.unpipe(e)}return r.on("data",l),b(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),!0===e.writableNeedDrain?u():i.flowing||(E("pipe resume"),r.resume()),e},H.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=i(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},H.prototype.on=function(e,t){const r=y.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,E("on readable",i.length,i.reading),i.length?Z(this):i.reading||n.nextTick(re,this))),r},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(e,t){const r=y.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(te,this),r},H.prototype.off=H.prototype.removeListener,H.prototype.removeAllListeners=function(e){const t=y.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(te,this),t},H.prototype.resume=function(){const e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(ne,e,t))}(this,e)),e[L]=!1,this},H.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[L]=!0,this},H.prototype.wrap=function(e){let t=!1;e.on("data",(r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{U(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=u(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},H.prototype[p]=function(){return se(this)},H.prototype.iterator=function(e){return void 0!==e&&P(e,"options"),se(this,e)},c(H.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c($.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[L]},set(e){this[L]=!!e}}}),H._fromList=ae,H.from=function(e,t){return N(H,e,t)},H.fromWeb=function(e,t){return he().newStreamReadableFromReadableStream(e,t)},H.toWeb=function(e,t){return he().newReadableStreamFromStreamReadable(e,t)},H.wrap=function(e,t){var r,n;return new H({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){I.destroyer(e,t),r(t)}}).wrap(e)}},5291:(e,t,r)=>{"use strict";const{MathFloor:n,NumberIsInteger:i}=r(4134),{validateInteger:s}=r(277),{ERR_INVALID_ARG_VALUE:a}=r(6371).codes;let o=16384,c=16;function u(e){return e?c:o}e.exports={getHighWaterMark:function(e,t,r,s){const o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,s,r);if(null!=o){if(!i(o)||o<0)throw new a(s?`options.${r}`:"options.highWaterMark",o);return n(o)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){s(t,"value",0),e?c=t:o=t}}},7382:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n,Symbol:i}=r(4134);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:s}=r(6371).codes,a=r(3370),{getHighWaterMark:o}=r(5291);n(u.prototype,a.prototype),n(u,a);const c=i("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?o(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function l(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())}))}function h(){this._final!==l&&l.call(this)}u.prototype._final=l,u.prototype._transform=function(e,t,r){throw new s("_transform()")},u.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,s=n.length;this._transform(e,t,((e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||s===n.length||n.length<n.highWaterMark?r():this[c]=r)}))},u.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},6115:(e,t,r)=>{"use strict";const{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:s}=r(4134),a=s("nodejs.stream.destroyed"),o=s("nodejs.stream.errored"),c=s("nodejs.stream.readable"),u=s("nodejs.stream.writable"),l=s("nodejs.stream.disturbed"),h=s("nodejs.webstream.isClosedPromise"),f=s("nodejs.webstream.controllerErrorFunction");function d(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function g(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function m(e){return!(!e||g(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function y(e){return!(!e||g(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function b(e){return!(!e||g(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function v(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[a]||null!=n&&n.destroyed)}function w(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function S(e,t){if(!d(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function E(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!v(e)&&d(e)&&e.readable&&!S(e)}function x(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!v(e)&&p(e)&&e.writable&&!w(e)}function I(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function _(e){return"boolean"==typeof e._sent100&&I(e)}e.exports={isDestroyed:v,kIsDestroyed:a,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[l])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:l,isErrored:function(e){var t,r,n,i,s,a,c,u,l,h;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(s=null!==(a=e[o])&&void 0!==a?a:e.readableErrored)&&void 0!==s?s:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(l=e._readableState)||void 0===l?void 0:l.errored)&&void 0!==t?t:null===(h=e._writableState)||void 0===h?void 0:h.errored))},kIsErrored:o,isReadable:E,kIsReadable:c,kIsClosedPromise:h,kControllerErrorFunction:f,kIsWritable:u,isClosed:function(e){if(!g(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&I(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return g(e)?!(!v(e)&&(!1!==(null==t?void 0:t.readable)&&E(e)||!1!==(null==t?void 0:t.writable)&&x(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:d,isReadableStream:m,isReadableEnded:function(e){if(!d(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:S,isReadableErrored:function(e){var t,r;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:g,isWebStream:function(e){return m(e)||y(e)||b(e)},isWritable:x,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:w,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:_,willEmitClose:function(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&_(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:b}},8584:(e,t,r)=>{"use strict";const n=r(5606),{ArrayPrototypeSlice:i,Error:s,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:o,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:l,Symbol:h,SymbolHasInstance:f}=r(4134);e.exports=P,P.WritableState=O;const{EventEmitter:d}=r(7007),p=r(4259).Stream,{Buffer:g}=r(8287),m=r(5896),{addAbortSignal:y}=r(4147),{getHighWaterMark:b,getDefaultHighWaterMark:v}=r(5291),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:x,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:_,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:A}=r(6371).codes,{errorOrDestroy:C}=m;function M(){}u(P.prototype,p.prototype),u(P,p);const R=h("kOnFinished");function O(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(3370)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?b(this,e,"writableHighWaterMark",n):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,D(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[R]=[]}function D(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function P(e){const t=this instanceof r(3370);if(!t&&!a(P,this))return new P(e);this._writableState=new O(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),p.call(this,e),m.construct(this,(()=>{const e=this._writableState;e.writing||G(this,e),W(this,e)}))}function L(e,t,r,i){const s=e._writableState;if("function"==typeof r)i=r,r=s.defaultEncoding;else{if(r){if("buffer"!==r&&!g.isEncoding(r))throw new A(r)}else r=s.defaultEncoding;"function"!=typeof i&&(i=M)}if(null===t)throw new T;if(!s.objectMode)if("string"==typeof t)!1!==s.decodeStrings&&(t=g.from(t,r),r="buffer");else if(t instanceof g)r="buffer";else{if(!p._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),r="buffer"}let a;return s.ending?a=new k:s.destroyed&&(a=new I("write")),a?(n.nextTick(i,a),C(e,a,!0),a):(s.pendingcb++,function(e,t,r,n,i){const s=t.objectMode?1:r.length;t.length+=s;const a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==M&&(t.allNoop=!1)):(t.writelen=s,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}(e,s,t,r,i))}function F(e,t,r,n,i,s,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new I("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function N(e,t,r,n){--t.pendingcb,n(r),V(t),C(e,r)}function B(e,t){const r=e._writableState,i=r.sync,s=r.writecb;"function"==typeof s?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(N,e,r,t,s):N(e,r,t,s)):(r.buffered.length>r.bufferedIndex&&G(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===s?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:s,stream:e,state:r},n.nextTick(U,r.afterWriteTickInfo)):j(e,r,1,s))):C(e,new E)}function U({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,j(e,t,r,n)}function j(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&V(t),W(e,t)}function V(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:i}=e.buffered[r],s=e.objectMode?1:n.length;e.length-=s,i(null!==(t=e.errored)&&void 0!==t?t:new I("write"))}const r=e[R].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new I("end"))}D(e)}function G(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:s}=t,a=r.length-n;if(!a)return;let o=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const n=t.allNoop?M:e=>{for(let t=o;t<r.length;++t)r[t].callback(e)},s=t.allNoop&&0===o?r:i(r,o);s.allBuffers=t.allBuffers,F(e,t,!0,t.length,s,"",n),D(t)}else{do{const{chunk:n,encoding:i,callback:a}=r[o];r[o++]=null,F(e,t,!1,s?1:n.length,n,i,a)}while(o<r.length&&!t.writing);o===r.length?D(t):o>256?(r.splice(0,o),t.bufferedIndex=0):t.bufferedIndex=o}t.bufferProcessing=!1}function z(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function W(e,t,r){z(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)C(e,null!=i?i:E());else if(r=!0,t.pendingcb--,i){const r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e](i);C(e,i,t.sync)}else z(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(q,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick(((e,t)=>{z(t)?q(e,t):t.pendingcb--}),e,t)):z(t)&&(t.pendingcb++,q(e,t))))}function q(e,t){t.pendingcb--,t.finished=!0;const r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}O.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},o(O.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),o(P,f,{__proto__:null,value:function(e){return!!a(this,e)||this===P&&e&&e._writableState instanceof O}}),P.prototype.pipe=function(){C(this,new x)},P.prototype.write=function(e,t,r){return!0===L(this,e,t,r)},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||G(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=l(e)),!g.isEncoding(e))throw new A(e);return this._writableState.defaultEncoding=e,this},P.prototype._write=function(e,t,r){if(!this._writev)throw new S("_write()");this._writev([{chunk:e,encoding:t}],r)},P.prototype._writev=null,P.prototype.end=function(e,t,r){const i=this._writableState;let a;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=L(this,e,t);r instanceof s&&(a=r)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new _("end"):i.destroyed&&(a=new I("end")):(i.ending=!0,W(this,i,!0),i.ended=!0)),"function"==typeof r&&(a||i.finished?n.nextTick(r,a):i[R].push(r)),this},c(P.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const $=m.destroy;let H;function X(){return void 0===H&&(H={}),H}P.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[R].length)&&n.nextTick(V,r),$.call(this,e,t),this},P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype[d.captureRejectionSymbol]=function(e){this.destroy(e)},P.fromWeb=function(e,t){return X().newStreamWritableFromWritableStream(e,t)},P.toWeb=function(e){return X().newWritableStreamFromStreamWritable(e)}},277:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:s,ArrayPrototypeMap:a,NumberIsInteger:o,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:l,NumberParseInt:h,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:d,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:m}=r(4134),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:S,ERR_UNKNOWN_SIGNAL:E}}=r(6371),{normalizeEncoding:x}=r(7760),{isAsyncFunction:I,isArrayBufferView:_}=r(7760).types,T={},k=/^[0-7]+$/,A=y(((e,t,r=l,n=u)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!o(e))throw new S(t,"an integer",e);if(e<r||e>n)throw new S(t,`>= ${r} && <= ${n}`,e)})),C=y(((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!o(e))throw new S(t,"an integer",e);if(e<r||e>n)throw new S(t,`>= ${r} && <= ${n}`,e)})),M=y(((e,t,r=!1)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!o(e))throw new S(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new S(t,`>= ${n} && <= ${i}`,e)}));function R(e,t){if("string"!=typeof e)throw new v(t,"string",e)}const O=y(((e,t,r)=>{if(!i(r,e)){const n=s(a(r,(e=>"string"==typeof e?`'${e}'`:p(e))),", ");throw new w(t,e,"must be one of: "+n)}}));function D(e,t){if("boolean"!=typeof e)throw new v(t,"boolean",e)}function P(e,t,r){return null!=e&&f(e,t)?e[t]:r}const L=y(((e,t,r=null)=>{const i=P(r,"allowArray",!1),s=P(r,"allowFunction",!1);if(!P(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!s||"function"!=typeof e))throw new v(t,"Object",e)})),F=y(((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new v(t,"a dictionary",e)})),N=y(((e,t,r=0)=>{if(!n(e))throw new v(t,"Array",e);if(e.length<r)throw new w(t,e,`must be longer than ${r}`)})),B=y(((e,t="buffer")=>{if(!_(e))throw new v(t,["Buffer","TypedArray","DataView"],e)})),U=y(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new v(t,"AbortSignal",e)})),j=y(((e,t)=>{if("function"!=typeof e)throw new v(t,"Function",e)})),V=y(((e,t)=>{if("function"!=typeof e||I(e))throw new v(t,"Function",e)})),G=y(((e,t)=>{if(void 0!==e)throw new v(t,"undefined",e)})),z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(e,t){if(void 0===e||!d(z,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===d(k,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=h(e,8)}return M(e,t),e},validateArray:N,validateStringArray:function(e,t){N(e,t);for(let r=0;r<e.length;r++)R(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){N(e,t);for(let r=0;r<e.length;r++)D(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){N(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(null==n)throw new v(i,"AbortSignal",n);U(n,i)}},validateBoolean:D,validateBuffer:B,validateDictionary:F,validateEncoding:function(e,t){const r=x(t),n=e.length;if("hex"===r&&n%2!=0)throw new w("encoding",t,`is invalid for data of length ${n}`)},validateFunction:j,validateInt32:C,validateInteger:A,validateNumber:function(e,t,r=void 0,n){if("number"!=typeof e)throw new v(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&c(e))throw new S(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:L,validateOneOf:O,validatePlainFunction:V,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===m(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new b(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(R(e,t),void 0===T[e]){if(void 0!==T[g(e)])throw new E(e+" (signals must use all capital letters)");throw new E(e)}},validateString:R,validateUint32:M,validateUndefined:G,validateUnion:function(e,t,r){if(!i(r,e))throw new v(t,`('${s(r,"|")}')`,e)},validateAbortSignal:U,validateLinkHeaderValue:function(e){if("string"==typeof e)return W(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];W(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},9198:(e,t,r)=>{"use strict";const n=r(5506),i=r(3095),s=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=s,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},6371:(e,t,r)=>{"use strict";const{format:n,inspect:i}=r(9231),{AggregateError:s}=r(4134),a=globalThis.AggregateError||s,o=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,l={};function h(e,t){if(!e)throw new l.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function d(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return h(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return h(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[o]=!0,l[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class g extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new l.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",((e,t,r)=>{h("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const s=[],a=[],o=[];for(const e of t)h("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?s.push(e.toLowerCase()):u.test(e)?a.push(e):(h("object"!==e,'The value "object" should be written as "Object"'),o.push(e));if(a.length>0){const e=s.indexOf("object");-1!==e&&(s.splice(s,e,1),a.push("Object"))}if(s.length>0){switch(s.length){case 1:n+=`of type ${s[0]}`;break;case 2:n+=`one of type ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`one of type ${s.join(", ")}, or ${e}`}}(a.length>0||o.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();n+=`one of ${o.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var l;null!==(l=r.constructor)&&void 0!==l&&l.name?n+=`. Received an instance of ${r.constructor.name}`:n+=`. Received ${i(r,{depth:-1})}`}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n}),TypeError),d("ERR_INVALID_ARG_VALUE",((e,t,r="is invalid")=>{let n=i(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`}),TypeError),d("ERR_INVALID_RETURN_VALUE",((e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`}),TypeError),d("ERR_MISSING_ARGS",((...e)=>{let t;h(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`}),TypeError),d("ERR_OUT_OF_RANGE",((e,t,r)=>{let n;if(h(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)n=f(String(r));else if("bigint"==typeof r){n=String(r);const e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=f(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`}),RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:g,aggregateTwoErrors:p((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new a([t,e],t.message);return r.code=t.code,r}return e||t})),hideStackFrames:p,codes:l}},4134:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},7760:(e,t,r)=>{"use strict";const n=r(8287),{format:i,inspect:s}=r(9231),{codes:{ERR_INVALID_ARG_TYPE:a}}=r(6371),{kResistStopPropagation:o,AggregateError:c,SymbolDispose:u}=r(4134),l=globalThis.AbortSignal||r(5568).AbortSignal,h=globalThis.AbortController||r(5568).AbortController,f=Object.getPrototypeOf((async function(){})).constructor,d=globalThis.Blob||n.Blob,p=void 0!==d?function(e){return e instanceof d}:function(e){return!1},g=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)};e.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}},promisify:e=>new Promise(((t,r)=>{e(((e,...n)=>e?r(e):t(...n)))})),debuglog:()=>function(){},format:i,inspect:s,types:{isAsyncFunction:e=>e instanceof f,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:p,deprecate:(e,t)=>e,addAbortListener:r(7007).addAbortListener||function(e,t){if(void 0===e)throw new a("signal","AbortSignal",e);let r;return g(e,"signal"),(e=>{if("function"!=typeof e)throw new a("listener","Function",e)})(t),e.aborted?queueMicrotask((()=>t())):(e.addEventListener("abort",t,{__proto__:null,once:!0,[o]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[u](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:l.any||function(e){if(1===e.length)return e[0];const t=new h,r=()=>t.abort();return e.forEach((e=>{g(e,"signals"),e.addEventListener("abort",r,{once:!0})})),t.signal.addEventListener("abort",(()=>{e.forEach((e=>e.removeEventListener("abort",r)))}),{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},9231:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,r]){const n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},5506:(e,t,r)=>{"use strict";const{Buffer:n}=r(8287),{ObjectDefineProperty:i,ObjectKeys:s,ReflectApply:a}=r(4134),{promisify:{custom:o}}=r(7760),{streamReturningOperators:c,promiseReturningOperators:u}=r(823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=r(6371),h=r(7830),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:d}=r(5291),{pipeline:p}=r(7758),{destroyer:g}=r(5896),m=r(6238),y=r(3095),b=r(6115),v=e.exports=r(4259).Stream;v.isDestroyed=b.isDestroyed,v.isDisturbed=b.isDisturbed,v.isErrored=b.isErrored,v.isReadable=b.isReadable,v.isWritable=b.isWritable,v.Readable=r(7576);for(const S of s(c)){const E=c[S];function x(...e){if(new.target)throw l();return v.Readable.from(a(E,this,e))}i(x,"name",{__proto__:null,value:E.name}),i(x,"length",{__proto__:null,value:E.length}),i(v.Readable.prototype,S,{__proto__:null,value:x,enumerable:!1,configurable:!0,writable:!0})}for(const I of s(u)){const _=u[I];function T(...e){if(new.target)throw l();return a(_,this,e)}i(T,"name",{__proto__:null,value:_.name}),i(T,"length",{__proto__:null,value:_.length}),i(v.Readable.prototype,I,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}v.Writable=r(8584),v.Duplex=r(3370),v.Transform=r(7382),v.PassThrough=r(6524),v.pipeline=p;const{addAbortSignal:w}=r(4147);v.addAbortSignal=w,v.finished=m,v.destroy=g,v.compose=h,v.setDefaultHighWaterMark=f,v.getDefaultHighWaterMark=d,i(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),i(p,o,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),i(m,o,{__proto__:null,enumerable:!0,get:()=>y.finished}),v.Stream=v,v._isUint8Array=function(e){return e instanceof Uint8Array},v._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},3095:(e,t,r)=>{"use strict";const{ArrayPrototypePop:n,Promise:i}=r(4134),{isIterable:s,isNodeStream:a,isWebStream:o}=r(6115),{pipelineImpl:c}=r(7758),{finished:u}=r(6238);r(5506),e.exports={finished:u,pipeline:function(...e){return new i(((t,r)=>{let i,u;const l=e[e.length-1];if(l&&"object"==typeof l&&!a(l)&&!s(l)&&!o(l)){const t=n(e);i=t.signal,u=t.end}c(e,((e,n)=>{e?r(e):t(n)}),{signal:i,end:u})}))}}},2912:(e,t,r)=>{"use strict";var n=r(1432),i=r(8586);function s(e,t){return new RegExp(s.create(e,t))}s.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");var r=n({},t);!0===r.contains&&(r.strictNegate=!1);var s=!1!==r.strictOpen?"^":"",a=!1!==r.strictClose?"$":"",o=r.endChar?r.endChar:"+",c=s+(!1===r.strictNegate?"(?:(?!(?:"+e+")).)"+o:"(?:(?!^(?:"+e+")$).)"+o)+a;if(!0===r.safe&&!1===i(c))throw new Error("potentially unsafe regular expression: "+c);return c},e.exports=s},6583:function(e,t,r){var n,i;n=function(){return function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(t,r.firstChild);for(var n,i=document.createElement("a"),s=1;s<e;s++)i.href=arguments[s],n=i.href,t.href=n;return r.removeChild(t),n}},void 0===(i=n.call(t,r,t,e))||(e.exports=i)},7096:(e,t,r)=>{var n=r(7586),i=r(6205),s=r(23),a=r(8048);e.exports=function(e){var t,r,o=0,c={type:i.ROOT,stack:[]},u=c,l=c.stack,h=[],f=function(t){n.error(e,"Nothing to repeat at column "+(t-1))},d=n.strToChars(e);for(t=d.length;o<t;)switch(r=d[o++]){case"\\":switch(r=d[o++]){case"b":l.push(a.wordBoundary());break;case"B":l.push(a.nonWordBoundary());break;case"w":l.push(s.words());break;case"W":l.push(s.notWords());break;case"d":l.push(s.ints());break;case"D":l.push(s.notInts());break;case"s":l.push(s.whitespace());break;case"S":l.push(s.notWhitespace());break;default:/\d/.test(r)?l.push({type:i.REFERENCE,value:parseInt(r,10)}):l.push({type:i.CHAR,value:r.charCodeAt(0)})}break;case"^":l.push(a.begin());break;case"$":l.push(a.end());break;case"[":var p;"^"===d[o]?(p=!0,o++):p=!1;var g=n.tokenizeClass(d.slice(o),e);o+=g[1],l.push({type:i.SET,set:g[0],not:p});break;case".":l.push(s.anyChar());break;case"(":var m={type:i.GROUP,stack:[],remember:!0};"?"===(r=d[o])&&(r=d[o+1],o+=2,"="===r?m.followedBy=!0:"!"===r?m.notFollowedBy=!0:":"!==r&&n.error(e,"Invalid group, character '"+r+"' after '?' at column "+(o-1)),m.remember=!1),l.push(m),h.push(u),u=m,l=m.stack;break;case")":0===h.length&&n.error(e,"Unmatched ) at column "+(o-1)),l=(u=h.pop()).options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var y=[];u.options.push(y),l=y;break;case"{":var b,v,w=/^(\d+)(,(\d+)?)?\}/.exec(d.slice(o));null!==w?(0===l.length&&f(o),b=parseInt(w[1],10),v=w[2]?w[3]?parseInt(w[3],10):1/0:b,o+=w[0].length,l.push({type:i.REPETITION,min:b,max:v,value:l.pop()})):l.push({type:i.CHAR,value:123});break;case"?":0===l.length&&f(o),l.push({type:i.REPETITION,min:0,max:1,value:l.pop()});break;case"+":0===l.length&&f(o),l.push({type:i.REPETITION,min:1,max:1/0,value:l.pop()});break;case"*":0===l.length&&f(o),l.push({type:i.REPETITION,min:0,max:1/0,value:l.pop()});break;default:l.push({type:i.CHAR,value:r.charCodeAt(0)})}return 0!==h.length&&n.error(e,"Unterminated group"),c},e.exports.types=i},8048:(e,t,r)=>{var n=r(6205);t.wordBoundary=function(){return{type:n.POSITION,value:"b"}},t.nonWordBoundary=function(){return{type:n.POSITION,value:"B"}},t.begin=function(){return{type:n.POSITION,value:"^"}},t.end=function(){return{type:n.POSITION,value:"$"}}},23:(e,t,r)=>{var n=r(6205),i=function(){return[{type:n.RANGE,from:48,to:57}]},s=function(){return[{type:n.CHAR,value:95},{type:n.RANGE,from:97,to:122},{type:n.RANGE,from:65,to:90}].concat(i())},a=function(){return[{type:n.CHAR,value:9},{type:n.CHAR,value:10},{type:n.CHAR,value:11},{type:n.CHAR,value:12},{type:n.CHAR,value:13},{type:n.CHAR,value:32},{type:n.CHAR,value:160},{type:n.CHAR,value:5760},{type:n.CHAR,value:6158},{type:n.CHAR,value:8192},{type:n.CHAR,value:8193},{type:n.CHAR,value:8194},{type:n.CHAR,value:8195},{type:n.CHAR,value:8196},{type:n.CHAR,value:8197},{type:n.CHAR,value:8198},{type:n.CHAR,value:8199},{type:n.CHAR,value:8200},{type:n.CHAR,value:8201},{type:n.CHAR,value:8202},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233},{type:n.CHAR,value:8239},{type:n.CHAR,value:8287},{type:n.CHAR,value:12288},{type:n.CHAR,value:65279}]};t.words=function(){return{type:n.SET,set:s(),not:!1}},t.notWords=function(){return{type:n.SET,set:s(),not:!0}},t.ints=function(){return{type:n.SET,set:i(),not:!1}},t.notInts=function(){return{type:n.SET,set:i(),not:!0}},t.whitespace=function(){return{type:n.SET,set:a(),not:!1}},t.notWhitespace=function(){return{type:n.SET,set:a(),not:!0}},t.anyChar=function(){return{type:n.SET,set:[{type:n.CHAR,value:10},{type:n.CHAR,value:13},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233}],not:!0}}},6205:e=>{e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},7586:(e,t,r)=>{var n=r(6205),i=r(23),s={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,(function(e,t,r,n,i,a,o,c){if(r)return e;var u=t?8:n?parseInt(n,16):i?parseInt(i,16):a?parseInt(a,8):o?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(o):s[c],l=String.fromCharCode(u);return/[\[\]{}\^$.|?*+()]/.test(l)&&(l="\\"+l),l}))},t.tokenizeClass=function(e,r){for(var s,a,o=[],c=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(s=c.exec(e));)if(s[1])o.push(i.words());else if(s[2])o.push(i.ints());else if(s[3])o.push(i.whitespace());else if(s[4])o.push(i.notWords());else if(s[5])o.push(i.notInts());else if(s[6])o.push(i.notWhitespace());else if(s[7])o.push({type:n.RANGE,from:(s[8]||s[9]).charCodeAt(0),to:s[10].charCodeAt(0)});else{if(!(a=s[12]))return[o,c.lastIndex];o.push({type:n.CHAR,value:a.charCodeAt(0)})}t.error(r,"Unterminated character class")},t.error=function(e,t){throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}},6011:(e,t,r)=>{"use strict";var n=r(8287).Buffer,i=r(6698),s=r(4729),a=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function g(e,t,r,n,i,s,a,o){return p(e+(t^r^n)+s+a|0,o)+i|0}function m(e,t,r,n,i,s,a,o){return p(e+(t&r|~t&n)+s+a|0,o)+i|0}function y(e,t,r,n,i,s,a,o){return p(e+((t|~r)^n)+s+a|0,o)+i|0}function b(e,t,r,n,i,s,a,o){return p(e+(t&n|r&~n)+s+a|0,o)+i|0}function v(e,t,r,n,i,s,a,o){return p(e+(t^(r|~n))+s+a|0,o)+i|0}i(d,s),d.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,d=0|this._e,w=0|this._a,S=0|this._b,E=0|this._c,x=0|this._d,I=0|this._e,_=0;_<80;_+=1){var T,k;_<16?(T=g(r,n,i,s,d,e[o[_]],h[0],u[_]),k=v(w,S,E,x,I,e[c[_]],f[0],l[_])):_<32?(T=m(r,n,i,s,d,e[o[_]],h[1],u[_]),k=b(w,S,E,x,I,e[c[_]],f[1],l[_])):_<48?(T=y(r,n,i,s,d,e[o[_]],h[2],u[_]),k=y(w,S,E,x,I,e[c[_]],f[2],l[_])):_<64?(T=b(r,n,i,s,d,e[o[_]],h[3],u[_]),k=m(w,S,E,x,I,e[c[_]],f[3],l[_])):(T=v(r,n,i,s,d,e[o[_]],h[4],u[_]),k=g(w,S,E,x,I,e[c[_]],f[4],l[_])),r=d,d=s,s=p(i,10),i=n,n=T,w=I,I=x,x=p(E,10),E=S,S=k}var A=this._b+i+x|0;this._b=this._c+s+I|0,this._c=this._d+d+w|0,this._d=this._e+r+S|0,this._e=this._a+n+E|0,this._a=A},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},2861:(e,t,r)=>{var n=r(8287),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),s(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},9721:(e,t,r)=>{"use strict";var n=r(6556),i=r(4035),s=n("RegExp.prototype.exec"),a=r(9675);e.exports=function(e){if(!i(e))throw new a("`regex` must be a RegExp");return function(t){return null!==s(e,t)}}},8586:(e,t,r)=>{var n=r(7096),i=n.types;e.exports=function(e,t){t||(t={});var r,s=void 0===t.limit?25:t.limit;r=e,"[object RegExp]"==={}.toString.call(r)?e=e.source:"string"!=typeof e&&(e=String(e));try{e=n(e)}catch(e){return!1}var a=0;return function e(t,r){if(t.type===i.REPETITION){if(r++,a++,r>1)return!1;if(a>s)return!1}if(t.options)for(var n=0,o=t.options.length;n<o;n++)if(!e({stack:t.options[n]},r))return!1;var c=t.stack||t.value&&t.value.stack;if(!c)return!0;for(n=0;n<c.length;n++)if(!e(c[n],r))return!1;return!0}(e,0)}},4043:(e,t,r)=>{var n=r(8287).Buffer;!function(e){e.parser=function(e,t){return new s(e,t)},e.SAXParser=s,e.SAXStream=o,e.createStream=function(e,t){return new o(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function s(t,r){if(!(this instanceof s))return new s(t,r);var n=this;!function(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}(n),n.q=n.c="",n.bufferCheckPosition=e.MAX_BUFFER_LENGTH,n.opt=r||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!t,n.noscript=!(!t&&!n.opt.noscript),n.state=_.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(f)),void 0===n.opt.unquotedAttributeValues&&(n.opt.unquotedAttributeValues=!t),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),k(n,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),s.prototype={end:function(){O(this)},write:function(t){var r=this;if(this.error)throw this.error;if(r.closed)return R(r,"Cannot write after close. Assign an onready handler.");if(null===t)return O(r);"object"==typeof t&&(t=t.toString());for(var n=0,s="";s=V(t,n++),r.c=s,s;)switch(r.trackPosition&&(r.position++,"\n"===s?(r.line++,r.column=0):r.column++),r.state){case _.BEGIN:if(r.state=_.BEGIN_WHITESPACE,"\ufeff"===s)continue;j(r,s);continue;case _.BEGIN_WHITESPACE:j(r,s);continue;case _.TEXT:if(r.sawRoot&&!r.closedRoot){for(var a=n-1;s&&"<"!==s&&"&"!==s;)(s=V(t,n++))&&r.trackPosition&&(r.position++,"\n"===s?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(a,n-1)}"<"!==s||r.sawRoot&&r.closedRoot&&!r.strict?(y(s)||r.sawRoot&&!r.closedRoot||D(r,"Text data outside of root node."),"&"===s?r.state=_.TEXT_ENTITY:r.textNode+=s):(r.state=_.OPEN_WAKA,r.startTagPosition=r.position);continue;case _.SCRIPT:"<"===s?r.state=_.SCRIPT_ENDING:r.script+=s;continue;case _.SCRIPT_ENDING:"/"===s?r.state=_.CLOSE_TAG:(r.script+="<"+s,r.state=_.SCRIPT);continue;case _.OPEN_WAKA:if("!"===s)r.state=_.SGML_DECL,r.sgmlDecl="";else if(y(s));else if(w(d,s))r.state=_.OPEN_TAG,r.tagName=s;else if("/"===s)r.state=_.CLOSE_TAG,r.tagName="";else if("?"===s)r.state=_.PROC_INST,r.procInstName=r.procInstBody="";else{if(D(r,"Unencoded <"),r.startTagPosition+1<r.position){var o=r.position-r.startTagPosition;s=new Array(o).join(" ")+s}r.textNode+="<"+s,r.state=_.TEXT}continue;case _.SGML_DECL:if(r.sgmlDecl+s==="--"){r.state=_.COMMENT,r.comment="",r.sgmlDecl="";continue}r.doctype&&!0!==r.doctype&&r.sgmlDecl?(r.state=_.DOCTYPE_DTD,r.doctype+="<!"+r.sgmlDecl+s,r.sgmlDecl=""):(r.sgmlDecl+s).toUpperCase()===c?(A(r,"onopencdata"),r.state=_.CDATA,r.sgmlDecl="",r.cdata=""):(r.sgmlDecl+s).toUpperCase()===u?(r.state=_.DOCTYPE,(r.doctype||r.sawRoot)&&D(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===s?(A(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=_.TEXT):b(s)?(r.state=_.SGML_DECL_QUOTED,r.sgmlDecl+=s):r.sgmlDecl+=s;continue;case _.SGML_DECL_QUOTED:s===r.q&&(r.state=_.SGML_DECL,r.q=""),r.sgmlDecl+=s;continue;case _.DOCTYPE:">"===s?(r.state=_.TEXT,A(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=s,"["===s?r.state=_.DOCTYPE_DTD:b(s)&&(r.state=_.DOCTYPE_QUOTED,r.q=s));continue;case _.DOCTYPE_QUOTED:r.doctype+=s,s===r.q&&(r.q="",r.state=_.DOCTYPE);continue;case _.DOCTYPE_DTD:"]"===s?(r.doctype+=s,r.state=_.DOCTYPE):"<"===s?(r.state=_.OPEN_WAKA,r.startTagPosition=r.position):b(s)?(r.doctype+=s,r.state=_.DOCTYPE_DTD_QUOTED,r.q=s):r.doctype+=s;continue;case _.DOCTYPE_DTD_QUOTED:r.doctype+=s,s===r.q&&(r.state=_.DOCTYPE_DTD,r.q="");continue;case _.COMMENT:"-"===s?r.state=_.COMMENT_ENDING:r.comment+=s;continue;case _.COMMENT_ENDING:"-"===s?(r.state=_.COMMENT_ENDED,r.comment=M(r.opt,r.comment),r.comment&&A(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+s,r.state=_.COMMENT);continue;case _.COMMENT_ENDED:">"!==s?(D(r,"Malformed comment"),r.comment+="--"+s,r.state=_.COMMENT):r.doctype&&!0!==r.doctype?r.state=_.DOCTYPE_DTD:r.state=_.TEXT;continue;case _.CDATA:"]"===s?r.state=_.CDATA_ENDING:r.cdata+=s;continue;case _.CDATA_ENDING:"]"===s?r.state=_.CDATA_ENDING_2:(r.cdata+="]"+s,r.state=_.CDATA);continue;case _.CDATA_ENDING_2:">"===s?(r.cdata&&A(r,"oncdata",r.cdata),A(r,"onclosecdata"),r.cdata="",r.state=_.TEXT):"]"===s?r.cdata+="]":(r.cdata+="]]"+s,r.state=_.CDATA);continue;case _.PROC_INST:"?"===s?r.state=_.PROC_INST_ENDING:y(s)?r.state=_.PROC_INST_BODY:r.procInstName+=s;continue;case _.PROC_INST_BODY:if(!r.procInstBody&&y(s))continue;"?"===s?r.state=_.PROC_INST_ENDING:r.procInstBody+=s;continue;case _.PROC_INST_ENDING:">"===s?(A(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=_.TEXT):(r.procInstBody+="?"+s,r.state=_.PROC_INST_BODY);continue;case _.OPEN_TAG:w(p,s)?r.tagName+=s:(P(r),">"===s?N(r):"/"===s?r.state=_.OPEN_TAG_SLASH:(y(s)||D(r,"Invalid character in tag name"),r.state=_.ATTRIB));continue;case _.OPEN_TAG_SLASH:">"===s?(N(r,!0),B(r)):(D(r,"Forward-slash in opening tag not followed by >"),r.state=_.ATTRIB);continue;case _.ATTRIB:if(y(s))continue;">"===s?N(r):"/"===s?r.state=_.OPEN_TAG_SLASH:w(d,s)?(r.attribName=s,r.attribValue="",r.state=_.ATTRIB_NAME):D(r,"Invalid attribute name");continue;case _.ATTRIB_NAME:"="===s?r.state=_.ATTRIB_VALUE:">"===s?(D(r,"Attribute without value"),r.attribValue=r.attribName,F(r),N(r)):y(s)?r.state=_.ATTRIB_NAME_SAW_WHITE:w(p,s)?r.attribName+=s:D(r,"Invalid attribute name");continue;case _.ATTRIB_NAME_SAW_WHITE:if("="===s)r.state=_.ATTRIB_VALUE;else{if(y(s))continue;D(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",A(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===s?N(r):w(d,s)?(r.attribName=s,r.state=_.ATTRIB_NAME):(D(r,"Invalid attribute name"),r.state=_.ATTRIB)}continue;case _.ATTRIB_VALUE:if(y(s))continue;b(s)?(r.q=s,r.state=_.ATTRIB_VALUE_QUOTED):(r.opt.unquotedAttributeValues||R(r,"Unquoted attribute value"),r.state=_.ATTRIB_VALUE_UNQUOTED,r.attribValue=s);continue;case _.ATTRIB_VALUE_QUOTED:if(s!==r.q){"&"===s?r.state=_.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=s;continue}F(r),r.q="",r.state=_.ATTRIB_VALUE_CLOSED;continue;case _.ATTRIB_VALUE_CLOSED:y(s)?r.state=_.ATTRIB:">"===s?N(r):"/"===s?r.state=_.OPEN_TAG_SLASH:w(d,s)?(D(r,"No whitespace between attributes"),r.attribName=s,r.attribValue="",r.state=_.ATTRIB_NAME):D(r,"Invalid attribute name");continue;case _.ATTRIB_VALUE_UNQUOTED:if(!v(s)){"&"===s?r.state=_.ATTRIB_VALUE_ENTITY_U:r.attribValue+=s;continue}F(r),">"===s?N(r):r.state=_.ATTRIB;continue;case _.CLOSE_TAG:if(r.tagName)">"===s?B(r):w(p,s)?r.tagName+=s:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=_.SCRIPT):(y(s)||D(r,"Invalid tagname in closing tag"),r.state=_.CLOSE_TAG_SAW_WHITE);else{if(y(s))continue;S(d,s)?r.script?(r.script+="</"+s,r.state=_.SCRIPT):D(r,"Invalid tagname in closing tag."):r.tagName=s}continue;case _.CLOSE_TAG_SAW_WHITE:if(y(s))continue;">"===s?B(r):D(r,"Invalid characters in closing tag");continue;case _.TEXT_ENTITY:case _.ATTRIB_VALUE_ENTITY_Q:case _.ATTRIB_VALUE_ENTITY_U:var l,h;switch(r.state){case _.TEXT_ENTITY:l=_.TEXT,h="textNode";break;case _.ATTRIB_VALUE_ENTITY_Q:l=_.ATTRIB_VALUE_QUOTED,h="attribValue";break;case _.ATTRIB_VALUE_ENTITY_U:l=_.ATTRIB_VALUE_UNQUOTED,h="attribValue"}if(";"===s){var f=U(r);r.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(f)?(r.entity="",r.state=l,r.write(f)):(r[h]+=f,r.entity="",r.state=l)}else w(r.entity.length?m:g,s)?r.entity+=s:(D(r,"Invalid character in entity name"),r[h]+="&"+r.entity+s,r.entity="",r.state=l);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),n=0,s=0,a=i.length;s<a;s++){var o=t[i[s]].length;if(o>r)switch(i[s]){case"textNode":C(t);break;case"cdata":A(t,"oncdata",t.cdata),t.cdata="";break;case"script":A(t,"onscript",t.script),t.script="";break;default:R(t,"Max buffer length exceeded: "+i[s])}n=Math.max(n,o)}var c=e.MAX_BUFFER_LENGTH-n;t.bufferCheckPosition=c+t.position}(r),r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;C(e=this),""!==e.cdata&&(A(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(A(e,"onscript",e.script),e.script="")}};try{t=r(8310).Stream}catch(e){t=function(){}}t||(t=function(){});var a=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function o(e,r){if(!(this instanceof o))return new o(e,r);t.apply(this),this._parser=new s(e,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,a.forEach((function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})}))}o.prototype=Object.create(t.prototype,{constructor:{value:o}}),o.prototype.write=function(e){if("function"==typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(e)){if(!this._decoder){var t=r(3141).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===a.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var c="[CDATA[",u="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",f={xml:l,xmlns:h},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function y(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function b(e){return'"'===e||"'"===e}function v(e){return">"===e||y(e)}function w(e,t){return e.test(t)}function S(e,t){return!w(e,t)}var E,x,I,_=0;for(var T in e.STATE={BEGIN:_++,BEGIN_WHITESPACE:_++,TEXT:_++,TEXT_ENTITY:_++,OPEN_WAKA:_++,SGML_DECL:_++,SGML_DECL_QUOTED:_++,DOCTYPE:_++,DOCTYPE_QUOTED:_++,DOCTYPE_DTD:_++,DOCTYPE_DTD_QUOTED:_++,COMMENT_STARTING:_++,COMMENT:_++,COMMENT_ENDING:_++,COMMENT_ENDED:_++,CDATA:_++,CDATA_ENDING:_++,CDATA_ENDING_2:_++,PROC_INST:_++,PROC_INST_BODY:_++,PROC_INST_ENDING:_++,OPEN_TAG:_++,OPEN_TAG_SLASH:_++,ATTRIB:_++,ATTRIB_NAME:_++,ATTRIB_NAME_SAW_WHITE:_++,ATTRIB_VALUE:_++,ATTRIB_VALUE_QUOTED:_++,ATTRIB_VALUE_CLOSED:_++,ATTRIB_VALUE_UNQUOTED:_++,ATTRIB_VALUE_ENTITY_Q:_++,ATTRIB_VALUE_ENTITY_U:_++,CLOSE_TAG:_++,CLOSE_TAG_SAW_WHITE:_++,SCRIPT:_++,SCRIPT_ENDING:_++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t],n="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n})),e.STATE)e.STATE[e.STATE[T]]=T;function k(e,t,r){e[t]&&e[t](r)}function A(e,t,r){e.textNode&&C(e),k(e,t,r)}function C(e){e.textNode=M(e.opt,e.textNode),e.textNode&&k(e,"ontext",e.textNode),e.textNode=""}function M(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function R(e,t){return C(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,k(e,"onerror",t),e}function O(e){return e.sawRoot&&!e.closedRoot&&D(e,"Unclosed root tag"),e.state!==_.BEGIN&&e.state!==_.BEGIN_WHITESPACE&&e.state!==_.TEXT&&R(e,"Unexpected end"),C(e),e.c="",e.closed=!0,k(e,"onend"),s.call(e,e.strict,e.opt),e}function D(e,t){if("object"!=typeof e||!(e instanceof s))throw new Error("bad call to strictFail");e.strict&&R(e,t)}function P(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,A(e,"onopentagstart",r)}function L(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function F(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=L(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==l)D(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==h)D(e,"xmlns: prefix must be bound to "+h+"\nActual: "+e.attribValue);else{var i=e.tag,s=e.tags[e.tags.length-1]||e;i.ns===s.ns&&(i.ns=Object.create(s.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,A(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function N(e,t){if(e.opt.xmlns){var r=e.tag,n=L(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(D(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach((function(t){A(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}));for(var s=0,a=e.attribList.length;s<a;s++){var o=e.attribList[s],c=o[0],u=o[1],l=L(c,!0),h=l.prefix,f=l.local,d=""===h?"":r.ns[h]||"",p={name:c,value:u,prefix:h,local:f,uri:d};h&&"xmlns"!==h&&!d&&(D(e,"Unbound namespace prefix: "+JSON.stringify(h)),p.uri=h),e.tag.attributes[c]=p,A(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),A(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=_.TEXT:e.state=_.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function B(e){if(!e.tagName)return D(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=_.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=_.SCRIPT);A(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--&&e.tags[t].name!==n;)D(e,"Unexpected close tag");if(t<0)return D(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=_.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var s=e.tag=e.tags.pop();e.tagName=e.tag.name,A(e,"onclosetag",e.tagName);var a={};for(var o in s.ns)a[o]=s.ns[o];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&s.ns!==c.ns&&Object.keys(s.ns).forEach((function(t){var r=s.ns[t];A(e,"onclosenamespace",{prefix:t,uri:r})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=_.TEXT}function U(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==r?(D(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function j(e,t){"<"===t?(e.state=_.OPEN_WAKA,e.startTagPosition=e.position):y(t)||(D(e,"Non-whitespace before first tag."),e.textNode=t,e.state=_.TEXT)}function V(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}_=e.STATE,String.fromCodePoint||(E=String.fromCharCode,x=Math.floor,I=function(){var e,t,r=[],n=-1,i=arguments.length;if(!i)return"";for(var s="";++n<i;){var a=Number(arguments[n]);if(!isFinite(a)||a<0||a>1114111||x(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?r.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,r.push(e,t)),(n+1===i||r.length>16384)&&(s+=E.apply(null,r),r.length=0)}return s},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:I,configurable:!0,writable:!0}):String.fromCodePoint=I)}(t)},6897:(e,t,r)=>{"use strict";var n=r(453),i=r(41),s=r(592)(),a=r(5795),o=r(9675),c=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new o("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new o("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in e&&a){var l=a(e,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!r)&&(s?i(e,"length",t,!0,!0):i(e,"length",t)),e}},9575:(e,t,r)=>{"use strict";var n=r(4007),i=r(1432),s=r(7128),a=r(2328);function o(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}e.exports=function(e,t,r){if(!a(e))return e;if(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!=typeof t)return e;for(var c=n(t,{sep:".",brackets:!0}).filter(o),u=c.length,l=-1,h=e;++l<u;){var f=c[l];l===u-1?s(h[f])&&s(r)?h[f]=i({},h[f],r):h[f]=r:(a(h[f])||(h[f]={}),h=h[f])}return e}},392:(e,t,r)=>{var n=r(2861).Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,s=e.length,a=this._len,o=0;o<s;){for(var c=a%i,u=Math.min(s-o,i-c),l=0;l<u;l++)r[c+l]=e[o+l];o+=u,(a+=u)%i==0&&this._update(r)}return this._len+=s,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},2802:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r(7816),n.sha1=r(3737),n.sha224=r(6710),n.sha256=r(4107),n.sha384=r(2827),n.sha512=r(2890)},7816:(e,t,r)=>{var n=r(6698),i=r(392),s=r(2861).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,i.call(this,64,56)}function u(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,c=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=r[h-3]^r[h-8]^r[h-14]^r[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((t=n)<<5|t>>>27)+l(d,i,s,o)+c+r[f]+a[d];c=o,o=s,s=u(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},3737:(e,t,r)=>{var n=r(6698),i=r(392),s=r(2861).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function h(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,c=0|this._e,f=0;f<16;++f)r[f]=e.readInt32BE(4*f);for(;f<80;++f)r[f]=(t=r[f-3]^r[f-8]^r[f-14]^r[f-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),g=u(n)+h(p,i,s,o)+c+r[d]+a[p]|0;c=o,o=s,s=l(i),i=n,n=g}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},6710:(e,t,r)=>{var n=r(6698),i=r(4107),s=r(392),a=r(2861).Buffer,o=new Array(64);function c(){this.init(),this._w=o,s.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},4107:(e,t,r)=>{var n=r(6698),i=r(392),s=r(2861).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function c(){this.init(),this._w=o,i.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,s=0|this._c,o=0|this._d,c=0|this._e,p=0|this._f,g=0|this._g,m=0|this._h,y=0;y<16;++y)r[y]=e.readInt32BE(4*y);for(;y<64;++y)r[y]=0|(((t=r[y-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[y-7]+d(r[y-15])+r[y-16];for(var b=0;b<64;++b){var v=m+f(c)+u(c,p,g)+a[b]+r[b]|0,w=h(n)+l(n,i,s)|0;m=g,g=p,p=c,c=o+v|0,o=s,s=i,i=n,n=v+w|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=s+this._c|0,this._d=o+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},2827:(e,t,r)=>{var n=r(6698),i=r(2890),s=r(392),a=r(2861).Buffer,o=new Array(160);function c(){this.init(),this._w=o,s.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},2890:(e,t,r)=>{var n=r(6698),i=r(392),s=r(2861).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function c(){this.init(),this._w=o,i.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,o=0|this._eh,c=0|this._fh,b=0|this._gh,v=0|this._hh,w=0|this._al,S=0|this._bl,E=0|this._cl,x=0|this._dl,I=0|this._el,_=0|this._fl,T=0|this._gl,k=0|this._hl,A=0;A<32;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;A<160;A+=2){var C=t[A-30],M=t[A-30+1],R=d(C,M),O=p(M,C),D=g(C=t[A-4],M=t[A-4+1]),P=m(M,C),L=t[A-14],F=t[A-14+1],N=t[A-32],B=t[A-32+1],U=O+F|0,j=R+L+y(U,O)|0;j=(j=j+D+y(U=U+P|0,P)|0)+N+y(U=U+B|0,B)|0,t[A]=j,t[A+1]=U}for(var V=0;V<160;V+=2){j=t[V],U=t[V+1];var G=l(r,n,i),z=l(w,S,E),W=h(r,w),q=h(w,r),$=f(o,I),H=f(I,o),X=a[V],Y=a[V+1],K=u(o,c,b),Z=u(I,_,T),J=k+H|0,Q=v+$+y(J,k)|0;Q=(Q=(Q=Q+K+y(J=J+Z|0,Z)|0)+X+y(J=J+Y|0,Y)|0)+j+y(J=J+U|0,U)|0;var ee=q+z|0,te=W+G+y(ee,q)|0;v=b,k=T,b=c,T=_,c=o,_=I,o=s+Q+y(I=x+J|0,x)|0,s=i,x=E,i=n,E=S,n=r,S=w,r=Q+te+y(w=J+ee|0,J)|0}this._al=this._al+w|0,this._bl=this._bl+S|0,this._cl=this._cl+E|0,this._dl=this._dl+x|0,this._el=this._el+I|0,this._fl=this._fl+_|0,this._gl=this._gl+T|0,this._hl=this._hl+k|0,this._ah=this._ah+r+y(this._al,w)|0,this._bh=this._bh+n+y(this._bl,S)|0,this._ch=this._ch+i+y(this._cl,E)|0,this._dh=this._dh+s+y(this._dl,x)|0,this._eh=this._eh+o+y(this._el,I)|0,this._fh=this._fh+c+y(this._fl,_)|0,this._gh=this._gh+b+y(this._gl,T)|0,this._hh=this._hh+v+y(this._hl,k)|0},c.prototype._hash=function(){var e=s.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},1546:(e,t,r)=>{"use strict";var n=r(224),i=r(7824),s=r(9229),a=r(6111),o=r(2687);function c(e){n.call(this,null,e),this.options=o.extend({source:"string"},this.options),this.compiler=new s(this.options),this.parser=new a(this.options),Object.defineProperty(this,"compilers",{get:function(){return this.compiler.compilers}}),Object.defineProperty(this,"parsers",{get:function(){return this.parser.parsers}}),Object.defineProperty(this,"regex",{get:function(){return this.parser.regex}})}n.extend(c),c.prototype.capture=function(){return this.parser.capture.apply(this.parser,arguments)},c.prototype.use=function(e){return e.call(this,this),this},c.prototype.parse=function(e,t){this.options=o.extend({},this.options,t);var r=this.parser.parse(e,this.options);return i(r,"parser",this.parser),r},c.prototype.compile=function(e,t){this.options=o.extend({},this.options,t);var r=this.compiler.compile(e,this.options);return i(r,"compiler",this.compiler),r},e.exports=c,e.exports.Compiler=s,e.exports.Parser=a},9229:(e,t,r)=>{"use strict";var n=r(7620),i=r(7824),s=r(214)("snapdragon:compiler"),a=r(2687);function o(e,t){s("initializing","/index.js"),this.options=a.extend({source:"string"},e),this.state=t||{},this.compilers={},this.output="",this.set("eos",(function(e){return this.emit(e.val,e)})),this.set("noop",(function(e){return this.emit(e.val,e)})),this.set("bos",(function(e){return this.emit(e.val,e)})),n(this)}o.prototype={error:function(e,t){var r=t.position||{start:{column:0}},n=this.options.source+" column:"+r.start.column+": "+e,i=new Error(n);if(i.reason=e,i.column=r.start.column,i.source=this.pattern,!this.options.silent)throw i;this.errors.push(i)},define:function(e,t){return i(this,e,t),this},emit:function(e,t){return this.output+=e,e},set:function(e,t){return this.compilers[e]=t,this},get:function(e){return this.compilers[e]},prev:function(e){return this.ast.nodes[this.idx-(e||1)]||{type:"bos",val:""}},next:function(e){return this.ast.nodes[this.idx+(e||1)]||{type:"eos",val:""}},visit:function(e,t,r){var n=this.compilers[e.type];if(this.idx=r,"function"!=typeof n)throw this.error('compiler "'+e.type+'" is not registered',e);return n.call(this,e,t,r)},mapVisit:function(e){if(!Array.isArray(e))throw new TypeError("expected an array");for(var t=e.length,r=-1;++r<t;)this.visit(e[r],e,r);return this},compile:function(e,t){var n=a.extend({},this.options,t);return this.ast=e,this.parsingErrors=this.ast.errors,this.output="",n.sourcemap?(r(2537)(this),this.mapVisit(this.ast.nodes),this.applySourceMaps(),this.map="generator"===n.sourcemap?this.map:this.map.toJSON(),this):(this.mapVisit(this.ast.nodes),this)}},e.exports=o},6111:(e,t,r)=>{"use strict";var n=r(7620),i=r(537),s=r(2954),a=r(7824),o=r(214)("snapdragon:parser"),c=r(4699),u=r(2687);function l(e){o("initializing","/index.js"),this.options=u.extend({source:"string"},e),this.init(this.options),n(this)}function h(e,t){return e.visited?e:(a(e,"visited",!0),e.nodes?function(e,t){for(var r=e.length,n=-1;++n<r;)h(e[n],t)}(e.nodes,t):t(e))}function f(e){return function(e){return e.nodes&&e.nodes[0].type===e.type+".open"}(e)&&function(e){return e.nodes&&u.last(e.nodes).type===e.type+".close"}(e)}l.prototype={constructor:l,init:function(e){this.orig="",this.input="",this.parsed="",this.column=1,this.line=1,this.regex=new s,this.errors=this.errors||[],this.parsers=this.parsers||{},this.types=this.types||[],this.sets=this.sets||{},this.fns=this.fns||[],this.currentType="root";var t=this.position();this.bos=t({type:"bos",val:""}),this.ast={type:"root",errors:this.errors,nodes:[this.bos]},a(this.bos,"parent",this.ast),this.nodes=[this.ast],this.count=0,this.setCount=0,this.stack=[]},error:function(e,t){var r=t.position||{start:{column:0,line:0}},n=r.start.line,i=r.start.column,s=this.options.source,a=new Error(s+" <line:"+n+" column:"+i+">: "+e);if(a.source=s,a.reason=e,a.pos=r,!this.options.silent)throw a;this.errors.push(a)},define:function(e,t){return a(this,e,t),this},position:function(){var e={line:this.line,column:this.column},t=this;return function(r){return a(r,"position",new c(e,t)),r}},set:function(e,t){return-1===this.types.indexOf(e)&&this.types.push(e),this.parsers[e]=t.bind(this),this},get:function(e){return this.parsers[e]},push:function(e,t){return this.sets[e]=this.sets[e]||[],this.count++,this.stack.push(t),this.sets[e].push(t)},pop:function(e){return this.sets[e]=this.sets[e]||[],this.count--,this.stack.pop(),this.sets[e].pop()},isInside:function(e){return this.sets[e]=this.sets[e]||[],this.sets[e].length>0},isType:function(e,t){return e&&e.type===t},prev:function(e){return this.stack.length>0?u.last(this.stack,e):u.last(this.nodes,e)},consume:function(e){this.input=this.input.substr(e)},updatePosition:function(e,t){var r=e.match(/\n/g);r&&(this.line+=r.length);var n=e.lastIndexOf("\n");this.column=~n?t-n:this.column+t,this.parsed+=e,this.consume(t)},match:function(e){var t=e.exec(this.input);if(t)return this.updatePosition(t[0],t[0].length),t},capture:function(e,t){return"function"==typeof t?this.set.apply(this,arguments):(this.regex.set(e,t),this.set(e,function(){var r=this.parsed,n=this.position(),i=this.match(t);if(i&&i[0]){var s=this.prev(),o=n({type:e,val:i[0],parsed:r,rest:this.input});i[1]&&(o.inner=i[1]),a(o,"inside",this.stack.length>0),a(o,"parent",s),s.nodes.push(o)}}.bind(this)),this)},capturePair:function(e,t,r,n){return this.sets[e]=this.sets[e]||[],this.set(e+".open",(function(){var r=this.parsed,i=this.position(),s=this.match(t);if(s&&s[0]){var o=s[0];this.setCount++,this.specialChars=!0;var c=i({type:e+".open",val:o,rest:this.input});void 0!==s[1]&&(c.inner=s[1]);var u=this.prev(),l=i({type:e,nodes:[c]});a(l,"rest",this.input),a(l,"parsed",r),a(l,"prefix",s[1]),a(l,"parent",u),a(c,"parent",l),"function"==typeof n&&n.call(this,c,l),this.push(e,l),u.nodes.push(l)}})),this.set(e+".close",(function(){var t=this.position(),n=this.match(r);if(n&&n[0]){var i=this.pop(e),s=t({type:e+".close",rest:this.input,suffix:n[1],val:n[0]});if(!this.isType(i,e)){if(this.options.strict)throw new Error('missing opening "'+e+'"');return this.setCount--,s.escaped=!0,s}"\\"===s.suffix&&(i.escaped=!0,s.escaped=!0),i.nodes.push(s),a(s,"parent",i)}})),this},eos:function(){var e=this.position();if(!this.input){for(var t=this.prev();"root"!==t.type&&!t.visited;){if(!0===this.options.strict)throw new SyntaxError("invalid syntax:"+i.inspect(t,null,2));f(t)||(t.parent.escaped=!0,t.escaped=!0),h(t,(function(e){f(e.parent)||(e.parent.escaped=!0,e.escaped=!0)})),t=t.parent}var r=e({type:"eos",val:this.append||""});return a(r,"parent",this.ast),r}},next:function(){for(var e,t=this.parsed,r=this.types.length,n=-1;++n<r;)if(e=this.parsers[this.types[n]].call(this))return a(e,"rest",this.input),a(e,"parsed",t),this.last=e,e},parse:function(e){if("string"!=typeof e)throw new TypeError("expected a string");this.init(this.options),this.orig=e,this.input=e;var t=this;function r(){e=t.input;var r=t.next();if(r){var n=t.prev();n&&(a(r,"parent",n),n.nodes&&n.nodes.push(r)),t.sets.hasOwnProperty(n.type)&&(t.currentType=n.type)}if(t.input&&e===t.input)throw new Error('no parsers registered for: "'+t.input.slice(0,5)+'"')}for(;this.input;)r();if(this.stack.length&&this.options.strict){var n=this.stack.pop();throw this.error("missing opening "+n.type+': "'+this.orig+'"')}var i=this.eos();return"eos"!==this.prev().type&&this.ast.nodes.push(i),this.ast}},e.exports=l},4699:(e,t,r)=>{"use strict";var n=r(7824);e.exports=function(e,t){this.start=e,this.end={line:t.line,column:t.column},n(this,"content",t.orig),n(this,"source",t.options.source)}},2537:(e,t,r)=>{"use strict";var n=r(8629),i=r(7975),s=r(7824),a=r(2687);e.exports=function(e){for(var r in s(e,"_comment",e.comment),e.map=new a.SourceMap.SourceMapGenerator,e.position={line:1,column:1},e.content={},e.files={},t)s(e,r,t[r])},t.updatePosition=function(e){var t=e.match(/\n/g);t&&(this.position.line+=t.length);var r=e.lastIndexOf("\n");this.position.column=~r?e.length-r:this.position.column+e.length},t.emit=function(e,t){var r=t.position||{},n=r.source;return n&&(r.filepath&&(n=a.unixify(r.filepath)),this.map.addMapping({source:n,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:r.start.line,column:r.start.column-1}}),r.content&&this.addContent(n,r),r.filepath&&this.addFile(n,r),this.updatePosition(e),this.output+=e),e},t.addFile=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.files,e)||(this.files[e]=t.content))},t.addContent=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.content,e)||this.map.setSourceContent(e,t.content))},t.applySourceMaps=function(){Object.keys(this.files).forEach((function(e){var t=this.files[e];if(this.map.setSourceContent(e,t),!0===this.options.inputSourcemaps){var r=a.sourceMapResolve.resolveSync(t,e,n.readFileSync);if(r){var s=new a.SourceMap.SourceMapConsumer(r.map),o=r.sourcesRelativeTo;this.map.applySourceMap(s,e,a.unixify(i.dirname(o)))}}}),this)},t.comment=function(e){return/^# sourceMappingURL=/.test(e.comment)?this.emit("",e.position):this._comment(e)}},2687:(e,t,r)=>{"use strict";t.extend=r(1432),t.SourceMap=r(2046),t.sourceMapResolve=r(3411),t.unixify=function(e){return e.split(/\\+/).join("/")},t.isString=function(e){return e&&"string"==typeof e},t.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},t.last=function(e,t){return e[e.length-(t||1)]}},3411:function(e,t,r){var n,i,s;i=[r(7229),r(6583)],void 0===(s="function"==typeof(n=function(e,t){function r(e,t,r){setImmediate((function(){e(t,r)}))}function n(e,t){try{return JSON.parse(e.replace(/^\)\]\}'/,""))}catch(e){throw e.sourceMapData=t,e}}function i(e,t,r){var n=t;try{return String(e(n))}catch(e){throw e.sourceMapData=r,e}}function s(e,t,i,s){var a;try{a=h(e,t)}catch(e){return r(s,e)}if(!a||a.map)return r(s,null,a);i(a.url,(function(e,t){if(e)return e.sourceMapData=a,s(e);a.map=String(t);try{a.map=n(a.map,a)}catch(e){return s(e)}s(null,a)}))}function a(e,t,r){var s=h(e,t);return!s||s.map||(s.map=i(r,s.url,s),s.map=n(s.map,s)),s}var o=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,c=/^(?:application|text)\/json$/,u="utf-8";function l(e){if("undefined"==typeof TextDecoder||"undefined"==typeof Uint8Array)return atob(e);var t=function(e){for(var t=atob(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}(e);return new TextDecoder(u,{fatal:!0}).decode(t)}function h(r,i){var s=e.getFrom(r);if(!s)return null;var a=s.match(o);if(a){var u=a[1]||"text/plain",h=a[2]||"",f=a[3]||"",d={sourceMappingURL:s,url:null,sourcesRelativeTo:i,map:f};if(!c.test(u)){var p=new Error("Unuseful data uri mime type: "+u);throw p.sourceMapData=d,p}try{d.map=n(";base64"===h?l(f):decodeURIComponent(f),d)}catch(p){throw p.sourceMapData=d,p}return d}var g=t(i,s);return{sourceMappingURL:s,url:g,sourcesRelativeTo:g,map:null}}function f(e,t,n,i,s){"function"==typeof i&&(s=i,i={});var a=e.sources?e.sources.length:0,o={sourcesResolved:[],sourcesContent:[]};if(0!==a){var c=function(){0==--a&&s(null,o)};g(e,t,i,(function(e,t,i){o.sourcesResolved[i]=e,"string"==typeof t?(o.sourcesContent[i]=t,r(c,null)):n(e,(function(e,t){o.sourcesContent[i]=e||String(t),c()}))}))}else r(s,null,o)}function d(e,t,r,n){var i={sourcesResolved:[],sourcesContent:[]};return e.sources&&0!==e.sources.length?(g(e,t,n,(function(e,t,n){if(i.sourcesResolved[n]=e,null!==r)if("string"==typeof t)i.sourcesContent[n]=t;else{var s=e;try{i.sourcesContent[n]=String(r(s))}catch(e){i.sourcesContent[n]=e}}})),i):i}var p=/\/?$/;function g(e,r,n,i){var s;n=n||{};for(var a=0,o=e.sources.length;a<o;a++)s=null,"string"==typeof n.sourceRoot?s=n.sourceRoot:"string"==typeof e.sourceRoot&&!1!==n.sourceRoot&&(s=e.sourceRoot),i(null===s||""===s?t(r,e.sources[a]):t(r,s.replace(p,"/"),e.sources[a]),(e.sourcesContent||[])[a],a)}return{resolveSourceMap:s,resolveSourceMapSync:a,resolveSources:f,resolveSourcesSync:d,resolve:function(e,t,r,i,a){if("function"==typeof i&&(a=i,i={}),null===e){var o={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null};r(t,(function(e,t){if(e)return e.sourceMapData=o,a(e);o.map=String(t);try{o.map=n(o.map,o)}catch(e){return a(e)}c(o)}))}else s(e,t,r,(function(e,t){return e?a(e):t?void c(t):a(null,null)}));function c(e){f(e.map,e.sourcesRelativeTo,r,i,(function(t,r){if(t)return a(t);e.sourcesResolved=r.sourcesResolved,e.sourcesContent=r.sourcesContent,a(null,e)}))}},resolveSync:function(e,t,r,s){var o;if(null===e)(o={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null}).map=i(r,t,o),o.map=n(o.map,o);else if(!(o=a(e,t,r)))return null;var c=d(o.map,o.sourcesRelativeTo,r,s);return o.sourcesResolved=c.sourcesResolved,o.sourcesContent=c.sourcesContent,o},parseMapToJSON:n}})?n.apply(t,i):n)||(e.exports=s)},7229:function(e,t,r){var n,i;void 0===(i="function"==typeof(n=function(){var e=/[#@] sourceMappingURL=([^\s'"]*)/,t=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+e.source+")\\s*\\*/|//(?:"+e.source+"))\\s*");return{regex:t,_innerRegex:e,getFrom:function(e){var r=e.match(t);return r?r[1]||r[2]||"":null},existsIn:function(e){return t.test(e)},removeFrom:function(e){return e.replace(t,"")},insertBefore:function(e,r){var n=e.match(t);return n?e.slice(0,n.index)+r+e.slice(n.index):e+r}}})?n.call(t,r,t,e):n)||(e.exports=i)},3116:(e,t,r)=>{var n=r(5489),i=Object.prototype.hasOwnProperty,s="undefined"!=typeof Map;function a(){this._array=[],this._set=s?new Map:Object.create(null)}a.fromArray=function(e,t){for(var r=new a,n=0,i=e.length;n<i;n++)r.add(e[n],t);return r},a.prototype.size=function(){return s?this._set.size:Object.getOwnPropertyNames(this._set).length},a.prototype.add=function(e,t){var r=s?e:n.toSetString(e),a=s?this.has(e):i.call(this._set,r),o=this._array.length;a&&!t||this._array.push(e),a||(s?this._set.set(e,o):this._set[r]=o)},a.prototype.has=function(e){if(s)return this._set.has(e);var t=n.toSetString(e);return i.call(this._set,t)},a.prototype.indexOf=function(e){if(s){var t=this._set.get(e);if(t>=0)return t}else{var r=n.toSetString(e);if(i.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},a.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},a.prototype.toArray=function(){return this._array.slice()},t.C=a},7092:(e,t,r)=>{var n=r(2364);t.encode=function(e){var t,r="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),r+=n.encode(t)}while(i>0);return r},t.decode=function(e,t,r){var i,s,a,o,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=n.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&s),u+=(s&=31)<<l,l+=5}while(i);r.value=(o=(a=u)>>1,1&~a?o:-o),r.rest=t}},2364:(e,t)=>{var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},1163:(e,t)=>{function r(e,n,i,s,a,o){var c=Math.floor((n-e)/2)+e,u=a(i,s[c],!0);return 0===u?c:u>0?n-c>1?r(c,n,i,s,a,o):o==t.LEAST_UPPER_BOUND?n<s.length?n:-1:c:c-e>1?r(e,c,i,s,a,o):o==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,i,s){if(0===n.length)return-1;var a=r(-1,n.length,e,n,i,s||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===i(n[a],n[a-1],!0);)--a;return a}},3302:(e,t,r)=>{var n=r(5489);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,r,i,s,a,o;r=e,i=(t=this._last).generatedLine,s=r.generatedLine,a=t.generatedColumn,o=r.generatedColumn,s>i||s==i&&o>=a||n.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.P=i},3801:(e,t)=>{function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function n(e,t,i,s){if(i<s){var a=i-1;r(e,(l=i,h=s,Math.round(l+Math.random()*(h-l))),s);for(var o=e[s],c=i;c<s;c++)t(e[c],o)<=0&&r(e,a+=1,c);r(e,a+1,c);var u=a+1;n(e,t,i,u-1),n(e,t,u+1,s)}var l,h}t.g=function(e,t){n(e,t,0,e.length-1)}},7446:(e,t,r)=>{var n=r(5489),i=r(1163),s=r(3116).C,a=r(7092),o=r(3801).g;function c(e,t){var r=e;return"string"==typeof e&&(r=n.parseSourceMapInput(e)),null!=r.sections?new h(r,t):new u(r,t)}function u(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),a=n.getArg(r,"sources"),o=n.getArg(r,"names",[]),c=n.getArg(r,"sourceRoot",null),u=n.getArg(r,"sourcesContent",null),l=n.getArg(r,"mappings"),h=n.getArg(r,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);c&&(c=n.normalize(c)),a=a.map(String).map(n.normalize).map((function(e){return c&&n.isAbsolute(c)&&n.isAbsolute(e)?n.relative(c,e):e})),this._names=s.fromArray(o.map(String),!0),this._sources=s.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map((function(e){return n.computeSourceURL(c,e,t)})),this.sourceRoot=c,this.sourcesContent=u,this._mappings=l,this._sourceMapURL=t,this.file=h}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),a=n.getArg(r,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new s,this._names=new s;var o={line:-1,column:0};this._sections=a.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var r=n.getArg(e,"offset"),i=n.getArg(r,"line"),s=n.getArg(r,"column");if(i<o.line||i===o.line&&s<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=r,{generatedOffset:{generatedLine:i+1,generatedColumn:s+1},consumer:new c(n.getArg(e,"map"),t)}}))}c.fromSourceMap=function(e,t){return u.fromSourceMap(e,t)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,r){var i,s=t||null;switch(r||c.GENERATED_ORDER){case c.GENERATED_ORDER:i=this._generatedMappings;break;case c.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;i.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=n.computeSourceURL(a,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,s)},c.prototype.allGeneratedPositionsFor=function(e){var t=n.getArg(e,"line"),r={source:n.getArg(e,"source"),originalLine:t,originalColumn:n.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var s=[],a=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(a>=0){var o=this._originalMappings[a];if(void 0===e.column)for(var c=o.originalLine;o&&o.originalLine===c;)s.push({line:n.getArg(o,"generatedLine",null),column:n.getArg(o,"generatedColumn",null),lastColumn:n.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++a];else for(var u=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==u;)s.push({line:n.getArg(o,"generatedLine",null),column:n.getArg(o,"generatedColumn",null),lastColumn:n.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++a]}return s},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=n.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},u.fromSourceMap=function(e,t){var r=Object.create(u.prototype),i=r._names=s.fromArray(e._names.toArray(),!0),a=r._sources=s.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map((function(e){return n.computeSourceURL(r.sourceRoot,e,t)}));for(var c=e._mappings.toArray().slice(),h=r.__generatedMappings=[],f=r.__originalMappings=[],d=0,p=c.length;d<p;d++){var g=c[d],m=new l;m.generatedLine=g.generatedLine,m.generatedColumn=g.generatedColumn,g.source&&(m.source=a.indexOf(g.source),m.originalLine=g.originalLine,m.originalColumn=g.originalColumn,g.name&&(m.name=i.indexOf(g.name)),f.push(m)),h.push(m)}return o(r.__originalMappings,n.compareByOriginalPositions),r},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),u.prototype._parseMappings=function(e,t){for(var r,i,s,c,u,h=1,f=0,d=0,p=0,g=0,m=0,y=e.length,b=0,v={},w={},S=[],E=[];b<y;)if(";"===e.charAt(b))h++,b++,f=0;else if(","===e.charAt(b))b++;else{for((r=new l).generatedLine=h,c=b;c<y&&!this._charIsMappingSeparator(e,c);c++);if(s=v[i=e.slice(b,c)])b+=i.length;else{for(s=[];b<c;)a.decode(e,b,w),u=w.value,b=w.rest,s.push(u);if(2===s.length)throw new Error("Found a source, but no line and column");if(3===s.length)throw new Error("Found a source and line, but no column");v[i]=s}r.generatedColumn=f+s[0],f=r.generatedColumn,s.length>1&&(r.source=g+s[1],g+=s[1],r.originalLine=d+s[2],d=r.originalLine,r.originalLine+=1,r.originalColumn=p+s[3],p=r.originalColumn,s.length>4&&(r.name=m+s[4],m+=s[4])),E.push(r),"number"==typeof r.originalLine&&S.push(r)}o(E,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,o(S,n.compareByOriginalPositions),this.__originalMappings=S},u.prototype._findMapping=function(e,t,r,n,s,a){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return i.search(e,t,s,a)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(r>=0){var i=this._generatedMappings[r];if(i.generatedLine===t.generatedLine){var s=n.getArg(i,"source",null);null!==s&&(s=this._sources.at(s),s=n.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=n.getArg(i,"name",null);return null!==a&&(a=this._names.at(a)),{source:s,line:n.getArg(i,"originalLine",null),column:n.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var i,s=e;if(null!=this.sourceRoot&&(s=n.relative(this.sourceRoot,s)),null!=this.sourceRoot&&(i=n.urlParse(this.sourceRoot))){var a=s.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!i.path||"/"==i.path)&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(t)return null;throw new Error('"'+s+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=n.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")},i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===r.source)return{line:n.getArg(s,"generatedLine",null),column:n.getArg(s,"generatedColumn",null),lastColumn:n.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},h.prototype=Object.create(c.prototype),h.prototype.constructor=c,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=i.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),s=this._sections[r];return s?s.consumer.originalPositionFor({line:t.generatedLine-(s.generatedOffset.generatedLine-1),column:t.generatedColumn-(s.generatedOffset.generatedLine===t.generatedLine?s.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},h.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(n.getArg(e,"source"))){var i=r.consumer.generatedPositionFor(e);if(i)return{line:i.line+(r.generatedOffset.generatedLine-1),column:i.column+(r.generatedOffset.generatedLine===i.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var i=this._sections[r],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var c=s[a],u=i.consumer._sources.at(c.source);u=n.computeSourceURL(i.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var l=null;c.name&&(l=i.consumer._names.at(c.name),this._names.add(l),l=this._names.indexOf(l));var h={source:u,generatedLine:c.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(i.generatedOffset.generatedLine===c.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}o(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),o(this.__originalMappings,n.compareByOriginalPositions)}},4041:(e,t,r)=>{var n=r(7092),i=r(5489),s=r(3116).C,a=r(3302).P;function o(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new a,this._sourcesContents=null}o.prototype._version=3,o.fromSourceMap=function(e){var t=e.sourceRoot,r=new o({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=i.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){var s=n;null!==t&&(s=i.relative(t,n)),r._sources.has(s)||r._sources.add(s);var a=e.sourceContentFor(n);null!=a&&r.setSourceContent(n,a)})),r},o.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),r=i.getArg(e,"original",null),n=i.getArg(e,"source",null),s=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,s),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=s&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:s})},o.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=i.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var a=this._sourceRoot;null!=a&&(n=i.relative(a,n));var o=new s,c=new s;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=r&&(t.source=i.join(r,t.source)),null!=a&&(t.source=i.relative(a,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var u=t.source;null==u||o.has(u)||o.add(u);var l=t.name;null==l||c.has(l)||c.add(l)}),this),this._sources=o,this._names=c,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=i.join(r,t)),null!=a&&(t=i.relative(a,t)),this.setSourceContent(t,n))}),this)},o.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},o.prototype._serializeMappings=function(){for(var e,t,r,s,a=0,o=1,c=0,u=0,l=0,h=0,f="",d=this._mappings.toArray(),p=0,g=d.length;p<g;p++){if(e="",(t=d[p]).generatedLine!==o)for(a=0;t.generatedLine!==o;)e+=";",o++;else if(p>0){if(!i.compareByGeneratedPositionsInflated(t,d[p-1]))continue;e+=","}e+=n.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(s=this._sources.indexOf(t.source),e+=n.encode(s-h),h=s,e+=n.encode(t.originalLine-1-u),u=t.originalLine-1,e+=n.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-l),l=r)),f+=e}return f},o.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var r=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},o.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=o},1683:(e,t,r)=>{var n=r(4041).SourceMapGenerator,i=r(5489),s=/(\r?\n)/,a="$$$isSourceNode$$$";function o(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[a]=!0,null!=n&&this.add(n)}o.fromStringWithSourceMap=function(e,t,r){var n=new o,a=e.split(s),c=0,u=function(){return e()+(e()||"");function e(){return c<a.length?a[c++]:void 0}},l=1,h=0,f=null;return t.eachMapping((function(e){if(null!==f){if(!(l<e.generatedLine)){var t=(r=a[c]||"").substr(0,e.generatedColumn-h);return a[c]=r.substr(e.generatedColumn-h),h=e.generatedColumn,d(f,t),void(f=e)}d(f,u()),l++,h=0}for(;l<e.generatedLine;)n.add(u()),l++;if(h<e.generatedColumn){var r=a[c]||"";n.add(r.substr(0,e.generatedColumn)),a[c]=r.substr(e.generatedColumn),h=e.generatedColumn}f=e}),this),c<a.length&&(f&&d(f,u()),n.add(a.splice(c).join(""))),t.sources.forEach((function(e){var s=t.sourceContentFor(e);null!=s&&(null!=r&&(e=i.join(r,e)),n.setSourceContent(e,s))})),n;function d(e,t){if(null===e||void 0===e.source)n.add(t);else{var s=r?i.join(r,e.source):e.source;n.add(new o(e.originalLine,e.originalColumn,s,t,e.name))}}},o.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},o.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},o.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},o.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[a]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},o.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},o.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(i.fromSetString(n[t]),this.sourceContents[n[t]])},o.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},o.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new n(e),i=!1,s=null,a=null,o=null,c=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(s===n.source&&a===n.line&&o===n.column&&c===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),s=n.source,a=n.line,o=n.column,c=n.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),s=null,i=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(s=null,i=!1):i&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}},t.SourceNode=o},5489:(e,t)=>{t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function s(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var r=e,n=i(e);if(n){if(!n.path)return e;r=n.path}for(var a,o=t.isAbsolute(r),c=r.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(a=c[l])?c.splice(l,1):".."===a?u++:u>0&&(""===a?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(r=c.join("/"))&&(r=o?"/":"."),n?(n.path=r,s(n)):r}function o(e,t){""===e&&(e="."),""===t&&(t=".");var r=i(t),o=i(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),s(r);if(r||t.match(n))return t;if(o&&!o.host&&!o.path)return o.host=t,s(o);var c="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=c,s(o)):c}t.urlParse=i,t.urlGenerate=s,t.normalize=a,t.join=o,t.isAbsolute=function(e){return"/"===e.charAt(0)||r.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?"$"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){var n=h(e.source,t.source);return 0!==n||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)||r||0!=(n=e.generatedColumn-t.generatedColumn)||0!=(n=e.generatedLine-t.generatedLine)?n:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=h(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||0!==(r=h(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var n=i(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var c=n.path.lastIndexOf("/");c>=0&&(n.path=n.path.substring(0,c+1))}t=o(s(n),t)}return a(t)}},2046:(e,t,r)=>{t.SourceMapGenerator=r(4041).SourceMapGenerator,t.SourceMapConsumer=r(7446).SourceMapConsumer,t.SourceNode=r(1683).SourceNode},4007:(e,t,r)=>{"use strict";var n=r(1432);function i(e,t,r,n){var s=e.indexOf(t,r);return"\\"===e.charAt(s-1)?i(e,t,s+1):s}function s(e,t){return!0===t.keepDoubleQuotes&&'"'===e||!0===t.keepSingleQuotes&&"'"===e||t.keepQuotes}function a(e,t,r){return"function"==typeof e.keepEscaping?e.keepEscaping(t,r):!0===e.keepEscaping||"\\"===t[r+1]}e.exports=function(e,t,r){if("string"!=typeof e)throw new TypeError("expected a string");"function"==typeof t&&(r=t,t=null),"string"==typeof t&&(t={sep:t});var o,c=n({sep:"."},t),u=c.quotes||['"',"'","`"];!0===c.brackets?o={"<":">","(":")","[":"]","{":"}"}:c.brackets&&(o=c.brackets);var l,h=[],f=[],d=[""],p=c.sep,g=e.length,m=-1;function y(){if(o&&f.length)return o[f[f.length-1]]}for(;++m<g;){var b=e[m],v=e[m+1],w={val:b,idx:m,arr:d,str:e};if(h.push(w),"\\"!==b){if(o&&o[b]){f.push(b);var S=y(),E=m+1;if(-1!==e.indexOf(S,E+1))for(;f.length&&E<g;){var x=e[++E];if("\\"!==x)if(-1===u.indexOf(x)){if(S=y(),f.length&&-1===e.indexOf(S,E+1))break;o[x]?f.push(x):S===x&&f.pop()}else E=i(e,x,E+1);else x++}if(-1===(l=E)){d[d.length-1]+=b;continue}b=e.slice(m,l+1),w.val=b,w.idx=m=l}if(-1!==u.indexOf(b)){if(-1===(l=i(e,b,m+1))){d[d.length-1]+=b;continue}b=!0===s(b,c)?e.slice(m,l+1):e.slice(m+1,l),w.val=b,w.idx=m=l}"function"==typeof r&&(r(w,h),b=w.val,m=w.idx),w.val!==p||!1===w.split?d[d.length-1]+=w.val:d.push("")}else w.val=!0===a(c,e,m)?b+v:v,w.escaped=!0,"function"==typeof r&&r(w),d[d.length-1]+=w.val,m++}return d}},7604:(e,t,r)=>{var n;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+|\*)?(?:\.(\d+|\*))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/,trailing_period_zero:/\.0$/,trailing_zeroes:/(\.\d*?[1-9])0+$|\.0+$/,period_zero_exp:/\.0*e/,zero_before_exp:/(\..*[^0])0*e/,exp_pos_digits:/e\+(\d)$/,exp_neg_digits:/e-(\d)$/,exp_trailing:/e([+-])(\d)$/};function s(e){return function(e,t){const r=2147483648;var n,a,o,c,u,l,h,f,d,p,g,m,y,b=1,v=e.length,w="";for(a=0;a<v;a++)if("string"==typeof e[a])w+=e[a];else if("object"==typeof e[a]){if((c=e[a]).keys)for(n=t[b],o=0;o<c.keys.length;o++){if(null==n)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',c.keys[o],c.keys[o-1]));n=n[c.keys[o]]}else c.param_no?n=t[c.param_no]:"*"===c.width?(c.width=parseInt(t[b++],10),n=t[b++]):"*"===c.precision?(c.precision=parseInt(t[b++],10),n=t[b++]):n=t[b++];if(i.not_type.test(c.type)&&i.not_primitive.test(c.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(c.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(s("[sprintf] expecting number but found %T",n));switch(i.number.test(c.type)&&(f=n>=0),c.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,c.width?parseInt(c.width):0);break;case"e":n=c.precision?parseFloat(n).toExponential(c.precision):parseFloat(n).toExponential(6);break;case"f":n=c.precision?parseFloat(n).toFixed(c.precision):parseFloat(n).toFixed(6);break;case"g":0===(m=parseFloat(n))?n="0":Math.abs(m)<1e-4?(y=(y=c.precision?c.precision:6)>0?y-1:0,n=m.toExponential(y)):n=c.precision&&c.precision<1?m.toFixed(0):c.precision?String(Number(n.toPrecision(c.precision))):m.toPrecision(6),n=(n=(n=n.replace(i.zero_before_exp,"$1e")).replace(i.period_zero_exp,"e")).replace(i.trailing_zeroes,"$1");break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=c.precision?n.substring(0,c.precision):n;break;case"t":n=String(!!n),n=c.precision?n.substring(0,c.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=c.precision?n.substring(0,c.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=c.precision?n.substring(0,c.precision):n;break;case"x":case"X":p=(parseInt(n,10)>>>0).toString(16),n&&n.high?p=(parseInt(n.high,10)>>>0).toString(16)+p.padStart(8,"0"):(parseInt(n,10)>r-1||parseInt(n,10)<-r)&&(g=BigInt.asUintN(32,BigInt(n)>>BigInt(32)).toString(16),p=0!==parseInt(g,16)?g+p.padStart(8,"0"):p),n="X"===c.type?p.toUpperCase():p}"e"!==c.type&&"g"!==c.type||(n=(n=(n=n.replace(i.exp_pos_digits,"e+$1")).replace(i.exp_neg_digits,"e-$1")).replace(i.exp_trailing,"e$10$2")),i.json.test(c.type)?w+=n:(!i.number.test(c.type)||f&&!c.sign?d="":(d=f?"+":"-",n=n.toString().replace(i.sign,"")),l=c.pad_char?"0"===c.pad_char?"0":c.pad_char.charAt(1):" ",h=c.width-(d+n).length,u=c.width&&h>0?l.repeat(h):"",w+=c.align?d+n+u:"0"===l?d+u+n:u+d+n)}return w}(function(e){if(o[e])return o[e];for(var t,r=e,n=[],s=0;r;){if(null!==(t=i.text.exec(r)))n.push(t[0]);else if(null!==(t=i.modulo.exec(r)))n.push("%");else{if(null===(t=i.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;var a=[],c=t[2],u=[];if(null===(u=i.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(u[1]);""!==(c=c.substring(u[0].length));)if(null!==(u=i.key_access.exec(c)))a.push(u[1]);else{if(null===(u=i.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(u[1])}t[2]=a}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}return o[e]=n}(e),arguments)}function a(e,t){return s.apply(null,[e].concat(t||[]))}var o=Object.create(null);t.sprintf=s,t.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=s,window.vsprintf=a,void 0===(n=function(){return{sprintf:s,vsprintf:a}}.call(t,r,t,e))||(e.exports=n))}()},1394:(e,t,r)=>{"use strict";var n=r(1516),i=r(7824),s=r(537);e.exports=function e(t,r){if("function"!=typeof t)throw new TypeError("expected Parent to be a function.");return function(a,o){if("function"!=typeof a)throw new TypeError("expected Ctor to be a function.");if(s.inherits(a,t),n(a,t),"object"==typeof o){var c=Object.create(o);for(var u in c)a.prototype[u]=c[u]}i(a.prototype,"_parent_",{configurable:!0,set:function(){},get:function(){return t.prototype}}),"function"==typeof r&&r(a,t),a.extend=e(a,r)}}},8310:(e,t,r)=>{e.exports=i;var n=r(7007).EventEmitter;function i(){n.call(this)}r(6698)(i,n),i.Readable=r(5412),i.Writable=r(6708),i.Duplex=r(5382),i.Transform=r(4610),i.PassThrough=r(3600),i.finished=r(6238),i.pipeline=r(7758),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",c));var a=!1;function o(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",s),r.removeListener("end",o),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",u),e.on("error",u),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},3141:(e,t,r)=>{"use strict";var n=r(2861).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},2047:e=>{e.exports=function(e){if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new DataView(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new DataView(e);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}},2944:(e,t,r)=>{"use strict";var n=r(4908);function i(e){for(var t=e.length,r=-1,s=[];++r<t;){var a=e[r];"arguments"===n(a)||Array.isArray(a)?s.push.apply(s,i(a)):"string"==typeof a&&s.push(a)}return s}e.exports=function(e){return"arguments"!==n(e)&&(e=arguments),i(e).join(".")}},3982:(e,t,r)=>{"use strict";var n=r(8586),i=r(7824),s=r(1432),a=r(2912),o={};function c(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");var r=e;if((!t||t&&!1!==t.cache)&&(r=function(e,t){if(!t)return e;var r=e;for(var n in t)t.hasOwnProperty(n)&&(r+=";"+n+"="+String(t[n]));return r}(e,t),o.hasOwnProperty(r)))return o[r];var c=s({},t);!0===c.contains&&(!0===c.negate?c.strictNegate=!1:c.strict=!1),!1===c.strict&&(c.strictOpen=!1,c.strictClose=!1);var u,l=!1!==c.strictOpen?"^":"",h=!1!==c.strictClose?"$":"",f=c.flags||"";!0!==c.nocase||/i/.test(f)||(f+="i");try{if((c.negate||"boolean"==typeof c.strictNegate)&&(e=a.create(e,c)),u=new RegExp(l+"(?:"+e+")"+h,f),!0===c.safe&&!1===n(u))throw new Error("potentially unsafe regular expression: "+u.source)}catch(n){if(!0===c.strictErrors||!0===c.safe)throw n.key=r,n.pattern=e,n.originalOptions=t,n.createdOptions=c,n;try{u=new RegExp("^"+e.replace(/(\W)/g,"\\$1")+"$")}catch(e){u=/.^/}}return!1!==c.cache&&function(e,t,r,n){i(e,"cached",!0),i(e,"pattern",r),i(e,"options",n),i(e,"key",t),o[t]=e}(u,r,e,c),u}e.exports=function(e,t){return Array.isArray(e)?c(e.join("|"),t):c(e,t)},e.exports.makeRe=c},1384:(e,t,r)=>{"use strict";var n=r(2328),i=r(4450),s=r(5363),a=r(9575);function o(e){return null==e?[]:Array.isArray(e)?e:[e]}e.exports=function(e,t,r){if(!n(e))throw new TypeError("union-value expects the first argument to be an object.");if("string"!=typeof t)throw new TypeError("union-value expects `prop` to be a string.");var c=o(s(e,t));return a(e,t,i(c,o(r))),e}},8782:(e,t,r)=>{"use strict";var n=r(3798),i=r(6839);e.exports=function(e,t){if(!n(e))throw new TypeError("expected an object.");if(e.hasOwnProperty(t))return delete e[t],!0;if(i(e,t)){for(var r=t.split("."),s=r.pop();r.length&&"\\"===r[r.length-1].slice(-1);)s=r.pop().slice(0,-1)+"."+s;for(;r.length;)e=e[t=r.shift()];return delete e[s]}return!0}},6492:(e,t,r)=>{var n;r(5606),n={},e.exports=n,function(e,t){e.toRGBA8=function(t){var r=t.width,n=t.height;if(null==t.tabs.acTL)return[e.toRGBA8.decodeImage(t.data,r,n,t).buffer];var i=[];null==t.frames[0].data&&(t.frames[0].data=t.data);for(var s,a=new Uint8Array(r*n*4),o=0;o<t.frames.length;o++){var c=t.frames[o],u=c.rect.x,l=c.rect.y,h=c.rect.width,f=c.rect.height,d=e.toRGBA8.decodeImage(c.data,h,f,t);if(0==o?s=d:0==c.blend?e._copyTile(d,h,f,s,r,n,u,l,0):1==c.blend&&e._copyTile(d,h,f,s,r,n,u,l,1),i.push(s.buffer),s=s.slice(0),0==c.dispose);else if(1==c.dispose)e._copyTile(a,h,f,s,r,n,u,l,0);else if(2==c.dispose){for(var p=o-1;2==t.frames[p].dispose;)p--;s=new Uint8Array(i[p]).slice(0)}}return i},e.toRGBA8.decodeImage=function(t,r,n,i){var s=r*n,a=e.decode._getBPP(i),o=Math.ceil(r*a/8),c=new Uint8Array(4*s),u=new Uint32Array(c.buffer),l=i.ctype,h=i.depth,f=e._bin.readUshort;if(6==l){var d=s<<2;if(8==h)for(var p=0;p<d;p++)c[p]=t[p];if(16==h)for(p=0;p<d;p++)c[p]=t[p<<1]}else if(2==l){var g=i.tabs.tRNS,m=-1,y=-1,b=-1;if(g&&(m=g[0],y=g[1],b=g[2]),8==h)for(p=0;p<s;p++){var v=3*p;c[T=p<<2]=t[v],c[T+1]=t[v+1],c[T+2]=t[v+2],c[T+3]=255,-1!=m&&t[v]==m&&t[v+1]==y&&t[v+2]==b&&(c[T+3]=0)}if(16==h)for(p=0;p<s;p++)v=6*p,c[T=p<<2]=t[v],c[T+1]=t[v+2],c[T+2]=t[v+4],c[T+3]=255,-1!=m&&f(t,v)==m&&f(t,v+2)==y&&f(t,v+4)==b&&(c[T+3]=0)}else if(3==l){var w=i.tabs.PLTE,S=i.tabs.tRNS,E=S?S.length:0;if(1==h)for(var x=0;x<n;x++){var I=x*o,_=x*r;for(p=0;p<r;p++){var T=_+p<<2,k=3*(A=t[I+(p>>3)]>>7-(7&p)&1);c[T]=w[k],c[T+1]=w[k+1],c[T+2]=w[k+2],c[T+3]=A<E?S[A]:255}}if(2==h)for(x=0;x<n;x++)for(I=x*o,_=x*r,p=0;p<r;p++)T=_+p<<2,k=3*(A=t[I+(p>>2)]>>6-((3&p)<<1)&3),c[T]=w[k],c[T+1]=w[k+1],c[T+2]=w[k+2],c[T+3]=A<E?S[A]:255;if(4==h)for(x=0;x<n;x++)for(I=x*o,_=x*r,p=0;p<r;p++)T=_+p<<2,k=3*(A=t[I+(p>>1)]>>4-((1&p)<<2)&15),c[T]=w[k],c[T+1]=w[k+1],c[T+2]=w[k+2],c[T+3]=A<E?S[A]:255;if(8==h)for(p=0;p<s;p++){var A;T=p<<2,k=3*(A=t[p]),c[T]=w[k],c[T+1]=w[k+1],c[T+2]=w[k+2],c[T+3]=A<E?S[A]:255}}else if(4==l){if(8==h)for(p=0;p<s;p++){T=p<<2;var C=t[M=p<<1];c[T]=C,c[T+1]=C,c[T+2]=C,c[T+3]=t[M+1]}if(16==h)for(p=0;p<s;p++){var M;T=p<<2,C=t[M=p<<2],c[T]=C,c[T+1]=C,c[T+2]=C,c[T+3]=t[M+2]}}else if(0==l){if(m=i.tabs.tRNS?i.tabs.tRNS:-1,1==h)for(p=0;p<s;p++){var R=(C=255*(t[p>>3]>>7-(7&p)&1))==255*m?0:255;u[p]=R<<24|C<<16|C<<8|C}if(2==h)for(p=0;p<s;p++)R=(C=85*(t[p>>2]>>6-((3&p)<<1)&3))==85*m?0:255,u[p]=R<<24|C<<16|C<<8|C;if(4==h)for(p=0;p<s;p++)R=(C=17*(t[p>>1]>>4-((1&p)<<2)&15))==17*m?0:255,u[p]=R<<24|C<<16|C<<8|C;if(8==h)for(p=0;p<s;p++)R=(C=t[p])==m?0:255,u[p]=R<<24|C<<16|C<<8|C;if(16==h)for(p=0;p<s;p++)C=t[p<<1],R=f(t,p<<1)==m?0:255,u[p]=R<<24|C<<16|C<<8|C}return c},e.decode=function(t){for(var r,n=new Uint8Array(t),i=8,s=e._bin,a=s.readUshort,o=s.readUint,c={tabs:{},frames:[]},u=new Uint8Array(n.length),l=0,h=0,f=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(n[d]!=f[d])throw new Error("The input is not a PNG file!");for(;i<n.length;){var p=s.readUint(n,i);i+=4;var g=s.readASCII(n,i,4);if(i+=4,"IHDR"==g)e.decode._IHDR(n,i,c);else if("IDAT"==g){for(d=0;d<p;d++)u[l+d]=n[i+d];l+=p}else if("acTL"==g)c.tabs[g]={num_frames:o(n,i),num_plays:o(n,i+4)},r=new Uint8Array(n.length);else if("fcTL"==g){0!=h&&((I=c.frames[c.frames.length-1]).data=e.decode._decompress(c,r.slice(0,h),I.rect.width,I.rect.height),h=0);var m={x:o(n,i+12),y:o(n,i+16),width:o(n,i+4),height:o(n,i+8)},y=a(n,i+22);y=a(n,i+20)/(0==y?100:y);var b={rect:m,delay:Math.round(1e3*y),dispose:n[i+24],blend:n[i+25]};c.frames.push(b)}else if("fdAT"==g){for(d=0;d<p-4;d++)r[h+d]=n[i+d+4];h+=p-4}else if("pHYs"==g)c.tabs[g]=[s.readUint(n,i),s.readUint(n,i+4),n[i+8]];else if("cHRM"==g)for(c.tabs[g]=[],d=0;d<8;d++)c.tabs[g].push(s.readUint(n,i+4*d));else if("tEXt"==g){null==c.tabs[g]&&(c.tabs[g]={});var v=s.nextZero(n,i),w=s.readASCII(n,i,v-i),S=s.readASCII(n,v+1,i+p-v-1);c.tabs[g][w]=S}else if("iTXt"==g){null==c.tabs[g]&&(c.tabs[g]={}),v=0;var E=i;v=s.nextZero(n,E),w=s.readASCII(n,E,v-E),n[E=v+1],n[E+1],E+=2,v=s.nextZero(n,E),s.readASCII(n,E,v-E),E=v+1,v=s.nextZero(n,E),s.readUTF8(n,E,v-E),E=v+1,S=s.readUTF8(n,E,p-(E-i)),c.tabs[g][w]=S}else if("PLTE"==g)c.tabs[g]=s.readBytes(n,i,p);else if("hIST"==g){var x=c.tabs.PLTE.length/3;for(c.tabs[g]=[],d=0;d<x;d++)c.tabs[g].push(a(n,i+2*d))}else if("tRNS"==g)3==c.ctype?c.tabs[g]=s.readBytes(n,i,p):0==c.ctype?c.tabs[g]=a(n,i):2==c.ctype&&(c.tabs[g]=[a(n,i),a(n,i+2),a(n,i+4)]);else if("gAMA"==g)c.tabs[g]=s.readUint(n,i)/1e5;else if("sRGB"==g)c.tabs[g]=n[i];else if("bKGD"==g)0==c.ctype||4==c.ctype?c.tabs[g]=[a(n,i)]:2==c.ctype||6==c.ctype?c.tabs[g]=[a(n,i),a(n,i+2),a(n,i+4)]:3==c.ctype&&(c.tabs[g]=n[i]);else if("IEND"==g){var I;0!=h&&((I=c.frames[c.frames.length-1]).data=e.decode._decompress(c,r.slice(0,h),I.rect.width,I.rect.height),h=0),c.data=e.decode._decompress(c,u,c.width,c.height);break}i+=p,s.readUint(n,i),i+=4}return delete c.compress,delete c.interlace,delete c.filter,c},e.decode._decompress=function(t,r,n,i){return 0==t.compress&&(r=e.decode._inflate(r)),0==t.interlace?r=e.decode._filterZero(r,t,0,n,i):1==t.interlace&&(r=e.decode._readInterlace(r,t)),r},e.decode._inflate=function(e){return t.decompressSync(e)},e.decode._readInterlace=function(t,r){for(var n=r.width,i=r.height,s=e.decode._getBPP(r),a=s>>3,o=Math.ceil(n*s/8),c=new Uint8Array(i*o),u=0,l=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],p=0;p<7;){for(var g=f[p],m=d[p],y=0,b=0,v=l[p];v<i;)v+=g,b++;for(var w=h[p];w<n;)w+=m,y++;var S=Math.ceil(y*s/8);e.decode._filterZero(t,r,u,y,b);for(var E=0,x=l[p];x<i;){for(var I=h[p],_=u+E*S<<3;I<n;){var T;if(1==s&&(T=(T=t[_>>3])>>7-(7&_)&1,c[x*o+(I>>3)]|=T<<7-(3&I)),2==s&&(T=(T=t[_>>3])>>6-(7&_)&3,c[x*o+(I>>2)]|=T<<6-((3&I)<<1)),4==s&&(T=(T=t[_>>3])>>4-(7&_)&15,c[x*o+(I>>1)]|=T<<4-((1&I)<<2)),s>=8)for(var k=x*o+I*a,A=0;A<a;A++)c[k+A]=t[(_>>3)+A];_+=s,I+=m}E++,x+=g}y*b!=0&&(u+=b*(1+S)),p+=1}return c},e.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},e.decode._filterZero=function(t,r,n,i,s){var a=e.decode._getBPP(r),o=Math.ceil(i*a/8),c=e.decode._paeth;a=Math.ceil(a/8);for(var u=0;u<s;u++){var l=n+u*o,h=l+u+1,f=t[h-1];if(0==f)for(var d=0;d<o;d++)t[l+d]=t[h+d];else if(1==f){for(d=0;d<a;d++)t[l+d]=t[h+d];for(d=a;d<o;d++)t[l+d]=t[h+d]+t[l+d-a]&255}else if(0==u){for(d=0;d<a;d++)t[l+d]=t[h+d];if(2==f)for(d=a;d<o;d++)t[l+d]=255&t[h+d];if(3==f)for(d=a;d<o;d++)t[l+d]=t[h+d]+(t[l+d-a]>>1)&255;if(4==f)for(d=a;d<o;d++)t[l+d]=t[h+d]+c(t[l+d-a],0,0)&255}else{if(2==f)for(d=0;d<o;d++)t[l+d]=t[h+d]+t[l+d-o]&255;if(3==f){for(d=0;d<a;d++)t[l+d]=t[h+d]+(t[l+d-o]>>1)&255;for(d=a;d<o;d++)t[l+d]=t[h+d]+(t[l+d-o]+t[l+d-a]>>1)&255}if(4==f){for(d=0;d<a;d++)t[l+d]=t[h+d]+c(0,t[l+d-o],0)&255;for(d=a;d<o;d++)t[l+d]=t[h+d]+c(t[l+d-a],t[l+d-o],t[l+d-a-o])&255}}}return t},e.decode._paeth=function(e,t,r){var n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),a=Math.abs(n-r);return i<=s&&i<=a?e:s<=a?t:r},e.decode._IHDR=function(t,r,n){var i=e._bin;n.width=i.readUint(t,r),r+=4,n.height=i.readUint(t,r),r+=4,n.depth=t[r],r++,n.ctype=t[r],r++,n.compress=t[r],r++,n.filter=t[r],r++,n.interlace=t[r],r++},e._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},readASCII:function(e,t,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},writeASCII:function(e,t,r){for(var n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},readBytes:function(e,t,r){for(var n=[],i=0;i<r;i++)n.push(e[t+i]);return n},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(t,r,n){for(var i,s="",a=0;a<n;a++)s+="%"+e._bin.pad(t[r+a].toString(16));try{i=decodeURIComponent(s)}catch(i){return e._bin.readASCII(t,r,n)}return i}},e._copyTile=function(e,t,r,n,i,s,a,o,c){for(var u=Math.min(t,i),l=Math.min(r,s),h=0,f=0,d=0;d<l;d++)for(var p=0;p<u;p++)if(a>=0&&o>=0?(h=d*t+p<<2,f=(o+d)*i+a+p<<2):(h=(-o+d)*t-a+p<<2,f=d*i+p<<2),0==c)n[f]=e[h],n[f+1]=e[h+1],n[f+2]=e[h+2],n[f+3]=e[h+3];else if(1==c){var g=e[h+3]*(1/255),m=e[h]*g,y=e[h+1]*g,b=e[h+2]*g,v=n[f+3]*(1/255),w=n[f]*v,S=n[f+1]*v,E=n[f+2]*v,x=1-g,I=g+v*x,_=0==I?0:1/I;n[f+3]=255*I,n[f+0]=(m+w*x)*_,n[f+1]=(y+S*x)*_,n[f+2]=(b+E*x)*_}else if(2==c)g=e[h+3],m=e[h],y=e[h+1],b=e[h+2],v=n[f+3],w=n[f],S=n[f+1],E=n[f+2],g==v&&m==w&&y==S&&b==E?(n[f]=0,n[f+1]=0,n[f+2]=0,n[f+3]=0):(n[f]=m,n[f+1]=y,n[f+2]=b,n[f+3]=g);else if(3==c){if(g=e[h+3],m=e[h],y=e[h+1],b=e[h+2],v=n[f+3],w=n[f],S=n[f+1],E=n[f+2],g==v&&m==w&&y==S&&b==E)continue;if(g<220&&v>20)return!1}return!0},e.encode=function(t,r,n,i,s,a){null==i&&(i=0),null==a&&(a=!1);for(var o=new Uint8Array(t[0].byteLength*t.length+100),c=[137,80,78,71,13,10,26,10],u=0;u<8;u++)o[u]=c[u];var l=8,h=e._bin,f=e.crc.crc,d=h.writeUint,p=h.writeUshort,g=h.writeASCII,m=e.encode.compressPNG(t,r,n,i,a);d(o,l,13),g(o,l+=4,"IHDR"),d(o,l+=4,r),d(o,l+=4,n),o[l+=4]=m.depth,o[++l]=m.ctype,o[++l]=0,o[++l]=0,o[++l]=0,d(o,++l,f(o,l-17,17)),d(o,l+=4,1),g(o,l+=4,"sRGB"),o[l+=4]=1,d(o,++l,f(o,l-5,5)),l+=4;var y=t.length>1;if(y&&(d(o,l,8),g(o,l+=4,"acTL"),d(o,l+=4,t.length),d(o,l+=4,0),d(o,l+=4,f(o,l-12,12)),l+=4),3==m.ctype){for(d(o,l,3*(T=m.plte.length)),g(o,l+=4,"PLTE"),l+=4,u=0;u<T;u++){var b=3*u,v=m.plte[u],w=255&v,S=v>>8&255,E=v>>16&255;o[l+b+0]=w,o[l+b+1]=S,o[l+b+2]=E}if(d(o,l+=3*T,f(o,l-3*T-4,3*T+4)),l+=4,m.gotAlpha){for(d(o,l,T),g(o,l+=4,"tRNS"),l+=4,u=0;u<T;u++)o[l+u]=m.plte[u]>>24&255;d(o,l+=T,f(o,l-T-4,T+4)),l+=4}}for(var x=0,I=0;I<m.frames.length;I++){var _=m.frames[I];y&&(d(o,l,26),g(o,l+=4,"fcTL"),d(o,l+=4,x++),d(o,l+=4,_.rect.width),d(o,l+=4,_.rect.height),d(o,l+=4,_.rect.x),d(o,l+=4,_.rect.y),p(o,l+=4,s[I]),p(o,l+=2,1e3),o[l+=2]=_.dispose,o[++l]=_.blend,d(o,++l,f(o,l-30,30)),l+=4);var T,k=_.cimg;d(o,l,(T=k.length)+(0==I?0:4));var A=l+=4;for(g(o,l,0==I?"IDAT":"fdAT"),l+=4,0!=I&&(d(o,l,x++),l+=4),u=0;u<T;u++)o[l+u]=k[u];d(o,l+=T,f(o,A,l-A)),l+=4}return d(o,l,0),g(o,l+=4,"IEND"),d(o,l+=4,f(o,l-4,4)),l+=4,o.buffer.slice(0,l)},e.encode.compressPNG=function(t,r,n,i,s){for(var a=e.encode.compress(t,r,n,i,!1,s),o=0;o<t.length;o++){var c=a.frames[o],u=(c.rect.width,c.rect.height),l=c.bpl,h=c.bpp,f=new Uint8Array(u*l+u);c.cimg=e.encode._filterZero(c.img,u,h,l,f)}return a},e.encode.compress=function(t,r,n,i,s,a){null==a&&(a=!1);for(var o=6,c=8,u=4,l=255,h=0;h<t.length;h++)for(var f=new Uint8Array(t[h]),d=f.length,p=0;p<d;p+=4)l&=f[p+3];var g=255!=l,m={},y=[];if(0!=t.length&&(m[0]=0,y.push(0),0!=i&&i--),0!=i){var b=e.quantize(t,i,s);for(t=b.bufs,p=0;p<b.plte.length;p++)null==m[w=b.plte[p].est.rgba]&&(m[w]=y.length,y.push(w))}else for(h=0;h<t.length;h++){var v=new Uint32Array(t[h]);for(d=v.length,p=0;p<d;p++){var w=v[p];if((p<r||w!=v[p-1]&&w!=v[p-r])&&null==m[w]&&(m[w]=y.length,y.push(w),y.length>=300))break}}var S=!!g&&s,E=y.length;E<=256&&0==a&&(c=E<=2?1:E<=4?2:E<=16?4:8,s&&(c=8),g=!0);var x=[];for(h=0;h<t.length;h++){var I=new Uint8Array(t[h]),_=new Uint32Array(I.buffer),T=0,k=0,A=r,C=n,M=0;if(0!=h&&!S){for(var R=s||1==h||2==x[x.length-2].dispose?1:2,O=0,D=1e9,P=0;P<R;P++){for(var L=new Uint8Array(t[h-1-P]),F=new Uint32Array(t[h-1-P]),N=r,B=n,U=-1,j=-1,V=0;V<n;V++)for(var G=0;G<r;G++)_[p=V*r+G]!=F[p]&&(G<N&&(N=G),G>U&&(U=G),V<B&&(B=V),V>j&&(j=V));var z=-1==U?1:(U-N+1)*(j-B+1);z<D&&(D=z,O=P,-1==U?(T=k=0,A=C=1):(T=N,k=B,A=U-N+1,C=j-B+1))}L=new Uint8Array(t[h-1-O]),1==O&&(x[x.length-1].dispose=2);var W=new Uint8Array(A*C*4);new Uint32Array(W.buffer),e._copyTile(L,r,n,W,A,C,-T,-k,0),e._copyTile(I,r,n,W,A,C,-T,-k,3)?(e._copyTile(I,r,n,W,A,C,-T,-k,2),M=1):(e._copyTile(I,r,n,W,A,C,-T,-k,0),M=0),I=W,_=new Uint32Array(I.buffer)}var q=4*A;if(E<=256&&0==a){for(q=Math.ceil(c*A/8),W=new Uint8Array(q*C),V=0;V<C;V++){p=V*q;var $=V*A;if(8==c)for(G=0;G<A;G++)W[p+G]=m[_[$+G]];else if(4==c)for(G=0;G<A;G++)W[p+(G>>1)]|=m[_[$+G]]<<4-4*(1&G);else if(2==c)for(G=0;G<A;G++)W[p+(G>>2)]|=m[_[$+G]]<<6-2*(3&G);else if(1==c)for(G=0;G<A;G++)W[p+(G>>3)]|=m[_[$+G]]<<7-1*(7&G)}I=W,o=3,u=1}else if(0==g&&1==t.length){W=new Uint8Array(A*C*3);var H=A*C;for(p=0;p<H;p++){var X=3*p,Y=4*p;W[X]=I[Y],W[X+1]=I[Y+1],W[X+2]=I[Y+2]}I=W,o=2,u=3,q=3*A}x.push({rect:{x:T,y:k,width:A,height:C},img:I,bpl:q,bpp:u,blend:M,dispose:S?1:0})}return{ctype:o,depth:c,plte:y,gotAlpha:g,frames:x}},e.encode._filterZero=function(r,n,i,s,a){for(var o=[],c=0;c<5;c++)if(!(n*s>5e5)||2!=c&&3!=c&&4!=c){for(var u=0;u<n;u++)e.encode._filterLine(a,r,u,s,i,c);if(o.push(t.deflateSync(a)),1==i)break}for(var l,h=1e9,f=0;f<o.length;f++)o[f].length<h&&(l=f,h=o[f].length);return o[l]},e.encode._filterLine=function(t,r,n,i,s,a){var o=n*i,c=o+n,u=e.decode._paeth;if(t[c]=a,c++,0==a)for(var l=0;l<i;l++)t[c+l]=r[o+l];else if(1==a){for(l=0;l<s;l++)t[c+l]=r[o+l];for(l=s;l<i;l++)t[c+l]=r[o+l]-r[o+l-s]+256&255}else if(0==n){for(l=0;l<s;l++)t[c+l]=r[o+l];if(2==a)for(l=s;l<i;l++)t[c+l]=r[o+l];if(3==a)for(l=s;l<i;l++)t[c+l]=r[o+l]-(r[o+l-s]>>1)+256&255;if(4==a)for(l=s;l<i;l++)t[c+l]=r[o+l]-u(r[o+l-s],0,0)+256&255}else{if(2==a)for(l=0;l<i;l++)t[c+l]=r[o+l]+256-r[o+l-i]&255;if(3==a){for(l=0;l<s;l++)t[c+l]=r[o+l]+256-(r[o+l-i]>>1)&255;for(l=s;l<i;l++)t[c+l]=r[o+l]+256-(r[o+l-i]+r[o+l-s]>>1)&255}if(4==a){for(l=0;l<s;l++)t[c+l]=r[o+l]+256-u(0,r[o+l-i],0)&255;for(l=s;l<i;l++)t[c+l]=r[o+l]+256-u(r[o+l-s],r[o+l-i],r[o+l-s-i])&255}}},e.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(t,r,n,i){for(var s=0;s<i;s++)t=e.crc.table[255&(t^r[n+s])]^t>>>8;return t},crc:function(t,r,n){return 4294967295^e.crc.update(4294967295,t,r,n)}},e.quantize=function(t,r,n){for(var i=[],s=0,a=0;a<t.length;a++)i.push(e.encode.alphaMul(new Uint8Array(t[a]),n)),s+=t[a].byteLength;var o=new Uint8Array(s),c=new Uint32Array(o.buffer),u=0;for(a=0;a<i.length;a++){for(var l=i[a],h=l.length,f=0;f<h;f++)o[u+f]=l[f];u+=h}var d={i0:0,i1:o.length,bst:null,est:null,tdst:0,left:null,right:null};d.bst=e.quantize.stats(o,d.i0,d.i1),d.est=e.quantize.estats(d.bst);for(var p=[d];p.length<r;){var g=0,m=0;for(a=0;a<p.length;a++)p[a].est.L>g&&(g=p[a].est.L,m=a);if(g<.001)break;var y=p[m],b=e.quantize.splitPixels(o,c,y.i0,y.i1,y.est.e,y.est.eMq255),v={i0:y.i0,i1:b,bst:null,est:null,tdst:0,left:null,right:null};v.bst=e.quantize.stats(o,v.i0,v.i1),v.est=e.quantize.estats(v.bst);var w={i0:b,i1:y.i1,bst:null,est:null,tdst:0,left:null,right:null};for(w.bst={R:[],m:[],N:y.bst.N-v.bst.N},a=0;a<16;a++)w.bst.R[a]=y.bst.R[a]-v.bst.R[a];for(a=0;a<4;a++)w.bst.m[a]=y.bst.m[a]-v.bst.m[a];w.est=e.quantize.estats(w.bst),y.left=v,y.right=w,p[m]=v,p.push(w)}p.sort((function(e,t){return t.bst.N-e.bst.N}));for(var S=0;S<i.length;S++){var E=e.quantize.planeDst,x=new Uint8Array(i[S].buffer),I=new Uint32Array(i[S].buffer),_=x.length;for(a=0;a<_;a+=4){for(var T=x[a]*(1/255),k=x[a+1]*(1/255),A=x[a+2]*(1/255),C=x[a+3]*(1/255),M=d;M.left;)M=E(M.est,T,k,A,C)<=0?M.left:M.right;I[a>>2]=M.est.rgba}i[S]=I.buffer}return{bufs:i,plte:p}},e.quantize.getNearest=function(t,r,n,i,s){if(null==t.left)return t.tdst=e.quantize.dist(t.est.q,r,n,i,s),t;var a=e.quantize.planeDst(t.est,r,n,i,s),o=t.left,c=t.right;a>0&&(o=t.right,c=t.left);var u=e.quantize.getNearest(o,r,n,i,s);if(u.tdst<=a*a)return u;var l=e.quantize.getNearest(c,r,n,i,s);return l.tdst<u.tdst?l:u},e.quantize.planeDst=function(e,t,r,n,i){var s=e.e;return s[0]*t+s[1]*r+s[2]*n+s[3]*i-e.eMq},e.quantize.dist=function(e,t,r,n,i){var s=t-e[0],a=r-e[1],o=n-e[2],c=i-e[3];return s*s+a*a+o*o+c*c},e.quantize.splitPixels=function(t,r,n,i,s,a){var o=e.quantize.vecDot;for(i-=4;n<i;){for(;o(t,n,s)<=a;)n+=4;for(;o(t,i,s)>a;)i-=4;if(n>=i)break;var c=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=c,n+=4,i-=4}for(;o(t,n,s)>a;)n-=4;return n+4},e.quantize.vecDot=function(e,t,r){return e[t]*r[0]+e[t+1]*r[1]+e[t+2]*r[2]+e[t+3]*r[3]},e.quantize.stats=function(e,t,r){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],s=r-t>>2,a=t;a<r;a+=4){var o=e[a]*(1/255),c=e[a+1]*(1/255),u=e[a+2]*(1/255),l=e[a+3]*(1/255);i[0]+=o,i[1]+=c,i[2]+=u,i[3]+=l,n[0]+=o*o,n[1]+=o*c,n[2]+=o*u,n[3]+=o*l,n[5]+=c*c,n[6]+=c*u,n[7]+=c*l,n[10]+=u*u,n[11]+=u*l,n[15]+=l*l}return n[4]=n[1],n[8]=n[2],n[12]=n[3],n[9]=n[6],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:s}},e.quantize.estats=function(t){var r=t.R,n=t.m,i=t.N,s=n[0],a=n[1],o=n[2],c=n[3],u=0==i?0:1/i,l=[r[0]-s*s*u,r[1]-s*a*u,r[2]-s*o*u,r[3]-s*c*u,r[4]-a*s*u,r[5]-a*a*u,r[6]-a*o*u,r[7]-a*c*u,r[8]-o*s*u,r[9]-o*a*u,r[10]-o*o*u,r[11]-o*c*u,r[12]-c*s*u,r[13]-c*a*u,r[14]-c*o*u,r[15]-c*c*u],h=l,f=e.M4,d=[.5,.5,.5,.5],p=0,g=0;if(0!=i)for(var m=0;m<10&&(d=f.multVec(h,d),g=Math.sqrt(f.dot(d,d)),d=f.sml(1/g,d),!(Math.abs(g-p)<1e-9));m++)p=g;var y=[s*u,a*u,o*u,c*u],b=f.dot(f.sml(255,y),d),v=y[3]<.001?0:1/y[3];return{Cov:l,q:y,e:d,L:p,eMq255:b,eMq:f.dot(d,y),rgba:(Math.round(255*y[3])<<24|Math.round(255*y[2]*v)<<16|Math.round(255*y[1]*v)<<8|Math.round(255*y[0]*v))>>>0}},e.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},e.encode.alphaMul=function(e,t){for(var r=new Uint8Array(e.length),n=e.length>>2,i=0;i<n;i++){var s=i<<2,a=e[s+3];t&&(a=a<128?0:255);var o=a*(1/255);r[s+0]=e[s+0]*o,r[s+1]=e[s+1]*o,r[s+2]=e[s+2]*o,r[s+3]=a}return r}}(n,r(595))},7620:e=>{"use strict";function t(e){return e&&"object"==typeof e&&!Array.isArray(e)}function r(e,t,r){Object.defineProperty(e,t,{configurable:!0,writable:!0,value:r})}e.exports=function e(n,i){if(!t(n)&&"function"!=typeof n)throw new TypeError("expected an object or function");var s=t(i)?i:{},a="string"==typeof s.prop?s.prop:"fns";function o(e,t,r){var i=1;if("string"==typeof e||Array.isArray(e)?(t=function(e,t){return function r(){return this.type===e?t.apply(this,arguments):r}}(e,t),i++):(r=t,t=e),"function"!=typeof t)throw new TypeError("expected a function");var o=this||n,c=o[a],u=[].slice.call(arguments,i);u.unshift(o),"function"==typeof s.hook&&s.hook.apply(o,u);var l=t.apply(o,u);return"function"==typeof l&&-1===c.indexOf(l)&&c.push(l),o}return Array.isArray(n[a])||r(n,a,[]),r(n,"use",o),r(n,"run",(function(i){if(t(i)){i.use&&i.run||(r(i,a,i[a]||[]),r(i,"use",o)),i[a]&&-1!==i[a].indexOf(e)||i.use(e);for(var s=(this||n)[a],c=s.length,u=-1;++u<c;)i.use(s[u]);return i}})),n}},1135:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},9032:(e,t,r)=>{"use strict";var n=r(7244),i=r(8184),s=r(5767),a=r(5680);function o(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=o(Object.prototype.toString),h=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(c)var p=o(BigInt.prototype.valueOf);if(u)var g=o(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===l(e)}function b(e){return"[object Set]"===l(e)}function v(e){return"[object WeakMap]"===l(e)}function w(e){return"[object WeakSet]"===l(e)}function S(e){return"[object ArrayBuffer]"===l(e)}function E(e){return"undefined"!=typeof ArrayBuffer&&(S.working?S(e):e instanceof ArrayBuffer)}function x(e){return"[object DataView]"===l(e)}function I(e){return"undefined"!=typeof DataView&&(x.working?x(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||I(e)},t.isUint8Array=function(e){return"Uint8Array"===s(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===s(e)},t.isUint16Array=function(e){return"Uint16Array"===s(e)},t.isUint32Array=function(e){return"Uint32Array"===s(e)},t.isInt8Array=function(e){return"Int8Array"===s(e)},t.isInt16Array=function(e){return"Int16Array"===s(e)},t.isInt32Array=function(e){return"Int32Array"===s(e)},t.isFloat32Array=function(e){return"Float32Array"===s(e)},t.isFloat64Array=function(e){return"Float64Array"===s(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===s(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===s(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},S.working="undefined"!=typeof ArrayBuffer&&S(new ArrayBuffer),t.isArrayBuffer=E,x.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&x(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=I;var _="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function T(e){return"[object SharedArrayBuffer]"===l(e)}function k(e){return void 0!==_&&(void 0===T.working&&(T.working=T(new _)),T.working?T(e):e instanceof _)}function A(e){return m(e,h)}function C(e){return m(e,f)}function M(e){return m(e,d)}function R(e){return c&&m(e,p)}function O(e){return u&&m(e,g)}t.isSharedArrayBuffer=k,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=A,t.isStringObject=C,t.isBooleanObject=M,t.isBigIntObject=R,t.isSymbolObject=O,t.isBoxedPrimitive=function(e){return A(e)||C(e)||M(e)||R(e)||O(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(E(e)||k(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},537:(e,t,r)=>{var n=r(5606),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},s=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(s,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),o=n[r];r<i;o=n[++r])y(o)||!E(o)?a+=" "+o:a+=" "+u(o);return a},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}};var a={},o=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+c+"$","i")}function u(e,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),f(n,e,n.depth)}function l(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function h(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&_(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=f(e,i,n)),i}var s=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(s)return s;var a=Object.keys(r),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),I(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(_(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(I(r))return d(r)}var u,l="",h=!1,E=["{","}"];return g(r)&&(h=!0,E=["[","]"]),_(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),x(r)&&(l=" "+Date.prototype.toUTCString.call(r)),I(r)&&(l=" "+d(r)),0!==a.length||h&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=h?function(e,t,r,n,i){for(var s=[],a=0,o=t.length;a<o;++a)C(t,String(a))?s.push(p(e,t,r,n,String(a),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(p(e,t,r,n,i,!0))})),s}(e,r,n,o,a):a.map((function(t){return p(e,r,n,o,t,h)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,E)):E[0]+l+E[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,s){var a,o,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),C(n,i)||(a="["+i+"]"),o||(e.seen.indexOf(c.value)<0?(o=y(r)?f(e,c.value,null):f(e,c.value,r-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+o.split("\n").map((function(e){return"   "+e})).join("\n")):o=e.stylize("[Circular]","special")),w(a)){if(s&&i.match(/^\d+$/))return o;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function g(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return"number"==typeof e}function v(e){return"string"==typeof e}function w(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===T(e)}function E(e){return"object"==typeof e&&null!==e}function x(e){return E(e)&&"[object Date]"===T(e)}function I(e){return E(e)&&("[object Error]"===T(e)||e instanceof Error)}function _(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(o.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(9032),t.isArray=g,t.isBoolean=m,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=x,t.types.isDate=x,t.isError=I,t.types.isNativeError=I,t.isFunction=_,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(1135);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[k((e=new Date).getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),A[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(6698),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var M="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(M&&e[M]){var t;if("function"!=typeof(t=e[M]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),M&&Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=M,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,a=function(){return i.apply(s,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(R.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},5767:(e,t,r)=>{"use strict";var n=r(2682),i=r(9209),s=r(487),a=r(6556),o=r(5795),c=a("Object.prototype.toString"),u=r(9092)(),l="undefined"==typeof globalThis?r.g:globalThis,h=i(),f=a("String.prototype.slice"),d=Object.getPrototypeOf,p=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},g={__proto__:null};n(h,u&&o&&d?function(e){var t=new l[e];if(Symbol.toStringTag in t){var r=d(t),n=o(r,Symbol.toStringTag);if(!n){var i=d(r);n=o(i,Symbol.toStringTag)}g["$"+e]=s(n.get)}}:function(e){var t=new l[e],r=t.slice||t.set;r&&(g["$"+e]=s(r))}),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!u){var t=f(c(e),8,-1);return p(h,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(g,(function(r,n){if(!t)try{r(e),t=f(n,1)}catch(e){}})),t}(e)}return o?function(e){var t=!1;return n(g,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=f(n,1))}catch(e){}})),t}(e):null}},3177:function(e,t){(function(){"use strict";t.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(this)},6712:function(e,t,r){(function(){"use strict";var e,n,i,s,a,o={}.hasOwnProperty;e=r(9665),n=r(6465).defaults,s=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},a=function(e){return"<![CDATA["+i(e)+"]]>"},i=function(e){return e.replace("]]>","]]]]><![CDATA[>")},t.Builder=function(){function t(e){var t,r,i;for(t in this.options={},r=n[.2])o.call(r,t)&&(i=r[t],this.options[t]=i);for(t in e)o.call(e,t)&&(i=e[t],this.options[t]=i)}return t.prototype.buildObject=function(t){var r,i,c,u,l,h;return r=this.options.attrkey,i=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===n[.2].rootName?t=t[l=Object.keys(t)[0]]:l=this.options.rootName,h=this,c=function(e,t){var n,u,l,f,d,p;if("object"!=typeof t)h.options.cdata&&s(t)?e.raw(a(t)):e.txt(t);else if(Array.isArray(t)){for(f in t)if(o.call(t,f))for(d in u=t[f])l=u[d],e=c(e.ele(d),l).up()}else for(d in t)if(o.call(t,d))if(u=t[d],d===r){if("object"==typeof u)for(n in u)p=u[n],e=e.att(n,p)}else if(d===i)e=h.options.cdata&&s(u)?e.raw(a(u)):e.txt(u);else if(Array.isArray(u))for(f in u)o.call(u,f)&&(e="string"==typeof(l=u[f])?h.options.cdata&&s(l)?e.ele(d).raw(a(l)).up():e.ele(d,l).up():c(e.ele(d),l).up());else"object"==typeof u?e=c(e.ele(d),u).up():"string"==typeof u&&h.options.cdata&&s(u)?e=e.ele(d).raw(a(u)).up():(null==u&&(u=""),e=e.ele(d,u.toString()).up());return e},u=e.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),c(u,t).end(this.options.renderOpts)},t}()}).call(this)},6465:function(e,t){(function(){t.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},1912:function(e,t,r){(function(){"use strict";var e,n,i,s,a,o,c,u,l,h=function(e,t){return function(){return e.apply(t,arguments)}},f={}.hasOwnProperty;u=r(4043),s=r(7007),e=r(3177),c=r(2114),l=r(819).setImmediate,n=r(6465).defaults,a=function(e){return"object"==typeof e&&null!=e&&0===Object.keys(e).length},o=function(e,t,r){var n,i;for(n=0,i=e.length;n<i;n++)t=(0,e[n])(t,r);return t},i=function(e,t,r){var n;return(n=Object.create(null)).value=r,n.writable=!0,n.enumerable=!0,n.configurable=!0,Object.defineProperty(e,t,n)},t.Parser=function(r){function s(e){var r,i,s;if(this.parseStringPromise=h(this.parseStringPromise,this),this.parseString=h(this.parseString,this),this.reset=h(this.reset,this),this.assignOrPush=h(this.assignOrPush,this),this.processAsync=h(this.processAsync,this),!(this instanceof t.Parser))return new t.Parser(e);for(r in this.options={},i=n[.2])f.call(i,r)&&(s=i[r],this.options[r]=s);for(r in e)f.call(e,r)&&(s=e[r],this.options[r]=s);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(c.normalize)),this.reset()}return function(e,t){for(var r in t)f.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(s,r),s.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),l(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},s.prototype.assignOrPush=function(e,t,r){return t in e?(e[t]instanceof Array||i(e,t,[e[t]]),e[t].push(r)):this.options.explicitArray?i(e,t,[r]):i(e,t,r)},s.prototype.reset=function(){var e,t,r,n,s;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(s=this,function(e){if(s.saxParser.resume(),!s.saxParser.errThrown)return s.saxParser.errThrown=!0,s.emit("error",e)}),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,n=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(r){return function(s){var a,c,u,l,h;if((u={})[t]="",!r.options.ignoreAttrs)for(a in h=s.attributes)f.call(h,a)&&(e in u||r.options.mergeAttrs||(u[e]={}),c=r.options.attrValueProcessors?o(r.options.attrValueProcessors,s.attributes[a],a):s.attributes[a],l=r.options.attrNameProcessors?o(r.options.attrNameProcessors,a):a,r.options.mergeAttrs?r.assignOrPush(u,l,c):i(u[e],l,c));return u["#name"]=r.options.tagNameProcessors?o(r.options.tagNameProcessors,s.name):s.name,r.options.xmlns&&(u[r.options.xmlnskey]={uri:s.uri,local:s.local}),n.push(u)}}(this),this.saxParser.onclosetag=function(e){return function(){var r,s,c,u,l,h,d,p,g,m;if(h=n.pop(),l=h["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete h["#name"],!0===h.cdata&&(r=h.cdata,delete h.cdata),g=n[n.length-1],h[t].match(/^\s*$/)&&!r?(s=h[t],delete h[t]):(e.options.trim&&(h[t]=h[t].trim()),e.options.normalize&&(h[t]=h[t].replace(/\s{2,}/g," ").trim()),h[t]=e.options.valueProcessors?o(e.options.valueProcessors,h[t],l):h[t],1===Object.keys(h).length&&t in h&&!e.EXPLICIT_CHARKEY&&(h=h[t])),a(h)&&(h="function"==typeof e.options.emptyTag?e.options.emptyTag():""!==e.options.emptyTag?e.options.emptyTag:s),null!=e.options.validator&&(m="/"+function(){var e,t,r;for(r=[],e=0,t=n.length;e<t;e++)u=n[e],r.push(u["#name"]);return r}().concat(l).join("/"),function(){var t;try{return h=e.options.validator(m,g&&g[l],h)}catch(r){return t=r,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"==typeof h)if(e.options.preserveChildrenOrder){if(g){for(c in g[e.options.childkey]=g[e.options.childkey]||[],d={},h)f.call(h,c)&&i(d,c,h[c]);g[e.options.childkey].push(d),delete h["#name"],1===Object.keys(h).length&&t in h&&!e.EXPLICIT_CHARKEY&&(h=h[t])}}else u={},e.options.attrkey in h&&(u[e.options.attrkey]=h[e.options.attrkey],delete h[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in h&&(u[e.options.charkey]=h[e.options.charkey],delete h[e.options.charkey]),Object.getOwnPropertyNames(h).length>0&&(u[e.options.childkey]=h),h=u;return n.length>0?e.assignOrPush(g,l,h):(e.options.explicitRoot&&(p=h,i(h={},l,p)),e.resultObject=h,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),r=function(e){return function(r){var i,s;if(s=n[n.length-1])return s[t]+=r,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(s[e.options.childkey]=s[e.options.childkey]||[],(i={"#name":"__text__"})[t]=r,e.options.normalize&&(i[t]=i[t].replace(/\s{2,}/g," ").trim()),s[e.options.childkey].push(i)),s}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(e){var t;if(t=r(e))return t.cdata=!0}},s.prototype.parseString=function(t,r){var n;null!=r&&"function"==typeof r&&(this.on("end",(function(e){return this.reset(),r(null,e)})),this.on("error",(function(e){return this.reset(),r(e)})));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=e.stripBOM(t),this.options.async?(this.remaining=t,l(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(e){if(n=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},s.prototype.parseStringPromise=function(e){return new Promise((t=this,function(r,n){return t.parseString(e,(function(e,t){return e?n(e):r(t)}))}));var t},s}(s),t.parseString=function(e,r,n){var i,s;return null!=n?("function"==typeof n&&(i=n),"object"==typeof r&&(s=r)):("function"==typeof r&&(i=r),s={}),new t.Parser(s).parseString(e,i)},t.parseStringPromise=function(e,r){var n;return"object"==typeof r&&(n=r),new t.Parser(n).parseStringPromise(e)}}).call(this)},2114:function(e,t){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),t.normalize=function(e){return e.toLowerCase()},t.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},t.stripPrefix=function(t){return t.replace(e,"")},t.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},t.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(this)},8805:function(e,t,r){(function(){"use strict";var e,n,i,s,a={}.hasOwnProperty;n=r(6465),e=r(6712),i=r(1912),s=r(2114),t.defaults=n.defaults,t.processors=s,t.ValidationError=function(){function e(e){this.message=e}return function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(e,Error),e}(),t.Builder=e.Builder,t.Parser=i.Parser,t.parseString=i.parseString,t.parseStringPromise=i.parseStringPromise}).call(this)},4923:function(e){(function(){e.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},1737:function(e){(function(){e.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},9241:function(e){(function(){var t,r,n,i,s,a,o,c={}.hasOwnProperty;t=function(e,...t){var r,n,i,a;if(s(Object.assign))Object.assign.apply(null,arguments);else for(r=0,i=t.length;r<i;r++)if(null!=(a=t[r]))for(n in a)c.call(a,n)&&(e[n]=a[n]);return e},s=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},a=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},n=function(e){return s(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},i=function(e){var t;if(n(e))return!e.length;for(t in e)if(c.call(e,t))return!1;return!0},o=function(e){var t,r;return a(e)&&(r=Object.getPrototypeOf(e))&&(t=r.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},r=function(e){return s(e.valueOf)?e.valueOf():e},e.exports.assign=t,e.exports.isFunction=s,e.exports.isObject=a,e.exports.isArray=n,e.exports.isEmpty=i,e.exports.isPlainObject=o,e.exports.getValue=r}).call(this)},8753:function(e){(function(){e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},4238:function(e,t,r){(function(){var t;t=r(1737),r(468),e.exports=function(){class e{constructor(e,r,n){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==r)throw new Error("Missing attribute name. "+this.debugInfo(r));this.name=this.stringify.name(r),this.value=this.stringify.attValue(n),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}clone(){return Object.create(this)}toString(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))}debugInfo(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"}isEqualNode(e){return e.namespaceURI===this.namespaceURI&&e.prefix===this.prefix&&e.localName===this.localName&&e.value===this.value}}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e}.call(this)}).call(this)},2691:function(e,t,r){(function(){var t,n;t=r(1737),n=r(7457),e.exports=class extends n{constructor(e,r){if(super(e),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(r)}clone(){return Object.create(this)}toString(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))}}}).call(this)},7457:function(e,t,r){(function(){var t;t=r(468),e.exports=function(){class e extends t{constructor(e){super(e),this.value=""}clone(){return Object.create(this)}substringData(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendData(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}insertData(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}deleteData(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceData(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(e){return!!super.isEqualNode(e)&&e.data===this.data}}return Object.defineProperty(e.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),e}.call(this)}).call(this)},2679:function(e,t,r){(function(){var t,n;t=r(1737),n=r(7457),e.exports=class extends n{constructor(e,r){if(super(e),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(r)}clone(){return Object.create(this)}toString(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))}}}).call(this)},3074:function(e,t,r){(function(){var t,n;t=r(5660),n=r(2527),e.exports=function(){class e{constructor(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}getParameter(e){return this.params.hasOwnProperty(e)?this.params[e]:null}canSetParameter(e,t){return!0}setParameter(e,t){return null!=t?this.params[e]=t:delete this.params[e]}}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new n(Object.keys(this.defaultParams))}}),e}.call(this)}).call(this)},5660:function(e){(function(){e.exports=class{constructor(){}handleError(e){throw new Error(e)}}}).call(this)},7260:function(e){(function(){e.exports=class{hasFeature(e,t){return!0}createDocumentType(e,t,r){throw new Error("This DOM method is not implemented.")}createDocument(e,t,r){throw new Error("This DOM method is not implemented.")}createHTMLDocument(e){throw new Error("This DOM method is not implemented.")}getFeature(e,t){throw new Error("This DOM method is not implemented.")}}}).call(this)},2527:function(e){(function(){e.exports=function(){class e{constructor(e){this.arr=e||[]}item(e){return this.arr[e]||null}contains(e){return-1!==this.arr.indexOf(e)}}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e}.call(this)}).call(this)},4111:function(e,t,r){(function(){var t,n;n=r(468),t=r(1737),e.exports=class extends n{constructor(e,r,n,i,s,a){if(super(e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==n)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!i)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(n),this.attributeType=this.stringify.dtdAttType(i),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}toString(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))}}}).call(this)},7696:function(e,t,r){(function(){var t,n;n=r(468),t=r(1737),e.exports=class extends n{constructor(e,r,n){if(super(e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());n||(n="(#PCDATA)"),Array.isArray(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.name(r),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(n)}toString(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))}}}).call(this)},5529:function(e,t,r){(function(){var t,n,i;({isObject:i}=r(9241)),n=r(468),t=r(1737),e.exports=function(){class e extends n{constructor(e,r,n,s){if(super(e),null==n)throw new Error("Missing DTD entity name. "+this.debugInfo(n));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(n));if(this.pe=!!r,this.name=this.stringify.name(n),this.type=t.EntityDeclaration,i(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(n));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(n));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(n))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}toString(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))}}return Object.defineProperty(e.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(e.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(e.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(e.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(e.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(e.prototype,"xmlVersion",{get:function(){return null}}),e}.call(this)}).call(this)},8012:function(e,t,r){(function(){var t,n;n=r(468),t=r(1737),e.exports=function(){class e extends n{constructor(e,r,n){if(super(e),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=t.NotationDeclaration,null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}toString(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))}}return Object.defineProperty(e.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(e.prototype,"systemId",{get:function(){return this.sysID}}),e}.call(this)}).call(this)},4130:function(e,t,r){(function(){var t,n,i;({isObject:i}=r(9241)),n=r(468),t=r(1737),e.exports=class extends n{constructor(e,r,n,s){super(e),i(r)&&({version:r,encoding:n,standalone:s}=r),r||(r="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(r),null!=n&&(this.encoding=this.stringify.xmlEncoding(n)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}toString(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))}}}).call(this)},6376:function(e,t,r){(function(){var t,n,i,s,a,o,c,u;({isObject:u}=r(9241)),c=r(468),t=r(1737),n=r(4111),s=r(5529),i=r(7696),a=r(8012),o=r(4797),e.exports=function(){class e extends c{constructor(e,r,n){var i,s,a,o;if(super(e),this.type=t.DocType,e.children)for(s=0,a=(o=e.children).length;s<a;s++)if((i=o[s]).type===t.Element){this.name=i.name;break}this.documentObject=e,u(r)&&({pubID:r,sysID:n}=r),null==n&&([n,r]=[r,n]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}element(e,t){var r;return r=new i(this,e,t),this.children.push(r),this}attList(e,t,r,i,s){var a;return a=new n(this,e,t,r,i,s),this.children.push(a),this}entity(e,t){var r;return r=new s(this,!1,e,t),this.children.push(r),this}pEntity(e,t){var r;return r=new s(this,!0,e,t),this.children.push(r),this}notation(e,t){var r;return r=new a(this,e,t),this.children.push(r),this}toString(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))}ele(e,t){return this.element(e,t)}att(e,t,r,n,i){return this.attList(e,t,r,n,i)}ent(e,t){return this.entity(e,t)}pent(e,t){return this.pEntity(e,t)}not(e,t){return this.notation(e,t)}up(){return this.root()||this.documentObject}isEqualNode(e){return!!super.isEqualNode(e)&&e.name===this.name&&e.publicId===this.publicId&&e.systemId===this.systemId}}return Object.defineProperty(e.prototype,"entities",{get:function(){var e,r,n,i,s;for(i={},r=0,n=(s=this.children).length;r<n;r++)(e=s[r]).type!==t.EntityDeclaration||e.pe||(i[e.name]=e);return new o(i)}}),Object.defineProperty(e.prototype,"notations",{get:function(){var e,r,n,i,s;for(i={},r=0,n=(s=this.children).length;r<n;r++)(e=s[r]).type===t.NotationDeclaration&&(i[e.name]=e);return new o(i)}}),Object.defineProperty(e.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(e.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(e.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),e}.call(this)}).call(this)},1933:function(e,t,r){(function(){var t,n,i,s,a,o,c;({isPlainObject:c}=r(9241)),i=r(7260),n=r(3074),s=r(468),t=r(1737),o=r(3976),a=r(382),e.exports=function(){class e extends s{constructor(e){super(null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new n,e||(e={}),e.writer||(e.writer=new a),this.options=e,this.stringify=new o(e)}end(e){var t;return t={},e?c(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))}toString(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))}createElement(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createDocumentFragment(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTextNode(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createComment(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createCDATASection(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createProcessingInstruction(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttribute(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEntityReference(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}importNode(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createElementNS(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}createAttributeNS(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementById(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}adoptNode(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalizeDocument(){throw new Error("This DOM method is not implemented."+this.debugInfo())}renameNode(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createEvent(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}createRange(){throw new Error("This DOM method is not implemented."+this.debugInfo())}createNodeIterator(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}createTreeWalker(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(e.prototype,"implementation",{value:new i}),Object.defineProperty(e.prototype,"doctype",{get:function(){var e,r,n,i;for(r=0,n=(i=this.children).length;r<n;r++)if((e=i[r]).type===t.DocType)return e;return null}}),Object.defineProperty(e.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(e.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(e.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(e.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(e.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(e.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(e.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(e.prototype,"origin",{get:function(){return null}}),Object.defineProperty(e.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(e.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(e.prototype,"contentType",{get:function(){return null}}),e}.call(this)}).call(this)},400:function(e,t,r){(function(){var t,n,i,s,a,o,c,u,l,h,f,d,p,g,m,y,b,v,w,S,E,x,I={}.hasOwnProperty;({isObject:E,isFunction:S,isPlainObject:x,getValue:w}=r(9241)),t=r(1737),d=r(1933),p=r(3906),s=r(2691),a=r(2679),m=r(1268),v=r(2535),g=r(5915),h=r(4130),f=r(6376),o=r(4111),u=r(5529),c=r(7696),l=r(8012),i=r(4238),b=r(3976),y=r(382),n=r(8753),e.exports=class{constructor(e,r,n){var i;this.name="?xml",this.type=t.Document,e||(e={}),i={},e.writer?x(e.writer)&&(i=e.writer,e.writer=new y):e.writer=new y,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(i),this.stringify=new b(e),this.onDataCallback=r||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}createChildNode(e){var r,n,i,s,a,o,c,u;switch(e.type){case t.CData:this.cdata(e.value);break;case t.Comment:this.comment(e.value);break;case t.Element:for(n in i={},c=e.attribs)I.call(c,n)&&(r=c[n],i[n]=r.value);this.node(e.name,i);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(e.value);break;case t.Text:this.text(e.value);break;case t.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(a=0,o=(u=e.children).length;a<o;a++)s=u[a],this.createChildNode(s),s.type===t.Element&&this.up();return this}dummy(){return this}node(e,t,r){if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=w(e),null==t&&(t={}),t=w(t),E(t)||([r,t]=[t,r]),this.currentNode=new p(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this}element(e,r,n){var i,s,a,o,c,u;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement(...arguments);else if(Array.isArray(e)||E(e)||S(e))for(o=this.options.noValidation,this.options.noValidation=!0,(u=new d(this.options).element("TEMP_ROOT")).element(e),this.options.noValidation=o,s=0,a=(c=u.children).length;s<a;s++)i=c[s],this.createChildNode(i),i.type===t.Element&&this.up();else this.node(e,r,n);return this}attribute(e,t){var r,n;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=w(e)),E(e))for(r in e)I.call(e,r)&&(n=e[r],this.attribute(r,n));else S(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new i(this,e,""):null!=t&&(this.currentNode.attribs[e]=new i(this,e,t));return this}text(e){var t;return this.openCurrent(),t=new v(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}cdata(e){var t;return this.openCurrent(),t=new s(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}comment(e){var t;return this.openCurrent(),t=new a(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}raw(e){var t;return this.openCurrent(),t=new m(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}instruction(e,t){var r,n,i,s,a;if(this.openCurrent(),null!=e&&(e=w(e)),null!=t&&(t=w(t)),Array.isArray(e))for(r=0,s=e.length;r<s;r++)n=e[r],this.instruction(n);else if(E(e))for(n in e)I.call(e,n)&&(i=e[n],this.instruction(n,i));else S(t)&&(t=t.apply()),a=new g(this,e,t),this.onData(this.writer.processingInstruction(a,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this}declaration(e,t,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return n=new h(this,e,t,r),this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}doctype(e,t,r){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new f(this,t,r),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this}dtdElement(e,t){var r;return this.openCurrent(),r=new c(this,e,t),this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}attList(e,t,r,n,i){var s;return this.openCurrent(),s=new o(this,e,t,r,n,i),this.onData(this.writer.dtdAttList(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}entity(e,t){var r;return this.openCurrent(),r=new u(this,!1,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}pEntity(e,t){var r;return this.openCurrent(),r=new u(this,!0,e,t),this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}notation(e,t){var r;return this.openCurrent(),r=new l(this,e,t),this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this}up(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this}end(){for(;this.currentLevel>=0;)this.up();return this.onEnd()}openCurrent(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)}openNode(e){var r,i,s,a;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==t.Element||(this.root=e),i="",e.type===t.Element){for(s in this.writerOptions.state=n.OpenTag,i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,a=e.attribs)I.call(a,s)&&(r=a[s],i+=this.writer.attribute(r,this.writerOptions,this.currentLevel));i+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=n.InsideTag}else this.writerOptions.state=n.OpenTag,i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),e.children?(i+=" [",this.writerOptions.state=n.InsideTag):(this.writerOptions.state=n.CloseTag,i+=">"),i+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(i,this.currentLevel),e.isOpen=!0}}closeNode(e){var r;if(!e.isClosed)return this.writerOptions.state=n.CloseTag,r=e.type===t.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=n.None,this.onData(r,this.currentLevel),e.isClosed=!0}onData(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)}onEnd(){return this.documentCompleted=!0,this.onEndCallback()}debugInfo(e){return null==e?"":"node: <"+e+">"}ele(){return this.element(...arguments)}nod(e,t,r){return this.node(e,t,r)}txt(e){return this.text(e)}dat(e){return this.cdata(e)}com(e){return this.comment(e)}ins(e,t){return this.instruction(e,t)}dec(e,t,r){return this.declaration(e,t,r)}dtd(e,t,r){return this.doctype(e,t,r)}e(e,t,r){return this.element(e,t,r)}n(e,t,r){return this.node(e,t,r)}t(e){return this.text(e)}d(e){return this.cdata(e)}c(e){return this.comment(e)}r(e){return this.raw(e)}i(e,t){return this.instruction(e,t)}att(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList(...arguments):this.attribute(...arguments)}a(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList(...arguments):this.attribute(...arguments)}ent(e,t){return this.entity(e,t)}pent(e,t){return this.pEntity(e,t)}not(e,t){return this.notation(e,t)}}}).call(this)},1218:function(e,t,r){(function(){var t,n;n=r(468),t=r(1737),e.exports=class extends n{constructor(e){super(e),this.type=t.Dummy}clone(){return Object.create(this)}toString(e){return""}}}).call(this)},3906:function(e,t,r){(function(){var t,n,i,s,a,o,c,u={}.hasOwnProperty;({isObject:c,isFunction:o,getValue:a}=r(9241)),s=r(468),t=r(1737),n=r(4238),i=r(4797),e.exports=function(){class e extends s{constructor(e,r,n){var i,s,a,o;if(super(e),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,null!=n&&this.attribute(n),e.type===t.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(s=0,a=(o=e.children).length;s<a;s++)if((i=o[s]).type===t.DocType){i.name=this.name;break}}clone(){var e,t,r,n;for(t in(r=Object.create(this)).isRoot&&(r.documentObject=null),r.attribs={},n=this.attribs)u.call(n,t)&&(e=n[t],r.attribs[t]=e.clone());return r.children=[],this.children.forEach((function(e){var t;return(t=e.clone()).parent=r,r.children.push(t)})),r}attribute(e,t){var r,i;if(null!=e&&(e=a(e)),c(e))for(r in e)u.call(e,r)&&(i=e[r],this.attribute(r,i));else o(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new n(this,e,""):null!=t&&(this.attribs[e]=new n(this,e,t));return this}removeAttribute(e){var t,r,n;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=a(e),Array.isArray(e))for(r=0,n=e.length;r<n;r++)t=e[r],delete this.attribs[t];else delete this.attribs[e];return this}toString(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))}att(e,t){return this.attribute(e,t)}a(e,t){return this.attribute(e,t)}getAttribute(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null}setAttribute(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNode(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null}setAttributeNode(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNode(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNS(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNS(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeAttributeNS(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getAttributeNodeNS(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}setAttributeNodeNS(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasAttribute(e){return this.attribs.hasOwnProperty(e)}hasAttributeNS(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttribute(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t}setIdAttributeNS(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}setIdAttributeNode(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagName(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByTagNameNS(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}getElementsByClassName(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(e){var t,r,n;if(!super.isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(t=r=0,n=this.attribs.length-1;0<=n?r<=n:r>=n;t=0<=n?++r:--r)if(!this.attribs[t].isEqualNode(e.attribs[t]))return!1;return!0}}return Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(e.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(e.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(e.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),e}.call(this)}).call(this)},4797:function(e){(function(){e.exports=function(){class e{constructor(e){this.nodes=e}clone(){return this.nodes=null}getNamedItem(e){return this.nodes[e]}setNamedItem(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null}removeNamedItem(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null}item(e){return this.nodes[Object.keys(this.nodes)[e]]||null}getNamedItemNS(e,t){throw new Error("This DOM method is not implemented.")}setNamedItemNS(e){throw new Error("This DOM method is not implemented.")}removeNamedItemNS(e,t){throw new Error("This DOM method is not implemented.")}}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e}.call(this)}).call(this)},468:function(e,t,r){(function(){var t,n,i,s,a,o,c,u,l,h,f,d,p,g,m,y,b={}.hasOwnProperty,v=[].splice;({isObject:y,isFunction:m,isEmpty:g,getValue:p}=r(9241)),u=null,i=null,s=null,a=null,o=null,f=null,d=null,h=null,c=null,n=null,l=null,t=null,e.exports=function(){class e{constructor(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=r(3906),i=r(2691),s=r(2679),a=r(4130),o=r(6376),f=r(1268),d=r(2535),h=r(5915),c=r(1218),n=r(1737),l=r(6684),r(4797),t=r(4923))}setParent(e){var t,r,n,i,s;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),s=[],r=0,n=(i=this.children).length;r<n;r++)t=i[r],s.push(t.setParent(this));return s}element(e,t,r){var n,i,s,a,o,c,u,l,h;if(c=null,null===t&&null==r&&([t,r]=[{},null]),null==t&&(t={}),t=p(t),y(t)||([r,t]=[t,r]),null!=e&&(e=p(e)),Array.isArray(e))for(s=0,u=e.length;s<u;s++)i=e[s],c=this.element(i);else if(m(e))c=this.element(e.apply());else if(y(e)){for(o in e)if(b.call(e,o))if(h=e[o],m(h)&&(h=h.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===o.indexOf(this.stringify.convertAttKey))c=this.attribute(o.substr(this.stringify.convertAttKey.length),h);else if(!this.options.separateArrayItems&&Array.isArray(h)&&g(h))c=this.dummy();else if(y(h)&&g(h))c=this.element(o);else if(this.options.keepNullNodes||null!=h)if(!this.options.separateArrayItems&&Array.isArray(h))for(a=0,l=h.length;a<l;a++)i=h[a],(n={})[o]=i,c=this.element(n);else y(h)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===o.indexOf(this.stringify.convertTextKey)?c=this.element(h):(c=this.element(o)).element(h):c=this.element(o,h);else c=this.dummy()}else c=this.options.keepNullNodes||null!==r?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),r):this.node(e,t,r):this.dummy();if(null==c)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return c}insertBefore(e,t,r){var n,i,s,a,o;if(null!=e?e.type:void 0)return a=t,(s=e).setParent(this),a?(i=children.indexOf(a),o=children.splice(i),children.push(s),Array.prototype.push.apply(children,o)):children.push(s),s;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,o),n}insertAfter(e,t,r){var n,i,s;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),s=this.parent.children.splice(i+1),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,s),n}remove(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),v.apply(this.parent.children,[e,e-e+1].concat([])),this.parent}node(e,t,r){var n;return null!=e&&(e=p(e)),t||(t={}),t=p(t),y(t)||([r,t]=[t,r]),n=new u(this,e,t),null!=r&&n.text(r),this.children.push(n),n}text(e){var t;return y(e)&&this.element(e),t=new d(this,e),this.children.push(t),this}cdata(e){var t;return t=new i(this,e),this.children.push(t),this}comment(e){var t;return t=new s(this,e),this.children.push(t),this}commentBefore(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this}commentAfter(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this}raw(e){var t;return t=new f(this,e),this.children.push(t),this}dummy(){return new c(this)}instruction(e,t){var r,n,i,s,a;if(null!=e&&(e=p(e)),null!=t&&(t=p(t)),Array.isArray(e))for(s=0,a=e.length;s<a;s++)r=e[s],this.instruction(r);else if(y(e))for(r in e)b.call(e,r)&&(n=e[r],this.instruction(r,n));else m(t)&&(t=t.apply()),i=new h(this,e,t),this.children.push(i);return this}instructionBefore(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this}instructionAfter(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this}declaration(e,t,r){var i,s;return i=this.document(),s=new a(i,e,t,r),0===i.children.length?i.children.unshift(s):i.children[0].type===n.Declaration?i.children[0]=s:i.children.unshift(s),i.root()||i}dtd(e,t){var r,i,s,a,c,u,l,h,f;for(r=this.document(),i=new o(r,e,t),s=a=0,u=(h=r.children).length;a<u;s=++a)if(h[s].type===n.DocType)return r.children[s]=i,i;for(s=c=0,l=(f=r.children).length;c<l;s=++c)if(f[s].isRoot)return r.children.splice(s,0,i),i;return r.children.push(i),i}up(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent}root(){var e;for(e=this;e;){if(e.type===n.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}}document(){var e;for(e=this;e;){if(e.type===n.Document)return e;e=e.parent}}end(e){return this.document().end(e)}prev(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]}next(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]}importDocument(e){var t,r,i,s,a;if((r=e.root().clone()).parent=this,r.isRoot=!1,this.children.push(r),this.type===n.Document&&(r.isRoot=!0,r.documentObject=this,this.rootObject=r,this.children))for(i=0,s=(a=this.children).length;i<s;i++)if((t=a[i]).type===n.DocType){t.name=r.name;break}return this}debugInfo(e){var t,r;return null!=(e=e||this.name)||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(r=this.parent)?r.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""}ele(e,t,r){return this.element(e,t,r)}nod(e,t,r){return this.node(e,t,r)}txt(e){return this.text(e)}dat(e){return this.cdata(e)}com(e){return this.comment(e)}ins(e,t){return this.instruction(e,t)}doc(){return this.document()}dec(e,t,r){return this.declaration(e,t,r)}e(e,t,r){return this.element(e,t,r)}n(e,t,r){return this.node(e,t,r)}t(e){return this.text(e)}d(e){return this.cdata(e)}c(e){return this.comment(e)}r(e){return this.raw(e)}i(e,t){return this.instruction(e,t)}u(){return this.up()}importXMLBuilder(e){return this.importDocument(e)}attribute(e,t){throw new Error("attribute() applies to element nodes only.")}att(e,t){return this.attribute(e,t)}a(e,t){return this.attribute(e,t)}removeAttribute(e){throw new Error("attribute() applies to element nodes only.")}replaceChild(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}removeChild(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}appendChild(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}hasChildNodes(){return 0!==this.children.length}cloneNode(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}normalize(){throw new Error("This DOM method is not implemented."+this.debugInfo())}isSupported(e,t){return!0}hasAttributes(){return 0!==this.attribs.length}compareDocumentPosition(e){var r,n;return(r=this)===e?0:this.document()!==e.document()?(n=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?n|=t.Preceding:n|=t.Following,n):r.isAncestor(e)?t.Contains|t.Preceding:r.isDescendant(e)?t.Contains|t.Following:r.isPreceding(e)?t.Preceding:t.Following}isSameNode(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupPrefix(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}isDefaultNamespace(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}lookupNamespaceURI(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}isEqualNode(e){var t,r,n;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;t=0<=n?++r:--r)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0}getFeature(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())}setUserData(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())}getUserData(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}contains(e){return!!e&&(e===this||this.isDescendant(e))}isDescendant(e){var t,r,n,i;for(r=0,n=(i=this.children).length;r<n;r++){if(e===(t=i[r]))return!0;if(t.isDescendant(e))return!0}return!1}isAncestor(e){return e.isDescendant(this)}isPreceding(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t<r}isFollowing(e){var t,r;return t=this.treePosition(e),r=this.treePosition(this),-1!==t&&-1!==r&&t>r}treePosition(e){var t,r;return r=0,t=!1,this.foreachTreeNode(this.document(),(function(n){if(r++,!t&&n===e)return t=!0})),t?r:-1}foreachTreeNode(e,t){var r,n,i,s,a;for(e||(e=this.document()),n=0,i=(s=e.children).length;n<i;n++){if(a=t(r=s[n]))return a;if(a=this.foreachTreeNode(r,t))return a}}}return Object.defineProperty(e.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(e.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(e.prototype,"textContent",{get:function(){var e,t,r,i,s;if(this.nodeType===n.Element||this.nodeType===n.DocumentFragment){for(s="",t=0,r=(i=this.children).length;t<r;t++)(e=i[t]).textContent&&(s+=e.textContent);return s}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),e}.call(this)}).call(this)},6684:function(e){(function(){e.exports=function(){class e{constructor(e){this.nodes=e}clone(){return this.nodes=null}item(e){return this.nodes[e]||null}}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e}.call(this)}).call(this)},5915:function(e,t,r){(function(){var t,n;t=r(1737),n=r(7457),e.exports=class extends n{constructor(e,r,n){if(super(e),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,n&&(this.value=this.stringify.insValue(n))}clone(){return Object.create(this)}toString(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))}isEqualNode(e){return!!super.isEqualNode(e)&&e.target===this.target}}}).call(this)},1268:function(e,t,r){(function(){var t,n;t=r(1737),n=r(468),e.exports=class extends n{constructor(e,r){if(super(e),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(r)}clone(){return Object.create(this)}toString(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))}}}).call(this)},6775:function(e,t,r){(function(){var t,n,i,s={}.hasOwnProperty;t=r(1737),i=r(6286),n=r(8753),e.exports=class extends i{constructor(e,t){super(t),this.stream=e}endline(e,t,r){return e.isLastRootNode&&t.state===n.CloseTag?"":super.endline(e,t,r)}document(e,t){var r,n,i,s,a,o,c,u,l;for(n=i=0,a=(c=e.children).length;i<a;n=++i)(r=c[n]).isLastRootNode=n===e.children.length-1;for(t=this.filterOptions(t),l=[],s=0,o=(u=e.children).length;s<o;s++)r=u[s],l.push(this.writeChildNode(r,t,0));return l}cdata(e,t,r){return this.stream.write(super.cdata(e,t,r))}comment(e,t,r){return this.stream.write(super.comment(e,t,r))}declaration(e,t,r){return this.stream.write(super.declaration(e,t,r))}docType(e,t,r){var i,s,a,o;if(r||(r=0),this.openNode(e,t,r),t.state=n.OpenTag,this.stream.write(this.indent(e,t,r)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,r)),t.state=n.InsideTag,s=0,a=(o=e.children).length;s<a;s++)i=o[s],this.writeChildNode(i,t,r+1);t.state=n.CloseTag,this.stream.write("]")}return t.state=n.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,r)),t.state=n.None,this.closeNode(e,t,r)}element(e,r,i){var a,o,c,u,l,h,f,d,p,g,m,y,b,v;if(i||(i=0),this.openNode(e,r,i),r.state=n.OpenTag,p=this.indent(e,r,i)+"<"+e.name,r.pretty&&r.width>0)for(d in h=p.length,m=e.attribs)s.call(m,d)&&(a=m[d],h+(g=this.attribute(a,r,i)).length>r.width?(v=this.indent(e,r,i+1)+g,p+=this.endline(e,r,i)+v,h=v.length):(p+=v=" "+g,h+=v.length));else for(d in y=e.attribs)s.call(y,d)&&(a=y[d],p+=this.attribute(a,r,i));if(this.stream.write(p),u=0===(c=e.children.length)?null:e.children[0],0===c||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))r.allowEmpty?(this.stream.write(">"),r.state=n.CloseTag,this.stream.write("</"+e.name+">")):(r.state=n.CloseTag,this.stream.write(r.spaceBeforeSlash+"/>"));else if(!r.pretty||1!==c||u.type!==t.Text&&u.type!==t.Raw||null==u.value){for(this.stream.write(">"+this.endline(e,r,i)),r.state=n.InsideTag,l=0,f=(b=e.children).length;l<f;l++)o=b[l],this.writeChildNode(o,r,i+1);r.state=n.CloseTag,this.stream.write(this.indent(e,r,i)+"</"+e.name+">")}else this.stream.write(">"),r.state=n.InsideTag,r.suppressPrettyCount++,this.writeChildNode(u,r,i+1),r.suppressPrettyCount--,r.state=n.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,r,i)),r.state=n.None,this.closeNode(e,r,i)}processingInstruction(e,t,r){return this.stream.write(super.processingInstruction(e,t,r))}raw(e,t,r){return this.stream.write(super.raw(e,t,r))}text(e,t,r){return this.stream.write(super.text(e,t,r))}dtdAttList(e,t,r){return this.stream.write(super.dtdAttList(e,t,r))}dtdElement(e,t,r){return this.stream.write(super.dtdElement(e,t,r))}dtdEntity(e,t,r){return this.stream.write(super.dtdEntity(e,t,r))}dtdNotation(e,t,r){return this.stream.write(super.dtdNotation(e,t,r))}}}).call(this)},382:function(e,t,r){(function(){var t;t=r(6286),e.exports=class extends t{constructor(e){super(e)}document(e,t){var r,n,i,s,a;for(t=this.filterOptions(t),s="",n=0,i=(a=e.children).length;n<i;n++)r=a[n],s+=this.writeChildNode(r,t,0);return t.pretty&&s.slice(-t.newline.length)===t.newline&&(s=s.slice(0,-t.newline.length)),s}}}).call(this)},3976:function(e){(function(){var t={}.hasOwnProperty;e.exports=function(){class e{constructor(e){var r,n,i;for(r in this.assertLegalChar=this.assertLegalChar.bind(this),this.assertLegalName=this.assertLegalName.bind(this),e||(e={}),this.options=e,this.options.version||(this.options.version="1.0"),n=e.stringify||{})t.call(n,r)&&(i=n[r],this[r]=i)}name(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")}text(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))}cdata(e){return this.options.noValidation?e:(e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))}comment(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)}raw(e){return this.options.noValidation?e:""+e||""}attValue(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))}insTarget(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")}insValue(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)}xmlVersion(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e}xmlEncoding(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)}xmlStandalone(e){return this.options.noValidation?e:e?"yes":"no"}dtdPubID(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")}dtdSysID(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")}dtdElementValue(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")}dtdAttType(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")}dtdAttDefault(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")}dtdEntityValue(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")}dtdNData(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")}assertLegalChar(e){var t,r;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t))throw new Error(`Invalid character in string: ${e} at index ${r.index}`)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,r=e.match(t)))throw new Error(`Invalid character in string: ${e} at index ${r.index}`);return e}assertLegalName(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e}textEscape(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))}attEscape(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))}}return e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e}.call(this)}).call(this)},2535:function(e,t,r){(function(){var t,n;t=r(1737),n=r(7457),e.exports=function(){class e extends n{constructor(e,r){if(super(e),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(r)}clone(){return Object.create(this)}toString(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))}splitText(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}replaceWholeText(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}return Object.defineProperty(e.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(e.prototype,"wholeText",{get:function(){var e,t,r;for(r="",t=this.previousSibling;t;)r=t.data+r,t=t.previousSibling;for(r+=this.data,e=this.nextSibling;e;)r+=e.data,e=e.nextSibling;return r}}),e}.call(this)}).call(this)},6286:function(e,t,r){(function(){var t,n,i,s={}.hasOwnProperty;({assign:i}=r(9241)),t=r(1737),r(4130),r(6376),r(2691),r(2679),r(3906),r(1268),r(2535),r(5915),r(1218),r(4111),r(7696),r(5529),r(8012),n=r(8753),e.exports=class{constructor(e){var t,r,n;for(t in e||(e={}),this.options=e,r=e.writer||{})s.call(r,t)&&(n=r[t],this["_"+t]=this[t],this[t]=n)}filterOptions(e){var t,r,s,a,o,c,u,l,h;return e||(e={}),e=i({},this.options,e),(t={writer:this}).pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(r=e.indent)?r:"  ",t.newline=null!=(s=e.newline)?s:"\n",t.offset=null!=(a=e.offset)?a:0,t.width=null!=(o=e.width)?o:0,t.dontPrettyTextNodes=null!=(c=null!=(u=e.dontPrettyTextNodes)?u:e.dontprettytextnodes)?c:0,t.spaceBeforeSlash=null!=(l=null!=(h=e.spaceBeforeSlash)?h:e.spacebeforeslash)?l:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=n.None,t}indent(e,t,r){var n;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(n=(r||0)+t.offset+1)>0?new Array(n).join(t.indent):""}endline(e,t,r){return!t.pretty||t.suppressPrettyCount?"":t.newline}attribute(e,t,r){var n;return this.openAttribute(e,t,r),n=t.pretty&&t.width>0?e.name+'="'+e.value+'"':" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,r),n}cdata(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<![CDATA[",t.state=n.InsideTag,i+=e.value,t.state=n.CloseTag,i+="]]>"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}comment(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"\x3c!-- ",t.state=n.InsideTag,i+=e.value,t.state=n.CloseTag,i+=" --\x3e"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}declaration(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<?xml",t.state=n.InsideTag,i+=' version="'+e.version+'"',null!=e.encoding&&(i+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(i+=' standalone="'+e.standalone+'"'),t.state=n.CloseTag,i+=t.spaceBeforeSlash+"?>",i+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}docType(e,t,r){var i,s,a,o,c;if(r||(r=0),this.openNode(e,t,r),t.state=n.OpenTag,o=this.indent(e,t,r),o+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?o+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(o+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(o+=" [",o+=this.endline(e,t,r),t.state=n.InsideTag,s=0,a=(c=e.children).length;s<a;s++)i=c[s],o+=this.writeChildNode(i,t,r+1);t.state=n.CloseTag,o+="]"}return t.state=n.CloseTag,o+=t.spaceBeforeSlash+">",o+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),o}element(e,r,i){var a,o,c,u,l,h,f,d,p,g,m,y,b,v,w,S,E,x;if(i||(i=0),m=!1,this.openNode(e,r,i),r.state=n.OpenTag,y=this.indent(e,r,i)+"<"+e.name,r.pretty&&r.width>0)for(g in f=y.length,v=e.attribs)s.call(v,g)&&(a=v[g],f+(b=this.attribute(a,r,i)).length>r.width?(x=this.indent(e,r,i+1)+b,y+=this.endline(e,r,i)+x,f=x.length):(y+=x=" "+b,f+=x.length));else for(g in w=e.attribs)s.call(w,g)&&(a=w[g],y+=this.attribute(a,r,i));if(u=0===(c=e.children.length)?null:e.children[0],0===c||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))r.allowEmpty?(y+=">",r.state=n.CloseTag,y+="</"+e.name+">"+this.endline(e,r,i)):(r.state=n.CloseTag,y+=r.spaceBeforeSlash+"/>"+this.endline(e,r,i));else if(!r.pretty||1!==c||u.type!==t.Text&&u.type!==t.Raw||null==u.value){if(r.dontPrettyTextNodes)for(l=0,d=(S=e.children).length;l<d;l++)if(((o=S[l]).type===t.Text||o.type===t.Raw)&&null!=o.value){r.suppressPrettyCount++,m=!0;break}for(y+=">"+this.endline(e,r,i),r.state=n.InsideTag,h=0,p=(E=e.children).length;h<p;h++)o=E[h],y+=this.writeChildNode(o,r,i+1);r.state=n.CloseTag,y+=this.indent(e,r,i)+"</"+e.name+">",m&&r.suppressPrettyCount--,y+=this.endline(e,r,i),r.state=n.None}else y+=">",r.state=n.InsideTag,r.suppressPrettyCount++,m=!0,y+=this.writeChildNode(u,r,i+1),r.suppressPrettyCount--,m=!1,r.state=n.CloseTag,y+="</"+e.name+">"+this.endline(e,r,i);return this.closeNode(e,r,i),y}writeChildNode(e,r,n){switch(e.type){case t.CData:return this.cdata(e,r,n);case t.Comment:return this.comment(e,r,n);case t.Element:return this.element(e,r,n);case t.Raw:return this.raw(e,r,n);case t.Text:return this.text(e,r,n);case t.ProcessingInstruction:return this.processingInstruction(e,r,n);case t.Dummy:return"";case t.Declaration:return this.declaration(e,r,n);case t.DocType:return this.docType(e,r,n);case t.AttributeDeclaration:return this.dtdAttList(e,r,n);case t.ElementDeclaration:return this.dtdElement(e,r,n);case t.EntityDeclaration:return this.dtdEntity(e,r,n);case t.NotationDeclaration:return this.dtdNotation(e,r,n);default:throw new Error("Unknown XML node type: "+e.constructor.name)}}processingInstruction(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<?",t.state=n.InsideTag,i+=e.target,e.value&&(i+=" "+e.value),t.state=n.CloseTag,i+=t.spaceBeforeSlash+"?>",i+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}raw(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r),t.state=n.InsideTag,i+=e.value,t.state=n.CloseTag,i+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}text(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r),t.state=n.InsideTag,i+=e.value,t.state=n.CloseTag,i+=this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}dtdAttList(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<!ATTLIST",t.state=n.InsideTag,i+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(i+=" "+e.defaultValueType),e.defaultValue&&(i+=' "'+e.defaultValue+'"'),t.state=n.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}dtdElement(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<!ELEMENT",t.state=n.InsideTag,i+=" "+e.name+" "+e.value,t.state=n.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}dtdEntity(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<!ENTITY",t.state=n.InsideTag,e.pe&&(i+=" %"),i+=" "+e.name,e.value?i+=' "'+e.value+'"':(e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),e.nData&&(i+=" NDATA "+e.nData)),t.state=n.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}dtdNotation(e,t,r){var i;return this.openNode(e,t,r),t.state=n.OpenTag,i=this.indent(e,t,r)+"<!NOTATION",t.state=n.InsideTag,i+=" "+e.name,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?i+=' PUBLIC "'+e.pubID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),t.state=n.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,r),t.state=n.None,this.closeNode(e,t,r),i}openNode(e,t,r){}closeNode(e,t,r){}openAttribute(e,t,r){}closeAttribute(e,t,r){}}}).call(this)},9665:function(e,t,r){(function(){var t,n,i,s,a,o,c,u,l;({assign:u,isFunction:l}=r(9241)),i=r(7260),s=r(1933),a=r(400),c=r(382),o=r(6775),t=r(1737),n=r(8753),e.exports.create=function(e,t,r,n){var i,a;if(null==e)throw new Error("Root element needs a name.");return n=u({},t,r,n),a=(i=new s(n)).element(e),n.headless||(i.declaration(n),null==n.pubID&&null==n.sysID||i.dtd(n)),a},e.exports.begin=function(e,t,r){return l(e)&&([t,r]=[e,t],e={}),t?new a(e,t,r):new s(e)},e.exports.stringWriter=function(e){return new c(e)},e.exports.streamWriter=function(e,t){return new o(e,t)},e.exports.implementation=new i,e.exports.nodeType=t,e.exports.writerState=n}).call(this)},8950:()=>{},7790:()=>{},3776:()=>{},7256:()=>{},8629:()=>{},819:()=>{},3893:()=>{},3604:()=>{},9209:(e,t,r)=>{"use strict";var n=r(6578),i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},595:(e,t)=>{"use strict";var r={},n=function(e,t,n,i,s){var a=new Worker(r[t]||(r[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(e){var t=e.data,r=t.$e$;if(r){var n=new Error(r[0]);n.code=r[1],n.stack=r[2],s(n,null)}else s(null,t)},a.postMessage(n,i),a},i=Uint8Array,s=Uint16Array,a=Int32Array,o=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var r=new s(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new a(r[30]);for(n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},h=l(o,2),f=h.b,d=h.r;f[28]=258,d[258]=28;for(var p=l(c,0),g=p.b,m=p.r,y=new s(32768),b=0;b<32768;++b){var v=(43690&b)>>1|(21845&b)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,y[b]=((65280&v)>>8|(255&v)<<8)>>1}var w=function(e,t,r){for(var n=e.length,i=0,a=new s(t);i<n;++i)e[i]&&++a[e[i]-1];var o,c=new s(t);for(i=1;i<t;++i)c[i]=c[i-1]+a[i-1]<<1;if(r){o=new s(1<<t);var u=15-t;for(i=0;i<n;++i)if(e[i])for(var l=i<<4|e[i],h=t-e[i],f=c[e[i]-1]++<<h,d=f|(1<<h)-1;f<=d;++f)o[y[f]>>u]=l}else for(o=new s(n),i=0;i<n;++i)e[i]&&(o[i]=y[c[e[i]-1]++]>>15-e[i]);return o},S=new i(288);for(b=0;b<144;++b)S[b]=8;for(b=144;b<256;++b)S[b]=9;for(b=256;b<280;++b)S[b]=7;for(b=280;b<288;++b)S[b]=8;var E=new i(32);for(b=0;b<32;++b)E[b]=5;var x=w(S,9,0),I=w(S,9,1),_=w(E,5,0),T=w(E,5,1),k=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},A=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},C=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},M=function(e){return(e+7)/8|0},R=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new i(e.subarray(t,r))};t.FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var O=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],D=function(e,t,r){var n=new Error(t||O[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,D),!r)throw n;return n},P=function(e,t,r,n){var s=e.length,a=n?n.length:0;if(!s||t.f&&!t.l)return r||new i(0);var l=!r,h=l||2!=t.i,d=t.i;l&&(r=new i(3*s));var p=function(e){var t=r.length;if(e>t){var n=new i(Math.max(2*t,e));n.set(r),r=n}},m=t.f||0,y=t.p||0,b=t.b||0,v=t.l,S=t.d,E=t.m,x=t.n,_=8*s;do{if(!v){m=A(e,y,1);var O=A(e,y+1,3);if(y+=3,!O){var P=e[(q=M(y)+4)-4]|e[q-3]<<8,L=q+P;if(L>s){d&&D(0);break}h&&p(b+P),r.set(e.subarray(q,L),b),t.b=b+=P,t.p=y=8*L,t.f=m;continue}if(1==O)v=I,S=T,E=9,x=5;else if(2==O){var F=A(e,y,31)+257,N=A(e,y+10,15)+4,B=F+A(e,y+5,31)+1;y+=14;for(var U=new i(B),j=new i(19),V=0;V<N;++V)j[u[V]]=A(e,y+3*V,7);y+=3*N;var G=k(j),z=(1<<G)-1,W=w(j,G,1);for(V=0;V<B;){var q,$=W[A(e,y,z)];if(y+=15&$,(q=$>>4)<16)U[V++]=q;else{var H=0,X=0;for(16==q?(X=3+A(e,y,3),y+=2,H=U[V-1]):17==q?(X=3+A(e,y,7),y+=3):18==q&&(X=11+A(e,y,127),y+=7);X--;)U[V++]=H}}var Y=U.subarray(0,F),K=U.subarray(F);E=k(Y),x=k(K),v=w(Y,E,1),S=w(K,x,1)}else D(1);if(y>_){d&&D(0);break}}h&&p(b+131072);for(var Z=(1<<E)-1,J=(1<<x)-1,Q=y;;Q=y){var ee=(H=v[C(e,y)&Z])>>4;if((y+=15&H)>_){d&&D(0);break}if(H||D(2),ee<256)r[b++]=ee;else{if(256==ee){Q=y,v=null;break}var te=ee-254;if(ee>264){var re=o[V=ee-257];te=A(e,y,(1<<re)-1)+f[V],y+=re}var ne=S[C(e,y)&J],ie=ne>>4;if(ne||D(3),y+=15&ne,K=g[ie],ie>3&&(re=c[ie],K+=C(e,y)&(1<<re)-1,y+=re),y>_){d&&D(0);break}h&&p(b+131072);var se=b+te;if(b<K){var ae=a-K,oe=Math.min(K,se);for(ae+b<0&&D(3);b<oe;++b)r[b]=n[ae+b]}for(;b<se;++b)r[b]=r[b-K]}}t.l=v,t.p=Q,t.b=b,t.f=m,v&&(m=1,t.m=E,t.d=S,t.n=x)}while(!m);return b!=r.length&&l?R(r,0,b):r.subarray(0,b)},L=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},F=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},N=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,o=r.slice();if(!a)return{t:W,l:0};if(1==a){var c=new i(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var u=r[0],l=r[1],h=0,f=1,d=2;for(r[0]={s:-1,f:u.f+l.f,l:u,r:l};f!=a-1;)u=r[r[h].f<r[d].f?h++:d++],l=r[h!=f&&r[h].f<r[d].f?h++:d++],r[f++]={s:-1,f:u.f+l.f,l:u,r:l};var p=o[0].s;for(n=1;n<a;++n)o[n].s>p&&(p=o[n].s);var g=new s(p+1),m=B(r[f-1],g,0);if(m>t){n=0;var y=0,b=m-t,v=1<<b;for(o.sort((function(e,t){return g[t.s]-g[e.s]||e.f-t.f}));n<a;++n){var w=o[n].s;if(!(g[w]>t))break;y+=v-(1<<m-g[w]),g[w]=t}for(y>>=b;y>0;){var S=o[n].s;g[S]<t?y-=1<<t-g[S]++-1:++n}for(;n>=0&&y;--n){var E=o[n].s;g[E]==t&&(--g[E],++y)}m=t}return{t:new i(g),l:m}},B=function(e,t,r){return-1==e.s?Math.max(B(e.l,t,r+1),B(e.r,t,r+1)):t[e.s]=r},U=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new s(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},c=1;c<=t;++c)if(e[c]==i&&c!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[c]}return{c:r.subarray(0,n),n:t}},j=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},V=function(e,t,r){var n=r.length,i=M(t+2);e[i]=255&n,e[i+1]=n>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},G=function(e,t,r,n,i,a,l,h,f,d,p){L(t,p++,r),++i[256];for(var g=N(i,15),m=g.t,y=g.l,b=N(a,15),v=b.t,I=b.l,T=U(m),k=T.c,A=T.n,C=U(v),M=C.c,R=C.n,O=new s(19),D=0;D<k.length;++D)++O[31&k[D]];for(D=0;D<M.length;++D)++O[31&M[D]];for(var P=N(O,7),B=P.t,G=P.l,z=19;z>4&&!B[u[z-1]];--z);var W,q,$,H,X=d+5<<3,Y=j(i,S)+j(a,E)+l,K=j(i,m)+j(a,v)+l+14+3*z+j(O,B)+2*O[16]+3*O[17]+7*O[18];if(f>=0&&X<=Y&&X<=K)return V(t,p,e.subarray(f,f+d));if(L(t,p,1+(K<Y)),p+=2,K<Y){W=w(m,y,0),q=m,$=w(v,I,0),H=v;var Z=w(B,G,0);for(L(t,p,A-257),L(t,p+5,R-1),L(t,p+10,z-4),p+=14,D=0;D<z;++D)L(t,p+3*D,B[u[D]]);p+=3*z;for(var J=[k,M],Q=0;Q<2;++Q){var ee=J[Q];for(D=0;D<ee.length;++D){var te=31&ee[D];L(t,p,Z[te]),p+=B[te],te>15&&(L(t,p,ee[D]>>5&127),p+=ee[D]>>12)}}}else W=x,q=S,$=_,H=E;for(D=0;D<h;++D){var re=n[D];if(re>255){F(t,p,W[257+(te=re>>18&31)]),p+=q[te+257],te>7&&(L(t,p,re>>23&31),p+=o[te]);var ne=31&re;F(t,p,$[ne]),p+=H[ne],ne>3&&(F(t,p,re>>5&8191),p+=c[ne])}else F(t,p,W[re]),p+=q[re]}return F(t,p,W[256]),p+q[256]},z=new a([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),W=new i(0),q=function(e,t,r,n,u,l){var h=l.z||e.length,f=new i(n+h+5*(1+Math.ceil(h/7e3))+u),p=f.subarray(n,f.length-u),g=l.l,y=7&(l.r||0);if(t){y&&(p[0]=l.r>>3);for(var b=z[t-1],v=b>>13,w=8191&b,S=(1<<r)-1,E=l.p||new s(32768),x=l.h||new s(S+1),I=Math.ceil(r/3),_=2*I,T=function(t){return(e[t]^e[t+1]<<I^e[t+2]<<_)&S},k=new a(25e3),A=new s(288),C=new s(32),O=0,D=0,P=l.i||0,L=0,F=l.w||0,N=0;P+2<h;++P){var B=T(P),U=32767&P,j=x[B];if(E[U]=j,x[B]=U,F<=P){var W=h-P;if((O>7e3||L>24576)&&(W>423||!g)){y=G(e,p,0,k,A,C,D,L,N,P-N,y),L=O=D=0,N=P;for(var q=0;q<286;++q)A[q]=0;for(q=0;q<30;++q)C[q]=0}var $=2,H=0,X=w,Y=U-j&32767;if(W>2&&B==T(P-Y))for(var K=Math.min(v,W)-1,Z=Math.min(32767,P),J=Math.min(258,W);Y<=Z&&--X&&U!=j;){if(e[P+$]==e[P+$-Y]){for(var Q=0;Q<J&&e[P+Q]==e[P+Q-Y];++Q);if(Q>$){if($=Q,H=Y,Q>K)break;var ee=Math.min(Y,Q-2),te=0;for(q=0;q<ee;++q){var re=P-Y+q&32767,ne=re-E[re]&32767;ne>te&&(te=ne,j=re)}}}Y+=(U=j)-(j=E[U])&32767}if(H){k[L++]=268435456|d[$]<<18|m[H];var ie=31&d[$],se=31&m[H];D+=o[ie]+c[se],++A[257+ie],++C[se],F=P+$,++O}else k[L++]=e[P],++A[e[P]]}}for(P=Math.max(P,F);P<h;++P)k[L++]=e[P],++A[e[P]];y=G(e,p,g,k,A,C,D,L,N,P-N,y),g||(l.r=7&y|p[y/8|0]<<3,y-=7,l.h=x,l.p=E,l.i=P,l.w=F)}else{for(P=l.w||0;P<h+g;P+=65535){var ae=P+65535;ae>=h&&(p[y/8|0]=g,ae=h),y=V(p,y+1,e.subarray(P,ae))}l.i=h}return R(f,0,n+M(y)+u)},$=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}return e}(),H=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=$[255&r^t[n]]^r>>>8;e=r},d:function(){return~e}}},X=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Y=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new i(a.length+e.length);o.set(a),o.set(e,a.length),e=o,s.w=a.length}return q(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,s)},K=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r},Z=function(e,t,r){for(var n=e(),i=e.toString(),s=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),a=0;a<n.length;++a){var o=n[a],c=s[a];if("function"==typeof o){t+=";"+c+"=";var u=o.toString();if(o.prototype)if(-1!=u.indexOf("[native code]")){var l=u.indexOf(" ",8)+1;t+=u.slice(l,u.indexOf("(",l))}else for(var h in t+=u,o.prototype)t+=";"+c+".prototype."+h+"="+o.prototype[h].toString();else t+=u}else r[c]=o}return t},J=[],Q=function(e,t,r,i){if(!J[r]){for(var s="",a={},o=e.length-1,c=0;c<o;++c)s=Z(e[c],s,a);J[r]={c:Z(e[o],s,a),e:a}}var u=K({},J[r].e);return n(J[r].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",r,u,function(e){var t=[];for(var r in e)e[r].buffer&&t.push((e[r]=new e[r].constructor(e[r])).buffer);return t}(u),i)},ee=function(){return[i,s,a,o,c,u,f,g,I,T,y,O,w,k,A,C,M,R,D,P,Ce,ae,oe]},te=function(){return[i,s,a,o,c,u,d,m,x,S,_,E,y,z,W,w,L,F,N,B,U,j,V,G,M,R,q,Y,_e,ae]},re=function(){return[ge,be,pe,H,$]},ne=function(){return[me,ye]},ie=function(){return[ve,pe,X]},se=function(){return[we]},ae=function(e){return postMessage(e,[e.buffer])},oe=function(e){return e&&{out:e.size&&new i(e.size),dictionary:e.dictionary}},ce=function(e,t,r,n,i,s){var a=Q(r,n,i,(function(e,t){a.terminate(),s(e,t)}));return a.postMessage([e,t],t.consume?[e.buffer]:[]),function(){a.terminate()}},ue=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){t.data.length?(e.push(t.data[0],t.data[1]),postMessage([t.data[0].length])):e.flush()}},le=function(e,t,r,n,i,s,a){var o,c=Q(e,n,i,(function(e,r){e?(c.terminate(),t.ondata.call(t,e)):Array.isArray(r)?1==r.length?(t.queuedSize-=r[0],t.ondrain&&t.ondrain(r[0])):(r[1]&&c.terminate(),t.ondata.call(t,e,r[0],r[1])):a(r)}));c.postMessage(r),t.queuedSize=0,t.push=function(e,r){t.ondata||D(5),o&&t.ondata(D(4,0,1),null,!!r),t.queuedSize+=e.length,c.postMessage([e,o=r],[e.buffer])},t.terminate=function(){c.terminate()},s&&(t.flush=function(){c.postMessage([])})},he=function(e,t){return e[t]|e[t+1]<<8},fe=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},de=function(e,t){return fe(e,t)+4294967296*fe(e,t+4)},pe=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ge=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&pe(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}},me=function(e){31==e[0]&&139==e[1]&&8==e[2]||D(6,"invalid gzip data");var t=e[3],r=10;4&t&&(r+=2+(e[10]|e[11]<<8));for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[r++]);return r+(2&t)},ye=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},be=function(e){return 10+(e.filename?e.filename.length+1:0)},ve=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=X();i.p(t.dictionary),pe(e,2,i.d())}},we=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&D(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&D(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function Se(e,t){return"function"==typeof e&&(t=e,e={}),this.ondata=t,e}var Ee=function(){function e(e,t){if("function"==typeof e&&(t=e,e={}),this.ondata=t,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new i(98304),this.o.dictionary){var r=this.o.dictionary.subarray(-32768);this.b.set(r,32768-r.length),this.s.i=32768-r.length}}return e.prototype.p=function(e,t){this.ondata(Y(e,this.o,0,0,this.s),t)},e.prototype.push=function(e,t){this.ondata||D(5),this.s.l&&D(4);var r=e.length+this.s.z;if(r>this.b.length){if(r>2*this.b.length-32768){var n=new i(-32768&r);n.set(this.b.subarray(0,this.s.z)),this.b=n}var s=this.b.length-this.s.z;this.b.set(e.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(s),32768),this.s.z=e.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=1&t,(this.s.z>this.s.w+8191||t)&&(this.p(this.b,t||!1),this.s.w=this.s.i,this.s.i-=2)},e.prototype.flush=function(){this.ondata||D(5),this.s.l&&D(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},e}();t.Deflate=Ee;var xe=function(e,t){le([te,function(){return[ue,Ee]}],this,Se.call(this,e,t),(function(e){var t=new Ee(e.data);onmessage=ue(t)}),6,1)};function Ie(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&D(7),ce(e,t,[te],(function(e){return ae(_e(e.data[0],e.data[1]))}),0,r)}function _e(e,t){return Y(e,t||{},0,0)}t.AsyncDeflate=xe,t.deflate=Ie,t.deflateSync=_e;var Te=function(){function e(e,t){"function"==typeof e&&(t=e,e={}),this.ondata=t;var r=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:r?r.length:0},this.o=new i(32768),this.p=new i(0),r&&this.o.set(r)}return e.prototype.e=function(e){if(this.ondata||D(5),this.d&&D(4),this.p.length){if(e.length){var t=new i(this.p.length+e.length);t.set(this.p),t.set(e,this.p.length),this.p=t}}else this.p=e},e.prototype.c=function(e){this.s.i=+(this.d=e||!1);var t=this.s.b,r=P(this.p,this.s,this.o);this.ondata(R(r,t,this.s.b),this.d),this.o=R(r,this.s.b-32768),this.s.b=this.o.length,this.p=R(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}();t.Inflate=Te;var ke=function(e,t){le([ee,function(){return[ue,Te]}],this,Se.call(this,e,t),(function(e){var t=new Te(e.data);onmessage=ue(t)}),7,0)};function Ae(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&D(7),ce(e,t,[ee],(function(e){return ae(Ce(e.data[0],oe(e.data[1])))}),1,r)}function Ce(e,t){return P(e,{i:2},t&&t.out,t&&t.dictionary)}t.AsyncInflate=ke,t.inflate=Ae,t.inflateSync=Ce;var Me=function(){function e(e,t){this.c=H(),this.l=0,this.v=1,Ee.call(this,e,t)}return e.prototype.push=function(e,t){this.c.p(e),this.l+=e.length,Ee.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){var r=Y(e,this.o,this.v&&be(this.o),t&&8,this.s);this.v&&(ge(r,this.o),this.v=0),t&&(pe(r,r.length-8,this.c.d()),pe(r,r.length-4,this.l)),this.ondata(r,t)},e.prototype.flush=function(){Ee.prototype.flush.call(this)},e}();t.Gzip=Me,t.Compress=Me;var Re=function(e,t){le([te,re,function(){return[ue,Ee,Me]}],this,Se.call(this,e,t),(function(e){var t=new Me(e.data);onmessage=ue(t)}),8,1)};function Oe(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&D(7),ce(e,t,[te,re,function(){return[De]}],(function(e){return ae(De(e.data[0],e.data[1]))}),2,r)}function De(e,t){t||(t={});var r=H(),n=e.length;r.p(e);var i=Y(e,t,be(t),8),s=i.length;return ge(i,t),pe(i,s-8,r.d()),pe(i,s-4,n),i}t.AsyncGzip=Re,t.AsyncCompress=Re,t.gzip=Oe,t.compress=Oe,t.gzipSync=De,t.compressSync=De;var Pe=function(){function e(e,t){this.v=1,this.r=0,Te.call(this,e,t)}return e.prototype.push=function(e,t){if(Te.prototype.e.call(this,e),this.r+=e.length,this.v){var r=this.p.subarray(this.v-1),n=r.length>3?me(r):4;if(n>r.length){if(!t)return}else this.v>1&&this.onmember&&this.onmember(this.r-r.length);this.p=r.subarray(n),this.v=0}Te.prototype.c.call(this,t),!this.s.f||this.s.l||t||(this.v=M(this.s.p)+9,this.s={i:0},this.o=new i(0),this.push(new i(0),t))},e}();t.Gunzip=Pe;var Le=function(e,t){var r=this;le([ee,ne,function(){return[ue,Te,Pe]}],this,Se.call(this,e,t),(function(e){var t=new Pe(e.data);t.onmember=function(e){return postMessage(e)},onmessage=ue(t)}),9,0,(function(e){return r.onmember&&r.onmember(e)}))};function Fe(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&D(7),ce(e,t,[ee,ne,function(){return[Ne]}],(function(e){return ae(Ne(e.data[0],e.data[1]))}),3,r)}function Ne(e,t){var r=me(e);return r+8>e.length&&D(6,"invalid gzip data"),P(e.subarray(r,-8),{i:2},t&&t.out||new i(ye(e)),t&&t.dictionary)}t.AsyncGunzip=Le,t.gunzip=Fe,t.gunzipSync=Ne;var Be=function(){function e(e,t){this.c=X(),this.v=1,Ee.call(this,e,t)}return e.prototype.push=function(e,t){this.c.p(e),Ee.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){var r=Y(e,this.o,this.v&&(this.o.dictionary?6:2),t&&4,this.s);this.v&&(ve(r,this.o),this.v=0),t&&pe(r,r.length-4,this.c.d()),this.ondata(r,t)},e.prototype.flush=function(){Ee.prototype.flush.call(this)},e}();t.Zlib=Be;function Ue(e,t){t||(t={});var r=X();r.p(e);var n=Y(e,t,t.dictionary?6:2,4);return ve(n,t),pe(n,n.length-4,r.d()),n}t.AsyncZlib=function(e,t){le([te,ie,function(){return[ue,Ee,Be]}],this,Se.call(this,e,t),(function(e){var t=new Be(e.data);onmessage=ue(t)}),10,1)},t.zlib=function(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&D(7),ce(e,t,[te,ie,function(){return[Ue]}],(function(e){return ae(Ue(e.data[0],e.data[1]))}),4,r)},t.zlibSync=Ue;var je=function(){function e(e,t){Te.call(this,e,t),this.v=e&&e.dictionary?2:1}return e.prototype.push=function(e,t){if(Te.prototype.e.call(this,e),this.v){if(this.p.length<6&&!t)return;this.p=this.p.subarray(we(this.p,this.v-1)),this.v=0}t&&(this.p.length<4&&D(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Te.prototype.c.call(this,t)},e}();t.Unzlib=je;var Ve=function(e,t){le([ee,se,function(){return[ue,Te,je]}],this,Se.call(this,e,t),(function(e){var t=new je(e.data);onmessage=ue(t)}),11,0)};function Ge(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&D(7),ce(e,t,[ee,se,function(){return[ze]}],(function(e){return ae(ze(e.data[0],oe(e.data[1])))}),5,r)}function ze(e,t){return P(e.subarray(we(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}t.AsyncUnzlib=Ve,t.unzlib=Ge,t.unzlibSync=ze;var We=function(){function e(e,t){this.o=Se.call(this,e,t)||{},this.G=Pe,this.I=Te,this.Z=je}return e.prototype.i=function(){var e=this;this.s.ondata=function(t,r){e.ondata(t,r)}},e.prototype.push=function(e,t){if(this.ondata||D(5),this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var r=new i(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;this.p.length>2&&(this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(this.o):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,t),this.p=null)}},e}();t.Decompress=We;var qe=function(){function e(e,t){We.call(this,e,t),this.queuedSize=0,this.G=Le,this.I=ke,this.Z=Ve}return e.prototype.i=function(){var e=this;this.s.ondata=function(t,r,n){e.ondata(t,r,n)},this.s.ondrain=function(t){e.queuedSize-=t,e.ondrain&&e.ondrain(t)}},e.prototype.push=function(e,t){this.queuedSize+=e.length,We.prototype.push.call(this,e,t)},e}();t.AsyncDecompress=qe,t.decompress=function(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&D(7),31==e[0]&&139==e[1]&&8==e[2]?Fe(e,t,r):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?Ae(e,t,r):Ge(e,t,r)},t.decompressSync=function(e,t){return 31==e[0]&&139==e[1]&&8==e[2]?Ne(e,t):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?Ce(e,t):ze(e,t)};var $e=function(e,t,r,n){for(var s in e){var a=e[s],o=t+s,c=n;Array.isArray(a)&&(c=K(n,a[1]),a=a[0]),a instanceof i?r[o]=[a,c]:(r[o+="/"]=[new i(0),c],$e(a,o,r,n))}},He="undefined"!=typeof TextEncoder&&new TextEncoder,Xe="undefined"!=typeof TextDecoder&&new TextDecoder,Ye=0;try{Xe.decode(W,{stream:!0}),Ye=1}catch(e){}var Ke=function(e){for(var t="",r=0;;){var n=e[r++],i=(n>127)+(n>223)+(n>239);if(r+i>e.length)return{s:t,r:R(e,r-1)};i?3==i?(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&i?String.fromCharCode((31&n)<<6|63&e[r++]):String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(n)}},Ze=function(){function e(e){this.ondata=e,Ye?this.t=new TextDecoder:this.p=W}return e.prototype.push=function(e,t){if(this.ondata||D(5),t=!!t,this.t)return this.ondata(this.t.decode(e,{stream:!0}),t),void(t&&(this.t.decode().length&&D(8),this.t=null));this.p||D(4);var r=new i(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var n=Ke(r),s=n.s,a=n.r;t?(a.length&&D(8),this.p=null):this.p=a,this.ondata(s,t)},e}();t.DecodeUTF8=Ze;var Je=function(){function e(e){this.ondata=e}return e.prototype.push=function(e,t){this.ondata||D(5),this.d&&D(4),this.ondata(Qe(e),this.d=t||!1)},e}();function Qe(e,t){if(t){for(var r=new i(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(He)return He.encode(e);var s=e.length,a=new i(e.length+(e.length>>1)),o=0,c=function(e){a[o++]=e};for(n=0;n<s;++n){if(o+5>a.length){var u=new i(o+8+(s-n<<1));u.set(a),a=u}var l=e.charCodeAt(n);l<128||t?c(l):l<2048?(c(192|l>>6),c(128|63&l)):l>55295&&l<57344?(c(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++n))>>18),c(128|l>>12&63),c(128|l>>6&63),c(128|63&l)):(c(224|l>>12),c(128|l>>6&63),c(128|63&l))}return R(a,0,o)}function et(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}if(Xe)return Xe.decode(e);var i=Ke(e),s=i.s;return(r=i.r).length&&D(8),s}t.EncodeUTF8=Je,t.strToU8=Qe,t.strFromU8=et;var tt=function(e){return 1==e?3:e<6?2:9==e?1:0},rt=function(e,t){return t+30+he(e,t+26)+he(e,t+28)},nt=function(e,t,r){var n=he(e,t+28),i=et(e.subarray(t+46,t+46+n),!(2048&he(e,t+8))),s=t+46+n,a=fe(e,t+20),o=r&&4294967295==a?it(e,s):[a,fe(e,t+24),fe(e,t+42)],c=o[0],u=o[1],l=o[2];return[he(e,t+10),c,u,i,s+he(e,t+30)+he(e,t+32),l]},it=function(e,t){for(;1!=he(e,t);t+=4+he(e,t+2));return[de(e,t+12),de(e,t+4),de(e,t+20)]},st=function(e){var t=0;if(e)for(var r in e){var n=e[r].length;n>65535&&D(9),t+=n+4}return t},at=function(e,t,r,n,i,s,a,o){var c=n.length,u=r.extra,l=o&&o.length,h=st(u);pe(e,t,null!=a?33639248:67324752),t+=4,null!=a&&(e[t++]=20,e[t++]=r.os),e[t]=20,t+=2,e[t++]=r.flag<<1|(s<0&&8),e[t++]=i&&8,e[t++]=255&r.compression,e[t++]=r.compression>>8;var f=new Date(null==r.mtime?Date.now():r.mtime),d=f.getFullYear()-1980;if((d<0||d>119)&&D(10),pe(e,t,d<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>1),t+=4,-1!=s&&(pe(e,t,r.crc),pe(e,t+4,s<0?-s-2:s),pe(e,t+8,r.size)),pe(e,t+12,c),pe(e,t+14,h),t+=16,null!=a&&(pe(e,t,l),pe(e,t+6,r.attrs),pe(e,t+10,a),t+=14),e.set(n,t),t+=c,h)for(var p in u){var g=u[p],m=g.length;pe(e,t,+p),pe(e,t+2,m),e.set(g,t+4),t+=4+m}return l&&(e.set(o,t),t+=l),t},ot=function(e,t,r,n,i){pe(e,t,101010256),pe(e,t+8,r),pe(e,t+10,r),pe(e,t+12,n),pe(e,t+16,i)},ct=function(){function e(e){this.filename=e,this.c=H(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){this.ondata||D(5),this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e}();t.ZipPassThrough=ct;var ut=function(){function e(e,t){var r=this;t||(t={}),ct.call(this,e),this.d=new Ee(t,(function(e,t){r.ondata(null,e,t)})),this.compression=8,this.flag=tt(t.level)}return e.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e}();t.ZipDeflate=ut;var lt=function(){function e(e,t){var r=this;t||(t={}),ct.call(this,e),this.d=new xe(t,(function(e,t,n){r.ondata(e,t,n)})),this.compression=8,this.flag=tt(t.level),this.terminate=this.d.terminate}return e.prototype.process=function(e,t){this.d.push(e,t)},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e}();t.AsyncZipDeflate=lt;var ht=function(){function e(e){this.ondata=e,this.u=[],this.d=1}return e.prototype.add=function(e){var t=this;if(this.ondata||D(5),2&this.d)this.ondata(D(4+8*(1&this.d),0,1),null,!1);else{var r=Qe(e.filename),n=r.length,s=e.comment,a=s&&Qe(s),o=n!=e.filename.length||a&&s.length!=a.length,c=n+st(e.extra)+30;n>65535&&this.ondata(D(11,0,1),null,!1);var u=new i(c);at(u,0,e,r,o,-1);var l=[u],h=function(){for(var e=0,r=l;e<r.length;e++){var n=r[e];t.ondata(null,n,!1)}l=[]},f=this.d;this.d=0;var d=this.u.length,p=K(e,{f:r,u:o,o:a,t:function(){e.terminate&&e.terminate()},r:function(){if(h(),f){var e=t.u[d+1];e?e.r():t.d=1}f=1}}),g=0;e.ondata=function(r,n,s){if(r)t.ondata(r,n,s),t.terminate();else if(g+=n.length,l.push(n),s){var a=new i(16);pe(a,0,134695760),pe(a,4,e.crc),pe(a,8,g),pe(a,12,e.size),l.push(a),p.c=g,p.b=c+g+16,p.crc=e.crc,p.size=e.size,f&&p.r(),f=1}else f&&h()},this.u.push(p)}},e.prototype.end=function(){var e=this;2&this.d?this.ondata(D(4+8*(1&this.d),0,1),null,!0):(this.d?this.e():this.u.push({r:function(){1&e.d&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3)},e.prototype.e=function(){for(var e=0,t=0,r=0,n=0,s=this.u;n<s.length;n++)r+=46+(u=s[n]).f.length+st(u.extra)+(u.o?u.o.length:0);for(var a=new i(r+22),o=0,c=this.u;o<c.length;o++){var u=c[o];at(a,e,u,u.f,u.u,-u.c-2,t,u.o),e+=46+u.f.length+st(u.extra)+(u.o?u.o.length:0),t+=u.b}ot(a,e,this.u.length,r,t),this.ondata(null,a,!0),this.d=2},e.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++)t[e].t();this.d=2},e}();t.Zip=ht,t.zip=function(e,t,r){r||(r=t,t={}),"function"!=typeof r&&D(7);var n={};$e(e,"",n,t);var s=Object.keys(n),a=s.length,o=0,c=0,u=a,l=new Array(a),h=[],f=function(){for(var e=0;e<h.length;++e)h[e]()},d=function(e,t){mt((function(){r(e,t)}))};mt((function(){d=r}));var p=function(){var e=new i(c+22),t=o,r=c-o;c=0;for(var n=0;n<u;++n){var s=l[n];try{var a=s.c.length;at(e,c,s,s.f,s.u,a);var h=30+s.f.length+st(s.extra),f=c+h;e.set(s.c,f),at(e,o,s,s.f,s.u,a,c,s.m),o+=16+h+(s.m?s.m.length:0),c=f+a}catch(e){return d(e,null)}}ot(e,o,l.length,r,t),d(null,e)};a||p();for(var g=function(e){var t=s[e],r=n[t],i=r[0],u=r[1],g=H(),m=i.length;g.p(i);var y=Qe(t),b=y.length,v=u.comment,w=v&&Qe(v),S=w&&w.length,E=st(u.extra),x=0==u.level?0:8,I=function(r,n){if(r)f(),d(r,null);else{var i=n.length;l[e]=K(u,{size:m,crc:g.d(),c:n,f:y,m:w,u:b!=t.length||w&&v.length!=S,compression:x}),o+=30+b+E+i,c+=76+2*(b+E)+(S||0)+i,--a||p()}};if(b>65535&&I(D(11,0,1),null),x)if(m<16e4)try{I(null,_e(i,u))}catch(e){I(e,null)}else h.push(Ie(i,u,I));else I(null,i)},m=0;m<u;++m)g(m);return f},t.zipSync=function(e,t){t||(t={});var r={},n=[];$e(e,"",r,t);var s=0,a=0;for(var o in r){var c=r[o],u=c[0],l=c[1],h=0==l.level?0:8,f=(I=Qe(o)).length,d=l.comment,p=d&&Qe(d),g=p&&p.length,m=st(l.extra);f>65535&&D(11);var y=h?_e(u,l):u,b=y.length,v=H();v.p(u),n.push(K(l,{size:u.length,crc:v.d(),c:y,f:I,m:p,u:f!=o.length||p&&d.length!=g,o:s,compression:h})),s+=30+f+m+b,a+=76+2*(f+m)+(g||0)+b}for(var w=new i(a+22),S=s,E=a-s,x=0;x<n.length;++x){var I=n[x];at(w,I.o,I,I.f,I.u,I.c.length);var _=30+I.f.length+st(I.extra);w.set(I.c,I.o+_),at(w,s,I,I.f,I.u,I.c.length,I.o,I.m),s+=16+_+(I.m?I.m.length:0)}return ot(w,s,n.length,E,S),w};var ft=function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e}();t.UnzipPassThrough=ft;var dt=function(){function e(){var e=this;this.i=new Te((function(t,r){e.ondata(null,t,r)}))}return e.prototype.push=function(e,t){try{this.i.push(e,t)}catch(e){this.ondata(e,null,t)}},e.compression=8,e}();t.UnzipInflate=dt;var pt=function(){function e(e,t){var r=this;t<32e4?this.i=new Te((function(e,t){r.ondata(null,e,t)})):(this.i=new ke((function(e,t,n){r.ondata(e,t,n)})),this.terminate=this.i.terminate)}return e.prototype.push=function(e,t){this.i.terminate&&(e=R(e,0)),this.i.push(e,t)},e.compression=8,e}();t.AsyncUnzipInflate=pt;var gt=function(){function e(e){this.onfile=e,this.k=[],this.o={0:ft},this.p=W}return e.prototype.push=function(e,t){var r=this;if(this.onfile||D(5),this.p||D(4),this.c>0){var n=Math.min(this.c,e.length),s=e.subarray(0,n);if(this.c-=n,this.d?this.d.push(s,!this.c):this.k[0].push(s),(e=e.subarray(n)).length)return this.push(e,t)}else{var a=0,o=0,c=void 0,u=void 0;this.p.length?e.length?((u=new i(this.p.length+e.length)).set(this.p),u.set(e,this.p.length)):u=this.p:u=e;for(var l=u.length,h=this.c,f=h&&this.d,d=function(){var e,t=fe(u,o);if(67324752==t){a=1,c=o,p.d=null,p.c=0;var n=he(u,o+6),i=he(u,o+8),s=2048&n,f=8&n,d=he(u,o+26),g=he(u,o+28);if(l>o+30+d+g){var m=[];p.k.unshift(m),a=2;var y,b=fe(u,o+18),v=fe(u,o+22),w=et(u.subarray(o+30,o+=30+d),!s);4294967295==b?(e=f?[-2]:it(u,o),b=e[0],v=e[1]):f&&(b=-1),o+=g,p.c=b;var S={name:w,compression:i,start:function(){if(S.ondata||D(5),b){var e=r.o[i];e||S.ondata(D(14,"unknown compression type "+i,1),null,!1),(y=b<0?new e(w):new e(w,b,v)).ondata=function(e,t,r){S.ondata(e,t,r)};for(var t=0,n=m;t<n.length;t++){var s=n[t];y.push(s,!1)}r.k[0]==m&&r.c?r.d=y:y.push(W,!0)}else S.ondata(null,W,!0)},terminate:function(){y&&y.terminate&&y.terminate()}};b>=0&&(S.size=b,S.originalSize=v),p.onfile(S)}return"break"}if(h){if(134695760==t)return c=o+=12+(-2==h&&8),a=3,p.c=0,"break";if(33639248==t)return c=o-=4,a=3,p.c=0,"break"}},p=this;o<l-4&&"break"!==d();++o);if(this.p=W,h<0){var g=a?u.subarray(0,c-12-(-2==h&&8)-(134695760==fe(u,c-16)&&4)):u.subarray(0,o);f?f.push(g,!!a):this.k[+(2==a)].push(g)}if(2&a)return this.push(u.subarray(o),t);this.p=u.subarray(o)}t&&(this.c&&D(13),this.p=null)},e.prototype.register=function(e){this.o[e.compression]=e},e}();t.Unzip=gt;var mt="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(e){e()};t.unzip=function(e,t,r){r||(r=t,t={}),"function"!=typeof r&&D(7);var n=[],s=function(){for(var e=0;e<n.length;++e)n[e]()},a={},o=function(e,t){mt((function(){r(e,t)}))};mt((function(){o=r}));for(var c=e.length-22;101010256!=fe(e,c);--c)if(!c||e.length-c>65558)return o(D(13,0,1),null),s;var u=he(e,c+8);if(u){var l=u,h=fe(e,c+16),f=4294967295==h||65535==l;if(f){var d=fe(e,c-12);(f=101075792==fe(e,d))&&(l=u=fe(e,d+32),h=fe(e,d+48))}for(var p=t&&t.filter,g=function(t){var r=nt(e,h,f),c=r[0],l=r[1],d=r[2],g=r[3],m=r[4],y=r[5],b=rt(e,y);h=m;var v=function(e,t){e?(s(),o(e,null)):(t&&(a[g]=t),--u||o(null,a))};if(!p||p({name:g,size:l,originalSize:d,compression:c}))if(c)if(8==c){var w=e.subarray(b,b+l);if(d<524288||l>.8*d)try{v(null,Ce(w,{out:new i(d)}))}catch(e){v(e,null)}else n.push(Ae(w,{size:d},v))}else v(D(14,"unknown compression type "+c,1),null);else v(null,R(e,b,b+l));else v(null,null)},m=0;m<l;++m)g()}else o(null,{});return s},t.unzipSync=function(e,t){for(var r={},n=e.length-22;101010256!=fe(e,n);--n)(!n||e.length-n>65558)&&D(13);var s=he(e,n+8);if(!s)return{};var a=fe(e,n+16),o=4294967295==a||65535==s;if(o){var c=fe(e,n-12);(o=101075792==fe(e,c))&&(s=fe(e,c+32),a=fe(e,c+48))}for(var u=t&&t.filter,l=0;l<s;++l){var h=nt(e,a,o),f=h[0],d=h[1],p=h[2],g=h[3],m=h[4],y=h[5],b=rt(e,y);a=m,u&&!u({name:g,size:d,originalSize:p,compression:f})||(f?8==f?r[g]=Ce(e.subarray(b,b+d),{out:new i(p)}):D(14,"unknown compression type "+f):r[g]=R(e,b,b+d))}return r}},3219:e=>{"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},2951:e=>{"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},4589:e=>{"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},3241:e=>{"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:e=>{"use strict";e.exports={rE:"6.6.1"}},5579:e=>{"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Environment:()=>L,Interpreter:()=>ky,Preprocessor:()=>Dy,Scope:()=>O,bscs:()=>Ov,executeFile:()=>Fv,lexParseSync:()=>Nv,lexer:()=>a,netlib:()=>t,parser:()=>c,preprocessor:()=>h,shared:()=>Rv,stats:()=>Dv,stdlib:()=>u,terminateReasons:()=>Pv,types:()=>s});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{AALiteral:()=>I,ArrayLiteral:()=>x,AtSignGet:()=>b,Binary:()=>g,Call:()=>m,DottedGet:()=>v,Function:()=>y,Grouping:()=>S,IndexedGet:()=>w,Literal:()=>E,Unary:()=>_,Variable:()=>T});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{download:()=>Ce,getExternalIp:()=>Me,getHost:()=>Le,isValidHostname:()=>Pe,isValidIP:()=>De,resolveHostToIP:()=>Oe});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{COPYFILE_EXCL:()=>kt,COPYFILE_FICLONE:()=>At,COPYFILE_FICLONE_FORCE:()=>Ct,F_OK:()=>xt,O_APPEND:()=>Nt,O_CREAT:()=>Dt,O_DIRECT:()=>Wt,O_DIRECTORY:()=>Bt,O_DSYNC:()=>Gt,O_EXCL:()=>Pt,O_NOATIME:()=>Ut,O_NOCTTY:()=>Lt,O_NOFOLLOW:()=>jt,O_NONBLOCK:()=>qt,O_RDONLY:()=>Mt,O_RDWR:()=>Ot,O_SYMLINK:()=>zt,O_SYNC:()=>Vt,O_TRUNC:()=>Ft,O_WRONLY:()=>Rt,R_OK:()=>It,S_IFBLK:()=>Kt,S_IFCHR:()=>Jt,S_IFDIR:()=>Zt,S_IFIFO:()=>Qt,S_IFLNK:()=>Xt,S_IFMT:()=>$t,S_IFREG:()=>Yt,S_IFSOCK:()=>Ht,S_IRGRP:()=>cr,S_IROTH:()=>fr,S_IRUSR:()=>ir,S_IRWXG:()=>or,S_IRWXO:()=>hr,S_IRWXU:()=>nr,S_ISGID:()=>tr,S_ISUID:()=>er,S_ISVTX:()=>rr,S_IWGRP:()=>ur,S_IWOTH:()=>dr,S_IWUSR:()=>sr,S_IXGRP:()=>lr,S_IXOTH:()=>pr,S_IXUSR:()=>ar,UV_FS_O_FILEMAP:()=>gr,W_OK:()=>_t,X_OK:()=>Tt,size_max:()=>mr});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{FileHandle:()=>ms,access:()=>Gs,appendFile:()=>ks,chmod:()=>Fs,chown:()=>Ps,constants:()=>r,copyFile:()=>qs,cp:()=>Hs,exists:()=>bs,glob:()=>Ys,lchmod:()=>Ns,lchown:()=>Ls,link:()=>Rs,lstat:()=>ws,lutimes:()=>Us,mkdir:()=>Cs,mkdtemp:()=>Ws,open:()=>Is,opendir:()=>$s,readFile:()=>_s,readdir:()=>Ms,readlink:()=>Ds,realpath:()=>js,rename:()=>ys,rm:()=>zs,rmdir:()=>As,stat:()=>vs,statfs:()=>Xs,symlink:()=>Os,truncate:()=>Ss,unlink:()=>Es,utimes:()=>Bs,watch:()=>Vs,writeFile:()=>Ts});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{BigIntStatsFs:()=>Pr,Dir:()=>ls,Dirent:()=>us,ReadStream:()=>fs,Stats:()=>Rr,StatsFs:()=>Dr,WriteStream:()=>ds,access:()=>Ma,accessSync:()=>Qi,appendFile:()=>aa,appendFileSync:()=>Ci,chmod:()=>_a,chmodSync:()=>Xi,chown:()=>xa,chownSync:()=>$i,chroot:()=>ui,close:()=>ca,closeSync:()=>Ri,constants:()=>r,copyFile:()=>Ua,copyFileSync:()=>rs,cp:()=>za,cpSync:()=>as,createReadStream:()=>La,createWriteStream:()=>Fa,exists:()=>Js,existsSync:()=>bi,fchmod:()=>ga,fchmodSync:()=>Bi,fchown:()=>pa,fchownSync:()=>Ni,fdatasync:()=>ha,fdatasyncSync:()=>Pi,fstat:()=>oa,fstatSync:()=>Mi,fsync:()=>la,fsyncSync:()=>Di,ftruncate:()=>ua,ftruncateSync:()=>Oi,futimes:()=>ma,futimesSync:()=>Ui,glob:()=>$a,globSync:()=>cs,lchmod:()=>Ta,lchmodSync:()=>Yi,lchown:()=>Ia,lchownSync:()=>Hi,link:()=>wa,linkSync:()=>zi,lopenSync:()=>_i,lstat:()=>ea,lstatSync:()=>wi,lutimes:()=>Aa,lutimesSync:()=>Zi,mkdir:()=>ba,mkdirSync:()=>Vi,mkdtemp:()=>Ba,mkdtempSync:()=>ts,mount:()=>ri,mountObject:()=>oi,mounts:()=>ti,open:()=>na,openAsBlob:()=>qa,openSync:()=>Ii,opendir:()=>Ga,opendirSync:()=>ss,promises:()=>n,read:()=>da,readFile:()=>ia,readFileSync:()=>ki,readSync:()=>Fi,readdir:()=>va,readdirSync:()=>Gi,readlink:()=>Ea,readlinkSync:()=>qi,readv:()=>ja,readvSync:()=>ns,realpath:()=>Ca,realpathSync:()=>Ji,rename:()=>Zs,renameSync:()=>yi,rm:()=>Na,rmSync:()=>es,rmdir:()=>ya,rmdirSync:()=>ji,stat:()=>Qs,statSync:()=>vi,statfs:()=>Wa,statfsSync:()=>os,symlink:()=>Sa,symlinkSync:()=>Wi,truncate:()=>ta,truncateSync:()=>Si,umount:()=>ni,unlink:()=>ra,unlinkSync:()=>Ei,unwatchFile:()=>Da,utimes:()=>ka,utimesSync:()=>Ki,watch:()=>Pa,watchFile:()=>Oa,write:()=>fa,writeFile:()=>sa,writeFileSync:()=>Ai,writeSync:()=>Li,writev:()=>Va,writevSync:()=>is});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{BrsBoolean:()=>xe,BrsComponent:()=>p,BrsInterface:()=>d,BrsInvalid:()=>Ie,BrsObjects:()=>Hp,BrsString:()=>Ee,Callable:()=>se,Double:()=>q,Float:()=>H,Int32:()=>Y,Int64:()=>z,MismatchReason:()=>te,NumberKinds:()=>Kp,PrimitiveKinds:()=>Zp,RequestState:()=>td,RoAppInfo:()=>Ep,RoAppManager:()=>$o,RoAppMemoryMonitor:()=>Jo,RoArray:()=>he,RoAssociativeArray:()=>oe,RoAudioMetadata:()=>up,RoAudioPlayer:()=>lp,RoAudioPlayerEvent:()=>at,RoAudioResource:()=>mp,RoBitmap:()=>dc,RoBoolean:()=>be,RoByteArray:()=>To,RoChannelStore:()=>Zo,RoChannelStoreEvent:()=>ut,RoCompositor:()=>bc,RoDateTime:()=>Go,RoDeviceCrypto:()=>Lo,RoDeviceInfo:()=>Cp,RoDeviceInfoEvent:()=>lt,RoDouble:()=>W,RoEVPCipher:()=>Co,RoEVPDigest:()=>Ro,RoFileSystem:()=>Dp,RoFloat:()=>$,RoFont:()=>Lc,RoFontRegistry:()=>Xf,RoFunction:()=>Pp,RoHMAC:()=>Do,RoImageMetadata:()=>sp,RoInput:()=>tc,RoInputEvent:()=>Ue,RoInt:()=>X,RoInvalid:()=>ve,RoList:()=>me,RoLocalization:()=>bp,RoLongInteger:()=>G,RoMessagePort:()=>ec,RoPath:()=>Ae,RoRegex:()=>Qo,RoRegion:()=>gc,RoRegistry:()=>wp,RoRegistrySection:()=>Sp,RoRemoteInfo:()=>Mp,RoScreen:()=>Yf,RoSocketAddress:()=>Np,RoSprite:()=>yc,RoString:()=>ye,RoSystemLog:()=>rc,RoSystemLogEvent:()=>Be,RoTextureManager:()=>Qf,RoTextureRequest:()=>id,RoTimespan:()=>qo,RoURLEvent:()=>Fe,RoURLTransfer:()=>gp,RoUniversalControlEvent:()=>Ne,RoVideoPlayer:()=>hp,RoVideoPlayerEvent:()=>ot,RoXMLElement:()=>dp,RoXMLList:()=>fp,StdlibArgument:()=>ee,Uninitialized:()=>_e,ValidDateFormats:()=>og,ValueKind:()=>ne,brsValueOf:()=>ug,compareVersions:()=>Ho,createAudioResource:()=>yp,createBitmap:()=>pc,createRegion:()=>mc,createScreen:()=>Kf,getBrsValueFromFieldType:()=>we,getTextureManager:()=>ed,isBoxable:()=>F,isBoxedNumber:()=>ig,isBrsBoolean:()=>Qp,isBrsCallable:()=>eg,isBrsEvent:()=>sg,isBrsNumber:()=>Xp,isBrsString:()=>Jp,isBrsType:()=>ag,isComparable:()=>Se,isIterable:()=>tg,isNumberComp:()=>rg,isNumberKind:()=>Yp,isStringComp:()=>ng,isUnboxable:()=>N,toAssociativeArray:()=>cg,tryCoerce:()=>K});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{GlobalFunctions:()=>mg,KeyWords:()=>dg,Lexeme:()=>lg,Lexer:()=>Sg,Location:()=>pg,ReservedWords:()=>fg,isToken:()=>gg});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{Assignment:()=>Cg,Block:()=>Rg,BlockEnd:()=>Eg,ContinueFor:()=>Dg,ContinueForReason:()=>xg,ContinueWhile:()=>Pg,ContinueWhileReason:()=>_g,Dim:()=>Mg,DottedSet:()=>Yg,End:()=>Wg,ExitFor:()=>Lg,ExitForReason:()=>Ig,ExitWhile:()=>Fg,ExitWhileReason:()=>Tg,Expression:()=>Og,For:()=>$g,ForEach:()=>Hg,Function:()=>Ng,Goto:()=>Vg,GotoLabel:()=>kg,If:()=>Bg,Increment:()=>Ug,IndexedSet:()=>Kg,Label:()=>Gg,Library:()=>Zg,Print:()=>jg,Return:()=>zg,ReturnValue:()=>Ag,Stop:()=>qg,Throw:()=>Qg,TryCatch:()=>Jg,While:()=>Xg});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{Expr:()=>e,ParseError:()=>em,Parser:()=>am,Stmt:()=>o});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{Abs:()=>Am,Asc:()=>Zm,Atn:()=>Nm,Box:()=>fy,Cdbl:()=>Cm,Chr:()=>Jm,Cint:()=>Mm,CopyFile:()=>pm,Cos:()=>Bm,CreateDirectory:()=>bm,CreateObject:()=>dm,Csng:()=>Rm,DeleteDirectory:()=>ym,DeleteFile:()=>mm,Exp:()=>Vm,FindMemberFunction:()=>hm,Fix:()=>Om,FormatDrive:()=>vm,FormatJson:()=>Tm,GetGlobalAA:()=>py,GetInterface:()=>lm,Instr:()=>ty,Int:()=>Dm,LCase:()=>Km,Left:()=>Qm,Len:()=>ry,ListDir:()=>wm,Log:()=>Gm,MatchFiles:()=>xm,Mid:()=>ny,MoveFile:()=>gm,ObjFun:()=>fm,ParseJson:()=>km,Pos:()=>$m,ReadAsciiFile:()=>Sm,RebootSystem:()=>cm,Right:()=>ey,Rnd:()=>Wm,Run:()=>Xm,RunGarbageCollector:()=>um,STRING:()=>ay,Sgn:()=>Fm,Sin:()=>Um,Sleep:()=>gy,Sqr:()=>zm,Str:()=>iy,StrI:()=>sy,StrToI:()=>ly,StringI:()=>oy,Substitute:()=>cy,Tab:()=>qm,Tan:()=>jm,Tr:()=>yy,Type:()=>hy,UCase:()=>Ym,UpTime:()=>dy,Val:()=>uy,Wait:()=>my,WriteAsciiFile:()=>Em});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{BrightScript:()=>Ay,Declaration:()=>Cy,Error:()=>Ry,If:()=>My});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{Chunk:()=>l,Parser:()=>Oy,Preprocessor:()=>Py,getBsConst:()=>Ly});var f=__webpack_require__(7007);class d{name;kind=ne.Interface;methodNames;constructor(e,t){this.name=e,this.methodNames=new Set(Array.from(t).map((e=>e.toLowerCase())))}hasMethod(e){return this.methodNames.has(e.toLowerCase())}toString(){return`<Interface: ${this.name}>`}equalTo(e){return xe.False}}class p{methods=new Map;componentName;filter="";references;returnFlag;interfaces=new Map;constructor(e){this.componentName=e,this.references=0,this.returnFlag=!1}getComponentName(){return this.componentName}hasInterface(e){return this.interfaces.has(e.toLowerCase())}setFilter(e){this.filter=e.toLowerCase()}registerMethods(e){this.methods=new Map,Object.entries(e).forEach((([e,t])=>{const r=new Set(t.filter((e=>e.name?.toLowerCase())).map((e=>e.name?.toLowerCase())));this.interfaces.set(e.toLowerCase(),new d(e,r)),t.forEach((e=>this.methods.set((e.name??"").toLowerCase(),e)))}))}getMethod(e){const t=e.toLowerCase();if(""!==this.filter){const e=this.interfaces.get(this.filter);return this.filter="",e?.hasMethod(t)?this.methods.get(t):void 0}return this.methods.get(t)}getReferenceCount(){return this.references}setReturn(e){this.returnFlag=e}addReference(){if(this.references++,1===this.references){const e=Ov.get(this.componentName)??0;Ov.set(this.componentName,e+1)}}removeReference(){if(this.references--,0===this.references&&!this.returnFlag){const e=Ov.get(this.componentName);e&&Ov.set(this.componentName,e-1),this.dispose()}}dispose(){}}class g{left;token;right;constructor(e,t,r){this.left=e,this.token=t,this.right=r}accept(e){return e.visitBinary(this)}get location(){return{file:this.token.location.file,start:this.left.location.start,end:this.right.location.end}}}class m{callee;closingParen;args;optional;static MaximumArguments=32;constructor(e,t,r,n=!1){this.callee=e,this.closingParen=t,this.args=r,this.optional=n}accept(e){return e.visitCall(this)}get location(){return{file:this.closingParen.location.file,start:this.callee.location.start,end:this.closingParen.location.end}}}class y{parameters;returns;body;keyword;end;constructor(e,t,r,n,i){this.parameters=e,this.returns=t,this.body=r,this.keyword=n,this.end=i}accept(e){return e.visitAnonymousFunction(this)}get location(){return{file:this.keyword.location.file,start:this.keyword.location.start,end:this.end.location.end}}}class b{obj;name;optional;constructor(e,t,r=!1){this.obj=e,this.name=t,this.optional=r}accept(e){return e.visitAtSignGet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.name.location.end}}}class v{obj;name;optional;constructor(e,t,r=!1){this.obj=e,this.name=t,this.optional=r}accept(e){return e.visitDottedGet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.name.location.end}}}class w{obj;indexes;closingSquare;optional;constructor(e,t,r,n=!1){this.obj=e,this.indexes=t,this.closingSquare=r,this.optional=n}accept(e){return e.visitIndexedGet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.closingSquare.location.end}}}class S{tokens;expression;constructor(e,t){this.tokens=e,this.expression=t}accept(e){return e.visitGrouping(this)}get location(){return{file:this.tokens.left.location.file,start:this.tokens.left.location.start,end:this.tokens.right.location.end}}}class E{value;_location;constructor(e,t){this.value=e,this._location=t}accept(e){return e.visitLiteral(this)}get location(){return this._location??{file:"(internal)",start:{line:-1,column:-1},end:{line:-1,column:-1}}}}class x{elements;open;close;constructor(e,t,r){this.elements=e,this.open=t,this.close=r}accept(e){return e.visitArrayLiteral(this)}get location(){return{file:this.open.location.file,start:this.open.location.start,end:this.close.location.end}}}class I{elements;open;close;constructor(e,t,r){this.elements=e,this.open=t,this.close=r}accept(e){return e.visitAALiteral(this)}get location(){return{file:this.open.location.file,start:this.open.location.start,end:this.close.location.end}}}class _{operator;right;constructor(e,t){this.operator=e,this.right=t}accept(e){return e.visitUnary(this)}get location(){return{file:this.operator.location.file,start:this.operator.location.start,end:this.right.location.end}}}class T{name;constructor(e){this.name=e}accept(e){return e.visitVariable(this)}get location(){return this.name.location}}class k extends Error{location;backTrace;constructor(e,t,r){super(e),this.location=t,this.backTrace=r}format(){return k.format(this.message,this.location)}static format(e,t){let r;if(t.start.line===t.end.line){let e=`${t.start.column}`;t.start.column!==t.end.column&&(e+=`-${t.end.column}`),r=`${t.file}(${t.start.line},${e})`}else r=`${t.file}(${t.start.line},${t.start.column},${t.end.line},${t.end.line})`;return`${r}: ${e}`}}class A extends k{errorDetail;backTrace;extraFields;constructor(e,t,r,n){super(e.message,t,r),this.errorDetail=e,this.backTrace=r,this.extraFields=n}}const C={NextWithoutFor:{errno:0,message:"Next Without For."},BadSyntax:{message:"Syntax Error.",errno:2},ReturnedWithoutGosub:{message:"Return Without Gosub.",errno:4},OutOfData:{message:"Out of Data on READ.",errno:6},BadFunctionOrArrayParam:{message:"Invalid parameter passed to function/array (e.g neg matrix dim or sqr root).",errno:8},OutOfMemory:{message:"Out Of Memory.",errno:12},MissingLineNumber:{message:"Label/Line Not Found.",errno:14},IndexOutOfBounds:{message:"Array subscript out of bounds.",errno:16},RedimensionArray:{message:"Attempted to redimension an array.",errno:18},DivideByZero:{message:"Divide by Zero.",errno:20},TypeMismatch:{message:"Type Mismatch.",errno:24},OutOfMemoryStringOp:{message:"Out of Memory when doing string operation.",errno:26},StringTooLong:{message:"String Too Long.",errno:28},BadBitShift:{message:"Invalid Bitwise Shift.",errno:30},NoContinue:{message:"Continue Not Allowed.",errno:32},OutOfRange:{message:"Constant Out Of Range",errno:34},ExecutionTimeout:{message:"Execution timeout",errno:35},InvalidFormatSpecifier:{message:"Invalid Format Specifier",errno:36},MalformedThrow:{message:"Invalid argument to Throw",errno:38},UserDefined:{message:"User-specified exception",errno:40},TooManyTasks:{message:"Too many task threads",errno:41},RunNotSupported:{message:"run() is unsupported.",errno:140},ContinueForWithoutFor:{message:"Continue For is not inside a For loop",errno:141},ContinueWhileWithoutWhile:{message:"Continue While is not inside a While",errno:142},TryContainsLabel:{message:"Labels are illegal inside a TRY clause.",errno:143},EvalDisabled:{message:"eval() is deprecated. You must eliminate usage of eval().",errno:144},FunctionNotFound:{message:"Function is not defined in component's namespace",errno:145},NameShadowsBuiltin:{message:"Syntax Error. Builtin function call expected.",errno:157},VarShadowsFunctionName:{message:"Variable name cannot be the same as that of a declared function.",errno:160},LabelLimitExceeded:{message:"Too Many Labels. Internal Label table size exceeded.",errno:161},ClassNotFound:{message:"Class Not Found.",errno:162},InterfaceTooLarge:{message:"Interface has too many functions for bytecode.",errno:163},NoInitializer:{message:"Assignment initializer missing.",errno:164},ExitForWithoutFor:{message:"Exit For is not inside a For loop.",errno:165},Deprecated:{message:"Statement type no longer supported.",errno:166},BadType:{message:"Type is Invalid.",errno:167},MissingReturnType:{message:"Function must have a return type.",errno:168},ReturnWithoutValue:{message:"Return must return a value.",errno:169},ReturnWithValue:{message:"Return can not have a return-value if inside a Sub or Function with Void return type.",errno:170},TypeMismatchForEachIndex:{message:"For-Each index variable must be 'dynamic' type.",errno:171},MissingMainFunction:{message:"No Main() Found.",errno:172},DuplicateSub:{message:"SUB or FUNCTION defined twice.",errno:173},LimitExceeded:{message:"Internal limit size exceeded.",errno:174},ExitWhileWithoutWhile:{message:"Exit While is not inside a While.",errno:175},TooManyVariables:{message:"Variable table size exceeded.",errno:176},TooManyConstants:{message:"Constant table size exceeded.",errno:177},FunctionNotExpected:{message:"Function not expected here.",errno:178},UnterminatedString:{message:"String missing ending quote.",errno:179},DuplicateLabel:{message:"Label/LineNumber defined more than once.",errno:180},UnterminatedBlock:{message:"A block (such as FOR/NEXT or IF/ENDIF) was not terminated correctly.",errno:181},BadNext:{message:"Variable in NEXT does not match correct FOR.",errno:182},EndOfFile:{message:"Unexpected End-Of-File.",errno:183},CannotReadFile:{message:"Error loading file.",errno:185},LineNumberSequenceError:{message:"Classic BASIC style line number is out of sequence.",errno:186},NoLineNumber:{message:"Line Number not found where expected.",errno:187},IfWithoutEndIf:{message:"ENDIF Missing.",errno:189},WhileWithoutEndWhile:{message:"While Statement is missing a matching EndWhile.",errno:190},EndWhileWithoutWhile:{message:"EndWhile Without While.",errno:191},ExceptionThrownOnStack:{message:"UNEXPECTED INTERNAL (Exception on stack)",errno:222},StackOverflow:{message:"Stack overflow.",errno:223},NotAFunction:{message:"Function Call Operator ( ) attempted on non-function.",errno:224},UnsupportedUnicode:{message:"Error: Unicode not supported.",errno:225},ValueReturn:{message:"Return from non-function.",errno:226},BadNumberOfIndexes:{message:"Invalid number of Array indexes.",errno:227},BadLHS:{message:"Invalid value for left-side of expression.",errno:228},MissingReturnValue:{message:"Function does not have a required return.",errno:229},UninitializedFunction:{message:"Use of a reference to a function/sub that is not initialized.",errno:230},UndimmedArray:{message:"Array operation attempted on variable not DIM'd.",errno:231},NonNumericArrayIndex:{message:"Attempt to use a non-numeric array index not allowed.",errno:232},UninitializedVariable:{message:"Use of uninitialized variable.",errno:233},TypelessOperation:{message:"Operation on UnTyped operand(s) attempted.",errno:235},DotOnNonObject:{message:"'Dot' Operator attempted with invalid BrightScript Component or interface reference.",errno:236},NonStaticInterfaceCall:{message:"Interface function calls from type rotINTERFACE must by static.",errno:237},NotWaitable:{message:"Tried to Wait on an BrightScript Component that does not have MessagePort interface.",errno:238},NotPrintable:{message:"Non printable value.",errno:239},ReturnValueIgnored:{message:"Function returns a value that is ignored.",errno:240},WrongNumberOfParams:{message:"Wrong number of function parameters.",errno:241},TooManyParams:{message:"Too many function parameters (internal limit exceeded).",errno:242},InterfaceNotAMember:{message:"Interface not a member of BrightScript Component",errno:243},MemberFunctionNotFound:{message:"Member function not found in BrightScript Component or interface.",errno:244},RoWrongNumberOfParams:{message:"BrightScript Component function call does not have the correct number of parameters.",errno:245},ObjectClassNotFound:{message:"BrightScript Component Class not Found.",errno:246},Stop:{message:"STOP",errno:247},Break:{message:"BREAK",errno:248},StackUnderflow:{message:"Stack Underflow.",errno:249},MissingParenthesis:{message:"Missing Parentheses",errno:250},UndefinedOperator:{message:"Unsupported expression operator.",errno:251},NormalEnd:{message:"Normal End.",errno:252},UndefinedOpCode:{message:"Undefined Op Code.",errno:253},Internal:{message:"UNEXPECTED INTERNAL.",errno:254},Okay:{message:"OKAY",errno:255}};class M extends A{constructor(e){const t=C.TypeMismatch;let r=`${t.message} ${e.message} `;e.cast?e.right&&(r+=`"${ne.toString(R(e.right.type))}"`,r+=` to "${ne.toString(R(e.left.type))}"`):(r+=`"${ne.toString(R(e.left.type))}"`,e.right&&(r+=` and "${ne.toString(R(e.right.type))}"`)),r+=".",super({errno:t.errno,message:r},e.left.location)}}function R(e){return"number"==typeof e?e:e.kind}var O,D;(D=O||(O={}))[D.Global=0]="Global",D[D.Module=1]="Module",D[D.Function=2]="Function";class P extends Error{constructor(e){super(e)}}class L{constructor(e,t){this.rootM=t||e,this.function.set("m",e),e.addReference(),this.mPointer=e}global=new Map;module=new Map;function=new Map;mPointer;rootM;gotoLabel="";continueFor=!1;continueForEach=0;define(e,t,r,n){let i;const s=t.toLowerCase();if("global"===s&&e===O.Function&&r.kind!==ne.Interface&&n)throw new M({message:"Unable to cast",left:{type:this.global.get("global"),location:n},right:{type:r,location:n},cast:!0});switch(e){case O.Function:{i=this.function,r instanceof p&&r.addReference();const e=i.get(s);e instanceof p&&e.removeReference();break}case O.Module:i=this.module;break;default:i=this.global}i.set(s,r)}setM(e){this.mPointer=e}getRootM(){return this.rootM}setRootM(e){this.rootM=e}remove(e,t=O.Function){const r=e.toLowerCase();switch(t){case O.Module:this.module.delete(r);break;case O.Function:if(this.function.has(r)){const e=this.function.get(r);e instanceof p&&e.removeReference(),this.function.delete(r)}}}removeReferences(){for(let[e,t]of this.function)t instanceof p&&t.removeReference()}get(e){let t=e.text.toLowerCase();if("line_num"===t)return new Y(e.location.start.line);let r=[this.function,this.module,this.global].find((e=>e.has(t)));if(r)return r.get(t);throw new P(`Undefined variable '${e.text}'`)}has(e,t=[O.Global,O.Module,O.Function]){if("m"===e.text.toLowerCase())return!0;let r=e.text.toLowerCase();return null!=t.map((e=>{switch(e){case O.Global:return this.global;case O.Module:return this.module;case O.Function:return this.function}})).find((e=>e.has(r)))}getList(e){switch(e){case O.Global:return this.global;case O.Module:return this.module;case O.Function:return this.function}}createSubEnvironment(){let e=new L(this.mPointer,this.rootM);return e.global=this.global,e.module=this.module,e}}function F(e){return"box"in e}function N(e){return"unbox"in e}var B=__webpack_require__(4),U=__webpack_require__.n(B),j=__webpack_require__(7604);class V{component;defaultFormat;defaultRegEx;constructor(e,t=""){this.component=e,t instanceof RegExp?this.defaultRegEx=t:this.defaultFormat=t}toStr=new se("toStr",{signature:{args:[new ee("format",ne.String,Ie.Instance)],returns:ne.String},impl:(e,t)=>{if(t instanceof Ie){if(!this.defaultFormat?.length){if(this.defaultRegEx)return new Ee(this.component.toString().replace(this.defaultRegEx,""));if(ig(this.component))return new Ee(this.component.toString());if(Se(this.component)||this.component instanceof be||this.component instanceof ve)return new Ee(this.component.getValue().toString());throw new A(C.MemberFunctionNotFound,e.location,e.stack.slice(0,-1))}t=new Ee(this.defaultFormat)}if(!(ig(this.component)||this.component instanceof ye))throw new A(C.MemberFunctionNotFound,e.location,e.stack.slice(0,-1));const r=t.value.split("%").length-1;if(0===r)return new Ee(t.value);const n=Array(r).fill(this.component.getValue());try{return new Ee((0,j.vsprintf)(t.value,n))}catch(r){e.isDevMode&&e.stderr.write(`warning,ifToStr.toStr() Error: ${r.message} - ${t.value}`);const n=r.message?.includes("expecting number")?C.TypeMismatch:C.InvalidFormatSpecifier;throw new A(n,e.location,e.stack.slice(0,-1))}}})}class G extends p{kind=ne.Object;intrinsic;getValue(){return this.intrinsic.getValue()}constructor(e){super("roLongInteger"),this.intrinsic=new z(Xp(e)?e.getValue():0),this.registerMethods({ifLongInt:[this.getLongInt,this.setLongInt],ifToStr:[new V(this).toStr]})}unbox(){return this.intrinsic}equalTo(e){return e instanceof G?xe.from(e.intrinsic.getValue().low===this.intrinsic.getValue().low):xe.False}toString(e){return this.intrinsic.toString()}getLongInt=new se("getLongInt",{signature:{args:[],returns:ne.Int64},impl:e=>this.intrinsic});setLongInt=new se("setLongInt",{signature:{args:[new ee("value",ne.Int64)],returns:ne.Void},impl:(e,t)=>(this.intrinsic=t,Ie.Instance)})}class z{kind=ne.Int64;value;getValue(){return this.value}toBoolean(){return 0!==this.value.toNumber()}constructor(e){e instanceof U()?this.value=e:this.value=U().fromNumber(Math.trunc(e))}static fromString(e){let t=10;return e.toLowerCase().startsWith("&h")&&(t=16,e=e.slice(2).replace("&","")),new z(U().fromString(e,void 0,t))}add(e){switch(e.kind){case ne.Int32:case ne.Int64:return new z(this.getValue().add(e.getValue()));case ne.Float:return new H(this.getValue().toNumber()+e.getValue());case ne.Double:return new q(this.getValue().toNumber()+e.getValue())}}subtract(e){switch(e.kind){case ne.Int32:case ne.Int64:return new z(this.getValue().subtract(e.getValue()));case ne.Float:return new H(this.getValue().toNumber()-e.getValue());case ne.Double:return new q(this.getValue().toNumber()-e.getValue())}}multiply(e){switch(e.kind){case ne.Int32:case ne.Int64:return new z(this.getValue().multiply(e.getValue()));case ne.Float:return new H(this.getValue().toNumber()*e.getValue());case ne.Double:return new q(this.getValue().toNumber()*e.getValue())}}divide(e){switch(e.kind){case ne.Int32:case ne.Int64:return new H(this.getValue().divide(e.getValue()).toNumber());case ne.Float:return new H(this.getValue().toNumber()/e.getValue());case ne.Double:return new q(this.getValue().toNumber()/e.getValue())}}modulo(e){switch(e.kind){case ne.Int32:case ne.Int64:return new z(this.getValue().modulo(e.getValue()));case ne.Float:case ne.Double:return new z(this.getValue().toNumber()%e.getValue())}}intDivide(e){switch(e.kind){case ne.Int32:case ne.Int64:return new z(this.getValue().divide(e.getValue()));case ne.Float:case ne.Double:return new z(Math.floor(this.getValue().toNumber()/e.getValue()))}}leftShift(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new z(this.getValue().toNumber()<<Math.trunc(e.getValue()));case ne.Int64:return new z(this.getValue().toNumber()<<e.getValue().toNumber())}}rightShift(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new z(this.getValue().toNumber()>>Math.trunc(e.getValue()));case ne.Int64:return new z(this.getValue().toNumber()>>e.getValue().toNumber())}}pow(e){switch(e.kind){case ne.Int32:return new z(Math.pow(this.getValue().toNumber(),e.getValue()));case ne.Float:return new H(Math.pow(this.getValue().toNumber(),e.getValue()));case ne.Double:return new q(Math.pow(this.getValue().toNumber(),e.getValue()));case ne.Int64:return new z(Math.pow(this.getValue().toNumber(),e.getValue().toNumber()))}}and(e){return e.kind===ne.Boolean?xe.from(this.toBoolean()&&e.getValue()):new z(this.getValue().and(e.getValue()))}or(e){return e.kind===ne.Boolean?xe.from(this.toBoolean()||e.getValue()):new z(this.getValue().or(e.getValue()))}not(){return new z(this.getValue().not())}lessThan(e){switch(e.kind){case ne.Int32:case ne.Int64:return xe.from(this.getValue().lessThan(e.getValue()));case ne.Float:return new H(this.getValue().toNumber()).lessThan(e);case ne.Double:return new q(this.getValue().toNumber()).lessThan(e)}return rg(e)?xe.from(this.getValue().lessThan(e.getValue())):xe.False}greaterThan(e){switch(e.kind){case ne.Int32:case ne.Int64:return xe.from(this.getValue().greaterThan(e.getValue()));case ne.Float:return new H(this.getValue().toNumber()).greaterThan(e);case ne.Double:return new q(this.getValue().toNumber()).greaterThan(e)}return rg(e)?xe.from(this.getValue().greaterThan(e.getValue())):xe.False}equalTo(e){switch(e.kind){case ne.Int32:case ne.Int64:return xe.from(this.getValue().equals(e.getValue()));case ne.Float:return new H(this.getValue().toNumber()).equalTo(e);case ne.Double:return new q(this.getValue().toNumber()).equalTo(e);case ne.Boolean:return e.equalTo(xe.from(this.toBoolean()))}return rg(e)?xe.from(this.getValue().equals(e.getValue())):xe.False}toString(e){return this.value.toString()}box(){return new G(this)}}class W extends p{kind=ne.Object;intrinsic;getValue(){return this.intrinsic.getValue()}constructor(e){super("roDouble"),this.intrinsic=new q(Xp(e)?e.getValue():0),this.registerMethods({ifDouble:[this.getDouble,this.setDouble],ifToStr:[new V(this,"%g").toStr]})}unbox(){return this.intrinsic}equalTo(e){return e instanceof W?xe.from(e.intrinsic.getValue()===this.intrinsic.getValue()):xe.False}toString(e){return this.intrinsic.toString()}getDouble=new se("getDouble",{signature:{args:[],returns:ne.Double},impl:e=>this.intrinsic});setDouble=new se("setDouble",{signature:{args:[new ee("value",ne.Double)],returns:ne.Void},impl:(e,t)=>(this.intrinsic=t,Ie.Instance)})}class q{kind=ne.Double;value;getValue(){return this.value}toBoolean(){return 0!==Math.trunc(this.value)}constructor(e){this.value=e instanceof U()?e.toNumber():e}static fromString(e){return new q(Number.parseFloat(e))}add(e){switch(e.kind){case ne.Int64:return new q(this.getValue()+e.getValue().toNumber());case ne.Int32:case ne.Float:case ne.Double:return new q(this.getValue()+e.getValue())}}subtract(e){switch(e.kind){case ne.Int64:return new q(this.getValue()-e.getValue().toNumber());case ne.Int32:case ne.Float:case ne.Double:return new q(this.getValue()-e.getValue())}}multiply(e){switch(e.kind){case ne.Int64:return new q(this.getValue()*e.getValue().toNumber());case ne.Int32:case ne.Float:case ne.Double:return new q(this.getValue()*e.getValue())}}divide(e){switch(e.kind){case ne.Int64:return new q(this.getValue()/e.getValue().toNumber());case ne.Int32:case ne.Float:case ne.Double:return new q(this.getValue()/e.getValue())}}modulo(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new q(Math.trunc(this.getValue()%e.getValue()));case ne.Int64:return new q(Math.trunc(this.getValue()%e.getValue().toNumber()))}}intDivide(e){switch(e.kind){case ne.Int64:return new z(Math.trunc(this.getValue()/e.getValue().toNumber()));case ne.Int32:case ne.Float:case ne.Double:return new Y(Math.trunc(this.getValue()/e.getValue()))}}leftShift(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new Y(Math.trunc(this.getValue())<<Math.trunc(e.getValue()));case ne.Int64:return new Y(Math.trunc(this.getValue())<<e.getValue().toNumber())}}rightShift(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new Y(Math.trunc(this.getValue())>>Math.trunc(e.getValue()));case ne.Int64:return new Y(Math.trunc(this.getValue())>>e.getValue().toNumber())}}pow(e){switch(e.kind){case ne.Int32:return new H(Math.pow(this.getValue(),e.getValue()));case ne.Int64:return new z(this.getValue()).pow(e);case ne.Float:return new H(Math.pow(this.getValue(),e.getValue()));case ne.Double:return new q(Math.pow(this.getValue(),e.getValue()))}}and(e){switch(e.kind){case ne.Int64:return new z(this.getValue()).and(e);case ne.Int32:case ne.Float:case ne.Double:return new Y(this.getValue()&e.getValue());case ne.Boolean:return xe.from(this.toBoolean()&&e.getValue())}}or(e){switch(e.kind){case ne.Int64:return new z(this.getValue()).or(e);case ne.Int32:case ne.Float:case ne.Double:return new Y(this.getValue()|e.getValue());case ne.Boolean:return xe.from(this.toBoolean()||e.getValue())}}not(){return new Y(~this.getValue())}lessThan(e){return e.kind===ne.Int64?xe.from(this.getValue()<e.getValue().toNumber()):rg(e)?xe.from(this.getValue()<e.getValue()):xe.False}greaterThan(e){return e.kind===ne.Int64?xe.from(this.getValue()>e.getValue().toNumber()):rg(e)?xe.from(this.getValue()>e.getValue()):xe.False}equalTo(e){return e.kind===ne.Int64?xe.from(this.getValue()===e.getValue().toNumber()):e.kind===ne.Boolean?e.equalTo(xe.from(this.toBoolean())):rg(e)?xe.from(this.getValue()===e.getValue()):xe.False}toString(e){return this.value.toPrecision()}box(){return new W(this)}}class $ extends p{kind=ne.Object;intrinsic;getValue(){return this.intrinsic.getValue()}constructor(e){super("roFloat"),this.intrinsic=new H(Xp(e)?e.getValue():0),this.registerMethods({ifFloat:[this.getFloat,this.setFloat],ifToStr:[new V(this,"%g").toStr]})}unbox(){return this.intrinsic}equalTo(e){return e instanceof $?xe.from(e.intrinsic.getValue()===this.intrinsic.getValue()):xe.False}toString(e){return this.intrinsic.toString()}getFloat=new se("getFloat",{signature:{args:[],returns:ne.Float},impl:e=>this.intrinsic});setFloat=new se("setFloat",{signature:{args:[new ee("value",ne.Float)],returns:ne.Void},impl:(e,t)=>(this.intrinsic=t,Ie.Instance)})}class H{kind=ne.Float;value;getValue(){return this.value}toBoolean(){return 0!==Math.trunc(this.value)}constructor(e){e instanceof U()&&(e=e.toNumber()),this.value=parseFloat(Math.fround(e).toPrecision(7))}static fromString(e){return new H(Number.parseFloat(e))}add(e){switch(e.kind){case ne.Int64:return new H(this.getValue()+e.getValue().toNumber());case ne.Int32:case ne.Float:return new H(this.getValue()+e.getValue());case ne.Double:return new q(this.getValue()+e.getValue())}}subtract(e){switch(e.kind){case ne.Int64:return new H(this.getValue()-e.getValue().toNumber());case ne.Int32:case ne.Float:return new H(this.getValue()-e.getValue());case ne.Double:return new q(this.getValue()-e.getValue())}}multiply(e){switch(e.kind){case ne.Int64:return new H(this.getValue()*e.getValue().toNumber());case ne.Int32:case ne.Float:return new H(this.getValue()*e.getValue());case ne.Double:return new q(this.getValue()*e.getValue())}}divide(e){switch(e.kind){case ne.Int64:return new H(this.getValue()/e.getValue().toNumber());case ne.Int32:case ne.Float:return new H(this.getValue()/e.getValue());case ne.Double:return new q(this.getValue()/e.getValue())}}modulo(e){switch(e.kind){case ne.Int32:case ne.Float:return new H(Math.trunc(this.getValue()%e.getValue()));case ne.Double:return new q(Math.trunc(this.getValue()%e.getValue()));case ne.Int64:return new H(Math.trunc(this.getValue()%e.getValue().toNumber()))}}intDivide(e){switch(e.kind){case ne.Int64:return new z(Math.trunc(this.getValue()/e.getValue().toNumber()));case ne.Int32:case ne.Float:case ne.Double:return new Y(Math.trunc(this.getValue()/e.getValue()))}}leftShift(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new Y(Math.trunc(this.getValue())<<Math.trunc(e.getValue()));case ne.Int64:return new Y(Math.trunc(this.getValue())<<e.getValue().toNumber())}}rightShift(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new Y(Math.trunc(this.getValue())>>Math.trunc(e.getValue()));case ne.Int64:return new Y(Math.trunc(this.getValue())>>e.getValue().toNumber())}}pow(e){switch(e.kind){case ne.Int32:return new H(Math.pow(this.getValue(),e.getValue()));case ne.Int64:return new H(Math.pow(this.getValue(),e.getValue().toNumber()));case ne.Float:return new H(Math.pow(this.getValue(),e.getValue()));case ne.Double:return new q(Math.pow(this.getValue(),e.getValue()))}}and(e){switch(e.kind){case ne.Int64:return new z(this.getValue()).and(e);case ne.Int32:case ne.Float:case ne.Double:return new Y(this.getValue()&e.getValue());case ne.Boolean:return xe.from(this.toBoolean()&&e.getValue())}}or(e){switch(e.kind){case ne.Int64:return new z(this.getValue()).or(e);case ne.Int32:case ne.Float:case ne.Double:return new Y(this.getValue()|e.getValue());case ne.Boolean:return xe.from(this.toBoolean()||e.getValue())}}not(){return new Y(~this.getValue())}lessThan(e){return e.kind===ne.Int64?xe.from(this.getValue()<e.getValue().toNumber()):rg(e)?xe.from(this.getValue()<e.getValue()):xe.False}greaterThan(e){return e.kind===ne.Int64?xe.from(this.getValue()>e.getValue().toNumber()):rg(e)?xe.from(this.getValue()>e.getValue()):xe.False}equalTo(e){return e.kind===ne.Int64?xe.from(this.getValue()===e.getValue().toNumber()):e.kind===ne.Boolean?e.equalTo(xe.from(this.toBoolean())):rg(e)?xe.from(this.getValue()===e.getValue()):xe.False}toString(e){return this.value.toPrecision()}box(){return new $(this)}}class X extends p{kind=ne.Object;intrinsic;getValue(){return this.intrinsic.getValue()}constructor(e){super("roInt"),this.intrinsic=new Y(Xp(e)?e.getValue():0);const t=new V(this).toStr;this.registerMethods({ifInt:[this.getInt,this.setInt],ifIntOps:[t],ifToStr:[t]})}unbox(){return this.intrinsic}equalTo(e){return e instanceof X?xe.from(e.intrinsic.getValue()===this.intrinsic.getValue()):xe.False}toString(e){return this.intrinsic.toString()}getInt=new se("getInt",{signature:{args:[],returns:ne.Double},impl:e=>this.intrinsic});setInt=new se("setInt",{signature:{args:[new ee("value",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.intrinsic=t,Ie.Instance)})}class Y{kind=ne.Int32;value;getValue(){return this.value}toBoolean(){return 0!==this.value}constructor(e){const t=2147483648;e instanceof U()?e=e.low:(e>t-1||e<-t)&&(e=e<-t?-t:t-1),this.value=Math.trunc(e)}static fromString(e){if(e.toLowerCase().startsWith("&h")){e=e.slice(2);const t=0|Number.parseInt(e,16);return new Y(t)}return new Y(Number.parseFloat(e))}add(e){switch(e.kind){case ne.Int32:return new Y(this.getValue()+e.getValue()|0);case ne.Int64:return new z(e.getValue().add(this.getValue()));case ne.Float:return new H(this.getValue()+e.getValue());case ne.Double:return new q(this.getValue()+e.getValue())}}subtract(e){switch(e.kind){case ne.Int32:return new Y(this.getValue()-e.getValue()|0);case ne.Int64:return new z(this.getValue()).subtract(e);case ne.Float:return new H(this.getValue()-e.getValue());case ne.Double:return new q(this.getValue()-e.getValue())}}multiply(e){switch(e.kind){case ne.Int32:return new Y(this.getValue()*e.getValue()|0);case ne.Int64:return new z(e.getValue().multiply(this.getValue()));case ne.Float:return new H(this.getValue()*e.getValue());case ne.Double:return new q(this.getValue()*e.getValue())}}divide(e){switch(e.kind){case ne.Int32:return new H(this.getValue()/e.getValue());case ne.Int64:return new H(this.getValue()/e.getValue().toNumber());case ne.Float:return new H(this.getValue()/e.getValue());case ne.Double:return new q(this.getValue()/e.getValue())}}modulo(e){switch(e.kind){case ne.Int32:return new Y(this.getValue()%e.getValue());case ne.Float:return new H(Math.trunc(this.getValue()%e.getValue()));case ne.Double:return new q(Math.trunc(this.getValue()%e.getValue()));case ne.Int64:return new z(this.getValue()).modulo(e)}}intDivide(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new Y(Math.trunc(this.getValue()/e.getValue()));case ne.Int64:return new z(Math.trunc(this.getValue()/e.getValue().toNumber()))}}leftShift(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new Y(this.getValue()<<Math.trunc(e.getValue()));case ne.Int64:return new Y(this.getValue()<<e.getValue().toNumber())}}rightShift(e){switch(e.kind){case ne.Int32:case ne.Float:case ne.Double:return new Y(this.getValue()>>>Math.trunc(e.getValue()));case ne.Int64:return new Y(this.getValue()>>>e.getValue().toNumber())}}pow(e){switch(e.kind){case ne.Int32:return new H(Math.pow(this.getValue(),e.getValue()));case ne.Int64:return new z(this.getValue()).pow(e);case ne.Float:return new H(Math.pow(this.getValue(),e.getValue()));case ne.Double:return new q(Math.pow(this.getValue(),e.getValue()))}}and(e){switch(e.kind){case ne.Int32:return new Y(this.getValue()&e.getValue());case ne.Int64:return new z(this.getValue()).and(e);case ne.Float:case ne.Double:return new Y(this.getValue()&e.getValue());case ne.Boolean:return xe.from(this.toBoolean()&&e.getValue())}}or(e){switch(e.kind){case ne.Int32:return new Y(this.getValue()|e.getValue());case ne.Int64:return new z(this.getValue()).or(e);case ne.Float:case ne.Double:return new Y(this.getValue()|e.getValue());case ne.Boolean:return xe.from(this.toBoolean()||e.getValue())}}not(){return new Y(~this.getValue())}lessThan(e){return e.kind===ne.Int64?xe.from(this.getValue()<e.getValue().toNumber()):rg(e)?xe.from(this.getValue()<e.getValue()):xe.False}greaterThan(e){return e.kind===ne.Int64?xe.from(this.getValue()>e.getValue().toNumber()):rg(e)?xe.from(this.getValue()>e.getValue()):xe.False}equalTo(e){return e.kind===ne.Int64?xe.from(this.getValue()===e.getValue().toNumber()):e.kind===ne.Boolean?e.equalTo(xe.from(this.toBoolean())):rg(e)?xe.from(this.getValue()===e.getValue()):xe.False}toString(e){return this.value.toString()}box(){return new X(this)}}function K(e,t){if(e.kind===t||t===ne.Dynamic)return e;if(e.kind===ne.Uninitialized)return e;if(t===ne.Object){if(F(e))return K(e.box(),t);if(e instanceof p)return e}if(Zp.has(t)&&N(e))return K(e.unbox(),t);if(Yp(t)&&Xp(e))switch(t){case ne.Int32:return new Y(e.getValue());case ne.Int64:return new z(e.getValue());case ne.Float:return new H(e.getValue());case ne.Double:return new q(e.getValue())}else if(t===ne.Boolean&&Xp(e))return xe.from(e.toBoolean())}function Z(e,t){let r=t.signature,n=t.mismatches,i=[],s=r.args.map((e=>{let t=`${e.name.text} as ${ne.toString(e.type.kind)}`;return e.defaultValue?`[${t}]`:t})).join(", ");return i.push(`function ${e}(${s}) as ${ne.toString(r.returns)}:`),i.push(...n.map((t=>{switch(t.reason){case te.TooFewArguments:return`* ${e} requires at least ${t.expected} arguments, but received ${t.received}.`;case te.TooManyArguments:return`* ${e} accepts at most ${t.expected} arguments, but received ${t.received}.`;case te.ArgumentTypeMismatch:return`* Argument '${t.argName}' must be of type ${t.expected}, but received ${t.received}.`}})).map((e=>`    ${e}`))),i.map((e=>`    ${e}`)).join("\n")}function J(e,t,r){let n,i,s=e.getName(),a=e.getAllSignatureMismatches(t);return 1===a.length?(n=`Provided arguments don't match ${s}'s signature.`,i=[Z(s,a[0])]):(n=`Provided arguments don't match any of ${s}'s signatures.`,i=a.map(Z.bind(null,s))),new k([n,...i].join("\n"),r)}let Q=0;class ee{location;name;type;defaultValue;constructor(e,t,r){this.location=ee.InternalLocation,this.name={text:e,location:ee.InternalLocation},this.type={kind:t,location:ee.InternalLocation},r&&(this.defaultValue=new E(r,ee.InternalLocation))}static InternalLocation={file:"(stdlib)",start:{line:-1,column:-1},end:{line:-1,column:-1}}}var te,re,ne,ie;(re=te||(te={}))[re.TooFewArguments=0]="TooFewArguments",re[re.TooManyArguments=1]="TooManyArguments",re[re.ArgumentTypeMismatch=2]="ArgumentTypeMismatch";class se{kind=ne.Callable;name;signatures;context;location;call(e,...t){let r=this.getFirstSatisfiedSignature(t);null==r&&e.addError(J(this,t,e.location));let{signature:n,impl:i}=r,s=[...r.coercedArgs];return e.inSubEnv((t=>(n.args.forEach(((r,n)=>{r.defaultValue&&null==s[n]&&(s[n]=t.evaluate(r.defaultValue)),t.environment.define(O.Function,r.name.text,s[n],e.location)})),i(t,...s))))}constructor(e,...t){this.name=e,this.signatures=t,!this.signatures.length||this.name&&"[Function]"!==this.name||(this.name="$anon_"+ ++Q)}lessThan(e){return xe.False}greaterThan(e){return xe.False}equalTo(e){return xe.from(this===e)}toString(e){return`<Function: ${this.name?.toLowerCase()??"UNDEFINED"}>`}box(){return new Pp(this)}getName(){return this.name??""}getContext(){return this.context}setContext(e){this.context=e}setLocation(e){this.location=e}getLocation(){return this.location}getFirstSatisfiedSignature(e){for(let t of this.signatures){let r=this.trySatisfySignature(t,e);if(0===r.mismatches.length)return r}}getAllSignatureMismatches(e){return this.signatures.map((t=>this.trySatisfySignature(t,e)))}trySatisfySignature(e,t){let{signature:r,impl:n}=e,i=[],s=r.args.filter((e=>!e.defaultValue)).length;t.length<s?i.push({reason:te.TooFewArguments,expected:r.args.length.toString(),received:t.length.toString()}):!r.variadic&&t.length>r.args.length&&i.push({reason:te.TooManyArguments,expected:r.args.length.toString(),received:t.length.toString()});let a=[...t];return r.args.slice(0,Math.min(r.args.length,t.length)).forEach(((e,n)=>{let s=r.args[n],o=t[n],c=K(o,s.type.kind);null!=c?a[n]=c:i.push({reason:te.ArgumentTypeMismatch,expected:ne.toString(s.type.kind),received:ne.toString(o.kind),argName:s.name.text})})),{signature:r,impl:n,coercedArgs:a,mismatches:i}}static variadic(e){let{signature:t,impl:r}=e;return[e,...new Array(10).fill(0).map(((e,n)=>({signature:{args:[...t.args,...new Array(n).fill(0).map(((e,t)=>new ee(`arg${t}`,ne.Dynamic)))],returns:t.returns},impl:r})))]}}class ae{component;constructor(e){this.component=e}isEmpty=new se("isEmpty",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(0===this.component.getElements().length)});isNext=new se("isNext",{signature:{args:[],returns:ne.Boolean},impl:e=>this.component.hasNext()});reset=new se("reset",{signature:{args:[],returns:ne.Void},impl:e=>(this.component.resetNext(),Ie.Instance)});next=new se("next",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.component.getNext()??Ie.Instance})}class oe extends p{kind=ne.Object;elements=new Map;enumIndex;keyMap=new Map;modeCaseSensitive=!1;constructor(e){super("roAssociativeArray"),e.forEach((e=>{this.addChildRef(e.value),this.set(e.name,e.value,!0)})),this.enumIndex=e.length?0:-1;const t=new ae(this);this.registerMethods({ifAssociativeArray:[this.clear,this.delete,this.addreplace,this.count,this.doesexist,this.append,this.keys,this.items,this.lookup,this.lookupCI,this.setmodecasesensitive],ifEnum:[t.isEmpty,t.isNext,t.next,t.reset]})}toString(e){return e?"<Component: roAssociativeArray>":["<Component: roAssociativeArray> =","{",...Array.from(this.elements.entries()).sort().map((([e,t])=>`    ${e}: ${t.toString(this)}`)),"}"].join("\n")}equalTo(e){return xe.False}getValue(){return this.elements}getElements(){return Array.from(this.elements.keys()).sort().map((e=>new Ee(e)))}getValues(){return Array.from(this.elements.values()).sort().map((e=>e))}get(e,t=!1){if(e.kind!==ne.String)throw new Error("Associative array indexes must be strings");return this.findElement(e.value,t)||this.getMethod(e.value)||Ie.Instance}set(e,t,r=!1){if(e.kind!==ne.String)throw new Error("Associative array indexes must be strings");let n=this.findElementKey(e.value);this.addChildRef(t),n&&this.removeChildRef(this.elements.get(n)),!this.modeCaseSensitive&&n&&(this.elements.delete(n),this.keyMap.set(n.toLowerCase(),new Set));let i=r?e.value:e.value.toLowerCase();this.elements.set(i,t);let s=e.value.toLowerCase();return this.keyMap.has(s)||this.keyMap.set(s,new Set),this.keyMap.get(s)?.add(i),Ie.Instance}hasNext(){return xe.from(this.enumIndex>=0)}getNext(){const e=Array.from(this.elements.keys()),t=this.enumIndex;t>=0&&(this.enumIndex++,this.enumIndex>=e.length&&(this.enumIndex=-1));const r=e[t];return r?new Ee(r):Ie.Instance}resetNext(){this.enumIndex=this.elements.size>0?0:-1}updateNext(){const e=Array.from(this.elements.keys()),t=e.length>0;-1===this.enumIndex&&t?this.enumIndex=0:(this.enumIndex>=e.length||!t)&&(this.enumIndex=-1)}dispose(){this.elements.forEach((e=>{this.removeChildRef(e)}))}addChildRef(e){e instanceof p&&e.addReference()}removeChildRef(e){e instanceof p&&e.removeReference()}findElementKey(e,t=!1){return this.modeCaseSensitive&&t?e:this.keyMap.get(e.toLowerCase())?.values().next().value}findElement(e,t=!1){let r=this.findElementKey(e,t);return void 0!==r?this.elements.get(r):void 0}clear=new se("clear",{signature:{args:[],returns:ne.Void},impl:e=>(this.elements.forEach((e=>{this.removeChildRef(e)})),this.elements.clear(),this.keyMap.clear(),this.enumIndex=-1,Ie.Instance)});delete=new se("delete",{signature:{args:[new ee("str",ne.String)],returns:ne.Boolean},impl:(e,t)=>{let r=this.findElementKey(t.value,this.modeCaseSensitive);r&&this.removeChildRef(this.elements.get(r));let n=!!r&&this.elements.delete(r),i=t.value.toLowerCase();if(this.modeCaseSensitive){let e=this.keyMap.get(i);e&&r&&e?.delete(r),0===e?.size&&this.keyMap.delete(i)}else this.keyMap.delete(i);return this.updateNext(),xe.from(n)}});addreplace=new se("addreplace",{signature:{args:[new ee("key",ne.String),new ee("value",ne.Dynamic)],returns:ne.Void},impl:(e,t,r)=>(this.set(t,r,!0),this.updateNext(),Ie.Instance)});count=new se("count",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.elements.size)});doesexist=new se("doesexist",{signature:{args:[new ee("str",ne.String)],returns:ne.Boolean},impl:(e,t)=>{let r=this.findElementKey(t.value,this.modeCaseSensitive);return r&&this.elements.has(r)?xe.True:xe.False}});append=new se("append",{signature:{args:[new ee("obj",ne.Object)],returns:ne.Void},impl:(e,t)=>t instanceof oe?(t.elements.forEach(((e,t)=>{this.set(new Ee(t),e,!0)})),this.updateNext(),Ie.Instance):(e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roAssociativeArray.Append: invalid parameter type ${t.getComponentName()}: ${e.formatLocation()}`),Ie.Instance)});keys=new se("keys",{signature:{args:[],returns:ne.Object},impl:e=>new he(this.getElements())});items=new se("items",{signature:{args:[],returns:ne.Object},impl:e=>new he(this.getElements().map((e=>new oe([{name:new Ee("key"),value:e},{name:new Ee("value"),value:this.get(e)}]))))});lookup=new se("lookup",{signature:{args:[new ee("key",ne.String)],returns:ne.Dynamic},impl:(e,t)=>this.get(t,!0)});lookupCI=new se("lookupCI",{signature:{args:[new ee("key",ne.String)],returns:ne.Dynamic},impl:(e,t)=>this.get(t)});setmodecasesensitive=new se("setModeCaseSensitive",{signature:{args:[],returns:ne.Void},impl:e=>(this.modeCaseSensitive=!0,Ie.Instance)})}class ce{component;name;constructor(e){this.component=e,this.name=e.getComponentName()}peek=new se("peek",{signature:{args:[],returns:ne.Dynamic},impl:e=>{const t=this.component.getElements();return t[t.length-1]||Ie.Instance}});pop=new se("pop",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.component.remove(this.component.tail())||Ie.Instance});push=new se("push",{signature:{args:[new ee("talue",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>{const r=this.component.getValue();return this.component.resizable||r.length<this.component.maxSize?this.component.add(t,!0):e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: ${this.name}.Push: set ignored for index out of bounds on non-resizable array: ${e.formatLocation()}`),Ie.Instance}});shift=new se("shift",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.component.remove(0)||Ie.Instance});unshift=new se("unshift",{signature:{args:[new ee("tvalue",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>{const r=this.component.getValue();return this.component.resizable||r.length<this.component.maxSize?this.component.add(t,!1):e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: ${this.name}.Unshift: set ignored for index out of bounds on non-resizable array: ${e.formatLocation()}`),Ie.Instance}});delete=new se("delete",{signature:{args:[new ee("index",ne.Int32)],returns:ne.Boolean},impl:(e,t)=>t.lessThan(new Y(0)).toBoolean()?xe.False:this.component.remove(t.getValue())?xe.True:xe.False});count=new se("count",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.getValue().length)});clear=new se("clear",{signature:{args:[],returns:ne.Void},impl:e=>(this.component.clear(),Ie.Instance)});append=new se("append",{signature:{args:[new ee("array",ne.Object)],returns:ne.Void},impl:(e,t)=>{if(this.name!==t.getComponentName())return e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: ${this.name}.Append: invalid parameter type ${t.getComponentName()}: ${e.formatLocation()}`),Ie.Instance;const r=this.component,n=r.getValue();if(r.resizable||n.length+t.getValue().length<=r.maxSize){const e=t.getValue().filter((e=>!!e&&(r.addChildRef&&r.addChildRef(e),!0)));n.push(...e),this.component.updateNext(!0,0)}return Ie.Instance}})}class ue{kind=ne.Object;component;constructor(e){this.component=e}getEntry=new se("getEntry",{signature:{args:[new ee("index",ne.Int32|ne.Float)],returns:ne.Dynamic},impl:(e,t)=>this.component.get(t)||Ie.Instance})}class le{kind=ne.Object;component;constructor(e){this.component=e}setEntry=new se("setEntry",{signature:{args:[new ee("index",ne.Int32|ne.Float),new ee("tvalue",ne.Dynamic)],returns:ne.Void},impl:(e,t,r)=>this.component.set(t,r)})}class he extends p{kind=ne.Object;resizable=!0;maxSize=0;elements;enumIndex;constructor(...e){if(super("roArray"),this.elements=[],1===e.length&&Array.isArray(e[0]))e[0].forEach((e=>{this.addChildRef(e),this.elements.push(e)}));else{if(2!==e.length||!(e[0]instanceof Y||e[0]instanceof H)||!(e[1]instanceof xe||Xp(e[1])))throw new Error('BRIGHTSCRIPT: ERROR: Runtime: "roArray": invalid number of parameters:');this.maxSize=e[0].getValue(),this.resizable=e[1].toBoolean()}this.enumIndex=this.elements.length?0:-1;const t=new ce(this),r=new ue(this),n=new le(this),i=new ae(this);this.registerMethods({ifArray:[t.peek,t.pop,t.push,t.shift,t.unshift,t.delete,t.count,t.clear,t.append],ifArrayGet:[r.getEntry],ifArraySet:[n.setEntry],ifArrayJoin:[this.join],ifArraySort:[this.sort,this.sortBy,this.reverse],ifArraySlice:[this.slice],ifArraySizeInfo:[this.capacity,this.isResizable],ifEnum:[i.isEmpty,i.isNext,i.next,i.reset]})}toString(e){return e?"<Component: roArray>":["<Component: roArray> =","[",...Array.from(this.elements,(e=>void 0===e?"    invalid":`    ${e.toString(this)}`)),"]"].join("\n")}equalTo(e){return xe.False}getValue(){return this.elements}getElements(){return this.elements.slice()}add(e,t=!0){this.addChildRef(e),t?this.elements.push(e):this.elements.unshift(e),this.updateNext(!0)}remove(e){let t;return t=0===e?this.elements.shift():e===this.tail()?this.elements.pop():this.elements.splice(e,1)[0],this.updateNext(),this.removeChildRef(t),t}clear(){this.elements.forEach((e=>{this.removeChildRef(e)})),this.elements.length=0,this.enumIndex=-1}tail(){return this.elements.length-1}get(e){switch(e.kind){case ne.Float:return this.getElements()[Math.trunc(e.getValue())]??Ie.Instance;case ne.Int32:return this.getElements()[e.getValue()]??Ie.Instance;case ne.String:return this.getMethod(e.value)??Ie.Instance;default:return Ie.Instance}}set(e,t){if(e.kind===ne.Int32||e.kind===ne.Float){const r=Math.trunc(e.getValue());this.addChildRef(t),this.removeChildRef(this.elements[r]),this.elements[r]=t}return Ie.Instance}hasNext(){return xe.from(this.enumIndex>=0)}getNext(){const e=this.enumIndex;return e>=0&&(this.enumIndex++,this.enumIndex>=this.elements.length&&(this.enumIndex=-1)),this.elements[e]}resetNext(){this.enumIndex=this.elements.length>0?0:-1}updateNext(e,t){const r=this.elements.length>0;-1===this.enumIndex&&r?this.enumIndex=0:(this.enumIndex>=this.elements.length||!r)&&(this.enumIndex=-1),e&&this.updateCapacity(t??1.25)}updateCapacity(e=0){if(this.resizable&&e>0){if(this.elements.length>0&&this.elements.length>this.maxSize){let t=this.elements.length-1,r=Math.trunc(t*e);r-this.maxSize<10?this.maxSize=Math.trunc(10*(t/10+1)):this.maxSize=r}}else this.maxSize=Math.max(this.elements.length,this.maxSize)}aaCompare(e,t,r,n){let i=0;const s=[...this.elements],a=t.toString().indexOf("i")>-1,o=r.elements.has(e.toString().toLowerCase()),c=n.elements.has(e.toString().toLowerCase());return o&&c?i=de(s,r.get(e),n.get(e),a):o?i=-1:c&&(i=1),i}dispose(){this.elements.forEach((e=>{this.removeChildRef(e)}))}addChildRef(e){e instanceof p&&e.addReference()}removeChildRef(e){e instanceof p&&e.removeReference()}join=new se("join",{signature:{args:[new ee("separator",ne.String)],returns:ne.String},impl:(e,t)=>this.elements.some((function(e){return!(e instanceof Ee)}))?(e.isDevMode&&e.stderr.write("warning,roArray.Join: Array contains non-string value(s)."),new Ee("")):new Ee(this.elements.join(t.value))});sort=new se("sort",{signature:{args:[new ee("flags",ne.String,new Ee(""))],returns:ne.Void},impl:(e,t)=>{if(null!=t.toString().match(/([^ir])/g))e.isDevMode&&e.stderr.write("warning,roArray.Sort: Flags contains invalid option(s).");else{const e=t.toString().indexOf("i")>-1,r=[...this.elements];this.elements.sort(((t,n)=>de(r,t,n,e))),t.toString().indexOf("r")>-1&&this.elements.reverse()}return Ie.Instance}});sortBy=new se("sortBy",{signature:{args:[new ee("fieldName",ne.String),new ee("flags",ne.String,new Ee(""))],returns:ne.Void},impl:(e,t,r)=>{if(null!=r.toString().match(/([^ir])/g))e.isDevMode&&e.stderr.write("warning,roArray.SortBy: Flags contains invalid option(s).");else{const e=[...this.elements];this.elements.sort(((n,i)=>{let s=0;return n instanceof oe&&i instanceof oe?s=this.aaCompare(t,r,n,i):void 0!==n&&void 0!==i&&(s=de(e,n,i,!1,!1)),s})),r.toString().indexOf("r")>-1&&this.elements.reverse()}return Ie.Instance}});reverse=new se("reverse",{signature:{args:[],returns:ne.Void},impl:(e,t)=>(this.elements.reverse(),Ie.Instance)});slice=new se("slice",{signature:{args:[new ee("start",ne.Int32|ne.Float,new Y(0)),new ee("end",ne.Int32|ne.Float,Ie.Instance)],returns:ne.Object},impl:(e,t,r)=>new he(r instanceof Ie?this.elements.slice(t.getValue()):this.elements.slice(t.getValue(),r.getValue()))});capacity=new se("capacity",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.maxSize)});isResizable=new se("isResizable",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.resizable)})}function fe(e){return Xp(e)?0:Jp(e)?1:e instanceof oe?2:3}function de(e,t,r,n=!1,i=!0){let s=0;if(void 0!==t&&void 0!==r){const a=fe(t),o=fe(r);if(a<o)s=-1;else if(o<a)s=1;else if(i&&Xp(t))s=t.greaterThan(r).toBoolean()?1:-1;else if(i&&Jp(t)){let e=t.toString(),i=r.toString();n&&(e=e.toLowerCase(),i=i.toLowerCase()),s=e>i?1:-1}else{const n=e.indexOf(t),i=e.indexOf(r);n>-1&&i>-1&&(s=n-i)}}return s}class pe{component;constructor(e){this.component=e}addHead=new se("addHead",{signature:{args:[new ee("tvalue",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>(this.component.add(t,!1),Ie.Instance)});addTail=new se("addTail",{signature:{args:[new ee("tvalue",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>(this.component.getValue().push(t),Ie.Instance)});getHead=new se("getHead",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.component.getValue()[0]||Ie.Instance});getTail=new se("getTail",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.component.getValue()[this.component.tail()]||Ie.Instance});removeHead=new se("removeHead",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.component.remove(0)||Ie.Instance});removeTail=new se("removeTail",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.component.remove(this.component.tail())||Ie.Instance});resetIndex=new se("resetIndex",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.component.resetCurrent())});getIndex=new se("getIndex",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.component.getCurrent()??Ie.Instance});removeIndex=new se("removeIndex",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.component.remove(this.component.listIndex)||Ie.Instance})}class ge{kind=ne.Object;component;constructor(e){this.component=e}toArray=new se("toArray",{signature:{args:[],returns:ne.Object},impl:e=>new he(this.component.getValue())})}class me extends p{kind=ne.Object;resizable=!0;maxSize=0;elements;listIndex;enumIndex;constructor(e){super("roList"),this.elements=[],e&&e.forEach((e=>{this.addChildRef(e),this.elements.push(e)})),this.listIndex=-1,this.enumIndex=-1;const t=new pe(this),r=new ge(this),n=new ce(this),i=new ue(this),s=new le(this),a=new ae(this);this.registerMethods({ifList:[t.addHead,t.addTail,t.getHead,t.getTail,t.removeHead,t.removeTail,t.resetIndex,t.getIndex,t.removeIndex],ifListToArray:[r.toArray],ifArray:[n.peek,n.pop,n.push,n.shift,n.unshift,n.delete,n.count,n.clear,n.append],ifArrayGet:[i.getEntry],ifArraySet:[s.setEntry],ifEnum:[a.isEmpty,a.isNext,a.next,a.reset]})}toString(e){return e?"<Component: roList>":["<Component: roList> =","(",...Array.from(this.elements,(e=>void 0===e?"    invalid":`    ${e.toString(this)}`)),")"].join("\n")}equalTo(e){return xe.False}getValue(){return this.elements}getElements(){return this.elements.slice()}get(e){switch(e.kind){case ne.Float:return this.getElements()[Math.trunc(e.getValue())]??Ie.Instance;case ne.Int32:return this.getElements()[e.getValue()]??Ie.Instance;case ne.String:return this.getMethod(e.value)??Ie.Instance;default:return Ie.Instance}}set(e,t){if(e.kind===ne.Int32||e.kind===ne.Float){const r=Math.trunc(e.getValue());this.addChildRef(t),this.removeChildRef(this.elements[r]),this.elements[r]=t}return Ie.Instance}hasNext(){return xe.from(this.enumIndex>=0)}getNext(){const e=this.enumIndex;return e>=0&&(this.enumIndex++,this.enumIndex>=this.elements.length&&(this.enumIndex=-1)),this.elements[e]}resetNext(){this.enumIndex=this.elements.length>0?0:-1}updateNext(){const e=this.elements.length>0;-1===this.enumIndex&&e?this.enumIndex=0:(this.enumIndex>=this.elements.length||!e)&&(this.enumIndex=-1)}add(e,t=!0){this.addChildRef(e),t?this.elements.push(e):(this.elements.unshift(e),this.listIndex>=0&&this.listIndex++,this.enumIndex>=0&&this.enumIndex++)}remove(e){let t;return t=0===e?this.elements.shift():e===this.tail()?this.elements.pop():this.elements.splice(e,1)[0],t&&this.listIndex>e&&this.listIndex--,this.listIndex>=this.elements.length&&(this.listIndex=-1),t&&this.enumIndex>e&&this.enumIndex--,this.enumIndex>=this.elements.length&&(this.enumIndex=-1),this.removeChildRef(t),t}clear(){this.elements.forEach((e=>{this.removeChildRef(e)})),this.elements.length=0,this.listIndex=-1,this.enumIndex=-1}getCurrent(){const e=this.listIndex;return e>=0&&(this.listIndex++,this.listIndex>=this.elements.length&&(this.listIndex=-1)),this.elements[e]}resetCurrent(){return this.listIndex=this.elements.length>0?0:-1,0===this.listIndex}length(){return this.elements.length}tail(){return this.elements.length-1}dispose(){this.elements.forEach((e=>{this.removeChildRef(e)}))}addChildRef(e){e instanceof p&&e.addReference()}removeChildRef(e){e instanceof p&&e.removeReference()}}class ye extends p{kind=ne.Object;intrinsic=new Ee("");getValue(){return this.intrinsic.value}constructor(e){super("roString"),e&&(this.intrinsic=e),this.registerMethods({ifString:[this.setString,this.getString],ifStringOps:[this.appendString,this.len,this.left,this.right,this.mid,this.instr,this.replace,this.trim,this.toInt,this.toFloat,this.tokenize,this.split,this.getEntityEncode,this.escape,this.unescape,this.encodeUri,this.decodeUri,this.encodeUriComponent,this.decodeUriComponent,this.startsWith,this.endsWith,this.isEmpty,this.format],ifToStr:[new V(this).toStr]})}lessThan(e){return ng(e)?xe.from(this.getValue()<e.getValue()):xe.False}greaterThan(e){return ng(e)?xe.from(this.getValue()>e.getValue()):xe.False}equalTo(e){return ng(e)?xe.from(this.getValue()===e.getValue()):xe.False}concat(e){return ng(e)?new Ee(this.intrinsic.value+e.getValue()):new Ee(this.intrinsic.value+e.toString())}unbox(){return this.intrinsic}toString(e){return this.intrinsic.toString(e)}setString=new se("SetString",{signature:{args:[new ee("s",ne.String)],returns:ne.Void},impl:(e,t)=>(this.intrinsic=new Ee(t.value),Ie.Instance)},{signature:{args:[new ee("s",ne.String),new ee("len",ne.Int32)],returns:ne.Void},impl:(e,t,r)=>{const n=r.getValue();return this.intrinsic=new Ee(n<=0?"":t.value.slice(0,n)),Ie.Instance}});getString=new se("GetString",{signature:{args:[],returns:ne.String},impl:e=>this.intrinsic});appendString=new se("AppendString",{signature:{args:[new ee("s",ne.String),new ee("len",ne.Int32)],returns:ne.Void},impl:(e,t,r)=>{const n=r.getValue();return n>0&&(this.intrinsic=this.intrinsic.concat(new Ee(t.value.slice(0,n)))),Ie.Instance}});len=new se("Len",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.intrinsic.value.length)});left=new se("Left",{signature:{args:[new ee("len",ne.Int32)],returns:ne.String},impl:(e,t)=>new Ee(this.intrinsic.value.slice(0,t.getValue()))});right=new se("Right",{signature:{args:[new ee("len",ne.Int32)],returns:ne.String},impl:(e,t)=>{const r=this.intrinsic.value,n=t.getValue();return new Ee(n<=0?"":r.slice(-n))}});mid=new se("Mid",{signature:{args:[new ee("start_index",ne.Int32)],returns:ne.String},impl:(e,t)=>new Ee(this.intrinsic.value.slice(t.getValue()))},{signature:{args:[new ee("start_index",ne.Int32),new ee("num_chars",ne.Int32)],returns:ne.String},impl:(e,t,r)=>{let n=this.intrinsic.value,i=t.getValue()>0?t.getValue():0,s=r.getValue()>0?r.getValue():0;return new Ee(n.substring(i,i+s))}});instr=new se("Instr",{signature:{args:[new ee("substring",ne.String)],returns:ne.Int32},impl:(e,t)=>new Y(this.intrinsic.value.indexOf(t.value))},{signature:{args:[new ee("start_index",ne.Int32),new ee("substring",ne.String)],returns:ne.Int32},impl:(e,t,r)=>""===r.value?new Y(t.getValue()<0?0:t.getValue()):new Y(this.intrinsic.value.indexOf(r.value,t.getValue()))});replace=new se("Replace",{signature:{args:[new ee("from",ne.String),new ee("to",ne.String)],returns:ne.String},impl:(e,t,r)=>{if(""===t.value)return this.intrinsic;let n=t.value.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new Ee(this.intrinsic.value.replace(new RegExp(n,"g"),r.value))}});trim=new se("Trim",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.intrinsic.value.trim())});toInt=new se("ToInt",{signature:{args:[],returns:ne.Int32},impl:e=>{let t=Math.trunc(Number.parseFloat(this.intrinsic.value));return Number.isNaN(t)?new Y(0):new Y(t)}});toFloat=new se("ToFloat",{signature:{args:[],returns:ne.Float},impl:e=>{let t=Number.parseFloat(this.intrinsic.value);return Number.isNaN(t)?new H(0):new H(t)}});tokenize=new se("Tokenize",{signature:{args:[new ee("delim",ne.String)],returns:ne.Object},impl:(e,t)=>{let r=this.intrinsic.value,n=[],i=[];for(let e of r)t.value.includes(e)?n.length>0&&(i.push(new Ee(n.join(""))),n=[]):n.push(e);return n.length>0&&i.push(new Ee(n.join(""))),new me(i)}});split=new se("Split",{signature:{args:[new ee("separator",ne.String)],returns:ne.Object},impl:(e,t)=>{let r;return r=""===t.value?Array.from(this.intrinsic.value):this.intrinsic.value.split(t.value),new he(r.map((e=>new Ee(e))))}});getEntityEncode=new se("GetEntityEncode",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.intrinsic.value.replace(/(['"<>&])/g,"\\$1"))});escape=new se("Escape",{signature:{args:[],returns:ne.String},impl:e=>new Ee(encodeURIComponent(this.intrinsic.value).replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())))});unescape=new se("Unescape",{signature:{args:[],returns:ne.String},impl:e=>new Ee(decodeURIComponent(this.intrinsic.value))});isEmpty=new se("isEmpty",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(0===this.intrinsic.value.length)});encodeUri=new se("EncodeUri",{signature:{args:[],returns:ne.String},impl:e=>new Ee(encodeURI(this.intrinsic.value))});decodeUri=new se("DecodeUri",{signature:{args:[],returns:ne.String},impl:e=>new Ee(decodeURI(this.intrinsic.value))});encodeUriComponent=new se("EncodeUriComponent",{signature:{args:[],returns:ne.String},impl:e=>new Ee(encodeURIComponent(this.intrinsic.value))});decodeUriComponent=new se("DecodeUriCOmponent",{signature:{args:[],returns:ne.String},impl:e=>new Ee(decodeURIComponent(this.intrinsic.value))});startsWith=new se("startsWith",{signature:{args:[new ee("matchString",ne.String),new ee("position",ne.Int32,Ie.Instance)],returns:ne.Boolean},impl:(e,t,r)=>r instanceof Ie?xe.from(this.intrinsic.value.startsWith(t.value)):xe.from(this.intrinsic.value.startsWith(t.value,r.getValue()))});endsWith=new se("endsWith",{signature:{args:[new ee("matchString",ne.String),new ee("position",ne.Int32,Ie.Instance)],returns:ne.Boolean},impl:(e,t,r)=>r instanceof Ie?xe.from(this.intrinsic.value.endsWith(t.value)):xe.from(this.intrinsic.value.endsWith(t.value,r.getValue()))});format=new se("format",{signature:{args:[new ee("arg",ne.Dynamic,Ie.Instance)],variadic:!0,returns:ne.String},impl:(e,...t)=>{let r=[];t.length>0&&t.forEach((e=>{Xp(e)?r.push(e.getValue()):e instanceof Ee&&r.push(e.value)}));try{return new Ee((0,j.sprintf)(this.intrinsic.value,...r))}catch(t){e.isDevMode&&e.stderr.write(`warning,roString.format() Error: ${t.message}`);const r=t.message?.includes("expecting number")?C.TypeMismatch:C.InvalidFormatSpecifier;throw new A(r,e.location,e.stack.slice(0,-1))}}})}class be extends p{kind=ne.Object;intrinsic=xe.False;getValue(){return this.intrinsic.toBoolean()}constructor(e){super("roBoolean"),e instanceof xe&&(this.intrinsic=e),this.registerMethods({ifBoolean:[this.getBoolean,this.setBoolean],ifToStr:[new V(this).toStr]})}unbox(){return this.intrinsic}equalTo(e){return e instanceof be?xe.from(e.getValue()===this.getValue()):Xp(e)||e instanceof xe?xe.from(e.toBoolean()===this.intrinsic.toBoolean()):xe.False}toString(e){return this.intrinsic.toString()}getBoolean=new se("getBoolean",{signature:{args:[],returns:ne.Boolean},impl:e=>this.intrinsic});setBoolean=new se("setBoolean",{signature:{args:[new ee("value",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(this.intrinsic=t,Ie.Instance)})}class ve extends p{kind=ne.Object;intrinsic;getValue(){return this.intrinsic}constructor(){super("roInvalid"),this.intrinsic=Ie.Instance,this.registerMethods({ifToStr:[new V(this).toStr]})}unbox(){return this.intrinsic}equalTo(e){return e instanceof Ie||e instanceof ve?xe.True:xe.False}toString(e){return"<Component: roInvalid>"}}function we(e,t){let r;switch(e.toLowerCase()){case"boolean":r=t?xe.from("true"===t):xe.False;break;case"node":case"roArray":case"array":case"roAssociativeArray":case"assocarray":r=Ie.Instance;break;case"integer":r=new Y(t?Number.parseInt(t):0);break;case"float":r=new H(t?Number.parseFloat(t):0);break;case"string":r=new Ee(t||"");break;default:r=_e.Instance}return r}function Se(e){return"lessThan"in e&&"greaterThan"in e&&"getValue"in e}(ie=ne||(ne={}))[ie.Interface=0]="Interface",ie[ie.Invalid=1]="Invalid",ie[ie.Boolean=2]="Boolean",ie[ie.String=3]="String",ie[ie.Int32=4]="Int32",ie[ie.Int64=5]="Int64",ie[ie.Float=6]="Float",ie[ie.Double=7]="Double",ie[ie.Callable=8]="Callable",ie[ie.Uninitialized=9]="Uninitialized",ie[ie.Dynamic=10]="Dynamic",ie[ie.Void=11]="Void",ie[ie.Object=12]="Object",function(e){e.toString=function(t){switch(t){case e.Interface:return"Interface";case e.Invalid:return"Invalid";case e.Boolean:return"Boolean";case e.String:return"String";case e.Int32:return"Integer";case e.Int64:return"LongInteger";case e.Float:return"Float";case e.Double:return"Double";case e.Callable:return"Function";case e.Dynamic:return"Dynamic";case e.Void:return"Void";case e.Uninitialized:return"<uninitialized>";case e.Object:return"Object"}},e.fromString=function(t){switch(t.toLowerCase()){case"interface":return e.Interface;case"invalid":return e.Invalid;case"boolean":return e.Boolean;case"string":return e.String;case"integer":return e.Int32;case"longinteger":return e.Int64;case"float":return e.Float;case"double":return e.Double;case"function":return e.Callable;case"dynamic":return e.Dynamic;case"void":return e.Void;case"<uninitialized>":return e.Uninitialized;case"object":return e.Object;default:return}}}(ne||(ne={}));class Ee{value;kind=ne.String;constructor(e){this.value=e}lessThan(e){return ng(e)?xe.from(this.value<e.getValue()):xe.False}greaterThan(e){return ng(e)?xe.from(this.value>e.getValue()):xe.False}equalTo(e){return ng(e)?xe.from(this.value===e.getValue()):xe.False}getValue(){return this.value}toString(e){return e?`"${this.value}"`:this.value}concat(e){return ng(e)?new Ee(this.value+e.getValue()):new Ee(this.value+e.toString())}box(){return new ye(this)}}class xe{value;kind=ne.Boolean;constructor(e){this.value=e}toBoolean(){return this.value}static False=new xe(!1);static True=new xe(!0);static from(e){return e?xe.True:xe.False}lessThan(e){return xe.False}greaterThan(e){return xe.False}equalTo(e){return e.kind===ne.Boolean||Xp(e)?xe.from(this.toBoolean()===e.toBoolean()):xe.False}getValue(){return this.value}toString(e){return this.value.toString()}box(){return new be(this)}and(e){return e.kind!==ne.Boolean?xe.from(this.value&&e.toBoolean()):xe.from(this.value&&e.value)}or(e){return e.kind!==ne.Boolean?xe.from(this.value||e.toBoolean()):xe.from(this.value||e.value)}not(){return xe.from(!this.value)}}class Ie{kind=ne.Invalid;static Instance=new Ie;lessThan(e){return xe.False}greaterThan(e){return xe.False}equalTo(e){return e.kind===ne.Invalid||e instanceof ve?xe.True:xe.False}getValue(){return Ie.Instance}toString(e){return"invalid"}box(){return new ve}}class _e{kind=ne.Uninitialized;static Instance=new _e;lessThan(e){return xe.False}greaterThan(e){return xe.False}getValue(){}equalTo(e){return e.kind===ne.String?xe.from(e.value===this.toString().toLowerCase()):xe.False}toString(e){return"<UNINITIALIZED>"}}var Te=__webpack_require__(7975),ke=__webpack_require__.n(Te);class Ae extends p{kind=ne.Object;fullPath="";parsedPath;parsedUrl;valid=!1;constructor(e){super("roPath"),this.parsedUrl=this.setPath(e.value),this.registerMethods({ifPath:[this.change,this.isValid,this.split],ifString:[this.setString,this.getString]})}setPath(e){let t;return function(e){try{return new URL(e),!0}catch(e){return!1}}(e=e.replace(/[/\\]+/g,ke().posix.sep))?(t=new URL(e),this.fullPath=e,this.parsedPath=ke().parse(`${t.host}${t.pathname}`),this.valid=!0):(t=new URL("tmp:/blank"),this.fullPath="",this.valid=!1),t}getParentPart(){if("string"!=typeof this.parsedPath?.base)return this.fullPath;const e=this.fullPath.indexOf(this.parsedPath.base);return-1===e?this.fullPath:this.fullPath.slice(0,e)}toString(e){return this.fullPath}getValue(){return this.fullPath}lessThan(e){return ng(e)?xe.from(this.getValue()<e.getValue()):xe.False}greaterThan(e){return ng(e)?xe.from(this.getValue()>e.getValue()):xe.False}equalTo(e){return ng(e)?xe.from(this.getValue()===e.getValue()):xe.False}concat(e){return ng(e)?new Ee(this.getValue()+e.getValue()):new Ee(this.getValue()+e.toString())}change=new se("change",{signature:{args:[new ee("newPath",ne.String)],returns:ne.Boolean},impl:(e,t)=>(this.setPath(t.value),xe.from(this.valid))});isValid=new se("isValid",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.valid)});split=new se("split",{signature:{args:[],returns:ne.Object},impl:e=>""===this.fullPath?new oe([]):cg({basename:this.parsedPath.name,extension:this.parsedPath.ext,filename:this.parsedPath.base,parent:this.getParentPart(),phy:this.parsedUrl.protocol})});setString=new se("SetString",{signature:{args:[new ee("path",ne.String)],returns:ne.Void},impl:(e,t)=>(this.parsedUrl=this.setPath(t.value),Ie.Instance)});getString=new se("GetString",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.fullPath)})}function Ce(e,t,r,n){try{const i=new XMLHttpRequest;return i.open("GET",e,!1),i.responseType=t,r?.forEach(((e,t)=>{i.setRequestHeader(t,e)})),void 0!==n&&(i.withCredentials=n),i.send(),200!==i.status?void postMessage(`error,HTTP Error downloading ${e}: ${i.statusText}`):i.response}catch(t){postMessage(`error,Error downloading ${e}: ${t.message}`)}}function Me(){const e="https://api.ipify.org";try{const t=new XMLHttpRequest;if(t.open("GET",e,!1),t.responseType="text",t.send(),200!==t.status)throw new Error(`[getExternalIp] Error getting ${e}: status ${t.status} - ${t.statusText}`);const r=t.responseText;return De(r)?r:""}catch(t){throw new Error(`[getExternalIp] Error getting ${e}: ${t.message}`)}}const Re=new Map;function Oe(e){if(!Pe(e))return null;if(Re.has(e))return Re.get(e);const t=["https://dns.google/resolve","https://cloudflare-dns.com/dns-query"],r=[];for(const n of t){const i=`${n}?name=${e}&type=A`,s=new XMLHttpRequest;s.open("GET",i,!1),s.setRequestHeader("Accept","application/dns-json");try{if(s.send(),200!==s.status)return null;const t=JSON.parse(s.responseText);if(t.Answer&&t.Answer.length>0){const r=t.Answer.find((e=>1===e.type));if(r&&De(r.data))return Re.set(e,r.data),r.data}}catch(t){r.push(`[resolveHostToIP] Error resolving ${e} from ${n}: ${t.message}`)}}if(r.length>0)throw new Error(r.join("\n"));return null}function De(e){if(!e)return!1;const t=e.split(".");return 4===t.length&&t.every((e=>{const t=Number(e);return!isNaN(t)&&t>=0&&t<=255}))}function Pe(e){if(e.length>253)return!1;const t=e.split("."),r=/^[a-zA-Z0-9-]{1,63}$/;for(const e of t){if(e.length>63||0===e.length)return!1;if(!r.test(e)||e.startsWith("-")||e.endsWith("-"))return!1}return!0}function Le(e){try{return new URL(e).host}catch(e){return""}}class Fe extends p{kind=ne.Object;id;responseCode;responseString;failureReason;headers;host;constructor(e,t,r,n,i,s){super("roUrlEvent"),this.id=e,this.responseCode=n,this.failureReason=i,this.responseString=r,this.headers=s,this.host=t,this.registerMethods({ifUrlEvent:[this.getResponseCode,this.getFailureReason,this.getSourceIdentity,this.getResponseHeaders,this.getResponseHeadersArray,this.getTargetIpAddress],ifString:[this.getString],ifInt:[this.getInt]})}getStatus(){return this.responseCode}getValue(){return this.responseString}toString(e){return this.responseString}lessThan(e){return ng(e)?xe.from(this.getValue()<e.getValue()):xe.False}greaterThan(e){return ng(e)?xe.from(this.getValue()>e.getValue()):xe.False}equalTo(e){return ng(e)?xe.from(this.getValue()===e.getValue()):xe.False}concat(e){return ng(e)?new Ee(this.getValue()+e.getValue()):new Ee(this.getValue()+e.toString())}getInt=new se("getInt",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(1)});getResponseCode=new se("getResponseCode",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.responseCode)});getFailureReason=new se("getFailureReason",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.failureReason)});getString=new se("getString",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.responseString)});getSourceIdentity=new se("getSourceIdentity",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.id)});getResponseHeaders=new se("getResponseHeaders",{signature:{args:[],returns:ne.Dynamic},impl:e=>{let t=new oe([]);return this.headers.split("\n").map((e=>e.trim())).map(((e,t)=>{let r=e.indexOf(":");return""===e||-1===r?["",""]:[e.slice(0,r),e.slice(r+1)]})).filter((([e,t])=>e&&t)).map((([e,t])=>[e.trim(),t.trim()])).map((([e,r])=>{t.set(new Ee(e),new Ee(r))})),t}});getResponseHeadersArray=new se("getResponseHeadersArray",{signature:{args:[],returns:ne.Object},impl:e=>{let t=new Array;return this.headers.split("\n").map((e=>e.trim())).map(((e,t)=>{let r=e.indexOf(":");return""===e||-1===r?["",""]:[e.slice(0,r),e.slice(r+1)]})).filter((([e,t])=>e&&t)).map((([e,t])=>[e.trim(),t.trim()])).map((([e,r])=>{let n=new oe([]);n.set(new Ee(e),new Ee(r)),t.push(n)})),new he(t)}});getTargetIpAddress=new se("getTargetIpAddress",{signature:{args:[],returns:ne.String},impl:e=>new Ee(Oe(this.host)??"")})}class Ne extends p{kind=ne.Object;event;constructor(e){super("roUniversalControlEvent"),this.event=e,this.registerMethods({ifUniversalControlEvent:[this.getKey,this.getRemoteID,this.getID,this.isPress,this.getChar],ifInt:[this.getInt]})}toString(e){return this.event.key.toString()}getValue(){return this.event.key}lessThan(e){return e.kind===ne.Int64?xe.from(this.getValue()<e.getValue().toNumber()):rg(e)?xe.from(this.getValue()<e.getValue()):xe.False}greaterThan(e){return e.kind===ne.Int64?xe.from(this.getValue()>e.getValue().toNumber()):rg(e)?xe.from(this.getValue()>e.getValue()):xe.False}equalTo(e){return e.kind===ne.Int64?xe.from(this.getValue()===e.getValue().toNumber()):rg(e)?xe.from(this.getValue()===e.getValue()):xe.False}getInt=new se("getInt",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.event.key)});getKey=new se("getKey",{signature:{args:[],returns:ne.Int32},impl:e=>{let t=this.event.key-this.event.mod;return t>=32&&(t=0),new Y(t)}});getID=new se("getID",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.event.key-this.event.mod)});getRemoteID=new se("getRemoteID",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.event.remote)});getChar=new se("getChar",{signature:{args:[],returns:ne.Int32},impl:e=>{let t=this.event.key-this.event.mod;return t<32&&(t=0),new Y(t)}});isPress=new se("isPress",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.event.mod<100)})}class Be extends p{kind=ne.Object;logType;data;constructor(e,t){super("roSystemLogEvent"),this.data=t,this.logType=e,this.registerMethods({ifroSystemLogEvent:[this.getInfo]})}toString(e){return"<Component: roSystemLogEvent>"}equalTo(e){return xe.False}getInfo=new se("getInfo",{signature:{args:[],returns:ne.Object},impl:e=>{const t={logType:this.logType,DateTime:new Go};return"bandwidth.minute"===this.logType&&"number"==typeof this.data?t.bandwidth=this.data:"http.connect"===this.logType&&(t.HttpCode=this.data.httpCode,t.Status=this.data.status,t.OrigUrl=this.data.url,t.Url=this.data.url,t.Method="GET",t.TargetIp=""),cg(t)}})}class Ue extends p{kind=ne.Object;id;input;constructor(e){super("roInputEvent"),this.id=Math.floor(100*Math.random())+1,this.input=e,this.registerMethods({ifroInputEvent:[this.isInput,this.getInfo]})}toString(e){return"<Component: roInputEvent>"}equalTo(e){return xe.False}isInput=new se("isInput",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(void 0!==this.input)});getInfo=new se("getInfo",{signature:{args:[],returns:ne.Object},impl:e=>this.input instanceof oe?this.input:cg({type:"transport",id:new z(this.id),command:"",direction:"",duration:""})})}var je=__webpack_require__(5606);const Ve=function(){let e=!1,t=!1,r=!1,n=!1,i=!1,s=!1,a=!1,o=!1,c=!1,u=!1,l=!1;if("undefined"!=typeof window&&(e=!0,t=("chrome"in window||window.Intl&&"v8BreakIterator"in Intl)&&"CSS"in window),"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){let e=navigator.userAgent;e.indexOf("Electron")>=0?(i=!0,t=!0):/Firefox\D+(\d+)/.test(e)?r=!0:/^((?!chrome|android).)*safari/i.test(e)&&(n=!0),/Android/.test(e)?s=!0:/CrOS/.test(e)?a=!0:/iP[ao]d|iPhone/i.test(e)?o=!0:/Mac OS/.test(e)&&!/like Mac OS/.test(e)?c=!0:/Linux/.test(e)?u=!0:/Windows/.test(e)&&(l=!0)}else"android"===je.platform?s=!0:"darwin"===je.platform?c=!0:"linux"===je.platform?u=!0:"win32"===je.platform&&(l=!0);return{inBrowser:e,inChromium:t,inFirefox:r,inSafari:n,inElectron:i,inAndroid:s,inChromeOS:a,inIOS:o,inLinux:u,inMacOS:c,inWindows:l}}(),Ge={developerId:"34c6fceca75e456f25e7e99531e2425c6c1de443",friendlyName:"BrightScript Engine Library",deviceModel:"8000X",firmwareVersion:"48F.04E12221A",clientId:"6c5bf3a5-b2a5-4918-824d-7691d5c85364",RIDA:"f51ac698-bc60-4409-aae3-8fc3abc025c4",countryCode:"US",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,locale:"en_US",captionLanguage:"eng",clockFormat:"12h",displayMode:"720p",captionsMode:"Off",defaultFont:"Asap",fontPath:"../fonts/",fonts:new Map,maxSimulStreams:2,remoteControls:[],customFeatures:[],connectionInfo:{type:"WiredConnection",name:"eth1",gateway:"127.0.0.1",ip:"127.0.0.1",dns:["8.8.8.8","8.8.4.4"],quality:"Excellent"},localIps:["eth1,127.0.0.1"],startTime:Date.now(),audioVolume:40,registry:new Map,maxFps:60,platform:Ve};var ze,We,qe,$e,He,Xe,Ye,Ke,Ze,Je,Qe,et;(We=ze||(ze={})).UNKNOWN="EXIT_UNKNOWN",We.CRASHED="EXIT_BRIGHTSCRIPT_CRASH",We.UNKFUNC="EXIT_BRIGHTSCRIPT_UNK_FUNC",We.FINISHED="EXIT_USER_NAV",We.SETTINGS="EXIT_SETTINGS_UPDATE",We.POWER="EXIT_POWER_MODE",We.PACKAGED="EXIT_PACKAGER_DONE",We.INVALID="EXIT_INVALID_PCODE",We.PASSWORD="EXIT_MISSING_PASSWORD",We.UNPACK="EXIT_UNPACK_FAILED",($e=qe||(qe={}))[$e.DBG=0]="DBG",$e[$e.BUF=1]="BUF",$e[$e.VDO=2]="VDO",$e[$e.VDX=3]="VDX",$e[$e.VSE=4]="VSE",$e[$e.VLP=5]="VLP",$e[$e.VPS=6]="VPS",$e[$e.VDR=7]="VDR",$e[$e.SND=8]="SND",$e[$e.IDX=9]="IDX",$e[$e.WAV=10]="WAV",$e[$e.WAV1=11]="WAV1",$e[$e.WAV2=12]="WAV2",$e[$e.MUHS=13]="MUHS",$e[$e.MHSL=14]="MHSL",$e[$e.MBWD=15]="MBWD",$e[$e.CEC=16]="CEC",$e[$e.HDMI=17]="HDMI",$e[$e.RID=18]="RID",$e[$e.KEY=19]="KEY",$e[$e.MOD=20]="MOD",(Xe=He||(He={}))[Xe.IR=10]="IR",Xe[Xe.WD=20]="WD",Xe[Xe.BT=30]="BT",Xe[Xe.SIM=40]="SIM",Xe[Xe.ECP=50]="ECP",Xe[Xe.RMOB=60]="RMOB",(Ke=Ye||(Ye={}))[Ke.BSCS=0]="BSCS",Ke[Ke.BT=1]="BT",Ke[Ke.CLASSES=2]="CLASSES",Ke[Ke.CONT=3]="CONT",Ke[Ke.EXIT=4]="EXIT",Ke[Ke.EXPR=5]="EXPR",Ke[Ke.HELP=6]="HELP",Ke[Ke.LAST=7]="LAST",Ke[Ke.LIST=8]="LIST",Ke[Ke.NEXT=9]="NEXT",Ke[Ke.STATS=10]="STATS",Ke[Ke.STEP=11]="STEP",Ke[Ke.THREAD=12]="THREAD",Ke[Ke.THREADS=13]="THREADS",Ke[Ke.VAR=14]="VAR",Ke[Ke.BREAK=15]="BREAK",Ke[Ke.PAUSE=16]="PAUSE",(Je=Ze||(Ze={}))[Je.SELECTED=0]="SELECTED",Je[Je.FULL=1]="FULL",Je[Je.PARTIAL=2]="PARTIAL",Je[Je.PAUSED=3]="PAUSED",Je[Je.RESUMED=4]="RESUMED",Je[Je.FAILED=5]="FAILED",Je[Je.LOADING=6]="LOADING",Je[Je.START_STREAM=7]="START_STREAM",Je[Je.START_PLAY=8]="START_PLAY",Je[Je.POSITION=9]="POSITION",(et=Qe||(Qe={}))[et.DEBUG_EXPR=0]="DEBUG_EXPR",et[et.AUDIO_TRACKS=1]="AUDIO_TRACKS",et[et.SYS_LOG=2]="SYS_LOG",et[et.INPUT=3]="INPUT";const tt=new Set(["wav","mp2","mp3","m4a","aac","ogg","oga","ac3","wma","flac"]),rt=new Set(["mp4","m4v","mkv","mov"]);function nt(e,t=""){return(e>>>0).toString(16).padStart(8,t)}function it(e){let t=[];return e&&(t=e.trimEnd().split("\n")),t}function st(e){const t=new Map;if(e.length>0){const r="0123456789ACDEFGHJKLMNPRSTUVWXY";t.set("major",r.indexOf(e.charAt(2)).toString()),t.set("minor",e.slice(4,5)),t.set("revision",e.slice(7,8)),t.set("build",e.slice(8,12)),t.set("plid",e.slice(0,2))}return t}class at extends p{kind=ne.Object;flags;index;message;constructor(e,t){switch(super("roAudioPlayerEvent"),this.flags=e,this.index=t,this.flags){case Ze.SELECTED:this.message="start of play";break;case Ze.FULL:this.message="end of playlist";break;default:this.message=""}this.registerMethods({ifroAudioPlayerEvent:[this.getIndex,this.getMessage,this.getInfo,this.getData,this.isListItemSelected,this.isFullResult,this.isPartialResult,this.isRequestSucceeded,this.isRequestFailed,this.isPaused,this.isResumed,this.isStatusMessage,this.isTimedMetadata]})}toString(e){return"<Component: roAudioPlayerEvent>"}equalTo(e){return xe.False}getIndex=new se("getIndex",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.index)});getInfo=new se("getInfo",{signature:{args:[],returns:ne.Object},impl:e=>Ie.Instance});getData=new se("getData",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(0)});getMessage=new se("getMessage",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.message)});isListItemSelected=new se("isListItemSelected",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.SELECTED)});isFullResult=new se("isFullResult",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.FULL)});isRequestSucceeded=new se("isRequestSucceeded",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.FULL)});isRequestFailed=new se("isRequestFailed",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.FAILED)});isPartialResult=new se("isPartialResult",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.PARTIAL)});isPaused=new se("isPaused",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.PAUSED)});isResumed=new se("isResumed",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.RESUMED)});isStatusMessage=new se("isStatusMessage",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(""!==this.message)});isTimedMetadata=new se("isTimedMetadata",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False})}class ot extends p{kind=ne.Object;flags;index;message;constructor(e,t){switch(super("roVideoPlayerEvent"),this.flags=e,this.index=t,this.flags){case Ze.LOADING:this.message="startup progress";break;case Ze.START_PLAY:this.message="start of play";break;case Ze.FULL:this.message="end of playlist";break;default:this.message=""}this.registerMethods({ifroVideoPlayerEvent:[this.getIndex,this.getMessage,this.getInfo,this.isListItemSelected,this.isFullResult,this.isPartialResult,this.isRequestSucceeded,this.isRequestFailed,this.isPaused,this.isResumed,this.isStatusMessage,this.isTimedMetadata,this.isPlaybackPosition,this.isFormatDetected,this.isSegmentDownloadStarted,this.isStreamStarted,this.isCaptionModeChanged,this.isStreamSegmentInfo,this.isDownloadSegmentInfo]})}toString(e){return"<Component: roVideoPlayerEvent>"}equalTo(e){return xe.False}getIndex=new se("getIndex",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.index)});getInfo=new se("getInfo",{signature:{args:[],returns:ne.Object},impl:e=>this.flags===Ze.START_STREAM?cg({Url:"",StreamBitrate:0,MeasuredBitrate:0,IsUnderrun:!1}):this.flags===Ze.POSITION?cg({ClipIdx:0,ClipPos:1e3*this.index}):Ie.Instance});getMessage=new se("getMessage",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.message)});isListItemSelected=new se("isListItemSelected",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.SELECTED)});isFullResult=new se("isFullResult",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.FULL)});isRequestSucceeded=new se("isRequestSucceeded",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.FULL)});isRequestFailed=new se("isRequestFailed",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.FAILED)});isPartialResult=new se("isPartialResult",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.PARTIAL)});isPaused=new se("isPaused",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.PAUSED)});isResumed=new se("isResumed",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.RESUMED)});isStatusMessage=new se("isStatusMessage",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(""!==this.message)});isTimedMetadata=new se("isTimedMetadata",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False});isPlaybackPosition=new se("isPlaybackPosition",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.POSITION)});isFormatDetected=new se("isFormatDetected",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(!1)});isSegmentDownloadStarted=new se("isSegmentDownloadStarted",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(!1)});isStreamStarted=new se("isStreamStarted",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.flags===Ze.START_STREAM)});isCaptionModeChanged=new se("isCaptionModeChanged",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False});isStreamSegmentInfo=new se("isStreamSegmentInfo",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False});isDownloadSegmentInfo=new se("isDownloadSegmentInfo",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False})}class ct extends p{kind=ne.Object;id;state;uri;bmp;constructor(e,t){super("roTextureRequestEvent"),this.id=e.identity,this.state=e.state,this.uri=e.uri,this.bmp=t,this.registerMethods({ifTextureRequestEvent:[this.getId,this.getState,this.getURI,this.getBitmap]})}getValue(){return this.uri}toString(e){return"<Component: roTextureRequestEvent>"}equalTo(e){return xe.False}getId=new se("getId",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.id)});getState=new se("getState",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.state)});getURI=new se("getURI",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.uri)});getBitmap=new se("getBitmap",{signature:{args:[],returns:ne.Object},impl:e=>this.bmp})}class ut extends p{kind=ne.Object;id;response;status;constructor(e,t,r){super("roChannelStoreEvent"),this.id=e,this.response=t,this.status=r,this.registerMethods({ifChannelStoreEvent:[this.isRequestSucceeded,this.isRequestFailed,this.getResponse,this.getStatus,this.getStatusMessage,this.isRequestInterrupted],ifSourceIdentity:[this.getSourceIdentity]})}toString(e){return"<Component: roChannelStoreEvent>"}equalTo(e){return xe.False}isRequestSucceeded=new se("isRequestSucceeded",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(1===this.status.code)});isRequestFailed=new se("isRequestFailed",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.status.code<0)});isRequestInterrupted=new se("isRequestInterrupted",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(2===this.status.code)});getSourceIdentity=new se("getSourceIdentity",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.id)});getResponse=new se("getResponse",{signature:{args:[],returns:ne.Object},impl:e=>this.response?new he(this.response):Ie.Instance});getStatus=new se("getStatus",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.status.code)});getStatusMessage=new se("getStatusMessage",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.status.message)})}class lt extends p{kind=ne.Object;data;isStatusMsg=!1;isCaptionModeMsg=!1;constructor(e){super("roDeviceInfoEvent"),this.data=e,"string"==typeof e.Mode?this.isCaptionModeMsg=!0:this.isStatusMsg=!0,this.registerMethods({ifroDeviceInfoEvent:[this.getInfo,this.isStatusMessage,this.isCaptionModeChanged]})}toString(e){return"<Component: roDeviceInfoEvent>"}equalTo(e){return xe.False}isStatusMessage=new se("isStatusMessage",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.isStatusMsg)});isCaptionModeChanged=new se("isCaptionModeChanged",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.isCaptionModeMsg)});getInfo=new se("getInfo",{signature:{args:[],returns:ne.Object},impl:e=>cg(this.data)})}class ht extends p{kind=ne.Object;active;constructor(e){super("roCECStatusEvent"),this.active=e,this.registerMethods({ifroCECStatusEvent:[this.getInfo,this.getIndex,this.getMessage]})}toString(e){return"<Component: roCECStatusEvent>"}equalTo(e){return xe.False}getIndex=new se("getIndex",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(0)});getMessage=new se("getMessage",{signature:{args:[],returns:ne.String},impl:e=>new Ee("CECStatus")});getInfo=new se("getInfo",{signature:{args:[],returns:ne.Object},impl:e=>{const t=this.active?"ACTIVE":"INACTIVE";return cg({Active:this.active,ActiveSourceState:t})}})}class ft extends p{kind=ne.Object;plugged;constructor(e){super("roHdmiStatusEvent"),this.plugged=e,this.registerMethods({ifroHdmiStatusEvent:[this.getInfo,this.getIndex,this.getMessage]})}toString(e){return"<Component: roHdmiStatusEvent>"}equalTo(e){return xe.False}getIndex=new se("getIndex",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(0)});getMessage=new se("getMessage",{signature:{args:[],returns:ne.String},impl:e=>new Ee("HdmiHotPlug")});getInfo=new se("getInfo",{signature:{args:[],returns:ne.Object},impl:e=>cg({ChannelId:"tvinput.hdmi1",Plugged:this.plugged,PortType:"Tx",PortNumber:1})})}var dt,pt,gt=__webpack_require__(8208),mt=__webpack_require__.n(gt);(pt=dt||(dt={}))[pt.EPERM=1]="EPERM",pt[pt.ENOENT=2]="ENOENT",pt[pt.EINTR=4]="EINTR",pt[pt.EIO=5]="EIO",pt[pt.ENXIO=6]="ENXIO",pt[pt.EBADF=9]="EBADF",pt[pt.EAGAIN=11]="EAGAIN",pt[pt.ENOMEM=12]="ENOMEM",pt[pt.EACCES=13]="EACCES",pt[pt.EFAULT=14]="EFAULT",pt[pt.ENOTBLK=15]="ENOTBLK",pt[pt.EBUSY=16]="EBUSY",pt[pt.EEXIST=17]="EEXIST",pt[pt.EXDEV=18]="EXDEV",pt[pt.ENODEV=19]="ENODEV",pt[pt.ENOTDIR=20]="ENOTDIR",pt[pt.EISDIR=21]="EISDIR",pt[pt.EINVAL=22]="EINVAL",pt[pt.ENFILE=23]="ENFILE",pt[pt.EMFILE=24]="EMFILE",pt[pt.ETXTBSY=26]="ETXTBSY",pt[pt.EFBIG=27]="EFBIG",pt[pt.ENOSPC=28]="ENOSPC",pt[pt.ESPIPE=29]="ESPIPE",pt[pt.EROFS=30]="EROFS",pt[pt.EMLINK=31]="EMLINK",pt[pt.EPIPE=32]="EPIPE",pt[pt.EDOM=33]="EDOM",pt[pt.ERANGE=34]="ERANGE",pt[pt.EDEADLK=35]="EDEADLK",pt[pt.ENAMETOOLONG=36]="ENAMETOOLONG",pt[pt.ENOLCK=37]="ENOLCK",pt[pt.ENOSYS=38]="ENOSYS",pt[pt.ENOTEMPTY=39]="ENOTEMPTY",pt[pt.ELOOP=40]="ELOOP",pt[pt.ENOMSG=42]="ENOMSG",pt[pt.EBADE=52]="EBADE",pt[pt.EBADR=53]="EBADR",pt[pt.EXFULL=54]="EXFULL",pt[pt.ENOANO=55]="ENOANO",pt[pt.EBADRQC=56]="EBADRQC",pt[pt.ENOSTR=60]="ENOSTR",pt[pt.ENODATA=61]="ENODATA",pt[pt.ETIME=62]="ETIME",pt[pt.ENOSR=63]="ENOSR",pt[pt.ENONET=64]="ENONET",pt[pt.EREMOTE=66]="EREMOTE",pt[pt.ENOLINK=67]="ENOLINK",pt[pt.ECOMM=70]="ECOMM",pt[pt.EPROTO=71]="EPROTO",pt[pt.EBADMSG=74]="EBADMSG",pt[pt.EOVERFLOW=75]="EOVERFLOW",pt[pt.EBADFD=77]="EBADFD",pt[pt.ESTRPIPE=86]="ESTRPIPE",pt[pt.ENOTSOCK=88]="ENOTSOCK",pt[pt.EDESTADDRREQ=89]="EDESTADDRREQ",pt[pt.EMSGSIZE=90]="EMSGSIZE",pt[pt.EPROTOTYPE=91]="EPROTOTYPE",pt[pt.ENOPROTOOPT=92]="ENOPROTOOPT",pt[pt.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",pt[pt.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",pt[pt.ENOTSUP=95]="ENOTSUP",pt[pt.ENETDOWN=100]="ENETDOWN",pt[pt.ENETUNREACH=101]="ENETUNREACH",pt[pt.ENETRESET=102]="ENETRESET",pt[pt.ETIMEDOUT=110]="ETIMEDOUT",pt[pt.ECONNREFUSED=111]="ECONNREFUSED",pt[pt.EHOSTDOWN=112]="EHOSTDOWN",pt[pt.EHOSTUNREACH=113]="EHOSTUNREACH",pt[pt.EALREADY=114]="EALREADY",pt[pt.EINPROGRESS=115]="EINPROGRESS",pt[pt.ESTALE=116]="ESTALE",pt[pt.EREMOTEIO=121]="EREMOTEIO",pt[pt.EDQUOT=122]="EDQUOT";const yt={[dt.EPERM]:"Operation not permitted",[dt.ENOENT]:"No such file or directory",[dt.EINTR]:"Interrupted system call",[dt.EIO]:"Input/output error",[dt.ENXIO]:"No such device or address",[dt.EBADF]:"Bad file descriptor",[dt.EAGAIN]:"Resource temporarily unavailable",[dt.ENOMEM]:"Cannot allocate memory",[dt.EACCES]:"Permission denied",[dt.EFAULT]:"Bad address",[dt.ENOTBLK]:"Block device required",[dt.EBUSY]:"Resource busy or locked",[dt.EEXIST]:"File exists",[dt.EXDEV]:"Invalid cross-device link",[dt.ENODEV]:"No such device",[dt.ENOTDIR]:"File is not a directory",[dt.EISDIR]:"File is a directory",[dt.EINVAL]:"Invalid argument",[dt.ENFILE]:"Too many open files in system",[dt.EMFILE]:"Too many open files",[dt.ETXTBSY]:"Text file busy",[dt.EFBIG]:"File is too big",[dt.ENOSPC]:"No space left on disk",[dt.ESPIPE]:"Illegal seek",[dt.EROFS]:"Cannot modify a read-only file system",[dt.EMLINK]:"Too many links",[dt.EPIPE]:"Broken pipe",[dt.EDOM]:"Numerical argument out of domain",[dt.ERANGE]:"Numerical result out of range",[dt.EDEADLK]:"Resource deadlock would occur",[dt.ENAMETOOLONG]:"File name too long",[dt.ENOLCK]:"No locks available",[dt.ENOSYS]:"Function not implemented",[dt.ENOTEMPTY]:"Directory is not empty",[dt.ELOOP]:"Too many levels of symbolic links",[dt.ENOMSG]:"No message of desired type",[dt.EBADE]:"Invalid exchange",[dt.EBADR]:"Invalid request descriptor",[dt.EXFULL]:"Exchange full",[dt.ENOANO]:"No anode",[dt.EBADRQC]:"Invalid request code",[dt.ENOSTR]:"Device not a stream",[dt.ENODATA]:"No data available",[dt.ETIME]:"Timer expired",[dt.ENOSR]:"Out of streams resources",[dt.ENONET]:"Machine is not on the network",[dt.EREMOTE]:"Object is remote",[dt.ENOLINK]:"Link has been severed",[dt.ECOMM]:"Communication error on send",[dt.EPROTO]:"Protocol error",[dt.EBADMSG]:"Bad message",[dt.EOVERFLOW]:"Value too large for defined data type",[dt.EBADFD]:"File descriptor in bad state",[dt.ESTRPIPE]:"Streams pipe error",[dt.ENOTSOCK]:"Socket operation on non-socket",[dt.EDESTADDRREQ]:"Destination address required",[dt.EMSGSIZE]:"Message too long",[dt.EPROTOTYPE]:"Protocol wrong type for socket",[dt.ENOPROTOOPT]:"Protocol not available",[dt.EPROTONOSUPPORT]:"Protocol not supported",[dt.ESOCKTNOSUPPORT]:"Socket type not supported",[dt.ENOTSUP]:"Operation is not supported",[dt.ENETDOWN]:"Network is down",[dt.ENETUNREACH]:"Network is unreachable",[dt.ENETRESET]:"Network dropped connection on reset",[dt.ETIMEDOUT]:"Connection timed out",[dt.ECONNREFUSED]:"Connection refused",[dt.EHOSTDOWN]:"Host is down",[dt.EHOSTUNREACH]:"No route to host",[dt.EALREADY]:"Operation already in progress",[dt.EINPROGRESS]:"Operation now in progress",[dt.ESTALE]:"Stale file handle",[dt.EREMOTEIO]:"Remote I/O error",[dt.EDQUOT]:"Disk quota exceeded"};class bt extends Error{static fromJSON(e){const t=new bt(e.errno,e.message,e.path,e.syscall);return t.code=e.code,t.stack=e.stack,t}static With(e,t,r){return new bt(dt[e],yt[dt[e]],t,r)}constructor(e,t=yt[e],r,n=""){super(t),this.errno=e,this.path=r,this.syscall=n,this.code=dt[e],this.message=this.code+": "+t+(this.path?`, '${this.path}'`:"")}toString(){return this.message}toJSON(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message,syscall:this.syscall}}bufferSize(){return 4+JSON.stringify(this.toJSON()).length}}function vt(e){return null!=e&&"object"==typeof e&&"create"in e&&"function"==typeof e.create}function wt(e){return null!=e&&"object"==typeof e&&"backend"in e&&vt(e.backend)}const St={uid:0,gid:0,suid:0,sgid:0,euid:0,egid:0,groups:[]};function Et(e){return{suid:e.uid,sgid:e.gid,euid:e.uid,egid:e.gid,groups:[],...e}}const xt=0,It=4,_t=2,Tt=1,kt=1,At=2,Ct=4,Mt=0,Rt=1,Ot=2,Dt=64,Pt=128,Lt=256,Ft=512,Nt=1024,Bt=65536,Ut=262144,jt=131072,Vt=1052672,Gt=4096,zt=32768,Wt=16384,qt=2048,$t=61440,Ht=49152,Xt=40960,Yt=32768,Kt=24576,Zt=16384,Jt=8192,Qt=4096,er=2048,tr=1024,rr=512,nr=448,ir=256,sr=128,ar=64,or=56,cr=32,ur=16,lr=8,hr=7,fr=4,dr=2,pr=1,gr=0,mr=2**32-1;let yr="/";function br(e,t){let r="",n=0,i=-1,s=0,a="\0";for(let o=0;o<=e.length;++o){if(o<e.length)a=e[o];else{if("/"==a)break;a="/"}if("/"==a){if(i===o-1||1===s);else if(2===s){if(r.length<2||2!==n||"."!==r.at(-1)||"."!==r.at(-2)){if(r.length>2){const e=r.lastIndexOf("/");-1===e?(r="",n=0):(r=r.slice(0,e),n=r.length-1-r.lastIndexOf("/")),i=o,s=0;continue}if(0!==r.length){r="",n=0,i=o,s=0;continue}}t&&(r+=r.length>0?"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o),n=o-i-1;i=o,s=0}else"."===a&&-1!==s?++s:s=-1}return r}function vr(...e){let t="";for(const r of[...e.reverse(),yr])if(r.length&&(t=`${r}/${t}`,r.startsWith("/")))break;const r=t.startsWith("/");return t=br(t,!r),r?`/${t}`:t.length?t:"/"}function wr(...e){if(!e.length)return".";const t=e.join("/");return(null==t?void 0:t.length)?function(e){if(!e.length)return".";const t=e.startsWith("/"),r=e.endsWith("/");return(e=br(e,!t)).length?(r&&(e+="/"),t?`/${e}`:e):t?"/":r?"./":"."}(t):"."}function Sr(e){if(0===e.length)return".";const t="/"===e[0];let r=-1,n=!0;for(let t=e.length-1;t>=1;--t)if("/"===e[t]){if(!n){r=t;break}}else n=!1;return-1===r?t?"/":".":t&&1===r?"//":e.slice(0,r)}function Er(e,t){let r=0,n=-1,i=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(let o=e.length-1;o>=0;--o)if("/"===e[o]){if(!i){r=o+1;break}}else-1===a&&(i=!1,a=o+1),s>=0&&(e[o]===t[s]?-1==--s&&(n=o):(s=-1,n=a));return r===n?n=a:-1===n&&(n=e.length),e.slice(r,n)}for(let t=e.length-1;t>=0;--t)if("/"===e[t]){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}function xr(e){const t=e.startsWith("/"),r={root:t?"/":"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;const n=t?1:0;let i=-1,s=0,a=-1,o=!0,c=e.length-1,u=0;for(;c>=n;--c)if("/"!==e[c])-1===a&&(o=!1,a=c+1),"."===e[c]?-1===i?i=c:1!==u&&(u=1):-1!==i&&(u=-1);else if(!o){s=c+1;break}if(-1!==a){const n=0===s&&t?1:s;-1===i||0===u||1===u&&i===a-1&&i===s+1?r.base=r.name=e.slice(n,a):(r.name=e.slice(n,i),r.base=e.slice(n,a),r.ext=e.slice(i,a))}return s>0?r.dir=e.slice(0,s-1):t&&(r.dir="/"),r}const Ir={checkAccess:!0,updateOnRead:!0,syncImmediately:!0,unsafeBufferReplace:!1};var _r,Tr,kr;null!==(_r=Promise.withResolvers)&&void 0!==_r||(Promise.withResolvers=function(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),resolve:e,reject:t}}),null!==(Tr=Symbol.dispose)&&void 0!==Tr||(Symbol.dispose=Symbol("Symbol.dispose")),null!==(kr=Symbol.asyncDispose)&&void 0!==kr||(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const Ar=BigInt(1e3);class Cr{_convert(e){return this._isBigint?BigInt(e):Number(e)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}get atime(){return new Date(Number(this.atimeMs))}set atime(e){this.atimeMs=this._convert(e.getTime())}get mtime(){return new Date(Number(this.mtimeMs))}set mtime(e){this.mtimeMs=this._convert(e.getTime())}get ctime(){return new Date(Number(this.ctimeMs))}set ctime(e){this.ctimeMs=this._convert(e.getTime())}get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(e){this.birthtimeMs=this._convert(e.getTime())}constructor({atimeMs:e,mtimeMs:t,ctimeMs:r,birthtimeMs:n,uid:i,gid:s,size:a,mode:o,ino:c}={}){this.dev=this._convert(0),this.ino=this._convert(0),this.rdev=this._convert(0),this.nlink=this._convert(1),this.blksize=this._convert(4096),this.uid=this._convert(0),this.gid=this._convert(0);const u=Date.now();this.atimeMs=this._convert(null!=e?e:u),this.mtimeMs=this._convert(null!=t?t:u),this.ctimeMs=this._convert(null!=r?r:u),this.birthtimeMs=this._convert(null!=n?n:u),this.uid=this._convert(null!=i?i:0),this.gid=this._convert(null!=s?s:0),this.size=this._convert(null!=a?a:0),this.ino=this._convert(null!=c?c:0),this.mode=this._convert(null!=o?o:420&Yt),this.mode&$t||(this.mode=this.mode|this._convert(Yt))}isFile(){return(this.mode&$t)===Yt}isDirectory(){return(this.mode&$t)===Zt}isSymbolicLink(){return(this.mode&$t)===Xt}isSocket(){return(this.mode&$t)===Ht}isBlockDevice(){return(this.mode&$t)===Kt}isCharacterDevice(){return(this.mode&$t)===Jt}isFIFO(){return(this.mode&$t)===Qt}hasAccess(e,t){const r=(null==t?void 0:t.credentials)||St;if(this.isSymbolicLink()||0===r.euid||0===r.egid)return!0;let n=0;return r.uid===this.uid&&(this.mode&ir&&(n|=It),this.mode&sr&&(n|=_t),this.mode&ar&&(n|=Tt)),(r.gid===this.gid||r.groups.includes(Number(this.gid)))&&(this.mode&cr&&(n|=It),this.mode&ur&&(n|=_t),this.mode&lr&&(n|=Tt)),this.mode&fr&&(n|=It),this.mode&dr&&(n|=_t),this.mode&pr&&(n|=Tt),(n&e)===e}chmod(e){this.mode=this._convert(this.mode&$t|e)}chown(e,t){e=Number(e),t=Number(t),!isNaN(e)&&0<=e&&e<2**32&&(this.uid=this._convert(e)),!isNaN(t)&&0<=t&&t<2**32&&(this.gid=this._convert(t))}get atimeNs(){return BigInt(this.atimeMs)*Ar}get mtimeNs(){return BigInt(this.mtimeMs)*Ar}get ctimeNs(){return BigInt(this.ctimeMs)*Ar}get birthtimeNs(){return BigInt(this.birthtimeMs)*Ar}}function Mr(e,t,r){!isNaN(t)&&0<=t&&t<2**32&&(e.uid=t),!isNaN(r)&&0<=r&&r<2**32&&(e.gid=r)}class Rr extends Cr{constructor(){super(...arguments),this._isBigint=!1}}class Or extends Cr{constructor(){super(...arguments),this._isBigint=!0}}class Dr{constructor(){this.type=525687744115,this.bsize=4096,this.blocks=0,this.bfree=0,this.bavail=0,this.files=mr,this.ffree=mr}}class Pr{constructor(){this.type=BigInt("0x7a656e6673"),this.bsize=BigInt(4096),this.blocks=BigInt(0),this.bfree=BigInt(0),this.bavail=BigInt(0),this.files=BigInt(mr),this.ffree=BigInt(mr)}}const Lr=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"];function Fr(e){if("number"==typeof e)return function(e){switch(e){case Mt:return"r";case Mt|Vt:return"rs";case Ot:return"r+";case Ot|Vt:return"rs+";case Ft|Dt|Rt:return"w";case Ft|Dt|Rt|Pt:return"wx";case Ft|Dt|Ot:return"w+";case Ft|Dt|Ot|Pt:return"wx+";case Nt|Dt|Rt:return"a";case Nt|Dt|Rt|Pt:return"ax";case Nt|Dt|Ot:return"a+";case Nt|Dt|Ot|Pt:return"ax+";default:throw new Error("Invalid flag number: "+e)}}(e);if(!Lr.includes(e))throw new Error("Invalid flag string: "+e);return e}function Nr(e){let t=0;return t<<=1,t+=+Br(e),t<<=1,t+=+Ur(e),t<<=1,t}function Br(e){return-1!==e.indexOf("r")||-1!==e.indexOf("+")}function Ur(e){return-1!==e.indexOf("w")||-1!==e.indexOf("a")||-1!==e.indexOf("+")}function jr(e){return-1!==e.indexOf("w")}function Vr(e){return-1!==e.indexOf("a")}function Gr(e){return-1!==e.indexOf("x")}class zr{constructor(e,t){this.fs=e,this.path=t}async[Symbol.asyncDispose](){await this.close()}[Symbol.dispose](){this.closeSync()}datasync(){return this.sync()}datasyncSync(){return this.syncSync()}}class Wr extends zr{constructor(e,t,r,n,i=new Uint8Array(new ArrayBuffer(0,e.metadata().noResizableBuffers?{}:{maxByteLength:mr}))){if(super(e,t),this.flag=r,this.stats=n,this._buffer=i,this._position=0,this.dirty=!1,this.closed=!1,this.stats.size!=i.byteLength){if(Br(this.flag))throw new Error(`Size mismatch: buffer length ${i.byteLength}, stats size ${this.stats.size}`);this.dirty=!0}}get buffer(){return this._buffer}get position(){return Vr(this.flag)?this.stats.size:this._position}set position(e){this._position=e}async sync(){if(this.closed)throw bt.With("EBADF",this.path,"File.sync");this.dirty&&(await this.fs.sync(this.path,this._buffer,this.stats),this.dirty=!1)}syncSync(){if(this.closed)throw bt.With("EBADF",this.path,"File.sync");this.dirty&&(this.fs.syncSync(this.path,this._buffer,this.stats),this.dirty=!1)}async close(){if(this.closed)throw bt.With("EBADF",this.path,"File.close");await this.sync(),this.dispose()}closeSync(){if(this.closed)throw bt.With("EBADF",this.path,"File.close");this.syncSync(),this.dispose()}dispose(e){if(this.closed)throw bt.With("EBADF",this.path,"File.dispose");if(this.dirty&&!e)throw bt.With("EBUSY",this.path,"File.dispose");delete this._buffer,delete this.stats,this.closed=!0}stat(){if(this.closed)throw bt.With("EBADF",this.path,"File.stat");return Promise.resolve(new Rr(this.stats))}statSync(){if(this.closed)throw bt.With("EBADF",this.path,"File.stat");return new Rr(this.stats)}_truncate(e){if(this.closed)throw bt.With("EBADF",this.path,"File.truncate");if(this.dirty=!0,!Ur(this.flag))throw new bt(dt.EPERM,"File not opened with a writeable mode.");if(this.stats.mtimeMs=Date.now(),e>this._buffer.length){const t=new Uint8Array(e-this._buffer.length);this._write(t,0,t.length,this._buffer.length)}else this.stats.size=e,this._buffer=e?this._buffer.slice(0,e):new Uint8Array}async truncate(e){this._truncate(e),Ir.syncImmediately&&await this.sync()}truncateSync(e){this._truncate(e),Ir.syncImmediately&&this.syncSync()}_write(e,t=0,r=this.stats.size,n=this.position){if(this.closed)throw bt.With("EBADF",this.path,"File.write");if(!Ur(this.flag))throw new bt(dt.EPERM,"File not opened with a writeable mode.");this.dirty=!0;const i=n+r,s=e.slice(t,t+r);if(i>this.stats.size&&(this.stats.size=i,i>this._buffer.byteLength)){const{buffer:e}=this._buffer;if("resizable"in e&&e.resizable&&e.maxByteLength<=i)e.resize(i);else if("growable"in e&&e.growable&&e.maxByteLength<=i)e.grow(i);else if(Ir.unsafeBufferReplace)this._buffer=s;else{const e=new Uint8Array(new ArrayBuffer(i,this.fs.metadata().noResizableBuffers?{}:{maxByteLength:mr}));e.set(this._buffer),this._buffer=e}}return this._buffer.set(s,n),this.stats.mtimeMs=Date.now(),this.position=n+s.byteLength,s.byteLength}async write(e,t,r,n){const i=this._write(e,t,r,n);return Ir.syncImmediately&&await this.sync(),i}writeSync(e,t=0,r=this.stats.size,n=this.position){const i=this._write(e,t,r,n);return Ir.syncImmediately&&this.syncSync(),i}_read(e,t=0,r=this.stats.size,n){if(this.closed)throw bt.With("EBADF",this.path,"File.read");if(!Br(this.flag))throw new bt(dt.EPERM,"File not opened with a readable mode.");Ir.updateOnRead&&(this.dirty=!0),this.stats.atimeMs=Date.now(),null!=n||(n=this.position);let i=n+r;i>this.stats.size&&(i=n+Math.max(this.stats.size-n,0)),this._position=i;const s=i-n;return 0==s||new Uint8Array(e.buffer,t,r).set(this._buffer.slice(n,i)),s}async read(e,t,r,n){const i=this._read(e,t,r,n);return Ir.syncImmediately&&await this.sync(),{bytesRead:i,buffer:e}}readSync(e,t,r,n){const i=this._read(e,t,r,n);return Ir.syncImmediately&&this.syncSync(),i}async chmod(e){if(this.closed)throw bt.With("EBADF",this.path,"File.chmod");this.dirty=!0,this.stats.mode=this.stats.mode&(e>$t?~$t:$t)|e,(Ir.syncImmediately||e>$t)&&await this.sync()}chmodSync(e){if(this.closed)throw bt.With("EBADF",this.path,"File.chmod");this.dirty=!0,this.stats.mode=this.stats.mode&(e>$t?~$t:$t)|e,(Ir.syncImmediately||e>$t)&&this.syncSync()}async chown(e,t){if(this.closed)throw bt.With("EBADF",this.path,"File.chown");this.dirty=!0,Mr(this.stats,e,t),Ir.syncImmediately&&await this.sync()}chownSync(e,t){if(this.closed)throw bt.With("EBADF",this.path,"File.chown");this.dirty=!0,Mr(this.stats,e,t),Ir.syncImmediately&&this.syncSync()}async utimes(e,t){if(this.closed)throw bt.With("EBADF",this.path,"File.utimes");this.dirty=!0,this.stats.atime=e,this.stats.mtime=t,Ir.syncImmediately&&await this.sync()}utimesSync(e,t){if(this.closed)throw bt.With("EBADF",this.path,"File.utimes");this.dirty=!0,this.stats.atime=e,this.stats.mtime=t,Ir.syncImmediately&&this.syncSync()}}class qr extends Wr{sync(){return Promise.resolve()}syncSync(){}close(){return Promise.resolve()}closeSync(){}}class $r{metadata(){var e;return{name:this.constructor.name.toLowerCase(),readonly:!1,totalSpace:0,freeSpace:0,noResizableBuffers:!1,noAsyncCache:null!==(e=this._disableSync)&&void 0!==e&&e,type:525687744115}}constructor(...e){}async ready(){}async exists(e){try{return await this.stat(e),!0}catch(e){return"ENOENT"!=e.code}}existsSync(e){try{return this.statSync(e),!0}catch(e){return"ENOENT"!=e.code}}}var Hr=__webpack_require__(228);Symbol.toStringTag,Symbol.iterator;const Xr=Intl.NumberFormat("en",{notation:"compact"});function Yr(e){return e.at(0).toUpperCase()+e.slice(1)}Xr.format.bind(Xr);const Kr=["int8","uint8","int16","uint16","int32","uint32","int64","uint64","float32","float64"],Zr=[...Kr,...Kr.map((e=>Yr(e))),"char"],Jr=/^(u?int|float)(8|16|32|64)$/i;function Qr(e){return"char"==e?"uint8":e.toLowerCase()}function en(e){return Jr.test(e.toString())}function tn(e){return"char"==e||Jr.test(e.toString().toLowerCase())}function rn(e){const t=Symbol.metadata||Object.getOwnPropertySymbols(e).find((e=>"Symbol.metadata"==e.description));var r;if(r=e,Symbol?.metadata&&(Symbol.metadata in r||Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)})),!t)throw new ReferenceError("Could not get a reference to Symbol.metadata");return t}function nn(e){return"function"==typeof e&&rn(e)in e&&function(e){return null!=e&&"object"==typeof e&&Symbol.struct_metadata in e}(e[rn(e)])}function sn(e){return null!=e&&"object"==typeof e&&nn(e.constructor)}function an(e){if(!sn(e))throw new TypeError(("function"==typeof e?e.name:"object"==typeof e&&e?e.constructor.name:e)+" is not a struct instance")}function on(e){if("string"==typeof e)return function(e){if(!tn(e))throw new TypeError("Not a valid primitive type: "+e)}(e),+Qr(e).match(Jr)[2]/8;!function(e){if(!function(e){return sn(e)||nn(e)}(e))throw new TypeError(("function"==typeof e?e.name:"object"==typeof e&&e?e.constructor.name:e)+" is not a struct")}(e);const t=nn(e)?e:e.constructor;return t[rn(t)][Symbol.struct_metadata].size}function cn(e={}){return function(t,r){r.metadata??={},r.metadata[Symbol.struct_init]||=[];let n=0;const i=new Map;for(const t of r.metadata[Symbol.struct_init]){const{name:r,type:o,length:c}=t;if(!tn(o)&&!nn(o))throw new TypeError("Not a valid type: "+o);i.set(r,{offset:n,type:tn(o)?Qr(o):o,length:c}),n+=on(o)*(c||1),s=n,a=e.align||1,n=Math.ceil(s/a)*a}var s,a;return r.metadata[Symbol.struct_metadata]={options:e,members:i,size:n},t}}function un(e,t){return function(r,n){let i=n.name;if("symbol"==typeof i&&(console.warn("Symbol used for struct member name will be coerced to string: "+i.toString()),i=i.toString()),!i)throw new ReferenceError("Invalid name for struct member");return n.metadata??={},n.metadata[Symbol.struct_init]||=[],n.metadata[Symbol.struct_init].push({name:i,type:e,length:t}),r}}function ln(e){an(e);const{options:t,members:r}=e.constructor[rn(e.constructor)][Symbol.struct_metadata],n=new Uint8Array(on(e)),i=new DataView(n.buffer);for(const[s,{type:a,length:o,offset:c}]of r)for(let r=0;r<(o||1);r++){const u=c+on(a)*r;let l=o>0?e[s][r]:e[s];if("string"==typeof l&&(l=l.charCodeAt(0)),!en(a)){n.set(l?ln(l):new Uint8Array(on(a)),u);continue}const h="set"+Yr(a);"setInt64"!=h?"setUint64"!=h?i[h](u,Number(l),!t.bigEndian):i.setBigUint64(u,BigInt(l),!t.bigEndian):i.setBigInt64(u,BigInt(l),!t.bigEndian)}return n}function hn(e,t){an(e);const{options:r,members:n}=e.constructor[rn(e.constructor)][Symbol.struct_metadata],i=t instanceof Uint8Array?t:new Uint8Array("buffer"in t?t.buffer:t),s=new DataView(i.buffer,i.byteOffset,i.byteLength);for(const[t,{type:a,offset:o,length:c}]of n)for(let n=0;n<(c||1);n++){let u=c>0?e[t]:e;const l=c>0?n:t,h=o+on(a)*n;if("string"==typeof e[t]){e[t]=e[t].slice(0,n)+String.fromCharCode(s.getUint8(h))+e[t].slice(n+1);continue}if(!en(a)){if(null===u[l]||void 0===u[l])continue;hn(u[l],new Uint8Array(i.slice(h,h+on(a))));continue}c>0&&(u||=[]);const f="get"+Yr(a);u[l]="getInt64"!=f?"getUint64"!=f?s[f](h,!r.bigEndian):s.getBigUint64(h,!r.bigEndian):s.getBigInt64(h,!r.bigEndian)}}Symbol.struct_init||=Symbol("struct_init"),Symbol.struct_metadata||=Symbol("struct_metadata"),Symbol.struct_init,Symbol.struct_metadata,Symbol.metadata??=Symbol.for("Symbol.metadata");const fn=Object.fromEntries(Zr.map((e=>{return[e,(t=e,function(e,r){return"number"==typeof e?un(t,e):un(t)(e,r)})];var t}))),dn=new TextEncoder;function pn(e){if("string"!=typeof e)throw new bt(dt.EINVAL,"Can not encode a non-string");return dn.encode(e)}const gn=new TextDecoder;function mn(e){if(!(e instanceof Uint8Array))throw new bt(dt.EINVAL,"Can not decode a non-Uint8Array");return gn.decode(e)}function yn(e){return JSON.parse(mn(e),((e,t)=>""==e?t:BigInt(t)))}function bn(e){return pn(JSON.stringify(e,((e,t)=>""==e?t:t.toString())))}function vn(e,t){if("number"==typeof e)return e;if("string"==typeof e){const t=parseInt(e,8);if(!isNaN(t))return t}if("number"==typeof t)return t;throw new bt(dt.EINVAL,"Invalid mode: "+(null==e?void 0:e.toString()))}function wn(e){if(e instanceof Date)return e;try{return new Date(e)}catch{throw new bt(dt.EINVAL,"Invalid time.")}}function Sn(e){if((e=e.toString()).includes("\0"))throw new bt(dt.EINVAL,"Path can not contain null character");if(0==e.length)throw new bt(dt.EINVAL,"Path can not be empty");return vr(e.replaceAll(/[/\\]+/g,"/"))}function En(e,t="utf8",r,n=0){return"object"!=typeof e||null===e?{encoding:"string"==typeof e?e:null!=t?t:null,flag:r,mode:n}:{encoding:"string"==typeof(null==e?void 0:e.encoding)?e.encoding:null!=t?t:null,flag:"string"==typeof(null==e?void 0:e.flag)?e.flag:r,mode:vn("mode"in e?null==e?void 0:e.mode:null,n)}}function xn(){try{return crypto.getRandomValues(new BigUint64Array(1))[0]}catch{return BigInt("0x"+function(e=1){let t="";for(let r=0;r<e;r++)t+=Math.floor(16*Math.random()).toString(16);return t}(16))}}var In=function(e,t,r,n,i,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?n.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f=!1,d=r.length-1;d>=0;d--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[d])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(h.get=o),(o=a(m.set))&&(h.set=o),(o=a(m.init))&&i.unshift(o)}else(o=a(m))&&("field"===c?i.unshift(o):h[u]=o)}l&&Object.defineProperty(l,n.name,h),f=!0},_n=function(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0};const Tn=BigInt(0);let kn=(()=>{var e,t,r,n,i,s,a,o,c,u,l;let h,f,d,p,g,m,y,b,v,w,S,E,x,I=[cn()],_=[],T=[],k=[],A=[],C=[],M=[],R=[],O=[],D=[],P=[],L=[],F=[],N=[],B=[],U=[],j=[],V=[],G=[],z=[],W=[],q=[],$=[],H=[];var X,Y,K=f=class{constructor(e){if(this.data=_n(this,T,void 0),this.size=(_n(this,k),_n(this,A,void 0)),this.mode=(_n(this,C),_n(this,M,void 0)),this.nlink=(_n(this,R),_n(this,O,void 0)),this.uid=(_n(this,D),_n(this,P,void 0)),this.gid=(_n(this,L),_n(this,F,void 0)),this.atimeMs=(_n(this,N),_n(this,B,void 0)),this.birthtimeMs=(_n(this,U),_n(this,j,void 0)),this.mtimeMs=(_n(this,V),_n(this,G,void 0)),this.ctimeMs=(_n(this,z),_n(this,W,void 0)),this.ino=(_n(this,q),_n(this,$,void 0)),_n(this,H),e){const t=on(K),r=t-on("uint64");if(e.byteLength<r)throw new RangeError(`Can not create an inode from a buffer less than ${r} bytes`);if(e.byteLength<t){const r=new Uint8Array(t),n=ArrayBuffer.isView(e)?e.buffer:e;r.set(new Uint8Array(n)),new DataView(r.buffer).setBigUint64(t-1,xn()),e=r}return void hn(this,e)}this.ino=xn(),this.data=xn(),this.nlink=1,this.size=4096;const t=Date.now();this.atimeMs=t,this.mtimeMs=t,this.ctimeMs=t,this.birthtimeMs=t}toStats(){return new Rr(this)}update(e){let t=!1;return this.size!==e.size&&(this.size=e.size,t=!0),this.mode!==e.mode&&(this.mode=e.mode,t=!0),this.nlink!==e.nlink&&(this.nlink=e.nlink,t=!0),this.uid!==e.uid&&(this.uid=e.uid,t=!0),this.gid!==e.gid&&(this.gid=e.gid,t=!0),this.atimeMs!==e.atimeMs&&(this.atimeMs=e.atimeMs,t=!0),this.mtimeMs!==e.mtimeMs&&(this.mtimeMs=e.mtimeMs,t=!0),this.ctimeMs!==e.ctimeMs&&(this.ctimeMs=e.ctimeMs,t=!0),t}};return X=f,"symbol"==typeof(Y="Inode")&&(Y=Y.description?"[".concat(Y.description,"]"):""),Object.defineProperty(X,"name",{configurable:!0,value:Y}),(()=>{const X="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;d=[(e=fn).uint64.bind(e)],p=[(t=fn).uint32.bind(t)],g=[(r=fn).uint16.bind(r)],m=[(n=fn).uint32.bind(n)],y=[(i=fn).uint32.bind(i)],b=[(s=fn).uint32.bind(s)],v=[(a=fn).float64.bind(a)],w=[(o=fn).float64.bind(o)],S=[(c=fn).float64.bind(c)],E=[(u=fn).float64.bind(u)],x=[(l=fn).uint64.bind(l)],In(null,null,d,{kind:"field",name:"data",static:!1,private:!1,access:{has:e=>"data"in e,get:e=>e.data,set:(e,t)=>{e.data=t}},metadata:X},T,k),In(null,null,p,{kind:"field",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:X},A,C),In(null,null,g,{kind:"field",name:"mode",static:!1,private:!1,access:{has:e=>"mode"in e,get:e=>e.mode,set:(e,t)=>{e.mode=t}},metadata:X},M,R),In(null,null,m,{kind:"field",name:"nlink",static:!1,private:!1,access:{has:e=>"nlink"in e,get:e=>e.nlink,set:(e,t)=>{e.nlink=t}},metadata:X},O,D),In(null,null,y,{kind:"field",name:"uid",static:!1,private:!1,access:{has:e=>"uid"in e,get:e=>e.uid,set:(e,t)=>{e.uid=t}},metadata:X},P,L),In(null,null,b,{kind:"field",name:"gid",static:!1,private:!1,access:{has:e=>"gid"in e,get:e=>e.gid,set:(e,t)=>{e.gid=t}},metadata:X},F,N),In(null,null,v,{kind:"field",name:"atimeMs",static:!1,private:!1,access:{has:e=>"atimeMs"in e,get:e=>e.atimeMs,set:(e,t)=>{e.atimeMs=t}},metadata:X},B,U),In(null,null,w,{kind:"field",name:"birthtimeMs",static:!1,private:!1,access:{has:e=>"birthtimeMs"in e,get:e=>e.birthtimeMs,set:(e,t)=>{e.birthtimeMs=t}},metadata:X},j,V),In(null,null,S,{kind:"field",name:"mtimeMs",static:!1,private:!1,access:{has:e=>"mtimeMs"in e,get:e=>e.mtimeMs,set:(e,t)=>{e.mtimeMs=t}},metadata:X},G,z),In(null,null,E,{kind:"field",name:"ctimeMs",static:!1,private:!1,access:{has:e=>"ctimeMs"in e,get:e=>e.ctimeMs,set:(e,t)=>{e.ctimeMs=t}},metadata:X},W,q),In(null,null,x,{kind:"field",name:"ino",static:!1,private:!1,access:{has:e=>"ino"in e,get:e=>e.ino,set:(e,t)=>{e.ino=t}},metadata:X},$,H),In(null,h={value:f},I,{kind:"class",name:f.name,metadata:X},null,_),K=f=h.value,X&&Object.defineProperty(f,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:X}),_n(f,_)})(),K=f})();var An=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},Cn=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,(function(t){return r(t),e()}))}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class Mn extends $r{async ready(){this._initialized||(await this.checkRoot(),this._initialized=!0)}constructor(e){super(),this.store=e,this._initialized=!1}metadata(){return{...super.metadata(),name:this.store.name}}async empty(){await this.store.clear(),await this.checkRoot()}emptySync(){this.store.clearSync(),this.checkRootSync()}async rename(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=An(r,this.store.transaction(),!0),i=xr(e),s=xr(t),a=await this.findInode(n,i.dir,"rename"),o=yn(await this.get(n,a.data,i.dir,"rename"));if(!o[i.base])throw bt.With("ENOENT",e,"rename");const c=o[i.base];if(delete o[i.base],0===(s.dir+"/").indexOf(e+"/"))throw new bt(dt.EBUSY,i.dir);const u=s.dir==i.dir,l=u?a:await this.findInode(n,s.dir,"rename"),h=u?o:yn(await this.get(n,l.data,s.dir,"rename"));if(h[s.base]){const e=new kn(await this.get(n,h[s.base],t,"rename"));if(!e.toStats().isFile())throw bt.With("EPERM",t,"rename");await n.remove(e.data),await n.remove(h[s.base])}h[s.base]=c,await n.set(a.data,bn(o)),await n.set(l.data,bn(h)),await n.commit()}catch(e){r.error=e,r.hasError=!0}finally{const e=Cn(r);e&&await e}}renameSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=An(r,this.store.transaction(),!1),i=xr(e),s=xr(t),a=this.findInodeSync(n,i.dir,"rename"),o=yn(this.getSync(n,a.data,i.dir,"rename"));if(!o[i.base])throw bt.With("ENOENT",e,"rename");const c=o[i.base];if(delete o[i.base],0==(s.dir+"/").indexOf(e+"/"))throw new bt(dt.EBUSY,i.dir);const u=s.dir===i.dir,l=u?a:this.findInodeSync(n,s.dir,"rename"),h=u?o:yn(this.getSync(n,l.data,s.dir,"rename"));if(h[s.base]){const e=new kn(this.getSync(n,h[s.base],t,"rename"));if(!e.toStats().isFile())throw bt.With("EPERM",t,"rename");n.removeSync(e.data),n.removeSync(h[s.base])}h[s.base]=c,n.setSync(a.data,bn(o)),n.setSync(l.data,bn(h)),n.commitSync()}catch(e){r.error=e,r.hasError=!0}finally{Cn(r)}}async stat(e){const t={stack:[],error:void 0,hasError:!1};try{const r=An(t,this.store.transaction(),!0);return(await this.findInode(r,e,"stat")).toStats()}catch(e){t.error=e,t.hasError=!0}finally{const e=Cn(t);e&&await e}}statSync(e){const t={stack:[],error:void 0,hasError:!1};try{const r=An(t,this.store.transaction(),!1);return this.findInodeSync(r,e,"stat").toStats()}catch(e){t.error=e,t.hasError=!0}finally{Cn(t)}}async createFile(e,t,r){const n=await this.commitNew(e,Yt,r,new Uint8Array,"createFile");return new Wr(this,e,t,n.toStats(),new Uint8Array)}createFileSync(e,t,r){const n=this.commitNewSync(e,Yt,r,new Uint8Array,"createFile");return new Wr(this,e,t,n.toStats(),new Uint8Array)}async openFile(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=An(r,this.store.transaction(),!0),i=await this.findInode(n,e,"openFile"),s=await this.get(n,i.data,e,"openFile");return new Wr(this,e,t,i.toStats(),s)}catch(e){r.error=e,r.hasError=!0}finally{const e=Cn(r);e&&await e}}openFileSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=An(r,this.store.transaction(),!1),i=this.findInodeSync(n,e,"openFile"),s=this.getSync(n,i.data,e,"openFile");return new Wr(this,e,t,i.toStats(),s)}catch(e){r.error=e,r.hasError=!0}finally{Cn(r)}}async unlink(e){return this.remove(e,!1,"unlink")}unlinkSync(e){this.removeSync(e,!1,"unlink")}async rmdir(e){if((await this.readdir(e)).length)throw bt.With("ENOTEMPTY",e,"rmdir");await this.remove(e,!0,"rmdir")}rmdirSync(e){if(this.readdirSync(e).length)throw bt.With("ENOTEMPTY",e,"rmdir");this.removeSync(e,!0,"rmdir")}async mkdir(e,t){await this.commitNew(e,Zt,t,pn("{}"),"mkdir")}mkdirSync(e,t){this.commitNewSync(e,Zt,t,pn("{}"),"mkdir")}async readdir(e){const t={stack:[],error:void 0,hasError:!1};try{const r=An(t,this.store.transaction(),!0),n=await this.findInode(r,e,"readdir");return Object.keys(yn(await this.get(r,n.data,e,"readdir")))}catch(e){t.error=e,t.hasError=!0}finally{const e=Cn(t);e&&await e}}readdirSync(e){const t={stack:[],error:void 0,hasError:!1};try{const r=An(t,this.store.transaction(),!1),n=this.findInodeSync(r,e,"readdir");return Object.keys(yn(this.getSync(r,n.data,e,"readdir")))}catch(e){t.error=e,t.hasError=!0}finally{Cn(t)}}async sync(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=An(n,this.store.transaction(),!0),s=await this._findInode(i,e,"sync"),a=new kn(await this.get(i,s,e,"sync")),o=a.update(r);await i.set(a.data,t),o&&await i.set(s,ln(a)),await i.commit()}catch(e){n.error=e,n.hasError=!0}finally{const e=Cn(n);e&&await e}}syncSync(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=An(n,this.store.transaction(),!1),s=this._findInodeSync(i,e,"sync"),a=new kn(this.getSync(i,s,e,"sync")),o=a.update(r);i.setSync(a.data,t),o&&i.setSync(s,ln(a)),i.commitSync()}catch(e){n.error=e,n.hasError=!0}finally{Cn(n)}}async link(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=An(r,this.store.transaction(),!0),i=Sr(t),s=await this.findInode(n,i,"link"),a=yn(await this.get(n,s.data,i,"link")),o=await this._findInode(n,e,"link"),c=new kn(await this.get(n,o,e,"link"));c.nlink++,a[Er(t)]=o,n.setSync(o,ln(c)),n.setSync(s.data,bn(a)),n.commitSync()}catch(e){r.error=e,r.hasError=!0}finally{const e=Cn(r);e&&await e}}linkSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=An(r,this.store.transaction(),!1),i=Sr(t),s=this.findInodeSync(n,i,"link"),a=yn(this.getSync(n,s.data,i,"link")),o=this._findInodeSync(n,e,"link"),c=new kn(this.getSync(n,o,e,"link"));c.nlink++,a[Er(t)]=o,n.setSync(o,ln(c)),n.setSync(s.data,bn(a)),n.commitSync()}catch(e){r.error=e,r.hasError=!0}finally{Cn(r)}}async checkRoot(){const e={stack:[],error:void 0,hasError:!1};try{const t=An(e,this.store.transaction(),!0);if(await t.get(Tn))return;const r=new kn;r.ino=Tn,r.mode=511|Zt,await t.set(r.data,pn("{}")),await t.set(Tn,ln(r)),await t.commit()}catch(t){e.error=t,e.hasError=!0}finally{const t=Cn(e);t&&await t}}checkRootSync(){const e={stack:[],error:void 0,hasError:!1};try{const t=An(e,this.store.transaction(),!1);if(t.getSync(Tn))return;const r=new kn;r.ino=Tn,r.mode=511|Zt,t.setSync(r.data,pn("{}")),t.setSync(Tn,ln(r)),t.commitSync()}catch(t){e.error=t,e.hasError=!0}finally{Cn(e)}}async _findInode(e,t,r,n=new Set){if(n.has(t))throw new bt(dt.EIO,"Infinite loop detected while finding inode",t);if(n.add(t),"/"==t)return Tn;const{dir:i,base:s}=xr(t),a="/"==i?new kn(await this.get(e,Tn,i,r)):await this.findInode(e,i,r,n),o=yn(await this.get(e,a.data,i,r));if(!(s in o))throw bt.With("ENOENT",vr(i,s),r);return o[s]}_findInodeSync(e,t,r,n=new Set){if(n.has(t))throw new bt(dt.EIO,"Infinite loop detected while finding inode",t);if(n.add(t),"/"==t)return Tn;const{dir:i,base:s}=xr(t),a="/"==i?new kn(this.getSync(e,Tn,i,r)):this.findInodeSync(e,i,r,n),o=yn(this.getSync(e,a.data,i,r));if(!(s in o))throw bt.With("ENOENT",vr(i,s),r);return o[s]}async findInode(e,t,r,n=new Set){const i=await this._findInode(e,t,r,n);return new kn(await this.get(e,i,t,r))}findInodeSync(e,t,r,n=new Set){const i=this._findInodeSync(e,t,r,n);return new kn(this.getSync(e,i,t,r))}async get(e,t,r,n){const i=await e.get(t);if(!i)throw bt.With("ENOENT",r,n);return i}getSync(e,t,r,n){const i=e.getSync(t);if(!i)throw bt.With("ENOENT",r,n);return i}async allocNew(e,t,r){for(let t=0;t<5;t++){const t=xn();if(!await e.get(t))return t}throw new bt(dt.ENOSPC,"No IDs available",t,r)}allocNewSync(e,t,r){for(let t=0;t<5;t++){const t=xn();if(!e.getSync(t))return t}throw new bt(dt.ENOSPC,"No IDs available",t,r)}async commitNew(e,t,r,n,i){const s={stack:[],error:void 0,hasError:!1};try{if("/"==e)throw bt.With("EEXIST",e,i);const a=An(s,this.store.transaction(),!0),{dir:o,base:c}=xr(e),u=await this.findInode(a,o,i),l=yn(await this.get(a,u.data,o,i));if(l[c])throw bt.With("EEXIST",e,i);const h=new kn;return h.ino=await this.allocNew(a,e,i),h.data=await this.allocNew(a,e,i),h.mode=r|t,h.uid=u.mode&er?u.uid:St.uid,h.gid=u.mode&tr?u.gid:St.gid,h.size=n.length,await a.set(h.ino,ln(h)),await a.set(h.data,n),l[c]=h.ino,await a.set(u.data,bn(l)),await a.commit(),h}catch(e){s.error=e,s.hasError=!0}finally{const e=Cn(s);e&&await e}}commitNewSync(e,t,r,n,i){const s={stack:[],error:void 0,hasError:!1};try{if("/"==e)throw bt.With("EEXIST",e,i);const a=An(s,this.store.transaction(),!1),{dir:o,base:c}=xr(e),u=this.findInodeSync(a,o,i),l=yn(this.getSync(a,u.data,o,i));if(l[c])throw bt.With("EEXIST",e,i);const h=new kn;return h.ino=this.allocNewSync(a,e,i),h.data=this.allocNewSync(a,e,i),h.size=n.length,h.mode=r|t,h.uid=u.mode&er?u.uid:St.uid,h.gid=u.mode&tr?u.gid:St.gid,a.setSync(h.ino,ln(h)),a.setSync(h.data,n),l[c]=h.ino,a.setSync(u.data,bn(l)),a.commitSync(),h}catch(e){s.error=e,s.hasError=!0}finally{Cn(s)}}async remove(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=An(n,this.store.transaction(),!0),{dir:s,base:a}=xr(e),o=await this.findInode(i,s,r),c=yn(await this.get(i,o.data,s,r));if(!c[a])throw bt.With("ENOENT",e,"remove");const u=c[a],l=new kn(await this.get(i,u,e,r));if(delete c[a],!t&&l.toStats().isDirectory())throw bt.With("EISDIR",e,"remove");await i.set(o.data,bn(c)),--l.nlink<1&&(await i.remove(l.data),await i.remove(u)),await i.commit()}catch(e){n.error=e,n.hasError=!0}finally{const e=Cn(n);e&&await e}}removeSync(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=An(n,this.store.transaction(),!1),{dir:s,base:a}=xr(e),o=this.findInodeSync(i,s,r),c=yn(this.getSync(i,o.data,s,r)),u=c[a];if(!u)throw bt.With("ENOENT",e,"remove");const l=new kn(this.getSync(i,u,e,r));if(delete c[a],!t&&l.toStats().isDirectory())throw bt.With("EISDIR",e,"remove");i.setSync(o.data,bn(c)),--l.nlink<1&&(i.removeSync(l.data),i.removeSync(u)),i.commitSync()}catch(e){n.error=e,n.hasError=!0}finally{Cn(n)}}}class Rn{constructor(e){this.store=e,this.done=!1}async[Symbol.asyncDispose](){this.done||await this.abort()}[Symbol.dispose](){this.done||this.abortSync()}}class On extends Rn{async keys(){return this.keysSync()}async get(e){return this.getSync(e)}async set(e,t){return this.setSync(e,t)}async remove(e){return this.removeSync(e)}async commit(){return this.commitSync()}async abort(){return this.abortSync()}}class Dn extends On{constructor(){super(...arguments),this.originalData=new Map,this.modifiedKeys=new Set}keysSync(){return this.store.keys()}getSync(e){const t=this.store.get(e);return this.stashOldValue(e,t),t}setSync(e,t){return this.markModified(e),this.store.set(e,t)}removeSync(e){this.markModified(e),this.store.delete(e)}commitSync(){this.done=!0}abortSync(){if(this.done){for(const e of this.modifiedKeys){const t=this.originalData.get(e);t?this.store.set(e,t):this.store.delete(e)}this.done=!0}}stashOldValue(e,t){this.originalData.has(e)||this.originalData.set(e,t)}markModified(e){this.modifiedKeys.add(e),this.originalData.has(e)||this.originalData.set(e,this.store.get(e))}}class Pn extends Map{constructor(e="tmp"){super(),this.name=e}async sync(){}clearSync(){this.clear()}transaction(){return new Dn(this)}}const Ln={name:"InMemory",options:{name:{type:"string",required:!1}},create({name:e}){const t=new Mn(new Pn(e));return t.checkRootSync(),t}};var Fn=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},Nn=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,(function(t){return r(t),e()}))}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class Bn extends zr{constructor(e,t,r){super(e,t),this.fs=e,this.device=r,this.position=0}get driver(){return this.device.driver}get stats(){return{mode:438|(this.driver.isBuffered?Kt:Jt)}}async stat(){return Promise.resolve(new Rr(this.stats))}statSync(){return new Rr(this.stats)}readSync(e,t,r,n){return this.driver.read(this,e,t,r,n)}async read(e,t,r){return{bytesRead:this.readSync(e,t,r),buffer:e}}writeSync(e,t=0,r=e.length,n){return this.driver.write(this,e,t,r,n)}async write(e,t,r,n){return this.writeSync(e,t,r,n)}async truncate(e){const{size:t}=await this.stat(),r=new Uint8Array(e>t?e-t:0);await this.write(r,0,r.length,e>t?t:e)}truncateSync(e){const{size:t}=this.statSync(),r=new Uint8Array(e>t?e-t:0);this.writeSync(r,0,r.length,e>t?t:e)}closeSync(){var e,t;null===(t=(e=this.driver).close)||void 0===t||t.call(e,this)}close(){return this.closeSync(),Promise.resolve()}syncSync(){var e,t;null===(t=(e=this.driver).sync)||void 0===t||t.call(e,this)}sync(){return this.syncSync(),Promise.resolve()}chown(){throw bt.With("ENOTSUP",this.path,"chown")}chownSync(){throw bt.With("ENOTSUP",this.path,"chown")}chmod(){throw bt.With("ENOTSUP",this.path,"chmod")}chmodSync(){throw bt.With("ENOTSUP",this.path,"chmod")}utimes(){throw bt.With("ENOTSUP",this.path,"utimes")}utimesSync(){throw bt.With("ENOTSUP",this.path,"utimes")}_setType(){throw bt.With("ENOTSUP",this.path,"_setType")}_setTypeSync(){throw bt.With("ENOTSUP",this.path,"_setType")}}class Un extends Mn{createDevice(e,t,r={}){var n;if(this.existsSync(e))throw bt.With("EEXIST",e,"mknod");let i=BigInt(1);for(;this.store.has(i);)i++;const s={driver:t,ino:i,data:{},minor:0,major:0,...null===(n=t.init)||void 0===n?void 0:n.call(t,i,r)};return this.devices.set(e,s),s}devicesWithDriver(e,t){if(t&&"string"==typeof e)throw new bt(dt.EINVAL,"Can not fetch devices using only a driver name");const r=[];for(const n of this.devices.values())t&&n.driver!=e||("string"==typeof e?e:e.name)==n.driver.name&&r.push(n);return r}_createDevice(e,t={}){var r;let n=BigInt(1);for(;this.store.has(n);)n++;const i={driver:e,ino:n,data:{},minor:0,major:0,...null===(r=e.init)||void 0===r?void 0:r.call(e,n,t)},s="/"+(i.name||e.name)+(e.singleton?"":this.devicesWithDriver(e).length);if(this.existsSync(s))throw bt.With("EEXIST",s,"mknod");return this.devices.set(s,i),i}addDefaults(){this._createDevice(Vn),this._createDevice(Gn),this._createDevice(zn),this._createDevice(Wn),this._createDevice(qn)}constructor(){super(new Pn("devfs")),this.devices=new Map}async rename(e,t){if(this.devices.has(e))throw bt.With("EPERM",e,"rename");if(this.devices.has(t))throw bt.With("EEXIST",t,"rename");return super.rename(e,t)}renameSync(e,t){if(this.devices.has(e))throw bt.With("EPERM",e,"rename");if(this.devices.has(t))throw bt.With("EEXIST",t,"rename");return super.renameSync(e,t)}async stat(e){if(this.devices.has(e)){const t={stack:[],error:void 0,hasError:!1};try{return Fn(t,await this.openFile(e,"r"),!0).stat()}catch(e){t.error=e,t.hasError=!0}finally{const e=Nn(t);e&&await e}}return super.stat(e)}statSync(e){if(this.devices.has(e)){const t={stack:[],error:void 0,hasError:!1};try{return Fn(t,this.openFileSync(e,"r"),!1).statSync()}catch(e){t.error=e,t.hasError=!0}finally{Nn(t)}}return super.statSync(e)}async openFile(e,t){return this.devices.has(e)?new Bn(this,e,this.devices.get(e)):await super.openFile(e,t)}openFileSync(e,t){return this.devices.has(e)?new Bn(this,e,this.devices.get(e)):super.openFileSync(e,t)}async createFile(e,t,r){if(this.devices.has(e))throw bt.With("EEXIST",e,"createFile");return super.createFile(e,t,r)}createFileSync(e,t,r){if(this.devices.has(e))throw bt.With("EEXIST",e,"createFile");return super.createFileSync(e,t,r)}async unlink(e){if(this.devices.has(e))throw bt.With("EPERM",e,"unlink");return super.unlink(e)}unlinkSync(e){if(this.devices.has(e))throw bt.With("EPERM",e,"unlink");return super.unlinkSync(e)}async rmdir(e){return super.rmdir(e)}rmdirSync(e){return super.rmdirSync(e)}async mkdir(e,t){if(this.devices.has(e))throw bt.With("EEXIST",e,"mkdir");return super.mkdir(e,t)}mkdirSync(e,t){if(this.devices.has(e))throw bt.With("EEXIST",e,"mkdir");return super.mkdirSync(e,t)}async readdir(e){const t=await super.readdir(e);for(const r of this.devices.keys())Sr(r)==e&&t.push(Er(r));return t}readdirSync(e){const t=super.readdirSync(e);for(const r of this.devices.keys())Sr(r)==e&&t.push(Er(r));return t}async link(e,t){if(this.devices.has(e))throw bt.With("EPERM",e,"rmdir");if(this.devices.has(t))throw bt.With("EEXIST",t,"link");return super.link(e,t)}linkSync(e,t){if(this.devices.has(e))throw bt.With("EPERM",e,"rmdir");if(this.devices.has(t))throw bt.With("EEXIST",t,"link");return super.linkSync(e,t)}async sync(e,t,r){if(this.devices.has(e))throw new bt(dt.EINVAL,"Attempted to sync a device incorrectly (bug)",e,"sync");return super.sync(e,t,r)}syncSync(e,t,r){if(this.devices.has(e))throw new bt(dt.EINVAL,"Attempted to sync a device incorrectly (bug)",e,"sync");return super.syncSync(e,t,r)}}function jn(e,t,r,n){return e.position+=n,n}const Vn={name:"null",singleton:!0,init:()=>({major:1,minor:3}),read:()=>0,write:jn},Gn={name:"zero",singleton:!0,init:()=>({major:1,minor:5}),read(e,t,r=0,n=t.byteLength){const i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(let e=r;e<r+n;e++)i[e]=0;return e.position+=n,n},write:jn},zn={name:"full",singleton:!0,init:()=>({major:1,minor:7}),read(e,t,r=0,n=t.byteLength){const i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(let e=r;e<r+n;e++)i[e]=0;return e.position+=n,n},write(e){throw bt.With("ENOSPC",e.path,"write")}},Wn={name:"random",singleton:!0,init:()=>({major:1,minor:8}),read(e,t,r=0,n=t.byteLength){const i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);for(let e=r;e<r+n;e++)i[e]=Math.floor(256*Math.random());return e.position+=n,n},write:jn},qn={name:"console",singleton:!0,init:(e,{output:t=console.log}={})=>({major:5,minor:1,data:{output:t}}),read:()=>0,write(e,t,r,n){const i=mn(t.slice(r,r+n));return e.device.data.output(i),e.position+=n,n}};class $n{constructor(){this.isEnabled=!1,this.sync=new Map,this.async=new Map}has(e){return this.isEnabled&&this.sync.has(e)}get(e){if(this.isEnabled)return this.sync.get(e)}set(e,t){this.isEnabled&&(this.sync.set(e,t),this.async.set(e,Promise.resolve(t)))}hasAsync(e){return this.isEnabled&&this.async.has(e)}getAsync(e){if(this.isEnabled)return this.async.get(e)}setAsync(e,t){this.isEnabled&&(this.async.set(e,t),t.then((t=>this.sync.set(e,t))))}clear(){this.isEnabled&&(this.sync.clear(),this.async.clear())}}const Hn=new $n,Xn=new $n;var Yn=__webpack_require__(8287);function Kn(e,t){return Object.fromEntries(Object.entries(e).map((([e,r])=>[e,"function"==typeof r?r.bind(t):r])))}const Zn=new Map;let Jn=100;function Qn(e){const t=Jn++;return Zn.set(t,e),t}function ei(e){if(!Zn.has(e))throw new bt(dt.EBADF);return Zn.get(e)}const ti=new Map;function ri(e,t){if("/"!==e[0]&&(e="/"+e),e=vr(e),ti.has(e))throw new bt(dt.EINVAL,"Mount point "+e+" is already in use.");ti.set(e,t),Xn.clear()}function ni(e){if("/"!==e[0]&&(e="/"+e),e=vr(e),!ti.has(e))throw new bt(dt.EINVAL,"Mount point "+e+" is already unmounted.");ti.delete(e),Xn.clear()}function ii(e,t){const r=(null==t?void 0:t.root)||"/";e=Sn(wr(r,e));const n=[...ti].sort(((e,t)=>e[0].length>t[0].length?-1:1));for(const[t,a]of n)if(s=e,"/"===(i=t)||i===s||(i.endsWith("/")||(i+="/"),s.startsWith(i)))return""===(e=e.slice(t.length>1?t.length:0))&&(e=r),{fs:a,path:e,mountPoint:t,root:r};var i,s;throw new bt(dt.EIO,"No file system")}function si(e,t){for(const[r,n]of Object.entries(t))e=null==e?void 0:e.replaceAll(r,n);return e}function ai(e,t){"string"==typeof e.stack&&(e.stack=si(e.stack,t));try{e.message=si(e.message,t)}catch{}return e.path&&(e.path=si(e.path,t)),e}function oi(e){"/"in e&&ni("/");for(const[t,r]of Object.entries(e))ri(t,r)}function ci(e,t){const r=e.metadata(),n=r.blockSize||4096;return{type:(t?BigInt:Number)(r.type),bsize:(t?BigInt:Number)(n),ffree:(t?BigInt:Number)(r.freeNodes||mr),files:(t?BigInt:Number)(r.totalNodes||mr),bavail:(t?BigInt:Number)(r.freeSpace/n),bfree:(t?BigInt:Number)(r.freeSpace/n),blocks:(t?BigInt:Number)(r.totalSpace/n)}}function ui(e,t){const r=null==this?void 0:this.credentials;if((null==r?void 0:r.uid)&&(null==r?void 0:r.gid)&&(null==r?void 0:r.euid)&&(null==r?void 0:r.egid))throw new bt(dt.EPERM,"Can not chroot() as non-root user");return t&&this?(this.root+=e,this):function(e,t=structuredClone(St)){const r={root:e,credentials:Et(t)},s=Kn(i,r),a=Kn(n,r);return{...r,fs:{...i,...s,promises:{...n,...a}}}}(wr((null==this?void 0:this.root)||"/",e),r)}ri("/",Ln.create({name:"root"}));class li extends Hr{off(e,t,r,n){return super.off(e,t,r,n)}removeListener(e,t,r,n){return super.removeListener(e,t,r,n)}constructor(e,t){super(),this._context=e,this.path=t}setMaxListeners(){throw bt.With("ENOSYS",this.path,"Watcher.setMaxListeners")}getMaxListeners(){throw bt.With("ENOSYS",this.path,"Watcher.getMaxListeners")}prependListener(){throw bt.With("ENOSYS",this.path,"Watcher.prependListener")}prependOnceListener(){throw bt.With("ENOSYS",this.path,"Watcher.prependOnceListener")}rawListeners(){throw bt.With("ENOSYS",this.path,"Watcher.rawListeners")}ref(){return this}unref(){return this}}class hi extends li{constructor(e,t,r){super(e,t),this.options=r,function(e,t){const r=Sn(e);di.has(r)||di.set(r,new Set),di.get(r).add(t)}(t.toString(),this)}close(){super.emit("close"),function(e,t){const r=Sn(e);di.has(r)&&(di.get(r).delete(t),0===di.get(r).size&&di.delete(r))}(this.path.toString(),this)}[Symbol.dispose](){this.close()}}class fi extends li{constructor(e,t,r){super(e,t),this.options=r,this.start()}onInterval(){try{const r=vi(this.path);e=this.previous,t=r,(e.size!=t.size||+e.atime!=+t.atime||+e.mtime!=+t.mtime||+e.ctime!=+t.ctime||e.mode!=t.mode)&&(this.emit("change",r,this.previous),this.previous=r)}catch(e){this.emit("error",e)}var e,t}start(){const e=this.options.interval||5e3;try{this.previous=vi(this.path)}catch(e){return void this.emit("error",e)}this.intervalId=setInterval(this.onInterval.bind(this),e),this.options.persistent||"object"!=typeof this.intervalId||this.intervalId.unref()}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),this.removeAllListeners()}}const di=new Map;function pi(e,t){var r;if(t=Sn(t),di.has(t))for(const r of di.get(t))r.emit("change",e,Er(t));let n,i=t;for(;i!==n;)if(n=i,i=Sr(i),di.has(i))for(const n of di.get(i)){const s=null===(r=n._context)||void 0===r?void 0:r.root,a=(s&&t.startsWith(s)?t.slice(s.length):t).slice(i.length+("/"==i?0:1));n.emit("change",e,a)}}var gi=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},mi=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,(function(t){return r(t),e()}))}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});function yi(e,t){e=Sn(e),t=Sn(t);const r=ii(e,this),n=ii(t,this);if(Ir.checkAccess&&!vi.call(this,Sr(e)).hasAccess(_t,this))throw bt.With("EACCES",e,"rename");try{if(r===n)return r.fs.renameSync(r.path,n.path),pi("rename",e.toString()),void pi("change",t.toString());Ai.call(this,t,ki(e)),Ei.call(this,e),pi("rename",e.toString())}catch(i){throw ai(i,{[r.path]:e,[n.path]:t})}}function bi(e){e=Sn(e);try{const{fs:t,path:r}=ii(Ji.call(this,e),this);return t.existsSync(r)}catch(e){if(e.errno==dt.ENOENT)return!1;throw e}}function vi(e,t){e=Sn(e);const{fs:r,path:n}=ii(Ji.call(this,e),this);try{const e=r.statSync(n);if(Ir.checkAccess&&!e.hasAccess(It,this))throw bt.With("EACCES",n,"stat");return(null==t?void 0:t.bigint)?new Or(e):e}catch(t){throw ai(t,{[n]:e})}}function wi(e,t){e=Sn(e);const{fs:r,path:n}=ii(e,this);try{const e=r.statSync(n);return(null==t?void 0:t.bigint)?new Or(e):e}catch(t){throw ai(t,{[n]:e})}}function Si(e,t=0){const r={stack:[],error:void 0,hasError:!1};try{const n=gi(r,xi.call(this,e,"r+"),!1);if(t||(t=0),t<0)throw new bt(dt.EINVAL);n.truncateSync(t)}catch(e){r.error=e,r.hasError=!0}finally{mi(r)}}function Ei(e){e=Sn(e);const{fs:t,path:r}=ii(e,this);try{if(Ir.checkAccess&&!(Hn.get(e)||t.statSync(r)).hasAccess(_t,this))throw bt.With("EACCES",r,"unlink");t.unlinkSync(r),pi("rename",e.toString())}catch(t){throw ai(t,{[r]:e})}}function xi(e,t,r,n=!0){e=Sn(e);const i=vn(r,420),s=Fr(t);e=n?Ji.call(this,e):e;const{fs:a,path:o}=ii(e,this);let c;try{c=a.statSync(o)}catch{}if(!c){if(!Ur(s)&&!Vr(s)||"r+"==s)throw bt.With("ENOENT",e,"_open");const t=a.statSync(Sr(o));if(Ir.checkAccess&&!t.hasAccess(_t,this))throw bt.With("EACCES",Sr(e),"_open");if(!t.isDirectory())throw bt.With("ENOTDIR",Sr(e),"_open");return a.createFileSync(o,s,i)}if(Ir.checkAccess&&(!c.hasAccess(i,this)||!c.hasAccess(Nr(s),this)))throw bt.With("EACCES",e,"_open");if(Gr(s))throw bt.With("EEXIST",e,"_open");const u=a.openFileSync(o,s);return jr(s)&&u.truncateSync(0),u}function Ii(e,t,r=xt){return Qn(xi.call(this,e,t,r,!0))}function _i(e,t,r){return Qn(xi.call(this,e,t,r,!1))}function Ti(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=gi(n,xi.call(this,e,t,420,r),!1),s=i.statSync(),a=new Uint8Array(s.size);return i.readSync(a,0,s.size,0),a}catch(e){n.error=e,n.hasError=!0}finally{mi(n)}}function ki(e,t={}){const r=En(t,null,"r",420);if(!Br(Fr(r.flag)))throw new bt(dt.EINVAL,"Flag passed to readFile must allow for reading.");const n=Yn.Buffer.from(Ti.call(this,"number"==typeof e?ei(e).path:e.toString(),r.flag,!0));return r.encoding?n.toString(r.encoding):n}function Ai(e,t,r={}){const n={stack:[],error:void 0,hasError:!1};try{const i=En(r,"utf8","w+",420),s=Fr(i.flag);if(!Ur(s))throw new bt(dt.EINVAL,"Flag passed to writeFile must allow for writing.");if("string"!=typeof t&&!i.encoding)throw new bt(dt.EINVAL,"Encoding not specified");const a="string"==typeof t?Yn.Buffer.from(t,i.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength);if(!a)throw new bt(dt.EINVAL,"Data not specified");gi(n,xi.call(this,"number"==typeof e?ei(e).path:e.toString(),s,i.mode,!0),!1).writeSync(a,0,a.byteLength,0),pi("change",e.toString())}catch(e){n.error=e,n.hasError=!0}finally{mi(n)}}function Ci(e,t,r={}){const n={stack:[],error:void 0,hasError:!1};try{const i=En(r,"utf8","a+",420),s=Fr(i.flag);if(!Vr(s))throw new bt(dt.EINVAL,"Flag passed to appendFile must allow for appending.");if("string"!=typeof t&&!i.encoding)throw new bt(dt.EINVAL,"Encoding not specified");const a="string"==typeof t?Yn.Buffer.from(t,i.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength);gi(n,xi.call(this,"number"==typeof e?ei(e).path:e.toString(),s,i.mode,!0),!1).writeSync(a,0,a.byteLength)}catch(e){n.error=e,n.hasError=!0}finally{mi(n)}}function Mi(e,t){const r=ei(e).statSync();return(null==t?void 0:t.bigint)?new Or(r):r}function Ri(e){ei(e).closeSync(),Zn.delete(e)}function Oi(e,t=0){if(t||(t=0),t<0)throw new bt(dt.EINVAL);ei(e).truncateSync(t)}function Di(e){ei(e).syncSync()}function Pi(e){ei(e).datasyncSync()}function Li(e,t,r,n,i){let s,a,o,c;if("string"==typeof t){c="number"==typeof r?r:null;const e="string"==typeof n?n:"utf8";a=0,s=Yn.Buffer.from(t,e),o=s.byteLength}else s=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),a=r,o=n,c="number"==typeof i?i:null;const u=ei(e);null!=c||(c=u.position);const l=u.writeSync(s,a,o,c);return pi("change",u.path),l}function Fi(e,t,r,n,i){const s=ei(e),a="object"==typeof r?r.offset:r;return"object"==typeof r&&(n=r.length,i=r.position),i=Number(i),isNaN(i)&&(i=s.position),s.readSync(t,a,n,i)}function Ni(e,t,r){ei(e).chownSync(t,r)}function Bi(e,t){const r=vn(t,-1);if(r<0)throw new bt(dt.EINVAL,"Invalid mode.");ei(e).chmodSync(r)}function Ui(e,t,r){ei(e).utimesSync(wn(t),wn(r))}function ji(e){e=Sn(e);const{fs:t,path:r}=ii(Ji.call(this,e),this);try{const n=Hn.get(e)||t.statSync(r);if(!n.isDirectory())throw bt.With("ENOTDIR",r,"rmdir");if(Ir.checkAccess&&!n.hasAccess(_t,this))throw bt.With("EACCES",r,"rmdir");t.rmdirSync(r),pi("rename",e.toString())}catch(t){throw ai(t,{[r]:e})}}function Vi(e,t){var r;const n=vn(null==(t="object"==typeof t?t:{mode:t})?void 0:t.mode,511);e=Ji.call(this,e);const{fs:i,path:s,root:a}=ii(e,this),o={[s]:e};try{if(!(null==t?void 0:t.recursive)){if(Ir.checkAccess&&!i.statSync(Sr(s)).hasAccess(_t,this))throw bt.With("EACCES",Sr(s),"mkdir");return i.mkdirSync(s,n)}const c=[];for(let t=s,r=e;!i.existsSync(t);t=Sr(t),r=Sr(r))c.unshift(t),o[t]=r;for(const e of c){if(Ir.checkAccess&&!i.statSync(Sr(e)).hasAccess(_t,this))throw bt.With("EACCES",Sr(e),"mkdir");i.mkdirSync(e,n),pi("rename",e)}return 1==a.length?c[0]:null===(r=c[0])||void 0===r?void 0:r.slice(a.length)}catch(e){throw ai(e,o)}}function Gi(e,t){t="object"==typeof t?t:{encoding:t},e=Sn(e);const{fs:r,path:n}=ii(Ji.call(this,e),this);let i;try{const t=Hn.get(e)||r.statSync(n);if(Hn.set(e,t),Ir.checkAccess&&!t.hasAccess(It,this))throw bt.With("EACCES",n,"readdir");if(!t.isDirectory())throw bt.With("ENOTDIR",n,"readdir");i=r.readdirSync(n)}catch(t){throw ai(t,{[n]:e})}const s=[];for(const a of i){const i=Hn.get(wr(e,a))||r.statSync(wr(n,a));if(Hn.set(wr(e,a),i),(null==t?void 0:t.withFileTypes)?s.push(new us(a,i)):"buffer"==(null==t?void 0:t.encoding)?s.push(Yn.Buffer.from(a)):s.push(a),i.isDirectory()&&(null==t?void 0:t.recursive))for(const r of Gi.call(this,wr(e,a),{...t,_isIndirect:!0}))r instanceof us?(r.path=wr(a,r.path),s.push(r)):Yn.Buffer.isBuffer(r)?s.push(Yn.Buffer.from(wr(a,mn(r)))):s.push(wr(a,r))}return(null==t?void 0:t._isIndirect)||Hn.clear(),s}function zi(e,t){if(e=Sn(e),Ir.checkAccess&&!vi(Sr(e)).hasAccess(It,this))throw bt.With("EACCES",Sr(e),"link");if(t=Sn(t),Ir.checkAccess&&!vi(Sr(t)).hasAccess(_t,this))throw bt.With("EACCES",Sr(t),"link");const{fs:r,path:n}=ii(e,this),i=ii(t,this);if(r!=i.fs)throw bt.With("EXDEV",t,"link");try{if(Ir.checkAccess&&!r.statSync(n).hasAccess(It,this))throw bt.With("EACCES",n,"link");return r.linkSync(n,i.path)}catch(r){throw ai(r,{[n]:e,[i.path]:t})}}function Wi(e,t,r="file"){if(!["file","dir","junction"].includes(r))throw new bt(dt.EINVAL,"Invalid type: "+r);if(bi.call(this,t))throw bt.With("EEXIST",t.toString(),"symlink");Ai.call(this,t,e.toString()),xi.call(this,t,"r+",420,!1).chmodSync(Xt)}function qi(e,t){const r=Yn.Buffer.from(Ti.call(this,e.toString(),"r",!1)),n="object"==typeof t?null==t?void 0:t.encoding:t;return"buffer"==n?r:r.toString(null!=n?n:"utf-8")}function $i(e,t,r){const n=Ii.call(this,e,"r+");Ni(n,t,r),Ri(n)}function Hi(e,t,r){const n=_i.call(this,e,"r+");Ni(n,t,r),Ri(n)}function Xi(e,t){const r=Ii.call(this,e,"r+");Bi(r,t),Ri(r)}function Yi(e,t){const r=_i.call(this,e,"r+");Bi(r,t),Ri(r)}function Ki(e,t,r){const n=Ii.call(this,e,"r+");Ui(n,t,r),Ri(n)}function Zi(e,t,r){const n=_i.call(this,e,"r+");Ui(n,t,r),Ri(n)}function Ji(e,t){e=Sn(e);const r=((null==this?void 0:this.root)||"")+e;if(Xn.has(r))return Xn.get(r);const{base:n,dir:i}=xr(e),s="/"==i?"/":Xn.get(((null==this?void 0:this.root)||"")+i)||Ji.call(this,i),a=wr(s,n),{fs:o,path:c}=ii(a,this);try{const n=Hn.get(a)||o.statSync(c);if(Hn.set(a,n),!n.isSymbolicLink())return Xn.set(e,a),a;const i=vr(s,qi.call(this,a,t).toString()),u=Xn.get(((null==this?void 0:this.root)||"")+i)||Ji.call(this,i);return Xn.set(r,u),u}catch(t){if("ENOENT"==t.code)return e;throw ai(t,{[c]:a})}}function Qi(e,t=384){if(Ir.checkAccess&&!vi.call(this,e).hasAccess(t,this))throw new bt(dt.EACCES)}function es(e,t){let r;e=Sn(e);try{r=Hn.get(e)||wi.bind(this)(e)}catch(e){if("ENOENT"!=e.code||!(null==t?void 0:t.force))throw e}if(r){switch(Hn.set(e,r),r.mode&$t){case Zt:if(null==t?void 0:t.recursive)for(const r of Gi.call(this,e,{_isIndirect:!0}))es.call(this,wr(e,r),{...t,_isIndirect:!0});ji.call(this,e);break;case Yt:case Xt:case Kt:case Jt:Ei.call(this,e);break;default:throw Hn.clear(),new bt(dt.EPERM,"File type not supported",e,"rm")}(null==t?void 0:t._isIndirect)||Hn.clear()}}function ts(e,t){const r="object"==typeof t?null==t?void 0:t.encoding:t||"utf8",n=`/tmp/${e}${Date.now()}-${Math.random().toString(36).slice(2)}`;return Vi.call(this,n),"buffer"==r?Yn.Buffer.from(n):n}function rs(e,t,r){if(e=Sn(e),t=Sn(t),r&&r&kt&&bi(t))throw new bt(dt.EEXIST,"Destination file already exists.",t,"copyFile");Ai.call(this,t,ki(e)),pi("rename",t.toString())}function ns(e,t,r){const n=ei(e);let i=0;for(const e of t)i+=n.readSync(e,0,e.byteLength,r+i);return i}function is(e,t,r){const n=ei(e);let i=0;for(const e of t)i+=n.writeSync(new Uint8Array(e.buffer),0,e.byteLength,r+i);return i}function ss(e,t){return e=Sn(e),new ls(e,this)}function as(e,t,r){e=Sn(e),t=Sn(t);const n=wi.call(this,e);if((null==r?void 0:r.errorOnExist)&&bi.call(this,t))throw new bt(dt.EEXIST,"Destination file or directory already exists.",t,"cp");switch(n.mode&$t){case Zt:if(!(null==r?void 0:r.recursive))throw new bt(dt.EISDIR,e+" is a directory (not copied)",e,"cp");Vi.call(this,t,{recursive:!0});for(const n of Gi.call(this,e,{withFileTypes:!0}))r.filter&&!r.filter(wr(e,n.name),wr(t,n.name))||as.call(this,wr(e,n.name),wr(t,n.name),r);break;case Yt:case Xt:rs.call(this,e,t);break;default:throw new bt(dt.EPERM,"File type not supported",e,"rm")}(null==r?void 0:r.preserveTimestamps)&&Ki.call(this,t,n.atime,n.mtime)}function os(e,t){e=Sn(e);const{fs:r}=ii(e,this);return ci(r,null==t?void 0:t.bigint)}function cs(e,t={}){e=Array.isArray(e)?e:[e];const{cwd:r="/",withFileTypes:n=!1,exclude:i=()=>!1}=t,s=e.map((e=>(e=e.replace(/([.?+^$(){}|[\]/])/g,"\\$1").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,"."),new RegExp(`^${e}$`)))),a=[];return function e(t){const r=Gi(t,{withFileTypes:n,encoding:"utf8"});for(const o of r){const r=n?o.path:t+"/"+o;i(n?o:r)||(vi(r).isDirectory()&&s.some((e=>e.source.includes(".*")))&&e(r),s.some((e=>e.test(r.replace(/^\/+/g,""))))&&a.push(n?o.path:r.replace(/^\/+/g,"")))}}(r),a}class us{get name(){return Er(this.path)}constructor(e,t){this.path=e,this.stats=t}get parentPath(){return this.path}isFile(){return this.stats.isFile()}isDirectory(){return this.stats.isDirectory()}isBlockDevice(){return this.stats.isBlockDevice()}isCharacterDevice(){return this.stats.isCharacterDevice()}isSymbolicLink(){return this.stats.isSymbolicLink()}isFIFO(){return this.stats.isFIFO()}isSocket(){return this.stats.isSocket()}}class ls{checkClosed(){if(this.closed)throw new bt(dt.EBADF,"Can not use closed Dir")}constructor(e,t){this.path=e,this.context=t,this.closed=!1}close(e){if(this.closed=!0,!e)return Promise.resolve();e()}closeSync(){this.closed=!0}async _read(){var e,t;return this.checkClosed(),null!==(e=this._entries)&&void 0!==e||(this._entries=await Ms.call(this.context,this.path,{withFileTypes:!0})),this._entries.length&&null!==(t=this._entries.shift())&&void 0!==t?t:null}read(e){if(!e)return this._read();this._read().then((t=>e(void 0,t)))}readSync(){var e,t;return this.checkClosed(),null!==(e=this._entries)&&void 0!==e||(this._entries=Gi.call(this.context,this.path,{withFileTypes:!0})),this._entries.length&&null!==(t=this._entries.shift())&&void 0!==t?t:null}async next(){const e=await this._read();return e?{done:!1,value:e}:(await this.close(),{done:!0,value:void 0})}[Symbol.asyncIterator](){return this}[Symbol.asyncDispose](){return Promise.resolve()}}var hs=__webpack_require__(9198);class fs extends hs.Readable{close(e=()=>null){try{super.destroy(),super.emit("close"),e(null)}catch(t){e(new bt(dt.EIO,t.toString()))}}wrap(e){return super.wrap(e),this}}class ds extends hs.Writable{close(e=()=>null){try{super.destroy(),super.emit("close"),e(null)}catch(t){e(new bt(dt.EIO,t.toString()))}}}var ps=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},gs=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,(function(t){return r(t),e()}))}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class ms{constructor(e,t){this.context=t;const r="number"!=typeof e;this.fd=r?Qn(e):e,this.file=r?e:ei(e)}async chown(e,t){await this.file.chown(e,t),pi("change",this.file.path)}async chmod(e){const t=vn(e,-1);if(t<0)throw new bt(dt.EINVAL,"Invalid mode.");await this.file.chmod(t),pi("change",this.file.path)}datasync(){return this.file.datasync()}sync(){return this.file.sync()}async truncate(e){if(e||(e=0),e<0)throw new bt(dt.EINVAL);await this.file.truncate(e),pi("change",this.file.path)}async utimes(e,t){await this.file.utimes(wn(e),wn(t)),pi("change",this.file.path)}async appendFile(e,t={}){const r=En(t,"utf8","a",420);if(!Vr(Fr(r.flag)))throw new bt(dt.EINVAL,"Flag passed to appendFile must allow for appending.");if("string"!=typeof e&&!r.encoding)throw new bt(dt.EINVAL,"Encoding not specified");const n="string"==typeof e?Yn.Buffer.from(e,r.encoding):e;await this.file.write(n,0,n.length),pi("change",this.file.path)}async read(e,t,r,n){return"object"==typeof t&&null!=t&&(n=t.position,r=t.length,t=t.offset),ArrayBuffer.isView(e)||"object"!=typeof e||(n=e.position,r=e.length,t=e.offset,e=e.buffer),isNaN(+n)&&(n=this.file.position),e||(e=new Uint8Array((await this.file.stat()).size)),this.file.read(e,null!=t?t:void 0,null!=r?r:void 0,null!=n?n:void 0)}async readFile(e){const t=En(e,null,"r",292);if(!Br(Fr(t.flag)))throw new bt(dt.EINVAL,"Flag passed must allow for reading.");const{size:r}=await this.stat(),{buffer:n}=await this.file.read(new Uint8Array(r),0,r,0),i=Yn.Buffer.from(n);return t.encoding?i.toString(t.encoding):i}readableWebStream(e={}){const t=globalThis;if(!("ReadableStream"in t))throw new bt(dt.ENOSYS,"ReadableStream is missing on globalThis");return new t.ReadableStream({start:async e=>{try{const t=65536,r=1e7;let n=0,i=0,s=NaN;for(;s>0;){const a=await this.read(new Uint8Array(t),0,t,i);if(!a.bytesRead)return void e.close();if(e.enqueue(a.buffer.slice(0,a.bytesRead)),i+=a.bytesRead,++n>=r)throw new bt(dt.EFBIG,"Too many iterations on readable stream",this.file.path,"FileHandle.readableWebStream");s=a.bytesRead}}catch(t){e.error(t)}},type:e.type})}readLines(e){throw bt.With("ENOSYS",this.file.path,"FileHandle.readLines")}[Symbol.asyncDispose](){return this.close()}async stat(e){const t=await this.file.stat();if(Ir.checkAccess&&!t.hasAccess(It,this.context))throw bt.With("EACCES",this.file.path,"stat");return(null==e?void 0:e.bigint)?new Or(t):t}async write(e,t,r,n){let i,s,a;if("object"==typeof t&&(r=null==t?void 0:t.length,n=null==t?void 0:t.position,t=null==t?void 0:t.offset),"string"==typeof e){n="number"==typeof t?t:null;const o="string"==typeof r?r:"utf8";s=0,i=Yn.Buffer.from(e,o),a=i.length}else i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=t,a=r,n="number"==typeof n?n:null;null!=n||(n=this.file.position);const o=await this.file.write(i,s,a,n);return pi("change",this.file.path),{buffer:e,bytesWritten:o}}async writeFile(e,t={}){const r=En(t,"utf8","w",420);if(!Ur(Fr(r.flag)))throw new bt(dt.EINVAL,"Flag passed must allow for writing.");if("string"!=typeof e&&!r.encoding)throw new bt(dt.EINVAL,"Encoding not specified");const n="string"==typeof e?Yn.Buffer.from(e,r.encoding):e;await this.file.write(n,0,n.length,0),pi("change",this.file.path)}async close(){await this.file.close(),Zn.delete(this.fd)}async writev(e,t){let r=0;for(const n of e)r+=(await this.write(n,0,n.length,t+r)).bytesWritten;return{bytesWritten:r,buffers:e}}async readv(e,t){let r=0;for(const n of e)r+=(await this.read(n,0,n.byteLength,t+r)).bytesRead;return{bytesRead:r,buffers:e}}createReadStream(e){const t=new fs({highWaterMark:(null==e?void 0:e.highWaterMark)||65536,encoding:e.encoding,read:async e=>{try{const r=await this.read(new Uint8Array(e),0,e,this.file.position);t.push(r.bytesRead?r.buffer.slice(0,r.bytesRead):null),this.file.position+=r.bytesRead}catch(e){t.destroy(e)}}});return t.path=this.file.path,t}createWriteStream(e){const t={highWaterMark:null==e?void 0:e.highWaterMark,encoding:null==e?void 0:e.encoding,write:async(e,t,r)=>{try{const{bytesWritten:n}=await this.write(e,null,t);r(n==e.length?null:new Error("Failed to write full chunk"))}catch(e){r(e)}}},r=new ds(t);return r.path=this.file.path,r}}async function ys(e,t){e=Sn(e),t=Sn(t);const r=ii(e,this),n=ii(t,this);if(Ir.checkAccess&&!(await vs.call(this,Sr(e))).hasAccess(_t,this))throw bt.With("EACCES",e,"rename");try{if(r.mountPoint==n.mountPoint)return await r.fs.rename(r.path,n.path),pi("rename",e.toString()),void pi("change",t.toString());await Ts.call(this,t,await _s(e)),await Es.call(this,e),pi("rename",e.toString())}catch(i){throw ai(i,{[r.path]:e,[n.path]:t})}}async function bs(e){try{const{fs:t,path:r}=ii(await js.call(this,e),this);return await t.exists(r)}catch(e){if(e instanceof bt&&"ENOENT"==e.code)return!1;throw e}}async function vs(e,t){e=Sn(e);const{fs:r,path:n}=ii(await js.call(this,e),this);try{const e=await r.stat(n);if(Ir.checkAccess&&!e.hasAccess(It,this))throw bt.With("EACCES",n,"stat");return(null==t?void 0:t.bigint)?new Or(e):e}catch(t){throw ai(t,{[n]:e})}}async function ws(e,t){e=Sn(e);const{fs:r,path:n}=ii(e,this);try{const e=await r.stat(n);return(null==t?void 0:t.bigint)?new Or(e):e}catch(t){throw ai(t,{[n]:e})}}async function Ss(e,t=0){const r={stack:[],error:void 0,hasError:!1};try{const n=ps(r,await Is.call(this,e,"r+"),!0);await n.truncate(t)}catch(e){r.error=e,r.hasError=!0}finally{const e=gs(r);e&&await e}}async function Es(e){e=Sn(e);const{fs:t,path:r}=ii(e,this);try{if(Ir.checkAccess&&!(await(Hn.getAsync(e)||t.stat(r))).hasAccess(_t,this))throw bt.With("EACCES",r,"unlink");await t.unlink(r),pi("rename",e.toString())}catch(t){throw ai(t,{[r]:e})}}async function xs(e,t,r=420,n){e=Sn(e);const i=vn(r,420),s=Fr(t);e=n?await js.call(this,e):e;const{fs:a,path:o}=ii(e,this),c=await a.stat(o).catch((()=>null));if(!c){if(!Ur(s)&&!Vr(s)||"r+"==s)throw bt.With("ENOENT",e,"_open");const t=await a.stat(Sr(o));if(Ir.checkAccess&&!t.hasAccess(_t,this))throw bt.With("EACCES",Sr(e),"_open");if(!t.isDirectory())throw bt.With("ENOTDIR",Sr(e),"_open");return new ms(await a.createFile(o,s,i),this)}if(Ir.checkAccess&&!c.hasAccess(Nr(s),this))throw bt.With("EACCES",e,"_open");if(Gr(s))throw bt.With("EEXIST",e,"_open");const u=new ms(await a.openFile(o,s),this);return jr(s)&&await u.truncate(0),u}async function Is(e,t="r",r=420){return await xs.call(this,e,t,r,!0)}async function _s(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=En(t,null,"r",420),i=ps(r,"object"==typeof e&&"fd"in e?e:await Is.call(this,e,n.flag,n.mode),!0);return await i.readFile(n)}catch(e){r.error=e,r.hasError=!0}finally{const e=gs(r);e&&await e}}async function Ts(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=En(r,"utf8","w+",420),s=ps(n,e instanceof ms?e:await Is.call(this,e.toString(),i.flag,i.mode),!0),a="string"==typeof t?t:t instanceof DataView?new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)):t;if("string"!=typeof a&&!(a instanceof Uint8Array))throw new bt(dt.EINVAL,'The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView. Received '+typeof t,s.file.path,"writeFile");await s.writeFile(a,i)}catch(e){n.error=e,n.hasError=!0}finally{const e=gs(n);e&&await e}}async function ks(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=En(r,"utf8","a",420);if(!Vr(Fr(i.flag)))throw new bt(dt.EINVAL,"Flag passed to appendFile must allow for appending.");if("string"!=typeof t&&!i.encoding)throw new bt(dt.EINVAL,"Encoding not specified");const s="string"==typeof t?Yn.Buffer.from(t,i.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength),a=ps(n,"object"==typeof e&&"fd"in e?e:await Is.call(this,e,i.flag,i.mode),!0);await a.appendFile(s,i)}catch(e){n.error=e,n.hasError=!0}finally{const e=gs(n);e&&await e}}async function As(e){e=await js.call(this,e);const{fs:t,path:r}=ii(e,this);try{const n=await(Hn.getAsync(e)||t.stat(r));if(!n)throw bt.With("ENOENT",e,"rmdir");if(!n.isDirectory())throw bt.With("ENOTDIR",r,"rmdir");if(Ir.checkAccess&&!n.hasAccess(_t,this))throw bt.With("EACCES",r,"rmdir");await t.rmdir(r),pi("rename",e.toString())}catch(t){throw ai(t,{[r]:e})}}async function Cs(e,t){var r;const n=vn(null==(t="object"==typeof t?t:{mode:t})?void 0:t.mode,511);e=await js.call(this,e);const{fs:i,path:s,root:a}=ii(e,this),o={[s]:e};try{if(!(null==t?void 0:t.recursive)){if(Ir.checkAccess&&!(await i.stat(Sr(s))).hasAccess(_t,this))throw bt.With("EACCES",Sr(s),"mkdir");return await i.mkdir(s,n),void pi("rename",e.toString())}const c=[];for(let t=s,r=e;!await i.exists(t);t=Sr(t),r=Sr(r))c.unshift(t),o[t]=r;for(const e of c){if(Ir.checkAccess&&!(await i.stat(Sr(e))).hasAccess(_t,this))throw bt.With("EACCES",Sr(e),"mkdir");await i.mkdir(e,n),pi("rename",e)}return 1==a.length?c[0]:null===(r=c[0])||void 0===r?void 0:r.slice(a.length)}catch(e){throw ai(e,o)}}async function Ms(e,t){t="object"==typeof t?t:{encoding:t},e=await js.call(this,e);const r=t=>{throw ai(t,{[i]:e})},{fs:n,path:i}=ii(e,this),s=Hn.getAsync(e)||n.stat(i).catch(r);Hn.setAsync(e,s);const a=await s;if(!a)throw bt.With("ENOENT",e,"readdir");if(Ir.checkAccess&&!a.hasAccess(It,this))throw bt.With("EACCES",e,"readdir");if(!a.isDirectory())throw bt.With("ENOTDIR",e,"readdir");const o=await n.readdir(i).catch(r),c=[];return await Promise.all(o.map((async s=>{let a;if((null==t?void 0:t.recursive)||(null==t?void 0:t.withFileTypes)){const t=Hn.getAsync(wr(e,s))||n.stat(wr(i,s)).catch(r);Hn.setAsync(wr(e,s),t),a=await t}if((null==t?void 0:t.withFileTypes)?c.push(new us(s,a)):"buffer"==(null==t?void 0:t.encoding)?c.push(Yn.Buffer.from(s)):c.push(s),(null==t?void 0:t.recursive)&&(null==a?void 0:a.isDirectory()))for(const r of await Ms.call(this,wr(e,s),{...t,_isIndirect:!0}))r instanceof us?(r.path=wr(s,r.path),c.push(r)):Yn.Buffer.isBuffer(r)?c.push(Yn.Buffer.from(wr(s,mn(r)))):c.push(wr(s,r))}))),(null==t?void 0:t._isIndirect)||Hn.clear(),c}async function Rs(e,t){e=Sn(e),t=Sn(t);const{fs:r,path:n}=ii(e,this),i=ii(t,this);if(r!=i.fs)throw bt.With("EXDEV",t,"link");try{if(Ir.checkAccess&&!(await r.stat(Sr(e))).hasAccess(It,this))throw bt.With("EACCES",Sr(n),"link");if(Ir.checkAccess&&!(await vs.call(this,Sr(t))).hasAccess(_t,this))throw bt.With("EACCES",Sr(t),"link");if(Ir.checkAccess&&!(await r.stat(n)).hasAccess(It,this))throw bt.With("EACCES",n,"link");return await r.link(n,i.path)}catch(r){throw ai(r,{[i.path]:t,[n]:e})}}async function Os(e,t,r="file"){const n={stack:[],error:void 0,hasError:!1};try{if(!["file","dir","junction"].includes(r))throw new bt(dt.EINVAL,"Invalid symlink type: "+r);if(await bs.call(this,t))throw bt.With("EEXIST",t.toString(),"symlink");const i=ps(n,await xs.call(this,t,"w+",420,!1),!0);await i.writeFile(e.toString()),await i.file.chmod(Xt)}catch(e){n.error=e,n.hasError=!0}finally{const e=gs(n);e&&await e}}async function Ds(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=ps(r,await xs.call(this,Sn(e),"r",420,!1),!0),i=await n.readFile(),s="object"==typeof t?null==t?void 0:t.encoding:t;return"buffer"==s?i:i.toString(null!=s?s:"utf-8")}catch(e){r.error=e,r.hasError=!0}finally{const e=gs(r);e&&await e}}async function Ps(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=ps(n,await Is.call(this,e,"r+"),!0);await i.chown(t,r)}catch(e){n.error=e,n.hasError=!0}finally{const e=gs(n);e&&await e}}async function Ls(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=ps(n,await xs.call(this,e,"r+",420,!1),!0);await i.chown(t,r)}catch(e){n.error=e,n.hasError=!0}finally{const e=gs(n);e&&await e}}async function Fs(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=ps(r,await Is.call(this,e,"r+"),!0);await n.chmod(t)}catch(e){r.error=e,r.hasError=!0}finally{const e=gs(r);e&&await e}}async function Ns(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=ps(r,await xs.call(this,e,"r+",420,!1),!0);await n.chmod(t)}catch(e){r.error=e,r.hasError=!0}finally{const e=gs(r);e&&await e}}async function Bs(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=ps(n,await Is.call(this,e,"r+"),!0);await i.utimes(t,r)}catch(e){n.error=e,n.hasError=!0}finally{const e=gs(n);e&&await e}}async function Us(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=ps(n,await xs.call(this,e,"r+",420,!1),!0);await i.utimes(new Date(t),new Date(r))}catch(e){n.error=e,n.hasError=!0}finally{const e=gs(n);e&&await e}}async function js(e,t){e=Sn(e);const r=((null==this?void 0:this.root)||"")+e;if(Xn.hasAsync(r))return Xn.getAsync(r);const{base:n,dir:i}=xr(e),s="/"==i?"/":await(Xn.getAsync(((null==this?void 0:this.root)||"")+i)||js.call(this,i)),a=wr(s,n),{fs:o,path:c}=ii(a,this);try{const t=Hn.getAsync(a)||o.stat(c);if(Hn.setAsync(a,t),!(await t).isSymbolicLink())return Xn.set(e,a),a;const n=vr(s,(await Ds.call(this,a)).toString()),i=Xn.getAsync(((null==this?void 0:this.root)||"")+n)||js.call(this,n);return Xn.setAsync(r,i),await i}catch(t){if("ENOENT"==t.code)return e;throw ai(t,{[c]:a})}}function Vs(e,t={}){const r=this;return{[Symbol.asyncIterator](){const n=new hi(r,e.toString(),"string"!=typeof t?t:{encoding:t}),i=[];function s(){n.close();for(const e of i)e({value:null,done:!0});return i.length=0,Promise.resolve({value:null,done:!0})}return n.on("change",((e,t)=>{var r;null===(r=i.shift())||void 0===r||r({value:{eventType:e,filename:t},done:!1})})),{async next(){const{promise:e,resolve:t}=Promise.withResolvers();return i.push(t),e},return:s,throw:s,[Symbol.asyncDispose]:()=>Promise.resolve()}}}}async function Gs(e,t=xt){if(Ir.checkAccess&&!(await vs.call(this,e)).hasAccess(t,this))throw new bt(dt.EACCES)}async function zs(e,t){e=Sn(e);const r=await(Hn.getAsync(e)||ws.call(this,e).catch((e=>{if("ENOENT"!=e.code||!(null==t?void 0:t.force))throw e})));if(r){switch(Hn.set(e,r),r.mode&$t){case Zt:if(null==t?void 0:t.recursive)for(const r of await Ms.call(this,e,{_isIndirect:!0}))await zs.call(this,wr(e,r),{...t,_isIndirect:!0});await As.call(this,e);break;case Yt:case Xt:case Kt:case Jt:await Es.call(this,e);break;default:throw Hn.clear(),new bt(dt.EPERM,"File type not supported",e,"rm")}(null==t?void 0:t._isIndirect)||Hn.clear()}}async function Ws(e,t){const r="object"==typeof t?null==t?void 0:t.encoding:t||"utf8",n=`/tmp/${e}${Date.now()}-${Math.random().toString(36).slice(2)}`;return await Cs.call(this,n),"buffer"==r?Yn.Buffer.from(n):n}async function qs(e,t,r){if(e=Sn(e),t=Sn(t),r&&r&kt&&await bs.call(this,t))throw new bt(dt.EEXIST,"Destination file already exists.",t,"copyFile");await Ts.call(this,t,await _s.call(this,e)),pi("rename",t.toString())}function $s(e,t){return e=Sn(e),Promise.resolve(new ls(e,this))}async function Hs(e,t,r){e=Sn(e),t=Sn(t);const n=await ws.call(this,e);if((null==r?void 0:r.errorOnExist)&&await bs.call(this,t))throw new bt(dt.EEXIST,"Destination file or directory already exists.",t,"cp");switch(n.mode&$t){case Zt:{if(!(null==r?void 0:r.recursive))throw new bt(dt.EISDIR,e+" is a directory (not copied)",e,"cp");const[n]=await Promise.all([Ms.call(this,e,{withFileTypes:!0}),Cs.call(this,t,{recursive:!0})]),i=async n=>{r.filter&&!r.filter(wr(e,n.name),wr(t,n.name))||await Hs.call(this,wr(e,n.name),wr(t,n.name),r)};await Promise.all(n.map(i));break}case Yt:case Xt:await qs.call(this,e,t);break;default:throw new bt(dt.EPERM,"File type not supported",e,"rm")}(null==r?void 0:r.preserveTimestamps)&&await Bs.call(this,t,n.atime,n.mtime)}async function Xs(e,t){e=Sn(e);const{fs:r}=ii(e,this);return Promise.resolve(ci(r,null==t?void 0:t.bigint))}function Ys(e,t){e=Array.isArray(e)?e:[e];const{cwd:r="/",withFileTypes:n=!1,exclude:i=()=>!1}=t||{},s=e.map((e=>(e=e.replace(/([.?+^$(){}|[\]/])/g,"$1").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,"."),new RegExp(`^${e}$`))));return async function*e(t){const r=await Ms(t,{withFileTypes:n,encoding:"utf8"});for(const a of r){const r=n?a.path:t+"/"+a;i(n?a:r)||((await vs(r)).isDirectory()&&s.some((e=>e.source.includes(".*")))&&(yield*e(r)),s.some((e=>e.test(r.replace(/^\/+/g,""))))&&(yield n?a:r.replace(/^\/+/g,"")))}}(r)}const Ks=()=>{};function Zs(e,t,r=Ks){ys.call(this,e,t).then((()=>r())).catch(r)}function Js(e,t=Ks){bs.call(this,e).then(t).catch((()=>t(!1)))}function Qs(e,t,r=Ks){r="function"==typeof t?t:r,vs.call(this,e,"function"!=typeof t?t:{}).then((e=>r(void 0,e))).catch(r)}function ea(e,t,r=Ks){r="function"==typeof t?t:r,ws.call(this,e,"function"!=typeof t?t:{}).then((e=>r(void 0,e))).catch(r)}function ta(e,t=0,r=Ks){r="function"==typeof t?t:r;const n="number"==typeof t?t:0;Ss.call(this,e,n).then((()=>r())).catch(r)}function ra(e,t=Ks){Es.call(this,e).then((()=>t())).catch(t)}function na(e,t,r,n=Ks){const i=vn(r,420);n="function"==typeof r?r:n,Is.call(this,e,t,i).then((e=>n(void 0,e.fd))).catch(n)}function ia(e,t,r=Ks){r="function"==typeof t?t:r,_s.call(this,e,"function"==typeof t?null:t).then((e=>r(void 0,e))).catch(r)}function sa(e,t,r,n=Ks){n="function"==typeof r?r:n,Ts.call(this,e,t,"function"!=typeof r?r:null).then((()=>n(void 0))).catch(n)}function aa(e,t,r,n=Ks){const i="function"!=typeof r?r:void 0;n="function"==typeof r?r:n,ks.call(this,e,t,i).then((()=>n())).catch(n)}function oa(e,t,r=Ks){r="function"==typeof t?t:r,ei(e).stat().then((e=>r(void 0,"object"==typeof t&&(null==t?void 0:t.bigint)?new Or(e):e))).catch(r)}function ca(e,t=Ks){const r=ei(e).close();Zn.delete(e),r.then((()=>t())).catch(t)}function ua(e,t,r=Ks){const n="number"==typeof t?t:0;r="function"==typeof t?t:r;const i=ei(e);if(n<0)throw new bt(dt.EINVAL);i.truncate(n).then((()=>r())).catch(r)}function la(e,t=Ks){ei(e).sync().then((()=>t())).catch(t)}function ha(e,t=Ks){ei(e).datasync().then((()=>t())).catch(t)}function fa(e,t,r,n,i,s=Ks){let a,o,c,u,l;const h=new ms(e,this);if("string"==typeof t){switch(l="utf8",typeof r){case"function":s=r;break;case"number":u=r,l="string"==typeof n?n:"utf8",s="function"==typeof i?i:s;break;default:return void(s="function"==typeof n?n:"function"==typeof i?i:s)(new bt(dt.EINVAL,"Invalid arguments."))}a=Yn.Buffer.from(t),o=0,c=a.length;const e=s;h.write(a,o,c,u).then((({bytesWritten:t})=>e(void 0,t,a.toString(l)))).catch(e)}else{a=Yn.Buffer.from(t.buffer),o=r,c=n,u="number"==typeof i?i:null;const e="function"==typeof i?i:s;h.write(a,o,c,u).then((({bytesWritten:t})=>e(void 0,t,a))).catch(e)}}function da(e,t,r,n,i,s=Ks){new ms(e,this).read(t,r,n,i).then((({bytesRead:e,buffer:t})=>s(void 0,e,t))).catch(s)}function pa(e,t,r,n=Ks){new ms(e,this).chown(t,r).then((()=>n())).catch(n)}function ga(e,t,r){new ms(e,this).chmod(t).then((()=>r())).catch(r)}function ma(e,t,r,n=Ks){new ms(e,this).utimes(t,r).then((()=>n())).catch(n)}function ya(e,t=Ks){As.call(this,e).then((()=>t())).catch(t)}function ba(e,t,r=Ks){Cs.call(this,e,t).then((()=>r())).catch(r)}function va(e,t,r=Ks){r="function"==typeof t?t:r;const n="function"!=typeof t?t:{};Ms.call(this,e,n).then((e=>r(void 0,e))).catch(r)}function wa(e,t,r=Ks){Rs.call(this,e,t).then((()=>r())).catch(r)}function Sa(e,t,r,n=Ks){const i="string"==typeof r?r:"file";n="function"==typeof r?r:n,Os.call(this,e,t,i).then((()=>n())).catch(n)}function Ea(e,t,r=Ks){r="function"==typeof t?t:r,Ds.call(this,e).then((e=>r(void 0,e))).catch(r)}function xa(e,t,r,n=Ks){Ps.call(this,e,t,r).then((()=>n())).catch(n)}function Ia(e,t,r,n=Ks){Ls.call(this,e,t,r).then((()=>n())).catch(n)}function _a(e,t,r=Ks){Fs.call(this,e,t).then((()=>r())).catch(r)}function Ta(e,t,r=Ks){Ns.call(this,e,t).then((()=>r())).catch(r)}function ka(e,t,r,n=Ks){Bs.call(this,e,t,r).then((()=>n())).catch(n)}function Aa(e,t,r,n=Ks){Us.call(this,e,t,r).then((()=>n())).catch(n)}function Ca(e,t,r=Ks){r="function"==typeof t?t:r,js.call(this,e,"function"==typeof t?null:t).then((e=>r(void 0,e))).catch(r)}function Ma(e,t,r=Ks){const n="number"==typeof t?t:It;r="function"==typeof t?t:r,Gs.call(this,e,n).then((()=>r())).catch(r)}const Ra=new Map;function Oa(e,t,r){const n=Sn(e.toString()),i="function"!=typeof t?t:{};if("function"==typeof t&&(r=t),!r)throw new bt(dt.EINVAL,"No listener specified",e.toString(),"watchFile");if(Ra.has(n)){const e=Ra.get(n);return void(e&&e.listeners.add(r))}const s=new fi(this,n,i);s.on("change",((e,t)=>{const r=Ra.get(n);if(r)for(const n of r.listeners)n(e,t)})),Ra.set(n,{watcher:s,listeners:new Set})}function Da(e,t=Ks){const r=Sn(e.toString()),n=Ra.get(r);n&&(t&&t!==Ks?n.listeners.delete(t):n.listeners.clear(),0===n.listeners.size&&(n.watcher.stop(),Ra.delete(r)))}function Pa(e,t,r){const n=new hi(this,Sn(e),"object"==typeof t?t:{});return r="function"==typeof t?t:r,n.on("change",r||Ks),n}function La(e,t){const r=this;let n;const i=new fs({highWaterMark:(t="object"==typeof t?t:{encoding:t}).highWaterMark||65536,encoding:t.encoding||"utf8",async read(s){try{n||(n=await Is.call(r,e,"r",null==t?void 0:t.mode));const a=await n.read(new Uint8Array(s),0,s,n.file.position);i.push(a.bytesRead?a.buffer.slice(0,a.bytesRead):null),n.file.position+=a.bytesRead,a.bytesRead||await n.close()}catch(e){await(null==n?void 0:n.close()),i.destroy(e)}},destroy(e,t){null==n||n.close().then((()=>t(e))).catch(Ks)}});return i.path=e.toString(),i}function Fa(e,t){const r=this;let n;const i=new ds({highWaterMark:null==(t="object"==typeof t?t:{encoding:t})?void 0:t.highWaterMark,async write(i,s,a){try{n||(n=await Is.call(r,e,"w",(null==t?void 0:t.mode)||438)),await n.write(i,0,s),a(void 0)}catch(e){await(null==n?void 0:n.close()),a(e)}},destroy(e,t){t(e),null==n||n.close().then((()=>t(e))).catch(t)},final(e){null==n||n.close().then((()=>e())).catch(e)}});return i.path=e.toString(),i}function Na(e,t,r=Ks){r="function"==typeof t?t:r,zs.call(this,e,"function"==typeof t?void 0:t).then((()=>r(void 0))).catch(r)}function Ba(e,t,r=Ks){r="function"==typeof t?t:r,Ws.call(this,e,"function"!=typeof t?t:null).then((e=>r(void 0,e))).catch(r)}function Ua(e,t,r,n=Ks){n="function"==typeof r?r:n,qs.call(this,e,t,"function"==typeof r?void 0:r).then((()=>n(void 0))).catch(n)}function ja(e,t,r,n=Ks){n="function"==typeof r?r:n,new ms(e,this).readv(t,"function"==typeof r?void 0:r).then((({buffers:e,bytesRead:t})=>n(void 0,t,e))).catch(n)}function Va(e,t,r,n=Ks){n="function"==typeof r?r:n,new ms(e,this).writev(t,"function"==typeof r?void 0:r).then((({buffers:e,bytesWritten:t})=>n(void 0,t,e))).catch(n)}function Ga(e,t,r=Ks){r="function"==typeof t?t:r,$s.call(this,e,"function"==typeof t?void 0:t).then((e=>r(void 0,e))).catch(r)}function za(e,t,r,n=Ks){n="function"==typeof r?r:n,Hs.call(this,e,t,"function"==typeof r?void 0:r).then((()=>n(void 0))).catch(n)}function Wa(e,t,r=Ks){r="function"==typeof t?t:r,Xs.call(this,e,"function"==typeof t?void 0:t).then((e=>r(void 0,e))).catch(r)}async function qa(e,t){const r=await Is.call(this,e.toString(),"r"),n=await r.readFile();return await r.close(),new Blob([n],t)}function $a(e,t,r=Ks){r="function"==typeof t?t:r,async function(e){const t=[];for await(const r of e)t.push(r);return t}(Ys.call(this,e,"function"==typeof t?void 0:t)).then((e=>{var t;return r(null,null!==(t=e)&&void 0!==t?t:[])})).catch((e=>r(e)))}function Ha(e){return wt(e)||vt(e)||e instanceof $r}async function Xa(e,t=0){if("object"!=typeof e||null==e)throw new bt(dt.EINVAL,"Invalid options on mount configuration");if(!Ha(e))throw new bt(dt.EINVAL,"Invalid mount configuration");if(e instanceof $r)return await e.ready(),e;vt(e)&&(e={backend:e});for(const[r,n]of Object.entries(e))if("backend"!=r&&Ha(n)){if(t>10)throw new bt(dt.EINVAL,"Invalid configuration, too deep and possibly infinite");e[r]=await Xa(n,++t)}const{backend:r}=e;if("function"==typeof r.isAvailable&&!await r.isAvailable())throw new bt(dt.EPERM,"Backend not available: "+r.name);await async function(e,t){if("object"!=typeof t||null===t)throw new bt(dt.EINVAL,"Invalid options");for(const[r,n]of Object.entries(e.options)){const e=null==t?void 0:t[r];if(null==e){if(!n.required)continue;throw new bt(dt.EINVAL,"Missing required option: "+r)}const i=e=>"function"==typeof n.type?e instanceof n.type:typeof e===n.type;if(Array.isArray(n.type)?!n.type.some(i):!i(e)){const t="object"==typeof e&&"constructor"in e?e.constructor.name:typeof e,i=e=>"function"==typeof e?e.name:e,s=Array.isArray(n.type)?`one of ${n.type.map(i).join(", ")}`:i(n.type);throw new bt(dt.EINVAL,`Incorrect type for "${r}": ${t} (expected ${s})`)}n.validator&&await n.validator(e)}}(r,e);const n=await r.create(e);return n._disableSync=e.disableAsyncCache||!1,await n.ready(),n}async function Ya(e,t){if("/"==e)return void ri(e,t);const r=await vs(e).catch((()=>null));if(r){if(!r.isDirectory())throw bt.With("ENOTDIR",e,"configure")}else await Cs(e,{recursive:!0});ri(e,t)}function Ka(e){return class extends e{metadata(){return{...super.metadata(),readonly:!0}}async rename(){throw new bt(dt.EROFS)}renameSync(){throw new bt(dt.EROFS)}async createFile(){throw new bt(dt.EROFS)}createFileSync(){throw new bt(dt.EROFS)}async unlink(){throw new bt(dt.EROFS)}unlinkSync(){throw new bt(dt.EROFS)}async rmdir(){throw new bt(dt.EROFS)}rmdirSync(){throw new bt(dt.EROFS)}async mkdir(){throw new bt(dt.EROFS)}mkdirSync(){throw new bt(dt.EROFS)}async link(){throw new bt(dt.EROFS)}linkSync(){throw new bt(dt.EROFS)}async sync(){throw new bt(dt.EROFS)}syncSync(){throw new bt(dt.EROFS)}}}"function"==typeof SuppressedError&&SuppressedError,new Map,new Map,Map,Ka($r);var Za=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},Ja=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,(function(t){return r(t),e()}))}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class Qa{get isLocked(){return this._isLocked}constructor(e){this.previous=e,this.current=Promise.withResolvers(),this._isLocked=!0}async done(){var e;await(null===(e=this.previous)||void 0===e?void 0:e.done()),await this.current.promise}unlock(){this.current.resolve(),this._isLocked=!1}[Symbol.dispose](){this.unlock()}}class eo{async ready(){return await this._fs.ready()}metadata(){return this._fs.metadata()}addLock(){const e=new Qa(this.currentLock);return this.currentLock=e,e}async lock(e,t){const r=this.currentLock,n=this.addLock(),i=(new Error).stack;return setTimeout((()=>{if(n.isLocked){const r=bt.With("EDEADLK",e,t);throw r.stack+=null==i?void 0:i.slice(5),r}}),5e3),await(null==r?void 0:r.done()),n}lockSync(e,t){var r;if(null===(r=this.currentLock)||void 0===r?void 0:r.isLocked)throw bt.With("EBUSY",e,t);return this.addLock()}get isLocked(){var e;return!!(null===(e=this.currentLock)||void 0===e?void 0:e.isLocked)}async rename(e,t){const r={stack:[],error:void 0,hasError:!1};try{Za(r,await this.lock(e,"rename"),!1),await this._fs.rename(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Ja(r)}}renameSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Za(r,this.lockSync(e,"rename"),!1),this._fs.renameSync(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Ja(r)}}async stat(e){const t={stack:[],error:void 0,hasError:!1};try{return Za(t,await this.lock(e,"stat"),!1),await this._fs.stat(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}statSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Za(t,this.lockSync(e,"stat"),!1),this._fs.statSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}async openFile(e,t){const r={stack:[],error:void 0,hasError:!1};try{Za(r,await this.lock(e,"openFile"),!1);const n=await this._fs.openFile(e,t);return n.fs=this,n}catch(e){r.error=e,r.hasError=!0}finally{Ja(r)}}openFileSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{Za(r,this.lockSync(e,"openFile"),!1);const n=this._fs.openFileSync(e,t);return n.fs=this,n}catch(e){r.error=e,r.hasError=!0}finally{Ja(r)}}async createFile(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{Za(n,await this.lock(e,"createFile"),!1);const i=await this._fs.createFile(e,t,r);return i.fs=this,i}catch(e){n.error=e,n.hasError=!0}finally{Ja(n)}}createFileSync(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{Za(n,this.lockSync(e,"createFile"),!1);const i=this._fs.createFileSync(e,t,r);return i.fs=this,i}catch(e){n.error=e,n.hasError=!0}finally{Ja(n)}}async unlink(e){const t={stack:[],error:void 0,hasError:!1};try{Za(t,await this.lock(e,"unlink"),!1),await this._fs.unlink(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}unlinkSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Za(t,this.lockSync(e,"unlink"),!1),this._fs.unlinkSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}async rmdir(e){const t={stack:[],error:void 0,hasError:!1};try{Za(t,await this.lock(e,"rmdir"),!1),await this._fs.rmdir(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}rmdirSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Za(t,this.lockSync(e,"rmdir"),!1),this._fs.rmdirSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}async mkdir(e,t){const r={stack:[],error:void 0,hasError:!1};try{Za(r,await this.lock(e,"mkdir"),!1),await this._fs.mkdir(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Ja(r)}}mkdirSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Za(r,this.lockSync(e,"mkdir"),!1),this._fs.mkdirSync(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Ja(r)}}async readdir(e){const t={stack:[],error:void 0,hasError:!1};try{return Za(t,await this.lock(e,"readdir"),!1),await this._fs.readdir(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}readdirSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Za(t,this.lockSync(e,"readdir"),!1),this._fs.readdirSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}async exists(e){const t={stack:[],error:void 0,hasError:!1};try{return Za(t,await this.lock(e,"exists"),!1),await this._fs.exists(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}existsSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Za(t,this.lockSync(e,"exists"),!1),this._fs.existsSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Ja(t)}}async link(e,t){const r={stack:[],error:void 0,hasError:!1};try{Za(r,await this.lock(e,"link"),!1),await this._fs.link(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Ja(r)}}linkSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Za(r,this.lockSync(e,"link"),!1),this._fs.linkSync(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Ja(r)}}async sync(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{Za(n,await this.lock(e,"sync"),!1),await this._fs.sync(e,t,r)}catch(e){n.error=e,n.hasError=!0}finally{Ja(n)}}syncSync(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{return Za(n,this.lockSync(e,"sync"),!1),this._fs.syncSync(e,t,r)}catch(e){n.error=e,n.hasError=!0}finally{Ja(n)}}}var to=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},ro=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,(function(t){return r(t),e()}))}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});const no="/.deleted";class io extends $r{async ready(){await this.readable.ready(),await this.writable.ready(),await this._ready}constructor({writable:e,readable:t}){if(super(),this._isInitialized=!1,this._deletedFiles=new Set,this._deleteLog="",this._deleteLogUpdatePending=!1,this._deleteLogUpdateNeeded=!1,this.writable=e,this.readable=t,this.writable.metadata().readonly)throw new bt(dt.EINVAL,"Writable file system must be writable.");this._ready=this._initialize()}metadata(){return{...super.metadata(),name:so.name}}async sync(e,t,r){await this.copyForWrite(e),await this.writable.exists(e)||await this.writable.createFile(e,"w",420),await this.writable.sync(e,t,r)}syncSync(e,t,r){this.copyForWriteSync(e),this.writable.syncSync(e,t,r)}async _initialize(){if(!this._isInitialized){try{const e=await this.writable.openFile(no,Fr("r")),{size:t}=await e.stat(),{buffer:r}=await e.read(new Uint8Array(t));this._deleteLog=mn(r)}catch(e){if(e.errno!==dt.ENOENT)throw e}this._isInitialized=!0,this._reparseDeletionLog()}}getDeletionLog(){return this._deleteLog}async restoreDeletionLog(e){this._deleteLog=e,this._reparseDeletionLog(),await this.updateLog("")}async rename(e,t){this.checkInitialized(),this.checkPath(e),this.checkPath(t),await this.copyForWrite(e);try{await this.writable.rename(e,t)}catch{if(this._deletedFiles.has(e))throw bt.With("ENOENT",e,"rename")}}renameSync(e,t){this.checkInitialized(),this.checkPath(e),this.checkPath(t),this.copyForWriteSync(e);try{this.writable.renameSync(e,t)}catch{if(this._deletedFiles.has(e))throw bt.With("ENOENT",e,"rename")}}async stat(e){this.checkInitialized();try{return await this.writable.stat(e)}catch{if(this._deletedFiles.has(e))throw bt.With("ENOENT",e,"stat");const t=await this.readable.stat(e);return t.mode|=146,t}}statSync(e){this.checkInitialized();try{return this.writable.statSync(e)}catch{if(this._deletedFiles.has(e))throw bt.With("ENOENT",e,"stat");const t=this.readable.statSync(e);return t.mode|=146,t}}async openFile(e,t){if(await this.writable.exists(e))return this.writable.openFile(e,t);const r=await this.readable.openFile(e,Fr("r")),n=await r.stat(),{buffer:i}=await r.read(new Uint8Array(n.size));return new Wr(this,e,t,n,i)}openFileSync(e,t){if(this.writable.existsSync(e))return this.writable.openFileSync(e,t);const r=this.readable.openFileSync(e,Fr("r")),n=r.statSync(),i=new Uint8Array(n.size);return r.readSync(i),new Wr(this,e,t,n,i)}async createFile(e,t,r){return this.checkInitialized(),await this.writable.createFile(e,t,r),this.openFile(e,t)}createFileSync(e,t,r){return this.checkInitialized(),this.writable.createFileSync(e,t,r),this.openFileSync(e,t)}async link(e,t){this.checkInitialized(),await this.copyForWrite(e),await this.writable.link(e,t)}linkSync(e,t){this.checkInitialized(),this.copyForWriteSync(e),this.writable.linkSync(e,t)}async unlink(e){if(this.checkInitialized(),this.checkPath(e),!await this.exists(e))throw bt.With("ENOENT",e,"unlink");await this.writable.exists(e)&&await this.writable.unlink(e),await this.exists(e)&&await this.deletePath(e)}unlinkSync(e){if(this.checkInitialized(),this.checkPath(e),!this.existsSync(e))throw bt.With("ENOENT",e,"unlink");this.writable.existsSync(e)&&this.writable.unlinkSync(e),this.existsSync(e)&&this.deletePath(e)}async rmdir(e){if(this.checkInitialized(),!await this.exists(e))throw bt.With("ENOENT",e,"rmdir");if(await this.writable.exists(e)&&await this.writable.rmdir(e),await this.exists(e)){if((await this.readdir(e)).length)throw bt.With("ENOTEMPTY",e,"rmdir");await this.deletePath(e)}}rmdirSync(e){if(this.checkInitialized(),!this.existsSync(e))throw bt.With("ENOENT",e,"rmdir");if(this.writable.existsSync(e)&&this.writable.rmdirSync(e),this.existsSync(e)){if(this.readdirSync(e).length)throw bt.With("ENOTEMPTY",e,"rmdir");this.deletePath(e)}}async mkdir(e,t){if(this.checkInitialized(),await this.exists(e))throw bt.With("EEXIST",e,"mkdir");await this.createParentDirectories(e),await this.writable.mkdir(e,t)}mkdirSync(e,t){if(this.checkInitialized(),this.existsSync(e))throw bt.With("EEXIST",e,"mkdir");this.createParentDirectoriesSync(e),this.writable.mkdirSync(e,t)}async readdir(e){this.checkInitialized();const t=[];try{t.push(...await this.writable.readdir(e))}catch{}try{t.push(...(await this.readable.readdir(e)).filter((t=>!this._deletedFiles.has(`${e}/${t}`))))}catch{}const r={};return t.filter((e=>{const t=!r[e];return r[e]=!0,t}))}readdirSync(e){this.checkInitialized();let t=[];try{t=t.concat(this.writable.readdirSync(e))}catch{}try{t=t.concat(this.readable.readdirSync(e).filter((t=>!this._deletedFiles.has(`${e}/${t}`))))}catch{}const r={};return t.filter((e=>{const t=!r[e];return r[e]=!0,t}))}async deletePath(e){this._deletedFiles.add(e),await this.updateLog(`d${e}\n`)}async updateLog(e){if(this._deleteLog+=e,this._deleteLogUpdatePending)return void(this._deleteLogUpdateNeeded=!0);this._deleteLogUpdatePending=!0;const t=await this.writable.openFile(no,Fr("w"));try{await t.write(pn(this._deleteLog)),this._deleteLogUpdateNeeded&&(this._deleteLogUpdateNeeded=!1,await this.updateLog(""))}catch(e){this._deleteLogError=e}finally{this._deleteLogUpdatePending=!1}}_reparseDeletionLog(){this._deletedFiles.clear();for(const e of this._deleteLog.split("\n"))e.startsWith("d")&&this._deletedFiles.add(e.slice(1))}checkInitialized(){if(!this._isInitialized)throw new bt(dt.EPERM,"OverlayFS is not initialized. Please initialize OverlayFS using its initialize() method before using it.");if(!this._deleteLogError)return;const e=this._deleteLogError;throw delete this._deleteLogError,e}checkPath(e){if(e==no)throw bt.With("EPERM",e,"checkPath")}createParentDirectoriesSync(e){let t=Sr(e);const r=[];for(;!this.writable.existsSync(t);)r.push(t),t=Sr(t);for(const e of r.reverse())this.writable.mkdirSync(e,this.statSync(e).mode)}async createParentDirectories(e){let t=Sr(e);const r=[];for(;!await this.writable.exists(t);)r.push(t),t=Sr(t);for(const e of r.reverse()){const t=await this.stat(e);await this.writable.mkdir(e,t.mode)}}copyForWriteSync(e){if(!this.existsSync(e))throw bt.With("ENOENT",e,"copyForWrite");this.writable.existsSync(Sr(e))||this.createParentDirectoriesSync(e),this.writable.existsSync(e)||this.copyToWritableSync(e)}async copyForWrite(e){if(!await this.exists(e))throw bt.With("ENOENT",e,"copyForWrite");if(await this.writable.exists(Sr(e))||await this.createParentDirectories(e),!await this.writable.exists(e))return this.copyToWritable(e)}copyToWritableSync(e){const t={stack:[],error:void 0,hasError:!1};try{const r=this.statSync(e);if(r.isDirectory())return void this.writable.mkdirSync(e,r.mode);const n=new Uint8Array(r.size);to(t,this.readable.openFileSync(e,"r"),!1).readSync(n),to(t,this.writable.createFileSync(e,"w",146|r.mode),!1).writeSync(n)}catch(e){t.error=e,t.hasError=!0}finally{ro(t)}}async copyToWritable(e){const t={stack:[],error:void 0,hasError:!1};try{const r=await this.stat(e);if(r.isDirectory())return void await this.writable.mkdir(e,r.mode);const n=new Uint8Array(r.size),i=to(t,await this.readable.openFile(e,"r"),!0);await i.read(n);const s=to(t,await this.writable.createFile(e,"w",146|r.mode),!0);await s.write(n)}catch(e){t.error=e,t.hasError=!0}finally{const e=ro(t);e&&await e}}}class so extends(function(e){return class extends eo{constructor(...t){super(),this._fs=new e(...t)}}}(io)){}globalThis.__zenfs__=i;var ao=__webpack_require__(3604);class oo{paths;root;ext;pfs;xfs;tfs;cfs;mfs;constructor(e,t){this.paths=new Map,e?(this.root=e,this.pfs=ao):this.pfs=i,t?(this.ext=t,this.xfs=ao):this.xfs=i,this.tfs=new(mt()),this.cfs=new(mt()),this.mfs=new(mt())}savePath(e){this.paths.set(e.toLowerCase().replace(/\/+/g,"/").trim(),e.replace(/\/+/g,"/").trim())}deletePath(e){return this.paths.delete(e.toLowerCase().replace(/\/+/g,"/").trim())}getOriginalPath(e){return this.paths.get(e.toLowerCase().replace(/\/+/g,"/").trim())}getFS(e){return e.trim().toLowerCase().startsWith("tmp:")?this.tfs:e.trim().toLowerCase().startsWith("cachefs:")?this.cfs:e.trim().toLowerCase().startsWith("common:")?this.mfs:e.trim().toLowerCase().startsWith("ext1:")?this.xfs:this.pfs}getPath(e){return(e=this.root&&e.trim().toLowerCase().startsWith("pkg:")?this.root+"/"+e.trim().slice(4):this.ext&&e.trim().toLowerCase().startsWith("ext1:")?this.ext+"/"+e.trim().slice(5):e.toLowerCase()).replace("tmp:","").replace("cachefs:","").replace("common:","").replace(/\/+/g,"/").trim()}volumesSync(){const e=[];return(this.root||this.pfs.existsSync("pkg:/"))&&e.push("pkg:"),(this.ext||this.xfs.existsSync("ext1:/"))&&e.push("ext1:"),e.push("tmp:"),e.push("cachefs:"),e.push("common:"),e}existsSync(e){return uo(e)&&this.getFS(e).existsSync(this.getPath(e))}readFileSync(e,t){return this.getFS(e).readFileSync(this.getPath(e),t)}readdirSync(e){const t=this.getFS(e).readdirSync(this.getPath(e));if(ho(e)&&t.length>0){const r=this;t.forEach((function(n,i){const s=Te.posix.join(e.toLowerCase(),n),a=r.getOriginalPath(s);a&&(t[i]=Te.posix.basename(a))}))}return t}mkdirSync(e){this.getFS(e).mkdirSync(this.getPath(e)),this.savePath(e)}rmdirSync(e){if(ho(e)&&this.readdirSync(e).length>0)throw new Error("Directory not empty!");this.getFS(e).rmdirSync(this.getPath(e)),this.deletePath(e)}unlinkSync(e){this.getFS(e).unlinkSync(this.getPath(e)),this.deletePath(e)}renameSync(e,t){const r=this.readFileSync(e);this.writeFileSync(t,r),this.unlinkSync(e)}writeFileSync(e,t,r){this.getFS(e).writeFileSync(this.getPath(e),t,r),this.savePath(e)}statSync(e){return this.getFS(e).statSync(this.getPath(e))}}function co(e){return e.toLowerCase().substring(0,e.indexOf(":")+1)}function uo(e){return""!==e.trim()&&!e.startsWith("/")&&!e.startsWith("\\")&&e.includes(":/")}function lo(e){return uo(e=e.toLowerCase())&&(e.startsWith("tmp:/")||e.startsWith("cachefs:/"))}function ho(e){return uo(e=e.toLowerCase())&&!(e.startsWith("pkg:/")||e.startsWith("ext1:/"))}const fo=Yn.Buffer.from&&Yn.Buffer.alloc&&Yn.Buffer.allocUnsafe&&Yn.Buffer.allocUnsafeSlow?Yn.Buffer.from:e=>new Yn.Buffer(e);function po(e,t){const r=(e,r)=>t(e,r)>>>0;return r.signed=t,r.unsigned=r,r.model=e,r}po("crc1",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=~~t,n=0;for(let t=0;t<e.length;t++)n+=e[t];return r+=n%256,r%256}));let go=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];"undefined"!=typeof Int32Array&&(go=new Int32Array(go)),po("crc-8",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=~~t;for(let t=0;t<e.length;t++){const n=e[t];r=255&go[255&(r^n)]}return r}));let mo=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];"undefined"!=typeof Int32Array&&(mo=new Int32Array(mo)),po("dallas-1-wire",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=~~t;for(let t=0;t<e.length;t++){const n=e[t];r=255&mo[255&(r^n)]}return r}));let yo=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(yo=new Int32Array(yo)),po("crc-16",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=~~t;for(let t=0;t<e.length;t++){const n=e[t];r=65535&(yo[255&(r^n)]^r>>8)}return r}));let bo=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];"undefined"!=typeof Int32Array&&(bo=new Int32Array(bo)),po("ccitt",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++){const n=e[t];r=65535&(bo[255&(r>>8^n)]^r<<8)}return r}));let vo=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(vo=new Int32Array(vo)),po("crc-16-modbus",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++){const n=e[t];r=65535&(vo[255&(r^n)]^r>>8)}return r})),po("xmodem",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=void 0!==t?~~t:0;for(let t=0;t<e.length;t++){let n=r>>>8&255;n^=255&e[t],n^=n>>>4,r=r<<8&65535,r^=n,n=n<<5&65535,r^=n,n=n<<7&65535,r^=n}return r}));let wo=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];"undefined"!=typeof Int32Array&&(wo=new Int32Array(wo)),po("kermit",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=void 0!==t?~~t:0;for(let t=0;t<e.length;t++){const n=e[t];r=65535&(wo[255&(r^n)]^r>>8)}return r}));let So=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];"undefined"!=typeof Int32Array&&(So=new Int32Array(So)),po("crc-24",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=void 0!==t?~~t:11994318;for(let t=0;t<e.length;t++){const n=e[t];r=16777215&(So[255&(r>>16^n)]^r<<8)}return r}));let Eo=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(Eo=new Int32Array(Eo));const xo=po("crc-32",(function(e,t){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=0===t?0:~t;for(let t=0;t<e.length;t++){const n=e[t];r=Eo[255&(r^n)]^r>>>8}return~r}));let Io=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(Io=new Int32Array(Io)),po("jam",(function(e,t=-1){Yn.Buffer.isBuffer(e)||(e=fo(e));let r=0===t?0:~~t;for(let t=0;t<e.length;t++){const n=e[t];r=Io[255&(r^n)]^r>>>8}return r}));var _o=__webpack_require__(8287).Buffer;class To extends p{kind=ne.Object;maxSize=0;resizable=!0;elements;enumIndex;constructor(e){super("roByteArray"),this.elements=e??new Uint8Array,this.enumIndex=this.elements.length?0:-1;const t=new ae(this);this.registerMethods({ifByteArray:[this.readFile,this.writeFile,this.appendFile,this.setResize,this.fromHexString,this.toHexString,this.fromBase64String,this.toBase64String,this.fromAsciiString,this.toAsciiString,this.getSignedByte,this.getSignedLong,this.getCRC32,this.isLittleEndianCPU],ifArray:[this.peek,this.pop,this.push,this.shift,this.unshift,this.delete,this.count,this.clear,this.append],ifArrayGet:[this.getEntry],ifArraySet:[this.setEntry],ifArraySizeInfo:[this.capacity,this.isResizable],ifEnum:[t.isEmpty,t.isNext,t.next,t.reset]})}toString(e){return e?"<Component: roByteArray>":["<Component: roByteArray> =","[",...this.getElements().slice(0,100).map((e=>`    ${e.toString(this)}`)),this.elements.length>100?"    ...\n]":"]"].join("\n")}equalTo(e){return xe.False}getValue(){return this.elements}getElements(){const e=[];return this.elements.slice().forEach((t=>{e.push(new Y(t))})),e}getByteArray(){return this.elements}get(e){switch(e.kind){case ne.Float:return this.getElements()[Math.trunc(e.getValue())]??Ie.Instance;case ne.Int32:return this.getElements()[e.getValue()]??Ie.Instance;case ne.String:return this.getMethod(e.value)??Ie.Instance;default:return Ie.Instance}}set(e,t){if(Xp(e)&&t.kind===ne.Int32){e.kind===ne.Int64&&(e=new Y(e.getValue()));const r=Math.trunc(e.getValue());if(r>=this.elements.length){const e=new Uint8Array(r+1);e.set(this.elements),this.elements=e}this.elements[r]=t.getValue()}return Ie.Instance}hasNext(){return xe.from(this.enumIndex>=0)}getNext(){return this.enumIndex>=0&&(this.enumIndex++,this.enumIndex>=this.elements.length&&(this.enumIndex=-1)),new Y(this.elements[this.enumIndex])}updateNext(){const e=this.elements.length>0;-1===this.enumIndex&&e?this.enumIndex=0:(this.enumIndex>=this.elements.length||!e)&&(this.enumIndex=-1)}resetNext(){this.enumIndex=this.elements.length>0?0:-1}updateCapacity(e=0){if(this.resizable&&e>0){if(this.elements.length>0&&this.elements.length>this.maxSize){let t=this.elements.length-1,r=Math.trunc(t*e);r-this.maxSize<16?this.maxSize=Math.trunc(16*(t/16+1)):this.maxSize=r}}else this.maxSize=Math.max(this.elements.length,this.maxSize)}isLittleEndian(){const e=new Uint32Array([287454020]);return 68===new Uint8Array(e.buffer)[0]}readFile=new se("readFile",{signature:{args:[new ee("path",ne.String),new ee("index",ne.Int32,new Y(0)),new ee("length",ne.Int32,new Y(-1))],returns:ne.Boolean},impl:(e,t,r,n)=>{try{const i=e.fileSystem;if(i&&uo(t.value)){let e=i.readFileSync(t.value);if(r.getValue()>0||n.getValue()>0){let t=r.getValue(),i=n.getValue()<1?void 0:t+n.getValue();e=e.slice(t,i)}if(this.resizable||e.length<=this.maxSize)return this.elements=e,this.updateNext(),this.updateCapacity(),xe.True}}catch(e){return xe.False}return xe.False}});writeFile=new se("writeFile",{signature:{args:[new ee("path",ne.String),new ee("index",ne.Int32,new Y(0)),new ee("length",ne.Int32,new Y(-1))],returns:ne.Boolean},impl:(e,t,r,n)=>{try{const i=e.fileSystem;if(i&&lo(t.value)){if(r.getValue()>0||n.getValue()>0){let e=r.getValue(),s=n.getValue()<1?void 0:e+n.getValue();i.writeFileSync(t.value,_o.from(this.elements.slice(e,s)))}else i.writeFileSync(t.value,_o.from(this.elements));return xe.True}}catch(e){return xe.False}return xe.False}});appendFile=new se("appendFile",{signature:{args:[new ee("path",ne.String),new ee("index",ne.Int32,new Y(0)),new ee("length",ne.Int32,new Y(-1))],returns:ne.Boolean},impl:(e,t,r,n)=>{try{const i=e.fileSystem;if(i&&lo(t.value)){let e,s=i.readFileSync(t.value);if(r.getValue()>0||n.getValue()>0){let t=r.getValue(),i=n.getValue()<1?void 0:t+n.getValue(),a=this.elements.slice(t,i);e=new Uint8Array(s.length+a.length),e.set(s,0),e.set(a,s.length)}else e=new Uint8Array(s.length+this.elements.length),e.set(s,0),e.set(this.elements,s.length);return i.writeFileSync(t.value,_o.from(e)),xe.True}}catch(e){return xe.False}return xe.False}});fromAsciiString=new se("fromAsciiString",{signature:{args:[new ee("asciiStr",ne.String)],returns:ne.Void},impl:(e,t)=>{const r=new Uint8Array(_o.from(t.value,"utf8"));return(this.resizable||r.length<=this.maxSize)&&(this.elements=r,this.updateNext(),this.updateCapacity()),Ie.Instance}});toAsciiString=new se("toAsciiString",{signature:{args:[],returns:ne.String},impl:e=>new Ee(_o.from(this.elements).toString("utf8"))});fromHexString=new se("fromHexString",{signature:{args:[new ee("hexStr",ne.String)],returns:ne.Void},impl:(e,t)=>{const r=t.value.replace(/[^0-9A-Fa-f]/g,"0");return r.length%2==0&&(this.resizable||r.length/2<=this.maxSize)&&(this.elements=new Uint8Array(_o.from(r,"hex")),this.updateNext(),this.updateCapacity()),Ie.Instance}});toHexString=new se("toHexString",{signature:{args:[],returns:ne.String},impl:e=>{const t=_o.from(this.elements).toString("hex");return new Ee(t.toUpperCase())}});fromBase64String=new se("fromBase64String",{signature:{args:[new ee("hexStr",ne.String)],returns:ne.Void},impl:(e,t)=>{const r=new Uint8Array(_o.from(t.value,"base64"));return(this.resizable||r.length<=this.maxSize)&&(this.elements=r,this.updateNext(),this.updateCapacity()),Ie.Instance}});toBase64String=new se("toBase64String",{signature:{args:[],returns:ne.String},impl:e=>new Ee(_o.from(this.elements).toString("base64"))});getSignedByte=new se("getSignedByte",{signature:{args:[new ee("index",ne.Int32|ne.Float)],returns:ne.Int32},impl:(e,t)=>{const r=Math.trunc(t.getValue());if(r<this.elements.length){let e=this.elements[r]<<24>>24;return new Y(e)}return new Y(0)}});getSignedLong=new se("getSignedLong",{signature:{args:[new ee("index",ne.Int32|ne.Float)],returns:ne.Int32},impl:(e,t)=>{const r=4*Math.trunc(t.getValue());if(r<this.elements.length-3){const e=new DataView(this.elements.buffer,r,4).getInt32(0,this.isLittleEndian());return new Y(e)}return new Y(0)}});getCRC32=new se("getCRC32",{signature:{args:[new ee("index",ne.Int32|ne.Float,new Y(0)),new ee("length",ne.Int32|ne.Float,new Y(-1))],returns:ne.Int32},impl:(e,t,r)=>{const n=Math.trunc(t.getValue()),i=Math.trunc(r.getValue());if(n>0||i>0){const e=i<1?void 0:n+i;return new Y(xo(_o.from(this.elements.slice(n,e))))}return new Y(xo(_o.from(this.elements)))}});setResize=new se("setResize",{signature:{args:[new ee("minSize",ne.Int32|ne.Float),new ee("autoResize",ne.Boolean)],returns:ne.Void},impl:(e,t,r)=>(this.maxSize=Math.max(Math.trunc(t.getValue()),this.elements.length),this.resizable=r.toBoolean(),Ie.Instance)});isLittleEndianCPU=new se("isLittleEndianCPU",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.isLittleEndian())});peek=new se("peek",{signature:{args:[],returns:ne.Dynamic},impl:e=>{const t=this.elements[this.elements.length-1];return t?new Y(t):Ie.Instance}});pop=new se("pop",{signature:{args:[],returns:ne.Dynamic},impl:e=>{if(0===this.elements.length)return Ie.Instance;const t=this.elements.length-1,r=this.elements[t];let n=new Uint8Array(t);return n.set(this.elements.slice(0,t),0),this.elements=n,r?new Y(r):Ie.Instance}});push=new se("push",{signature:{args:[new ee("byte",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>{if(Xp(t))if(this.resizable||this.elements.length<this.maxSize){let e=new Uint8Array(this.elements.length+1);e.set(this.elements,0),e[this.elements.length]=t.getValue(),this.elements=e,this.updateNext(),this.updateCapacity(1.5)}else e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Push: set ignored for index out of bounds on non-resizable array: ${e.formatLocation()}`);else e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Push: set ignored for non-numeric value: ${e.formatLocation()}`);return Ie.Instance}});shift=new se("shift",{signature:{args:[],returns:ne.Dynamic},impl:e=>{if(0===this.elements.length)return Ie.Instance;const t=this.elements[0];let r=new Uint8Array(this.elements.length-1);return r.set(this.elements.slice(1)),this.elements=r,t?new Y(t):Ie.Instance}});unshift=new se("unshift",{signature:{args:[new ee("byte",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>{if(Xp(t))if(this.resizable||this.elements.length<this.maxSize){let e=new Uint8Array(this.elements.length+1);e[0]=t.getValue(),e.set(this.elements,1),this.elements=e,this.updateNext(),this.updateCapacity(1.25)}else e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Unshift: unshift ignored for full non-resizable array: ${e.formatLocation()}`);else e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Unshift: unshift ignored for non-numeric value: ${e.formatLocation()}`);return Ie.Instance}});delete=new se("delete",{signature:{args:[new ee("index",ne.Int32|ne.Float)],returns:ne.Boolean},impl:(e,t)=>{const r=Math.trunc(t.getValue());if(r<0||r>=this.elements.length)return xe.False;let n=new Uint8Array(this.elements.length-1);return n.set(this.elements.slice(0,r),0),n.set(this.elements.slice(r+1),r),this.elements=n,xe.True}});count=new se("count",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.elements.length)});clear=new se("clear",{signature:{args:[],returns:ne.Void},impl:e=>(this.elements=new Uint8Array,this.enumIndex=-1,Ie.Instance)});append=new se("append",{signature:{args:[new ee("array",ne.Object)],returns:ne.Void},impl:(e,t)=>t instanceof To?((this.resizable||this.elements.length+t.elements.length<=this.maxSize)&&(this.elements=new Uint8Array([...this.elements,...t.elements]),this.updateNext(),this.updateCapacity()),Ie.Instance):(e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Append: invalid parameter type ${t.getComponentName()}: ${e.formatLocation()}`),Ie.Instance)});getEntry=new se("getEntry",{signature:{args:[new ee("index",ne.Int32|ne.Float)],returns:ne.Dynamic},impl:(e,t)=>this.getElements()[Math.trunc(t.getValue())]||Ie.Instance});setEntry=new se("setEntry",{signature:{args:[new ee("index",ne.Int32|ne.Float),new ee("value",ne.Dynamic)],returns:ne.Void},impl:(e,t,r)=>(Xp(r)||e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.SetEntry: set ignored for non-numeric value: ${e.formatLocation()}`),this.set(t,r))});capacity=new se("capacity",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.maxSize)});isResizable=new se("isResizable",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.resizable)})}var ko=__webpack_require__(1565),Ao=__webpack_require__(8287).Buffer;class Co extends p{kind=ne.Object;cipher;cipherEncrypt;cipherFormat;cipherKey;cipherIV;cipherPadding;constructor(){super("roEVPCipher"),this.cipher=null,this.cipherEncrypt=!1,this.cipherFormat="",this.cipherKey="",this.cipherIV="",this.cipherPadding=!1,this.registerMethods({ifEVPCipher:[this.setup,this.update,this.reinit,this.process,this.final]})}toString(e){return"<Component: roEVPCipher>"}equalTo(e){return xe.False}setupCipher(e,t,r,n,i,s){try{return this.cipherEncrypt=t,this.cipherFormat=r,this.cipherKey=n,this.cipherIV=i,this.cipherPadding=s,this.cipher=t?ko.Tt(r,Ao.from(n,"hex"),Ao.from(i,"hex")):ko._7(r,Ao.from(n,"hex"),Ao.from(i,"hex")),this.cipher&&this.cipher.setAutoPadding(s),0}catch(t){return e.isDevMode&&e.stderr.write(`warning,[roEVPCipher] Setup error: ${t.message}`),this.cipher=null,this.cipherFormat="",this.cipherKey="",this.cipherIV="",-1}}updateData(e){if(this.cipher)try{return this.cipher.update(Ao.from(e))}catch(e){return Ao.from("")}return Ao.from("")}finalResult(e){if(this.cipher)try{let e=this.cipher.final();return this.cipher=null,e}catch(t){return e.isDevMode&&e.stderr.write(`error,[roEVPCipher] Error: ${t.message}`),this.cipher=null,null}return Ao.from("")}setup=new se("setup",{signature:{args:[new ee("encrypt",ne.Boolean),new ee("format",ne.String),new ee("key",ne.String),new ee("iv",ne.String),new ee("padding",ne.Int32)],returns:ne.Int32},impl:(e,t,r,n,i,s)=>new Y(this.setupCipher(e,t.toBoolean(),r.value,n.value,i.value,1===s.getValue()))});reinit=new se("reinit",{signature:{args:[],returns:ne.Int32},impl:e=>""!==this.cipherFormat&&""!==this.cipherKey&&""!==this.cipherIV?new Y(this.setupCipher(e,this.cipherEncrypt,this.cipherFormat,this.cipherKey,this.cipherIV,this.cipherPadding)):new Y(-1)});process=new se("process",{signature:{args:[new ee("data",ne.Object)],returns:ne.Object},impl:(e,t)=>{if(""!==this.cipherFormat&&""!==this.cipherKey&&""!==this.cipherIV&&0===this.setupCipher(e,this.cipherEncrypt,this.cipherFormat,this.cipherKey,this.cipherIV,this.cipherPadding)){let r=this.updateData(t.getByteArray()),n=this.finalResult(e);return n?new To(new Uint8Array([...r,...n])):Ie.Instance}return Ie.Instance}});update=new se("update",{signature:{args:[new ee("data",ne.Object)],returns:ne.String},impl:(e,t)=>new To(this.updateData(t.getByteArray()))});final=new se("final",{signature:{args:[],returns:ne.Object},impl:e=>{const t=this.finalResult(e);return t?new To(t):Ie.Instance}})}var Mo=__webpack_require__(8287).Buffer;class Ro extends p{kind=ne.Object;hash;algorithmName;constructor(){super("roEVPDigest"),this.hash=null,this.algorithmName="",this.registerMethods({ifEVPDigest:[this.setup,this.update,this.reinit,this.process,this.final]})}toString(e){return"<Component: roEVPDigest>"}equalTo(e){return xe.False}setupHash(e){try{return this.hash=ko.n1(e),0}catch(e){return this.hash=null,this.algorithmName="",-1}}updateData(e){if(this.hash)try{return this.hash.update(Mo.from(e)),!0}catch(e){return!1}return!1}finalResult(){if(this.hash)try{let e=this.hash.digest("hex");return this.hash=null,e}catch(e){return""}return""}setup=new se("setup",{signature:{args:[new ee("algorithm",ne.String)],returns:ne.Int32},impl:(e,t)=>(this.algorithmName=t.value,new Y(this.setupHash(t.value)))});reinit=new se("reinit",{signature:{args:[],returns:ne.Int32},impl:e=>""!==this.algorithmName?new Y(this.setupHash(this.algorithmName)):new Y(-1)});process=new se("process",{signature:{args:[new ee("data",ne.Object)],returns:ne.String},impl:(e,t)=>""!==this.algorithmName&&0===this.setupHash(this.algorithmName)&&this.updateData(t.getByteArray())?new Ee(this.finalResult()):new Ee("")});update=new se("update",{signature:{args:[new ee("data",ne.Object)],returns:ne.Void},impl:(e,t)=>(this.updateData(t.getByteArray()),Ie.Instance)});final=new se("final",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.finalResult())})}var Oo=__webpack_require__(8287).Buffer;class Do extends p{kind=ne.Object;hmac;hmacAlgorithm;hmacKey;constructor(){super("roHMAC"),this.hmac=null,this.hmacAlgorithm="",this.hmacKey=Oo.from(""),this.registerMethods({ifHMAC:[this.setup,this.update,this.reinit,this.process,this.final]})}toString(e){return"<Component: roHMAC>"}equalTo(e){return xe.False}setupHMAC(e,t){try{return this.hmac=ko.Gz(e,t),this.hmacAlgorithm=e,this.hmacKey=t,0}catch(e){return this.hmac=null,this.hmacAlgorithm="",this.hmacKey=Oo.from(""),-1}}updateData(e){if(this.hmac)try{return this.hmac.update(Oo.from(e)),!0}catch(e){return!1}return!1}finalResult(){if(this.hmac)try{let e=this.hmac.digest();return this.hmac=null,e}catch(e){return Oo.from("")}return Oo.from("")}setup=new se("setup",{signature:{args:[new ee("digestType",ne.String),new ee("key",ne.Object)],returns:ne.Int32},impl:(e,t,r)=>new Y(this.setupHMAC(t.value,Oo.from(r.getByteArray())))});update=new se("update",{signature:{args:[new ee("data",ne.Object)],returns:ne.Void},impl:(e,t)=>(this.updateData(t.getByteArray()),Ie.Instance)});reinit=new se("reinit",{signature:{args:[],returns:ne.Boolean},impl:e=>""!==this.hmacAlgorithm?new Y(this.setupHMAC(this.hmacAlgorithm,this.hmacKey)):new Y(-1)});process=new se("process",{signature:{args:[new ee("data",ne.Object)],returns:ne.Object},impl:(e,t)=>""!==this.hmacAlgorithm&&0===this.setupHMAC(this.hmacAlgorithm,this.hmacKey)&&this.updateData(t.getByteArray())?new To(this.finalResult()):new To(Oo.from(""))});final=new se("final",{signature:{args:[],returns:ne.Object},impl:e=>new To(this.finalResult())})}var Po=__webpack_require__(8287).Buffer;class Lo extends p{kind=ne.Object;algorithm="aes-256-ctr";keys;constructor(e){super("roDeviceCrypto"),this.keys=new Map;let t=e.deviceInfo.get("clientId").replaceAll("-","");this.keys.set("device",this.format256BitKey(t));let r=e.deviceInfo.get("developerId");this.keys.set("channel",this.format256BitKey(r));let n=e.deviceInfo.get("deviceModel");this.keys.set("model",this.format256BitKey(`${n}${r}`)),this.registerMethods({ifDeviceCrypto:[this.encrypt,this.decrypt]})}toString(e){return"<Component: roDeviceCrypto>"}equalTo(e){return xe.False}format256BitKey(e){return e.length<32?e=e.padEnd(32,String.fromCharCode(13)):e.length>32&&(e=e.slice(0,32)),Po.from(e)}encrypt=new se("encrypt",{signature:{args:[new ee("input",ne.Object),new ee("type",ne.String)],returns:ne.Object},impl:(e,t,r)=>{try{const n=this.keys.get(r.value.toLowerCase());if(!n)return e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roDeviceCrypto.Encrypt: invalid encryption type ${r.value}: ${e.formatLocation()}`),Ie.Instance;const i=ko.po(16),s=ko.po(16),a=ko.Tt(this.algorithm,n,i),o=a.update(Po.from([...t.getByteArray(),...s])),c=a.final();return new To(new Uint8Array([...o,...c,...i]))}catch(e){return Ie.Instance}}});decrypt=new se("decrypt",{signature:{args:[new ee("encryptedData",ne.Object),new ee("type",ne.String)],returns:ne.String},impl:(e,t,r)=>{const n=this.keys.get(r.value.toLowerCase());if(!n)return e.stdout.write(`warning;BRIGHTSCRIPT: ERROR: roDeviceCrypto.Decrypt: invalid encryption type ${r.value}: ${e.formatLocation()}`),Ie.Instance;try{const e=t.getByteArray().slice(-16),r=t.getByteArray().slice(0,-16),i=ko._7(this.algorithm,n,Po.from(e)),s=i.update(Po.from(r)),a=i.final();return new To(new Uint8Array([...s,...a].slice(0,-16)))}catch(e){return Ie.Instance}}})}var Fo=__webpack_require__(4353),No=__webpack_require__.n(Fo),Bo=__webpack_require__(3826),Uo=__webpack_require__.n(Bo),jo=__webpack_require__(445),Vo=__webpack_require__.n(jo);class Go extends p{kind=ne.Object;markTime=Date.now();constructor(e){super("roDateTime"),No().extend(Uo()),No().extend(Vo()),this.registerMethods({ifDateTime:[this.mark,this.asDateString,this.asDateStringNoParam,this.asDateStringLoc,this.asTimeStringLoc,this.asSeconds,this.asSecondsLong,this.fromISO8601String,this.fromSeconds,this.fromSecondsLong,this.getDayOfMonth,this.getDayOfWeek,this.getHours,this.getLastDayOfMonth,this.getMilliseconds,this.getMinutes,this.getMonth,this.getSeconds,this.getTimeZoneOffset,this.getWeekday,this.getYear,this.toISOString,this.toLocalTime]}),e?this.markTime=1e3*e:this.resetTime()}formatDate(e,t){const r=new Date(this.markTime);let n="";switch(e.toLowerCase()){case"long-date":n=r.toLocaleDateString(t,{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}).replace(",","");break;case"full":n=r.toLocaleDateString(t,{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"});break;case"short-weekday":n=r.toLocaleDateString(t,{weekday:"short",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}).replace(",","");break;case"no-weekday":case"long":n=r.toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"});break;case"short-month":n=r.toLocaleDateString(t,{weekday:"long",year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}).replace(",","");break;case"short-month-short-weekday":n=r.toLocaleDateString(t,{weekday:"short",year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}).replace(",","");break;case"medium":case"short-month-no-weekday":n=r.toLocaleDateString(t,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"});break;case"short":n=r.toLocaleDateString(t,{year:"en-US"!==t?"numeric":"2-digit",month:"numeric",day:"numeric",timeZone:"UTC"});break;case"short-date":{const e=r.toLocaleDateString("en-US",{year:"2-digit",month:"numeric",day:"numeric",timeZone:"UTC"}).split("/");n=e[0]+"/"+e[1]+"/"+parseInt(e[2]).toString();break}case"short-date-dashes":{const e=r.toLocaleDateString("en-US",{year:"2-digit",month:"numeric",day:"numeric",timeZone:"UTC"}).split("/");n=e[0]+"-"+e[1]+"-"+parseInt(e[2]).toString();break}}return n}formatTime(e,t){const r=new Date(this.markTime);let n="";switch(e.toLowerCase()){case"short":n=new Intl.DateTimeFormat(t,{timeStyle:"short",timeZone:"UTC"}).format(r).toLowerCase();break;case"short-h12":n=new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric",hour12:!0,timeZone:"UTC"}).format(r).toLowerCase();break;case"short-h24":n=new Intl.DateTimeFormat(t,{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).format(r)}return n}resetTime(){this.markTime=Date.now()}toString(e){return"<Component: roDateTime>"}equalTo(e){return xe.False}mark=new se("mark",{signature:{args:[],returns:ne.Void},impl:e=>(this.resetTime(),_e.Instance)});asDateString=new se("asDateString",{signature:{args:[new ee("format",ne.String)],returns:ne.String},impl:(e,t)=>{let r=this.formatDate(t.value,"en-US");return""===r&&(r=this.formatDate("long-date","en-US")),new Ee(r)}});asDateStringNoParam=new se("asDateStringNoParam",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.formatDate("long-date","en-US"))});asDateStringLoc=new se("asDateStringLoc",{signature:{args:[new ee("format",ne.String)],returns:ne.String},impl:(e,t)=>{const r=["EEEE","EEE","dd","d","MMMM","MMM","MM","M","yy","y"],n=(e.deviceInfo.get("locale")??"en_US").replace("_","-"),i=""===t.value.trim()?"short":t.value;let s=this.formatDate(i,n);if(""===s){const e=new Date(this.markTime);s=Wo(e,zo(t.value,r),n)}return new Ee(s)}});asTimeStringLoc=new se("asTimeStringLoc",{signature:{args:[new ee("format",ne.String)],returns:ne.String},impl:(e,t)=>{const r=["HH","H","hh","h","mm","m","a"],n=(e.deviceInfo.get("locale")??"en_US").replace("_","-"),i=""===t.value.trim()?"short":t.value;let s=this.formatTime(i,n);if(""===s){const e=new Date(this.markTime);s=Wo(e,zo(t.value,r),n)}return new Ee(s)}});asSeconds=new se("asSeconds",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.markTime/1e3)});fromISO8601String=new se("fromISO8601String",{signature:{args:[new ee("dateString",ne.String)],returns:ne.Void},impl:(e,t)=>{let r=No()(t.value,og,!0).utc(!0);return r.isValid()||(r=No()(0)),this.markTime=r.toDate().valueOf(),_e.Instance}});asSecondsLong=new se("asSecondsLong",{signature:{args:[],returns:ne.Int64},impl:e=>new z(this.markTime/1e3)});fromSeconds=new se("fromSeconds",{signature:{args:[new ee("numSeconds",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.markTime=1e3*t.getValue(),_e.Instance)});fromSecondsLong=new se("fromSecondsLong",{signature:{args:[new ee("numSeconds",ne.Int64)],returns:ne.Void},impl:(e,t)=>(this.markTime=1e3*t.getValue().toNumber(),Ie.Instance)});getDayOfMonth=new se("getDayOfMonth",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=new Date(this.markTime);return new Y(t.getUTCDate())}});getDayOfWeek=new se("getDayOfWeek",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=new Date(this.markTime);return new Y(t.getUTCDay())}});getHours=new se("getHours",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=new Date(this.markTime);return new Y(t.getUTCHours())}});getLastDayOfMonth=new se("getLastDayOfMonth",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=new Date(this.markTime);return new Y(new Date(t.getUTCFullYear(),t.getUTCMonth()+1,0).getUTCDate())}});getMilliseconds=new se("getMilliseconds",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=new Date(this.markTime);return new Y(t.getUTCMilliseconds())}});getMinutes=new se("getMinutes",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=new Date(this.markTime);return new Y(t.getUTCMinutes())}});getMonth=new se("getMonth",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=new Date(this.markTime);return new Y(t.getUTCMonth()+1)}});getSeconds=new se("getSeconds",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=new Date(this.markTime);return new Y(t.getUTCSeconds())}});getTimeZoneOffset=new se("getTimeZoneOffset",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(0-((e="UTC",t=new Date)=>{const r=new Date(t.toLocaleString("en-US",{timeZone:"UTC"})),n=new Date(t.toLocaleString("en-US",{timeZone:e}));return Math.round((n.getTime()-r.getTime())/6e4)})(e.deviceInfo.get("timeZone")))});getWeekday=new se("getWeekday",{signature:{args:[],returns:ne.String},impl:e=>{const t=new Date(this.markTime);return new Ee(t.toLocaleDateString("en-US",{weekday:"long",timeZone:"UTC"}))}});getYear=new se("getYear",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=new Date(this.markTime);return new Y(t.getUTCFullYear())}});toISOString=new se("toISOString",{signature:{args:[],returns:ne.String},impl:e=>{const t=new Date(this.markTime);return new Ee(t.toISOString().split(".")[0]+"Z")}});toLocalTime=new se("toLocalTime",{signature:{args:[],returns:ne.Void},impl:e=>(this.markTime-=60*new Date(this.markTime).getTimezoneOffset()*1e3,_e.Instance)})}function zo(e,t){const r=new RegExp(`(${t.join("|")})`,"g");return e.replace(r,((e,t,r,n)=>{const i=n[r-1],s=n[r+t.length];return i&&/[a-zA-Z0-9]/.test(i)&&s&&/[a-zA-Z0-9]/.test(s)?t:`{${t}}`}))}const Wo=(e,t,r="en-US")=>t.replace(/\\?\{(yy|y|MM|M|dd|d|HH|H|hh|h|mm|m|MMMM|MMM|EEEE|EEE|a)\}/g,(t=>{if(t.startsWith("\\"))return t.slice(1);switch(t){case"{yy}":return`${e.getUTCFullYear()}`.slice(-2);case"{y}":return`${e.getUTCFullYear()}`;case"{MM}":return`${e.getUTCMonth()+1}`.padStart(2,"0");case"{M}":return`${e.getUTCMonth()+1}`;case"{dd}":return`${e.getUTCDate()}`.padStart(2,"0");case"{d}":return`${e.getUTCDate()}`;case"{HH}":return`${e.getUTCHours()}`.padStart(2,"0");case"{H}":return`${e.getUTCHours()}`;case"{hh}":return`${e.getUTCHours()%12||12}`.padStart(2,"0");case"{h}":return`${e.getUTCHours()%12||12}`;case"{mm}":return`${e.getUTCMinutes()}`.padStart(2,"0");case"{m}":return`${e.getUTCMinutes()}`;case"{MMMM}":return new Intl.DateTimeFormat(r,{month:"long",timeZone:"UTC"}).format(e);case"{MMM}":return new Intl.DateTimeFormat(r,{month:"short",timeZone:"UTC"}).format(e);case"{EEEE}":return new Intl.DateTimeFormat(r,{weekday:"long",timeZone:"UTC"}).format(e);case"{EEE}":return new Intl.DateTimeFormat(r,{weekday:"short",timeZone:"UTC"}).format(e);case"{a}":{const t=new Intl.DateTimeFormat(r,{hour:"numeric",hour12:!0,timeZone:"UTC"}).formatToParts(e);return t.find((e=>"dayPeriod"===e.type))?.value.toLowerCase()??""}default:return""}}));class qo extends p{kind=ne.Object;markTime;constructor(e){super("roTimespan"),this.markTime=e||Date.now(),No().extend(Uo()),No().extend(Vo()),this.registerMethods({ifTimespan:[this.mark,this.totalMilliseconds,this.totalSeconds,this.getSecondsToISO8601Date]})}resetTime(){this.markTime=Date.now()}toString(e){return"<Component: roTimespan>"}equalTo(e){return xe.False}mark=new se("mark",{signature:{args:[],returns:ne.Void},impl:e=>(this.resetTime(),Ie.Instance)});totalMilliseconds=new se("totalMilliseconds",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(Date.now()-this.markTime)});totalSeconds=new se("totalSeconds",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(Math.floor((Date.now()-this.markTime)/1e3))});getSecondsToISO8601Date=new se("getSecondsToISO8601Date",{signature:{args:[new ee("date",ne.String)],returns:ne.Int32},impl:(e,t)=>{let r=2077252342;const n=Date.now(),i=No()(t.value,og,!0).utc(!0);return i.isValid()&&(r=Math.round((i.toDate().valueOf()-n)/1e3)),new Y(r)}})}class $o extends p{kind=ne.Object;constructor(){super("roAppManager"),this.registerMethods({ifAppManager:[this.getUpTime,this.getScreensaverTimeout,this.setUserSignedIn,this.setAutomaticAudioGuideEnabled,this.setNowPlayingContentMetaData,this.showChannelStoreSpringboard,this.isAppInstalled,this.launchApp,this.updateLastKeyPressTime,this.startVoiceActionSelectionRequest,this.setVoiceActionStrings,this.getLastExitInfo,this.setTheme,this.setThemeAttribute,this.clearThemeAttribute,this.getRunParams,this.getAppList,this.setDisplayDisabled]})}toString(e){return"<Component: roAppManager>"}equalTo(e){return xe.False}getUpTime=new se("getUpTime",{signature:{args:[],returns:ne.Object},impl:e=>new qo(e.startTime)});getScreensaverTimeout=new se("getScreensaverTimeout",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(0)});updateLastKeyPressTime=new se("updateLastKeyPressTime",{signature:{args:[],returns:ne.Void},impl:e=>(e.lastKeyTime=Date.now(),Ie.Instance)});setUserSignedIn=new se("setUserSignedIn",{signature:{args:[new ee("signedIn",ne.Boolean)],returns:ne.Void},impl:(e,t)=>Ie.Instance});setNowPlayingContentMetaData=new se("setNowPlayingContentMetaData",{signature:{args:[new ee("contentMetaData",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>Ie.Instance});startVoiceActionSelectionRequest=new se("startVoiceActionSelectionRequest",{signature:{args:[],returns:ne.Void},impl:e=>Ie.Instance});setVoiceActionStrings=new se("setVoiceActionStrings",{signature:{args:[new ee("actions",ne.Object)],returns:ne.Void},impl:(e,t)=>Ie.Instance});getLastExitInfo=new se("getLastExitInfo",{signature:{args:[],returns:ne.Object},impl:e=>{const t=e.deviceInfo.get("appList")?.find((e=>e.running));return cg({exit_code:t?.exitReason??ze.UNKNOWN,media_player_state:"stopped",mem_limit:null,timestamp:t?.exitTime?new Date(t.exitTime).toISOString():null})}});setTheme=new se("setTheme",{signature:{args:[new ee("attributeArray",ne.Object)],returns:ne.Void},impl:(e,t)=>Ie.Instance});setThemeAttribute=new se("setThemeAttribute",{signature:{args:[new ee("attributeName",ne.String),new ee("attributeValue",ne.String)],returns:ne.Void},impl:(e,t,r)=>Ie.Instance});clearThemeAttribute=new se("clearThemeAttribute",{signature:{args:[new ee("attributeName",ne.String)],returns:ne.Void},impl:(e,t)=>Ie.Instance});isAppInstalled=new se("isAppInstalled",{signature:{args:[new ee("channelId",ne.String),new ee("version",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>{const n=e.deviceInfo.get("appList");if(n instanceof Array){const e=n.find((e=>e.id===t.value));return xe.from(e&&Ho(e.version,r.value)>=0)}return xe.False}});launchApp=new se("launchApp",{signature:{args:[new ee("channelId",ne.String),new ee("version",ne.String),new ee("params",ne.Dynamic)],returns:ne.Boolean},impl:(e,t,r,n)=>{const i=e.deviceInfo.get("appList");if(i instanceof Array){const e=i.find((e=>e.id===t.value));if((s=e)&&"string"==typeof s.id&&"string"==typeof s.title&&"string"==typeof s.version&&("string"==typeof s.path||void 0===s.path)&&("string"==typeof s.icon||void 0===s.icon)&&("string"==typeof s.password||void 0===s.password)&&("string"==typeof s.exitReason||void 0===s.exitReason)&&("number"==typeof s.exitTime||void 0===s.exitTime)&&(s.params instanceof Map||void 0===s.params)&&("boolean"==typeof s.running||void 0===s.running)&&Ho(e.version,r.value)>=0){const t=new Map;return n.elements.forEach(((e,r)=>{t.set(r.toString(),e.toString())})),t.set("source","other-channel"),e.params=t,postMessage(e),xe.True}}var s;return xe.False}});showChannelStoreSpringboard=new se("showChannelStoreSpringboard",{signature:{args:[new ee("channelId",ne.String)],returns:ne.Boolean},impl:(e,t)=>xe.False});getRunParams=new se("getRunParams",{signature:{args:[],returns:ne.Object},impl:e=>e.runParams||new oe([])});getAppList=new se("getAppList",{signature:{args:[],returns:ne.Object},impl:e=>{const t=new he([]),r=e.deviceInfo.get("appList");return r instanceof Array&&r.forEach((e=>{const r={id:e.id,title:e.title,version:e.version};t.elements.push(cg(r))})),t}});setAutomaticAudioGuideEnabled=new se("setAutomaticAudioGuideEnabled",{signature:{args:[new ee("enabled",ne.Boolean)],returns:ne.Void},impl:(e,t)=>Ie.Instance});setDisplayDisabled=new se("setDisplayDisabled",{signature:{args:[new ee("disabled",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(e.displayEnabled=!t.toBoolean(),postMessage({displayEnabled:!t.toBoolean()}),_e.Instance)})}function Ho(e,t){const r=function(e){let t=e.split(".");t=t.slice(0,3);const r=t.map((e=>{const t=parseInt(e,10);return isNaN(t)?0:t}));for(;r.length<3;)r.push(0);return r.join(".")}(e).split("."),n=""===t.trim()?["0"]:t.split(".");for(let e=0;e<3;e++){const t=Number(r[e]),i=n[e]&&""!==n[e].trim()?Number(n[e]):0;if(t<i||isNaN(i))return-1;if(t>i)return 1}return 0}var Xo=__webpack_require__(8805);class Yo{component;callback;constructor(e,t){this.component=e,this.callback=t}set(e){if(this.callback){const t=this.component.getComponentName();this.component.port?.unregisterCallback(t),this.component.port=e,this.component.port.registerCallback(t,this.callback)}else e.addReference(),this.component.port?.removeReference(),this.component.port=e;return Ie.Instance}setMessagePort=new se("setMessagePort",{signature:{args:[new ee("port",ne.Object)],returns:ne.Void},impl:(e,t)=>this.set(t)});setPort=new se("setPort",{signature:{args:[new ee("port",ne.Object)],returns:ne.Void},impl:(e,t)=>this.set(t)})}class Ko{component;constructor(e){this.component=e}getMessagePort=new se("getMessagePort",{signature:{args:[],returns:ne.Object},impl:e=>this.component.port??Ie.Instance});getPort=new se("getPort",{signature:{args:[],returns:ne.Object},impl:e=>this.component.port??Ie.Instance})}class Zo extends p{kind=ne.Object;id;order;orderInfo;credData;fakeServerEnabled;port;constructor(){super("roChannelStore"),this.id=103809e3+Math.floor(100*Math.random())+1,this.order=[],this.orderInfo=Ie.Instance,this.credData="",this.fakeServerEnabled=!1;const e=new Yo(this),t=new Ko(this);this.registerMethods({ifChannelStore:[this.getIdentity,this.getCatalog,this.getStoreCatalog,this.getPurchases,this.getAllPurchases,this.setOrder,this.clearOrder,this.deltaOrder,this.getOrder,this.doOrder,this.fakeServer,this.getUserData,this.getUserRegionData,this.getPartialUserData,this.storeChannelCredData,this.getChannelCred,this.getDeviceAttestation,this.requestPartnerOrder,this.confirmPartnerOrder,e.setMessagePort,t.getMessagePort]})}toString(e){return"<Component: roChannelStore>"}equalTo(e){return xe.False}dispose(){this.port?.removeReference()}getFakeProductData(e,t){const r={explicitArray:!1,ignoreAttrs:!0,valueProcessors:[Xo.processors.parseNumbers]},n=[];if(e.fileSystem.existsSync(`pkg:/csfake/${t}.xml`)){const i=e.fileSystem.readFileSync(`pkg:/csfake/${t}.xml`);(0,Xo.parseString)(i,r,(function(t,r){let i="";if(t)i=`error,Error parsing Product XML: ${t.message}`;else if(r?.result?.products?.product)try{r.result.products.product.forEach((e=>{const t=JSON.parse(JSON.stringify(e)),r={};r.code=t.code,r.cost=t.cost,r.freeTrialQuantity=t.freeTrialQuantity,r.freeTrialType=t.freeTrialType,r.name=t.name,r.productType=t.productType,r.purchaseDate=t.purchaseDate,r.qty=t.qty,r.inDunning=t.inDunning??"false",r.isUpgrade=t.isUpgrade??"false",r.trialCost=t.trialCost??"$0.00",r.trialQuantity=t.trialQuantity??0,t.description&&(r.description=t.description),t.id&&(r.id=t.id),t.expirationDate&&(r.expirationDate=t.expirationDate),t.purchaseId&&(r.purchaseId=t.purchaseId),t.renewalDate&&(r.renewalDate=t.renewalDate),t.trialType&&(r.trialType=t.trialType),t.status&&(r.status=t.status),n.push(cg(r))}))}catch(e){t.message=`error,Error parsing Product XML: ${e.message}`}else i="warning,Warning: Empty or invalid result when parsing Product XML.";""!==i&&e.isDevMode&&e.stderr.write(i)}))}return n}getFakeOrderData(e,t){const r={explicitArray:!1,ignoreAttrs:!0,valueProcessors:[Xo.processors.parseNumbers]},n=e.fileSystem,i={id:t};if(n.existsSync(`pkg:/csfake/${t}.xml`)){const s=n.readFileSync(`pkg:/csfake/${t}.xml`);(0,Xo.parseString)(s,r,(function(t,r){let n="";if(t)n=`error,Error parsing Order XML: ${t.message}`;else if(r?.result?.order)try{const e=JSON.parse(JSON.stringify(r.result.order));i.id=e.id;const t=new Array;e.items.orderItem instanceof Array?e.items.orderItem.forEach((e=>{t.push(cg(e))})):t.push(cg(e.items.orderItem)),i.order=t}catch(e){n=`error,Error parsing Order XML: ${e.message}`}else n="warning,Warning: Empty or invalid result when parsing Order XML.";""!==n&&e.isDevMode&&e.stderr.write(n)}))}return i}isValidProductOrder(e,t){const r=t.get(new Ee("qty"));return!(r instanceof Y&&r.getValue()<=0)&&void 0!==e.find((e=>{const r=e.get(new Ee("code")),n=t.get(new Ee("code"));return r instanceof Ee&&n instanceof Ee&&r.value===n.value}))}getIdentity=new se("getIdentity",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.id)});getCatalog=new se("getCatalog",{signature:{args:[],returns:ne.Void},impl:e=>{if(this.port){let t=[],r={code:-4,message:"Empty List"};this.fakeServerEnabled&&(t=this.getFakeProductData(e,"GetCatalog"),r={code:1,message:"Items Received"}),this.port.pushMessage(new ut(this.id,t,r))}return Ie.Instance}});getStoreCatalog=new se("getStoreCatalog",{signature:{args:[],returns:ne.Void},impl:e=>{if(this.port){let t=[],r={code:-4,message:"Empty List"};this.fakeServerEnabled&&(t=this.getFakeProductData(e,"GetCatalog"),r={code:1,message:"Items Received"}),this.port.pushMessage(new ut(this.id,t,r))}return Ie.Instance}});getPurchases=new se("getPurchases",{signature:{args:[],returns:ne.Void},impl:e=>{if(this.port){let t=[],r={code:-4,message:"Empty List"};this.fakeServerEnabled&&(t=this.getFakeProductData(e,"GetPurchases"),r={code:1,message:"Items Received"}),this.port.pushMessage(new ut(this.id,t,r))}return Ie.Instance}});getAllPurchases=new se("getAllPurchases",{signature:{args:[],returns:ne.Void},impl:e=>{if(this.port){let t=[],r={code:-4,message:"Empty List"};this.fakeServerEnabled&&(t=this.getFakeProductData(e,"GetPurchases"),r={code:1,message:"Items Received"}),this.port.pushMessage(new ut(this.id,t,r))}return Ie.Instance}});setOrder=new se("setOrder",{signature:{args:[new ee("order",ne.Object),new ee("orderInfo",ne.Object,Ie.Instance)],returns:ne.Void},impl:(e,t,r)=>((t instanceof me||t instanceof he)&&(this.order=t.getElements().filter((e=>e instanceof oe)),this.order.length>0&&r instanceof oe?this.orderInfo=r:this.orderInfo=Ie.Instance),Ie.Instance)});clearOrder=new se("clearOrder",{signature:{args:[],returns:ne.Void},impl:e=>(this.order=[],this.orderInfo=Ie.Instance,Ie.Instance)});deltaOrder=new se("deltaOrder",{signature:{args:[new ee("code",ne.String),new ee("qty",ne.Int32)],returns:ne.Int32},impl:(e,t,r)=>{const n=t.value,i=r.getValue();let s=!1;for(let e of this.order){const t=e.get(new Ee("code")),r=e.get(new Ee("qty"));if(t instanceof Ee&&t.value===n&&r instanceof Y){e.set(new Ee("qty"),new Y(r.getValue()+i)),s=!0;break}}return s||this.order.push(cg({code:n,qty:i})),new Y(this.order.length)}});getOrder=new se("getOrder",{signature:{args:[],returns:ne.Object},impl:e=>new me(this.order)});doOrder=new se("doOrder",{signature:{args:[],returns:ne.Boolean},impl:e=>{if(!this.port)return xe.False;const t={code:-3,message:"Invalid Order"};let r=[];if(!this.fakeServerEnabled||0===this.order.length)return this.port.pushMessage(new ut(this.id,r,t)),xe.False;t.code=1,t.message="Order Received";const n=this.getFakeProductData(e,"GetCatalog");for(let e of this.order)if(!this.isValidProductOrder(n,e)){t.code=-3;break}if(1===t.code){const n=this.getFakeOrderData(e,"PlaceOrder"),i=this.getFakeOrderData(e,"CheckOrder").id;n.id!==i&&(t.code=-3,t.message="Order Mismatch"),n.order instanceof Array&&(r=n.order.filter((e=>e instanceof oe)))}return this.port.pushMessage(new ut(this.id,r,t)),xe.from(1===t.code)}});fakeServer=new se("fakeServer",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(this.fakeServerEnabled=t.toBoolean(),Ie.Instance)});getUserData=new se("getUserData",{signature:{args:[],returns:ne.Object},impl:e=>Ie.Instance});getUserRegionData=new se("getUserRegionData",{signature:{args:[],returns:ne.Object},impl:e=>cg({state:"",zip:"",country:""})});getPartialUserData=new se("getPartialUserData",{signature:{args:[new ee("properties",ne.String)],returns:ne.Object},impl:(e,t)=>Ie.Instance});storeChannelCredData=new se("storeChannelCredData",{signature:{args:[new ee("data",ne.String)],returns:ne.Object},impl:(e,t)=>(this.credData=t.value,cg({status:0}))});getChannelCred=new se("getChannelCred",{signature:{args:[],returns:ne.Object},impl:e=>{let t="",r=400;""!==this.credData&&(t=`{channel_data="${this.credData}"}`,r=0);const n=e.deviceInfo.get("appList")?.find((e=>e.running));return cg({channelId:n?.id??"dev",json:t,publisherDeviceId:e.deviceInfo.get("clientId")??"",status:r})}});getDeviceAttestation=new se("getDeviceAttestation",{signature:{args:[new ee("nonce",ne.String)],returns:ne.String},impl:(e,t)=>new Ee("eyJ4NXUiOiJodHRwczovL2V4YW1wbGUucm9rdS5jb20vc2FtcGxlY2VydCIsInR5cCI6IkpXVCIsImFsZyI6IlJTMjU2In0.eyJuYmYiOjE2NTYzNzQyNzQsIngtcm9rdS1hdHRlc3RhdGlvbi1kYXRhIjp7Im5vbmNlIjoiNUUwNjkyRTBBMzg5RjRGNiIsImNoYW5uZWxJZCI6ImRldiIsImRldmVsb3BlcklkIjoiY2FhNzNmYmI1ZTc1YTQ2YTRiNjExNGRlNTFhNWFkYTdkNjE2ZTJlZCIsInRpbWVzdGFtcE1zIjoxNjU2Mzc3ODczOTkwfSwiaXNzIjoidXJuOnJva3U6Y2xvdWQtc2VydmljZXM6ZGV2aWNlLWF0dGVzdGF0aW9uIiwiZXhwIjoxNjU2NDY0Mjc0fQ.nywDvSUys27oeaQZ3yXwNBfOnXbO-TUDuekOPZYjSssfZhNhWwRXvPLbJKHcNMR5Z0vFOQLVDFeqEVGauIMxMEke5UFLuCRxhr3ayBJJPt_BPfrEFbAvYjFEGdKkxJqYUhuFE38R8lU2k7dhO0iFxDw1Qq7W4w8_7CjmDy4YFf7IfyhV7Vf2kGiOx5C94Niw5N2td3s21F3z77Rq_bofQ51DOKIwo_cDVuvPQnDyxG-CNEydZKCZZwGPYCKEHMPrIOOXJ-S9ZjArgaEpBUpMXWJibFxnkpVUVzbC22GEaqz_SjOJXFMQU7TaCKkDeCYVKylgKwCvbvHRDlgogf7kq")});requestPartnerOrder=new se("requestPartnerOrder",{signature:{args:[new ee("orderInfo",ne.Object),new ee("productId",ne.String)],returns:ne.Object},impl:(e,t,r)=>cg({errorCode:-1,errorMessage:"",status:"Failure"})});confirmPartnerOrder=new se("confirmPartnerOrder",{signature:{args:[new ee("confirmOrderInfo",ne.Object),new ee("productId",ne.String)],returns:ne.Object},impl:(e,t,r)=>cg({errorCode:-1,errorMessage:"",status:"Failure"})})}class Jo extends p{kind=ne.Object;port;constructor(){super("roAppMemoryMonitor");const e=new Yo(this),t=new Ko(this);this.registerMethods({ifAppMemoryMonitor:[this.enableMemoryWarningEvent,this.getMemoryLimitPercent,this.getChannelAvailableMemory,this.getChannelMemoryLimit],ifSetMessagePort:[e.setMessagePort],ifGetMessagePort:[t.getMessagePort]})}toString(e){return"<Component: roAppMemoryMonitor>"}equalTo(e){return xe.False}dispose(){this.port?.removeReference()}enableMemoryWarningEvent=new se("enableMemoryWarningEvent",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>t});getMemoryLimitPercent=new se("getMemoryLimitPercent",{signature:{args:[],returns:ne.Int32},impl:e=>{const{heapSizeLimit:t,usedHeapSize:r}=e.getMemoryHeapInfo();return new Y(r/t*100)}});getChannelAvailableMemory=new se("getChannelAvailableMemory",{signature:{args:[],returns:ne.Object},impl:e=>{const{heapSizeLimit:t,usedHeapSize:r}=e.getMemoryHeapInfo();return new Y(t-r)}});getChannelMemoryLimit=new se("getChannelMemoryLimit",{signature:{args:[],returns:ne.Int32},impl:e=>{const{heapSizeLimit:t}=e.getMemoryHeapInfo();return cg({maxForegroundMemory:0,maxBackgroundMemory:0,maxRokuManagedHeapMemory:t})}})}class Qo extends p{kind=ne.Object;supportedFlags="gims";jsRegex;constructor(e,t=new Ee("")){super("roRegex"),this.jsRegex=new RegExp(e.value,this.parseFlags(t.value)),this.registerMethods({ifRegex:[this.isMatch,this.match,this.replace,this.replaceAll,this.split,this.matchAll]})}toString(e){return"<Component: roRegex>"}equalTo(e){return xe.False}parseFlags(e){let t="";if(0===e.length)return t;for(const r of e)if("x"!==r){if(!this.supportedFlags.includes(r))throw new Error(`${r} is not supported.`);t+=r}return t}parseReplacementPattern(e){return e.replace(/\\/g,"$")}isMatch=new se("ismatch",{signature:{args:[new ee("str",ne.String)],returns:ne.Boolean},impl:(e,t)=>xe.from(this.jsRegex.test(t.value))});match=new se("match",{signature:{args:[new ee("str",ne.String)],returns:ne.Object},impl:(e,t)=>{const r=this.jsRegex.exec(t.value);let n=[];return null!==r&&(n=r.map((e=>new Ee(e||"")))),new he(n)}});replace=new se("replace",{signature:{args:[new ee("str",ne.String),new ee("replacement",ne.String)],returns:ne.String},impl:(e,t,r)=>{let n=this.parseReplacementPattern(r.value);const i=this.jsRegex[Symbol.replace](t.value,n);return new Ee(i)}});replaceAll=new se("replaceall",{signature:{args:[new ee("str",ne.String),new ee("replacement",ne.String)],returns:ne.String},impl:(e,t,r)=>{const n=this.jsRegex.source;let i=this.jsRegex.flags;i.includes("g")||(i+="g"),this.jsRegex=new RegExp(n,i);const s=this.jsRegex[Symbol.replace](t.value,r.value);return new Ee(s)}});split=new se("split",{signature:{args:[new ee("str",ne.String)],returns:ne.Object},impl:(e,t)=>{let r=this.jsRegex[Symbol.split](t.value).map((e=>new Ee(e)));return new he(r)}});matchAll=new se("matchall",{signature:{args:[new ee("str",ne.String)],returns:ne.Object},impl:(e,t)=>{const r=this.jsRegex.source;let n=this.jsRegex.flags;n.includes("g")||(n+="g"),this.jsRegex=new RegExp(r,n);let i,s=[];for(;null!==(i=this.jsRegex.exec(t.value));)s.push(new he(i.filter((e=>void 0!==e)).map((e=>new Ee(e)))));return new he(s)}})}class ec extends p{kind=ne.Object;messageQueue;callbackQueue;callbackMap;constructor(){super("roMessagePort"),this.registerMethods({ifMessagePort:[this.waitMessage,this.getMessage,this.peekMessage]}),this.messageQueue=[],this.callbackQueue=[],this.callbackMap=new Map}pushMessage(e){this.messageQueue.push(e)}pushCallback(e){this.callbackQueue.push(e)}registerCallback(e,t){this.addReference(),this.callbackMap.set(e,t)}unregisterCallback(e){this.removeReference(),this.callbackMap.delete(e)}asyncCancel(){this.callbackQueue.length=0}toString(e){return"<Component: roMessagePort>"}equalTo(e){return xe.False}wait(e,t){const r=0===t;for(t+=performance.now();r||performance.now()<t;){this.updateMessageQueue();const t=this.getNextMessage();if(t!==Ie.Instance)return t;const r=e.checkBreakCommand();if(r===Ye.BREAK||r===Ye.EXIT)return Ie.Instance}return Ie.Instance}updateMessageQueue(){if(this.callbackMap.size>0)for(const[e,t]of this.callbackMap.entries()){const e=t();this.messageQueue.push(...e.filter(sg))}}getNextMessage(){if(this.messageQueue.length>0)return this.messageQueue.shift();if(this.callbackQueue.length>0){let e=this.callbackQueue.shift();if("function"==typeof e){const t=e();if(t!==Ie.Instance)return t}}return Ie.Instance}waitMessage=new se("waitMessage",{signature:{args:[new ee("timeout",ne.Int32)],returns:ne.Object},impl:(e,t)=>this.wait(e,t.getValue())});getMessage=new se("getMessage",{signature:{args:[],returns:ne.Dynamic},impl:e=>(this.updateMessageQueue(),this.getNextMessage())});peekMessage=new se("peekMessage",{signature:{args:[],returns:ne.Dynamic},impl:e=>{if(this.updateMessageQueue(),this.messageQueue.length>0)return this.messageQueue[0];if(this.callbackQueue.length>0){let e=this.callbackQueue[0];if(e){const t=e();if(t!==Ie.Instance)return this.messageQueue.push(t),t}}return Ie.Instance}})}class tc extends p{kind=ne.Object;interpreter;port;constructor(e){super("roInput"),this.interpreter=e;const t=new Yo(this,this.getNewEvents.bind(this)),r=new Ko(this);this.registerMethods({ifInput:[this.enableTransportEvents,this.eventResponse,t.setMessagePort,r.getMessagePort]})}toString(e){return"<Component: roInput>"}equalTo(e){return xe.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[];if(Atomics.load(this.interpreter.sharedArray,qe.BUF)===Qe.INPUT){const t=this.interpreter.readDataBuffer();try{const r=JSON.parse(t);e.push(new Ue(cg(r)))}catch(e){this.interpreter.isDevMode&&this.interpreter.stdout.write(`warning,[roSystemLog] Error parsing Input buffer: ${e.message}`)}}return e}enableTransportEvents=new se("enableTransportEvents",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False});eventResponse=new se("eventResponse",{signature:{args:[new ee("aa",ne.Object)],returns:ne.Boolean},impl:(e,t)=>xe.False})}class rc extends p{kind=ne.Object;interpreter;validEvents=["bandwidth.minute","http.connect","http.complete","http.error"];enabledEvents=[];port;constructor(e){super("roSystemLog"),this.interpreter=e;const t=new Yo(this,this.getNewEvents.bind(this)),r=new Ko(this);this.registerMethods({ifSystemLog:[this.enableType,t.setMessagePort,r.getMessagePort]})}toString(e){return"<Component: roSystemLog>"}equalTo(e){return xe.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[];if(this.enabledEvents.includes("bandwidth.minute")){const t=Atomics.load(this.interpreter.sharedArray,qe.MBWD);t>0&&(Atomics.store(this.interpreter.sharedArray,qe.MBWD,-1),e.push(new Be("bandwidth.minute",t)))}if(Atomics.load(this.interpreter.sharedArray,qe.BUF)===Qe.SYS_LOG){const t=this.interpreter.readDataBuffer();try{const r=JSON.parse(t);"string"==typeof r.type&&this.enabledEvents.includes(r.type)&&e.push(new Be(r.type,r))}catch(e){this.interpreter.isDevMode&&this.interpreter.stdout.write(`warning,[roSystemLog] Error parsing System Log buffer: ${e.message}`)}}return e}enableType=new se("enableType",{signature:{args:[new ee("logType",ne.String)],returns:ne.Void},impl:(e,t)=>(this.validEvents.includes(t.value)&&!this.enabledEvents.includes(t.value)&&(this.enabledEvents.push(t.value),postMessage(`syslog,${t.value}`)),Ie.Instance)})}var nc=__webpack_require__(2393),ic=__webpack_require__(3846),sc=__webpack_require__.n(ic),ac=__webpack_require__(6492),oc=__webpack_require__.n(ac),cc=__webpack_require__(5609),uc=__webpack_require__(9473),lc=__webpack_require__.n(uc),hc=__webpack_require__(1271),fc=__webpack_require__(8287).Buffer;class dc extends p{kind=ne.Object;x=0;y=0;width;height;canvas;context;name;disposeCanvas;valid;alphaEnable;rgbaCanvas;rgbaLast;rgbaRedraw;constructor(e,t){super("roBitmap"),this.alphaEnable=!1,this.rgbaLast=0,this.rgbaRedraw=!0,this.valid=!0;const r=e.deviceInfo.get("platform");let n;if(this.disposeCanvas=r?.inIOS??!1,this.width=1,this.height=1,this.name="",t instanceof ArrayBuffer||t instanceof fc)n=t;else if(t instanceof Ee)try{n=e.fileSystem?.readFileSync(t.value),this.alphaEnable=!1,this.name=t.value}catch(r){e.isDevMode&&e.stderr.write(`error,Error loading bitmap:${t.value} - ${r.message}`),this.valid=!1}else if(t instanceof oe){let e=t.get(new Ee("width"));(e instanceof Y||e instanceof H||e instanceof q)&&(this.width=Math.trunc(e.getValue()));let r=t.get(new Ee("height"));(r instanceof Y||r instanceof H||r instanceof q)&&(this.height=Math.trunc(r.getValue()));let n=t.get(new Ee("name"));n instanceof Ee&&(this.name=n.value);let i=t.get(new Ee("alphaEnable"));i instanceof xe&&(this.alphaEnable=i.toBoolean())}else e.isDevMode&&e.stderr.write("warning,Invalid roBitmap param:"+typeof t),this.valid=!1;if(this.canvas=Cc(this.width,this.height),this.context=this.canvas.getContext("2d"),n)try{let t;const r=sc()(n);if(r&&"image/png"===r.mime){const e=oc().decode(n),r=oc().toRGBA8(e);r.length&&(t=r[0],this.width=e.width,this.height=e.height)}else if(r&&"image/jpeg"===r.mime){let e=cc.decode(n);t=e.data,this.width=e.width,this.height=e.height}else if(r&&"image/webp"===r.mime){const e=new hc.WebPDecoder,r=fc.from(n),i=(0,hc.WebPRiffParser)(r,0);if(i?.frames?.length){let n=[0],s=[0],a=i.frames[0];t=e.WebPDecodeRGBA(r,a.src_off,a.src_size,s,n),t&&(this.height=n[0],this.width=s[0])}}else if(r&&"image/gif"===r.mime){const e=(0,nc.O5)(n),r=(0,nc.Ud)(e,!0);r.length&&(t=r[0].patch,this.width=r[0].dims.width,this.height=r[0].dims.height)}else if(r&&"image/bmp"===r.mime){let e=lc()(n);t=e.data,this.width=e.width,this.height=e.height}if(t){let e=this.context.createImageData(this.width,this.height);this.canvas.width=this.width,this.canvas.height=this.height,e.data.set(new Uint8Array(t)),Oc(e,this.context,0,0)}else e.isDevMode&&e.stderr.write(`warning,Invalid image format: ${r?.mime}`),this.valid=!1}catch(t){e.isDevMode&&e.stderr.write(`error,Error drawing image on canvas: ${t.message}`),this.valid=!1}const i=new Sc(this);this.registerMethods({ifDraw2D:[i.clear,i.drawObject,i.drawRotatedObject,i.drawScaledObject,i.drawTransformedObject,i.drawLine,i.drawPoint,i.drawRect,i.drawText,i.finish,i.getAlphaEnable,i.setAlphaEnable,i.getByteArray,i.getPng,i.getWidth,i.getHeight],ifBitmap:[this.getName]})}clearCanvas(e){const t=this.context;return t.clearRect(0,0,this.canvas.width,this.canvas.height),(255&e)>0&&(t.fillStyle=Dc(e),t.fillRect(0,0,this.canvas.width,this.canvas.height)),this.rgbaRedraw=!0,Ie.Instance}drawImage(e,t,r,n=1,i=1,s){return this.rgbaRedraw=!0,kc(this,e,t,r,n,i,s)}drawImageToContext(e,t,r){return Ac(this.context,e,this.alphaEnable,t,r)}getImageName(){return this.name}getCanvas(){return this.canvas}getContext(){return this.context}getRgbaCanvas(e){if(this.rgbaCanvas){if(!this.rgbaRedraw&&e===this.rgbaLast)return this.rgbaCanvas;this.rgbaCanvas.width=this.canvas.width,this.rgbaCanvas.height=this.canvas.height}else this.rgbaCanvas=Cc(this.canvas.width,this.canvas.height);const t=this.rgbaCanvas.getContext("2d",{alpha:!0});return Rc(this.canvas,t,0,0),t.globalCompositeOperation="multiply",t.fillStyle=Dc(e),t.fillRect(0,0,this.canvas.width,this.canvas.height),t.globalCompositeOperation="destination-in",Rc(this.canvas,t,0,0),t.globalCompositeOperation="source-over",this.rgbaLast=e,this.rgbaRedraw=!1,this.rgbaCanvas}setCanvasAlpha(e){this.alphaEnable=e,this.rgbaRedraw=!0}getCanvasAlpha(){return this.alphaEnable}makeDirty(){this.rgbaRedraw=!0}finishDraw(){}toString(e){return"<Component: roBitmap>"}equalTo(e){return xe.False}isValid(){return this.valid}dispose(){this.disposeCanvas&&(Mc(this.canvas),this.rgbaCanvas&&Mc(this.rgbaCanvas))}getName=new se("getName",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.name)})}function pc(e,t){const r=new dc(e,t);return r.isValid()?r:Ie.Instance}class gc extends p{kind=ne.Object;valid;alphaEnable;bitmap;collisionType;translationX;translationY;scaleMode;time;wrap;collisionCircle;collisionRect;x;y;width;height;constructor(e,t,r,n,i){super("roRegion"),this.valid=!1,e.addReference(),this.bitmap=e,this.collisionType=0,this.x=0,(t instanceof H||t instanceof q||t instanceof Y)&&(this.x=Math.trunc(t.getValue())),this.y=0,(r instanceof H||r instanceof q||r instanceof Y)&&(this.y=Math.trunc(r.getValue())),this.width=e.width,(n instanceof H||n instanceof q||n instanceof Y)&&(this.width=Math.trunc(n.getValue())),this.height=e.height,(i instanceof H||i instanceof q||i instanceof Y)&&(this.height=Math.trunc(i.getValue())),this.translationX=0,this.translationY=0,this.scaleMode=0,this.time=0,this.wrap=!1,this.collisionCircle={x:0,y:0,r:n.getValue()},this.collisionRect={x:0,y:0,w:n.getValue(),h:i.getValue()},this.alphaEnable=!0,this.x+this.width<=e.width&&this.y+this.height<=e.height&&(this.valid=!0);const s=new Sc(this);this.registerMethods({ifRegion:[this.copy,this.getBitmap,this.getCollisionType,this.getHeight,this.getPretranslationX,this.getPretranslationY,this.getScaleMode,this.getTime,this.getWidth,this.getWrap,this.getX,this.getY,this.offset,this.set,this.setCollisionCircle,this.setCollisionRectangle,this.setCollisionType,this.setPretranslation,this.setScaleMode,this.setTime,this.setWrap],ifDraw2D:[s.clear,s.drawObject,s.drawRotatedObject,s.drawScaledObject,s.drawTransformedObject,s.drawLine,s.drawPoint,s.drawRect,s.drawText,s.finish,s.getAlphaEnable,s.setAlphaEnable,s.getByteArray,s.getPng]})}isValid(){return this.valid}applyOffset(e,t,r,n){const i=this.bitmap.getCanvas();let s=this.x+e,a=this.y+t;this.width+=r,this.height+=n,this.wrap?(this.x=s>0&&0!==e?s%i.width:s<0?s+i.width:s,this.y=a>0&&0!==t?a%i.height:a<0?a+i.height:a):(s>=0&&s+this.width<=i.width&&(this.x=s),a>=0&&a+this.height<=i.height&&(this.y=a)),this.bitmap.makeDirty()}clearCanvas(e){const t=this.bitmap.getContext();t.fillStyle=Dc(e),t.fillRect(this.x,this.y,this.width,this.height),this.bitmap.makeDirty()}drawImage(e,t,r,n=1,i=1,s){const a=kc(this,e,t,r,n,i,s);return a&&this.bitmap.makeDirty(),a}drawImageToContext(e,t,r){const n=Ac(this.bitmap.getContext(),e,this.alphaEnable,t+this.getPosX(),r+this.getPosY());return n&&this.bitmap.makeDirty(),n}getCanvas(){return this.bitmap.getCanvas()}getContext(){return this.bitmap.getContext()}getRgbaCanvas(e){return this.bitmap instanceof dc?this.bitmap.getRgbaCanvas(e):this.bitmap.getCanvas()}setCanvasAlpha(e){this.alphaEnable=e,this.bitmap.setCanvasAlpha(e)}getCanvasAlpha(){return this.alphaEnable}getPosX(){return this.x}getPosY(){return this.y}getTransX(){return this.translationX}getTransY(){return this.translationY}getImageWidth(){return this.width}getImageHeight(){return this.height}getCollCircle(){return this.collisionCircle}getCollRect(){return 1===this.collisionType?this.collisionRect:{x:0,y:0,w:this.width,h:this.height}}getCollType(){return this.collisionType}getImageData(){return this.bitmap.getContext().getImageData(this.x,this.y,this.width,this.height)}getRegionScaleMode(){return this.scaleMode}getWrapValue(){return this.wrap}getAnimaTime(){return this.time}getSourceBitmap(){return this.bitmap}makeDirty(){this.bitmap.makeDirty()}finishDraw(){this.bitmap.finishDraw()}toString(e){return"<Component: roRegion>"}equalTo(e){return xe.False}dispose(){this.bitmap.removeReference()}copy=new se("copy",{signature:{args:[],returns:ne.Object},impl:e=>new gc(this.bitmap,new Y(this.x),new Y(this.y),new Y(this.width),new Y(this.height))});getBitmap=new se("getBitmap",{signature:{args:[],returns:ne.Object},impl:e=>this.bitmap});getCollisionType=new se("getCollisionType",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.collisionType)});getHeight=new se("getHeight",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.height)});getPretranslationX=new se("getPretranslationX",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.translationX)});getPretranslationY=new se("getPretranslationY",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.translationY)});getScaleMode=new se("getScaleMode",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.scaleMode)});getTime=new se("getTime",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.time)});getWidth=new se("getWidth",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.width)});getWrap=new se("getWrap",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.wrap)});getX=new se("getX",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.x)});getY=new se("getY",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.y)});offset=new se("offset",{signature:{args:[new ee("x",ne.Dynamic),new ee("y",ne.Dynamic),new ee("w",ne.Dynamic),new ee("h",ne.Dynamic)],returns:ne.Void},impl:(e,t,r,n,i)=>(this.applyOffset(t.getValue(),r.getValue(),n.getValue(),i.getValue()),Ie.Instance)});set=new se("set",{signature:{args:[new ee("srcRegion",ne.Object)],returns:ne.Void},impl:(e,t)=>(this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,t.bitmap?.addReference(),this.bitmap?.removeReference(),this.bitmap=t.bitmap,this.collisionType=t.collisionType,this.translationX=t.translationX,this.translationY=t.translationY,this.scaleMode=t.scaleMode,this.time=t.time,this.wrap=t.wrap,this.collisionCircle=t.collisionCircle,this.collisionRect=t.collisionRect,this.bitmap.makeDirty(),Ie.Instance)});setCollisionType=new se("setCollisionType",{signature:{args:[new ee("collisionType",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.collisionType=t.getValue(),Ie.Instance)});setCollisionCircle=new se("setCollisionCircle",{signature:{args:[new ee("xOffset",ne.Int32),new ee("yOffset",ne.Int32),new ee("radius",ne.Int32)],returns:ne.Void},impl:(e,t,r,n)=>(this.collisionCircle={x:t.getValue(),y:r.getValue(),r:n.getValue()},Ie.Instance)});setCollisionRectangle=new se("setCollisionRectangle",{signature:{args:[new ee("xOffset",ne.Int32),new ee("yOffset",ne.Int32),new ee("width",ne.Int32),new ee("height",ne.Int32)],returns:ne.Void},impl:(e,t,r,n,i)=>(this.collisionRect={x:t.getValue(),y:r.getValue(),w:n.getValue(),h:i.getValue()},Ie.Instance)});setPretranslation=new se("setPretranslation",{signature:{args:[new ee("translationX",ne.Int32),new ee("translationX",ne.Int32)],returns:ne.Void},impl:(e,t,r)=>(this.translationX=t.getValue(),this.translationY=r.getValue(),this.bitmap.makeDirty(),Ie.Instance)});setScaleMode=new se("setScaleMode",{signature:{args:[new ee("scaleMode",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.scaleMode=t.getValue(),this.bitmap.makeDirty(),Ie.Instance)});setTime=new se("setTime",{signature:{args:[new ee("time",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.time=t.getValue(),Ie.Instance)});setWrap=new se("setWrap",{signature:{args:[new ee("wrap",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(this.wrap=t.toBoolean(),this.bitmap.makeDirty(),Ie.Instance)})}function mc(e,t,r,n,i){const s=new gc(e,t,r,n,i);return s.isValid()?s:Ie.Instance}class yc extends p{kind=ne.Object;id;regions;region;x;y;z;frame;drawable;memberFlags;collidableFlags;data;compositor;tickSum;constructor(e,t,r,n,i,s){super("roSprite"),this.id=i,this.x=e.getValue(),this.y=t.getValue(),this.z=n.getValue(),this.frame=0,this.collidableFlags=1,this.drawable=!0,this.memberFlags=1,this.data=Ie.Instance,this.compositor=s,this.tickSum=0,r.addReference(),r instanceof he?(this.regions=r,this.region=r.getElements()[this.frame],this.region.addReference()):this.region=r,this.registerMethods({ifSprite:[this.checkCollision,this.checkMultipleCollisions,this.getRegion,this.getCollidableFlags,this.getDrawableFlag,this.getMemberFlags,this.getData,this.getX,this.getY,this.getZ,this.moveTo,this.moveOffset,this.offsetRegion,this.setRegion,this.setCollidableFlags,this.setDrawableFlag,this.setMemberFlags,this.setData,this.setZ,this.remove]})}getImageData(){return this.region.getImageData()}getRegionObject(){return this.region}getId(){return this.id}getPosX(){return this.x}getPosY(){return this.y}getCircle(){const e=this.region.getCollCircle();return{x:this.x+e.x,y:this.y+e.y,r:e.r}}getRect(){const e=this.region.getCollRect();return{x:this.x+e.x,y:this.y+e.y,w:e.w,h:e.h}}getFlags(){return{collidableFlags:this.collidableFlags,memberFlags:this.memberFlags}}getType(){return this.region.getCollType()}visible(){return this.drawable}nextFrame(e){if(this.regions){this.tickSum+=e;const t=this.regions.getElements();let r=t[this.frame];this.tickSum>=r.getAnimaTime()&&(this.frame++,this.tickSum=0,this.frame>=t.length&&(this.frame=0),r=t[this.frame],r.addReference(),this.region.removeReference(),this.region=r)}}toString(e){return"<Component: roSprite>"}equalTo(e){return xe.False}dispose(){this.region?.removeReference(),this.regions?.removeReference(),this.data instanceof p&&this.data.removeReference()}getRegion=new se("getRegion",{signature:{args:[],returns:ne.Object},impl:e=>this.region});checkCollision=new se("checkCollision",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.compositor?.checkCollision(this,!1)??Ie.Instance});checkMultipleCollisions=new se("checkMultipleCollisions",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.compositor?.checkCollision(this,!0)??Ie.Instance});getCollidableFlags=new se("getCollidableFlags",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.collidableFlags)});getDrawableFlag=new se("getDrawableFlag",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.drawable)});getMemberFlags=new se("getMemberFlags",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.memberFlags)});getData=new se("getData",{signature:{args:[],returns:ne.Dynamic},impl:e=>this.data});getX=new se("getX",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.x)});getY=new se("getY",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.y)});getZ=new se("getZ",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.z)});moveTo=new se("moveTo",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32)],returns:ne.Void},impl:(e,t,r)=>(this.x=t.getValue(),this.y=r.getValue(),Ie.Instance)});moveOffset=new se("moveOffset",{signature:{args:[new ee("xOffset",ne.Int32),new ee("yOffSet",ne.Int32)],returns:ne.Void},impl:(e,t,r)=>(this.x+=t.getValue(),this.y+=r.getValue(),Ie.Instance)});offsetRegion=new se("offsetRegion",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("width",ne.Int32),new ee("height",ne.Int32)],returns:ne.Void},impl:(e,t,r,n,i)=>(this.regions?this.regions.getElements().forEach((e=>{e instanceof gc&&e.applyOffset(t.getValue(),r.getValue(),n.getValue(),i.getValue())})):this.region&&this.region.applyOffset(t.getValue(),r.getValue(),n.getValue(),i.getValue()),Ie.Instance)});setCollidableFlags=new se("setCollidableFlags",{signature:{args:[new ee("collidableFlags",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.collidableFlags=t.getValue(),Ie.Instance)});setData=new se("setData",{signature:{args:[new ee("data",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>(t instanceof p&&t.addReference(),this.data instanceof p&&this.data.removeReference(),this.data=t,Ie.Instance)});setDrawableFlag=new se("setDrawableFlag",{signature:{args:[new ee("drawable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(this.drawable=t.toBoolean(),Ie.Instance)});setMemberFlags=new se("setMemberFlags",{signature:{args:[new ee("memberFlags",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.memberFlags=t.getValue(),Ie.Instance)});setRegion=new se("setRegion",{signature:{args:[new ee("region",ne.Object)],returns:ne.Void},impl:(e,t)=>(t.addReference(),this.region.removeReference(),this.region=t,Ie.Instance)});setZ=new se("setZ",{signature:{args:[new ee("z",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.compositor&&this.z!==t.getValue()&&(this.compositor.setSpriteZ(this.id,this.z,t.getValue()),this.z=t.getValue()),Ie.Instance)});remove=new se("remove",{signature:{args:[],returns:ne.Void},impl:(e,t)=>(this.compositor?.removeSprite(this.id,null!==this.regions),this.compositor=void 0,Ie.Instance)})}class bc extends p{kind=ne.Object;sprites=new Map;animations=new Array;canvas;context;destBitmap;rgbaBackground;spriteId;previousSpriteDraws=[];constructor(){super("roCompositor"),this.canvas=Cc(10,10),this.context=this.canvas.getContext("2d"),this.spriteId=0,this.registerMethods({ifCompositor:[this.setDrawTo,this.draw,this.drawAll,this.newSprite,this.newAnimatedSprite,this.animationTick]})}setSpriteZ(e,t,r){let n=this.sprites.get(t);n&&n.some(((t,n,i)=>t.getId()===e&&(i.splice(n,1),this.setSpriteLayer(t,r),!0)))}setSpriteLayer(e,t){let r=this.sprites.get(t);r?r.push(e):r=[e],this.sprites.set(t,r)}removeSprite(e,t){this.sprites.forEach((function(t){t.some(((t,r,n)=>t.getId()===e&&(n.splice(r,1).forEach((e=>{e.removeReference()})),!0)))})),t&&this.animations.some(((t,r,n)=>t.getId()===e&&(n.splice(r,1).forEach((e=>{e.removeReference()})),!0)))}getCanvasAlpha(){return!!this.destBitmap?.getCanvasAlpha()}getContext(){return this.context}checkCollision(e,t){const r=e.getFlags(),n=e.getCircle(),i=e.getRect(),s=e.getType(),a=[];let o;o=Ie.Instance;for(let[,c]of this.sprites)if(c.some(((c,u,l)=>{if(e.getId()!==c.getId()){const e=c.getFlags(),u=c.getType();if(r.memberFlags===e.memberFlags&&vc(s,i,n,u,c)){if(!t)return o=c,!0;a.push(c)}}return!1})),o instanceof yc)break;return t&&a.length>0?new he(a):o}clearPreviousSpriteDraws(){let e=this.context,t=this.rgbaBackground?this.rgbaBackground:0;if(e.clearRect(0,0,this.canvas.width,this.canvas.height),0!==t){e.fillStyle=Dc(t);for(const t of this.previousSpriteDraws)e.fillRect(t.x,t.y,t.w,t.h)}this.previousSpriteDraws=[]}drawSprites(){this.clearPreviousSpriteDraws(),this.destBitmap&&(this.destBitmap.drawImageToContext(this.canvas,0,0),[...this.sprites.keys()].sort(((e,t)=>e-t)).forEach((e=>{const t=this.sprites.get(e);t&&(t.forEach((e=>{e.visible()&&(kc(this,e.getRegionObject(),e.getPosX(),e.getPosY()),this.previousSpriteDraws.push(e.getRect()))})),this.destBitmap?.drawImageToContext(this.canvas,0,0))})))}toString(e){return"<Component: roCompositor>"}equalTo(e){return xe.False}dispose(){this.destBitmap?.removeReference(),this.sprites.forEach((e=>{e.forEach((e=>{e.removeReference()}))})),this.animations.forEach((e=>{e.removeReference()})),Mc(this.canvas)}setDrawTo=new se("setDrawTo",{signature:{args:[new ee("destBitmap",ne.Object),new ee("rgbaBackground",ne.Int32)],returns:ne.Void},impl:(e,t,r)=>{t.addReference(),this.destBitmap?.removeReference(),this.destBitmap=t;const n=Tc(t);return this.canvas.width=n.width,this.canvas.height=n.height,this.rgbaBackground=r.getValue(),Ie.Instance}});newSprite=new se("newSprite",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("region",ne.Object),new ee("z",ne.Int32,new Y(0))],returns:ne.Object},impl:(e,t,r,n,i)=>{if(n instanceof gc){let e=new yc(t,r,n,i,this.spriteId++,this);return e.addReference(),this.setSpriteLayer(e,i.getValue()),e}return e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roCompositor.newSprite: invalid region parameter type roInvalid: ${e.formatLocation()}`),Ie.Instance}});newAnimatedSprite=new se("newAnimatedSprite",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("regionArray",ne.Object),new ee("z",ne.Int32,new Y(0))],returns:ne.Object},impl:(e,t,r,n,i)=>{let s="";if(n instanceof he){const e=n.getElements();if(e&&e.length>0){if(e[0]instanceof gc){let e=new yc(t,r,n,i,this.spriteId++,this);return e.addReference(),this.setSpriteLayer(e,i.getValue()),e.addReference(),this.animations.push(e),e}s="invalid regionArray item type is roInvalid"}else s="invalid regionArray is empty"}else s="invalid regionArray parameter type roInvalid";return s.length&&e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roCompositor.newAnimatedSprite: ${s}: ${e.formatLocation()}`),Ie.Instance}});animationTick=new se("animationTick",{signature:{args:[new ee("duration",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.animations.forEach((e=>{e.nextFrame(t.getValue())})),Ie.Instance)});draw=new se("draw",{signature:{args:[],returns:ne.Void},impl:e=>(this.drawSprites(),Ie.Instance)});drawAll=new se("drawAll",{signature:{args:[],returns:ne.Void},impl:e=>(this.drawSprites(),Ie.Instance)})}function vc(e,t,r,n,i){return e<2&&n<2?(s=t,a=i.getRect(),s.x<a.x+a.w&&s.x+s.w>a.x&&s.y<a.y+a.h&&s.y+s.h>a.y):2===e&&2===n?function(e,t){const r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)<=e.r+t.r}(r,i.getCircle()):2===e?wc(i.getRect(),r):wc(t,i.getCircle());var s,a}function wc(e,t){const r=Math.abs(t.x-e.x-e.w/2),n=Math.abs(t.y-e.y-e.h/2);if(r>e.w/2+t.r)return!1;if(n>e.h/2+t.r)return!1;if(r<=e.w/2)return!0;if(n<=e.h/2)return!0;const i=r-e.w/2,s=n-e.h/2;return i*i+s*s<=t.r*t.r}class Sc{component;constructor(e){this.component=e}doClearCanvas(e){this.component.clearCanvas(e)}doDrawScaledObject(e,t,r,n,i,s){const a=this.component.getContext(),o=this.component.drawImage(i,e,t,r,n,s);return a.globalAlpha=1,o}doDrawRect(e,t,r,n,i){const s=this.component.x,a=this.component.y,o=this.component.getContext();this.component instanceof Yf&&!this.component.getCanvasAlpha()?(o.clearRect(e,t,r,n),o.fillStyle=Dc(i,!0)):o.fillStyle=Dc(i,this.component.getCanvasAlpha()),o.fillRect(s+e,a+t,r,n),this.component.makeDirty()}doDrawText(e,t,r,n,i){const s=this.component.x,a=this.component.y,o=this.component.getContext();o.fillStyle=Dc(n,this.component.getCanvasAlpha()),o.font=i.toFontString(),o.textBaseline="top",o.fillText(e,s+t,a+r+i.getTopAdjust()),this.component.makeDirty()}clear=new se("clear",{signature:{args:[new ee("rgba",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.component.clearCanvas(t.getValue()),Ie.Instance)});drawObject=new se("drawObject",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("object",ne.Object),new ee("rgba",ne.Int32,Ie.Instance)],returns:ne.Boolean},impl:(e,t,r,n,i)=>{const s=this.component.getContext(),a=this.component.drawImage(n,t.getValue(),r.getValue(),1,1,i instanceof Y?i.getValue():void 0);return s.globalAlpha=1,xe.from(a)}});drawRotatedObject=new se("drawRotatedObject",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("theta",ne.Float),new ee("object",ne.Object),new ee("rgba",ne.Int32,Ie.Instance)],returns:ne.Boolean},impl:(e,t,r,n,i,s)=>{const a=function(e,t,r,n,i,s){const a=e.getContext(),o=-i*Math.PI/180;a.save(),a.translate(r,n),a.rotate(o);const c=e.drawImage(t,0,0,1,1,s);return a.restore(),c}(this.component,i,t.getValue(),r.getValue(),n.getValue(),s instanceof Y?s.getValue():void 0);return this.component.makeDirty(),xe.from(a)}});drawScaledObject=new se("drawScaledObject",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("scaleX",ne.Float),new ee("scaleY",ne.Float),new ee("object",ne.Object),new ee("rgba",ne.Int32,Ie.Instance)],returns:ne.Boolean},impl:(e,t,r,n,i,s,a)=>{const o=this.component.getContext(),c=this.component.drawImage(s,t.getValue(),r.getValue(),n.getValue(),i.getValue(),a instanceof Y?a.getValue():void 0);return o.globalAlpha=1,xe.from(c)}});drawTransformedObject=new se("drawTransformedObject",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("theta",ne.Float),new ee("scaleX",ne.Float),new ee("scaleY",ne.Float),new ee("object",ne.Object),new ee("rgba",ne.Int32,Ie.Instance)],returns:ne.Boolean},impl:(e,t,r,n,i,s,a,o)=>{const c=this.component.getContext(),u=t.getValue(),l=r.getValue(),h=-n.getValue()*Math.PI/180;c.save(),c.translate(u,l),c.rotate(h);const f=this.component.drawImage(a,0,0,i.getValue(),s.getValue(),o instanceof Y?o.getValue():void 0);return c.globalAlpha=1,c.restore(),xe.from(f)}});drawLine=new se("drawLine",{signature:{args:[new ee("xStart",ne.Int32),new ee("yStart",ne.Int32),new ee("xEnd",ne.Int32),new ee("yEnd",ne.Int32),new ee("rgba",ne.Int32)],returns:ne.Boolean},impl:(e,t,r,n,i,s)=>{const a=this.component.x,o=this.component.y,c=this.component.getContext();return c.beginPath(),c.strokeStyle=Dc(s.getValue(),this.component.getCanvasAlpha()),c.moveTo(a+t.getValue(),o+r.getValue()),c.lineTo(a+n.getValue(),o+i.getValue()),c.stroke(),this.component.makeDirty(),xe.True}});drawPoint=new se("drawPoint",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("size",ne.Float),new ee("rgba",ne.Int32)],returns:ne.Boolean},impl:(e,t,r,n,i)=>{const s=this.component.x,a=this.component.y,o=this.component.getContext();return o.fillStyle=Dc(i.getValue(),this.component.getCanvasAlpha()),o.fillRect(s+t.getValue(),a+r.getValue(),n.getValue(),n.getValue()),this.component.makeDirty(),xe.True}});drawRect=new se("drawRect",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("width",ne.Int32),new ee("height",ne.Int32),new ee("rgba",ne.Int32)],returns:ne.Boolean},impl:(e,t,r,n,i,s)=>{const a=this.component.x,o=this.component.y,c=this.component.getContext();return this.component instanceof Yf&&!this.component.getCanvasAlpha()?(c.clearRect(t.getValue(),r.getValue(),n.getValue(),i.getValue()),c.fillStyle=Dc(s.getValue(),!0)):c.fillStyle=Dc(s.getValue(),this.component.getCanvasAlpha()),c.fillRect(a+t.getValue(),o+r.getValue(),n.getValue(),i.getValue()),this.component.makeDirty(),xe.True}});drawText=new se("drawText",{signature:{args:[new ee("text",ne.String),new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("rgba",ne.Int32),new ee("font",ne.Object)],returns:ne.Boolean},impl:(e,t,r,n,i,s)=>{const a=this.component.x,o=this.component.y,c=this.component.getContext();return c.fillStyle=Dc(i.getValue(),this.component.getCanvasAlpha()),c.font=s.toFontString(),c.textBaseline="top",c.fillText(t.value,a+r.getValue(),o+n.getValue()+s.getTopAdjust()),this.component.makeDirty(),xe.True}});finish=new se("finish",{signature:{args:[],returns:ne.Void},impl:e=>(this.component.finishDraw(),Ie.Instance)});getAlphaEnable=new se("getAlphaEnable",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.component.getCanvasAlpha())});setAlphaEnable=new se("setAlphaEnable",{signature:{args:[new ee("alphaEnable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(this.component.setCanvasAlpha(t.toBoolean()),Ie.Instance)});getWidth=new se("getWidth",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.width)});getHeight=new se("getHeight",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.height)});getByteArray=new se("getByteArray",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("width",ne.Int32),new ee("height",ne.Int32)],returns:ne.Int32},impl:(e,t,r,n,i)=>{const s=this.component.x,a=this.component.y,o=this.component.getCanvas().getContext("2d").getImageData(s+t.getValue(),a+r.getValue(),n.getValue(),i.getValue()),c=new Uint8Array(o.data.buffer);return new To(c)}});getPng=new se("getPng",{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("width",ne.Int32),new ee("height",ne.Int32)],returns:ne.Int32},impl:(e,t,r,n,i)=>{const s=this.component.x,a=this.component.y,o=this.component.getCanvas().getContext("2d").getImageData(s+t.getValue(),a+r.getValue(),n.getValue(),i.getValue());return new To(new Uint8Array(oc().encode([o.data.buffer],o.width,o.height,0)))}})}const Ec=!0;function xc(e){return!!e&&!!(e.height&&e.height>=1&&e.width&&e.width>=1)}function Ic(e){let t=0,r=0;return e instanceof gc&&(t=e.getPosX(),r=e.getPosY()),{x:t,y:r}}class _c{width;height;constructor(e,t){this.width=e,this.height=t}}function Tc(e){return e instanceof gc||e instanceof dc?new _c(e.width,e.height):e instanceof Yf?new _c(e.getCanvas().width,e.getCanvas().height):e instanceof bc?new _c(e.getContext().canvas.width,e.getContext().canvas.height):new _c(e.width,e.height)}function kc(e,t,r,n,i=1,s=1,a,o=0){const c=e.getContext(),u=e.getCanvasAlpha();let l;if(!(t instanceof dc||t instanceof gc||t instanceof Yf))return!1;if(l=function(e,t){let r;return r=void 0===t||isNaN(t)||e instanceof Yf?e.getCanvas():e.getRgbaCanvas(t),r}(t,a),function(e,t){if(t){const r=255&t;r<255&&(e.globalAlpha=r/255)}}(c,a),!xc(l))return!1;c.imageSmoothingEnabled=t instanceof gc?1===t.getRegionScaleMode():1===o;const h=function(e,t,r,n,i,s=1,a=1){const o=[],c=Ic(r),u=function(e){let t=0,r=0;return e instanceof gc&&(t=e.getTransX(),r=e.getTransY()),{x:t,y:r}}(r),l=u.x*s,h=u.y*a,f=c.x,d=c.y,p=r.width,g=r.height,m=n+l+e.x,y=i+h+e.y,b=p*s,v=g*a;if(0===b||0===v)return[];if(o.push({sx:f,sy:d,sw:p,sh:g,dx:m,dy:y,dw:b,dh:v}),!t||r instanceof dc||r instanceof Yf||r instanceof gc&&!r.getWrapValue())return o;if(!(r instanceof gc))return o;const w=Tc(r.getSourceBitmap()),S=Math.min(w.width-c.x,p),E=Math.min(w.height-c.y,g),x=p-S,I=g-E;return x<=0&&I<=0||(x>0&&o.push({sx:0,sy:c.y,sw:x,sh:E,dx:S+m,dy:y,dw:x,dh:E}),I>0&&o.push({sx:c.x,sy:0,sw:S,sh:I,dx:m,dy:E+y,dw:S,dh:I}),x>0&&I>0&&o.push({sx:0,sy:0,sw:x,sh:I,dx:S+m,dy:E+y,dw:x,dh:I})),o}(Ic(e),e instanceof bc||t instanceof gc,t,r,n,i,s);for(const e of h){const{sx:t,sy:r,sw:n,sh:a,dx:o,dy:h,dw:f,dh:d}=e;u||c.clearRect(o,h,n*i,a*s),Pc(c,l,e)}return!0}function Ac(e,t,r,n,i){if(!xc(t))return!1;if(Ec)if(r)Rc(t,e,n,i);else{let r=t.getContext("2d").getImageData(0,0,t.width,t.height),s=r.data;for(let e=3,r=t.width*t.height*4;e<r;e+=4)s[e]=255;Oc(r,e,n,i)}else r||e.clearRect(n,i,t.width,t.height),Rc(t,e,n,i);return!0}function Cc(e,t){return new OffscreenCanvas(e,t)}function Mc(e){e.width=0,e.height=0}function Rc(e,t,r,n){t instanceof OffscreenCanvasRenderingContext2D&&e instanceof OffscreenCanvas&&t.drawImage(e,r,n)}function Oc(e,t,r,n){t instanceof OffscreenCanvasRenderingContext2D&&e instanceof ImageData&&t.putImageData(e,r,n)}function Dc(e,t=!0){return t||(e=function(e){return e-(255&e)+255}(e)),"#"+nt(e,"0")}function Pc(e,t,r){const{sx:n,sy:i,sw:s,sh:a,dx:o,dy:c,dw:u,dh:l}=r;e instanceof OffscreenCanvasRenderingContext2D&&t instanceof OffscreenCanvas&&e.drawImage(t,n,i,s,a,o,c,u,l)}class Lc extends p{kind=ne.Object;family;size;bold;italic;metrics;constructor(e,t,r,n,i){super("roFont"),this.family=e.value,this.size=t.getValue(),this.bold=r.toBoolean(),this.italic=n.toBoolean(),this.metrics=i,this.registerMethods({ifFont:[this.getOneLineHeight,this.getOneLineWidth,this.getAscent,this.getDescent,this.getMaxAdvance]})}getTopAdjust(){return(this.metrics.lineHeight*this.size-Math.max(this.metrics.ascent*this.size,this.size))/2}toFontString(){return`${this.italic?"italic":""} ${this.bold?"bold":""} ${this.size}px '${this.family}'`}toString(e){return"<Component: roFont>"}equalTo(e){return xe.False}getOneLineHeight=new se("getOneLineHeight",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(Math.round(this.metrics.lineHeight*this.size))});getOneLineWidth=new se("getOneLineWidth",{signature:{args:[new ee("text",ne.String),new ee("maxWidth",ne.Int32)],returns:ne.Int32},impl:(e,t,r)=>{const n=Cc(1280,720),i=n.getContext("2d",{alpha:!1});i.font=this.toFontString(),i.textBaseline="top";let s=i.measureText(t.value),a=Math.min(s.width,r.getValue());return Mc(n),new Y(Math.round(a))}});getAscent=new se("getAscent",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(Math.round(this.metrics.ascent*this.size))});getDescent=new se("getDescent",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(Math.round(this.metrics.descent*this.size))});getMaxAdvance=new se("getMaxAdvance",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(Math.round(this.metrics.maxAdvance*this.size))})}var Fc,Nc,Bc=__webpack_require__(8287).Buffer;function Uc(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function jc(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Uc,this.dtree=new Uc}String.prototype.codePointAt||(Nc=function(e){if(null==this)throw TypeError();var t=String(this),r=t.length,n=e?Number(e):0;if(n!=n&&(n=0),!(n<0||n>=r)){var i,s=t.charCodeAt(n);return s>=55296&&s<=56319&&r>n+1&&(i=t.charCodeAt(n+1))>=56320&&i<=57343?1024*(s-55296)+i-56320+65536:s}},(Fc=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}())?Fc(String.prototype,"codePointAt",{value:Nc,configurable:!0,writable:!0}):String.prototype.codePointAt=Nc);var Vc=new Uc,Gc=new Uc,zc=new Uint8Array(30),Wc=new Uint16Array(30),qc=new Uint8Array(30),$c=new Uint16Array(30),Hc=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xc=new Uc,Yc=new Uint8Array(320);function Kc(e,t,r,n){var i,s;for(i=0;i<r;++i)e[i]=0;for(i=0;i<30-r;++i)e[i+r]=i/r|0;for(s=n,i=0;i<30;++i)t[i]=s,s+=1<<e[i]}var Zc=new Uint16Array(16);function Jc(e,t,r,n){var i,s;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<n;++i)e.table[t[r+i]]++;for(e.table[0]=0,s=0,i=0;i<16;++i)Zc[i]=s,s+=e.table[i];for(i=0;i<n;++i)t[r+i]&&(e.trans[Zc[t[r+i]]++]=i)}function Qc(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function eu(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function tu(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=0,n=0,i=0,s=e.tag;do{n=2*n+(1&s),s>>>=1,++i,r+=t.table[i],n-=t.table[i]}while(n>=0);return e.tag=s,e.bitcount-=i,t.trans[r+n]}function ru(e,t,r){var n,i,s,a,o,c;for(n=eu(e,5,257),i=eu(e,5,1),s=eu(e,4,4),a=0;a<19;++a)Yc[a]=0;for(a=0;a<s;++a){var u=eu(e,3,0);Yc[Hc[a]]=u}for(Jc(Xc,Yc,0,19),o=0;o<n+i;){var l=tu(e,Xc);switch(l){case 16:var h=Yc[o-1];for(c=eu(e,2,3);c;--c)Yc[o++]=h;break;case 17:for(c=eu(e,3,3);c;--c)Yc[o++]=0;break;case 18:for(c=eu(e,7,11);c;--c)Yc[o++]=0;break;default:Yc[o++]=l}}Jc(t,Yc,0,n),Jc(r,Yc,n,i)}function nu(e,t,r){for(;;){var n,i,s,a,o=tu(e,t);if(256===o)return 0;if(o<256)e.dest[e.destLen++]=o;else for(n=eu(e,zc[o-=257],Wc[o]),i=tu(e,r),a=s=e.destLen-eu(e,qc[i],$c[i]);a<s+n;++a)e.dest[e.destLen++]=e.dest[a]}}function iu(e){for(var t,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}function su(e,t,r,n,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*r+Math.pow(i,3)*n}function au(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ou(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function cu(e){throw new Error(e)}function uu(e,t){e||cu(t)}!function(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}(Vc,Gc),Kc(zc,Wc,4,3),Kc(qc,$c,2,1),zc[28]=0,Wc[28]=258,au.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},au.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},au.prototype.addX=function(e){this.addPoint(e,null)},au.prototype.addY=function(e){this.addPoint(null,e)},au.prototype.addBezier=function(e,t,r,n,i,s,a,o){var c=[e,t],u=[r,n],l=[i,s],h=[a,o];this.addPoint(e,t),this.addPoint(a,o);for(var f=0;f<=1;f++){var d=6*c[f]-12*u[f]+6*l[f],p=-3*c[f]+9*u[f]-9*l[f]+3*h[f],g=3*u[f]-3*c[f];if(0!==p){var m=Math.pow(d,2)-4*g*p;if(!(m<0)){var y=(-d+Math.sqrt(m))/(2*p);0<y&&y<1&&(0===f&&this.addX(su(c[f],u[f],l[f],h[f],y)),1===f&&this.addY(su(c[f],u[f],l[f],h[f],y)));var b=(-d-Math.sqrt(m))/(2*p);0<b&&b<1&&(0===f&&this.addX(su(c[f],u[f],l[f],h[f],b)),1===f&&this.addY(su(c[f],u[f],l[f],h[f],b)))}}else{if(0===d)continue;var v=-g/d;0<v&&v<1&&(0===f&&this.addX(su(c[f],u[f],l[f],h[f],v)),1===f&&this.addY(su(c[f],u[f],l[f],h[f],v)))}}},au.prototype.addQuad=function(e,t,r,n,i,s){var a=e+2/3*(r-e),o=t+2/3*(n-t),c=a+1/3*(i-e),u=o+1/3*(s-t);this.addBezier(e,t,a,o,c,u,i,s)},ou.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},ou.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},ou.prototype.curveTo=ou.prototype.bezierCurveTo=function(e,t,r,n,i,s){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:i,y:s})},ou.prototype.quadTo=ou.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})},ou.prototype.close=ou.prototype.closePath=function(){this.commands.push({type:"Z"})},ou.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof au){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},ou.prototype.getBoundingBox=function(){for(var e=new au,t=0,r=0,n=0,i=0,s=0;s<this.commands.length;s++){var a=this.commands[s];switch(a.type){case"M":e.addPoint(a.x,a.y),t=n=a.x,r=i=a.y;break;case"L":e.addPoint(a.x,a.y),n=a.x,i=a.y;break;case"Q":e.addQuad(n,i,a.x1,a.y1,a.x,a.y),n=a.x,i=a.y;break;case"C":e.addBezier(n,i,a.x1,a.y1,a.x2,a.y2,a.x,a.y),n=a.x,i=a.y;break;case"Z":n=t,i=r;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},ou.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},ou.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function r(){for(var e=arguments,r="",n=0;n<arguments.length;n+=1){var i=e[n];i>=0&&n>0&&(r+=" "),r+=t(i)}return r}e=void 0!==e?e:2;for(var n="",i=0;i<this.commands.length;i+=1){var s=this.commands[i];"M"===s.type?n+="M"+r(s.x,s.y):"L"===s.type?n+="L"+r(s.x,s.y):"C"===s.type?n+="C"+r(s.x1,s.y1,s.x2,s.y2,s.x,s.y):"Q"===s.type?n+="Q"+r(s.x1,s.y1,s.x,s.y):"Z"===s.type&&(n+="Z")}return n},ou.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+"/>"},ou.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};var lu={fail:cu,argument:uu,assert:uu},hu={},fu={},du={};function pu(e){return function(){return e}}fu.BYTE=function(e){return lu.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},du.BYTE=pu(1),fu.CHAR=function(e){return[e.charCodeAt(0)]},du.CHAR=pu(1),fu.CHARARRAY=function(e){void 0===e&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t},du.CHARARRAY=function(e){return void 0===e?0:e.length},fu.USHORT=function(e){return[e>>8&255,255&e]},du.USHORT=pu(2),fu.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},du.SHORT=pu(2),fu.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},du.UINT24=pu(3),fu.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},du.ULONG=pu(4),fu.LONG=function(e){return e>=2147483648&&(e=-(4294967296-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},du.LONG=pu(4),fu.FIXED=fu.ULONG,du.FIXED=du.ULONG,fu.FWORD=fu.SHORT,du.FWORD=du.SHORT,fu.UFWORD=fu.USHORT,du.UFWORD=du.USHORT,fu.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},du.LONGDATETIME=pu(8),fu.TAG=function(e){return lu.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},du.TAG=pu(4),fu.Card8=fu.BYTE,du.Card8=du.BYTE,fu.Card16=fu.USHORT,du.Card16=du.USHORT,fu.OffSize=fu.BYTE,du.OffSize=du.BYTE,fu.SID=fu.USHORT,du.SID=du.USHORT,fu.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?fu.NUMBER16(e):fu.NUMBER32(e)},du.NUMBER=function(e){return fu.NUMBER(e).length},fu.NUMBER16=function(e){return[28,e>>8&255,255&e]},du.NUMBER16=pu(3),fu.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},du.NUMBER32=pu(5),fu.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}for(var i="",s=0,a=t.length;s<a;s+=1){var o=t[s];i+="e"===o?"-"===t[++s]?"c":"b":"."===o?"a":"-"===o?"e":o}for(var c=[30],u=0,l=(i+=1&i.length?"f":"ff").length;u<l;u+=2)c.push(parseInt(i.substr(u,2),16));return c},du.REAL=function(e){return fu.REAL(e).length},fu.NAME=fu.CHARARRAY,du.NAME=du.CHARARRAY,fu.STRING=fu.CHARARRAY,du.STRING=du.CHARARRAY,hu.UTF8=function(e,t,r){for(var n=[],i=r,s=0;s<i;s++,t+=1)n[s]=e.getUint8(t);return String.fromCharCode.apply(null,n)},hu.UTF16=function(e,t,r){for(var n=[],i=r/2,s=0;s<i;s++,t+=2)n[s]=e.getUint16(t);return String.fromCharCode.apply(null,n)},fu.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=255&n}return t},du.UTF16=function(e){return 2*e.length};var gu={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};hu.MACSTRING=function(e,t,r,n){var i=gu[n];if(void 0!==i){for(var s="",a=0;a<r;a++){var o=e.getUint8(t+a);s+=o<=127?String.fromCharCode(o):i[127&o]}return s}};var mu,yu="function"==typeof WeakMap&&new WeakMap;function bu(e){return e>=-128&&e<=127}function vu(e,t,r){for(var n=0,i=e.length;t<i&&n<64&&0===e[t];)++t,++n;return r.push(128|n-1),t}function wu(e,t,r){for(var n=0,i=e.length,s=t;s<i&&n<64;){var a=e[s];if(!bu(a))break;if(0===a&&s+1<i&&0===e[s+1])break;++s,++n}r.push(n-1);for(var o=t;o<s;++o)r.push(e[o]+256&255);return s}function Su(e,t,r){for(var n=0,i=e.length,s=t;s<i&&n<64;){var a=e[s];if(0===a)break;if(bu(a)&&s+1<i&&bu(e[s+1]))break;++s,++n}r.push(64|n-1);for(var o=t;o<s;++o){var c=e[o];r.push(c+65536>>8&255,c+256&255)}return s}fu.MACSTRING=function(e,t){var r=function(e){if(!mu)for(var t in mu={},gu)mu[t]=new String(t);var r=mu[e];if(void 0!==r){if(yu){var n=yu.get(r);if(void 0!==n)return n}var i=gu[e];if(void 0!==i){for(var s={},a=0;a<i.length;a++)s[i.charCodeAt(a)]=a+128;return yu&&yu.set(r,s),s}}}(t);if(void 0!==r){for(var n=[],i=0;i<e.length;i++){var s=e.charCodeAt(i);if(s>=128&&void 0===(s=r[s]))return;n[i]=s}return n}},du.MACSTRING=function(e,t){var r=fu.MACSTRING(e,t);return void 0!==r?r.length:0},fu.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];t=0===n?vu(e,t,r):n>=-128&&n<=127?wu(e,t,r):Su(e,t,r)}return r},fu.INDEX=function(e){for(var t=1,r=[t],n=[],i=0;i<e.length;i+=1){var s=fu.OBJECT(e[i]);Array.prototype.push.apply(n,s),t+=s.length,r.push(t)}if(0===n.length)return[0,0];for(var a=[],o=1+Math.floor(Math.log(t)/Math.log(2))/8|0,c=[void 0,fu.BYTE,fu.USHORT,fu.UINT24,fu.ULONG][o],u=0;u<r.length;u+=1){var l=c(r[u]);Array.prototype.push.apply(a,l)}return Array.prototype.concat(fu.Card16(e.length),fu.OffSize(o),a,n)},du.INDEX=function(e){return fu.INDEX(e).length},fu.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,i=0;i<n;i+=1){var s=parseInt(r[i],0),a=e[s];t=(t=t.concat(fu.OPERAND(a.value,a.type))).concat(fu.OPERATOR(s))}return t},du.DICT=function(e){return fu.DICT(e).length},fu.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},fu.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)lu.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(fu.OPERAND(e[n],t[n]));else if("SID"===t)r=r.concat(fu.NUMBER(e));else if("offset"===t)r=r.concat(fu.NUMBER32(e));else if("number"===t)r=r.concat(fu.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);r=r.concat(fu.REAL(e))}return r},fu.OP=fu.BYTE,du.OP=du.BYTE;var Eu="function"==typeof WeakMap&&new WeakMap;function xu(e,t,r){if(t.length&&("coverageFormat"!==t[0].name||1===t[0].value))for(var n=0;n<t.length;n+=1){var i=t[n];this[i.name]=i.value}if(this.tableName=e,this.fields=t,r)for(var s=Object.keys(r),a=0;a<s.length;a+=1){var o=s[a],c=r[o];void 0!==this[o]&&(this[o]=c)}}function Iu(e,t,r){void 0===r&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var i=0;i<t.length;i++)n[i+1]={name:e+i,type:"USHORT",value:t[i]};return n}function _u(e,t,r){var n=t.length,i=new Array(n+1);i[0]={name:e+"Count",type:"USHORT",value:n};for(var s=0;s<n;s++)i[s+1]={name:e+s,type:"TABLE",value:r(t[s],s)};return i}function Tu(e,t,r){var n=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:n};for(var s=0;s<n;s++)i=i.concat(r(t[s],s));return i}function ku(e){1===e.format?xu.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Iu("glyph",e.glyphs))):2===e.format?xu.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Tu("rangeRecord",e.ranges,(function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]})))):lu.assert(!1,"Coverage format must be 1 or 2.")}function Au(e){xu.call(this,"scriptListTable",Tu("scriptRecord",e,(function(e,t){var r=e.script,n=r.defaultLangSys;return lu.assert(!!n,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new xu("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new xu("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(Iu("featureIndex",n.featureIndexes)))}].concat(Tu("langSys",r.langSysRecords,(function(e,t){var r=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new xu("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(Iu("featureIndex",r.featureIndexes)))}]}))))}]})))}function Cu(e){xu.call(this,"featureListTable",Tu("featureRecord",e,(function(e,t){var r=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new xu("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(Iu("lookupListIndex",r.lookupListIndexes)))}]})))}function Mu(e,t){xu.call(this,"lookupListTable",_u("lookup",e,(function(e){var r=t[e.lookupType];return lu.assert(!!r,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new xu("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(_u("subtable",e.subtables,r)))})))}fu.CHARSTRING=function(e){if(Eu){var t=Eu.get(e);if(void 0!==t)return t}for(var r=[],n=e.length,i=0;i<n;i+=1){var s=e[i];r=r.concat(fu[s.type](s.value))}return Eu&&Eu.set(e,r),r},du.CHARSTRING=function(e){return fu.CHARSTRING(e).length},fu.OBJECT=function(e){var t=fu[e.type];return lu.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},du.OBJECT=function(e){var t=du[e.type];return lu.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},fu.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],i=[],s=0;s<r;s+=1){var a=e.fields[s],o=fu[a.type];lu.argument(void 0!==o,"No encoding function for field type "+a.type+" ("+a.name+")");var c=e[a.name];void 0===c&&(c=a.value);var u=o(c);"TABLE"===a.type?(i.push(t.length),t=t.concat([0,0]),n.push(u)):t=t.concat(u)}for(var l=0;l<n.length;l+=1){var h=i[l],f=t.length;lu.argument(f<65536,"Table "+e.tableName+" too big."),t[h]=f>>8,t[h+1]=255&f,t=t.concat(n[l])}return t},du.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var i=e.fields[n],s=du[i.type];lu.argument(void 0!==s,"No sizeOf function for field type "+i.type+" ("+i.name+")");var a=e[i.name];void 0===a&&(a=i.value),t+=s(a),"TABLE"===i.type&&(t+=2)}return t},fu.RECORD=fu.TABLE,du.RECORD=du.TABLE,fu.LITERAL=function(e){return e},du.LITERAL=function(e){return e.length},xu.prototype.encode=function(){return fu.TABLE(this)},xu.prototype.sizeOf=function(){return du.TABLE(this)},ku.prototype=Object.create(xu.prototype),ku.prototype.constructor=ku,Au.prototype=Object.create(xu.prototype),Au.prototype.constructor=Au,Cu.prototype=Object.create(xu.prototype),Cu.prototype.constructor=Cu,Mu.prototype=Object.create(xu.prototype),Mu.prototype.constructor=Mu;var Ru={Table:xu,Record:xu,Coverage:ku,ScriptList:Au,FeatureList:Cu,LookupList:Mu,ushortList:Iu,tableList:_u,recordList:Tu};function Ou(e,t){return e.getUint8(t)}function Du(e,t){return e.getUint16(t,!1)}function Pu(e,t){return e.getUint32(t,!1)}function Lu(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var Fu={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Nu(e,t){this.data=e,this.offset=t,this.relativeOffset=0}Nu.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},Nu.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},Nu.prototype.parseCard8=Nu.prototype.parseByte,Nu.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},Nu.prototype.parseCard16=Nu.prototype.parseUShort,Nu.prototype.parseSID=Nu.prototype.parseUShort,Nu.prototype.parseOffset16=Nu.prototype.parseUShort,Nu.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},Nu.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},Nu.prototype.parseULong=function(){var e=Pu(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},Nu.prototype.parseOffset32=Nu.prototype.parseULong,Nu.prototype.parseFixed=function(){var e=Lu(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},Nu.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var i=0;i<e;i++)n+=String.fromCharCode(t.getUint8(r+i));return n},Nu.prototype.parseTag=function(){return this.parseString(4)},Nu.prototype.parseLongDateTime=function(){var e=Pu(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},Nu.prototype.parseVersion=function(e){var t=Du(this.data,this.offset+this.relativeOffset),r=Du(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+r/e/10},Nu.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=Fu[e]*t},Nu.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint32(n),n+=4;return this.relativeOffset+=4*e,t},Nu.prototype.parseOffset16List=Nu.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint16(n),n+=2;return this.relativeOffset+=2*e,t},Nu.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getInt16(n),n+=2;return this.relativeOffset+=2*e,t},Nu.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint8(n++);return this.relativeOffset+=e,t},Nu.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},Nu.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},Nu.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var s={},a=0;a<n.length;a++){var o=n[a],c=t[o];s[o]=c.call(this)}r[i]=s}return r},Nu.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var s={},a=0;a<n.length;a++){var o=n[a],c=t[o];s[o]=c.call(this)}r[i]=s}return r},Nu.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n],s=e[i];r[i]=s.call(this)}return r},Nu.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},Nu.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r},Nu.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new Nu(this.data,this.offset+t).parseStruct(e)},Nu.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new Nu(this.data,this.offset+t).parseStruct(e)},Nu.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,i=new Array(r),s=0;s<r;s++){var a=t[s];if(0!==a)if(this.relativeOffset=a,e){for(var o=this.parseOffset16List(),c=new Array(o.length),u=0;u<o.length;u++)this.relativeOffset=a+o[u],c[u]=e.call(this);i[s]=c}else i[s]=this.parseUShortList();else i[s]=void 0}return this.relativeOffset=n,i},Nu.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(r)};if(2===t){for(var n=new Array(r),i=0;i<r;i++)n[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},Nu.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:Nu.uShort,end:Nu.uShort,classId:Nu.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},Nu.list=function(e,t){return function(){return this.parseList(e,t)}},Nu.list32=function(e,t){return function(){return this.parseList32(e,t)}},Nu.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},Nu.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},Nu.pointer=function(e){return function(){return this.parsePointer(e)}},Nu.pointer32=function(e){return function(){return this.parsePointer32(e)}},Nu.tag=Nu.prototype.parseTag,Nu.byte=Nu.prototype.parseByte,Nu.uShort=Nu.offset16=Nu.prototype.parseUShort,Nu.uShortList=Nu.prototype.parseUShortList,Nu.uLong=Nu.offset32=Nu.prototype.parseULong,Nu.uLongList=Nu.prototype.parseULongList,Nu.struct=Nu.prototype.parseStruct,Nu.coverage=Nu.prototype.parseCoverage,Nu.classDef=Nu.prototype.parseClassDef;var Bu={reserved:Nu.uShort,reqFeatureIndex:Nu.uShort,featureIndexes:Nu.uShortList};Nu.prototype.parseScriptList=function(){return this.parsePointer(Nu.recordList({tag:Nu.tag,script:Nu.pointer({defaultLangSys:Nu.pointer(Bu),langSysRecords:Nu.recordList({tag:Nu.tag,langSys:Nu.pointer(Bu)})})}))||[]},Nu.prototype.parseFeatureList=function(){return this.parsePointer(Nu.recordList({tag:Nu.tag,feature:Nu.pointer({featureParams:Nu.offset16,lookupListIndexes:Nu.uShortList})}))||[]},Nu.prototype.parseLookupList=function(e){return this.parsePointer(Nu.list(Nu.pointer((function(){var t=this.parseUShort();lu.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var r=this.parseUShort(),n=16&r;return{lookupType:t,lookupFlag:r,subtables:this.parseList(Nu.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}}))))||[]},Nu.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return lu.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Nu.offset32,featureTableSubstitutionOffset:Nu.offset32})}))||[]};var Uu={getByte:Ou,getCard8:Ou,getUShort:Du,getCard16:Du,getShort:function(e,t){return e.getInt16(t,!1)},getULong:Pu,getFixed:Lu,getTag:function(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r},getOffset:function(e,t,r){for(var n=0,i=0;i<r;i+=1)n<<=8,n+=e.getUint8(t+i);return n},getBytes:function(e,t,r){for(var n=[],i=t;i<r;i+=1)n.push(e.getUint8(i));return n},bytesToString:function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t},Parser:Nu};function ju(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0,glyphIndex:r})}var Vu=function(e,t){var r={};r.version=Uu.getUShort(e,t),lu.argument(0===r.version,"cmap table version should be 0."),r.numTables=Uu.getUShort(e,t+2);for(var n=-1,i=r.numTables-1;i>=0;i-=1){var s=Uu.getUShort(e,t+4+8*i),a=Uu.getUShort(e,t+4+8*i+2);if(3===s&&(0===a||1===a||10===a)||0===s&&(0===a||1===a||2===a||3===a||4===a)){n=Uu.getULong(e,t+4+8*i+4);break}}if(-1===n)throw new Error("No valid cmap sub-tables found.");var o=new Uu.Parser(e,t+n);if(r.format=o.parseUShort(),12===r.format)!function(e,t){var r;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var n=0;n<r;n+=1)for(var i=t.parseULong(),s=t.parseULong(),a=t.parseULong(),o=i;o<=s;o+=1)e.glyphIndexMap[o]=a,a++}(r,o);else{if(4!==r.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");!function(e,t,r,n,i){var s;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=s=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var a=new Uu.Parser(r,n+i+14),o=new Uu.Parser(r,n+i+16+2*s),c=new Uu.Parser(r,n+i+16+4*s),u=new Uu.Parser(r,n+i+16+6*s),l=n+i+16+8*s,h=0;h<s-1;h+=1)for(var f=void 0,d=a.parseUShort(),p=o.parseUShort(),g=c.parseShort(),m=u.parseUShort(),y=p;y<=d;y+=1)0!==m?(l=u.offset+u.relativeOffset-2,l+=m,l+=2*(y-p),0!==(f=Uu.getUShort(r,l))&&(f=f+g&65535)):f=y+g&65535,e.glyphIndexMap[y]=f}(r,o,e,t,n)}return r},Gu=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],zu=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Wu=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],qu=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function $u(e){this.font=e}function Hu(e){this.cmap=e}function Xu(e,t){this.encoding=e,this.charset=t}function Yu(e){switch(e.version){case 1:this.names=qu.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<qu.length?this.names[t]=qu[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-qu.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=qu[r+e.glyphNameIndex[r]];break;default:this.names=[]}}$u.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r)for(var n=0;n<r.length;n+=1)for(var i=r.get(n),s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===t)return n;return null},Hu.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},Xu.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)},Yu.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},Yu.prototype.glyphIndexToName=function(e){return this.names[e]};var Ku=function(e,t,r,n,i){e.beginPath(),e.moveTo(t,r),e.lineTo(n,i),e.stroke()};function Zu(e){this.bindConstructorValues(e)}function Ju(e,t,r){Object.defineProperty(e,t,{get:function(){return e.path,e[r]},set:function(t){e[r]=t},enumerable:!0,configurable:!0})}function Qu(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++){var n=t[r];n.path.unitsPerEm=e.unitsPerEm,this.glyphs[r]=n}this.length=t&&t.length||0}Zu.prototype.bindConstructorValues=function(e){var t,r;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(t=e.path,r=t||new ou,{configurable:!0,get:function(){return"function"==typeof r&&(r=r()),r},set:function(e){r=e}}))},Zu.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},Zu.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Zu.prototype.getPath=function(e,t,r,n,i){var s,a;e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72,n||(n={});var o=n.xScale,c=n.yScale;if(n.hinting&&i&&i.hinting&&(a=this.path&&i.hinting.exec(this,r)),a)s=i.hinting.getCommands(a),e=Math.round(e),t=Math.round(t),o=c=1;else{s=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*r;void 0===o&&(o=u),void 0===c&&(c=u)}for(var l=new ou,h=0;h<s.length;h+=1){var f=s[h];"M"===f.type?l.moveTo(e+f.x*o,t+-f.y*c):"L"===f.type?l.lineTo(e+f.x*o,t+-f.y*c):"Q"===f.type?l.quadraticCurveTo(e+f.x1*o,t+-f.y1*c,e+f.x*o,t+-f.y*c):"C"===f.type?l.curveTo(e+f.x1*o,t+-f.y1*c,e+f.x2*o,t+-f.y2*c,e+f.x*o,t+-f.y*c):"Z"===f.type&&l.closePath()}return l},Zu.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return lu.argument(0===t.length,"There are still points left in the current contour."),e},Zu.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];"Z"!==i.type&&(t.push(i.x),r.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),r.push(i.y1)),"C"===i.type&&(t.push(i.x2),r.push(i.y2))}var s={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s},Zu.prototype.draw=function(e,t,r,n,i){this.getPath(t,r,n,i).draw(e)},Zu.prototype.drawPoints=function(e,t,r,n){function i(t,r,n,i){e.beginPath();for(var s=0;s<t.length;s+=1)e.moveTo(r+t[s].x*i,n+t[s].y*i),e.arc(r+t[s].x*i,n+t[s].y*i,2,0,2*Math.PI,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:24;for(var s=1/this.path.unitsPerEm*n,a=[],o=[],c=this.path,u=0;u<c.commands.length;u+=1){var l=c.commands[u];void 0!==l.x&&a.push({x:l.x,y:-l.y}),void 0!==l.x1&&o.push({x:l.x1,y:-l.y1}),void 0!==l.x2&&o.push({x:l.x2,y:-l.y2})}e.fillStyle="blue",i(a,t,r,s),e.fillStyle="red",i(o,t,r,s)},Zu.prototype.drawMetrics=function(e,t,r,n){var i;t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:24,i=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",Ku(e,t,-1e4,t,1e4),Ku(e,-1e4,r,1e4,r);var s=this.xMin||0,a=this.yMin||0,o=this.xMax||0,c=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",Ku(e,t+s*i,-1e4,t+s*i,1e4),Ku(e,t+o*i,-1e4,t+o*i,1e4),Ku(e,-1e4,r+-a*i,1e4,r+-a*i),Ku(e,-1e4,r+-c*i,1e4,r+-c*i),e.strokeStyle="green",Ku(e,t+u*i,-1e4,t+u*i,1e4)},Qu.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],r=this.font._IndexToUnicodeMap[e];if(r)for(var n=0;n<r.unicodes.length;n++)t.addUnicode(r.unicodes[n]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},Qu.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var el={GlyphSet:Qu,glyphLoader:function(e,t){return new Zu({index:t,font:e})},ttfGlyphLoader:function(e,t,r,n,i,s){return function(){var a=new Zu({index:t,font:e});return a.path=function(){r(a,n,i);var t=s(e.glyphs,a);return t.unitsPerEm=e.unitsPerEm,t},Ju(a,"xMin","_xMin"),Ju(a,"xMax","_xMax"),Ju(a,"yMin","_yMin"),Ju(a,"yMax","_yMax"),a}},cffGlyphLoader:function(e,t,r,n){return function(){var i=new Zu({index:t,font:e});return i.path=function(){var t=r(e,i,n);return t.unitsPerEm=e.unitsPerEm,t},i}}};function tl(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!tl(e[r],t[r]))return!1;return!0}return!1}function rl(e){return e.length<1240?107:e.length<33900?1131:32768}function nl(e,t,r){var n,i,s=[],a=[],o=Uu.getCard16(e,t);if(0!==o){var c=Uu.getByte(e,t+2);n=t+(o+1)*c+2;for(var u=t+3,l=0;l<o+1;l+=1)s.push(Uu.getOffset(e,u,c)),u+=c;i=n+s[o]}else i=t+2;for(var h=0;h<s.length-1;h+=1){var f=Uu.getBytes(e,n+s[h],n+s[h+1]);r&&(f=r(f)),a.push(f)}return{objects:a,startOffset:t,endOffset:i}}function il(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var n=e.parseByte(),i=n>>4,s=15&n;if(15===i)break;if(t+=r[i],15===s)break;t+=r[s]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return 256*(t-247)+e.parseByte()+108;if(t>=251&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function sl(e,t,r){t=void 0!==t?t:0;var n=new Uu.Parser(e,t),i=[],s=[];for(r=void 0!==r?r:e.length;n.relativeOffset<r;){var a=n.parseByte();a<=21?(12===a&&(a=1200+n.parseByte()),i.push([a,s]),s=[]):s.push(il(n,a))}return function(e){for(var t={},r=0;r<e.length;r+=1){var n,i=e[r][0],s=e[r][1];if(n=1===s.length?s[0]:s,t.hasOwnProperty(i)&&!isNaN(t[i]))throw new Error("Object "+t+" already has key "+i);t[i]=n}return t}(i)}function al(e,t){return t<=390?Gu[t]:e[t-391]}function ol(e,t,r){for(var n,i={},s=0;s<t.length;s+=1){var a=t[s];if(Array.isArray(a.type)){var o=[];o.length=a.type.length;for(var c=0;c<a.type.length;c++)void 0===(n=void 0!==e[a.op]?e[a.op][c]:void 0)&&(n=void 0!==a.value&&void 0!==a.value[c]?a.value[c]:null),"SID"===a.type[c]&&(n=al(r,n)),o[c]=n;i[a.name]=o}else void 0===(n=e[a.op])&&(n=void 0!==a.value?a.value:null),"SID"===a.type&&(n=al(r,n)),i[a.name]=n}return i}var cl=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ul=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ll(e,t){return ol(sl(e,0,e.byteLength),cl,t)}function hl(e,t,r,n){return ol(sl(e,t,r),ul,n)}function fl(e,t,r,n){for(var i=[],s=0;s<r.length;s+=1){var a=ll(new DataView(new Uint8Array(r[s]).buffer),n);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var o=a.private[0],c=a.private[1];if(0!==o&&0!==c){var u=hl(e,c+t,o,n);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,0!==u.subrs){var l=nl(e,c+u.subrs+t);a._subrs=l.objects,a._subrsBias=rl(a._subrs)}a._privateDict=u}i.push(a)}return i}function dl(e,t,r){var n,i,s,a,o,c,u,l,h=new ou,f=[],d=0,p=!1,g=!1,m=0,y=0;if(e.isCIDFont){var b=e.tables.cff.topDict._fdSelect[t.index],v=e.tables.cff.topDict._fdArray[b];o=v._subrs,c=v._subrsBias,u=v._defaultWidthX,l=v._nominalWidthX}else o=e.tables.cff.topDict._subrs,c=e.tables.cff.topDict._subrsBias,u=e.tables.cff.topDict._defaultWidthX,l=e.tables.cff.topDict._nominalWidthX;var w=u;function S(e,t){g&&h.closePath(),h.moveTo(e,t),g=!0}function E(){f.length%2!=0&&!p&&(w=f.shift()+l),d+=f.length>>1,f.length=0,p=!0}return function r(u){for(var b,v,x,I,_,T,k,A,C,M,R,O,D=0;D<u.length;){var P=u[D];switch(D+=1,P){case 1:case 3:case 18:case 23:E();break;case 4:f.length>1&&!p&&(w=f.shift()+l,p=!0),y+=f.pop(),S(m,y);break;case 5:for(;f.length>0;)m+=f.shift(),y+=f.shift(),h.lineTo(m,y);break;case 6:for(;f.length>0&&(m+=f.shift(),h.lineTo(m,y),0!==f.length);)y+=f.shift(),h.lineTo(m,y);break;case 7:for(;f.length>0&&(y+=f.shift(),h.lineTo(m,y),0!==f.length);)m+=f.shift(),h.lineTo(m,y);break;case 8:for(;f.length>0;)n=m+f.shift(),i=y+f.shift(),s=n+f.shift(),a=i+f.shift(),m=s+f.shift(),y=a+f.shift(),h.curveTo(n,i,s,a,m,y);break;case 10:_=f.pop()+c,(T=o[_])&&r(T);break;case 11:return;case 12:switch(P=u[D],D+=1,P){case 35:n=m+f.shift(),i=y+f.shift(),s=n+f.shift(),a=i+f.shift(),k=s+f.shift(),A=a+f.shift(),C=k+f.shift(),M=A+f.shift(),R=C+f.shift(),O=M+f.shift(),m=R+f.shift(),y=O+f.shift(),f.shift(),h.curveTo(n,i,s,a,k,A),h.curveTo(C,M,R,O,m,y);break;case 34:n=m+f.shift(),i=y,s=n+f.shift(),a=i+f.shift(),k=s+f.shift(),A=a,C=k+f.shift(),M=a,R=C+f.shift(),O=y,m=R+f.shift(),h.curveTo(n,i,s,a,k,A),h.curveTo(C,M,R,O,m,y);break;case 36:n=m+f.shift(),i=y+f.shift(),s=n+f.shift(),a=i+f.shift(),k=s+f.shift(),A=a,C=k+f.shift(),M=a,R=C+f.shift(),O=M+f.shift(),m=R+f.shift(),h.curveTo(n,i,s,a,k,A),h.curveTo(C,M,R,O,m,y);break;case 37:n=m+f.shift(),i=y+f.shift(),s=n+f.shift(),a=i+f.shift(),k=s+f.shift(),A=a+f.shift(),C=k+f.shift(),M=A+f.shift(),R=C+f.shift(),O=M+f.shift(),Math.abs(R-m)>Math.abs(O-y)?m=R+f.shift():y=O+f.shift(),h.curveTo(n,i,s,a,k,A),h.curveTo(C,M,R,O,m,y);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+P),f.length=0}break;case 14:f.length>0&&!p&&(w=f.shift()+l,p=!0),g&&(h.closePath(),g=!1);break;case 19:case 20:E(),D+=d+7>>3;break;case 21:f.length>2&&!p&&(w=f.shift()+l,p=!0),y+=f.pop(),S(m+=f.pop(),y);break;case 22:f.length>1&&!p&&(w=f.shift()+l,p=!0),S(m+=f.pop(),y);break;case 24:for(;f.length>2;)n=m+f.shift(),i=y+f.shift(),s=n+f.shift(),a=i+f.shift(),m=s+f.shift(),y=a+f.shift(),h.curveTo(n,i,s,a,m,y);m+=f.shift(),y+=f.shift(),h.lineTo(m,y);break;case 25:for(;f.length>6;)m+=f.shift(),y+=f.shift(),h.lineTo(m,y);n=m+f.shift(),i=y+f.shift(),s=n+f.shift(),a=i+f.shift(),m=s+f.shift(),y=a+f.shift(),h.curveTo(n,i,s,a,m,y);break;case 26:for(f.length%2&&(m+=f.shift());f.length>0;)n=m,i=y+f.shift(),s=n+f.shift(),a=i+f.shift(),m=s,y=a+f.shift(),h.curveTo(n,i,s,a,m,y);break;case 27:for(f.length%2&&(y+=f.shift());f.length>0;)n=m+f.shift(),i=y,s=n+f.shift(),a=i+f.shift(),m=s+f.shift(),y=a,h.curveTo(n,i,s,a,m,y);break;case 28:b=u[D],v=u[D+1],f.push((b<<24|v<<16)>>16),D+=2;break;case 29:_=f.pop()+e.gsubrsBias,(T=e.gsubrs[_])&&r(T);break;case 30:for(;f.length>0&&(n=m,i=y+f.shift(),s=n+f.shift(),a=i+f.shift(),m=s+f.shift(),y=a+(1===f.length?f.shift():0),h.curveTo(n,i,s,a,m,y),0!==f.length);)n=m+f.shift(),i=y,s=n+f.shift(),a=i+f.shift(),y=a+f.shift(),m=s+(1===f.length?f.shift():0),h.curveTo(n,i,s,a,m,y);break;case 31:for(;f.length>0&&(n=m+f.shift(),i=y,s=n+f.shift(),a=i+f.shift(),y=a+f.shift(),m=s+(1===f.length?f.shift():0),h.curveTo(n,i,s,a,m,y),0!==f.length);)n=m,i=y+f.shift(),s=n+f.shift(),a=i+f.shift(),m=s+f.shift(),y=a+(1===f.length?f.shift():0),h.curveTo(n,i,s,a,m,y);break;default:P<32?console.log("Glyph "+t.index+": unknown operator "+P):P<247?f.push(P-139):P<251?(b=u[D],D+=1,f.push(256*(P-247)+b+108)):P<255?(b=u[D],D+=1,f.push(256*-(P-251)-b-108)):(b=u[D],v=u[D+1],x=u[D+2],I=u[D+3],D+=4,f.push((b<<24|v<<16|x<<8|I)/65536))}}}(r),t.advanceWidth=w,h}function pl(e,t){var r,n=Gu.indexOf(e);return n>=0&&(r=n),(n=t.indexOf(e))>=0?r=n+Gu.length:(r=Gu.length+t.length,t.push(e)),r}function gl(e,t,r){for(var n={},i=0;i<e.length;i+=1){var s=e[i],a=t[s.name];void 0===a||tl(a,s.value)||("SID"===s.type&&(a=pl(a,r)),n[s.op]={name:s.name,type:s.type,value:a})}return n}function ml(e,t){var r=new Ru.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=gl(cl,e,t),r}function yl(e){var t=new Ru.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function bl(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,i=0,s=0;s<r.commands.length;s+=1){var a=void 0,o=void 0,c=r.commands[s];if("Q"===c.type){var u=1/3,l=2/3;c={type:"C",x:c.x,y:c.y,x1:Math.round(u*n+l*c.x1),y1:Math.round(u*i+l*c.y1),x2:Math.round(u*c.x+l*c.x1),y2:Math.round(u*c.y+l*c.y1)}}if("M"===c.type)a=Math.round(c.x-n),o=Math.round(c.y-i),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:o}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(c.x),i=Math.round(c.y);else if("L"===c.type)a=Math.round(c.x-n),o=Math.round(c.y-i),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:o}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(c.x),i=Math.round(c.y);else if("C"===c.type){var h=Math.round(c.x1-n),f=Math.round(c.y1-i),d=Math.round(c.x2-c.x1),p=Math.round(c.y2-c.y1);a=Math.round(c.x-c.x2),o=Math.round(c.y-c.y2),t.push({name:"dx1",type:"NUMBER",value:h}),t.push({name:"dy1",type:"NUMBER",value:f}),t.push({name:"dx2",type:"NUMBER",value:d}),t.push({name:"dy2",type:"NUMBER",value:p}),t.push({name:"dx",type:"NUMBER",value:a}),t.push({name:"dy",type:"NUMBER",value:o}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(c.x),i=Math.round(c.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var vl=function(e,t){var r={},n=new Uu.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(1e3*n.parseFixed())/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),lu.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r},wl=function(e,t){var r={},n=new Uu.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r},Sl=function(e,t){var r=new Uu.Parser(e,t),n=r.parseULong();lu.argument(1===n,"Unsupported ltag table version."),r.skip("uLong",1);for(var i=r.parseULong(),s=[],a=0;a<i;a++){for(var o="",c=t+r.parseUShort(),u=r.parseUShort(),l=c;l<c+u;++l)o+=String.fromCharCode(e.getInt8(l));s.push(o)}return s},El=function(e,t){var r={},n=new Uu.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),1===r.version&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r},xl=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Il={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},_l={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Tl={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function kl(e,t,r){switch(e){case 0:if(65535===t)return"und";if(r)return r[t];break;case 1:return Il[t];case 3:return Tl[t]}}var Al="utf-16",Cl={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ml={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Rl(e,t,r){switch(e){case 0:return Al;case 1:return Ml[r]||Cl[t];case 3:if(1===t||10===t)return Al}}function Ol(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function Dl(e,t,r,n,i,s){return new Ru.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function Pl(e,t){var r=function(e,t){var r=e.length,n=t.length-r+1;e:for(var i=0;i<n;i++)for(;i<n;i++){for(var s=0;s<r;s++)if(t[i+s]!==e[s])continue e;return i}return-1}(e,t);if(r<0){r=t.length;for(var n=0,i=e.length;n<i;++n)t.push(e[n])}return r}var Ll=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Fl=function(e,t){var r={},n=new Uu.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var i=0;i<10;i++)r.panose[i]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r},Nl=function(e){for(var t=0;t<Ll.length;t+=1){var r=Ll[t];if(e>=r.begin&&e<r.end)return t}return-1},Bl=function(e,t){var r={},n=new Uu.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=qu.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var i=0;i<r.numberOfGlyphs;i++)r.glyphNameIndex[i]=n.parseUShort();r.names=[];for(var s=0;s<r.numberOfGlyphs;s++)if(r.glyphNameIndex[s]>=qu.length){var a=n.parseChar();r.names.push(n.parseString(a))}break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var o=0;o<r.numberOfGlyphs;o++)r.offset[o]=n.parseChar()}return r},Ul=new Array(9);Ul[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(Nu.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(Nu.coverage),substitute:this.parseOffset16List()}:void lu.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},Ul[2]=function(){var e=this.parseUShort();return lu.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Nu.coverage),sequences:this.parseListOfLists()}},Ul[3]=function(){var e=this.parseUShort();return lu.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Nu.coverage),alternateSets:this.parseListOfLists()}},Ul[4]=function(){var e=this.parseUShort();return lu.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Nu.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};var jl={sequenceIndex:Nu.uShort,lookupListIndex:Nu.uShort};Ul[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(Nu.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,jl)}}))};if(2===t)return{substFormat:t,coverage:this.parsePointer(Nu.coverage),classDef:this.parsePointer(Nu.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,jl)}}))};if(3===t){var r=this.parseUShort(),n=this.parseUShort();return{substFormat:t,coverages:this.parseList(r,Nu.pointer(Nu.coverage)),lookupRecords:this.parseRecordList(n,jl)}}lu.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Ul[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(Nu.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(jl)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(Nu.coverage),backtrackClassDef:this.parsePointer(Nu.classDef),inputClassDef:this.parsePointer(Nu.classDef),lookaheadClassDef:this.parsePointer(Nu.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(jl)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(Nu.pointer(Nu.coverage)),inputCoverage:this.parseList(Nu.pointer(Nu.coverage)),lookaheadCoverage:this.parseList(Nu.pointer(Nu.coverage)),lookupRecords:this.parseRecordList(jl)}:void lu.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Ul[7]=function(){var e=this.parseUShort();lu.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),r=new Nu(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:Ul[t].call(r)}},Ul[8]=function(){var e=this.parseUShort();return lu.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Nu.coverage),backtrackCoverage:this.parseList(Nu.pointer(Nu.coverage)),lookaheadCoverage:this.parseList(Nu.pointer(Nu.coverage)),substitutes:this.parseUShortList()}};var Vl=new Array(9);function Gl(e){return Math.log(e)/Math.log(2)|0}function zl(e){for(;e.length%4!=0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%Math.pow(2,32)}function Wl(e,t,r,n){return new Ru.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==n?n:0}])}function ql(e,t,r){for(var n=0;n<t.length;n+=1){var i=e.charToGlyphIndex(t[n]);if(i>0)return e.glyphs.get(i).getMetrics()}return r}function $l(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}Vl[1]=function(e){return 1===e.substFormat?new Ru.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ru.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Ru.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ru.Coverage(e.coverage)}].concat(Ru.ushortList("substitute",e.substitute)))},Vl[2]=function(e){return lu.assert(1===e.substFormat,"Lookup type 2 substFormat must be 1."),new Ru.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ru.Coverage(e.coverage)}].concat(Ru.tableList("seqSet",e.sequences,(function(e){return new Ru.Table("sequenceSetTable",Ru.ushortList("sequence",e))}))))},Vl[3]=function(e){return lu.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new Ru.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ru.Coverage(e.coverage)}].concat(Ru.tableList("altSet",e.alternateSets,(function(e){return new Ru.Table("alternateSetTable",Ru.ushortList("alternate",e))}))))},Vl[4]=function(e){return lu.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new Ru.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ru.Coverage(e.coverage)}].concat(Ru.tableList("ligSet",e.ligatureSets,(function(e){return new Ru.Table("ligatureSetTable",Ru.tableList("ligature",e,(function(e){return new Ru.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(Ru.ushortList("component",e.components,e.components.length+1)))})))}))))},Vl[6]=function(e){if(1===e.substFormat){var t=new Ru.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new Ru.Coverage(e.coverage)}].concat(Ru.tableList("chainRuleSet",e.chainRuleSets,(function(e){return new Ru.Table("chainRuleSetTable",Ru.tableList("chainRule",e,(function(e){var t=Ru.ushortList("backtrackGlyph",e.backtrack,e.backtrack.length).concat(Ru.ushortList("inputGlyph",e.input,e.input.length+1)).concat(Ru.ushortList("lookaheadGlyph",e.lookahead,e.lookahead.length)).concat(Ru.ushortList("substitution",[],e.lookupRecords.length));return e.lookupRecords.forEach((function(e,r){t=t.concat({name:"sequenceIndex"+r,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+r,type:"USHORT",value:e.lookupListIndex})})),new Ru.Table("chainRuleTable",t)})))}))));return t}if(2===e.substFormat)lu.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===e.substFormat){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];return r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach((function(e,t){r.push({name:"backtrackCoverage"+t,type:"TABLE",value:new Ru.Coverage(e)})})),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach((function(e,t){r.push({name:"inputCoverage"+t,type:"TABLE",value:new Ru.Coverage(e)})})),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach((function(e,t){r.push({name:"lookaheadCoverage"+t,type:"TABLE",value:new Ru.Coverage(e)})})),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach((function(e,t){r=r.concat({name:"sequenceIndex"+t,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+t,type:"USHORT",value:e.lookupListIndex})})),new Ru.Table("chainContextTable",r)}lu.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function Hl(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,s=e[i].tag;if(s===t)return i;s<t?r=i+1:n=i-1}return-r-1}function Xl(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,s=e[i];if(s===t)return i;s<t?r=i+1:n=i-1}return-r-1}function Yl(e,t){for(var r,n=0,i=e.length-1;n<=i;){var s=n+i>>>1,a=(r=e[s]).start;if(a===t)return r;a<t?n=s+1:i=s-1}if(n>0)return t>(r=e[n-1]).end?0:r}function Kl(e,t){this.font=e,this.tableName=t}function Zl(e){Kl.call(this,e,"gpos")}function Jl(e){Kl.call(this,e,"gsub")}function Ql(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function eh(e,t,r){for(var n=e.subtables,i=0;i<n.length;i++){var s=n[i];if(s.substFormat===t)return s}if(r)return n.push(r),r}function th(e,t){if(!e)throw t}function rh(e,t,r,n,i){var s;return(t&n)>0?(s=e.parseByte(),t&i||(s=-s),s=r+s):s=(t&i)>0?r:r+e.parseShort(),s}function nh(e,t,r){var n,i,s=new Uu.Parser(t,r);if(e.numberOfContours=s.parseShort(),e._xMin=s.parseShort(),e._yMin=s.parseShort(),e._xMax=s.parseShort(),e._yMax=s.parseShort(),e.numberOfContours>0){for(var a=e.endPointIndices=[],o=0;o<e.numberOfContours;o+=1)a.push(s.parseUShort());e.instructionLength=s.parseUShort(),e.instructions=[];for(var c=0;c<e.instructionLength;c+=1)e.instructions.push(s.parseByte());var u=a[a.length-1]+1;n=[];for(var l=0;l<u;l+=1)if(i=s.parseByte(),n.push(i),(8&i)>0)for(var h=s.parseByte(),f=0;f<h;f+=1)n.push(i),l+=1;if(lu.argument(n.length===u,"Bad flags."),a.length>0){var d,p=[];if(u>0){for(var g=0;g<u;g+=1)i=n[g],(d={}).onCurve=!!(1&i),d.lastPointOfContour=a.indexOf(g)>=0,p.push(d);for(var m=0,y=0;y<u;y+=1)i=n[y],(d=p[y]).x=rh(s,i,m,2,16),m=d.x;for(var b=0,v=0;v<u;v+=1)i=n[v],(d=p[v]).y=rh(s,i,b,4,32),b=d.y}e.points=p}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var w=!0;w;){n=s.parseUShort();var S={glyphIndex:s.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&n)>0?(2&n)>0?(S.dx=s.parseShort(),S.dy=s.parseShort()):S.matchedPoints=[s.parseUShort(),s.parseUShort()]:(2&n)>0?(S.dx=s.parseChar(),S.dy=s.parseChar()):S.matchedPoints=[s.parseByte(),s.parseByte()],(8&n)>0?S.xScale=S.yScale=s.parseF2Dot14():(64&n)>0?(S.xScale=s.parseF2Dot14(),S.yScale=s.parseF2Dot14()):(128&n)>0&&(S.xScale=s.parseF2Dot14(),S.scale01=s.parseF2Dot14(),S.scale10=s.parseF2Dot14(),S.yScale=s.parseF2Dot14()),e.components.push(S),w=!!(32&n)}if(256&n){e.instructionLength=s.parseUShort(),e.instructions=[];for(var E=0;E<e.instructionLength;E+=1)e.instructions.push(s.parseByte())}}}function ih(e,t){for(var r=[],n=0;n<e.length;n+=1){var i=e[n],s={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};r.push(s)}return r}function sh(e){var t=new ou;if(!e)return t;for(var r=function(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];r.push(i),i.lastPointOfContour&&(t.push(r),r=[])}return lu.argument(0===r.length,"There are still points left in the current contour."),t}(e),n=0;n<r.length;++n){var i=r[n],s=null,a=i[i.length-1],o=i[0];if(a.onCurve)t.moveTo(a.x,a.y);else if(o.onCurve)t.moveTo(o.x,o.y);else{var c={x:.5*(a.x+o.x),y:.5*(a.y+o.y)};t.moveTo(c.x,c.y)}for(var u=0;u<i.length;++u)if(s=a,a=o,o=i[(u+1)%i.length],a.onCurve)t.lineTo(a.x,a.y);else{var l=o;s.onCurve||(a.x,s.x,a.y,s.y),o.onCurve||(l={x:.5*(a.x+o.x),y:.5*(a.y+o.y)}),t.quadraticCurveTo(a.x,a.y,l.x,l.y)}t.closePath()}return t}function ah(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],i=e.get(n.glyphIndex);if(i.getPath(),i.points){var s=void 0;if(void 0===n.matchedPoints)s=ih(i.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[n.matchedPoints[0]],o=i.points[n.matchedPoints[1]],c={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};o=ih([o],c)[0],c.dx=a.x-o.x,c.dy=a.y-o.y,s=ih(i.points,c)}t.points=t.points.concat(s)}}return sh(t.points)}Kl.prototype={searchTag:Hl,binSearch:Xl,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if("DFLT"===n)return n;"latn"===n&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){e=e||"DFLT";var n=r.scripts,i=Hl(r.scripts,e);if(i>=0)return n[i].script;if(t){var s={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-i,0,s),s.script}}},getLangSysTable:function(e,t,r){var n=this.getScriptTable(e,r);if(n){if(!t||"dflt"===t||"DFLT"===t)return n.defaultLangSys;var i=Hl(n.langSysRecords,t);if(i>=0)return n.langSysRecords[i].langSys;if(r){var s={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-i,0,s),s.langSys}}},getFeatureTable:function(e,t,r,n){var i=this.getLangSysTable(e,t,n);if(i){for(var s,a=i.featureIndexes,o=this.font.tables[this.tableName].features,c=0;c<a.length;c++)if((s=o[a[c]]).tag===r)return s.feature;if(n){var u=o.length;return lu.assert(0===u||r>=o[u-1].tag,"Features must be added in alphabetical order."),s={tag:r,feature:{params:0,lookupListIndexes:[]}},o.push(s),a.push(u),s.feature}}},getLookupTables:function(e,t,r,n,i){var s=this.getFeatureTable(e,t,r,i),a=[];if(s){for(var o,c=s.lookupListIndexes,u=this.font.tables[this.tableName].lookups,l=0;l<c.length;l++)(o=u[c[l]]).lookupType===n&&a.push(o);if(0===a.length&&i){o={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0};var h=u.length;return u.push(o),c.push(h),[o]}}return a},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=Yl(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=Xl(e.glyphs,t);return r>=0?r:-1;case 2:var n=Yl(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var i=r[n],s=i.start,a=i.end,o=s;o<=a;o++)t.push(o);return t}},Zl.prototype=Kl.prototype,Zl.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},Zl.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var i=e[n].subtables,s=0;s<i.length;s++){var a=i[s],o=this.getCoverageIndex(a.coverage,t);if(!(o<0))switch(a.posFormat){case 1:for(var c=a.pairSets[o],u=0;u<c.length;u++){var l=c[u];if(l.secondGlyph===r)return l.value1&&l.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(a.classDef1,t),f=this.getGlyphClass(a.classDef2,r),d=a.classRecords[h][f];return d.value1&&d.value1.xAdvance||0}}return 0},Zl.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},Jl.prototype=Kl.prototype,Jl.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Jl.prototype.getSingle=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,1),s=0;s<i.length;s++)for(var a=i[s].subtables,o=0;o<a.length;o++){var c=a[o],u=this.expandCoverage(c.coverage),l=void 0;if(1===c.substFormat){var h=c.deltaGlyphId;for(l=0;l<u.length;l++){var f=u[l];n.push({sub:f,by:f+h})}}else{var d=c.substitute;for(l=0;l<u.length;l++)n.push({sub:u[l],by:d[l]})}}return n},Jl.prototype.getMultiple=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,2),s=0;s<i.length;s++)for(var a=i[s].subtables,o=0;o<a.length;o++){var c=a[o],u=this.expandCoverage(c.coverage),l=void 0;for(l=0;l<u.length;l++){var h=u[l],f=c.sequences[l];n.push({sub:h,by:f})}}return n},Jl.prototype.getAlternates=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,3),s=0;s<i.length;s++)for(var a=i[s].subtables,o=0;o<a.length;o++)for(var c=a[o],u=this.expandCoverage(c.coverage),l=c.alternateSets,h=0;h<u.length;h++)n.push({sub:u[h],by:l[h]});return n},Jl.prototype.getLigatures=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,4),s=0;s<i.length;s++)for(var a=i[s].subtables,o=0;o<a.length;o++)for(var c=a[o],u=this.expandCoverage(c.coverage),l=c.ligatureSets,h=0;h<u.length;h++)for(var f=u[h],d=l[h],p=0;p<d.length;p++){var g=d[p];n.push({sub:[f].concat(g.components),by:g.ligGlyph})}return n},Jl.prototype.addSingle=function(e,t,r,n){var i=eh(this.getLookupTables(r,n,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});lu.assert(1===i.coverage.format,"Single: unable to modify coverage table format "+i.coverage.format);var s=t.sub,a=this.binSearch(i.coverage.glyphs,s);a<0&&(a=-1-a,i.coverage.glyphs.splice(a,0,s),i.substitute.splice(a,0,0)),i.substitute[a]=t.by},Jl.prototype.addMultiple=function(e,t,r,n){lu.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=eh(this.getLookupTables(r,n,e,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});lu.assert(1===i.coverage.format,"Multiple: unable to modify coverage table format "+i.coverage.format);var s=t.sub,a=this.binSearch(i.coverage.glyphs,s);a<0&&(a=-1-a,i.coverage.glyphs.splice(a,0,s),i.sequences.splice(a,0,0)),i.sequences[a]=t.by},Jl.prototype.addAlternate=function(e,t,r,n){var i=eh(this.getLookupTables(r,n,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});lu.assert(1===i.coverage.format,"Alternate: unable to modify coverage table format "+i.coverage.format);var s=t.sub,a=this.binSearch(i.coverage.glyphs,s);a<0&&(a=-1-a,i.coverage.glyphs.splice(a,0,s),i.alternateSets.splice(a,0,0)),i.alternateSets[a]=t.by},Jl.prototype.addLigature=function(e,t,r,n){var i=this.getLookupTables(r,n,e,4,!0)[0],s=i.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=s),lu.assert(1===s.coverage.format,"Ligature: unable to modify coverage table format "+s.coverage.format);var a=t.sub[0],o=t.sub.slice(1),c={ligGlyph:t.by,components:o},u=this.binSearch(s.coverage.glyphs,a);if(u>=0){for(var l=s.ligatureSets[u],h=0;h<l.length;h++)if(Ql(l[h].components,o))return;l.push(c)}else u=-1-u,s.coverage.glyphs.splice(u,0,a),s.ligatureSets.splice(u,0,[c])},Jl.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r);case"ccmp":return this.getMultiple(e,t,r).concat(this.getLigatures(e,t,r));case"stch":return this.getMultiple(e,t,r)}},Jl.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,r,n):this.addLigature(e,t,r,n)}};var oh,ch,uh,lh,hh={getPath:sh,parse:function(e,t,r,n,i){return i.lowMemory?function(e,t,r,n){var i=new el.GlyphSet(n);return n._push=function(s){var a=r[s];a!==r[s+1]?i.push(s,el.ttfGlyphLoader(n,s,nh,e,t+a,ah)):i.push(s,el.glyphLoader(n,s))},i}(e,t,r,n):function(e,t,r,n){for(var i=new el.GlyphSet(n),s=0;s<r.length-1;s+=1){var a=r[s];a!==r[s+1]?i.push(s,el.ttfGlyphLoader(n,s,nh,e,t+a,ah)):i.push(s,el.glyphLoader(n,s))}return i}(e,t,r,n)}};function fh(e){this.font=e,this.getCommands=function(e){return hh.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function dh(e){return e}function ph(e){return Math.sign(e)*Math.round(Math.abs(e))}function gh(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function mh(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function yh(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function bh(e){return Math.sign(e)*Math.floor(Math.abs(e))}var vh=function(e){var t=this.srPeriod,r=this.srPhase,n=1;return e<0&&(e=-e,n=-1),e+=this.srThreshold-r,e=Math.trunc(e/t)*t,(e+=r)<0?r*n:e*n},wh={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var i,s,a,o,c,u,l;if(!n||n===this)return i=e.xo-t.xo,s=e.xo-r.xo,c=t.x-t.xo,u=r.x-r.xo,0===(l=(a=Math.abs(i))+(o=Math.abs(s)))?void(e.x=e.xo+(c+u)/2):void(e.x=e.xo+(c*o+u*a)/l);i=n.distance(e,t,!0,!0),s=n.distance(e,r,!0,!0),c=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),0!==(l=(a=Math.abs(i))+(o=Math.abs(s)))?wh.setRelative(e,e,(c*o+u*a)/l,n,!0):wh.setRelative(e,e,(c+u)/2,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,i){if(n&&n!==this){var s=i?t.xo:t.x,a=i?t.yo:t.y,o=s+r*n.x,c=a+r*n.y;e.x=o+(e.y-c)/n.normalSlope}else e.x=(i?t.xo:t.x)+r},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Sh={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var i,s,a,o,c,u,l;if(!n||n===this)return i=e.yo-t.yo,s=e.yo-r.yo,c=t.y-t.yo,u=r.y-r.yo,0===(l=(a=Math.abs(i))+(o=Math.abs(s)))?void(e.y=e.yo+(c+u)/2):void(e.y=e.yo+(c*o+u*a)/l);i=n.distance(e,t,!0,!0),s=n.distance(e,r,!0,!0),c=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),0!==(l=(a=Math.abs(i))+(o=Math.abs(s)))?Sh.setRelative(e,e,(c*o+u*a)/l,n,!0):Sh.setRelative(e,e,(c+u)/2,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,i){if(n&&n!==this){var s=i?t.xo:t.x,a=i?t.yo:t.y,o=s+r*n.x,c=a+r*n.y;e.y=c+n.normalSlope*(e.x-o)}else e.y=(i?t.yo:t.y)+r},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Eh(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function xh(e,t){var r=Math.sqrt(e*e+t*t);return t/=r,1==(e/=r)&&0===t?wh:0===e&&1===t?Sh:new Eh(e,t)}function Ih(e,t,r,n){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(wh),Object.freeze(Sh),Eh.prototype.distance=function(e,t,r,n){return this.x*wh.distance(e,t,r,n)+this.y*Sh.distance(e,t,r,n)},Eh.prototype.interpolate=function(e,t,r,n){var i,s,a,o,c,u,l;a=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),i=n.distance(t,t,!1,!0),s=n.distance(r,r,!1,!0),0!==(l=(c=Math.abs(a))+(u=Math.abs(o)))?this.setRelative(e,e,(i*u+s*c)/l,n,!0):this.setRelative(e,e,(i+s)/2,n,!0)},Eh.prototype.setRelative=function(e,t,r,n,i){n=n||this;var s=i?t.xo:t.x,a=i?t.yo:t.y,o=s+r*n.x,c=a+r*n.y,u=n.normalSlope,l=this.slope,h=e.x,f=e.y;e.x=(l*h-u*o+c-f)/(l-u),e.y=l*(e.x-h)+f},Eh.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Ih.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Ih.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var _h=Object.freeze(new Ih(0,0)),Th={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function kh(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=wh,this.round=ph}}function Ah(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new Ih(0,0)}function Ch(e,t){var r,n=e.prog,i=e.ip,s=1;do{if(88===(r=n[++i]))s++;else if(89===r)s--;else if(64===r)i+=n[i+1]+1;else if(65===r)i+=2*n[i+1]+1;else if(r>=176&&r<=183)i+=r-176+1;else if(r>=184&&r<=191)i+=2*(r-184+1);else if(t&&1===s&&27===r)break}while(s>0);e.ip=i}function Mh(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function Rh(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function Oh(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function Dh(e,t){var r,n,i=t.stack,s=i.pop(),a=i.pop(),o=t.z2[s],c=t.z1[a];exports.DEBUG&&console.log("SPVTL["+e+"]",s,a),e?(r=o.y-c.y,n=c.x-o.x):(r=c.x-o.x,n=c.y-o.y),t.pv=t.dpv=xh(r,n)}function Ph(e,t){var r,n,i=t.stack,s=i.pop(),a=i.pop(),o=t.z2[s],c=t.z1[a];exports.DEBUG&&console.log("SFVTL["+e+"]",s,a),e?(r=o.y-c.y,n=c.x-o.x):(r=c.x-o.x,n=c.y-o.y),t.fv=xh(r,n)}function Lh(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function Fh(e,t){var r=t.stack.pop(),n=t.z0[r],i=t.fv,s=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",r);var a=s.distance(n,_h);e&&(a=t.round(a)),i.setRelative(n,_h,a,s),i.touch(n),t.rp0=t.rp1=r}function Nh(e,t){var r,n,i,s=t.z2,a=s.length-2;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var o=0;o<a;o++)r=s[o],e.touched(r)||(n=r.prevTouched(e))!==r&&(n===(i=r.nextTouched(e))&&e.setRelative(r,r,e.distance(n,n,!1,!0),e,!0),e.interpolate(r,n,i,e))}function Bh(e,t){for(var r=t.stack,n=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[n],s=t.fv,a=t.pv,o=t.loop,c=t.z2;o--;){var u=r.pop(),l=c[u],h=a.distance(i,i,!1,!0);s.setRelative(l,l,h,a),s.touch(l),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-o)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",u)}t.loop=1}function Uh(e,t){var r=t.stack,n=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[n],s=t.fv,a=t.pv,o=r.pop(),c=t.z2[t.contours[o]],u=c;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",o);var l=a.distance(i,i,!1,!0);do{u!==i&&s.setRelative(u,u,l,a),u=u.nextPointOnContour}while(u!==c)}function jh(e,t){var r,n,i=t.stack,s=e?t.rp1:t.rp2,a=(e?t.z0:t.z1)[s],o=t.fv,c=t.pv,u=i.pop();switch(exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",u),u){case 0:r=t.tZone;break;case 1:r=t.gZone;break;default:throw new Error("Invalid zone")}for(var l=c.distance(a,a,!1,!0),h=r.length-2,f=0;f<h;f++)n=r[f],o.setRelative(n,n,l,c)}function Vh(e,t){var r=t.stack,n=r.pop()/64,i=r.pop(),s=t.z1[i],a=t.z0[t.rp0],o=t.fv,c=t.pv;o.setRelative(s,a,n,c),o.touch(s),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",n,i),t.rp1=t.rp0,t.rp2=i,e&&(t.rp0=i)}function Gh(e,t){var r=t.stack,n=r.pop(),i=r.pop(),s=t.z0[i],a=t.fv,o=t.pv,c=t.cvt[n];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",n,"(",c,")",i);var u=o.distance(s,_h);e&&(Math.abs(u-c)<t.cvCutIn&&(u=c),u=t.round(u)),a.setRelative(s,_h,u,o),0===t.zp0&&(s.xo=s.x,s.yo=s.y),a.touch(s),t.rp0=t.rp1=i}function zh(e,t){var r=t.stack,n=r.pop(),i=t.z2[n];exports.DEBUG&&console.log(t.step,"GC["+e+"]",n),r.push(64*t.dpv.distance(i,_h,e,!1))}function Wh(e,t){var r=t.stack,n=r.pop(),i=r.pop(),s=t.z1[n],a=t.z0[i],o=t.dpv.distance(a,s,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",n,i,"->",o),t.stack.push(Math.round(64*o))}function qh(e,t){var r=t.stack,n=r.pop(),i=t.fv,s=t.pv,a=t.ppem,o=t.deltaBase+16*(e-1),c=t.deltaShift,u=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",n,r);for(var l=0;l<n;l++){var h=r.pop(),f=r.pop();if(o+((240&f)>>4)===a){var d=(15&f)-8;d>=0&&d++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",h,"by",d*c);var p=u[h];i.setRelative(p,p,d*c,s)}}}function $h(e,t){var r=t.stack,n=r.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),r.push(64*t.round(n/64))}function Hh(e,t){var r=t.stack,n=r.pop(),i=t.ppem,s=t.deltaBase+16*(e-1),a=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",n,r);for(var o=0;o<n;o++){var c=r.pop(),u=r.pop();if(s+((240&u)>>4)===i){var l=(15&u)-8;l>=0&&l++;var h=l*a;exports.DEBUG&&console.log(t.step,"DELTACFIX",c,"by",h),t.cvt[c]+=h}}}function Xh(e,t){var r,n,i=t.stack,s=i.pop(),a=i.pop(),o=t.z2[s],c=t.z1[a];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",s,a),e?(r=o.y-c.y,n=c.x-o.x):(r=c.x-o.x,n=c.y-o.y),t.dpv=xh(r,n)}function Yh(e,t){var r=t.stack,n=t.prog,i=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var s=0;s<e;s++)r.push(n[++i]);t.ip=i}function Kh(e,t){var r=t.ip,n=t.prog,i=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var s=0;s<e;s++){var a=n[++r]<<8|n[++r];32768&a&&(a=-(1+(65535^a))),i.push(a)}t.ip=r}function Zh(e,t,r,n,i,s){var a,o,c,u,l=s.stack,h=e&&l.pop(),f=l.pop(),d=s.rp0,p=s.z0[d],g=s.z1[f],m=s.minDis,y=s.fv,b=s.dpv;c=(o=a=b.distance(g,p,!0,!0))>=0?1:-1,o=Math.abs(o),e&&(u=s.cvt[h],n&&Math.abs(o-u)<s.cvCutIn&&(o=u)),r&&o<m&&(o=m),n&&(o=s.round(o)),y.setRelative(g,p,c*o,b),y.touch(g),exports.DEBUG&&console.log(s.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(n?"R":"_")+(0===i?"Gr":1===i?"Bl":2===i?"Wh":"")+"]",e?h+"("+s.cvt[h]+","+u+")":"",f,"(d =",a,"->",c*o,")"),s.rp1=s.rp0,s.rp2=f,t&&(s.rp0=f)}function Jh(e){this.char=e,this.state={},this.activeState=null}function Qh(e,t,r){this.contextName=r,this.startIndex=e,this.endOffset=t}function ef(e,t,r){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=r}function tf(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function rf(e){this.eventId=e,this.subscribers=[]}function nf(e){var t=this,r=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];r.forEach((function(e){Object.defineProperty(t.events,e,{value:new rf(e)})})),e&&r.forEach((function(r){var n=e[r];"function"==typeof n&&t.events[r].subscribe(n)})),["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach((function(e){t.events[e].subscribe(t.updateContextsRanges)}))}function sf(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],nf.call(this,e)}function af(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function of(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function cf(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function uf(e){return/[A-z]/.test(e)}function lf(e){this.font=e,this.features={}}function hf(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function ff(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var r=t.ranges,n=0;n<r.length;n++){var i=r[n];if(e>=i.start&&e<=i.end){var s=e-i.start;return i.index+s}}break;default:return-1}return-1}function df(e,t){return-1===ff(e,t.coverage)?null:e+t.deltaGlyphId}function pf(e,t){var r=ff(e,t.coverage);return-1===r?null:t.substitute[r]}function gf(e,t){for(var r=[],n=0;n<e.length;n++){var i=e[n],s=t.current,a=ff(s=Array.isArray(s)?s[0]:s,i);-1!==a&&r.push(a)}return r.length!==e.length?-1:r}function mf(e,t){var r=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<r)return[];var n=gf(t.inputCoverage,e);if(-1===n)return[];var i=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var s=e.lookahead.slice(i);s.length&&cf(s[0].char);)s.shift();var a=new tf(s,0),o=gf(t.lookaheadCoverage,a),c=[].concat(e.backtrack);for(c.reverse();c.length&&cf(c[0].char);)c.shift();if(c.length<t.backtrackCoverage.length)return[];var u=new tf(c,0),l=gf(t.backtrackCoverage,u),h=[];if(n.length===t.inputCoverage.length&&o.length===t.lookaheadCoverage.length&&l.length===t.backtrackCoverage.length)for(var f=0;f<t.lookupRecords.length;f++)for(var d=t.lookupRecords[f].lookupListIndex,p=this.getLookupByIndex(d),g=0;g<p.subtables.length;g++){var m=p.subtables[g],y=this.getLookupMethod(p,m);if("12"===this.getSubstitutionType(p,m))for(var b=0;b<n.length;b++){var v=y(e.get(b));v&&h.push(v)}}return h}function yf(e,t){var r,n=ff(e.current,t.coverage);if(-1===n)return null;for(var i=t.ligatureSets[n],s=0;s<i.length;s++){r=i[s];for(var a=0;a<r.components.length&&e.lookahead[a]===r.components[a];a++)if(a===r.components.length-1)return r}return null}function bf(e,t){var r=ff(e,t.coverage);return-1===r?null:t.sequences[r]}fh.prototype.exec=function(e,t){if("number"!=typeof t)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,n=this._prepState;if(!n||n.ppem!==t){var i=this._fpgmState;if(!i){kh.prototype=Th,(i=this._fpgmState=new kh("fpgm",r.tables.fpgm)).funcs=[],i.font=r,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{ch(i)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}kh.prototype=i,(n=this._prepState=new kh("prep",r.tables.prep)).ppem=t;var s=r.tables.cvt;if(s)for(var a=n.cvt=new Array(s.length),o=t/r.unitsPerEm,c=0;c<s.length;c++)a[c]=s[c]*o;else n.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),n.step=-1);try{ch(n)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(this._errorState>1))try{return uh(e,n)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},uh=function(e,t){var r,n,i,s=t.ppem/t.font.unitsPerEm,a=s,o=e.components;if(kh.prototype=t,o){var c=t.font;n=[],r=[];for(var u=0;u<o.length;u++){var l=o[u],h=c.glyphs.get(l.glyphIndex);i=new kh("glyf",h.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),i.step=-1),lh(h,i,s,a);for(var f=Math.round(l.dx*s),d=Math.round(l.dy*a),p=i.gZone,g=i.contours,m=0;m<p.length;m++){var y=p[m];y.xTouched=y.yTouched=!1,y.xo=y.x=y.x+f,y.yo=y.y=y.y+d}var b=n.length;n.push.apply(n,p);for(var v=0;v<g.length;v++)r.push(g[v]+b)}e.instructions&&!i.inhibitGridFit&&((i=new kh("glyf",e.instructions)).gZone=i.z0=i.z1=i.z2=n,i.contours=r,n.push(new Ih(0,0),new Ih(Math.round(e.advanceWidth*s),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),i.step=-1),ch(i),n.length-=2)}else i=new kh("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),i.step=-1),lh(e,i,s,a),n=i.gZone;return n},lh=function(e,t,r,n){for(var i,s,a,o=e.points||[],c=o.length,u=t.gZone=t.z0=t.z1=t.z2=[],l=t.contours=[],h=0;h<c;h++)i=o[h],u[h]=new Ih(i.x*r,i.y*n,i.lastPointOfContour,i.onCurve);for(var f=0;f<c;f++)i=u[f],s||(s=i,l.push(f)),i.lastPointOfContour?(i.nextPointOnContour=s,s.prevPointOnContour=i,s=void 0):(a=u[f+1],i.nextPointOnContour=a,a.prevPointOnContour=i);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var d=0;d<c;d++)console.log(d,u[d].x,u[d].y)}if(u.push(new Ih(0,0),new Ih(Math.round(e.advanceWidth*r),0)),ch(t),u.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var p=0;p<c;p++)console.log(p,u[p].x,u[p].y)}}},ch=function(e){var t=e.prog;if(t){var r,n=t.length;for(e.ip=0;e.ip<n;e.ip++){if(exports.DEBUG&&e.step++,!(r=oh[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));r(e)}}},oh=[Mh.bind(void 0,Sh),Mh.bind(void 0,wh),Rh.bind(void 0,Sh),Rh.bind(void 0,wh),Oh.bind(void 0,Sh),Oh.bind(void 0,wh),Dh.bind(void 0,0),Dh.bind(void 0,1),Ph.bind(void 0,0),Ph.bind(void 0,1),function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.pv=e.dpv=xh(n,r)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.fv=xh(n,r)},function(e){var t=e.stack,r=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(16384*r.x),t.push(16384*r.y)},function(e){var t=e.stack,r=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(16384*r.x),t.push(16384*r.y)},function(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var t=e.stack,r=t.pop(),n=t.pop(),i=t.pop(),s=t.pop(),a=t.pop(),o=e.z0,c=e.z1,u=o[r],l=o[n],h=c[i],f=c[s],d=e.z2[a];exports.DEBUG&&console.log("ISECT[], ",r,n,i,s,a);var p=u.x,g=u.y,m=l.x,y=l.y,b=h.x,v=h.y,w=f.x,S=f.y,E=(p-m)*(v-S)-(g-y)*(b-w),x=p*y-g*m,I=b*S-v*w;d.x=(x*(b-w)-I*(p-m))/E,d.y=(x*(v-S)-I*(g-y))/E},function(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||Ah(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||Ah(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||Ah(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||Ah(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=ph},function(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=mh},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),Ch(e,!1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},Lh,function(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(r),t.push(n)},function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",r),t.push(t[t.length-r])},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])},void 0,void 0,void 0,function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",r,n);var i=e.ip,s=e.prog;e.prog=e.funcs[r];for(var a=0;a<n;a++)ch(e),exports.DEBUG&&console.log(++e.step,a+1<n?"next loopcall":"done loopcall",a);e.ip=i,e.prog=s},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var r=e.ip,n=e.prog;e.prog=e.funcs[t],ch(e),e.ip=r,e.prog=n,exports.DEBUG&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,r=e.prog,n=e.ip,i=t.pop(),s=n;for(exports.DEBUG&&console.log(e.step,"FDEF[]",i);45!==r[++n];);e.ip=n,e.funcs[i]=r.slice(s+1,n)},void 0,Fh.bind(void 0,0),Fh.bind(void 0,1),Nh.bind(void 0,Sh),Nh.bind(void 0,wh),Bh.bind(void 0,0),Bh.bind(void 0,1),Uh.bind(void 0,0),Uh.bind(void 0,1),jh.bind(void 0,0),jh.bind(void 0,1),function(e){for(var t=e.stack,r=e.loop,n=e.fv,i=t.pop()/64,s=e.z2;r--;){var a=t.pop(),o=s[a];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",a,i),n.setRelative(o,o,i),n.touch(o)}e.loop=1},function(e){for(var t=e.stack,r=e.rp1,n=e.rp2,i=e.loop,s=e.z0[r],a=e.z1[n],o=e.fv,c=e.dpv,u=e.z2;i--;){var l=t.pop(),h=u[l];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"IP[]",l,r,"<->",n),o.interpolate(h,s,a,c),o.touch(h)}e.loop=1},Vh.bind(void 0,0),Vh.bind(void 0,1),function(e){for(var t=e.stack,r=e.rp0,n=e.z0[r],i=e.loop,s=e.fv,a=e.pv,o=e.z1;i--;){var c=t.pop(),u=o[c];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"ALIGNRP[]",c),s.setRelative(u,n,0,a),s.touch(u)}e.loop=1},function(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=gh},Gh.bind(void 0,0),Gh.bind(void 0,1),function(e){var t=e.prog,r=e.ip,n=e.stack,i=t[++r];exports.DEBUG&&console.log(e.step,"NPUSHB[]",i);for(var s=0;s<i;s++)n.push(t[++r]);e.ip=r},function(e){var t=e.ip,r=e.prog,n=e.stack,i=r[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",i);for(var s=0;s<i;s++){var a=r[++t]<<8|r[++t];32768&a&&(a=-(1+(65535^a))),n.push(a)}e.ip=t},function(e){var t=e.stack,r=e.store;r||(r=e.store=[]);var n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WS",n,i),r[i]=n},function(e){var t=e.stack,r=e.store,n=t.pop();exports.DEBUG&&console.log(e.step,"RS",n);var i=r&&r[n]||0;t.push(i)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",r,n),e.cvt[n]=r/64},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",r),t.push(64*e.cvt[r])},zh.bind(void 0,0),zh.bind(void 0,1),void 0,Wh.bind(void 0,0),Wh.bind(void 0,1),function(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",r,n),t.push(n<r?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",r,n),t.push(n<=r?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",r,n),t.push(n>r?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",r,n),t.push(n>=r?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",r,n),t.push(r===n?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",r,n),t.push(r!==n?1:0)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(Ch(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))},function(e){exports.DEBUG&&console.log(e.step,"EIF[]")},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",r,n),t.push(r&&n?1:0)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",r,n),t.push(r||n?1:0)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",r),t.push(r?0:1)},qh.bind(void 0,1),function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",r,n),t.push(n+r)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",r,n),t.push(n-r)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",r,n),t.push(64*n/r)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",r,n),t.push(n*r/64)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",r),t.push(Math.abs(r))},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",r),t.push(-r)},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",r),t.push(64*Math.floor(r/64))},function(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",r),t.push(64*Math.ceil(r/64))},$h.bind(void 0,0),$h.bind(void 0,1),$h.bind(void 0,2),$h.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",r,n),e.cvt[n]=r*e.ppem/e.font.unitsPerEm},qh.bind(void 0,2),qh.bind(void 0,3),Hh.bind(void 0,1),Hh.bind(void 0,2),Hh.bind(void 0,3),function(e){var t,r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SROUND[]",r),e.round=vh,192&r){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*t},function(e){var t,r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"S45ROUND[]",r),e.round=vh,192&r){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}r&=15,e.srThreshold=0===r?0:(r/8-.5)*t},void 0,void 0,function(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=dh},void 0,function(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=yh},function(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=bh},Lh,Lh,void 0,void 0,void 0,void 0,void 0,function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)},Xh.bind(void 0,0),Xh.bind(void 0,1),function(e){var t=e.stack,r=t.pop(),n=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",r),1&r&&(n=35),32&r&&(n|=4096),t.push(n)},void 0,function(e){var t=e.stack,r=t.pop(),n=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(n),t.push(r),t.push(i)},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",r,n),t.push(Math.max(n,r))},function(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",r,n),t.push(Math.min(n,r))},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)},function(e){var t=e.stack.pop(),r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,r),t){case 1:return void(e.inhibitGridFit=!!r);case 2:return void(e.ignoreCvt=!!r);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Yh.bind(void 0,1),Yh.bind(void 0,2),Yh.bind(void 0,3),Yh.bind(void 0,4),Yh.bind(void 0,5),Yh.bind(void 0,6),Yh.bind(void 0,7),Yh.bind(void 0,8),Kh.bind(void 0,1),Kh.bind(void 0,2),Kh.bind(void 0,3),Kh.bind(void 0,4),Kh.bind(void 0,5),Kh.bind(void 0,6),Kh.bind(void 0,7),Kh.bind(void 0,8),Zh.bind(void 0,0,0,0,0,0),Zh.bind(void 0,0,0,0,0,1),Zh.bind(void 0,0,0,0,0,2),Zh.bind(void 0,0,0,0,0,3),Zh.bind(void 0,0,0,0,1,0),Zh.bind(void 0,0,0,0,1,1),Zh.bind(void 0,0,0,0,1,2),Zh.bind(void 0,0,0,0,1,3),Zh.bind(void 0,0,0,1,0,0),Zh.bind(void 0,0,0,1,0,1),Zh.bind(void 0,0,0,1,0,2),Zh.bind(void 0,0,0,1,0,3),Zh.bind(void 0,0,0,1,1,0),Zh.bind(void 0,0,0,1,1,1),Zh.bind(void 0,0,0,1,1,2),Zh.bind(void 0,0,0,1,1,3),Zh.bind(void 0,0,1,0,0,0),Zh.bind(void 0,0,1,0,0,1),Zh.bind(void 0,0,1,0,0,2),Zh.bind(void 0,0,1,0,0,3),Zh.bind(void 0,0,1,0,1,0),Zh.bind(void 0,0,1,0,1,1),Zh.bind(void 0,0,1,0,1,2),Zh.bind(void 0,0,1,0,1,3),Zh.bind(void 0,0,1,1,0,0),Zh.bind(void 0,0,1,1,0,1),Zh.bind(void 0,0,1,1,0,2),Zh.bind(void 0,0,1,1,0,3),Zh.bind(void 0,0,1,1,1,0),Zh.bind(void 0,0,1,1,1,1),Zh.bind(void 0,0,1,1,1,2),Zh.bind(void 0,0,1,1,1,3),Zh.bind(void 0,1,0,0,0,0),Zh.bind(void 0,1,0,0,0,1),Zh.bind(void 0,1,0,0,0,2),Zh.bind(void 0,1,0,0,0,3),Zh.bind(void 0,1,0,0,1,0),Zh.bind(void 0,1,0,0,1,1),Zh.bind(void 0,1,0,0,1,2),Zh.bind(void 0,1,0,0,1,3),Zh.bind(void 0,1,0,1,0,0),Zh.bind(void 0,1,0,1,0,1),Zh.bind(void 0,1,0,1,0,2),Zh.bind(void 0,1,0,1,0,3),Zh.bind(void 0,1,0,1,1,0),Zh.bind(void 0,1,0,1,1,1),Zh.bind(void 0,1,0,1,1,2),Zh.bind(void 0,1,0,1,1,3),Zh.bind(void 0,1,1,0,0,0),Zh.bind(void 0,1,1,0,0,1),Zh.bind(void 0,1,1,0,0,2),Zh.bind(void 0,1,1,0,0,3),Zh.bind(void 0,1,1,0,1,0),Zh.bind(void 0,1,1,0,1,1),Zh.bind(void 0,1,1,0,1,2),Zh.bind(void 0,1,1,0,1,3),Zh.bind(void 0,1,1,1,0,0),Zh.bind(void 0,1,1,1,0,1),Zh.bind(void 0,1,1,1,0,2),Zh.bind(void 0,1,1,1,0,3),Zh.bind(void 0,1,1,1,1,0),Zh.bind(void 0,1,1,1,1,1),Zh.bind(void 0,1,1,1,1,2),Zh.bind(void 0,1,1,1,1,3)],Jh.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},Jh.prototype.getState=function(e){return this.state[e]||null},sf.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length},sf.prototype.composeRUD=function(e){var t=this,r=e.map((function(e){return t[e[0]].apply(t,e.slice(1).concat(!0))})),n=function(e){return"object"==typeof e&&e.hasOwnProperty("FAIL")};if(r.every(n))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(n)};this.dispatch("composeRUD",[r.filter((function(e){return!n(e)}))])},sf.prototype.replaceRange=function(e,t,r,n){t=null!==t?t:this.tokens.length;var i=r.every((function(e){return e instanceof Jh}));if(!isNaN(e)&&this.inboundIndex(e)&&i){var s=this.tokens.splice.apply(this.tokens,[e,t].concat(r));return n||this.dispatch("replaceToken",[e,t,r]),[s,r]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},sf.prototype.replaceToken=function(e,t,r){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Jh){var n=this.tokens.splice(e,1,t);return r||this.dispatch("replaceToken",[e,t]),[n[0],t]}return{FAIL:"replaceToken: invalid token or index."}},sf.prototype.removeRange=function(e,t,r){t=isNaN(t)?this.tokens.length:t;var n=this.tokens.splice(e,t);return r||this.dispatch("removeRange",[n,e,t]),n},sf.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var r=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[r,e]),r}return{FAIL:"removeToken: invalid token index."}},sf.prototype.insertToken=function(e,t,r){return e.every((function(e){return e instanceof Jh}))?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),r||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},sf.prototype.registerModifier=function(e,t,r){this.events.newToken.subscribe((function(n,i){var s=[n,i],a=[n,i];if(null===t||!0===t.apply(this,s)){var o=r.apply(this,a);n.setState(e,o)}})),this.registeredModifiers.push(e)},rf.prototype.subscribe=function(e){return"function"==typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},rf.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},tf.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},tf.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case e>0&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},sf.prototype.rangeToText=function(e){if(e instanceof Qh)return this.getRangeTokens(e).map((function(e){return e.char})).join("")},sf.prototype.getText=function(){return this.tokens.map((function(e){return e.char})).join("")},sf.prototype.getContext=function(e){return this.registeredContexts[e]||null},sf.prototype.on=function(e,t){var r=this.events[e];return r?r.subscribe(t):null},sf.prototype.dispatch=function(e,t){var r=this,n=this.events[e];n instanceof rf&&n.subscribers.forEach((function(e){e.apply(r,t||[])}))},sf.prototype.registerContextChecker=function(e,t,r){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if("function"!=typeof t)return{FAIL:"missing context start check."};if("function"!=typeof r)return{FAIL:"missing context end check."};var n=new ef(e,t,r);return this.registeredContexts[e]=n,this.contextCheckers.push(n),n},sf.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},sf.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},sf.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e)e.hasOwnProperty(t)&&(e[t].ranges=[])},sf.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map((function(e){return e.char})),t=0;t<e.length;t++){var r=new tf(e,t);this.runContextCheck(r)}this.dispatch("updateContextsRanges",[this.registeredContexts])},sf.prototype.setEndOffset=function(e,t){var r=new Qh(this.getContext(t).openRange.startIndex,e,t),n=this.getContext(t).ranges;return r.rangeId=t+"."+n.length,n.push(r),this.getContext(t).openRange=null,r},sf.prototype.runContextCheck=function(e){var t=this,r=e.index;this.contextCheckers.forEach((function(n){var i=n.contextName,s=t.getContext(i).openRange;if(!s&&n.checkStart(e)&&(s=new Qh(r,null,i),t.getContext(i).openRange=s,t.dispatch("contextStart",[i,r])),s&&n.checkEnd(e)){var a=r-s.startIndex+1,o=t.setEndOffset(a,i);t.dispatch("contextEnd",[i,o])}}))},sf.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var r=0;r<t.length;r++){var n=t[r],i=new tf(t,r);this.dispatch("next",[i]),this.runContextCheck(i);var s=new Jh(n);this.tokens.push(s),this.dispatch("newToken",[s,i])}return this.dispatch("end",[this.tokens]),this.tokens},lf.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var r=e[t];if("DFLT"===r.tag)return r.script.defaultLangSys.featureIndexes}return[]},lf.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,r=0;r<t.length;r++){var n=t[r];if(n.tag===e&&n.script.defaultLangSys)return n.script.defaultLangSys.featureIndexes;var i=n.langSysRecords;if(i)for(var s=0;s<i.length;s++){var a=i[s];if(a.tag===e)return a.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},lf.prototype.mapTagsToFeatures=function(e,t){for(var r={},n=0;n<e.length;n++){var i=e[n].tag,s=e[n].feature;r[i]=s}this.features[t].tags=r},lf.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var r=this.getScriptFeaturesIndexes(e);if(!r)return null;var n=this.font.tables.gsub;return t=r.map((function(e){return n.features[e]})),this.features[e]=t,this.mapTagsToFeatures(t,e),t},lf.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},lf.prototype.getLookupMethod=function(e,t){var r=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return df.apply(r,[e,t])};case"12":return function(e){return pf.apply(r,[e,t])};case"63":return function(e){return mf.apply(r,[e,t])};case"41":return function(e){return yf.apply(r,[e,t])};case"21":return function(e){return bf.apply(r,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},lf.prototype.lookupFeature=function(e){var t=e.contextParams,r=t.index,n=this.getFeature({tag:e.tag,script:e.script});if(!n)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var i=this.getFeatureLookups(n),s=[].concat(t.context),a=0;a<i.length;a++)for(var o=i[a],c=this.getLookupSubtables(o),u=0;u<c.length;u++){var l=c[u],h=this.getSubstitutionType(o,l),f=this.getLookupMethod(o,l),d=void 0;switch(h){case"11":(d=f(t.current))&&s.splice(r,1,new hf({id:11,tag:e.tag,substitution:d}));break;case"12":(d=f(t.current))&&s.splice(r,1,new hf({id:12,tag:e.tag,substitution:d}));break;case"63":d=f(t),Array.isArray(d)&&d.length&&s.splice(r,1,new hf({id:63,tag:e.tag,substitution:d}));break;case"41":(d=f(t))&&s.splice(r,1,new hf({id:41,tag:e.tag,substitution:d}));break;case"21":(d=f(t.current))&&s.splice(r,1,new hf({id:21,tag:e.tag,substitution:d}))}t=new tf(s,r),Array.isArray(d)&&!d.length||(d=null)}return s.length?s:null},lf.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var r=this.features[e.script].some((function(t){return t.tag===e.tag}));return t&&r},lf.prototype.getLookupSubtables=function(e){return e.subtables||null},lf.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},lf.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},lf.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var vf={startCheck:function(e){var t=e.current,r=e.get(-1);return null===r&&af(t)||!af(r)&&af(t)},endCheck:function(e){var t=e.get(1);return null===t||!af(t)}},wf={startCheck:function(e){var t=e.current,r=e.get(-1);return(af(t)||cf(t))&&!af(r)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!af(t)&&!cf(t):var r=/\s/.test(t);if(!r)return!0;if(r&&!e.lookahead.some((function(e){return af(e)||cf(e)})))return!0;break;default:return!1}}},Sf={11:function(e,t,r){t[r].setState(e.tag,e.substitution)},12:function(e,t,r){t[r].setState(e.tag,e.substitution)},63:function(e,t,r){e.substitution.forEach((function(n,i){t[r+i].setState(e.tag,n)}))},41:function(e,t,r){var n=t[r];n.setState(e.tag,e.substitution.ligGlyph);for(var i=e.substitution.components.length,s=0;s<i;s++)(n=t[r+s+1]).setState("deleted",!0)}};function Ef(e,t,r){e instanceof hf&&Sf[e.id]&&Sf[e.id](e,t,r)}function xf(e){var t=this,r="arab",n=this.featuresTags[r],i=this.tokenizer.getRangeTokens(e);if(1!==i.length){var s=new tf(i.map((function(e){return e.getState("glyphIndex")})),0),a=new tf(i.map((function(e){return e.char})),0);i.forEach((function(e,o){if(!cf(e.char)){s.setCurrentIndex(o),a.setCurrentIndex(o);var c,u=0;switch(function(e){for(var t=[].concat(e.backtrack),r=t.length-1;r>=0;r--){var n=t[r],i=of(n),s=cf(n);if(!i&&!s)return!0;if(i)return!1}return!1}(a)&&(u|=1),function(e){if(of(e.current))return!1;for(var t=0;t<e.lookahead.length;t++)if(!cf(e.lookahead[t]))return!0;return!1}(a)&&(u|=2),u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi"}if(-1!==n.indexOf(c)){var l=t.query.lookupFeature({tag:c,script:r,contextParams:s});if(l instanceof Error)return console.info(l.message);l.forEach((function(e,t){e instanceof hf&&(Ef(e,i,t),s.context[t]=e.substitution)}))}}}))}}function If(e,t){return new tf(e.map((function(e){return e.activeState.value})),t||0)}function _f(e){var t=this,r=this.tokenizer.getRangeTokens(e),n=If(r);n.context.forEach((function(e,i){n.setCurrentIndex(i);var s=t.query.lookupFeature({tag:"rlig",script:"arab",contextParams:n});s.length&&(s.forEach((function(e){return Ef(e,r,i)})),n=If(r))}))}var Tf={startCheck:function(e){var t=e.current,r=e.get(-1);return null===r&&uf(t)||!uf(r)&&uf(t)},endCheck:function(e){var t=e.get(1);return null===t||!uf(t)}};function kf(e,t){return new tf(e.map((function(e){return e.activeState.value})),t||0)}function Af(e){var t=this,r=this.tokenizer.getRangeTokens(e),n=kf(r);n.context.forEach((function(e,i){n.setCurrentIndex(i);var s=t.query.lookupFeature({tag:"liga",script:"latn",contextParams:n});s.length&&(s.forEach((function(e){return Ef(e,r,i)})),n=kf(r))}))}function Cf(e){this.baseDir=e||"ltr",this.tokenizer=new sf,this.featuresTags={}}function Mf(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function Rf(){return Mf.call(this,"latinWord"),Mf.call(this,"arabicWord"),Mf.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Of(){var e=this;this.tokenizer.getContextRanges("arabicSentence").forEach((function(t){var r=e.tokenizer.getRangeTokens(t);e.tokenizer.replaceRange(t.startIndex,t.endOffset,r.reverse())}))}function Df(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Pf(){var e=this;this.featuresTags.hasOwnProperty("arab")&&(Df.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){xf.call(e,t)})))}function Lf(){var e=this,t="arab";this.featuresTags.hasOwnProperty(t)&&-1!==this.featuresTags[t].indexOf("rlig")&&(Df.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){_f.call(e,t)})))}function Ff(){var e=this,t="latn";this.featuresTags.hasOwnProperty(t)&&-1!==this.featuresTags[t].indexOf("liga")&&(Df.call(this),this.tokenizer.getContextRanges("latinWord").forEach((function(t){Af.call(e,t)})))}function Nf(e){(e=e||{}).tables=e.tables||{},e.empty||(th(e.familyName,"When creating a new Font object, familyName is required."),th(e.styleName,"When creating a new Font object, styleName is required."),th(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),th(e.ascender,"When creating a new Font object, ascender is required."),th(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new el.GlyphSet(this,e.glyphs||[]),this.encoding=new $u(this),this.position=new Zl(this),this.substitution=new Jl(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new fh(this):void 0}})}function Bf(e,t,r){var n={},i=new Uu.Parser(e,t);return n.tag=i.parseTag(),n.minValue=i.parseFixed(),n.defaultValue=i.parseFixed(),n.maxValue=i.parseFixed(),i.skip("uShort",1),n.name=r[i.parseUShort()]||{},n}function Uf(e,t,r,n){var i={},s=new Uu.Parser(e,t);i.name=n[s.parseUShort()]||{},s.skip("uShort",1),i.coordinates={};for(var a=0;a<r.length;++a)i.coordinates[r[a].tag]=s.parseFixed();return i}Cf.prototype.setText=function(e){this.text=e},Cf.prototype.contextChecks={latinWordCheck:Tf,arabicWordCheck:vf,arabicSentenceCheck:wf},Cf.prototype.registerFeatures=function(e,t){var r=this,n=t.filter((function(t){return r.query.supports({script:e,tag:t})}));this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(n):this.featuresTags[e]=n},Cf.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new lf(e));for(var r=0;r<t.length;r++){var n=t[r];this.query.supports({script:n.script})&&this.registerFeatures(n.script,n.tags)}},Cf.prototype.registerModifier=function(e,t,r){this.tokenizer.registerModifier(e,t,r)},Cf.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},Cf.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Pf.call(this),Lf.call(this)),this.checkContextReady("latinWord")&&Ff.call(this),this.checkContextReady("arabicSentence")&&Of.call(this)},Cf.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),Rf.call(this),this.applyFeaturesToContexts())},Cf.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},Cf.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],r=0;r<this.tokenizer.tokens.length;r++){var n=this.tokenizer.tokens[r];if(!n.state.deleted){var i=n.activeState.value;t.push(Array.isArray(i)?i[0]:i)}}return t},Nf.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},Nf.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},Nf.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},Nf.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map((function(t){return"latn"===t.script?{script:"latn",tags:t.tags.filter((function(t){return e[t]}))}:t}))},Nf.prototype.stringToGlyphs=function(e,t){var r=this,n=new Cf;n.registerModifier("glyphIndex",null,(function(e){return r.charToGlyphIndex(e.char)}));var i=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;n.applyFeatures(this,i);for(var s=n.getTextGlyphs(e),a=s.length,o=new Array(a),c=this.glyphs.get(0),u=0;u<a;u+=1)o[u]=this.glyphs.get(s[u])||c;return o},Nf.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},Nf.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r},Nf.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},Nf.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0},Nf.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},Nf.prototype.forEachGlyph=function(e,t,r,n,i,s){t=void 0!==t?t:0,r=void 0!==r?r:0,n=void 0!==n?n:72,i=Object.assign({},this.defaultRenderOptions,i);var a,o=1/this.unitsPerEm*n,c=this.stringToGlyphs(e,i);if(i.kerning){var u=i.script||this.position.getDefaultScriptName();a=this.position.getKerningTables(u,i.language)}for(var l=0;l<c.length;l+=1){var h=c[l];s.call(this,h,t,r,n,i),h.advanceWidth&&(t+=h.advanceWidth*o),i.kerning&&l<c.length-1&&(t+=(a?this.position.getKerningValue(a,h.index,c[l+1].index):this.getKerningValue(h,c[l+1]))*o),i.letterSpacing?t+=i.letterSpacing*n:i.tracking&&(t+=i.tracking/1e3*n)}return t},Nf.prototype.getPath=function(e,t,r,n,i){var s=new ou;return this.forEachGlyph(e,t,r,n,i,(function(e,t,r,n){var a=e.getPath(t,r,n,i,this);s.extend(a)})),s},Nf.prototype.getPaths=function(e,t,r,n,i){var s=[];return this.forEachGlyph(e,t,r,n,i,(function(e,t,r,n){var a=e.getPath(t,r,n,i,this);s.push(a)})),s},Nf.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,(function(){}))},Nf.prototype.draw=function(e,t,r,n,i,s){this.getPath(t,r,n,i,s).draw(e)},Nf.prototype.drawPoints=function(e,t,r,n,i,s){this.forEachGlyph(t,r,n,i,s,(function(t,r,n,i){t.drawPoints(e,r,n,i)}))},Nf.prototype.drawMetrics=function(e,t,r,n,i,s){this.forEachGlyph(t,r,n,i,s,(function(t,r,n,i){t.drawMetrics(e,r,n,i)}))},Nf.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},Nf.prototype.validate=function(){var e=this;function t(t){var r=e.getEnglishName(t);r&&r.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},Nf.prototype.toTables=function(){return function(e){for(var t,r=[],n=[],i=[],s=[],a=[],o=[],c=[],u=0,l=0,h=0,f=0,d=0,p=0;p<e.glyphs.length;p+=1){var g=e.glyphs.get(p),m=0|g.unicode;if(isNaN(g.advanceWidth))throw new Error("Glyph "+g.name+" ("+p+"): advanceWidth is not a number.");(t>m||void 0===t)&&m>0&&(t=m),u<m&&(u=m);var y=Nl(m);if(y<32)l|=1<<y;else if(y<64)h|=1<<y-32;else if(y<96)f|=1<<y-64;else{if(!(y<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");d|=1<<y-96}if(".notdef"!==g.name){var b=g.getMetrics();r.push(b.xMin),n.push(b.yMin),i.push(b.xMax),s.push(b.yMax),o.push(b.leftSideBearing),c.push(b.rightSideBearing),a.push(g.advanceWidth)}}var v={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,s),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:$l(a),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,c)};v.ascender=e.ascender,v.descender=e.descender;var w=function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new Ru.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}({flags:3,unitsPerEm:e.unitsPerEm,xMin:v.xMin,yMin:v.yMin,xMax:v.xMax,yMax:v.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),S=function(e){return new Ru.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}({ascender:v.ascender,descender:v.descender,advanceWidthMax:v.advanceWidthMax,minLeftSideBearing:v.minLeftSideBearing,minRightSideBearing:v.minRightSideBearing,xMaxExtent:v.maxLeftSideBearing+(v.xMax-v.xMin),numberOfHMetrics:e.glyphs.length}),E=function(e){return new Ru.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}(e.glyphs.length),x=function(e){return new Ru.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}(Object.assign({xAvgCharWidth:Math.round(v.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:u,ulUnicodeRange1:l,ulUnicodeRange2:h,ulUnicodeRange3:f,ulUnicodeRange4:d,sTypoAscender:v.ascender,sTypoDescender:v.descender,sTypoLineGap:0,usWinAscent:v.yMax,usWinDescent:Math.abs(v.yMin),ulCodePageRange1:1,sxHeight:ql(e,"xyvw",{yMax:Math.round(v.ascender/2)}).yMax,sCapHeight:ql(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",v).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),I=function(e){for(var t=new Ru.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),i=n.advanceWidth||0,s=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:s})}return t}(e.glyphs),_=function(e){var t,r=!0;for(t=e.length-1;t>0;t-=1)if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),r=!1;break}var n=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:r?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:r?12:20}];r||(n=n.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),n=n.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var i=new Ru.Table("cmap",n);for(i.segments=[],t=0;t<e.length;t+=1){for(var s=e.get(t),a=0;a<s.unicodes.length;a+=1)ju(i,s.unicodes[a],t);i.segments=i.segments.sort((function(e,t){return e.start-t.start}))}!function(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}(i);var o=i.segments.length,c=0,u=[],l=[],h=[],f=[],d=[],p=[];for(t=0;t<o;t+=1){var g=i.segments[t];g.end<=65535&&g.start<=65535?(u=u.concat({name:"end_"+t,type:"USHORT",value:g.end}),l=l.concat({name:"start_"+t,type:"USHORT",value:g.start}),h=h.concat({name:"idDelta_"+t,type:"SHORT",value:g.delta}),f=f.concat({name:"idRangeOffset_"+t,type:"USHORT",value:g.offset}),void 0!==g.glyphId&&(d=d.concat({name:"glyph_"+t,type:"USHORT",value:g.glyphId}))):c+=1,r||void 0===g.glyphIndex||(p=(p=(p=p.concat({name:"cmap12Start_"+t,type:"ULONG",value:g.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:g.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:g.glyphIndex}))}if(i.segCountX2=2*(o-c),i.searchRange=2*Math.pow(2,Math.floor(Math.log(o-c)/Math.log(2))),i.entrySelector=Math.log(i.searchRange/2)/Math.log(2),i.rangeShift=i.segCountX2-i.searchRange,i.fields=i.fields.concat(u),i.fields.push({name:"reservedPad",type:"USHORT",value:0}),i.fields=i.fields.concat(l),i.fields=i.fields.concat(h),i.fields=i.fields.concat(f),i.fields=i.fields.concat(d),i.cmap4Length=14+2*u.length+2+2*l.length+2*h.length+2*f.length+2*d.length,!r){var m=16+4*p.length;i.cmap12Offset=20+i.cmap4Length,i.fields=i.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:m},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:p.length/3}]),i.fields=i.fields.concat(p)}return i}(e.glyphs),T=e.getEnglishName("fontFamily"),k=e.getEnglishName("fontSubfamily"),A=T+" "+k,C=e.getEnglishName("postScriptName");C||(C=T.replace(/\s/g,"")+"-"+k);var M={};for(var R in e.names)M[R]=e.names[R];M.uniqueID||(M.uniqueID={en:e.getEnglishName("manufacturer")+":"+A}),M.postScriptName||(M.postScriptName={en:C}),M.preferredFamily||(M.preferredFamily=e.names.fontFamily),M.preferredSubfamily||(M.preferredSubfamily=e.names.fontSubfamily);var O=[],D=function(e,t){var r,n=[],i={},s=Ol(xl);for(var a in e){var o=s[a];if(void 0===o&&(o=a),r=parseInt(o),isNaN(r))throw new Error('Name table entry "'+a+'" does not exist, see nameTableNames for complete list.');i[r]=e[a],n.push(r)}for(var c=Ol(Il),u=Ol(Tl),l=[],h=[],f=0;f<n.length;f++){var d=i[r=n[f]];for(var p in d){var g=d[p],m=1,y=c[p],b=_l[y],v=Rl(m,b,y),w=fu.MACSTRING(g,v);void 0===w&&(m=0,(y=t.indexOf(p))<0&&(y=t.length,t.push(p)),b=4,w=fu.UTF16(g));var S=Pl(w,h);l.push(Dl(m,b,y,r,w.length,S));var E=u[p];if(void 0!==E){var x=fu.UTF16(g),I=Pl(x,h);l.push(Dl(3,1,E,r,x.length,I))}}}l.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var _=new Ru.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:l.length},{name:"stringOffset",type:"USHORT",value:6+12*l.length}]),T=0;T<l.length;T++)_.fields.push({name:"record_"+T,type:"RECORD",value:l[T]});return _.fields.push({name:"strings",type:"LITERAL",value:h}),_}(M,O),P=O.length>0?function(e){for(var t=new Ru.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+4*e.length,i=0;i<e.length;++i){var s=r.indexOf(e[i]);s<0&&(s=r.length,r+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:n+s}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}(O):void 0,L=new Ru.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}]),F=function(e,t){for(var r,n=new Ru.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,s={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},a=[],o=1;o<e.length;o+=1)r=e.get(o),a.push(r.name);var c=[];n.header=new Ru.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),n.nameIndex=function(e){var t=new Ru.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}([t.postScriptName]);var u=ml(s,c);n.topDictIndex=yl(u),n.globalSubrIndex=new Ru.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),n.charsets=function(e,t){for(var r=new Ru.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var i=pl(e[n],t);r.fields.push({name:"glyph_"+n,type:"SID",value:i})}return r}(a,c),n.charStringsIndex=function(e){for(var t=new Ru.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),i=bl(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:i})}return t}(e),n.privateDict=function(e,t){var r=new Ru.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=gl(ul,{},t),r}(0,c),n.stringIndex=function(e){var t=new Ru.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}(c);var l=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return s.charset=l,s.encoding=0,s.charStrings=s.charset+n.charsets.sizeOf(),s.private[1]=s.charStrings+n.charStringsIndex.sizeOf(),u=ml(s,c),n.topDictIndex=yl(u),n}(e.glyphs,{version:e.getEnglishName("version"),fullName:A,familyName:T,weightName:k,postScriptName:C,unitsPerEm:e.unitsPerEm,fontBBox:[0,v.yMin,v.ascender,v.advanceWidthMax]}),N=e.metas&&Object.keys(e.metas).length>0?function(e){var t=Object.keys(e).length,r="",n=16+12*t,i=new Ru.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:n},{name:"numTags",type:"ULONG",value:t}]);for(var s in e){var a=r.length;r+=e[s],i.fields.push({name:"tag "+s,type:"TAG",value:s}),i.fields.push({name:"offset "+s,type:"ULONG",value:n+a}),i.fields.push({name:"length "+s,type:"ULONG",value:e[s].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),i}(e.metas):void 0,B=[w,S,E,x,D,_,L,F,I];P&&B.push(P),e.tables.gsub&&B.push(function(e){return new Ru.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ru.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Ru.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Ru.LookupList(e.lookups,Vl)}])}(e.tables.gsub)),N&&B.push(N);for(var U=function(e){var t=new Ru.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,Gl(t.numTables));t.searchRange=16*r,t.entrySelector=Gl(r),t.rangeShift=16*t.numTables-t.searchRange;for(var n=[],i=[],s=t.sizeOf()+Wl().sizeOf()*t.numTables;s%4!=0;)s+=1,i.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var o=e[a];lu.argument(4===o.tableName.length,"Table name"+o.tableName+" is invalid.");var c=o.sizeOf(),u=Wl(o.tableName,zl(o.encode()),s,c);for(n.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:o.tableName+" table",type:"RECORD",value:o}),s+=c,lu.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!=0;)s+=1,i.push({name:"padding",type:"BYTE",value:0})}return n.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(n),t.fields=t.fields.concat(i),t}(B),j=zl(U.encode()),V=U.fields,G=!1,z=0;z<V.length;z+=1)if("head table"===V[z].name){V[z].value.checkSumAdjustment=2981146554-j,G=!0;break}if(!G)throw new Error("Could not find head table with checkSum to adjust.");return U}(this)},Nf.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Nf.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e[n];return t},Nf.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+r+".otf";var n=this.toArrayBuffer();if("undefined"!=typeof window)if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(n),s=new Blob([i],{type:"font/opentype"}),a=document.createElement("a");a.href=window.URL.createObjectURL(s),a.download=e;var o=document.createEvent("MouseEvents");o.initEvent("click",!0,!1),a.dispatchEvent(o)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var c=__webpack_require__(7256),u=function(e){for(var t=new Bc(e.byteLength),r=new Uint8Array(e),n=0;n<t.length;++n)t[n]=r[n];return t}(n);c.writeFileSync(e,u)}},Nf.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Nf.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Nf.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var jf=function(){return{coverage:this.parsePointer(Nu.coverage),attachPoints:this.parseList(Nu.pointer(Nu.uShortList))}},Vf=function(){var e=this.parseUShort();return lu.argument(1===e||2===e||3===e,"Unsupported CaretValue table version."),1===e?{coordinate:this.parseShort()}:2===e?{pointindex:this.parseShort()}:3===e?{coordinate:this.parseShort()}:void 0},Gf=function(){return this.parseList(Nu.pointer(Vf))},zf=function(){return{coverage:this.parsePointer(Nu.coverage),ligGlyphs:this.parseList(Nu.pointer(Gf))}},Wf=function(){return this.parseUShort(),this.parseList(Nu.pointer(Nu.coverage))},qf=new Array(10);function $f(e,t){for(var r=[],n=12,i=0;i<t;i+=1){var s=Uu.getTag(e,n),a=Uu.getULong(e,n+4),o=Uu.getULong(e,n+8),c=Uu.getULong(e,n+12);r.push({tag:s,checksum:a,offset:o,length:c,compression:!1}),n+=16}return r}function Hf(e,t){if("WOFF"===t.compression){var r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);if(function(e,t){var r,n,i=new jc(e,t);do{switch(r=Qc(i),eu(i,2,0)){case 0:n=iu(i);break;case 1:n=nu(i,Vc,Gc);break;case 2:ru(i,i.ltree,i.dtree),n=nu(i,i.ltree,i.dtree);break;default:n=-3}if(0!==n)throw new Error("Data error")}while(!r);i.destLen<i.dest.length?"function"==typeof i.dest.slice?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest}(r,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(n.buffer,0),offset:0}}return{data:e,offset:t.offset}}qf[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(Nu.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(Nu.coverage),values:this.parseValueRecordList()}:void lu.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},qf[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();lu.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(Nu.coverage),n=this.parseUShort(),i=this.parseUShort();if(1===t)return{posFormat:t,coverage:r,valueFormat1:n,valueFormat2:i,pairSets:this.parseList(Nu.pointer(Nu.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(n),value2:this.parseValueRecord(i)}}))))};if(2===t){var s=this.parsePointer(Nu.classDef),a=this.parsePointer(Nu.classDef),o=this.parseUShort(),c=this.parseUShort();return{posFormat:t,coverage:r,valueFormat1:n,valueFormat2:i,classDef1:s,classDef2:a,class1Count:o,class2Count:c,classRecords:this.parseList(o,Nu.list(c,(function(){return{value1:this.parseValueRecord(n),value2:this.parseValueRecord(i)}})))}}},qf[3]=function(){return{error:"GPOS Lookup 3 not supported"}},qf[4]=function(){return{error:"GPOS Lookup 4 not supported"}},qf[5]=function(){return{error:"GPOS Lookup 5 not supported"}},qf[6]=function(){return{error:"GPOS Lookup 6 not supported"}},qf[7]=function(){return{error:"GPOS Lookup 7 not supported"}},qf[8]=function(){return{error:"GPOS Lookup 8 not supported"}},qf[9]=function(){return{error:"GPOS Lookup 9 not supported"}},new Array(10);class Xf extends p{kind=ne.Object;defaultFontSize=40;fallbackFontFamily="Arial, Helvetica, sans-serif";defaultFontFamily;fontRegistry;constructor(e){super("roFontRegistry"),this.registerMethods({ifFontRegistry:[this.register,this.getFamilies,this.getFont,this.getDefaultFont,this.getDefaultFontSize]}),this.fontRegistry=new Map,this.defaultFontFamily=e.deviceInfo.get("defaultFont"),this.registerFont(e,`common:/Fonts/${this.defaultFontFamily}-Regular.ttf`),this.registerFont(e,`common:/Fonts/${this.defaultFontFamily}-Bold.ttf`),this.registerFont(e,`common:/Fonts/${this.defaultFontFamily}-Italic.ttf`),this.registerFont(e,`common:/Fonts/${this.defaultFontFamily}-BoldItalic.ttf`)}toString(e){return"<Component: roFontRegistry>"}equalTo(e){return xe.False}registerFont(e,t){try{if(!e.fileSystem||!uo(t))return xe.False;const r=e.fileSystem.readFileSync(t),n=function(e,t){var r,n;t=null==t?{}:t;var i,s,a,o,c,u,l,h,f,d,p,g,m,y=new Nf({empty:!0}),b=new DataView(e,0),v=[],w=Uu.getTag(b,0);if(w===String.fromCharCode(0,1,0,0)||"true"===w||"typ1"===w)y.outlinesFormat="truetype",v=$f(b,i=Uu.getUShort(b,4));else if("OTTO"===w)y.outlinesFormat="cff",v=$f(b,i=Uu.getUShort(b,4));else{if("wOFF"!==w)throw new Error("Unsupported OpenType signature "+w);var S=Uu.getTag(b,4);if(S===String.fromCharCode(0,1,0,0))y.outlinesFormat="truetype";else{if("OTTO"!==S)throw new Error("Unsupported OpenType flavor "+w);y.outlinesFormat="cff"}v=function(e,t){for(var r=[],n=44,i=0;i<t;i+=1){var s,a=Uu.getTag(e,n),o=Uu.getULong(e,n+4),c=Uu.getULong(e,n+8),u=Uu.getULong(e,n+12);s=c<u&&"WOFF",r.push({tag:a,offset:o,compression:s,compressedLength:c,length:u}),n+=20}return r}(b,i=Uu.getUShort(b,12))}for(var E=0;E<i;E+=1){var x=v[E],I=void 0;switch(x.tag){case"cmap":I=Hf(b,x),y.tables.cmap=Vu(I.data,I.offset),y.encoding=new Hu(y.tables.cmap);break;case"cvt ":I=Hf(b,x),m=new Uu.Parser(I.data,I.offset),y.tables.cvt=m.parseShortList(x.length/2);break;case"fvar":a=x;break;case"fpgm":I=Hf(b,x),m=new Uu.Parser(I.data,I.offset),y.tables.fpgm=m.parseByteList(x.length);break;case"head":I=Hf(b,x),y.tables.head=vl(I.data,I.offset),y.unitsPerEm=y.tables.head.unitsPerEm,r=y.tables.head.indexToLocFormat;break;case"hhea":I=Hf(b,x),y.tables.hhea=wl(I.data,I.offset),y.ascender=y.tables.hhea.ascender,y.descender=y.tables.hhea.descender,y.numberOfHMetrics=y.tables.hhea.numberOfHMetrics;break;case"hmtx":h=x;break;case"ltag":I=Hf(b,x),n=Sl(I.data,I.offset);break;case"maxp":I=Hf(b,x),y.tables.maxp=El(I.data,I.offset),y.numGlyphs=y.tables.maxp.numGlyphs;break;case"name":p=x;break;case"OS/2":I=Hf(b,x),y.tables.os2=Fl(I.data,I.offset);break;case"post":I=Hf(b,x),y.tables.post=Bl(I.data,I.offset),y.glyphNames=new Yu(y.tables.post);break;case"prep":I=Hf(b,x),m=new Uu.Parser(I.data,I.offset),y.tables.prep=m.parseByteList(x.length);break;case"glyf":o=x;break;case"loca":d=x;break;case"CFF ":s=x;break;case"kern":f=x;break;case"GDEF":c=x;break;case"GPOS":u=x;break;case"GSUB":l=x;break;case"meta":g=x}}var _=Hf(b,p);if(y.tables.name=function(e,t,r){for(var n={},i=new Uu.Parser(e,t),s=i.parseUShort(),a=i.parseUShort(),o=i.offset+i.parseUShort(),c=0;c<a;c++){var u,l=i.parseUShort(),h=i.parseUShort(),f=i.parseUShort(),d=i.parseUShort(),p=xl[d]||d,g=i.parseUShort(),m=i.parseUShort(),y=kl(l,f,r),b=Rl(l,h,f);if(void 0!==b&&void 0!==y&&(u=b===Al?hu.UTF16(e,o+m,g):hu.MACSTRING(e,o+m,g,b))){var v=n[p];void 0===v&&(v=n[p]={}),v[y]=u}}return 1===s&&i.parseUShort(),n}(_.data,_.offset,n),y.names=y.tables.name,o&&d){var T=0===r,k=Hf(b,d),A=function(e,t,r,n){for(var i=new Uu.Parser(e,t),s=n?i.parseUShort:i.parseULong,a=[],o=0;o<r+1;o+=1){var c=s.call(i);n&&(c*=2),a.push(c)}return a}(k.data,k.offset,y.numGlyphs,T),C=Hf(b,o);y.glyphs=hh.parse(C.data,C.offset,A,y,t)}else{if(!s)throw new Error("Font doesn't contain TrueType or CFF outlines.");var M=Hf(b,s);!function(e,t,r,n){r.tables.cff={};var i=function(e,t){var r={};return r.formatMajor=Uu.getCard8(e,t),r.formatMinor=Uu.getCard8(e,t+1),r.size=Uu.getCard8(e,t+2),r.offsetSize=Uu.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}(e,t),s=nl(e,i.endOffset,Uu.bytesToString),a=nl(e,s.endOffset),o=nl(e,a.endOffset,Uu.bytesToString),c=nl(e,o.endOffset);r.gsubrs=c.objects,r.gsubrsBias=rl(r.gsubrs);var u=fl(e,t,a.objects,o.objects);if(1!==u.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var l=u[0];if(r.tables.cff.topDict=l,l._privateDict&&(r.defaultWidthX=l._privateDict.defaultWidthX,r.nominalWidthX=l._privateDict.nominalWidthX),void 0!==l.ros[0]&&void 0!==l.ros[1]&&(r.isCIDFont=!0),r.isCIDFont){var h=l.fdArray,f=l.fdSelect;if(0===h||0===f)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var d=nl(e,h+=t),p=fl(e,t,d.objects,o.objects);l._fdArray=p,f+=t,l._fdSelect=function(e,t,r,n){var i,s=[],a=new Uu.Parser(e,t),o=a.parseCard8();if(0===o)for(var c=0;c<r;c++){if((i=a.parseCard8())>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");s.push(i)}else{if(3!==o)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+o);var u,l=a.parseCard16(),h=a.parseCard16();if(0!==h)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+h);for(var f=0;f<l;f++){if(i=a.parseCard8(),u=a.parseCard16(),i>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");if(u>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+u);for(;h<u;h++)s.push(i);h=u}if(u!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+u)}return s}(e,f,r.numGlyphs,p.length)}var g,m=t+l.private[1],y=hl(e,m,l.private[0],o.objects);if(r.defaultWidthX=y.defaultWidthX,r.nominalWidthX=y.nominalWidthX,0!==y.subrs){var b=m+y.subrs,v=nl(e,b);r.subrs=v.objects,r.subrsBias=rl(r.subrs)}else r.subrs=[],r.subrsBias=0;n.lowMemory?(g=function(e,t){var r,n,i=[],s=Uu.getCard16(e,t);if(0!==s){var a=Uu.getByte(e,t+2);r=t+(s+1)*a+2;for(var o=t+3,c=0;c<s+1;c+=1)i.push(Uu.getOffset(e,o,a)),o+=a;n=r+i[s]}else n=t+2;return{offsets:i,startOffset:t,endOffset:n}}(e,t+l.charStrings),r.nGlyphs=g.offsets.length):(g=nl(e,t+l.charStrings),r.nGlyphs=g.objects.length);var w=function(e,t,r,n){var i,s,a=new Uu.Parser(e,t);r-=1;var o=[".notdef"],c=a.parseCard8();if(0===c)for(var u=0;u<r;u+=1)i=a.parseSID(),o.push(al(n,i));else if(1===c)for(;o.length<=r;){i=a.parseSID(),s=a.parseCard8();for(var l=0;l<=s;l+=1)o.push(al(n,i)),i+=1}else{if(2!==c)throw new Error("Unknown charset format "+c);for(;o.length<=r;){i=a.parseSID(),s=a.parseCard16();for(var h=0;h<=s;h+=1)o.push(al(n,i)),i+=1}}return o}(e,t+l.charset,r.nGlyphs,o.objects);if(0===l.encoding?r.cffEncoding=new Xu(zu,w):1===l.encoding?r.cffEncoding=new Xu(Wu,w):r.cffEncoding=function(e,t,r){var n,i={},s=new Uu.Parser(e,t),a=s.parseCard8();if(0===a)for(var o=s.parseCard8(),c=0;c<o;c+=1)i[n=s.parseCard8()]=c;else{if(1!==a)throw new Error("Unknown encoding format "+a);var u=s.parseCard8();n=1;for(var l=0;l<u;l+=1)for(var h=s.parseCard8(),f=s.parseCard8(),d=h;d<=h+f;d+=1)i[d]=n,n+=1}return new Xu(i,r)}(e,t+l.encoding,w),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new el.GlyphSet(r),n.lowMemory)r._push=function(n){var i=function(e,t,r,n){var i=Uu.getCard16(r,n),s=0;return 0!==i&&(s=n+(i+1)*Uu.getByte(r,n+2)+2),Uu.getBytes(r,s+t[e],s+t[e+1])}(n,g.offsets,e,t+l.charStrings);r.glyphs.push(n,el.cffGlyphLoader(r,n,dl,i))};else for(var S=0;S<r.nGlyphs;S+=1){var E=g.objects[S];r.glyphs.push(S,el.cffGlyphLoader(r,S,dl,E))}}(M.data,M.offset,y,t)}var R=Hf(b,h);if(function(e,t,r,n,i,s,a){a.lowMemory?function(e,t,r,n,i){var s,a;e._hmtxTableData={};for(var o=new Uu.Parser(t,r),c=0;c<i;c+=1)c<n&&(s=o.parseUShort(),a=o.parseShort()),e._hmtxTableData[c]={advanceWidth:s,leftSideBearing:a}}(e,t,r,n,i):function(e,t,r,n,i){for(var s,a,o=new Uu.Parser(e,t),c=0;c<n;c+=1){c<r&&(s=o.parseUShort(),a=o.parseShort());var u=i.get(c);u.advanceWidth=s,u.leftSideBearing=a}}(t,r,n,i,s)}(y,R.data,R.offset,y.numberOfHMetrics,y.numGlyphs,y.glyphs,t),function(e,t){t.lowMemory?function(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,r=Object.keys(t),n=0;n<r.length;n+=1){var i=r[n],s=t[i];void 0===e._IndexToUnicodeMap[s]?e._IndexToUnicodeMap[s]={unicodes:[parseInt(i)]}:e._IndexToUnicodeMap[s].unicodes.push(parseInt(i))}}(e):function(e){for(var t,r=e.tables.cmap.glyphIndexMap,n=Object.keys(r),i=0;i<n.length;i+=1){var s=n[i],a=r[s];(t=e.glyphs.get(a)).addUnicode(parseInt(s))}for(var o=0;o<e.glyphs.length;o+=1)t=e.glyphs.get(o),e.cffEncoding?e.isCIDFont?t.name="gid"+o:t.name=e.cffEncoding.charset[o]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(o))}(e)}(y,t),f){var O=Hf(b,f);y.kerningPairs=function(e,t){var r=new Uu.Parser(e,t),n=r.parseUShort();if(0===n)return function(e){var t={};e.skip("uShort");var r=e.parseUShort();lu.argument(0===r,"Unsupported kern sub-table version."),e.skip("uShort",2);var n=e.parseUShort();e.skip("uShort",3);for(var i=0;i<n;i+=1){var s=e.parseUShort(),a=e.parseUShort(),o=e.parseShort();t[s+","+a]=o}return t}(r);if(1===n)return function(e){var t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var r=255&e.parseUShort();if(e.skip("uShort"),0===r){var n=e.parseUShort();e.skip("uShort",3);for(var i=0;i<n;i+=1){var s=e.parseUShort(),a=e.parseUShort(),o=e.parseShort();t[s+","+a]=o}}return t}(r);throw new Error("Unsupported kern table version ("+n+").")}(O.data,O.offset)}else y.kerningPairs={};if(c){var D=Hf(b,c);y.tables.gdef=function(e,t){var r=new Nu(e,t=t||0),n=r.parseVersion(1);lu.argument(1===n||1.2===n||1.3===n,"Unsupported GDEF table version.");var i={version:n,classDef:r.parsePointer(Nu.classDef),attachList:r.parsePointer(jf),ligCaretList:r.parsePointer(zf),markAttachClassDef:r.parsePointer(Nu.classDef)};return n>=1.2&&(i.markGlyphSets=r.parsePointer(Wf)),i}(D.data,D.offset)}if(u){var P=Hf(b,u);y.tables.gpos=function(e,t){var r=new Nu(e,t=t||0),n=r.parseVersion(1);return lu.argument(1===n||1.1===n,"Unsupported GPOS table version "+n),1===n?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(qf)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(qf),variations:r.parseFeatureVariationsList()}}(P.data,P.offset),y.position.init()}if(l){var L=Hf(b,l);y.tables.gsub=function(e,t){var r=new Nu(e,t=t||0),n=r.parseVersion(1);return lu.argument(1===n||1.1===n,"Unsupported GSUB table version."),1===n?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Ul)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(Ul),variations:r.parseFeatureVariationsList()}}(L.data,L.offset)}if(a){var F=Hf(b,a);y.tables.fvar=function(e,t,r){var n=new Uu.Parser(e,t),i=n.parseULong();lu.argument(65536===i,"Unsupported fvar table version.");var s=n.parseOffset16();n.skip("uShort",1);for(var a=n.parseUShort(),o=n.parseUShort(),c=n.parseUShort(),u=n.parseUShort(),l=[],h=0;h<a;h++)l.push(Bf(e,t+s+h*o,r));for(var f=[],d=t+s+a*o,p=0;p<c;p++)f.push(Uf(e,d+p*u,l,r));return{axes:l,instances:f}}(F.data,F.offset,y.names)}if(g){var N=Hf(b,g);y.tables.meta=function(e,t){var r=new Uu.Parser(e,t),n=r.parseULong();lu.argument(1===n,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var i=r.parseULong(),s={},a=0;a<i;a++){var o=r.parseTag(),c=r.parseULong(),u=r.parseULong(),l=hu.UTF8(e,t+c,u);s[o]=l}return s}(N.data,N.offset),y.metas=y.tables.meta}return y}(r.buffer),i={ascent:n.ascender/n.unitsPerEm,descent:Math.abs(n.descender/n.unitsPerEm),maxAdvance:n.tables.hhea.advanceWidthMax/n.unitsPerEm,lineHeight:(n.ascender-n.descender+n.tables.hhea.lineGap)/n.unitsPerEm,style:2&n.tables.head.macStyle?"italic":"normal",weight:1&n.tables.head.macStyle?"bold":"normal"},s=n.names.fontFamily.en;if("undefined"!=typeof FontFace){const e=new FontFace(s,r,{weight:i.weight,style:i.style});self.fonts.add(e)}const a=this.fontRegistry.get(s);a?a.push(i):this.fontRegistry.set(s,[i])}catch(r){return e.stderr.write(`error,Error loading font:${t} - ${r.message}`),xe.False}return xe.True}register=new se("register",{signature:{args:[new ee("fontPath",ne.String)],returns:ne.Boolean},impl:(e,t)=>this.registerFont(e,t.value)});getFamilies=new se("getFamilies",{signature:{args:[],returns:ne.Object},impl:e=>{const t=[];return[...this.fontRegistry.keys()].forEach((e=>{t.push(new Ee(e))})),new he(t)}});getFont=new se("getFont",{signature:{args:[new ee("family",ne.String),new ee("size",ne.Int32),new ee("bold",ne.Boolean),new ee("italic",ne.Boolean)],returns:ne.Object},impl:(e,t,r,n,i)=>{const s=this.fontRegistry.get(t.value),a=n.toBoolean()?"bold":"normal",o=i.toBoolean()?"italic":"normal";if(s){let e;return s.some((t=>t.weight===a&&t.style===o&&(e=t,!0))),e?new Lc(t,r,n,i,e):(e=s[0],new Lc(t,r,xe.from("bold"===e.weight),xe.from("italic"===e.style),e))}return Ie.Instance}});getDefaultFont=new se("getDefaultFont",{signature:{args:[new ee("size",ne.Int32,new Y(this.defaultFontSize)),new ee("bold",ne.Boolean,xe.False),new ee("italic",ne.Boolean,xe.False)],returns:ne.Object},impl:(e,t,r,n)=>{let i=new Ee(this.defaultFontFamily);const s=this.fontRegistry.get(i.value),a=r.toBoolean()?"bold":"normal",o=n.toBoolean()?"italic":"normal";if(s){let e;if(s.some((t=>t.weight===a&&t.style===o&&(e=t,!0))),e)return new Lc(i,t,r,n,e)}i=new Ee(this.fallbackFontFamily);let c={ascent:1.06884765625,descent:.29296875,maxAdvance:1.208984375,lineHeight:1.36181640625,style:r.toBoolean()?"bold":"normal",weight:n.toBoolean()?"italic":"normal"};return new Lc(i,t,r,n,c)}});getDefaultFontSize=new se("getDefaultFontSize",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.defaultFontSize)})}class Yf extends p{kind=ne.Object;x=0;y=0;width;height;interpreter;doubleBuffer;maxMs;disposeCanvas;valid;keysBuffer;alphaEnable;currentBuffer;lastBuffer;canvas;context;port;isDirty;lastMessage;lastKey;constructor(e,t,r,n){super("roScreen"),this.interpreter=e;let i=854,s=480;"1080p"===e.deviceInfo.get("displayMode")?(i=1920,s=1080):"720p"===e.deviceInfo.get("displayMode")&&(i=1280,s=720);const a=e.deviceInfo.get("platform");this.disposeCanvas=a?.inIOS??!1,this.lastMessage=performance.now(),this.isDirty=!0,this.width=i,this.height=s,this.valid=!0,this.lastKey=-1,this.keysBuffer=[],r instanceof H||r instanceof q||r instanceof Y?(this.width=Math.trunc(r.getValue()),this.width<=0&&(this.width=i)):void 0!==r&&(this.valid=!1),n instanceof H||n instanceof q||n instanceof Y?(this.height=Math.trunc(n.getValue()),this.height<=0&&(this.height=s)):void 0!==n&&(this.valid=!1),this.doubleBuffer=!1,t instanceof xe?this.doubleBuffer=t.toBoolean():void 0!==t&&(this.valid=!1),this.currentBuffer=0,this.lastBuffer=0,this.canvas=new Array(this.doubleBuffer?2:1),this.context=new Array(this.doubleBuffer?2:1),this.createDisplayBuffer(),this.alphaEnable=!1;const o=e.deviceInfo.get("maxFps")||60;this.maxMs=Math.trunc(1/o*1e3);const c=new Sc(this),u=new Yo(this,this.getNewEvents.bind(this)),l=new Ko(this);this.registerMethods({ifScreen:[this.swapBuffers],ifDraw2D:[c.clear,c.drawObject,c.drawRotatedObject,c.drawScaledObject,c.drawTransformedObject,c.drawLine,c.drawPoint,c.drawRect,c.drawText,c.finish,c.getAlphaEnable,c.setAlphaEnable,c.getByteArray,c.getPng,c.getWidth,c.getHeight],ifSetMessagePort:[u.setMessagePort,u.setPort],ifGetMessagePort:[l.getMessagePort,l.getPort]})}createDisplayBuffer(){for(let e=0;e<this.canvas.length;e++)this.canvas[e]=Cc(this.width,this.height),this.canvas[e]&&(this.context[e]=this.canvas[e].getContext("2d"),this.canvas[e].width=this.width,this.canvas[e].height=this.height)}getCanvas(){return this.canvas[this.lastBuffer]}getRgbaCanvas(e){return this.canvas[this.lastBuffer]}getContext(){return this.context[this.currentBuffer]}clearCanvas(e){let t=this.context[this.currentBuffer];t.fillStyle=Dc(e,!1),t.fillRect(0,0,this.width,this.height),this.isDirty=!0}drawImage(e,t,r,n=1,i=1,s){return this.isDirty=kc(this,e,t,r,n,i,s),this.isDirty}drawImageToContext(e,t,r){const n=this.context[this.currentBuffer];return this.isDirty=Ac(n,e,this.alphaEnable,t,r),this.isDirty}setCanvasAlpha(e){return this.alphaEnable=e,Ie.Instance}getCanvasAlpha(){return this.alphaEnable}toString(e){return"<Component: roScreen>"}equalTo(e){return xe.False}makeDirty(){this.isDirty=!0}finishDraw(){!this.doubleBuffer&&this.isDirty&&(postMessage(this.context[0].getImageData(0,0,this.width,this.height)),this.isDirty=!1)}dispose(){this.port?.unregisterCallback(this.getComponentName()),this.disposeCanvas&&this.canvas.forEach((e=>Mc(e)))}isValid(){return this.valid}getNewEvents(){const e=[];this.updateKeysBuffer();const t=this.keysBuffer.shift();if(t&&t.key!==this.lastKey){if(this.interpreter.singleKeyEvents)if(0===t.mod)this.lastKey>=0&&this.lastKey<100&&(this.keysBuffer.unshift({...t}),t.key=this.lastKey+100,t.mod=100);else if(t.key!==this.lastKey+100)return e;this.interpreter.lastKeyTime=this.interpreter.currKeyTime,this.interpreter.currKeyTime=performance.now(),this.lastKey=t.key,e.push(new Ne(t))}return e}updateKeysBuffer(){for(let e=0;e<5;e++){const t=3*e,r=Atomics.load(this.interpreter.sharedArray,qe.KEY+t);if(-1===r)return;if(0===this.keysBuffer.length||r!==this.keysBuffer.at(-1)?.key){const e=Atomics.load(this.interpreter.sharedArray,qe.RID+t),n=10*Math.trunc(e/10),i=He[n]??He[He.SIM],s=e-n,a=Atomics.load(this.interpreter.sharedArray,qe.MOD+t);Atomics.store(this.interpreter.sharedArray,qe.KEY+t,-1),this.keysBuffer.push({remote:`${i}:${s}`,key:r,mod:a}),this.interpreter.lastRemote=s}}}swapBuffers=new se("swapBuffers",{signature:{args:[],returns:ne.Void},impl:e=>{if(this.isDirty){let e=performance.now();for(;e-this.lastMessage<this.maxMs;)e=performance.now();postMessage(this.context[this.currentBuffer].getImageData(0,0,this.width,this.height)),this.doubleBuffer&&(this.lastBuffer=this.currentBuffer,this.currentBuffer++,this.currentBuffer===this.canvas.length&&(this.currentBuffer=0)),this.clearCanvas(255),this.isDirty=!1,this.lastMessage=e}return Ie.Instance}})}function Kf(e,t,r,n){if(void 0!==r&&void 0===n||void 0===r&&void 0!==n)return Ie.Instance;const i=new Yf(e,t,r,n);return i.isValid()?i:Ie.Instance}class Zf{component;constructor(e){this.component=e}addHeader=new se("addHeader",{signature:{args:[new ee("name",ne.String),new ee("value",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>("x-roku-reserved-dev-id"===t.value.toLowerCase()?this.component.customHeaders.set(t.value,e.deviceInfo.get("developerId")):this.component.customHeaders.set(t.value,r.value),xe.True)});setHeaders=new se("setHeaders",{signature:{args:[new ee("headers",ne.Dynamic)],returns:ne.Boolean},impl:(e,t)=>(this.component.customHeaders.clear(),t.elements.forEach(((t,r)=>{"x-roku-reserved-dev-id"===r.toLowerCase()?this.component.customHeaders.set(r,e.deviceInfo.get("developerId")):this.component.customHeaders.set(r,t.value)})),xe.True)});initClientCertificates=new se("initClientCertificates",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.True});setCertificatesFile=new se("setCertificatesFile",{signature:{args:[new ee("certificate",ne.String)],returns:ne.Boolean},impl:(e,t)=>xe.True});setCertificatesDepth=new se("setCertificatesDepth",{signature:{args:[new ee("depth",ne.Int32)],returns:ne.Void},impl:(e,t)=>Ie.Instance});enableCookies=new se("enableCookies",{signature:{args:[],returns:ne.Void},impl:e=>(this.component.cookiesEnabled=!0,Ie.Instance)});getCookies=new se("getCookies",{signature:{args:[new ee("domain",ne.String),new ee("path",ne.String)],returns:ne.Object},impl:(e,t,r)=>new he([])});addCookies=new se("addCookies",{signature:{args:[new ee("cookies",ne.Object)],returns:ne.Boolean},impl:(e,t)=>xe.False});clearCookies=new se("clearCookies",{signature:{args:[],returns:ne.Void},impl:e=>Ie.Instance})}let Jf;class Qf extends p{kind=ne.Object;interpreter;requests;textures;customHeaders;port;cookiesEnabled;constructor(e){super("roTextureManager"),this.interpreter=e,this.cookiesEnabled=!1,this.requests=new Map,this.textures=new Map,this.customHeaders=new Map;const t=new Zf(this),r=new Yo(this,this.getNewEvents.bind(this)),n=new Ko(this);this.registerMethods({ifTextureManager:[this.requestTexture,this.cancelRequest,this.unloadBitmap,this.cleanup],ifHttpAgent:[t.addHeader,t.setHeaders,t.initClientCertificates,t.setCertificatesFile,t.setCertificatesDepth,t.enableCookies,t.getCookies,t.addCookies,t.clearCookies],ifSetMessagePort:[r.setMessagePort,r.setPort],ifGetMessagePort:[n.getMessagePort,n.getPort]})}toString(e){return"<Component: roTextureManager>"}equalTo(e){return xe.False}getNewEvents(){const e=[];for(let t of this.requests.values())e.push(this.createEvent(t)),this.requests.delete(t.identity);return e}createEvent(e){const t=this.loadTexture(e);let r=t?new dc(this.interpreter,t):Ie.Instance;if(r instanceof dc&&r.isValid()&&e.size&&(e.size.width!==r.width||e.size.height!==r.height)){const t=cg(e.size),n=new dc(this.interpreter,t);r=kc(n,r,0,0,e.size.width/r.width,e.size.height/r.height,void 0,e.scaleMode)?n:Ie.Instance}return e.state=r instanceof dc&&r.isValid()?td.Ready:td.Failed,new ct(e,r)}loadTexture(e){const t=this.textures.get(e.uri);if(t)return t;if(e.uri.startsWith("http")){const t=Ce(e.uri,"arraybuffer",this.customHeaders,this.cookiesEnabled);if(t)return this.textures.set(e.uri,t),t}else try{return this.interpreter.fileSystem.readFileSync(e.uri)}catch(t){this.interpreter.isDevMode&&this.interpreter.stderr.write(`warning,[roTextureManager] Error requesting texture ${e.uri}: ${t.message}`)}}requestTexture=new se("requestTexture",{signature:{args:[new ee("req",ne.Object)],returns:ne.Void},impl:(e,t)=>t instanceof id?(uo(t.uri)?t.async?this.requests.set(t.identity,t):this.port&&this.port.pushMessage(this.createEvent(t)):(this.interpreter.stderr.write(`warning,*** ERROR: Missing or invalid PHY: '${t.uri}'`),t.state=td.Failed,this.port?.pushMessage(new ct(t,Ie.Instance))),_e.Instance):_e.Instance});cancelRequest=new se("cancelRequest",{signature:{args:[new ee("req",ne.Object)],returns:ne.Void},impl:(e,t)=>(t instanceof id&&this.requests.has(t.identity)&&(t.state=td.Cancelled,this.requests.delete(t.identity)),_e.Instance)});unloadBitmap=new se("unloadBitmap",{signature:{args:[new ee("url",ne.String)],returns:ne.Void},impl:(e,t)=>(this.textures.delete(t.value),_e.Instance)});cleanup=new se("cleanup",{signature:{args:[],returns:ne.Void},impl:e=>(this.textures.clear(),_e.Instance)})}function ed(e){return Jf||(Jf=new Qf(e)),Jf}var td,rd;(rd=td||(td={}))[rd.Requested=0]="Requested",rd[rd.Downloading=1]="Downloading",rd[rd.Downloaded=2]="Downloaded",rd[rd.Ready=3]="Ready",rd[rd.Failed=4]="Failed",rd[rd.Cancelled=5]="Cancelled";let nd=1;class id extends p{kind=ne.Object;identity;customHeaders;uri;async;state;scaleMode;cookiesEnabled;size;constructor(e){super("roTextureRequest"),this.identity=nd++,this.uri=e.value,this.async=!0,this.state=td.Requested,this.scaleMode=0,this.cookiesEnabled=!1,this.customHeaders=new Map;const t=new Zf(this);this.registerMethods({ifTextureRequest:[this.getId,this.getState,this.setAsync,this.setSize,this.setScaleMode],ifHttpAgent:[t.addHeader,t.setHeaders,t.initClientCertificates,t.setCertificatesFile,t.setCertificatesDepth,t.enableCookies,t.getCookies,t.addCookies,t.clearCookies]})}toString(e){return"<Component: roTextureRequest>"}equalTo(e){return xe.False}getId=new se("getId",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.identity)});getState=new se("getState",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.state)});setAsync=new se("setAsync",{signature:{args:[new ee("async",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(this.async=t.toBoolean(),_e.Instance)});setSize=new se("setSize",{signature:{args:[new ee("width",ne.Int32),new ee("height",ne.Int32)],returns:ne.Void},impl:(e,t,r)=>(this.size={width:t.getValue(),height:r.getValue()},_e.Instance)});setScaleMode=new se("setScaleMode",{signature:{args:[new ee("mode",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.scaleMode=t.getValue()?1:0,_e.Instance)})}const sd={exif:new Map([[1,"InteroperabilityIndex"],[2,"InteroperabilityVersion"],[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[290,"GrayResponseUnit"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[296,"ResolutionUnit"],[297,"PageNumber"],[300,"ColorResponseUnit"],[301,"TransferFunction"],[305,"Software"],[306,"DateTime"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[320,"ColorMap"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[332,"InkSet"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[337,"TargetPrinter"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[559,"StripRowCounts"],[700,"ApplicationNotes"],[999,"USPTOMiscellaneous"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"],[18246,"Rating"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[18249,"RatingPercent"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33432,"Copyright"],[33434,"ExposureTime"],[33437,"FNumber"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33550,"PixelScale"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33723,"IPTC-NAA"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33920,"IntergraphMatrix"],[33921,"INGRReserved"],[33922,"ModelTiePoint"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34118,"SEMInfo"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34264,"ModelTransform"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34377,"PhotoshopSettings"],[34665,"ExifOffset"],[34675,"ICC_Profile"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34853,"GPSInfo"],[34855,"ISOSpeedRatings"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34954,"LeafSubIFD"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureBiasValue"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"PixelXDimension"],[40963,"PixelYDimension"],[40964,"RelatedSoundFile"],[40965,"InteropOffset"],[41483,"FlashEnergy"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41494,"TIFF-EPStandardID"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41995,"DeviceSettingDescription"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42038,"Title"],[42039,"Photographer"],[42040,"ImageEditor"],[42041,"CameraFirmware"],[42042,"RAWDevelopingSoftware"],[42043,"ImageEditingSoftware"],[42044,"MetadataEditingSoftware"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[42240,"Gamma"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50341,"PrintIM"],[50560,"USPTOOriginalContentType"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50733,"BayerGreenSplit"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50736,"DNGLensInfo"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[50741,"MakerNoteSafety"],[50752,"RawImageSegmentation"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50780,"BestQualityScale"],[50781,"RawDataUniqueID"],[50784,"AliasLayerMetadata"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50935,"NoiseReductionApplied"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"],[51125,"DefaultUserCrop"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65024,"KDC_IFD"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"]]),gps:new Map([[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]])};var ad,od,cd,ud,ld,hd,fd,dd,pd,gd,md,yd,bd,vd,wd,Sd,Ed,xd,Id,_d,Td,kd,Ad,Cd,Md,Rd,Od,Dd,Pd,Ld,Fd,Nd,Bd,Ud,jd,Vd,Gd,zd,Wd,qd,$d,Hd,Xd,Yd,Kd,Zd,Jd,Qd,ep,tp;(od=ad||(ad={}))[od.Image=1]="Image",od[od.Thumbnail=2]="Thumbnail",od[od.GPS=3]="GPS",od[od.Interop=4]="Interop",od[od.EXIF=5]="EXIF",(ud=cd||(cd={}))[ud.None=1]="None",ud[ud.Inch=2]="Inch",ud[ud.Centimeter=3]="Centimeter",(hd=ld||(ld={}))[hd.Normal=0]="Normal",hd[hd.Soft=1]="Soft",hd[hd.Hard=2]="Hard",(dd=fd||(fd={}))[dd.Unknown=0]="Unknown",dd[dd.Daylight=1]="Daylight",dd[dd.Fluorescent=2]="Fluorescent",dd[dd["Tungsten incandescent light"]=3]="Tungsten incandescent light",dd[dd.Flash=4]="Flash",dd[dd["Fine weather"]=9]="Fine weather",dd[dd["Cloudy weather"]=10]="Cloudy weather",dd[dd.Shade=11]="Shade",dd[dd["Daylight fluorescent"]=12]="Daylight fluorescent",dd[dd["Day white fluorescent"]=13]="Day white fluorescent",dd[dd["Cool white fluorescent"]=14]="Cool white fluorescent",dd[dd["White fluorescent"]=15]="White fluorescent",dd[dd["Standard light A"]=17]="Standard light A",dd[dd["Standard light B"]=18]="Standard light B",dd[dd["Standard light C"]=19]="Standard light C",dd[dd.D55=20]="D55",dd[dd.D65=21]="D65",dd[dd.D75=22]="D75",dd[dd["ISO studio tungsten"]=24]="ISO studio tungsten",dd[dd.Other=255]="Other",(gd=pd||(pd={}))[gd["Not defined"]=1]="Not defined",gd[gd["One-chip color area sensor"]=2]="One-chip color area sensor",gd[gd["Two-chip color area sensor"]=3]="Two-chip color area sensor",gd[gd["Three-chip color area sensor"]=4]="Three-chip color area sensor",gd[gd["Color sequential area sensor"]=5]="Color sequential area sensor",gd[gd["Trilinear sensor"]=7]="Trilinear sensor",gd[gd["Color sequential linear sensor"]=8]="Color sequential linear sensor",(yd=md||(md={}))[yd.Unknown=0]="Unknown",yd[yd.Average=1]="Average",yd[yd["Center-weighted average"]=2]="Center-weighted average",yd[yd.Spot=3]="Spot",yd[yd["Multi spot"]=4]="Multi spot",yd[yd.Pattern=5]="Pattern",yd[yd.Partial=6]="Partial",yd[yd.Other=255]="Other",(vd=bd||(bd={}))[vd.sRGB=1]="sRGB",vd[vd["Adobe RGB"]=2]="Adobe RGB",vd[vd.Uncalibrated=65535]="Uncalibrated",(Sd=wd||(wd={}))[Sd.Unknown=0]="Unknown",Sd[Sd["No a composite image"]=1]="No a composite image",Sd[Sd["General composite image"]=2]="General composite image",Sd[Sd["Composite image captured while shooting"]=3]="Composite image captured while shooting",(xd=Ed||(Ed={}))[xd["Top-left"]=1]="Top-left",xd[xd["Top-right"]=2]="Top-right",xd[xd["Bottom-right"]=3]="Bottom-right",xd[xd["Bottom-left"]=4]="Bottom-left",xd[xd["Left-top"]=5]="Left-top",xd[xd["Right-top"]=6]="Right-top",xd[xd["Right-bottom"]=7]="Right-bottom",xd[xd["Left-bottom"]=8]="Left-bottom",(_d=Id||(Id={}))[_d["Auto exposure"]=0]="Auto exposure",_d[_d["Manual exposure"]=1]="Manual exposure",_d[_d["Auto bracket"]=2]="Auto bracket",(kd=Td||(Td={}))[kd["Not defined"]=0]="Not defined",kd[kd.Manual=1]="Manual",kd[kd["Normal program"]=2]="Normal program",kd[kd["Aperture priority"]=3]="Aperture priority",kd[kd["Shutter priority"]=4]="Shutter priority",kd[kd["Creative program (biased toward depth of field)"]=5]="Creative program (biased toward depth of field)",kd[kd["Creative program (biased toward fast shutter speed)"]=6]="Creative program (biased toward fast shutter speed)",kd[kd["Portrait mode (for closeup photos with the background out of focus)"]=7]="Portrait mode (for closeup photos with the background out of focus)",kd[kd["Landscape mode (for landscape photos with the background in focus)"]=8]="Landscape mode (for landscape photos with the background in focus)",(Cd=Ad||(Ad={}))[Cd.Unknown=0]="Unknown",Cd[Cd["Standard output sensitivity (SOS)"]=1]="Standard output sensitivity (SOS)",Cd[Cd["Recommended exposure index (REI)"]=2]="Recommended exposure index (REI)",Cd[Cd["ISO speed"]=3]="ISO speed",Cd[Cd["Standard output sensitivity (SOS) and recommended exposure index (REI)"]=4]="Standard output sensitivity (SOS) and recommended exposure index (REI)",Cd[Cd["Standard output sensitivity (SOS) and ISO speed"]=5]="Standard output sensitivity (SOS) and ISO speed",Cd[Cd["Recommended exposure index (REI) and ISO speed"]=6]="Recommended exposure index (REI) and ISO speed",Cd[Cd["Standard output sensitivity (SOS) and recommended exposure index (REI) and ISO speed"]=7]="Standard output sensitivity (SOS) and recommended exposure index (REI) and ISO speed",(Rd=Md||(Md={}))[Rd["Auto white balance"]=0]="Auto white balance",Rd[Rd["Manual white balance"]=1]="Manual white balance",(Dd=Od||(Od={}))[Dd.Normal=0]="Normal",Dd[Dd["Low gain up"]=1]="Low gain up",Dd[Dd["High gain Up"]=2]="High gain Up",Dd[Dd["Low gain down"]=3]="Low gain down",Dd[Dd["High gain down"]=4]="High gain down",(Ld=Pd||(Pd={}))[Ld["Normal process"]=0]="Normal process",Ld[Ld["Custom process"]=1]="Custom process",(Nd=Fd||(Fd={}))[Nd.Uncompressed=1]="Uncompressed",Nd[Nd["CCITT 1D"]=2]="CCITT 1D",Nd[Nd["T4/Group 3 Fax"]=3]="T4/Group 3 Fax",Nd[Nd["T6/Group 4 Fax"]=4]="T6/Group 4 Fax",Nd[Nd["LZW compression"]=5]="LZW compression",Nd[Nd["JPEG compression"]=6]="JPEG compression",Nd[Nd["JPEG compression (new)"]=7]="JPEG compression (new)",Nd[Nd["Deflate/ZIP compression"]=8]="Deflate/ZIP compression",Nd[Nd["JBIG B&W"]=9]="JBIG B&W",Nd[Nd["JBIG Color"]=10]="JBIG Color",Nd[Nd.JPEG=99]="JPEG",Nd[Nd.Next=32766]="Next",Nd[Nd["Sony ARW Compressed"]=32767]="Sony ARW Compressed",Nd[Nd["Packed RAW"]=32769]="Packed RAW",Nd[Nd["Samsung SRW Compressed"]=32770]="Samsung SRW Compressed",Nd[Nd.CCIRLEW=32771]="CCIRLEW",Nd[Nd["Samsung SRW Compressed 2"]=32772]="Samsung SRW Compressed 2",Nd[Nd["PackBits compression"]=32773]="PackBits compression",Nd[Nd.Thunderscan=32809]="Thunderscan",Nd[Nd["Kodak KDC Compressed"]=32867]="Kodak KDC Compressed",Nd[Nd.IT8CTPAD=32895]="IT8CTPAD",Nd[Nd.IT8LW=32896]="IT8LW",Nd[Nd.IT8MP=32897]="IT8MP",Nd[Nd.IT8BL=32898]="IT8BL",Nd[Nd.PixarFilm=32908]="PixarFilm",Nd[Nd.PixarLog=32909]="PixarLog",Nd[Nd.Deflate=32946]="Deflate",Nd[Nd.DCS=32947]="DCS",Nd[Nd["Aperio JPEG 2000 YCbCr"]=33003]="Aperio JPEG 2000 YCbCr",Nd[Nd["Aperio JPEG 2000 RGB"]=33005]="Aperio JPEG 2000 RGB",Nd[Nd.JBIG=34661]="JBIG",Nd[Nd.SGILog=34676]="SGILog",Nd[Nd.SGILog24=34677]="SGILog24",Nd[Nd["JPEG 2000"]=34712]="JPEG 2000",Nd[Nd["Nikon NEF Compressed"]=34713]="Nikon NEF Compressed",Nd[Nd["JBIG2 TIFF FX"]=34715]="JBIG2 TIFF FX",Nd[Nd["Microsoft Document Imaging (MDI) Binary Level Codec"]=34718]="Microsoft Document Imaging (MDI) Binary Level Codec",Nd[Nd["Microsoft Document Imaging (MDI) Progressive Transform Codec"]=34719]="Microsoft Document Imaging (MDI) Progressive Transform Codec",Nd[Nd["Microsoft Document Imaging (MDI) Vector"]=34720]="Microsoft Document Imaging (MDI) Vector",Nd[Nd["ESRI Lerc"]=34887]="ESRI Lerc",Nd[Nd["Lossy JPEG"]=34892]="Lossy JPEG",Nd[Nd.LZMA2=34925]="LZMA2",Nd[Nd.Zstd=34926]="Zstd",Nd[Nd.WebP=34927]="WebP",Nd[Nd.PNG=34933]="PNG",Nd[Nd["JPEG XR"]=34934]="JPEG XR",Nd[Nd["JPEG XL"]=52546]="JPEG XL",Nd[Nd["Kodak DCR Compressed"]=65e3]="Kodak DCR Compressed",Nd[Nd["Pentax PEF Compressed"]=65535]="Pentax PEF Compressed",(Ud=Bd||(Bd={}))[Ud["Flash did not fire"]=0]="Flash did not fire",Ud[Ud["Flash fired"]=1]="Flash fired",Ud[Ud["Strobe return light not detected"]=5]="Strobe return light not detected",Ud[Ud["Strobe return light detected"]=7]="Strobe return light detected",Ud[Ud["Flash fired, compulsory flash mode"]=9]="Flash fired, compulsory flash mode",Ud[Ud["Flash fired, compulsory flash mode, return light not detected"]=13]="Flash fired, compulsory flash mode, return light not detected",Ud[Ud["Flash fired, compulsory flash mode, return light detected"]=15]="Flash fired, compulsory flash mode, return light detected",Ud[Ud["Flash did not fire, compulsory flash mode"]=16]="Flash did not fire, compulsory flash mode",Ud[Ud["Flash did not fire, auto mode"]=24]="Flash did not fire, auto mode",Ud[Ud["Flash fired, auto mode"]=25]="Flash fired, auto mode",Ud[Ud["Flash fired, auto mode, return light not detected"]=29]="Flash fired, auto mode, return light not detected",Ud[Ud["Flash fired, auto mode, return light detected"]=31]="Flash fired, auto mode, return light detected",Ud[Ud["No flash function"]=32]="No flash function",Ud[Ud["Flash fired, red-eye reduction mode"]=65]="Flash fired, red-eye reduction mode",Ud[Ud["Flash fired, red-eye reduction mode, return light not detected"]=69]="Flash fired, red-eye reduction mode, return light not detected",Ud[Ud["Flash fired, red-eye reduction mode, return light detected"]=71]="Flash fired, red-eye reduction mode, return light detected",Ud[Ud["Flash fired, compulsory flash mode, red-eye reduction mode"]=73]="Flash fired, compulsory flash mode, red-eye reduction mode",Ud[Ud["Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected"]=77]="Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",Ud[Ud["Flash fired, compulsory flash mode, red-eye reduction mode, return light detected"]=79]="Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",Ud[Ud["Flash fired, auto mode, red-eye reduction mode"]=89]="Flash fired, auto mode, red-eye reduction mode",Ud[Ud["Flash fired, auto mode, return light not detected, red-eye reduction mode"]=93]="Flash fired, auto mode, return light not detected, red-eye reduction mode",Ud[Ud["Flash fired, auto mode, return light detected, red-eye reduction mode"]=95]="Flash fired, auto mode, return light detected, red-eye reduction mode",(Vd=jd||(jd={}))[Vd.Unknown=0]="Unknown",Vd[Vd.Macro=1]="Macro",Vd[Vd["Close view"]=2]="Close view",Vd[Vd["Distant view"]=3]="Distant view",(zd=Gd||(Gd={}))[zd.Centered=1]="Centered",zd[zd["Co-sited"]=2]="Co-sited",(qd=Wd||(Wd={}))[qd["Reversed mono"]=0]="Reversed mono",qd[qd["Normal mono"]=1]="Normal mono",qd[qd.RGB=2]="RGB",qd[qd.Palette=3]="Palette",qd[qd.CMYK=5]="CMYK",qd[qd.YCbCr=6]="YCbCr",qd[qd.CieLAB=8]="CieLAB",(Hd=$d||($d={}))[Hd.Standard=0]="Standard",Hd[Hd.Landscape=1]="Landscape",Hd[Hd.Portrait=2]="Portrait",Hd[Hd["Night scene"]=3]="Night scene",(Yd=Xd||(Xd={}))[Yd["Sea level"]=0]="Sea level",Yd[Yd["Sea level reference"]=1]="Sea level reference",(Zd=Kd||(Kd={}))[Zd["2-dimensional measurement"]=2]="2-dimensional measurement",Zd[Zd["3-dimensional measurement"]=3]="3-dimensional measurement",(Qd=Jd||(Jd={}))[Qd["No differential correction"]=0]="No differential correction",Qd[Qd["Differential corrected"]=1]="Differential corrected",(tp=ep||(ep={}))["Measurement active"]="A",tp["Measurement void"]="V";const rp={ColorSpace:bd,Compression:Fd,Flash:Bd,LightSource:fd,Contrast:ld,Saturation:ld,Sharpness:ld,GainControl:Od,ExposureMode:Id,ExposureProgram:Td,SensitivityType:Ad,PhotometricInterpretation:Wd,CompositeImage:wd,WhiteBalance:Md,SceneCaptureType:$d,SubjectDistanceRange:jd,SensingMethod:pd,MeteringMode:md,Orientation:Ed,ResolutionUnit:cd,FocalPlaneResolutionUnit:cd,CustomRendered:Pd,YCbCrPositioning:Gd,GPSAltitudeRef:Xd,GPSMeasureMode:Kd,GPSDifferential:Jd,GPSStatus:ep};var np=__webpack_require__(7833),ip=__webpack_require__(8287).Buffer;class sp extends p{kind=ne.Object;fileData;constructor(){super("roImageMetadata"),this.registerMethods({ifImageMetadata:[this.setUrl,this.getMetadata,this.getThumbnail,this.getRawExif,this.getRawExifTag]})}toString(e){return"<Component: roImageMetadata>"}equalTo(e){return xe.False}loadFile(e,t){let r;try{r=e.fileSystem?.readFileSync(t)}catch(r){e.isDevMode&&e.stderr.write(`warning,[roImageMetadata] Error loading bitmap:${t} - ${r.message}`)}return r}findValue(e,t,r){return e.find((e=>e.section===t&&e.type===r))??null}getTagData(e,t=sd.exif){let r;const n=t.get(e.type)??"",i=rp[n];switch(typeof e.value){case"string":r=e.value;break;case"number":r=void 0!==i?i[e.value]??e.value.toString():e.value.toString();break;default:r=e.value instanceof ip?this.processBufferTag(n,e.value):e.value instanceof ArrayBuffer?this.processBufferTag(n,ip.from(e.value)):e.value instanceof Array?"GPSTimeStamp"===n?e.value.join(":"):"SubjectArea"===n?this.decodeExifSubjectArea(e.value):e.value.join(", "):e.value.toString()}return cg({tag:e.type,tagValue:r})}processBufferTag(e,t){let r;switch(e){case"UserComment":r=this.decodeUserComment(t);break;case"ComponentsConfiguration":r=this.decodeComponentsConfiguration(t);break;case"FileSource":r=""===t.toString("ascii")?"DSC":t.toString();break;case"SceneType":r=""===t.toString("ascii")?"Directly photographed":t.toString();break;case"ExifVersion":r=`Exif Version ${this.decodeVersion(t)}`;break;case"FlashpixVersion":r=`Flashpix Version ${this.decodeVersion(t)}`;break;case"InteroperabilityVersion":r=t.toString("ascii");break;default:r=`${t.length} bytes undefined data`}return r}decodeComponentsConfiguration(e){const t=["-","Y","Cb","Cr","R","G","B"];let r="";for(let n=0;n<Math.max(e.length,4);n++)r+=t[e[n]]+" ";return r.trim()}decodeUserComment(e){if(e instanceof ip){const t=e.toString("ascii",0,8),r=e.subarray(8);try{switch(t){case"ASCII\0\0\0":default:return new TextDecoder("ascii").decode(r);case"UNICODE\0":return new TextDecoder("utf-16").decode(r);case"JIS\0\0\0\0\0":return new TextDecoder("iso-2022-jp").decode(r)}}catch(e){return""}}return""}decodeExifSubjectArea(e){switch(e.length){case 2:return`(x,y) = (${e[0]}, ${e[1]})`;case 3:return`Within distance ${e[2]} of (x, y) = (${e[0]}, ${e[1]})`;case 4:return`Within rectangle (width ${e[0]}, height ${e[1]}) around (x,y) = (${e[2]}, ${e[3]})`;default:return`Unexpected number of components (${e.length}, expected 2, 3, or 4). ${e.join(", ")}`}}decodeVersion(e){let t=new TextDecoder("ascii").decode(e),r=parseFloat(`${t.slice(0,2)}.${t.slice(2)}`);return Number.isInteger(r)?r+".0":r.toString()}setUrl=new se("setUrl",{signature:{args:[new ee("url",ne.String)],returns:ne.Void},impl:(e,t)=>(this.fileData=this.loadFile(e,t.value),Ie.Instance)});getMetadata=new se("getMetadata",{signature:{args:[],returns:ne.Object},impl:e=>{if(!this.fileData)return Ie.Instance;const t=new Map;try{const e=np.create(this.fileData);e.enableBinaryFields(!0);const r=e.parse();let n=r.getImageSize();if(r.tags){t.set("comment",this.decodeUserComment(r.tags.UserComment)),"number"==typeof r.tags.CreateDate&&t.set("datetime",new Go(r.tags.CreateDate));const e=rp.Orientation;t.set("width",n?.width??0),t.set("height",n?.height??0),t.set("orientation",e[r.tags.Orientation??0]??"")}}catch(r){e.isDevMode&&e.stderr.write(`warning,[roImageMetadata] Error reading metadata:${r.message}`),t.set("width",0),t.set("height",0),t.set("comment",""),t.set("orientation","")}return cg(t)}});getThumbnail=new se("getThumbnail",{signature:{args:[],returns:ne.Object},impl:e=>{if(!this.fileData)return Ie.Instance;try{const e=np.create(this.fileData);e.enableReturnTags(!1);const t=e.parse();if(t.hasThumbnail("image/jpeg")){const e=t.getThumbnailBuffer();if(e)return cg({bytes:new To(new Uint8Array(e)),type:"image/jpeg"})}}catch(t){e.isDevMode&&e.stderr.write(`warning,[roImageMetadata] Error getting thumbnail:${t.message}`)}return Ie.Instance}});getRawExif=new se("getRawExif",{signature:{args:[],returns:ne.Object},impl:e=>{if(!this.fileData)return Ie.Instance;try{const e=new Map,t=new Map,r=new Map,n=new Map,i=new Map,s=np.create(this.fileData);return s.enablePointers(!0),s.enableBinaryFields(!0),s.enableTagNames(!1),s.enableImageSize(!1),s.parse().tags.forEach((s=>{const a=s.section===ad.GPS?sd.gps:sd.exif,o=a.get(s.type)??"";""!==o&&(s.section===ad.EXIF||s.section===ad.Interop?o.startsWith("Interop")?n.set(o,this.getTagData(s)):e.set(o,this.getTagData(s)):s.section===ad.GPS?t.set(o,this.getTagData(s,a)):s.section===ad.Image?r.set(o,this.getTagData(s)):s.section===ad.Thumbnail&&i.set(o,this.getTagData(s)))})),cg({exif:e,gps:t,image:r,interoperability:n,thumbnail:i})}catch(t){return e.isDevMode&&e.stderr.write(`warning,[roImageMetadata] Error getting raw exif:${t.message}`),new oe([])}}});getRawExifTag=new se("getRawExifTag",{signature:{args:[new ee("ifd",ne.Int32|ne.Float),new ee("tagnum",ne.Int32|ne.Float)],returns:ne.Dynamic},impl:(e,t,r)=>{if(!this.fileData)return Ie.Instance;try{const e=np.create(this.fileData);e.enablePointers(!0),e.enableBinaryFields(!0),e.enableTagNames(!1),e.enableImageSize(!1);const n=e.parse(),i=t.getValue()===ad.GPS?sd.gps:sd.exif,s={0:ad.Image,1:ad.Thumbnail,2:ad.EXIF,3:ad.GPS,4:ad.EXIF}[t.getValue()]??ad.EXIF,a=this.findValue(n.tags,s,r.getValue());return a?this.getTagData(a,i):new oe([])}catch(t){return e.isDevMode&&e.stderr.write(`warning,[roImageMetadata] Error getting raw exif tag:${t.message}`),new oe([])}}})}var ap=__webpack_require__(9546),op=__webpack_require__.n(ap),cp=__webpack_require__(8287).Buffer;class up extends p{kind=ne.Object;fileData;constructor(){super("roAudioMetadata"),this.registerMethods({ifAudioMetadata:[this.setUrl,this.getTags,this.getAudioProperties,this.getCoverArt]})}toString(e){return"<Component: roAudioMetadata>"}equalTo(e){return xe.False}loadFile(e,t){let r;try{r=e.fileSystem?.readFileSync(t)}catch(r){e.isDevMode&&e.stderr.write(`warning,[roAudioMetadata] Error loading audio:${t} - ${r.message}`)}return r instanceof cp?new DataView(r.buffer):r?new DataView(r):void 0}updateTagsFromSection(e,t){const r=new Map([["TCON","genre"],["TIT2","title"],["TPE1","artist"],["TALB","album"],["TCOM","composer"],["COMM","comment"],["TYER","year"],["TRCK","track"]]);for(let n of t){const t=r.get(n?.header?.id),i=n?.content?.value;"string"==typeof t&&"string"==typeof i&&(["year","track"].includes(t)?e.set(new Ee(t),new Y(this.parseIntSafe(i))):e.set(new Ee(t),new Ee(i)))}}getCoverArtFromSection(e){for(let t of e)if("APIC"===t?.header?.id)return cg({bytes:new To(new Uint8Array(t.content.pictureData.buffer,t.content.pictureData.byteOffset,t.content.pictureData.byteLength)),type:t.content.mimeType});return null}parseIntSafe(e){const t=parseInt(e,10);return isNaN(t)?0:t}setUrl=new se("setUrl",{signature:{args:[new ee("url",ne.String)],returns:ne.Boolean},impl:(e,t)=>(this.fileData=this.loadFile(e,t.value),xe.from(void 0!==this.fileData))});getTags=new se("getTags",{signature:{args:[],returns:ne.Object},impl:e=>{if(!this.fileData)return Ie.Instance;try{const e=op().readTags(this.fileData),t=cg({genre:"",title:"",artist:"",album:"",composer:"",comment:"",year:0,track:0});if(e instanceof Array&&e.length>0){for(let r of e)if("ID3v2"===r?._section?.type){this.updateTagsFromSection(t,r.frames);break}return t}}catch(t){e.isDevMode&&e.stderr.write(`warning,[roAudioMetadata] Error getting audio tags:${t.message}`)}return Ie.Instance}});getAudioProperties=new se("getAudioProperties",{signature:{args:[],returns:ne.Object},impl:e=>{if(!this.fileData)return Ie.Instance;try{const e=op().readTags(this.fileData);if(e instanceof Array&&e.length>0){const t={};for(let r of e){if("frame"!==r?._section?.type)continue;const n=this.fileData.byteLength,i=r._section?.offset??0,s=r.header?.bitrate??48,a=Math.round(8*(n-i)/(1e3*s)),o=e[1]?.header?.samplingRate??0,c="11"===e[1]?.header?.channelModeBits?1:2;t.length=a,t.bitrate=s,t.samplerate=o,t.channels=c;break}return cg(t)}}catch(t){e.isDevMode&&e.stderr.write(`warning,[roAudioMetadata] Error reading audio properties:${t.message}`)}return Ie.Instance}});getCoverArt=new se("getCoverArt",{signature:{args:[],returns:ne.Object},impl:e=>{if(!this.fileData)return Ie.Instance;try{const e=op().readTags(this.fileData);if(e instanceof Array&&e.length>0)for(let t of e)if("ID3v2"===t?._section?.type)return this.getCoverArtFromSection(t.frames)??Ie.Instance}catch(t){e.isDevMode&&e.stderr.write(`warning,[roAudioMetadata] Error getting cover art:${t.message}`)}return Ie.Instance}})}class lp extends p{kind=ne.Object;customHeaders;interpreter;port;contentList;audioFlags;cookiesEnabled;constructor(e){super("roAudioPlayer"),this.interpreter=e,this.contentList=new Array,this.audioFlags=-1,this.cookiesEnabled=!1,this.customHeaders=new Map,postMessage(new Array),postMessage("audio,loop,false"),postMessage("audio,next,-1");const t=new Zf(this),r=new Yo(this,this.getNewEvents.bind(this)),n=new Ko(this);this.registerMethods({ifAudioPlayer:[this.setContentList,this.addContent,this.clearContent,this.play,this.stop,this.pause,this.resume,this.setLoop,this.setNext,this.seek,this.setTimedMetadataForKeys],ifHttpAgent:[t.addHeader,t.setHeaders,t.initClientCertificates,t.setCertificatesFile,t.setCertificatesDepth,t.enableCookies,t.getCookies,t.addCookies,t.clearCookies],ifSetMessagePort:[r.setMessagePort,r.setPort],ifGetMessagePort:[n.getMessagePort,n.getPort]})}toString(e){return"<Component: roAudioPlayer>"}equalTo(e){return xe.False}dispose(){this.contentList.forEach((e=>{this.removeReference()})),this.port?.removeReference()}getNewEvents(){const e=[],t=Atomics.load(this.interpreter.sharedArray,qe.SND);return t!==this.audioFlags&&(this.audioFlags=t,this.audioFlags>=0&&e.push(new at(this.audioFlags,Atomics.load(this.interpreter.sharedArray,qe.IDX)))),e}setContentList=new se("setContentList",{signature:{args:[new ee("contentList",ne.Object)],returns:ne.Void},impl:(e,t)=>{const r=new Array;return this.contentList=t.getElements(),this.contentList.forEach(((e,t,n)=>{e.addReference();let i=e.get(new Ee("url"));i instanceof Ee&&r.push(i.value)})),postMessage(r),Ie.Instance}});addContent=new se("addContent",{signature:{args:[new ee("contentItem",ne.Object)],returns:ne.Void},impl:(e,t)=>{t.addReference(),this.contentList.push(t);const r=new Array;return this.contentList.forEach(((e,t,n)=>{let i=e.get(new Ee("url"));i instanceof Ee&&r.push(i.value)})),postMessage(r),Ie.Instance}});clearContent=new se("clearContent",{signature:{args:[],returns:ne.Void},impl:e=>(this.contentList=new Array,postMessage(new Array),Ie.Instance)});play=new se("play",{signature:{args:[],returns:ne.Boolean},impl:e=>(postMessage("audio,play"),xe.True)});stop=new se("stop",{signature:{args:[],returns:ne.Boolean},impl:e=>(postMessage("audio,stop"),xe.True)});pause=new se("pause",{signature:{args:[],returns:ne.Boolean},impl:e=>(postMessage("audio,pause"),xe.True)});resume=new se("resume",{signature:{args:[],returns:ne.Boolean},impl:e=>(postMessage("audio,resume"),xe.True)});setLoop=new se("setLoop",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(postMessage(`audio,loop,${t.toString()}`),Ie.Instance)});setNext=new se("setNext",{signature:{args:[new ee("item",ne.Int32)],returns:ne.Void},impl:(e,t)=>(postMessage(`audio,next,${t.toString()}`),Ie.Instance)});seek=new se("seek",{signature:{args:[new ee("offsetMs",ne.Int32)],returns:ne.Void},impl:(e,t)=>(postMessage(`audio,seek,${t.toString()}`),Ie.Instance)});setTimedMetadataForKeys=new se("setTimedMetadataForKeys",{signature:{args:[new ee("keys",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>Ie.Instance})}class hp extends p{kind=ne.Object;customHeaders;interpreter;port;contentList;notificationPeriod;videoFlags;videoIndex;videoPosition;videoProgress;audioTracks;cookiesEnabled;constructor(e){super("roVideoPlayer"),this.interpreter=e,this.contentList=new Array,this.notificationPeriod=0,this.videoFlags=-1,this.videoIndex=-1,this.videoPosition=0,this.videoProgress=-1,this.audioTracks=[],this.cookiesEnabled=!1,this.customHeaders=new Map,postMessage(new Array),postMessage("video,loop,false"),postMessage("video,next,-1"),postMessage("video,mute,false");const t=new Zf(this),r=new Yo(this,this.getNewEvents.bind(this)),n=new Ko(this);this.registerMethods({ifVideoPlayer:[this.setContentList,this.addContent,this.clearContent,this.preBuffer,this.play,this.stop,this.pause,this.resume,this.setLoop,this.setNext,this.setEnableAudio,this.seek,this.setPositionNotificationPeriod,this.setCGMS,this.setDestinationRect,this.setMaxVideoDecodeResolution,this.getPlaybackDuration,this.getAudioTracks,this.changeAudioTrack,this.setTimedMetadataForKeys,this.getCaptionRenderer,this.setMacrovisionLevel],ifHttpAgent:[t.addHeader,t.setHeaders,t.initClientCertificates,t.setCertificatesFile,t.setCertificatesDepth,t.enableCookies,t.getCookies,t.addCookies,t.clearCookies],ifSetMessagePort:[r.setMessagePort,r.setPort],ifGetMessagePort:[n.getMessagePort,n.getPort]})}toString(e){return"<Component: roVideoPlayer>"}equalTo(e){return xe.False}getContent(){const e=[];return this.contentList.forEach(((t,r,n)=>{const i={url:"",streamFormat:"",audioTrack:-1};let s=t.get(new Ee("url"));if(s instanceof Ee)i.url=s.value;else{const e=t.get(new Ee("stream"));e instanceof oe&&(s=e.get(new Ee("url")),s instanceof Ee&&(i.url=s.value))}let a=t.get(new Ee("streamFormat"));a instanceof Ee&&(i.streamFormat=a.value.toLowerCase()),e.push(i)})),e}dispose(){this.port?.removeReference()}getNewEvents(){const e=[],t=Atomics.load(this.interpreter.sharedArray,qe.VSE);if(t>=0&&(e.push(new ot(Ze.SELECTED,t)),Atomics.store(this.interpreter.sharedArray,qe.VSE,-1)),Atomics.load(this.interpreter.sharedArray,qe.BUF)===Qe.AUDIO_TRACKS){const t=this.interpreter.readDataBuffer();try{this.audioTracks=JSON.parse(t)}catch(e){this.audioTracks=[]}}const r=Atomics.load(this.interpreter.sharedArray,qe.VDO),n=Atomics.load(this.interpreter.sharedArray,qe.VDX);r===this.videoFlags&&n===this.videoIndex||(this.videoFlags=r,this.videoIndex=n,this.videoFlags>=0&&(e.push(new ot(this.videoFlags,this.videoIndex)),Atomics.store(this.interpreter.sharedArray,qe.VDO,-1),Atomics.store(this.interpreter.sharedArray,qe.VDX,-1)));const i=Atomics.load(this.interpreter.sharedArray,qe.VLP);if(this.videoProgress!==i&&i>=0&&i<=1e3&&(this.videoProgress=i,e.push(new ot(Ze.LOADING,i)),1e3===i&&e.push(new ot(Ze.START_PLAY,0))),this.notificationPeriod>=1){const t=Atomics.load(this.interpreter.sharedArray,qe.VPS);Math.abs(this.videoPosition-t)>=this.notificationPeriod&&(this.videoPosition=t,e.push(new ot(Ze.POSITION,t)))}return e}setContentList=new se("setContentList",{signature:{args:[new ee("contentList",ne.Object)],returns:ne.Void},impl:(e,t)=>(this.videoPosition=0,this.contentList=t.getElements(),postMessage({videoPlaylist:this.getContent()}),Ie.Instance)});addContent=new se("addContent",{signature:{args:[new ee("contentItem",ne.Object)],returns:ne.Void},impl:(e,t)=>(this.contentList.push(t),postMessage({videoPlaylist:this.getContent()}),Ie.Instance)});clearContent=new se("clearContent",{signature:{args:[],returns:ne.Void},impl:e=>(this.videoPosition=0,this.contentList=new Array,postMessage({videoPlaylist:new Array}),Ie.Instance)});preBuffer=new se("preBuffer",{signature:{args:[],returns:ne.Boolean},impl:e=>(this.videoPosition=0,this.contentList=new Array,postMessage("video,load"),xe.True)});play=new se("play",{signature:{args:[],returns:ne.Boolean},impl:e=>(this.videoPosition=0,postMessage("video,play"),xe.True)});stop=new se("stop",{signature:{args:[],returns:ne.Boolean},impl:e=>(this.videoPosition=0,postMessage("video,stop"),xe.True)});pause=new se("pause",{signature:{args:[],returns:ne.Boolean},impl:e=>(postMessage("video,pause"),xe.True)});resume=new se("resume",{signature:{args:[],returns:ne.Boolean},impl:e=>(postMessage("video,resume"),xe.True)});setLoop=new se("setLoop",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(postMessage(`video,loop,${t.toString()}`),Ie.Instance)});setNext=new se("setNext",{signature:{args:[new ee("item",ne.Int32)],returns:ne.Void},impl:(e,t)=>(postMessage(`video,next,${t.toString()}`),Ie.Instance)});setEnableAudio=new se("setEnableAudio",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>(postMessage(`video,mute,${!t.toBoolean()}`),Ie.Instance)});seek=new se("seek",{signature:{args:[new ee("offsetMs",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.videoPosition=0,postMessage(`video,seek,${t.toString()}`),Ie.Instance)});setPositionNotificationPeriod=new se("setPositionNotificationPeriod",{signature:{args:[new ee("period",ne.Int32)],returns:ne.Void},impl:(e,t)=>(this.notificationPeriod=t.getValue(),postMessage(`video,notify,${this.notificationPeriod}`),Ie.Instance)});setCGMS=new se("setCGMS",{signature:{args:[new ee("level",ne.Int32)],returns:ne.Void},impl:(e,t)=>Ie.Instance});setDestinationRect=new se("setDestinationRect",{signature:{args:[new ee("rect",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>{const r=t.get(new Ee("x")),n=t.get(new Ee("y")),i=t.get(new Ee("w")),s=t.get(new Ee("h"));return postMessage(`video,rect,${r.getValue()},${n.getValue()},${i.getValue()},${s.getValue()}`),Ie.Instance}},{signature:{args:[new ee("x",ne.Int32),new ee("y",ne.Int32),new ee("w",ne.Int32),new ee("h",ne.Int32)],returns:ne.Void},impl:(e,t,r,n,i)=>(postMessage(`video,rect,${t.getValue()},${r.getValue()},${n.getValue()},${i.getValue()}`),Ie.Instance)});setMaxVideoDecodeResolution=new se("setMaxVideoDecodeResolution",{signature:{args:[new ee("width",ne.Int32),new ee("height",ne.Int32)],returns:ne.Void},impl:(e,t,r)=>Ie.Instance});getPlaybackDuration=new se("getPlaybackDuration",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=Atomics.load(e.sharedArray,qe.VDR);return new Y(t>0?t:0)}});getAudioTracks=new se("getAudioTracks",{signature:{args:[],returns:ne.Object},impl:e=>{const t=[];return this.audioTracks.length&&this.audioTracks.forEach(((e,r)=>{if(e instanceof Array&&3===e.length){const r={Track:e[0].toString(),Language:e[1],Name:e[2]};t.push(cg(r))}})),new he(t)}});changeAudioTrack=new se("changeAudioTrack",{signature:{args:[new ee("trackId",ne.String)],returns:ne.Void},impl:(e,t)=>(postMessage(`video,audio,${t.value}`),Ie.Instance)});setTimedMetadataForKeys=new se("setTimedMetadataForKeys",{signature:{args:[new ee("keys",ne.Dynamic)],returns:ne.Void},impl:(e,t)=>Ie.Instance});getCaptionRenderer=new se("getCaptionRenderer",{signature:{args:[],returns:ne.Object},impl:e=>Ie.Instance});setMacrovisionLevel=new se("setMacrovisionLevel",{signature:{args:[new ee("level",ne.Int32)],returns:ne.Void},impl:(e,t)=>Ie.Instance})}class fp extends p{kind=ne.Object;roList;resizable=!0;maxSize=0;constructor(){super("roXMLList"),this.roList=new me;const e=new pe(this),t=new ge(this),r=new ce(this),n=new ue(this),i=new le(this),s=new ae(this);this.registerMethods({ifXMLList:[this.getAttributes,this.getChildElements,this.getNamedElements,this.getNamedElementsCi,this.getText,this.simplify],ifList:[e.addHead,e.addTail,e.getHead,e.getTail,e.removeHead,e.removeTail,e.resetIndex,e.getIndex,e.removeIndex],ifListToArray:[t.toArray],ifArray:[r.peek,r.pop,r.push,r.shift,r.unshift,r.delete,r.count,r.clear,r.append],ifArrayGet:[n.getEntry],ifArraySet:[i.setEntry],ifEnum:[s.isEmpty,s.isNext,s.next,s.reset]})}get listIndex(){return this.roList.listIndex}toString(e){return e?"<Component: roXMLList>":["<Component: roXMLList> =","(",...this.roList.elements.map((e=>`    ${e.toString(this)}`)),")"].join("\r\n")}equalTo(e){return xe.False}getValue(){return this.roList.elements}getElements(){return this.roList.elements.slice()}getAttribute(e){if(e.kind!==ne.String)throw new Error("XML Element attribute must be strings");if(1===this.length()){let t=this.roList.elements[0];if(t instanceof dp)return t.getAttribute(e)}return Ie.Instance}get(e){switch(e.kind){case ne.Float:return this.getElements()[Math.trunc(e.getValue())]??Ie.Instance;case ne.Int32:return this.getElements()[e.getValue()]??Ie.Instance;case ne.String:return this.getMethod(e.value)??this.namedElements(e.value,!0);default:return Ie.Instance}}set(e,t){return e.kind!==ne.Int32&&e.kind!==ne.Float||(this.roList.elements[Math.trunc(e.getValue())]=t),Ie.Instance}hasNext(){return this.roList.hasNext()}getNext(){return this.roList.getNext()}resetNext(){this.roList.resetNext()}updateNext(){this.roList.updateNext()}add(e){this.roList.add(e)}remove(e){return this.roList.remove(e)}clear(){this.roList.clear()}length(){return this.roList.length()}getCurrent(){return this.roList.getCurrent()}resetCurrent(){return this.roList.resetCurrent()}tail(){return this.roList.tail()}namedElements(e,t){t&&(e=e.toLocaleLowerCase());let r=new fp,n=this.roList.elements[0];if(n instanceof dp){let i=n.childElements();for(let n=0;n<i.length();n++){const s=i.getElements()[n];let a;a=t?s.name().value.toLocaleLowerCase():s.name().value,a===e&&r.add(s)}}return r}getAttributes=new se("getAttributes",{signature:{args:[],returns:ne.Object},impl:e=>{if(1===this.length()){let e=this.roList.elements[0];if(e instanceof dp)return e.attributes()}return Ie.Instance}});getText=new se("getText",{signature:{args:[],returns:ne.String},impl:e=>{if(1===this.length()){let e=this.roList.elements[0];if(e instanceof dp)return e.text()}return new Ee("")}});getChildElements=new se("getChildElements",{signature:{args:[],returns:ne.Object},impl:e=>{if(1===this.length()){let e=this.roList.elements[0];if(e instanceof dp)return e.childElements()}return Ie.Instance}});getNamedElements=new se("getNamedElements",{signature:{args:[new ee("name",ne.String)],returns:ne.Object},impl:(e,t)=>this.namedElements(t.value,!1)});getNamedElementsCi=new se("getNamedElementsCi",{signature:{args:[new ee("name",ne.String)],returns:ne.Object},impl:(e,t)=>this.namedElements(t.value,!0)});simplify=new se("simplify",{signature:{args:[],returns:ne.Object},impl:e=>1===this.length()?this.roList.elements[0]:this})}class dp extends p{kind=ne.Object;parsedXML;constructor(){super("roXMLElement"),this.parsedXML={_root_:{}},this.registerMethods({ifXMLElement:[this.parse,this.getBody,this.getAttributes,this.getName,this.getText,this.getChildElements,this.getChildNodes,this.getNamedElements,this.getNamedElementsCi,this.genXML,this.genXMLHdr,this.isName,this.hasAttribute,this.setBody,this.addBodyElement,this.addElement,this.addElementWithBody,this.addText,this.addAttribute,this.setName,this.clear]})}toString(e){return"<Component: roXMLElement>"}equalTo(e){return xe.False}getElements(){return this.childElements().getElements()}get(e){if(e.kind!==ne.String)throw new Error("XML Element indexes must be strings");return this.getMethod(e.value)??this.namedElements(e.value,!0)}set(e,t){if(e.kind!==ne.String)throw new Error("XML Element indexes must be strings");return Ie.Instance}hasNext(){return this.childElements().hasNext()}getNext(){return this.childElements().getNext()}resetNext(){this.childElements().resetNext()}updateNext(){this.childElements().updateNext()}getAttribute(e){if(e.kind!==ne.String)throw new Error("XML Element attribute must be strings");if(this.parsedXML&&Object.keys(this.parsedXML).length>0){let t=Object.keys(this.parsedXML)[0];if(this.parsedXML[t].$){let r=this.parsedXML[t].$,n=Object.keys(r),i=Object.values(r);for(let t=0;t<n.length;t++)if(n[t].toLocaleLowerCase()===e.value.toLocaleLowerCase())return new Ee(i[t])}}return Ie.Instance}attributes(){let e=new oe([]);if(this.parsedXML&&Object.keys(this.parsedXML).length>0){let t=Object.keys(this.parsedXML)[0];if(this.parsedXML[t].$){let r=this.parsedXML[t].$,n=Object.keys(r),i=Object.values(r);for(let t=0;t<n.length;t++)e.set(new Ee(n[t]),new Ee(i[t]))}}return e}name(){let e="";return this.parsedXML&&Object.keys(this.parsedXML).length>0&&(e=Object.keys(this.parsedXML)[0],"_root_"===e&&(e="")),new Ee(e)}text(){let e="",t=Object.keys(this.parsedXML)[0];return this.parsedXML[t]._?e=this.parsedXML[t]._:"string"==typeof this.parsedXML[t]&&(e=this.parsedXML[t]),new Ee(e)}childElements(){let e=new fp;if(this.parsedXML&&Object.keys(this.parsedXML).length>0){let t=Object.keys(this.parsedXML)[0];for(let[r,n]of Object.entries(this.parsedXML[t]))"$"!==r&&"_"!==r&&n instanceof Array&&n.forEach((t=>{let n=new dp;n.parsedXML={[r]:t},e.add(n)}))}return e}childNodes(){let e=new me;if(this.parsedXML&&Object.keys(this.parsedXML).length>0){let t=Object.keys(this.parsedXML)[0];for(let[r,n]of Object.entries(this.parsedXML[t]))"$"!==r&&(n instanceof Array?n.forEach((t=>{let n=new dp;n.parsedXML={[r]:t},e.add(n)})):"string"==typeof n&&e.add(new Ee(n)))}return e}namedElements(e,t){let r=new fp;if(t&&(e=e.toLocaleLowerCase()),this.parsedXML&&Object.keys(this.parsedXML).length>0){let n=Object.keys(this.parsedXML)[0];for(let[i,s]of Object.entries(this.parsedXML[n]))(t?i.toLocaleLowerCase():i)===e&&s instanceof Array&&s.forEach((e=>{let t=new dp;t.parsedXML={[i]:e},r.add(t)}))}return r}parse=new se("parse",{signature:{args:[new ee("xml",ne.String)],returns:ne.Boolean},impl:(e,t)=>{let r,n=!1;return(new Xo.Parser).parseString(t.value,(function(t,i){let s="";t?s=`error,Error parsing XML: ${t.message}`:i?(r=i,n=!0):s="warning,Warning: Empty input was provided to parse XML.",""!==s&&e.isDevMode&&e.stderr.write(s)})),this.parsedXML=r,xe.from(n)}});getBody=new se("getBody",{signature:{args:[],returns:ne.Object},impl:e=>{let t=this.childElements();return t.length()>0?t:""!==this.text().value?this.text():Ie.Instance}});getChildElements=new se("getChildElements",{signature:{args:[],returns:ne.Object},impl:e=>{let t=this.childElements();return t.length()>0?t:Ie.Instance}});getChildNodes=new se("getChildNodes",{signature:{args:[],returns:ne.Object},impl:e=>{let t=this.childNodes();return t.length()>0?t:Ie.Instance}});getNamedElements=new se("getNamedElements",{signature:{args:[new ee("name",ne.String)],returns:ne.Object},impl:(e,t)=>this.namedElements(t.value,!1)});getNamedElementsCi=new se("getNamedElementsCi",{signature:{args:[new ee("name",ne.String)],returns:ne.Object},impl:(e,t)=>this.namedElements(t.value,!0)});getAttributes=new se("getAttributes",{signature:{args:[],returns:ne.Object},impl:e=>this.attributes()});getName=new se("getName",{signature:{args:[],returns:ne.String},impl:e=>this.name()});getText=new se("getText",{signature:{args:[],returns:ne.String},impl:e=>this.text()});isName=new se("isName",{signature:{args:[new ee("name",ne.String)],returns:ne.Boolean},impl:(e,t)=>xe.from(this.name().value===t.value)});hasAttribute=new se("hasAttribute",{signature:{args:[new ee("attr",ne.String)],returns:ne.Boolean},impl:(e,t)=>{if(Object.keys(this.parsedXML).length>0){const e=Object.keys(this.parsedXML)[0];if(this.parsedXML[e].$){const r=this.parsedXML[e].$;return xe.from(t.value in r)}}return xe.False}});setBody=new se("setBody",{signature:{args:[new ee("body",ne.String)],returns:ne.Void},impl:(e,t)=>{if(Object.keys(this.parsedXML).length>0){const e=Object.keys(this.parsedXML)[0];this.parsedXML[e]._?this.parsedXML[e]._=t.value:Object.assign(this.parsedXML[e],{_:t.value})}return Ie.Instance}});addText=new se("addText",{signature:{args:[new ee("text",ne.String)],returns:ne.Void},impl:(e,t)=>{if(Object.keys(this.parsedXML).length>0){const e=Object.keys(this.parsedXML)[0];this.parsedXML[e]._?this.parsedXML[e]._+=t.value:Object.assign(this.parsedXML[e],{_:t.value})}return Ie.Instance}});addBodyElement=new se("addBodyElement",{signature:{args:[],returns:ne.Object},impl:e=>{let t=new dp;if(Object.keys(this.parsedXML).length>0){const e=Object.keys(this.parsedXML)[0],r={child:{}};Object.assign(this.parsedXML[e],r),t.parsedXML=r}return t}});addElement=new se("addElement",{signature:{args:[new ee("name",ne.String)],returns:ne.Object},impl:(e,t)=>{let r=new dp;if(Object.keys(this.parsedXML).length>0){const e=Object.keys(this.parsedXML)[0],n={[t.value]:{}};Object.assign(this.parsedXML[e],n),r.parsedXML=n}return r}});addElementWithBody=new se("addElementWithBody",{signature:{args:[new ee("name",ne.String),new ee("body",ne.String)],returns:ne.Object},impl:(e,t,r)=>{let n=new dp;if(Object.keys(this.parsedXML).length>0){const e=Object.keys(this.parsedXML)[0],i={[t.value]:{_:r.value}};Object.assign(this.parsedXML[e],i),n.parsedXML=i}return n}});addAttribute=new se("addAttribute",{signature:{args:[new ee("attr",ne.String),new ee("value",ne.String)],returns:ne.Void},impl:(e,t,r)=>{if(Object.keys(this.parsedXML).length>0){const e=Object.keys(this.parsedXML)[0];this.parsedXML[e].$?Object.assign(this.parsedXML[e].$,{[t.value]:r.value}):Object.assign(this.parsedXML[e],{$:{[t.value]:r.value}})}return Ie.Instance}});setName=new se("setName",{signature:{args:[new ee("name",ne.String)],returns:ne.Void},impl:(e,t)=>{if(Object.keys(this.parsedXML).length>0){const e=Object.keys(this.parsedXML)[0];delete Object.assign(this.parsedXML,{[t.value]:this.parsedXML[e]})[e]}else this.parsedXML={[t.value]:{}};return Ie.Instance}});genXMLHdr=new se("genXMLHdr",{signature:{args:[new ee("header",ne.String)],returns:ne.String},impl:(e,t)=>{let r=new Xo.Builder({headless:!0,renderOpts:{pretty:!1}});return new Ee(t.value+r.buildObject(this.parsedXML))}});genXML=new se("genXML",{signature:{args:[new ee("gen_header",ne.Boolean)],returns:ne.String},impl:(e,t)=>{let r={headless:!t.toBoolean(),renderOpts:{pretty:!1},xmldec:{version:"1.0",encoding:"UTF-8"}},n=new Xo.Builder(r);return new Ee(n.buildObject(this.parsedXML))}});clear=new se("clear",{signature:{args:[],returns:ne.Void},impl:e=>(this.parsedXML={root:{}},Ie.Instance)})}var pp=__webpack_require__(8287).Buffer;class gp extends p{kind=ne.Object;customHeaders;interpreter;identity;url;host;reqMethod;failureReason;xhr;freshConnection;port;inFile;outFile;postBody;user;password;cookiesEnabled;constructor(e){super("roUrlTransfer"),this.interpreter=e,this.identity=Math.trunc(10*Math.random()*8),this.url="",this.host="",this.reqMethod="",this.failureReason="",this.xhr=new XMLHttpRequest,this.freshConnection=!1,this.cookiesEnabled=!1,this.customHeaders=new Map,this.inFile=new Array,this.outFile=new Array,this.postBody=new Array;const t=new Zf(this),r=new Yo(this),n=new Ko(this);this.registerMethods({ifUrlTransfer:[this.getIdentity,this.setUrl,this.getUrl,this.setRequest,this.getRequest,this.getToString,this.getToFile,this.asyncGetToString,this.asyncGetToFile,this.asyncCancel,this.head,this.asyncHead,this.postFromString,this.postFromFile,this.asyncPostFromString,this.asyncPostFromFile,this.asyncPostFromFileToFile,this.retainBodyOnError,this.setUserAndPassword,this.setMinimumTransferRate,this.getFailureReason,this.escape,this.unescape,this.urlEncode,this.enableEncodings,this.enableResume,this.enablePeerVerification,this.enableHostVerification,this.enableFreshConnection,this.setHttpVersion,this.getUserAgent],ifHttpAgent:[t.addHeader,t.setHeaders,t.initClientCertificates,t.setCertificatesFile,t.setCertificatesDepth,t.enableCookies,t.getCookies,t.addCookies,t.clearCookies],ifSetMessagePort:[r.setMessagePort,r.setPort],ifGetMessagePort:[n.getMessagePort,n.getPort]})}getConnection(e,t){this.freshConnection&&(this.xhr=new XMLHttpRequest);let r=""===this.reqMethod?e:this.reqMethod;return this.xhr.open(r,this.url,!1,this.user,this.password),this.xhr.responseType=t,this.customHeaders.forEach(((e,t)=>{this.xhr.setRequestHeader(t,e)})),this.xhr.withCredentials=this.cookiesEnabled,this.xhr}getToStringEvent(){let e="",t=-1,r="";try{const n=this.getConnection("GET","text");n.send(),e=n.responseText,t=n.status,r=n.getAllResponseHeaders(),this.failureReason=n.statusText}catch(e){this.interpreter.isDevMode&&this.interpreter.stderr.write(`warning,[getToStringEvent] Error getting ${this.url}: ${e.message}`),this.failureReason=e.message}return new Fe(this.identity,this.host,e??"",t??-1,this.failureReason??"Unknown error",r)}getToFileEvent(e){let t=-1,r="";try{const n=this.getConnection("GET","arraybuffer");n.send(),t=n.status,r=n.getAllResponseHeaders(),this.failureReason=n.statusText,200===n.status&&this.saveDownloadedFile(e,n.response)}catch(e){this.interpreter.isDevMode&&this.interpreter.stderr.write(`warning,[getToFileEvent] Error getting ${this.url}: ${e.message}`),this.failureReason=e.message}return new Fe(this.identity,this.host,"",t??-1,this.failureReason??"Unknown error",r)}getToFileAsync(){const e=this.outFile.shift();return e?this.getToFileEvent(e):Ie.Instance}postFromStringEvent(e){let t=-1,r="",n="";try{const i=this.getConnection("POST","text");i.send(e),r=i.responseText,t=i.status,n=i.getAllResponseHeaders(),this.failureReason=i.statusText}catch(e){this.interpreter.isDevMode&&this.interpreter.stdout.write(`warning,[postFromStringEvent] Error posting to ${this.url}: ${e.message}`),this.failureReason=e.message}return new Fe(this.identity,this.host,r??"",t??-1,this.failureReason??"Unknown error",n)}postFromStringAsync(){const e=this.postBody.shift();return e?this.postFromStringEvent(e):Ie.Instance}postFromFileToFileEvent(e,t){let r=-1,n="",i="",s="";try{const a=this.getConnection("POST","arraybuffer"),o=this.interpreter.fileSystem;if(o.existsSync(e)){const s=o.readFileSync(e);a.send(s),200===a.status&&this.saveDownloadedFile(t,a.response),n=a.responseText,r=a.status,i=a.getAllResponseHeaders(),this.failureReason=a.statusText}else s=`Invalid path: ${e}`,r=-26,this.failureReason=s}catch(e){s=e.message}return""!==s&&this.interpreter.isDevMode&&this.interpreter.stderr.write(`warning,[postFromFileToFileEvent] Error posting to ${this.url}: ${s}`),new Fe(this.identity,this.host,n??"",r??-1,this.failureReason??"Unknown error",i)}postFromFileToFileAsync(){const e=this.inFile.shift(),t=this.outFile.shift();return e&&t?this.postFromFileToFileEvent(e,t):Ie.Instance}saveDownloadedFile(e,t){const r=this.interpreter.fileSystem;if(!r)return;const n=t.slice(0,sc().minimumBytes),i=sc()(n);i&&tt.has(i.ext)?("1"===this.interpreter.manifest.get("requires_audiometadata")?r.writeFileSync(e,pp.from(t)):r.writeFileSync(e,"audio"),postMessage({audioPath:e,audioFormat:i.ext,audioData:t})):i&&rt.has(i.ext)?(r.writeFileSync(e,"video"),postMessage({videoPath:e,videoData:t})):r.writeFileSync(e,pp.from(t))}requestHead(){try{const e=this.getConnection("HEAD","text");return e.send(),this.failureReason=e.statusText,new Fe(this.identity,this.host,e.responseText,e.status,e.statusText,e.getAllResponseHeaders())}catch(e){return this.interpreter.isDevMode&&this.interpreter.stderr.write(`warning,[requestHead] Error requesting from ${this.url}: ${e.message}`),Ie.Instance}}toString(e){return"<Component: roUrlTransfer>"}equalTo(e){return xe.False}dispose(){this.port?.removeReference()}getIdentity=new se("getIdentity",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.identity)});setUrl=new se("setUrl",{signature:{args:[new ee("url",ne.String)],returns:ne.Void},impl:(e,t)=>(this.url=t.value,this.host=Le(t.value),Ie.Instance)});getUrl=new se("getUrl",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.url)});setRequest=new se("setRequest",{signature:{args:[new ee("reqMethod",ne.String)],returns:ne.Void},impl:(e,t)=>(this.reqMethod=t.value,Ie.Instance)});getRequest=new se("getRequest",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.reqMethod)});getToString=new se("getToString",{signature:{args:[],returns:ne.String},impl:e=>{const t=this.getToStringEvent();return new Ee(t.toString())}});getToFile=new se("getToFile",{signature:{args:[new ee("filePath",ne.String)],returns:ne.Int32},impl:(e,t)=>{const r=this.getToFileEvent(t.value);return new Y(r.getStatus())}});asyncGetToString=new se("asyncGetToString",{signature:{args:[],returns:ne.Boolean},impl:e=>(this.port?(this.failureReason="",this.port.pushCallback(this.getToStringEvent.bind(this))):this.interpreter.isDevMode&&this.interpreter.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),xe.True)});asyncGetToFile=new se("asyncGetToFile",{signature:{args:[new ee("filePath",ne.String)],returns:ne.Boolean},impl:(e,t)=>(this.port?(this.failureReason="",this.outFile.push(t.value),this.port.pushCallback(this.getToFileAsync.bind(this))):this.interpreter.isDevMode&&this.interpreter.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),xe.True)});asyncCancel=new se("asyncCancel",{signature:{args:[],returns:ne.Boolean},impl:e=>(this.port&&(this.failureReason="",this.outFile=[],this.postBody=[],this.port.asyncCancel()),xe.True)});head=new se("head",{signature:{args:[],returns:ne.Object},impl:e=>this.requestHead()});asyncHead=new se("asyncHead",{signature:{args:[],returns:ne.String},impl:e=>(this.port?(this.failureReason="",this.port.pushCallback(this.requestHead.bind(this))):this.interpreter.isDevMode&&this.interpreter.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),xe.True)});postFromString=new se("postFromString",{signature:{args:[new ee("request",ne.String)],returns:ne.Int32},impl:(e,t)=>{const r=this.postFromStringEvent(t.value);return new Y(r.getStatus())}});asyncPostFromString=new se("asyncPostFromString",{signature:{args:[new ee("request",ne.String)],returns:ne.Boolean},impl:(e,t)=>(this.port?(this.failureReason="",this.postBody.push(t.value),this.port.pushCallback(this.postFromStringAsync.bind(this))):this.interpreter.isDevMode&&this.interpreter.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),xe.True)});postFromFile=new se("postFromFile",{signature:{args:[new ee("filePath",ne.String)],returns:ne.Int32},impl:(e,t)=>{const r=this.interpreter.fileSystem;if(r.existsSync(t.value)){const e=r.readFileSync(t.value),n=this.postFromStringEvent(e);return new Y(n.getStatus())}return this.interpreter.isDevMode&&this.interpreter.stderr.write(`warning,[postFromFile] Invalid path: ${t.value}`),new Y(-26)}});asyncPostFromFile=new se("asyncPostFromFile",{signature:{args:[new ee("filePath",ne.String)],returns:ne.Boolean},impl:(e,t)=>{const r=this.interpreter.fileSystem;return r.existsSync(t.value)?(this.port?(this.failureReason="",this.postBody.push(r.readFileSync(t.value,"utf8")),this.port.pushCallback(this.postFromStringAsync.bind(this))):this.interpreter.isDevMode&&this.interpreter.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),xe.True):xe.False}});asyncPostFromFileToFile=new se("asyncPostFromFileToFile",{signature:{args:[new ee("fromFile",ne.String),new ee("toFile",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>this.interpreter.fileSystem.existsSync(t.value)?(this.port?(this.failureReason="",this.inFile.push(t.value),this.outFile.push(r.value),this.port.pushCallback(this.postFromFileToFileAsync.bind(this))):this.interpreter.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),xe.True):xe.False});retainBodyOnError=new se("retainBodyOnError",{signature:{args:[new ee("retain",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>xe.True});setUserAndPassword=new se("setUserAndPassword",{signature:{args:[new ee("user",ne.String),new ee("password",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>(this.user=t.value,this.password=r.value,xe.True)});setMinimumTransferRate=new se("setMinimumTransferRate",{signature:{args:[new ee("bytes_per_second",ne.Int32),new ee("period_in_seconds",ne.Int32)],returns:ne.Boolean},impl:(e,t,r)=>xe.False});getFailureReason=new se("getFailureReason",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.failureReason)});escape=new se("escape",{signature:{args:[new ee("text",ne.String)],returns:ne.String},impl:(e,t)=>new Ee(encodeURI(t.value))});urlEncode=new se("urlEncode",{signature:{args:[new ee("text",ne.String)],returns:ne.String},impl:(e,t)=>new Ee(encodeURI(t.value))});unescape=new se("unescape",{signature:{args:[new ee("text",ne.String)],returns:ne.String},impl:(e,t)=>new Ee(decodeURI(t.value))});enableEncodings=new se("enableEncodings",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>xe.True});enableResume=new se("enableResume",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>xe.False});enablePeerVerification=new se("enablePeerVerification",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>xe.False});enableHostVerification=new se("enableHostVerification",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>xe.False});enableFreshConnection=new se("enableFreshConnection",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>(this.freshConnection=t.toBoolean(),xe.True)});setHttpVersion=new se("setHttpVersion",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>Ie.Instance});getUserAgent=new se("getUserAgent",{signature:{args:[],returns:ne.String},impl:e=>{const t=st(e.deviceInfo.get("firmwareVersion")),r=`${t.get("major")}.${t.get("minor")}`,n=`${r}.${t.get("revision")}.${t.get("build")}-${t.get("plid")}`;return new Ee(`Roku/DVP-${r} (${n})`)}})}class mp extends p{kind=ne.Object;audioName;audioId;maxStreams;valid;currentIndex;playing;constructor(e,t){super("roAudioResource"),this.maxStreams=Math.min(e.deviceInfo.get("maxSimulStreams"),3)||2,this.valid=!0;const r=["select","navsingle","navmulti","deadend"],n=r.findIndex((e=>e===t.value.toLowerCase()));if(n>-1)this.audioId=n;else try{const n=e.fileSystem;if(this.valid=void 0!==n,n){const e=parseInt(n.readFileSync(t.value,"utf8"));e&&e>=0&&(this.audioId=e+r.length)}}catch(r){e.stderr.write(`error,Error loading audio file: ${t.value} - ${r.message}`),this.valid=!1}this.audioName=t.value,this.currentIndex=0,this.playing=!1,this.registerMethods({ifAudioResource:[this.trigger,this.isPlaying,this.stop,this.maxSimulStreams]})}toString(e){return"<Component: roAudioResource>"}equalTo(e){return xe.False}isValid(){return this.valid}trigger=new se("trigger",{signature:{args:[new ee("volume",ne.Int32),new ee("index",ne.Int32,new Y(0))],returns:ne.Void},impl:(e,t,r)=>(postMessage(`audio,trigger,${this.audioName},${t.toString()},${r.toString()}`),this.currentIndex=r.getValue(),this.playing=!0,Ie.Instance)});isPlaying=new se("isPlaying",{signature:{args:[],returns:ne.Boolean},impl:e=>{if(this.audioId){const t=Atomics.load(e.sharedArray,qe.WAV+this.currentIndex);this.playing=t===this.audioId}return xe.from(this.playing)}});stop=new se("stop",{signature:{args:[],returns:ne.Void},impl:e=>(postMessage(`audio,stop,${this.audioName}`),this.playing=!1,Ie.Instance)});maxSimulStreams=new se("maxSimulStreams",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.maxStreams)})}function yp(e,t){const r=new mp(e,t);return r.isValid()?r:Ie.Instance}class bp extends p{kind=ne.Object;locale;constructor(e){super("roLocalization"),this.locale=e.deviceInfo.get("locale"),this.registerMethods({ifLocalization:[this.getPluralString,this.getLocalizedAsset]})}toString(e){return"<Component: roLocalization>"}equalTo(e){return xe.False}getPluralString=new se("getPluralString",{signature:{args:[new ee("count",ne.Int32),new ee("zeroString",ne.String),new ee("oneString",ne.String),new ee("pluralString",ne.String)],returns:ne.String},impl:(e,t,r,n,i)=>{let s;switch(t.getValue()){case 0:s=r.value;break;case 1:s=n.value;break;default:s=i.value.replace("^n",t.toString())}return new Ee(s)}});getLocalizedAsset=new se("getLocalizedAsset",{signature:{args:[new ee("dirName",ne.String),new ee("fileName",ne.String)],returns:ne.String},impl:(e,t,r)=>{const n=e.fileSystem;if(!n)return new Ee("");const i=`${t.value}/${r.value}`;try{let e="";return n.existsSync(`pkg:/locale/${this.locale}/${i}`)?e=`pkg:/locale/${this.locale}/${i}`:n.existsSync(`pkg:/locale/default/${i}`)?e=`pkg:/locale/default/${i}`:n.existsSync(`pkg:/locale/en_US/${i}`)&&(e=`pkg:/locale/en_US/${i}`),new Ee(e)}catch(t){const r=`pkg:/locale/${this.locale}/${i}`;e.stderr.write(`error,Invalid path: ${r} ${t.message}`)}return new Ee("")}})}var vp=__webpack_require__(8287).Buffer;class wp extends p{kind=ne.Object;constructor(){super("roRegistry"),this.registerMethods({ifRegistry:[this.delete,this.flush,this.getSectionList,this.getSpaceAvailable]})}toString(e){return"<Component: roRegistry>"}equalTo(e){return xe.False}delete=new se("delete",{signature:{args:[new ee("section",ne.String)],returns:ne.Boolean},impl:(e,t)=>{let r=e.deviceInfo.get("developerId");return[...e.registry.keys()].forEach((n=>{let i=`${r}.${t}`;n.startsWith(i)&&e.registry.delete(n)})),xe.True}});flush=new se("flush",{signature:{args:[],returns:ne.Boolean},impl:e=>(postMessage(e.registry),xe.True)});getSectionList=new se("getSectionList",{signature:{args:[],returns:ne.Object},impl:e=>{let t=e.deviceInfo.get("developerId"),r=new Set;return[...e.registry.keys()].forEach((e=>{e.split(".")[0]===t&&r.add(e.split(".")[1])})),new me([...r].map((function(e){return new Ee(e)})))}});getSpaceAvailable=new se("getSpaceAvailable",{signature:{args:[],returns:ne.Int32},impl:e=>{const t=e.deviceInfo.get("developerId");let r=32768;return e.registry.forEach(((e,n)=>{n.split(".")[0]===t&&(r-=vp.byteLength(n.substring(t.length+1),"utf8"),r-=vp.byteLength(e,"utf8"))})),new Y(r)}})}class Sp extends p{kind=ne.Object;section;devId;constructor(e,t){super("roRegistrySection"),this.section=t.value,this.devId=e.deviceInfo.get("developerId"),this.registerMethods({ifRegistrySection:[this.read,this.readMulti,this.write,this.writeMulti,this.delete,this.exists,this.flush,this.getKeyList]})}toString(e){return"<Component: roRegistrySection>"}equalTo(e){return xe.False}getValue(){return this.section}read=new se("read",{signature:{args:[new ee("key",ne.String)],returns:ne.String},impl:(e,t)=>{let r=e.deviceInfo.get("developerId"),n=e.registry.get(`${r}.${this.section}.${t.value}`);return n||(n=""),new Ee(n)}});readMulti=new se("readMulti",{signature:{args:[new ee("keysArray",ne.Object)],returns:ne.Dynamic},impl:(e,t)=>{let r=e.deviceInfo.get("developerId"),n=t.getElements(),i=new oe([]);return n.forEach((t=>{let n=`${r}.${this.section}.${t.value}`,s=e.registry.get(n);s&&i.set(t,new Ee(s))})),i}});write=new se("write",{signature:{args:[new ee("key",ne.String),new ee("value",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>(e.registry.set(this.devId+"."+this.section+"."+t.value,r.value),xe.True)});writeMulti=new se("writeMulti",{signature:{args:[new ee("roAA",ne.Object)],returns:ne.Boolean},impl:(e,t)=>{let r=t.getElements(),n=`${this.devId}.${this.section}.`;return r.forEach((function(t,r){e.registry.set(`${n}${r}`,t.value)})),xe.True}});delete=new se("delete",{signature:{args:[new ee("key",ne.String)],returns:ne.Boolean},impl:(e,t)=>{let r=e.registry.delete(this.devId+"."+this.section+"."+t.value);return xe.from(r)}});exists=new se("exists",{signature:{args:[new ee("key",ne.String)],returns:ne.Boolean},impl:(e,t)=>xe.from(e.registry.has(this.devId+"."+this.section+"."+t.value))});flush=new se("flush",{signature:{args:[],returns:ne.Boolean},impl:e=>(postMessage(e.registry),xe.True)});getKeyList=new se("getKeyList",{signature:{args:[],returns:ne.Object},impl:e=>{let t=new Array;return[...e.registry.keys()].forEach((e=>{let r=this.devId+"."+this.section;e.startsWith(r)&&t.push(new Ee(e.slice(r.length+1)))})),new me(t)}})}class Ep extends p{kind=ne.Object;constructor(){super("roAppInfo"),this.registerMethods({ifAppInfo:[this.getId,this.isDev,this.getDevId,this.getVersion,this.getTitle,this.getSubtitle,this.getValue]})}toString(e){return"<Component: roAppInfo>"}equalTo(e){return xe.False}getId=new se("getId",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.manifest.get("id")||"dev")});isDev=new se("isDev",{signature:{args:[],returns:ne.Boolean},impl:e=>{const t=e.manifest.get("id")||"dev";return xe.from("dev"===t)}});getDevId=new se("getDevId",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("developerId"))});getVersion=new se("getVersion",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.getChannelVersion())});getTitle=new se("getTitle",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.manifest.get("title")||"No Title")});getSubtitle=new se("getSubtitle",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.manifest.get("subtitle")||"")});getValue=new se("getValue",{signature:{args:[new ee("key",ne.String)],returns:ne.String},impl:(e,t)=>{const r=e.manifest.get(t.value)||"";return new Ee(r)}})}const xp={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ip;const _p=new Uint8Array(16);function Tp(){if(!Ip&&(Ip="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ip))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ip(_p)}const kp=[];for(let e=0;e<256;++e)kp.push((e+256).toString(16).slice(1));const Ap=function(e,t,r){if(xp.randomUUID&&!t&&!e)return xp.randomUUID();const n=(e=e||{}).random||(e.rng||Tp)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return kp[e[t+0]]+kp[e[t+1]]+kp[e[t+2]]+kp[e[t+3]]+"-"+kp[e[t+4]]+kp[e[t+5]]+"-"+kp[e[t+6]]+kp[e[t+7]]+"-"+kp[e[t+8]]+kp[e[t+9]]+"-"+kp[e[t+10]]+kp[e[t+11]]+kp[e[t+12]]+kp[e[t+13]]+kp[e[t+14]]+kp[e[t+15]]}(n)};class Cp extends p{kind=ne.Object;captionsModes=["Off","On","Instant replay","When mute"];captionsOptions=["mode","text/font","text/effect","text/size","text/color","text/opacity","background/color","background/opacity","window/color","window/opacity","track","track_composite","track_analog","muted"];deviceModel;modelType;firmware;displayMode;displayModeName;displayResolution;displayAspectRatio;captionsMessageSent=!1;captionsMode;port;constructor(e){super("roDeviceInfo"),this.deviceModel=e.deviceInfo.get("deviceModel");const t=e.deviceInfo?.get("models")?.get(this.deviceModel);this.modelType=t?t[1]:"STB",this.firmware=e.deviceInfo.get("firmwareVersion"),this.displayMode=e.deviceInfo.get("displayMode")??"720p",this.displayAspectRatio="16x9",this.displayResolution={h:720,w:1280},this.displayModeName="HD",this.displayMode.startsWith("480")?(this.displayResolution={h:480,w:720},this.displayAspectRatio="4x3",this.displayModeName="SD"):this.displayMode.startsWith("1080")&&(this.displayResolution={h:1080,w:1920},this.displayModeName="FHD"),this.captionsMode=e.deviceInfo.get("captionsMode")??"Off";const r=new Yo(this,this.getNewEvents.bind(this)),n=new Ko(this);this.registerMethods({ifDeviceInfo:[this.getModel,this.getModelDisplayName,this.getModelType,this.getModelDetails,this.getFriendlyName,this.getVersion,this.getOSVersion,this.getDisplayType,this.getDisplayMode,this.getVideoMode,this.getDisplayAspectRatio,this.getDisplaySize,this.getDisplayProperties,this.getSupportedGraphicsResolutions,this.getUIResolution,this.getGraphicsPlatform,this.getSoundEffectsVolume,this.getClientTrackingId,this.getChannelClientId,this.getRIDA,this.isRIDADisabled,this.isStoreDemoMode,this.getCountryCode,this.getUserCountryCode,this.getPreferredCaptionLanguage,this.getTimeZone,this.getCurrentLocale,this.getClockFormat,this.timeSinceLastKeypress,this.hasFeature,this.getDrmInfo,this.getDrmInfoEx,this.getCaptionsMode,this.setCaptionsMode,this.getCaptionsOption,this.canDecodeAudio,this.getAudioOutputChannel,this.getAudioDecodeInfo,this.canDecodeVideo,this.isAudioGuideEnabled,this.isAutoPlayEnabled,this.getRandomUUID,this.getConnectionInfo,this.getConnectionType,this.getLinkStatus,this.getInternetStatus,this.forceInternetStatusCheck,this.getIPAddrs,this.getExternalIp,this.getGeneralMemoryLevel,this.enableLinkStatusEvent,this.enableInternetStatusEvent,this.enableCodecCapChangedEvent,this.enableAudioGuideChangedEvent,this.enableLowGeneralMemoryEvent,this.enableAppFocusEvent,this.enableScreensaverExitedEvent,this.enableValidClockEvent,this.getCreationTime,r.setMessagePort,n.getMessagePort]})}toString(e){return"<Component: roDeviceInfo>"}equalTo(e){return xe.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[];return this.captionsMessageSent||(e.push(new lt({Mode:this.captionsMode,Mute:!1})),this.captionsMessageSent=!0),e}getModel=new se("getModel",{signature:{args:[],returns:ne.Object},impl:e=>new Ee(this.deviceModel)});getModelDisplayName=new se("getModelDisplayName",{signature:{args:[],returns:ne.Object},impl:e=>{const t=this.deviceModel,r=e.deviceInfo?.get("models")?.get(t);return new Ee(r?r[0].replace(/ *\([^)]*\) */g,""):`Roku (${t})`)}});getModelType=new se("getModelType",{signature:{args:[],returns:ne.Object},impl:e=>new Ee(this.modelType)});getModelDetails=new se("getModelDetails",{signature:{args:[],returns:ne.Object},impl:e=>cg({Manufacturer:"",ModelNumber:this.deviceModel,VendorName:"Roku",VendorUSBName:"Roku",SerialNumber:e.deviceInfo?.get("serialNumber")})});getFriendlyName=new se("getFriendlyName",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("friendlyName"))});getVersion=new se("getVersion",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.firmware)});getOSVersion=new se("getOSVersion",{signature:{args:[],returns:ne.Object},impl:e=>{const t={major:"0",minor:"0",revision:"0",build:"0"};if(this.firmware?.length>0){const e=st(this.firmware);t.major=e.get("major")??"0",t.minor=e.get("minor")??"0",t.revision=e.get("revision")??"0",t.build=e.get("build")??"0"}return cg(t)}});getSoundEffectsVolume=new se("getSoundEffectsVolume",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(e.deviceInfo.get("audioVolume"))});getClientTrackingId=new se("getClientTrackingId",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("clientId"))});getChannelClientId=new se("getChannelClientId",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("clientId"))});getRIDA=new se("getRIDA",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("RIDA"))});isRIDADisabled=new se("isRIDADisabled",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.True});isStoreDemoMode=new se("isStoreDemoMode",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False});getCountryCode=new se("getCountryCode",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("countryCode"))});getUserCountryCode=new se("getUserCountryCode",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("countryCode"))});getPreferredCaptionLanguage=new se("getPreferredCaptionLanguage",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("captionLanguage"))});getTimeZone=new se("getTimeZone",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("timeZone"))});getCurrentLocale=new se("getCurrentLocale",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("locale"))});getClockFormat=new se("getClockFormat",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.deviceInfo.get("clockFormat"))});getDisplayType=new se("getDisplayType",{signature:{args:[],returns:ne.String},impl:e=>{let t="HDTV";return"SD"===this.displayModeName&&(t="4:3 standard"),new Ee(t)}});getDisplayMode=new se("getDisplayMode",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.displayMode)});getVideoMode=new se("getVideoMode",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.displayMode)});getDisplayAspectRatio=new se("getDisplayAspectRatio",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.displayAspectRatio)});getDisplaySize=new se("getDisplaySize",{signature:{args:[],returns:ne.Object},impl:e=>cg(this.displayResolution)});getDisplayProperties=new se("getDisplayProperties",{signature:{args:[],returns:ne.Object},impl:e=>{const t={ALLM:!1,DolbyVision:!1,Hdr10:!1,Hdr10Plus:!1,HdrSeamless:!1,HLG:!1,headless:!1,internal:!1,VRR:!1,height:72,width:129};return"TV"===this.modelType&&(t.internal=!0,t.visible=e.displayEnabled),cg(t)}});getSupportedGraphicsResolutions=new se("getSupportedGraphicsResolutions",{signature:{args:[],returns:ne.Object},impl:e=>{let t=[],r=this.displayModeName,n={name:"SD",height:480,width:720,preferred:!1,ui:"SD"===r};return t.push(cg(n)),n={name:"HD",height:720,width:1280,preferred:!1,ui:"HD"===r},t.push(cg(n)),n={name:"FHD",height:1080,width:1920,preferred:!0,ui:"FHD"===r},t.push(cg(n)),new he(t)}});getUIResolution=new se("getUIResolution",{signature:{args:[],returns:ne.Object},impl:e=>cg({height:this.displayResolution.h,width:this.displayResolution.w,name:this.displayModeName})});getGraphicsPlatform=new se("getGraphicsPlatform",{signature:{args:[],returns:ne.String},impl:e=>{const t=e.deviceInfo?.get("models")?.get(e.deviceInfo.get("deviceModel"));return new Ee(t?t[2]:"opengl")}});hasFeature=new se("hasFeature",{signature:{args:[new ee("feature",ne.String)],returns:ne.Boolean},impl:(e,t)=>{const r=["gaming_hardware","usb_hardware","simulation_engine"],n=e.deviceInfo.get("customFeatures");n instanceof Array&&n.length>0&&r.push(...n);const i=e.deviceInfo.get("platform");if((s=i)&&"boolean"==typeof s.inBrowser&&"boolean"==typeof s.inChromium&&"boolean"==typeof s.inFirefox&&"boolean"==typeof s.inSafari&&"boolean"==typeof s.inElectron&&"boolean"==typeof s.inAndroid&&"boolean"==typeof s.inIOS&&"boolean"==typeof s.inMacOS&&"boolean"==typeof s.inWindows&&"boolean"==typeof s.inLinux&&"boolean"==typeof s.inChromeOS)for(const[e,t]of Object.entries(i))t&&r.push(`platform_${e.slice(2).toLowerCase()}`);var s;return xe.from(r.includes(t.value.toLowerCase()))}});getDrmInfo=new se("getDrmInfo",{signature:{args:[],returns:ne.Object},impl:e=>new oe([])});getDrmInfoEx=new se("getDrmInfoEx",{signature:{args:[],returns:ne.Object},impl:e=>new oe([])});getCaptionsMode=new se("getCaptionsMode",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.captionsMode)});setCaptionsMode=new se("setCaptionsMode",{signature:{args:[new ee("mode",ne.String)],returns:ne.Boolean},impl:(e,t)=>{if(this.captionsModes.includes(t.value)){if("When mute"===t.value&&"TV"!==this.modelType)return xe.False;this.captionsMode=t.value,this.port?.pushMessage(new lt({Mode:t.value,Mute:!1})),postMessage({captionsMode:this.captionsMode})}return xe.True}});getCaptionsOption=new se("getCaptionsOption",{signature:{args:[new ee("option",ne.String)],returns:ne.String},impl:(e,t)=>{const r=t.value.toLowerCase();return this.captionsOptions.includes(r)?new Ee("mode"===r?this.captionsMode:"muted"===r?"Unmuted":"Default"):new Ee("")}});canDecodeAudio=new se("canDecodeAudio",{signature:{args:[new ee("options",ne.Dynamic)],returns:ne.Object},impl:(e,t)=>{if(t instanceof oe){const r={},n=e.deviceInfo.get("audioCodecs"),i=t.get(new Ee("codec"));return i instanceof Ee&&n?.includes(i.value.toLowerCase())?r.result=!0:(r.result=!1,n&&(r.updated="codec",r.codec=new he(n.map((e=>new Ee(e)))))),cg(r)}return Ie.Instance}});getAudioOutputChannel=new se("getAudioOutputChannel",{signature:{args:[],returns:ne.String},impl:e=>new Ee("Stereo")});getAudioDecodeInfo=new se("getAudioDecodeInfo",{signature:{args:[],returns:ne.Object},impl:e=>new oe([])});canDecodeVideo=new se("canDecodeVideo",{signature:{args:[new ee("options",ne.Dynamic)],returns:ne.Object},impl:(e,t)=>{if(t instanceof oe){const r=e.deviceInfo.get("videoFormats"),n=r?.get("codecs")??[],i=r?.get("containers")??[],s=t.get(new Ee("codec")),a=t.get(new Ee("container")),o={};let c=!0,u="";return s instanceof Ee&&!n.includes(s.value.toLowerCase())&&(c=!1,u="codec"),c&&a instanceof Ee&&!i.includes(a.value.toLowerCase())&&(c=!1,u="container"),c||(o.updated=u,o.updated="codec"===u?new he(n.map((e=>new Ee(e)))):"n.a."),o.result=c,cg(o)}return Ie.Instance}});enableCodecCapChangedEvent=new se("enableCodecCapChangedEvent",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>xe.False});isAudioGuideEnabled=new se("isAudioGuideEnabled",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False});enableAudioGuideChangedEvent=new se("enableAudioGuideChangedEvent",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Dynamic},impl:(e,t)=>xe.False});isAutoPlayEnabled=new se("isAutoPlayEnabled",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False});timeSinceLastKeypress=new se("timeSinceLastKeypress",{signature:{args:[],returns:ne.Int32},impl:e=>new Y((Date.now()-e.lastKeyTime)/1e3)});getRandomUUID=new se("getRandomUUID",{signature:{args:[],returns:ne.String},impl:e=>new Ee(Ap())});getConnectionType=new se("getConnectionType",{signature:{args:[],returns:ne.String},impl:e=>{const t=e.deviceInfo.get("connectionInfo");return new Ee(t.type)}});getConnectionInfo=new se("getConnectionInfo",{signature:{args:[],returns:ne.String},impl:e=>{const t=e.deviceInfo.get("connectionInfo"),r={active:1,default:1,type:t.type,name:t.name,gateway:t.gateway,quality:t.quality};"WiFiConnection"===t.type&&t.ssid&&(r.ssid=t.ssid,r.protocol="IEEE 802.11g",r.signal=-140);const n=e.deviceInfo.get("localIps");return n.length>0&&n.some((e=>e.split(",")[0]===t.name&&(r.ip=e.split(",")[1],!0))),r.ipv6=new he([]),t.dns?.forEach(((e,t)=>{r[`dns.${t}`]=e})),r.mac="00:00:00:00:00:00",r.expectedThroughput=129,cg(r)}});getLinkStatus=new se("getLinkStatus",{signature:{args:[],returns:ne.Boolean},impl:e=>{let t=!0;return"object"==typeof navigator&&"boolean"==typeof navigator.onLine&&(t=navigator.onLine),xe.from(t)}});enableLinkStatusEvent=new se("enableLinkStatusEvent",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>xe.False});getInternetStatus=new se("getInternetStatus",{signature:{args:[],returns:ne.Boolean},impl:e=>{let t=!0;return"object"==typeof navigator&&"boolean"==typeof navigator.onLine&&(t=navigator.onLine),xe.from(t)}});enableInternetStatusEvent=new se("enableInternetStatusEvent",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>xe.False});forceInternetStatusCheck=new se("forceInternetStatusCheck",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.True});getIPAddrs=new se("getIPAddrs",{signature:{args:[],returns:ne.Object},impl:e=>{const t=e.deviceInfo.get("localIps"),r={};return t.forEach((function(e){r[e.split(",")[0]]=e.split(",")[1]})),cg(r)}});getExternalIp=new se("getExternalIp",{signature:{args:[],returns:ne.String},impl:e=>{let t="";try{t=Me()}catch(t){e.isDevMode&&e.stderr.write(`warning,${t.message}`)}return new Ee(t)}});getGeneralMemoryLevel=new se("getGeneralMemoryLevel",{signature:{args:[],returns:ne.String},impl:e=>{const{heapSizeLimit:t,usedHeapSize:r}=e.getMemoryHeapInfo(),n=r/t*100;let i="normal";return n>90?i="critical":n>80&&(i="low"),new Ee(i)}});enableLowGeneralMemoryEvent=new se("enableLowGeneralMemoryEvent",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>xe.False});enableAppFocusEvent=new se("enableAppFocusEvent",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Dynamic},impl:(e,t)=>xe.False});enableScreensaverExitedEvent=new se("enableScreensaverExitedEvent",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Dynamic},impl:(e,t)=>xe.False});enableValidClockEvent=new se("enableValidClockEvent",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Dynamic},impl:(e,t)=>xe.False});getCreationTime=new se("getCreationTime",{signature:{args:[],returns:ne.String},impl:e=>new Ee(e.creationTime??"")})}class Mp extends p{kind=ne.Object;constructor(){super("roRemoteInfo"),this.registerMethods({ifRemoteInfo:[this.getModel,this.isAwake,this.hasFeature]})}toString(e){return"<Component: roRemoteInfo>"}equalTo(e){return xe.False}getModel=new se("getModel",{signature:{args:[new ee("remoteIndex",ne.Int32)],returns:ne.Int32},impl:(e,t)=>{const r=Rp(e,t.getValue());return new Y(r.model)}});isAwake=new se("isAwake",{signature:{args:[new ee("remoteIndex",ne.Int32)],returns:ne.Boolean},impl:(e,t)=>{const r=Rp(e,t.getValue());return xe.from(r.model>0)}});hasFeature=new se("hasFeature",{signature:{args:[new ee("feature",ne.String),new ee("remoteIndex",ne.Int32)],returns:ne.Boolean},impl:(e,t,r)=>{const n=["muteswitch"],i=Rp(e,r.getValue());return i.features.length&&n.push(...i.features),xe.from(n.includes(t.value.toLowerCase()))}})}function Rp(e,t){const r=e.deviceInfo.get("remoteControls");return r instanceof Array&&r.length&&t<r.length?(t<0&&(t=e.lastRemote),r[t]):{model:0,features:["wifi"]}}var Op=__webpack_require__(360);class Dp extends p{kind=ne.Object;port;constructor(){super("roFileSystem");const e=new Yo(this),t=new Ko(this);this.registerMethods({ifFileSystem:[this.getVolumeList,this.getVolumeInfo,this.getDirectoryListing,this.createDirectory,this.delete,this.copyFile,this.rename,this.find,this.findRecurse,this.match,this.exists,this.stat],ifSetMessagePort:[e.setMessagePort],ifGetMessagePort:[t.getMessagePort]})}toString(e){return"<Component: roFileSystem>"}equalTo(e){return xe.False}findOnTree(e,t,r){try{let n=e.readdirSync(r),i=[];return n.forEach((n=>{if(t.test(n)){i.push(new Ee(n));let s=Te.posix.join(r,n);e.statSync(s).isDirectory()&&(i=i.concat(this.findOnTree(e,t,s)))}})),i}catch(e){return[]}}getVolumeList=new se("getVolumeList",{signature:{args:[],returns:ne.Object},impl:e=>{try{const t=e.fileSystem.volumesSync().map((e=>new Ee(e)));return new me(t)}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.getVolumeList: ${t.message}`),new me([])}}});getVolumeInfo=new se("getVolumeInfo",{signature:{args:[new ee("path",ne.String)],returns:ne.Object},impl:(e,t)=>{let r={};return e.fileSystem.existsSync(t.value)&&(r={blocks:0,blocksize:0,freeblocks:0,usedblocks:0}),cg(r)}});getDirectoryListing=new se("getDirectoryListing",{signature:{args:[new ee("path",ne.String)],returns:ne.Object},impl:(e,t)=>{const r=e.fileSystem;try{if(uo(t.value)&&r.existsSync(t.value)){const e=r.readdirSync(t.value).map((e=>new Ee(e)));return new me(e)}}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.getDirectoryListing: ${t.message}`),new me([])}return new me([])}});createDirectory=new se("createDirectory",{signature:{args:[new ee("path",ne.String)],returns:ne.Boolean},impl:(e,t)=>{try{const r=e.fileSystem;return lo(t.value)?(r.mkdirSync(t.value),xe.True):xe.False}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.createDirectory: ${t.message}`),xe.False}}});delete=new se("delete",{signature:{args:[new ee("path",ne.String)],returns:ne.Boolean},impl:(e,t)=>{const r=e.fileSystem;try{return lo(t.value)?(r.statSync(t.value).isDirectory()?r.rmdirSync(t.value):r.unlinkSync(t.value),xe.True):xe.False}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.delete: ${t.message}`),xe.False}}});copyFile=new se("copyFile",{signature:{args:[new ee("fromPath",ne.String),new ee("toPath",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>{const n=e.fileSystem;try{if(!lo(r.value)||!n.existsSync(t.value))return xe.False;const e=n.readFileSync(t.value);return n.writeFileSync(r.value,e),xe.True}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.copyFile: ${t.message}`),xe.False}}});rename=new se("rename",{signature:{args:[new ee("fromPath",ne.String),new ee("toPath",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>{const n=e.fileSystem;try{return lo(t.value)&&lo(r.value)&&co(t.value)===co(r.value)&&n.existsSync(t.value)?(n.renameSync(t.value,r.value),xe.True):xe.False}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.rename: ${t.message}`),xe.False}}});exists=new se("exists",{signature:{args:[new ee("path",ne.String)],returns:ne.Boolean},impl:(e,t)=>{try{const r=e.fileSystem;return xe.from(r.existsSync(t.value))}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.exists: ${t.message}`),xe.False}}});find=new se("find",{signature:{args:[new ee("path",ne.String),new ee("regEx",ne.String)],returns:ne.Object},impl:(e,t,r)=>{const n=new RegExp(r.value);try{const r=e.fileSystem;if(!uo(t.value))return new me([]);let i=r.readdirSync(t.value),s=[];return i.forEach((e=>{n.test(e)&&s.push(new Ee(e))})),new me(s)}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.find: ${t.message}`),new me([])}}});findRecurse=new se("findRecurse",{signature:{args:[new ee("path",ne.String),new ee("regEx",ne.String)],returns:ne.Object},impl:(e,t,r)=>{const n=new RegExp(r.value);try{const r=e.fileSystem;return uo(t.value)?new me(this.findOnTree(r,n,t.value)):new me([])}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.findRecurse: ${t.message}`),new me([])}}});match=new se("match",{signature:{args:[new ee("path",ne.String),new ee("pattern",ne.String)],returns:ne.Object},impl:(e,t,r)=>{try{if(!uo(t.value))return new me([]);let n=e.fileSystem.readdirSync(t.value),i=Op.match(n,r.value,{nocase:!0,nodupes:!0,noglobstar:!0,nonegate:!0});return i=(i||[]).map((e=>new Ee(e))),new me(i)}catch(t){return e.isDevMode&&e.stderr.write(`warning,roFileSystem.match: ${t.message}`),new me([])}}});stat=new se("stat",{signature:{args:[new ee("path",ne.String)],returns:ne.Object},impl:(e,t)=>{const r={},n=t.value;try{if(!uo(n))return cg(r);const t=e.fileSystem.statSync(n);if(r.hidden=!1,t.isFile()){const t=e.fileSystem.readFileSync(n);r.size="number"==typeof t.length?t.length:0,r.type="file"}else r.type="directory";const i=n.startsWith("tmp:")||n.startsWith("cachefs:")?"rw":"r";r.permissions=i}catch(t){e.isDevMode&&e.stderr.write(`warning,roFileSystem.stat: ${t.message}`)}return cg(r)}})}class Pp extends p{kind=ne.Object;intrinsic;getValue(){return this.intrinsic}constructor(e){super("roFunction"),this.intrinsic=e??new se(void 0),this.registerMethods({ifFunction:[this.getSub,this.setSub],ifToStr:[new V(this,/[<>]/g).toStr]})}unbox(){return this.intrinsic}equalTo(e){return xe.False}toString(e){return this.intrinsic.toString()}getSub=new se("getSub",{signature:{args:[],returns:ne.Callable},impl:e=>this.intrinsic});setSub=new se("setSub",{signature:{args:[new ee("value",ne.Callable)],returns:ne.Void},impl:(e,t)=>(this.intrinsic=t,Ie.Instance)})}class Lp extends p{kind=ne.Object;constructor(){super("roNDK"),this.registerMethods({ifNDK:[this.start]})}toString(e){return"<Component: roNDK>"}equalTo(e){return xe.False}start=new se("start",{signature:{args:[new ee("app",ne.String),new ee("params",ne.Object,new he([])),new ee("env",ne.Object,new he([]))],returns:ne.Int32},impl:(e,t,r,n)=>{const i=r.elements.filter((e=>Jp(e))),s=n.elements.filter((e=>Jp(e)));if("roku_browser"===t.value||"SDKLauncher"===t.value){const e={app:t.value,params:i.map((e=>e.toString())),env:s.map((e=>e.toString()))};return e.params.push("source=other-channel"),postMessage(e),new Y(0)}return new Y(211)}})}class Fp extends p{kind=ne.Object;interpreter;port;active;constructor(e){super("roCECStatus"),this.interpreter=e,this.active=1;const t=new Yo(this,this.getNewEvents.bind(this)),r=new Ko(this);this.registerMethods({ifCECStatus:[this.isActiveSource,t.setMessagePort,r.getMessagePort]})}toString(e){return"<Component: roCECStatus>"}equalTo(e){return xe.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[],t=Atomics.load(this.interpreter.sharedArray,qe.CEC);return t>=0&&t!==this.active&&(this.active=t,e.push(new ht(0!==this.active))),e}isActiveSource=new se("isActiveSource",{signature:{args:[],returns:ne.Boolean},impl:e=>{const t=Atomics.load(e.sharedArray,qe.CEC);return xe.from(0!==t)}})}class Np extends p{kind=ne.Object;interpreter;hostName;hostIP;port;valid;constructor(e){super("roSocketAddress"),this.interpreter=e,this.hostName="0.0.0.0",this.hostIP="0.0.0.0",this.port=0,this.valid=!0,this.registerMethods({ifSocketAddress:[this.setAddress,this.getAddress,this.setHostName,this.getHostName,this.setPort,this.getPort,this.isAddressValid]})}validateAddress(e){let t=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d{1,5}))?$/.exec(e);if(t)return this.hostName=t[1],this.hostIP=t[1],this.port=t[2]?this.safeParsePort(t[2]):this.port,De(this.hostName);const r=e.split(":");if(r.length>1?(this.hostName=r[0],this.port=this.safeParsePort(r[1])):this.hostName=e,""===this.hostName.trim())return!1;try{const e=Oe(this.hostName);if(e&&De(e))return this.hostIP=e,!0}catch(e){this.interpreter.isDevMode&&this.interpreter.stderr.write(`warning,${e.message}`)}return!1}safeParsePort(e){const t=parseInt(e,10);return Bp(isNaN(t)?0:t)}toString(e){return"<Component: roSocketAddress>"}equalTo(e){return xe.False}setAddress=new se("setAddress",{signature:{args:[new ee("address",ne.String)],returns:ne.Boolean},impl:(e,t)=>(this.valid=this.validateAddress(t.value),xe.True)});getAddress=new se("getAddress",{signature:{args:[],returns:ne.String},impl:e=>(this.valid||this.interpreter.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roSocketAddress.getAddress: Domain name not found: ${this.hostName}: ${this.interpreter.formatLocation()}`),new Ee(this.valid?`${this.hostIP}:${this.port}`:""))});setHostName=new se("setHostName",{signature:{args:[new ee("hostname",ne.String)],returns:ne.Boolean},impl:(e,t)=>{if(Pe(t.value)){const e=`${t.value}:${this.port}`;this.valid=this.validateAddress(e)}else this.hostName=t.value,this.valid=!1;return xe.True}});getHostName=new se("getHostName",{signature:{args:[],returns:ne.String},impl:e=>new Ee(this.hostName)});setPort=new se("setPort",{signature:{args:[new ee("port",ne.Int32)],returns:ne.Boolean},impl:(e,t)=>(this.port=Bp(t.getValue()),xe.True)});getPort=new se("getPort",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.port)});isAddressValid=new se("isAddressValid",{signature:{args:[],returns:ne.Boolean},impl:e=>(this.valid||this.interpreter.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roSocketAddress.isAddressValid: Domain name not found: ${this.hostName}: ${this.interpreter.formatLocation()}`),xe.from(this.valid))})}function Bp(e){return(e%=65536)<0&&(e+=65536),e>>>0}var Up=__webpack_require__(8287).Buffer;class jp{component;constructor(e){this.component=e}send=new se("send",{signature:{args:[new ee("data",ne.Object),new ee("startIndex",ne.Int32),new ee("length",ne.Int32)],returns:ne.Int32},impl:(e,t,r,n)=>{try{const e=this.component.socket?.write(t.getByteArray());return new Y(e?t.getElements().length:0)}catch(e){return this.component.errorCode=e.code,new Y(0)}}});sendStr=new se("sendStr",{signature:{args:[new ee("data",ne.String)],returns:ne.Int32},impl:(e,t)=>{try{const e=this.component.socket?.write(t.value);return new Y(e?t.value.length:0)}catch(e){return this.component.errorCode=e.code??3474,new Y(0)}}});receive=new se("receive",{signature:{args:[new ee("data",ne.Object),new ee("startIndex",ne.Int32),new ee("length",ne.Int32)],returns:ne.Int32},impl:(e,t,r,n)=>{let i=Up.alloc(n.getValue());try{return i=this.component.socket?.read(n.getValue())??Up.alloc(0),new Y(i.length)}catch(e){return this.component.errorCode=e.code??3474,new Y(0)}}});receiveStr=new se("receiveStr",{signature:{args:[new ee("length",ne.Int32)],returns:ne.Int32},impl:(e,t)=>{try{const e=this.component.socket?.read(t.getValue())??"";return new Y(e.length)}catch(e){return this.component.errorCode=e.code??3474,new Y(0)}}});close=new se("close",{signature:{args:[],returns:ne.Void},impl:e=>(this.component.socket?.end(),_e.Instance)});setAddress=new se("setAddress",{signature:{args:[new ee("sockAddr",ne.Object)],returns:ne.Boolean},impl:(e,t)=>(this.component.address=t,xe.True)});getAddress=new se("getAddress",{signature:{args:[],returns:ne.Object},impl:e=>this.component.address??Ie.Instance});setSendToAddress=new se("setSendToAddress",{signature:{args:[new ee("sockAddr",ne.Object)],returns:ne.Void},impl:(e,t)=>(this.component.sendToAddress=t,Ie.Instance)});getSendToAddress=new se("getSendToAddress",{signature:{args:[],returns:ne.Object},impl:e=>this.component.sendToAddress??Ie.Instance});getReceivedFromAddress=new se("getReceivedFromAddress",{signature:{args:[],returns:ne.Object},impl:e=>Ie.Instance});getCountRcvBuf=new se("getCountRcvBuf",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(0)});getCountSendBuf=new se("getCountSendBuf",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(0)});status=new se("status",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.errorCode)})}class Vp{component;constructor(e){this.component=e}isReadable=new se("isReadable",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.component.socket?.readable??!1)});isWritable=new se("isWritable",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.component.socket?.writable??!1)});isException=new se("isException",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False});notifyReadable=new se("notifyReadable",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>_e.Instance});notifyWritable=new se("notifyWritable",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>_e.Instance});notifyException=new se("notifyException",{signature:{args:[new ee("enable",ne.Boolean)],returns:ne.Void},impl:(e,t)=>_e.Instance});getID=new se("getID",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.identity)})}class Gp{component;constructor(e){this.component=e}eAgain=new se("eAgain",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(11===this.component.errorCode)});eAlready=new se("eAlready",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(114===this.component.errorCode)});eBadAddr=new se("eBadAddr",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(14===this.component.errorCode)});eDestAddrReq=new se("eDestAddrReq",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(39===this.component.errorCode)});eHostUnreach=new se("eHostUnreach",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(65===this.component.errorCode)});eInvalid=new se("eInvalid",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(22===this.component.errorCode)});eInProgress=new se("eInProgress",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(36===this.component.errorCode)});eWouldBlock=new se("eWouldBlock",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(35===this.component.errorCode)});eSuccess=new se("eSuccess",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(0===this.component.errorCode)});eOK=new se("eOK",{signature:{args:[],returns:ne.Int32},impl:e=>xe.from(0===this.component.errorCode)})}class zp{component;constructor(e){this.component=e}getTTL=new se("getTTL",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.ttl)});setTTL=new se("setTTL",{signature:{args:[new ee("ttl",ne.Int32)],returns:ne.Boolean},impl:(e,t)=>(this.component.ttl=t.getValue(),xe.True)});getReuseAddr=new se("getMulticastLoop",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.component.reuseAddr)});setReuseAddr=new se("setReuseAddr",{signature:{args:[new ee("reuse",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>(this.component.reuseAddr=t.toBoolean(),xe.True)});getOOBInline=new se("setOOBInline",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.from(this.component.inline)});setOOBInline=new se("setOOBInline",{signature:{args:[new ee("inline",ne.Boolean)],returns:ne.Boolean},impl:(e,t)=>(this.component.inline=t.toBoolean(),xe.True)});getSendBuf=new se("getSendBuf",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.sendBufferSize)});setSendBuf=new se("setSendBuf",{signature:{args:[new ee("size",ne.Int32)],returns:ne.Boolean},impl:(e,t)=>(this.component.sendBufferSize=t.getValue(),xe.True)});getRcvBuf=new se("getRcvBuf",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.recvBufferSize)});setRcvBuf=new se("setRcvBuf",{signature:{args:[new ee("size",ne.Int32)],returns:ne.Boolean},impl:(e,t)=>(this.component.recvBufferSize=t.getValue(),xe.True)});getSendTimeout=new se("getSendTimeout",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.sendTimeout)});setSendTimeout=new se("setSendTimeout",{signature:{args:[new ee("timeout",ne.Int32)],returns:ne.Boolean},impl:(e,t)=>(this.component.sendTimeout=t.getValue(),xe.True)});getReceiveTimeout=new se("getReceiveTimeout",{signature:{args:[],returns:ne.Int32},impl:e=>new Y(this.component.recvTimeout)});setReceiveTimeout=new se("setReceiveTimeout",{signature:{args:[new ee("timeout",ne.Int32)],returns:ne.Boolean},impl:(e,t)=>(this.component.recvTimeout=t.getValue(),xe.True)})}var Wp=__webpack_require__(3893);class qp extends p{kind=ne.Object;socket;identity;interpreter;address;sendToAddress;ttl;reuseAddr;inline;sendBufferSize;recvBufferSize;sendTimeout;recvTimeout;errorCode;constructor(e){super("roStreamSocket"),this.interpreter=e,this.ttl=0,this.reuseAddr=!1,this.inline=!1,this.sendBufferSize=0,this.recvBufferSize=0,this.sendTimeout=0,this.recvTimeout=0;try{this.socket=new Wp.Socket,this.errorCode=0}catch(t){e.stderr.write("warning,[roStreamSocket] Sockets are not supported in this environment."),this.errorCode=3474}this.identity=Math.floor(9e7*Math.random())+1e7;const t=new jp(this),r=new Vp(this),n=new Gp(this),i=new zp(this),s=new Yo(this),a=new Ko(this);this.registerMethods({ifSocketConnection:[this.listen,this.isListening,this.connect,this.accept,this.isConnected],ifSocket:[t.send,t.sendStr,t.receive,t.receiveStr,t.close,t.setAddress,t.getAddress,t.setSendToAddress,t.getSendToAddress,t.getReceivedFromAddress,t.getCountRcvBuf,t.getCountSendBuf,t.status],ifSocketAsync:[r.isReadable,r.isWritable,r.isException,r.notifyReadable,r.notifyWritable,r.notifyException,r.getID],ifSocketStatus:[n.eAgain,n.eAlready,n.eBadAddr,n.eDestAddrReq,n.eHostUnreach,n.eInvalid,n.eInProgress,n.eWouldBlock,n.eSuccess,n.eOK],ifSocketOption:[i.getTTL,i.setTTL,i.getReuseAddr,i.setReuseAddr,i.getOOBInline,i.setOOBInline,i.getSendBuf,i.setSendBuf,i.getRcvBuf,i.setRcvBuf,i.getSendTimeout,i.setSendTimeout,i.getReceiveTimeout,i.setReceiveTimeout],ifSetMessagePort:[s.setMessagePort],ifGetMessagePort:[a.getMessagePort]})}toString(e){return"<Component: roStreamSocket>"}equalTo(e){return xe.False}listen=new se("listen",{signature:{args:[new ee("backlog",ne.Int32)],returns:ne.Boolean},impl:(e,t)=>xe.True});isListening=new se("isListening",{signature:{args:[],returns:ne.Boolean},impl:e=>xe.False});connect=new se("connect",{signature:{args:[new ee("address",ne.Object)],returns:ne.Boolean},impl:(e,t)=>(this.address=t,xe.True)});accept=new se("accept",{signature:{args:[],returns:ne.Object},impl:e=>Ie.Instance});isConnected=new se("isConnected",{signature:{args:[],returns:ne.Boolean},impl:e=>{const t=!this.socket?.connecting&&!this.socket?.destroyed;return xe.from(t)}})}class $p extends p{kind=ne.Object;interpreter;modelType;displayMode;port;active;constructor(e){super("roHdmiStatus"),this.interpreter=e,this.active=1;const t=e.deviceInfo.get("deviceModel"),r=e.deviceInfo?.get("models")?.get(t);this.modelType=r?r[1]:"STB",this.displayMode=e.deviceInfo.get("displayMode")??"720p";const n=new Yo(this,this.getNewEvents.bind(this)),i=new Ko(this);this.registerMethods({ifHdmiStatus:[this.isConnected,this.getHdcpVersion,this.isHdcpActive,n.setMessagePort,i.getMessagePort]})}toString(e){return"<Component: roHdmiStatus>"}equalTo(e){return xe.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[],t=Atomics.load(this.interpreter.sharedArray,qe.HDMI);return t>=0&&t!==this.active&&(this.active=t,e.push(new ft(0!==this.active))),e}isConnected=new se("isConnected",{signature:{args:[],returns:ne.Boolean},impl:e=>{if("TV"===this.modelType)return xe.False;const t=Atomics.load(e.sharedArray,qe.HDMI);return xe.from(0!==t)}});getHdcpVersion=new se("getHdcpVersion",{signature:{args:[],returns:ne.String},impl:e=>{const t="1080p"===this.displayMode?"2.2":"1.4";return new Ee(t)}});isHdcpActive=new se("isHdcpActive",{signature:{args:[new ee("version",ne.String)],returns:ne.Boolean},impl:(e,t)=>xe.from(["1.4","2.2"].includes(t.value))})}const Hp=new class{map=new Map;constructor(e){e.forEach((([e,t,r])=>this.set(e,t,r)))}get(e){const t=this.map.get(e.toLowerCase());return t?t.value:void 0}set(e,t,r){return this.map.set(e.toLowerCase(),{originalKey:e,value:t,params:r??0})}has(e){return this.map.has(e.toLowerCase())}delete(e){return this.map.delete(e.toLowerCase())}clear(){return this.map.clear()}values(){return Array.from(this.map.values()).map((e=>e.value))}keys(){return Array.from(this.map.values()).map((e=>e.originalKey))}params(e){const t=this.map.get(e.toLowerCase());return t?t.params:-1}}([["roAppManager",e=>new $o],["roAssociativeArray",e=>new oe([])],["roArray",(e,t,r)=>new he(t,r),2],["roByteArray",e=>new To],["roEVPCipher",e=>new Co],["roEVPDigest",e=>new Ro],["roHMAC",e=>new Do],["roDeviceCrypto",e=>new Lo(e)],["roChannelStore",e=>new Zo],["roDateTime",e=>new Go],["roList",e=>new me],["roTimespan",e=>new qo],["roRegex",(e,t,r)=>new Qo(t,r),2],["roString",e=>new ye,-1],["roBoolean",(e,t)=>new be(t),-1],["roDouble",(e,t)=>new W(t),-1],["roFloat",(e,t)=>new $(t),-1],["roInt",(e,t)=>new X(t),-1],["roLongInteger",(e,t)=>new G(t),-1],["roFunction",(e,t)=>new Pp(t)],["roPath",(e,t)=>new Ae(t),1],["roBitmap",(e,t)=>pc(e,t),1],["roTextureRequest",(e,t)=>new id(t),1],["roTextureManager",e=>ed(e)],["roImageMetadata",e=>new sp],["roMessagePort",e=>new ec],["roInput",e=>new tc(e)],["roSystemLog",e=>new rc(e)],["roFileSystem",e=>new Dp],["roLocalization",e=>new bp(e)],["roFontRegistry",e=>new Xf(e)],["roRegistry",e=>new wp],["roRegistrySection",(e,t)=>new Sp(e,t),1],["roAppInfo",e=>new Ep],["roDeviceInfo",e=>new Cp(e)],["roRemoteInfo",e=>new Mp],["roAppMemoryMonitor",e=>new Jo],["roAudioPlayer",e=>new lp(e)],["roAudioResource",(e,t)=>yp(e,t),1],["roAudioMetadata",e=>new up],["roVideoPlayer",e=>new hp(e)],["roCompositor",e=>new bc],["roRegion",(e,t,r,n,i,s)=>mc(t,r,n,i,s),5],["roScreen",(e,t,r,n)=>Kf(e,t,r,n),-2],["roXMLElement",e=>new dp],["roURLTransfer",e=>new gp(e)],["roInvalid",e=>new ve,-1],["roNDK",e=>new Lp],["roCECStatus",e=>new Fp(e)],["roHdmiStatus",e=>new $p(e)],["roSocketAddress",e=>new Np(e)],["roStreamSocket",e=>new qp(e)]]);function Xp(e){return Kp.has(e?.kind)}function Yp(e){return Kp.has(e)}const Kp=new Set([ne.Int32,ne.Float,ne.Double,ne.Int64]),Zp=new Set([ne.Uninitialized,ne.Invalid,ne.Boolean,...Kp,ne.String,ne.Callable]);function Jp(e){return e?.kind===ne.String||e instanceof ye}function Qp(e){return e?.kind===ne.Boolean}function eg(e){return e?.kind===ne.Callable}function tg(e){return"get"in e&&"getElements"in e&&"set"in e&&"hasNext"in e&&"getNext"in e&&"resetNext"in e}function rg(e){return Xp(e)||ig(e)||e instanceof Ne}function ng(e){return Jp(e)||e instanceof Ae||e instanceof Fe}function ig(e){return e instanceof X||e instanceof $||e instanceof W||e instanceof G}function sg(e){return e instanceof Fe||e instanceof Ne||e instanceof Be||e instanceof Ue||e instanceof at||e instanceof ot||e instanceof ct||e instanceof ut||e instanceof lt||e instanceof ht||e instanceof ft}function ag(e){return Qp(e)||Jp(e)||Xp(e)||e===Ie.Instance||e instanceof p||e instanceof d||e instanceof se||e instanceof _e}const og=["YYYY-MM-DDTHH:mm:ss.SSS[Z]","YYYY-MM-DDTHH:mm:ss.SSS","YYYY-MM-DDTHH:mm:ss[Z]","YYYY-MM-DDTHH:mm:ss","YYYY-MM-DDTHH:mm[Z]","YYYY-MM-DDTHH:mm","YYYY-MM-DDTHH[Z]","YYYY-MM-DDTHH","YYYY-MM-DDT","YYYY-MM-DD[Z]","YYYY-MM-DD","YYYY-MM[Z]","YYYY-MM","YYYY[Z]","YYYY"];function cg(e){const t=new oe([]);if(e instanceof Map)e.forEach(((e,r)=>{t.set(new Ee(r),ug(e),!0)}));else{if("object"!=typeof e||null===e)throw new Error("Unsupported input type: "+typeof e);for(const r in e)e.hasOwnProperty(r)&&t.set(new Ee(r),ug(e[r]),!0)}return t}function ug(e){if(null==e||Number.isNaN(e))return Ie.Instance;const t=2147483648,r=typeof e;switch(r){case"boolean":return xe.from(e);case"string":return new Ee(e);case"number":return Number.isInteger(e)?e>=-t&&e<t?new Y(e):new z(e):e>=-34e37&&e<=34e37?new H(e):new q(e);case"object":return ag(e)?e:Array.isArray(e)?new he(e.map(ug)):cg(e);default:throw new Error(`brsValueOf not implemented for: ${e} <${r}>`)}}var lg,hg;(hg=lg||(lg={})).LeftParen="LeftParen",hg.RightParen="RightParen",hg.LeftSquare="LeftSquare",hg.RightSquare="RightSquare",hg.LeftBrace="LeftBrace",hg.RightBrace="RightBrace",hg.Caret="Caret",hg.Minus="Minus",hg.Plus="Plus",hg.Star="Star",hg.Slash="Slash",hg.Mod="Mod",hg.Backslash="Backslash",hg.PlusPlus="PlusPlus",hg.MinusMinus="MinusMinus",hg.LeftShift="LeftShift",hg.RightShift="RightShift",hg.MinusEqual="MinusEqual",hg.PlusEqual="PlusEqual",hg.StarEqual="StarEqual",hg.SlashEqual="SlashEqual",hg.BackslashEqual="BackslashEqual",hg.LeftShiftEqual="LeftShiftEqual",hg.RightShiftEqual="RightShiftEqual",hg.Less="Less",hg.LessEqual="LessEqual",hg.Greater="Greater",hg.GreaterEqual="GreaterEqual",hg.Equal="Equal",hg.LessGreater="LessGreater",hg.Identifier="Identifier",hg.String="String",hg.Integer="Integer",hg.Float="Float",hg.Double="Double",hg.LongInteger="LongInteger",hg.Dot="Dot",hg.Comma="Comma",hg.Colon="Colon",hg.Semicolon="Semicolon",hg.AtSymbol="AtSymbol",hg.HashIf="HashIf",hg.HashElseIf="HashElseIf",hg.HashElse="HashElse",hg.HashEndIf="HashEndIf",hg.HashConst="HashConst",hg.HashError="HashError",hg.HashErrorMessage="HashErrorMessage",hg.And="And",hg.Box="Box",hg.Catch="Catch",hg.CreateObject="CreateObject",hg.ContinueFor="ContinueFor",hg.ContinueWhile="ContinueWhile",hg.Dim="Dim",hg.Else="Else",hg.ElseIf="ElseIf",hg.End="End",hg.EndFunction="EndFunction",hg.EndFor="EndFor",hg.EndIf="EndIf",hg.EndSub="EndSub",hg.EndTry="EndTry",hg.EndWhile="EndWhile",hg.Eval="Eval",hg.Exit="Exit",hg.ExitFor="ExitFor",hg.ExitWhile="ExitWhile",hg.False="False",hg.For="For",hg.ForEach="ForEach",hg.Function="Function",hg.GetGlobalAA="GetGlobalAA",hg.GetLastRunCompileError="GetLastRunCompileError",hg.GetLastRunRunTimeError="GetLastRunRunTimeError",hg.Goto="Goto",hg.If="If",hg.Invalid="Invalid",hg.Let="Let",hg.Next="Next",hg.Not="Not",hg.ObjFun="ObjFun",hg.Or="Or",hg.Pos="Pos",hg.Print="Print",hg.Rem="Rem",hg.Return="Return",hg.Step="Step",hg.Stop="Stop",hg.Sub="Sub",hg.Tab="Tab",hg.Throw="Throw",hg.To="To",hg.True="True",hg.Try="Try",hg.Type="Type",hg.While="While",hg.Newline="Newline",hg.Eof="Eof";const fg=new Set(["and","box","catch","continue","createobject","dim","each","else","elseif","endsub","endwhile","eval","exit","exitwhile","false","for","function","getglobalaa","getlastruncompileerror","getlastrunruntimeerror","goto","if","invalid","let","line_num","next","not","objfun","or","pos","print","rem","return","run","step","stop","sub","tab","then","throw","to","try","true","type","while"]),dg={and:lg.And,catch:lg.Catch,"continue for":lg.ContinueFor,"continue while":lg.ContinueWhile,dim:lg.Dim,else:lg.Else,elseif:lg.ElseIf,"else if":lg.ElseIf,end:lg.End,endfor:lg.EndFor,"end for":lg.EndFor,endfunction:lg.EndFunction,"end function":lg.EndFunction,endif:lg.EndIf,"end if":lg.EndIf,endsub:lg.EndSub,"end sub":lg.EndSub,endtry:lg.EndTry,"end try":lg.EndTry,endwhile:lg.EndWhile,"end while":lg.EndWhile,exit:lg.Exit,"exit for":lg.ExitFor,exitwhile:lg.ExitWhile,"exit while":lg.ExitWhile,false:lg.False,for:lg.For,"for each":lg.ForEach,function:lg.Function,goto:lg.Goto,if:lg.If,invalid:lg.Invalid,let:lg.Let,mod:lg.Mod,next:lg.Next,not:lg.Not,or:lg.Or,print:lg.Print,rem:lg.Rem,return:lg.Return,step:lg.Step,stop:lg.Stop,sub:lg.Sub,to:lg.To,try:lg.Try,throw:lg.Throw,true:lg.True,while:lg.While};var pg;function gg(e){return!!(e.kind&&e.text&&e.location)}(pg||(pg={})).equalTo=function(e,t){return e.file===t.file&&e.start.line===t.start.line&&e.start.column===t.start.column&&e.end.line===t.end.line&&e.end.column===t.end.column};const mg=new Set(["UpTime","Sleep","Wait","Tr","CopyFile","MoveFile","DeleteFile","DeleteDirectory","CreateDirectory","FormatDrive","ListDir","ReadAsciiFile","WriteAsciiFile","MatchFiles","RebootSystem","RunGarbageCollector","GetInterface","FindMemberFunction","FormatJson","ParseJson","Abs","Cdbl","Cint","Csng","Fix","Int","Sgn","Atn","Cos","Sin","Tan","Exp","Log","Sqr","Rnd","Ucase","Lcase","Asc","Chr","Left","Right","Instr","Len","Mid","Str","StrI","String","StringI","Substitute","Val","StrToI"]);function yg(e){if(e.length>1)throw new Error(`Lexer#isDecimalDigit expects a single character; received '${e}'`);return e>="0"&&e<="9"}function bg(e){if(e.length>1)throw new Error(`Lexer#isHexDigit expects a single character; received '${e}'`);let t=e.toLowerCase();return yg(t)||t>="a"&&t<="f"}function vg(e){if(e.length>1)throw new Error(`Lexer#isAlpha expects a single character; received '${e}'`);let t=e.toLowerCase();return t>="a"&&t<="z"||"_"===t}function wg(e){if(e.length>1)throw new Error(`Lexer#isAlphaNumeric expects a single character; received '${e}'`);return vg(e)||yg(e)}class Sg{events=new f.EventEmitter;static scan(e,t=""){return(new Sg).scan(e,t)}onError(e){return this.events.on("err",e),{dispose:()=>{this.events.removeListener("err",e)}}}onErrorOnce(e){this.events.once("err",e)}scan(e,t){let r=0,n=0,i=1,s=0,a=e,o=[],c=[],u=[];const l=e=>{u.push(e),this.events.emit("err",e)};for(;!h();)r=n,f();return o.push({kind:lg.Eof,isReserved:!1,text:"\0",location:{start:{line:i,column:s},end:{line:i,column:s+1},file:t}}),{tokens:o,comments:c,errors:u};function h(){return n>=a.length}function f(){let e=d();if(vg(e))!function(){for(;wg(p());)d();let e=a.slice(r,n),t=e.toLowerCase();if(!("continue"!==t&&"end"!==t&&"else"!==t&&"exit"!==t&&"for"!==t||" "!==p()&&"\t"!==p())){let e={position:n,column:s},t="";for(;" "===p()||"\t"===p();)t+=p(),d();for(;wg(p());)d();let i=a.slice(r,n).replace(t," ").toLowerCase();if(dg.hasOwnProperty(i))return void v(dg[i]);n=e.position,s=e.column}let i=p();["$","%","!","#","&"].includes(i)&&(e+=i,d());let c=e.toLowerCase(),u=dg.hasOwnProperty(c)?dg[c]:lg.Identifier;u===dg.rem?function(e){let t=o[o.length-1];return!(!t||t.kind!==e)}(lg.Dot)?v(lg.Identifier):y(e):v(u)}();else switch(e.toLowerCase()){case" ":case"\r":case"\t":break;case"\n":let t=b();t&&t.kind!==lg.Newline&&v(lg.Newline),i++,s=0;break;case".":yg(p())?m(!0):v(lg.Dot);break;case"=":v(lg.Equal);break;case'"':!function(){for(;!h();){if('"'===p()){if('"'!==g())break;d()}if("\n"===g())return void l(new k("Unterminated string at end of line",w(a.slice(r,n))));d()}if(h())return void l(new k("Unterminated string at end of file",w(a.slice(r,n))));d();let e=a.slice(r+1,n-1).replace(/""/g,'"');v(lg.String,new Ee(e))}();break;case"'":y("'");break;case",":v(lg.Comma);break;case"(":v(lg.LeftParen);break;case")":v(lg.RightParen);break;case"{":v(lg.LeftBrace);break;case"}":v(lg.RightBrace);break;case"[":v(lg.LeftSquare);break;case"]":v(lg.RightSquare);break;case"@":v(lg.AtSymbol);break;case"+":switch(p()){case"=":d(),v(lg.PlusEqual);break;case"+":d(),v(lg.PlusPlus);break;default:v(lg.Plus)}break;case"-":switch(p()){case"=":d(),v(lg.MinusEqual);break;case"-":d(),v(lg.MinusMinus);break;default:v(lg.Minus)}break;case"*":"="===p()?(d(),v(lg.StarEqual)):v(lg.Star);break;case"/":"="===p()?(d(),v(lg.SlashEqual)):v(lg.Slash);break;case"^":v(lg.Caret);break;case"\\":"="===p()?(d(),v(lg.BackslashEqual)):v(lg.Backslash);break;case":":v(lg.Colon);break;case";":v(lg.Semicolon);break;case"?":switch(p()){case".":d(),v(lg.Dot);break;case"(":d(),v(lg.LeftParen);break;case"[":d(),v(lg.LeftSquare);break;case"@":d(),v(lg.AtSymbol);break;default:v(lg.Print)}break;case"<":switch(p()){case"=":d(),v(lg.LessEqual);break;case"<":d(),"="===p()?(d(),v(lg.LeftShiftEqual)):v(lg.LeftShift);break;case">":d(),v(lg.LessGreater);break;default:v(lg.Less)}break;case">":switch(p()){case"=":d(),v(lg.GreaterEqual);break;case">":d(),"="===p()?(d(),v(lg.RightShiftEqual)):v(lg.RightShift);break;default:v(lg.Greater)}break;case"#":!function(){for(d();wg(p());)d();let e=a.slice(r,n).toLowerCase();if(("#end"===e||"#else"===e)&&" "===p()){let e=n;for(d();wg(p());)d();switch(a.slice(r,n).toLowerCase().replace(/ {2,}/g," ")){case"#else if":return void v(lg.HashElseIf);case"#end if":return void v(lg.HashEndIf)}n=e}switch(e){case"#if":return void v(lg.HashIf);case"#else":return void v(lg.HashElse);case"#elseif":return void v(lg.HashElseIf);case"#endif":return void v(lg.HashEndIf);case"#const":return void v(lg.HashConst);case"#error":for(v(lg.HashError),r=n;!h()&&"\n"!==p();)d();return v(lg.HashErrorMessage),!h()&&"\n"===a.charAt(n)&&n++,void(r=n);default:l(new k(`Found unexpected conditional-compilation string '${e}'`,w(a.slice(r,n))))}}();break;default:yg(e)?m(!1):"&"===e&&"h"===p().toLowerCase()?(d(),function(){for(;bg(p());)d();if("."===p()&&bg(g()))return d(),void l(new k("Fractional hex literals are not supported",w(a.slice(r,n))));if("&"===p()){d();let e=a.slice(r,n);v(lg.LongInteger,z.fromString(e))}else{let e=a.slice(r,n);v(lg.Integer,Y.fromString(e))}}()):l(new k(`Unexpected character '${e}'`,w(e)))}}function d(){return n++,s++,a.charAt(n-1)}function p(){return h()?"\0":a.charAt(n)}function g(){return n+1>a.length?"\0":a.charAt(n+1)}function m(e){let t=e;for(;yg(p());)d();if(!e&&"."===p())for(t=!0,d();yg(p());)d();let i=a.slice(r,n),s=t?i.length-1:i.length,o=p().toLowerCase();if("#"===o)return d(),void v(lg.Double,q.fromString(i));if(s>=10&&"&"!==o)v(lg.Double,q.fromString(i));else{if("d"===o){for(d(),"+"!==p()&&"-"!==p()||d();yg(p());)d();return i=a.slice(r,n).replace(/[dD]/,"e"),void v(lg.Double,q.fromString(i))}if("!"===o)return d(),i=a.slice(r,n),void v(lg.Float,H.fromString(i));if("e"===o){for(d(),"+"!==p()&&"-"!==p()||d();yg(p());)d();return i=a.slice(r,n),void v(lg.Float,H.fromString(i))}if(!t)return"&"===o?(i=a.slice(r,n),d(),void v(lg.LongInteger,z.fromString(i))):("%"===o&&d(),void v(lg.Integer,Y.fromString(i)));v(lg.Float,H.fromString(i))}}function y(e){const t=b()?.location.start.line===i?"Line":"Block";let s="";for(;"\n"!==p()&&!h();)s+=d();const a={type:t,starter:e,value:s,loc:w(e+s),range:[r,n]};let o=c[c.length-1];null!=o&&"Block"===o.type&&"Block"===a.type&&o.starter===a.starter&&o.loc.end.line===a.loc.start.line-1?(o.loc.end=a.loc.end,o.range[1]=a.range[1],o.value+=`\n${a.value}`):c.push(a)}function b(){return o[o.length-1]}function v(e,t){let i=a.slice(r,n),s=i.trimLeft()||i;o.push({kind:e,text:s,isReserved:fg.has(s.toLowerCase()),literal:t,location:w(s)})}function w(e){return{start:{line:i,column:s-e.length},end:{line:i,column:Math.max(s-e.length+1,s)},file:t}}}}class Eg extends k{}class xg extends Eg{constructor(e){super("`continue for` encountered",e)}}class Ig extends Eg{constructor(e){super("`exit for` encountered",e)}}class _g extends Eg{constructor(e){super("`continue while` encountered",e)}}class Tg extends Eg{constructor(e){super("`exit while` encountered",e)}}class kg extends Eg{location;label;constructor(e,t){super("`goto` encountered",e),this.location=e,this.label=t}}class Ag extends Eg{location;value;constructor(e,t){super("`return` encountered",e),this.location=e,this.value=t}}class Cg{tokens;name;value;constructor(e,t,r){this.tokens=e,this.name=t,this.value=r}accept(e){return e.visitAssignment(this)}get location(){return{file:this.name.location.file,start:this.name.location.start,end:this.value.location.end}}}class Mg{tokens;name;dimensions;constructor(e,t,r){this.tokens=e,this.name=t,this.dimensions=r}accept(e){return e.visitDim(this)}get location(){return{file:this.tokens.dim.location.file,start:this.tokens.dim.location.start,end:this.tokens.closingBrace.location.end}}}class Rg{statements;location;constructor(e,t){this.statements=e,this.location=t}accept(e){return e.visitBlock(this)}}class Og{expression;constructor(e){this.expression=e}accept(e){return e.visitExpression(this)}get location(){return this.expression.location}}class Dg{tokens;constructor(e){this.tokens=e}accept(e){return e.visitContinueFor(this)}get location(){return this.tokens.continueFor.location}}class Pg{tokens;constructor(e){this.tokens=e}accept(e){return e.visitContinueWhile(this)}get location(){return this.tokens.continueWhile.location}}class Lg{tokens;constructor(e){this.tokens=e}accept(e){return e.visitExitFor(this)}get location(){return this.tokens.exitFor.location}}class Fg{tokens;constructor(e){this.tokens=e}accept(e){return e.visitExitWhile(this)}get location(){return this.tokens.exitWhile.location}}class Ng{name;func;constructor(e,t){this.name=e,this.func=t}accept(e){return e.visitNamedFunction(this)}get location(){return{file:this.name.location.file,start:this.func.location.start,end:this.func.location.end}}}class Bg{tokens;condition;thenBranch;elseIfs;elseBranch;constructor(e,t,r,n,i){this.tokens=e,this.condition=t,this.thenBranch=r,this.elseIfs=n,this.elseBranch=i}accept(e){return e.visitIf(this)}getEndLocation(){return this.tokens.endIf?this.tokens.endIf.location:this.elseBranch?this.elseBranch.location:this.elseIfs.length?this.elseIfs[this.elseIfs.length-1].thenBranch.location:this.thenBranch.location}get location(){return{file:this.tokens.if.location.file,start:this.tokens.if.location.start,end:this.getEndLocation().end}}}class Ug{value;token;constructor(e,t){this.value=e,this.token=t}accept(e){return e.visitIncrement(this)}get location(){return{file:this.value.location.file,start:this.value.location.start,end:this.token.location.end}}}class jg{tokens;expressions;constructor(e,t){this.tokens=e,this.expressions=t}accept(e){return e.visitPrint(this)}get location(){let e=this.expressions.length?this.expressions[this.expressions.length-1].location.end:this.tokens.print.location.end;return{file:this.tokens.print.location.file,start:this.tokens.print.location.start,end:e}}}class Vg{tokens;constructor(e){this.tokens=e}accept(e){return e.visitGoto(this)}get location(){return{file:this.tokens.goto.location.file,start:this.tokens.goto.location.start,end:this.tokens.label.location.end}}}class Gg{tokens;constructor(e){this.tokens=e}accept(e){return Ie.Instance}get location(){return{file:this.tokens.identifier.location.file,start:this.tokens.identifier.location.start,end:this.tokens.colon.location.end}}}class zg{tokens;value;constructor(e,t){this.tokens=e,this.value=t}accept(e){return e.visitReturn(this)}get location(){return{file:this.tokens.return.location.file,start:this.tokens.return.location.start,end:this.value?.location.end??this.tokens.return.location.end}}}class Wg{tokens;constructor(e){this.tokens=e}accept(e){throw new Eg("end-statement",this.tokens.end.location)}get location(){return{file:this.tokens.end.location.file,start:this.tokens.end.location.start,end:this.tokens.end.location.end}}}class qg{tokens;constructor(e){this.tokens=e}accept(e){return e.visitStop(this)}get location(){return{file:this.tokens.stop.location.file,start:this.tokens.stop.location.start,end:this.tokens.stop.location.end}}}class $g{tokens;counterDeclaration;finalValue;increment;body;constructor(e,t,r,n,i){this.tokens=e,this.counterDeclaration=t,this.finalValue=r,this.increment=n,this.body=i}accept(e){return e.visitFor(this)}get location(){return{file:this.tokens.for.location.file,start:this.tokens.for.location.start,end:this.tokens.endFor.location.end}}}class Hg{tokens;item;target;body;constructor(e,t,r,n){this.tokens=e,this.item=t,this.target=r,this.body=n}accept(e){return e.visitForEach(this)}get location(){return{file:this.tokens.forEach.location.file,start:this.tokens.forEach.location.start,end:this.tokens.endFor.location.end}}}class Xg{tokens;condition;body;constructor(e,t,r){this.tokens=e,this.condition=t,this.body=r}accept(e){return e.visitWhile(this)}get location(){return{file:this.tokens.while.location.file,start:this.tokens.while.location.start,end:this.tokens.endWhile.location.end}}}class Yg{obj;name;value;constructor(e,t,r){this.obj=e,this.name=t,this.value=r}accept(e){return e.visitDottedSet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.value.location.end}}}class Kg{obj;indexes;value;closingSquare;constructor(e,t,r,n){this.obj=e,this.indexes=t,this.value=r,this.closingSquare=n}accept(e){return e.visitIndexedSet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.value.location.end}}}class Zg{tokens;constructor(e){this.tokens=e}accept(e){return e.visitLibrary(this)}get location(){return{file:this.tokens.library.location.file,start:this.tokens.library.location.start,end:this.tokens.filePath?this.tokens.filePath.location.end:this.tokens.library.location.end}}}class Jg{tryBlock;catchBlock;errorBinding;tokens;constructor(e,t,r,n){this.tryBlock=e,this.catchBlock=t,this.errorBinding=r,this.tokens=n}accept(e){return e.visitTryCatch(this)}get location(){return{file:this.tokens.try.location.file,start:this.tokens.endtry.location.start,end:this.tokens.endtry.location.end}}}class Qg{tokens;value;constructor(e,t){this.tokens=e,this.value=t}accept(e){return e.visitThrow(this)}get location(){return{file:this.tokens.throw.location.file,start:this.tokens.throw.location.start,end:this.value?.location.end??this.tokens.throw.location.end}}}class em extends k{constructor(e,t){const r=C.BadSyntax;let n=`${r.message} (compile error &h${nt(r.errno)}) ${t}`;e.kind===lg.Eof&&(n="(At end of file) "+t),super(n,e.location)}}const tm=[lg.Equal,lg.MinusEqual,lg.PlusEqual,lg.StarEqual,lg.SlashEqual,lg.BackslashEqual,lg.LeftShiftEqual,lg.RightShiftEqual],rm=[lg.And,lg.Box,lg.Catch,lg.ContinueFor,lg.ContinueWhile,lg.CreateObject,lg.Dim,lg.Else,lg.ElseIf,lg.End,lg.EndFunction,lg.EndFor,lg.EndIf,lg.EndSub,lg.EndWhile,lg.Eval,lg.Exit,lg.ExitFor,lg.ExitWhile,lg.False,lg.For,lg.ForEach,lg.Function,lg.GetGlobalAA,lg.GetLastRunCompileError,lg.GetLastRunRunTimeError,lg.Goto,lg.If,lg.Invalid,lg.Let,lg.Mod,lg.Next,lg.Not,lg.ObjFun,lg.Or,lg.Pos,lg.Print,lg.Rem,lg.Return,lg.Step,lg.Stop,lg.Sub,lg.Tab,lg.To,lg.True,lg.Try,lg.Type,lg.While],nm=[lg.EndFor,lg.ExitFor,lg.ForEach,lg.Try,lg.Catch],im=new Set([lg.And,lg.Box,lg.CreateObject,lg.Dim,lg.Else,lg.ElseIf,lg.End,lg.EndFunction,lg.EndIf,lg.EndSub,lg.EndWhile,lg.Eval,lg.Exit,lg.ExitWhile,lg.False,lg.For,lg.Function,lg.GetGlobalAA,lg.GetLastRunCompileError,lg.GetLastRunRunTimeError,lg.Goto,lg.If,lg.Invalid,lg.Let,lg.Next,lg.Not,lg.ObjFun,lg.Or,lg.Pos,lg.Print,lg.Rem,lg.Return,lg.Step,lg.Sub,lg.Tab,lg.To,lg.True,lg.Type,lg.While].map((e=>lg[e].toLowerCase()))),sm=new Map;class am{events=new f.EventEmitter;stats=new Map;constructor(){sm.set("v30/bslCore.brs",!1),sm.set("v30/bslDefender.brs",!1),sm.set("Roku_Ads.brs",!1),sm.set("RokuBrowser.brs",!1),this.stats.set(lg.Integer,new Set),this.stats.set(lg.String,new Set),this.stats.set(lg.Float,new Set),this.stats.set(lg.Double,new Set),this.stats.set(lg.LongInteger,new Set),this.stats.set(lg.Function,new Set),this.stats.set(lg.Identifier,new Set)}static parse(e){return(new am).parse(e)}onError(e){return this.events.on("err",e),{dispose:()=>{this.events.removeListener("err",e)}}}onErrorOnce(e){this.events.once("err",e)}parse(e){const t=this;let r=0,n=e,i=!1,s=0;function a(){return 0===s}let o=[],c=[];const u=(e,t)=>{let r=new em(e,t);return c.push(r),this.events.emit("err",r),r},l=(e,t)=>{u({location:e},t)};if(0===e.length)return{statements:[],errors:[],libraries:sm};try{for(;!K();){let e=h();e&&o.push(e)}return{statements:o,errors:c,libraries:sm}}catch(e){return{statements:[],errors:c,libraries:sm}}function h(...e){try{let t=[lg.Colon];if(e.includes(lg.Newline)){if(H(lg.Newline))return}else t.push(lg.Newline);for(;V(...t););if(e.includes(lg.Newline)&&H(lg.Newline))return;if(K())return;try{return 0===s&&H(lg.Sub,lg.Function)?f(!1):k()?A():H(lg.Identifier,...nm)&&X(...tm)?p(...e):function(...e){return k()?A():H(lg.Stop)?function(){let e={stop:W()};for(;V(lg.Newline,lg.Colon););return new qg(e)}():H(lg.Try)?function(){let e=W();i=!0;let t=M(lg.Catch);if(i=!1,!t)throw u(Z(),"Expected 'catch' to terminate try block");if(!H(lg.Identifier))throw u(Z(),"Expected variable name for caught error after 'catch'");let r=new T(W()),n=M(lg.EndTry);if(!n)throw u(Z(),"Expected 'end try' or 'endtry' to terminate catch block");return new Jg(t.body,n.body,r,{try:e,catch:t.closingToken,endtry:n.closingToken})}():H(lg.If)?function(){const e=W(),t=e.location,r=R();let i,s,a,o,l,h=[],f=[];function d(){return H(lg.Identifier)&&"then"===Z().text.toLowerCase()}if(d()&&(a=W()),H(lg.Newline)||H(lg.Colon)){let r=c.length,a=M(lg.EndIf,lg.Else,lg.ElseIf);if(!a)throw c.splice(r,c.length-r),u(e,"Expected 'end if', 'else if', or 'else' to terminate 'then' block");let p=a.closingToken;for(p.kind===lg.EndIf&&(o=p),i=a.body;p.kind===lg.ElseIf;){f.push(p);let e=R();d()&&W();let t=M(lg.EndIf,lg.Else,lg.ElseIf);if(!t)throw u(Z(),"Expected 'end if', 'else if', or 'else' to terminate 'then' block");p=t.closingToken,p.kind===lg.EndIf&&(o=p),h.push({condition:e,thenBranch:t.body})}if(p.kind===lg.Else){l=p;let t=M(lg.EndIf);if(!t)throw u(Z(),"Expected 'end if' to terminate 'else' block");if(s=t.body,o=t.closingToken,e.location.start.line===o.location.start.line){let e=n.indexOf(o);n[e-1].kind!==lg.Colon&&u(o,"Expected ':' to precede 'end if'")}V(lg.Newline)}else{if(!o)throw u(p,`Expected 'end if' to close 'if' statement started on line ${t.start.line}`);if(e.location.start.line===o.location.start.line){let e=n.indexOf(o);n[e-1].kind!==lg.Colon&&u(o,"Expected ':' to precede 'end if'")}V(lg.Newline)}}else{let e=M(lg.Newline,lg.Eof,lg.ElseIf,lg.Else);if(!e)throw u(Z(),"Expected a statement to follow 'if ...condition... then'");i=e.body;let t=e.closingToken;for(;t.kind===lg.ElseIf;){let r=e.closingToken;f.push(r);let n=R();d()&&W();let i=M(lg.Newline,lg.Eof,lg.ElseIf,lg.Else);if(!i)throw u(Z(),`Expected a statement to follow '${r.text} ...condition... then'`);t=i.closingToken,h.push({condition:n,thenBranch:i.body})}if(t.kind!==lg.Newline&&(t.kind===lg.Else||V(lg.Else))){l=t;let e=M(lg.Newline,lg.Eof);if(!e)throw u(Z(),"Expected a statement to follow 'else'");s=e.body}}return new Bg({if:e,then:a,elseIfs:f,endIf:o,else:l},r,i,h,s)}():H(lg.Print)?function(...e){let t=W(),r=[];if(K()||H(lg.Newline,lg.Colon)){let e=new E(new Ee(""),t.location);r.push(e)}else r.push(R());for(;!H(lg.Newline,lg.Colon,...e)&&!K();)H(lg.Semicolon)&&r.push(W()),H(lg.Comma)&&r.push(W()),H(lg.Newline,lg.Colon)||K()||r.push(R());return H(...e)||z("Expected newline or ':' after printed values",lg.Newline,lg.Colon,lg.Eof),new jg({print:t},r)}(...e):H(lg.While)?function(){const e=W(),t=R();q("Expected newline or ':' after 'while ...condition...'",lg.Newline,lg.Colon);const r=M(lg.EndWhile);if(!r)throw u(Z(),"Expected 'end while' to terminate while-loop block");return new Xg({while:e,endWhile:r.closingToken},t,r.body)}():H(lg.ContinueWhile)?function(){let e=W();return q("Expected newline after 'continue while'",lg.Newline),new Pg({continueWhile:e})}():H(lg.ExitWhile)?function(){let e=W();return q("Expected newline after 'exit while'",lg.Newline),new Fg({exitWhile:e})}():H(lg.For)?function(){const e=W(),t=p(lg.To),r=W(),n=R();let i,s;H(lg.Step)?(s=W(),i=R()):i=new E(new Y(1),Z().location),i instanceof E&&Q(lg.Integer,i.value);let a=M(lg.EndFor,lg.Next);if(!a)throw u(Z(),"Expected 'end for' or 'next' to terminate for-loop block");return new $g({for:e,to:r,step:s,endFor:a.closingToken},t,n,i,a.body)}():H(lg.ForEach)?function(){let e=W(),t=W(),r=Z();if(!H(lg.Identifier)||"in"!==r.text.toLowerCase())throw u(r,"Expected 'in' after 'for each <name>'");W();let n=R();if(!n)throw u(Z(),"Expected target object to iterate over");W();let i=M(lg.EndFor,lg.Next);if(!i)throw u(Z(),"Expected 'end for' or 'next' to terminate for-loop block");return new Hg({forEach:e,in:r,endFor:i.closingToken},t,n,i.body)}():H(lg.ContinueFor)?function(){let e=W();return q("Expected newline after 'continue for'",lg.Newline),new Dg({continueFor:e})}():H(lg.ExitFor)?function(){let e=W();return q("Expected newline after 'exit for'",lg.Newline),new Lg({exitFor:e})}():H(lg.End)?function(){let e={end:W()};for(;V(lg.Newline,lg.Colon););return new Wg(e)}():V(lg.Return)?function(){let e={return:J()};if(H(lg.Colon,lg.Newline,lg.Eof)){for(;V(lg.Colon,lg.Newline,lg.Eof););return new zg(e)}let t=R();for(;V(lg.Newline,lg.Colon););return new zg(e,t)}():V(lg.Throw)?function(){let e={throw:J()},t=R();for(;V(lg.Newline,lg.Colon););return new Qg(e,t)}():H(lg.Dim)?function(){let e=W(),t=z("Expected variable name after 'dim'",lg.Identifier);V(lg.LeftSquare);let r=[R()];for(;!V(lg.RightSquare);)z("Expected ',' after expression in 'dim' statement",lg.Comma),r.push(R());let n=J();return new Mg({dim:e,closingBrace:n},t,r)}():H(lg.Goto)?function(){let e={goto:W(),label:z("Expected valid label after goto keyword",lg.Identifier,lg.Integer)};for(;V(lg.Newline,lg.Colon););return new Vg(e)}():(H(lg.Identifier)||H(lg.Integer))&&X(lg.Colon)?function(){let e={identifier:W(),colon:W()};return z("Labels must be declared on their own line",lg.Newline,lg.Eof),new Gg(e)}():function(...e){function t(){let t=Z();if(H(lg.PlusPlus,lg.MinusMinus)){let e=W();if(H(lg.PlusPlus,lg.MinusMinus))throw u(Z(),"Consecutive increment/decrement operators are not allowed");if(r instanceof m)throw u(t,"Increment/decrement operators are not allowed on the result of a function call");return new Ug(r,e)}if(H(...e)||z("Expected newline or ':' after expression statement",lg.Newline,lg.Colon,lg.Eof),r instanceof m)return new Og(r);throw u(t,"Expected statement or function call, but received an expression")}let r=U();if(!H(...tm)||r instanceof m)return t();{let e=r,n=W(),i=R();return e instanceof w?(z("Expected newline or ':' after indexed 'set' statement",lg.Newline,lg.Else,lg.ElseIf,lg.Colon,lg.Eof),new Kg(e.obj,e.indexes,n.kind===lg.Equal?i:new g(e,n,i),e.closingSquare)):e instanceof v?(z("Expected newline or ':' after dotted 'set' statement",lg.Newline,lg.Else,lg.ElseIf,lg.Colon,lg.Eof),new Yg(e.obj,e.name,n.kind===lg.Equal?i:new g(e,n,i))):t()}}(...e)}(...e)}finally{for(;V(...t););}}catch(e){return void function(){for(W();!K();){if(J().kind===lg.Newline||J().kind===lg.Colon)return;switch(Z().kind){case lg.Function:case lg.Sub:case lg.If:case lg.For:case lg.ForEach:case lg.While:case lg.Print:case lg.Return:return}W()}}()}}function f(e){try{s++;let r,n,i,a,o=Z(),c=H(lg.Sub),l=W();n=c?ne.Void:ne.Dynamic;let h="(anonymous)";if(e)i=z(`Expected '(' after ${l.text}`,lg.LeftParen);else{r=z(`Expected ${l.text} name after '${l.text}'`,lg.Identifier),i=z(`Expected '(' after ${l.text} name`,lg.LeftParen);let e=r.text[r.text.length-1];["$","%","!","#","&"].includes(e)&&u(r,`Function name '${r.text}' cannot end with type designator '${e}'`),h=r.text}let f=[];if(!H(lg.RightParen))do{if(f.length>=m.MaximumArguments)throw u(Z(),`Cannot have more than ${m.MaximumArguments} arguments`);f.push(d())}while(V(lg.Comma));a=W();let p=Z();if(H(lg.Identifier)&&"as"===p.text.toLowerCase()){W();let e=W(),t=e.text||"",r=ne.fromString(t);if(!r)throw u(e,`Function return type '${t}' is invalid`);Q(lg.Integer,new Y(0)),n=r}f.reduce(((e,t)=>{if(e&&!t.defaultValue)throw u({kind:lg.Identifier,text:t.name.text,isReserved:fg.has(t.name.text),location:t.location},`Argument '${t.name.text}' has no default value, but comes after arguments with default values`);return e||!!t.defaultValue}),!1),q(`Expected newline or ':' after ${l.text} signature`,lg.Newline,lg.Colon);let g=M(lg.EndSub,lg.EndFunction);if(!g)throw u(Z(),`Expected 'end ${l.text}' to terminate ${l.text} block`);let b=g.closingToken,v=c?lg.EndSub:lg.EndFunction;b.kind!==v&&u(b,`Expected 'end ${l.text}' to terminate ${l.text} block`);let w=new y(f,n,g.body,o,b);if(function(e){const r=t.stats.get(lg.Function);r&&r.add(`${e.toLowerCase()}(${r.size})`)}(h),e)return w;for(;V(lg.Newline););return new Ng(r,w)}finally{s--}}function d(){if(!H(lg.Identifier))throw u(Z(),`Expected argument name, but received '${Z().text||""}'`);let e,t,r=W(),n=ne.Dynamic;V(lg.Equal)&&(t=R());let i=Z();if(H(lg.Identifier)&&i.text&&"as"===i.text.toLowerCase()){W(),e=W();let t=ne.fromString(e.text);if(!t)throw u(e,`Function parameter '${r.text}' is of invalid type '${e.text}'`);n=t}return{name:r,type:{kind:n,location:e?e.location:ee.InternalLocation},defaultValue:t,location:{file:r.location.file,start:r.location.start,end:e?e.location.end:r.location.end}}}function p(...e){let t=W();im.has(t.text.toLowerCase())&&u(t,`Cannot use reserved word "${t.text}" as an identifier`);let r=z(`Expected operator ('=', '+=', '-=', '*=', '/=', '\\=', '^=', '<<=', or '>>=') after identifier '${t.text}'`,...tm),n=R();return H(...e)||z("Expected newline or ':' after assignment",lg.Newline,lg.Colon,lg.Eof,...e),r.kind===lg.Equal?new Cg({equals:r},t,n):new Cg({equals:r},t,new g(new T(t),r,n))}function k(){let e=H(lg.Identifier)&&"library"===Z().text.toLowerCase();return!(!a()||!e)||!(!e||!X(lg.String))}function A(){let e=new Zg({library:W(),filePath:H(lg.String)?W():void 0});!e.tokens.filePath&&H(lg.Newline,lg.Colon)?l(e.tokens.library.location,`Missing string literal after ${e.tokens.library.text} keyword`):e.tokens.filePath||Z().kind!==lg.Newline||l(Z().location,`Expected string literal after ${e.tokens.library.text} keyword`);let t=G(lg.Newline,lg.Eof,lg.Colon);if(t.length>0)for(let e of t)l(e.location,`Found unexpected token '${e.text}' after library statement`);let r=!0;for(let e of o)e instanceof Zg||(r=!1);for(a()&&r||l(e.location,"Library statements may only appear at the top of a file");V(lg.Newline,lg.Eof,lg.Colon););let n=e.tokens.filePath;if(n){let t=n.text.slice(1,n.text.length-1);sm.has(t)?sm.set(t,!0):l(e.location,`Invalid library "${t}"! Supported: ${Array.from(sm.keys()).join(", ")}`)}return e}function M(...e){let t,n=Z(),s=[lg.Colon];for(e.includes(lg.Newline)||s.push(lg.Newline);V(...s););const a=[];for(;!H(...e)&&!K();){let n=r,o=h(...e);if(o?o instanceof Gg&&i?l(o.location,C.TryContainsLabel.message):a.push(o):(r=n,G(lg.Colon,lg.Newline,lg.Eof),W()),$(...e)){for(t=J();V(...s););break}for(;V(...s););}if(K()&&!e.includes(lg.Eof))return;if(H(...e)&&!t){t=W();const e=Z();"Next"===t.kind&&"Identifier"===e.kind&&W()}if(!t)return;const o={file:n.location.file,start:n.location.start,end:t.location.start};return{body:new Rg(a,o),closingToken:t}}function R(){return O()}function O(){return H(lg.Sub,lg.Function)?f(!0):function(){let e=D();for(;V(lg.And,lg.Or);){let t=J(),r=D();e=new g(e,t,r)}return e}()}function D(){let e=P();for(;V(lg.Equal,lg.LessGreater,lg.Greater,lg.GreaterEqual,lg.Less,lg.LessEqual);){let t=J(),r=P();e=new g(e,t,r)}return e}function P(){let e=L();for(;V(lg.LeftShift,lg.RightShift);){let t=J(),r=L();e=new g(e,t,r)}return e}function L(){let e=F();for(;V(lg.Plus,lg.Minus);){let t=J(),r=F();e=new g(e,t,r)}return e}function F(){let e=N();for(;V(lg.Slash,lg.Backslash,lg.Star,lg.Mod);){let t=J(),r=N();e=new g(e,t,r)}return e}function N(){let e=B();for(;V(lg.Caret);){let t=J(),r=B();e=new g(e,t,r)}return e}function B(){if(V(lg.Not)){let e=J(),t=D();return new _(e,t)}if(V(lg.Minus,lg.Plus)){let e=J(),t=B();return new _(e,t)}return U()}function U(){let e=function(){switch(!0){case V(lg.False):return new E(xe.False,J().location);case V(lg.True):return new E(xe.True,J().location);case V(lg.Invalid):return new E(Ie.Instance,J().location);case V(lg.Integer,lg.LongInteger,lg.Float,lg.Double,lg.String):return Q(lg[J().kind],J().literal),new E(J().literal,J().location);case V(lg.Identifier):return new T(J());case V(lg.LeftParen):{let e=J(),t=R(),r=z("Unmatched '(' - expected ')' after expression",lg.RightParen);return new S({left:e,right:r},t)}case V(lg.LeftSquare):{let n=[],i=J();for(;V(lg.Newline););if(!V(lg.RightSquare)){for(n.push(R());V(lg.Comma,lg.Newline);){for(;V(lg.Newline););if(H(lg.RightSquare))break;n.push(R())}z("Unmatched '[' - expected ']' after array literal",lg.RightSquare)}let s=J();return Q(lg.Integer,new Y(10)),Q(lg.String,new Ee("roArray")),n.length&&te(""),new x(n,i,s)}case V(lg.LeftBrace):{let a=J(),o=[];function c(){let e;if(H(lg.Identifier,...rm))e=new Ee(W().text);else{if(!H(lg.String))throw u(Z(),`Expected identifier or string as associative array key, but received '${Z().text||""}'`);e=W().literal}return z("Expected ':' between associative array key and value",lg.Colon),e}for(;V(lg.Newline););if(!V(lg.RightBrace)){for(o.push({name:c(),value:R()});V(lg.Comma,lg.Newline,lg.Colon);){for(;V(lg.Newline,lg.Colon););if(H(lg.RightBrace))break;o.push({name:c(),value:R()})}z("Unmatched '{' - expected '}' after associative array literal",lg.RightBrace),o.length&&(te(""),o.forEach((e=>{te(e.name.value)})))}let l=J();return new I(o,a,l)}case V(lg.Pos,lg.Tab):{let h=Object.assign(J(),{kind:lg.Identifier});return new T(h)}case H(lg.Function,lg.Sub):return O();default:throw u(Z(),`Found unexpected token '${Z().text}'`)}}();function t(){const t="?["===J().text;let r=[];for(;V(lg.Newline););if(!V(lg.RightSquare))for(r.push(R());V(lg.Comma,lg.Newline);){for(;V(lg.Newline););if(H(lg.RightSquare))break;r.push(R())}if(0===r.length)throw u(Z(),"Expected expression inside brackets []");let n=z("Expected ']' after array or object index",lg.RightSquare);e=new w(e,r,n,t)}for(;;)if(V(lg.LeftParen))e=j(e);else if(V(lg.LeftSquare))t();else if(V(lg.AtSymbol)){const t="?@"===J().text;for(;V(lg.Newline););let r=z("Expected identifier name after '@'",lg.Identifier,...rm);r.kind=lg.Identifier,e=new b(e,r,t)}else{if(!V(lg.Dot))break;if(V(lg.LeftSquare))t();else{const t="?."===J().text;for(;V(lg.Newline););let r=z("Expected property name after '.'",lg.Identifier,...rm);r.kind=lg.Identifier,te(r.text),e=new v(e,r,t)}}return e}function j(e){const r="?("===J().text;let n=[];for(;V(lg.Newline););if(!H(lg.RightParen))do{for(;V(lg.Newline););if(n.length>=m.MaximumArguments)throw u(Z(),`Cannot have more than ${m.MaximumArguments} arguments`);n.push(R())}while(V(lg.Comma));for(;V(lg.Newline););const i=z("Expected ')' after function call arguments",lg.RightParen);if(e instanceof T&&"createobject"===e.name.text.toLowerCase()&&1===n.length&&n[0]instanceof E){const e=n[0].value.toString(),r=t.stats.get(lg.String);r&&r.has(e)&&Array.from(r).pop()===e&&r.delete(e)}return new m(e,i,n,r)}function V(...e){for(let t of e)if(H(t))return W(),!0;return!1}function G(...e){let t=[];for(;!e.includes(Z().kind);)t.push(W());return t}function z(e,...t){if(t.map((e=>Z().kind===e)).reduce(((e,t)=>e||t),!1))return W();throw u(Z(),e)}function W(){return K()||r++,J()}function q(e,...t){if(t.map((e=>Z().kind===e)).reduce(((e,t)=>e||t),!1))return Z();throw u(Z(),e)}function $(...e){if(0===r)return!1;{r--;const t=H(...e);return r++,t}}function H(...e){return!K()&&e.some((e=>Z().kind===e))}function X(...e){return!K()&&e.some((e=>(K()?Z():n[r+1]).kind===e))}function K(){return Z().kind===lg.Eof}function Z(){return n[r]}function J(){return n[r-1]}function Q(e,r){const n=t.stats.get(e);n&&r&&!n.has(r.toString())&&n.add(r.toString())}function te(e){const r=t.stats.get(lg.Identifier);r&&!r?.has(e.toLowerCase())&&r.add(e.toLowerCase())}}}class om{outputStream;post;currentLineLength=0;constructor(e,t=!0){this.outputStream=e,this.post=t}write(e){let t=e;const r=e.split(",")[0];["print","error","warning"].includes(r)&&(t=e.slice(r.length+1),this.post&&postMessage(e)),!this.post&&t.length&&this.outputStream.write(t),this.position(t)}position(e){if(e){const t=e.split("\n");t.length>1?this.currentLineLength=t[t.length-1].length:this.currentLineLength+=e.length}return this.outputStream?.isTTY&&this.outputStream?.columns?this.currentLineLength%this.outputStream.columns:this.currentLineLength}}const cm=new se("RebootSystem",{signature:{args:[],returns:ne.Void},impl:()=>(postMessage("reset"),Ie.Instance)}),um=new se("RunGarbageCollector",{signature:{args:[],returns:ne.Object},impl:()=>cg({COUNT:0,ORPHANED:0,ROOT:0})}),lm=new se("GetInterface",{signature:{args:[new ee("object",ne.Object),new ee("ifname",ne.String)],returns:ne.Interface},impl:(e,t,r)=>t.interfaces.get(r.value.toLowerCase())||Ie.Instance}),hm=new se("FindMemberFunction",{signature:{args:[new ee("object",ne.Object),new ee("funName",ne.String)],returns:ne.Interface},impl:(e,t,r)=>{if(t instanceof p)for(let[e,n]of t.interfaces)if(n.hasMethod(r.value))return n;return Ie.Instance}},{signature:{args:[new ee("object",ne.Interface),new ee("funName",ne.String)],returns:ne.Interface},impl:(e,t,r)=>t.hasMethod(r.value)?t:Ie.Instance}),fm=new se("ObjFun",{signature:{args:[new ee("object",ne.Object),new ee("iface",ne.Interface),new ee("funName",ne.String)],variadic:!0,returns:ne.Dynamic},impl:(e,t,r,n,...i)=>{for(let[s,a]of t.interfaces)if(r.name===a.name&&r.hasMethod(n.value)){const r=t.getMethod(n.value);return r?.call(e,...i)||Ie.Instance}e.addError(new A(C.MemberFunctionNotFound,e.location,e.stack.slice(0,-1)))}}),dm=new se("CreateObject",{signature:{args:[new ee("objName",ne.String)],variadic:!0,returns:ne.Dynamic},impl:(e,t,...r)=>{let n=Hp.get(t.value.toLowerCase());if(void 0===n){let r=`BRIGHTSCRIPT: ERROR: Runtime: unknown classname "${t.value}": ${e.formatLocation()}`;["rosgscreen","rosgnode"].includes(t.value.toLowerCase())&&(r=`WARNING: Attempt to create object "${t.value}". SceneGraph components are still not supported!`),e.stderr.write(`warning,${r}`)}else{const i=Hp.params(t.value.toLowerCase());if(-1===i)r=[];else{if(i>0&&0===r.length)return e.stderr.write(`error,BRIGHTSCRIPT: ERROR: Runtime: "${t.value}": invalid number of parameters: ${e.formatLocation()}`),Ie.Instance;i>=0&&r.length!==i&&e.addError(new A(C.RoWrongNumberOfParams,e.location,e.stack.slice(0,-1)))}try{return n(e,...r)}catch(t){e.stderr.write(`error,${t.message} ${e.formatLocation()}`)}}return Ie.Instance}}),pm=new se("CopyFile",{signature:{args:[new ee("source",ne.String),new ee("destination",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>{const n=e.fileSystem;try{if(!lo(r.value)||!n.existsSync(t.value))return xe.False;const e=n.readFileSync(t.value);return n.writeFileSync(r.value,e),xe.True}catch(n){return e.isDevMode&&e.stderr.write(`warning,*** ERROR: Copying '${t.value}' to '${r.value}': ${n.message}`),xe.False}}}),gm=new se("MoveFile",{signature:{args:[new ee("source",ne.String),new ee("destination",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>{const n=e.fileSystem;try{return lo(t.value)&&lo(r.value)&&co(t.value)===co(r.value)&&n.existsSync(t.value)?(n.renameSync(t.value,r.value),xe.True):xe.False}catch(n){return e.isDevMode&&e.stderr.write(`warning,*** ERROR: Moving '${t.value}' to '${r.value}': ${n.message}`),xe.False}}}),mm=new se("DeleteFile",{signature:{args:[new ee("file",ne.String)],returns:ne.Boolean},impl:(e,t)=>{const r=e.fileSystem;try{return lo(t.value)?(r.unlinkSync(t.value),xe.True):xe.False}catch(r){return e.isDevMode&&e.stderr.write(`warning,*** ERROR: Deleting '${t.value}': ${r.message}`),xe.False}}}),ym=new se("DeleteDirectory",{signature:{args:[new ee("dir",ne.String)],returns:ne.Boolean},impl:(e,t)=>{const r=e.fileSystem;try{return lo(t.value)?(r.rmdirSync(t.value),xe.True):xe.False}catch(r){return e.isDevMode&&e.stderr.write(`warning,*** ERROR: Deleting '${t.value}': ${r.message}`),xe.False}}}),bm=new se("CreateDirectory",{signature:{args:[new ee("dir",ne.String)],returns:ne.Boolean},impl:(e,t)=>{const r=e.fileSystem;try{return lo(t.value)?(r.mkdirSync(t.value),xe.True):xe.False}catch(r){return e.isDevMode&&e.stderr.write(`warning,*** ERROR: Creating '${t.value}': ${r.message}`),xe.False}}}),vm=new se("FormatDrive",{signature:{args:[new ee("drive",ne.String),new ee("fs_type",ne.String)],returns:ne.Boolean},impl:(e,t)=>(e.isDevMode&&e.stderr.write("warning,`FormatDrive` is not implemented in `brs-engine`."),xe.False)}),wm=new se("ListDir",{signature:{args:[new ee("path",ne.String)],returns:ne.Object},impl:(e,t)=>{const r=e.fileSystem;try{if(uo(t.value)){if(r.existsSync(t.value)){const e=r.readdirSync(t.value).map((e=>new Ee(e)));return new me(e)}}else e.stderr.write(`warning,*** ERROR: Missing or invalid PHY: '${t.value}'`)}catch(r){e.isDevMode&&e.stderr.write(`warning,*** ERROR: Listing '${t.value}': ${r.message}`)}return new me([])}}),Sm=new se("ReadAsciiFile",{signature:{args:[new ee("filepath",ne.String)],returns:ne.String},impl:(e,t)=>{const r=e.fileSystem;try{return uo(t.value)?new Ee(r.readFileSync(t.value,"utf8")):new Ee("")}catch(r){return e.isDevMode&&e.stderr.write(`warning,*** ERROR: Reading '${t.value}': ${r.message}`),e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: ReadAsciiFile: file open for read failed: ${e.formatLocation()}`),new Ee("")}}}),Em=new se("WriteAsciiFile",{signature:{args:[new ee("filepath",ne.String),new ee("text",ne.String)],returns:ne.Boolean},impl:(e,t,r)=>{const n=e.fileSystem;try{return lo(t.value)?(n.writeFileSync(t.value,r.value,"utf8"),xe.True):xe.False}catch(r){return e.isDevMode&&e.stderr.write(`warning,*** ERROR: Writing '${t.value}': ${r.message}`),xe.False}}}),xm=new se("MatchFiles",{signature:{args:[new ee("path",ne.String),new ee("pattern_in",ne.String)],returns:ne.Object},impl:(e,t,r)=>{const n=e.fileSystem;try{if(!uo(t.value))return new me([]);let e=n.readdirSync(t.value),i=Op.match(e,r.value,{nocase:!0,nodupes:!0,noglobstar:!0,nonegate:!0});return i=(i||[]).map((e=>new Ee(e))),new me(i)}catch(n){return e.isDevMode&&e.stderr.write(`warning,*** ERROR: Matching '${t.value}' with '${r.value}': ${n.message}`),new me([])}}});function Im(e,t=0,r=""){switch(e.kind){case ne.Invalid:return"null";case ne.String:return`"${e.toString()}"`;case ne.Boolean:case ne.Double:case ne.Float:case ne.Int32:case ne.Int64:return e.toString();case ne.Object:if(e instanceof oe)return`{${e.getElements().map((n=>`"${r=n.toString()}":${Im(e.get(n),t,r)}`)).join(",")}}`;if(e instanceof he)return`[${e.getElements().map((e=>Im(e,t,r))).join(",")}]`;if(N(e))return Im(e.unbox(),t,r);case ne.Callable:case ne.Uninitialized:case ne.Interface:}let n=e instanceof p?e.getComponentName():e;if(256&t)return"null";if(512&t)return`"<${n}>"`;let i=`Value type not supported: ${n}`;throw""!==r&&(i=`${r}: ${i}`),new Error(i)}function _m(e,t,r){e.stderr.write(`warning,BRIGHTSCRIPT: ERROR: ${t}: ${r.message}: ${e.formatLocation()}`)}const Tm=new se("FormatJson",{signature:{returns:ne.String,args:[new ee("x",ne.Dynamic),new ee("flags",ne.Int32,new Y(0))]},impl:(e,t,r)=>{try{return new Ee(Im(t,r.getValue()))}catch(t){return t instanceof RangeError&&(t=new Error("Nested object reference")),_m(e,"FormatJSON",t),new Ee("")}}}),km=new se("ParseJson",{signature:{returns:ne.Dynamic,args:[new ee("jsonString",ne.String)]},impl:(e,t)=>{try{let e=t.toString().trim();if(""===e)throw new Error("Data is empty");return ug(JSON.parse(e))}catch(t){return _m(e,"ParseJSON",t),Ie.Instance}}}),Am=new se("Abs",{signature:{args:[new ee("x",ne.Float)],returns:ne.Float},impl:(e,t)=>new H(Math.abs(t.getValue()))}),Cm=new se("Cdbl",{signature:{args:[new ee("x",ne.Int32)],returns:ne.Float},impl:(e,t)=>new H(t.getValue())}),Mm=new se("Cint",{signature:{args:[new ee("x",ne.Dynamic)],returns:ne.Int32},impl:(e,t)=>{if(N(t)&&(t=t.unbox()),Xp(t))return Pm(t,"round");e.addError(new A(C.TypeMismatch,e.location,e.stack.slice(0,-1)))}}),Rm=new se("Csng",{signature:{args:[new ee("x",ne.Int32)],returns:ne.Float},impl:(e,t)=>new H(t.getValue())}),Om=new se("Fix",{signature:{args:[new ee("x",ne.Dynamic)],returns:ne.Int32},impl:(e,t)=>{if(N(t)&&(t=t.unbox()),Xp(t))return Pm(t,"trunc");e.addError(new A(C.TypeMismatch,e.location,e.stack.slice(0,-1)))}}),Dm=new se("Int",{signature:{args:[new ee("x",ne.Dynamic)],returns:ne.Int32},impl:(e,t)=>{if(N(t)&&(t=t.unbox()),Xp(t))return Pm(t);e.addError(new A(C.TypeMismatch,e.location,e.stack.slice(0,-1)))}});function Pm(e,t="floor"){if(e.kind===ne.Float||e.kind===ne.Double)return new Y("round"===t?Math.round(e.getValue()):"trunc"===t?Math.trunc(e.getValue()):Math.floor(e.getValue()));if(e.kind===ne.Int64){const t=2147483648;return e.getValue().lessThan(t)&&e.getValue().greaterThan(-t)?new Y(e.getValue()):e.getValue().greaterThan(t-1)?new Y(t-1):new Y(-t)}return e}function Lm(e,t){let r=t.getValue();return new Y(r>0?1:r<0?-1:0)}const Fm=new se("Sgn",{signature:{args:[new ee("x",ne.Float)],returns:ne.Int32},impl:Lm},{signature:{args:[new ee("x",ne.Int32)],returns:ne.Int32},impl:Lm}),Nm=new se("Atn",{signature:{args:[new ee("x",ne.Float)],returns:ne.Float},impl:(e,t)=>new H(Math.atan(t.getValue()))}),Bm=new se("Cos",{signature:{args:[new ee("x",ne.Float)],returns:ne.Float},impl:(e,t)=>new H(Math.cos(t.getValue()))}),Um=new se("Sin",{signature:{args:[new ee("x",ne.Float)],returns:ne.Float},impl:(e,t)=>new H(Math.sin(t.getValue()))}),jm=new se("Tan",{signature:{args:[new ee("x",ne.Float)],returns:ne.Float},impl:(e,t)=>new H(Math.tan(t.getValue()))}),Vm=new se("Exp",{signature:{args:[new ee("x",ne.Float)],returns:ne.Float},impl:(e,t)=>new H(Math.exp(t.getValue()))}),Gm=new se("Log",{signature:{args:[new ee("x",ne.Float)],returns:ne.Float},impl:(e,t)=>new H(Math.log(t.getValue()))}),zm=new se("Sqr",{signature:{args:[new ee("x",ne.Float)],returns:ne.Float},impl:(e,t)=>new H(Math.sqrt(t.getValue()))}),Wm=new se("Rnd",{signature:{args:[new ee("range",ne.Int32)],returns:ne.Dynamic},impl:(e,t)=>0===t.getValue()?new H(Math.random()):new Y(Math.floor(Math.random()*t.getValue()+1))}),qm=new se("Tab",{signature:{args:[new ee("position",ne.Int32)],returns:ne.String},impl:(e,t)=>{const r=t.getValue(),n=e.stdout.position();return new Ee(r<0||r<n?"":" ".repeat(r-n))}}),$m=new se("Pos",{signature:{args:[new ee("dummy",ne.Dynamic)],returns:ne.Int32},impl:e=>new Y(e.stdout.position())});function Hm(e,t,r){try{const n=new ky(e.options);e.manifest.forEach(((e,t)=>{n.manifest.set(t,e)})),e.deviceInfo.forEach(((e,t)=>{n.deviceInfo.set(t,e)}));const i=new Map;if(t.forEach((t=>{e.fileSystem.existsSync(t.value)&&i.set(t.value,e.fileSystem.readFileSync(t.value,"utf8"))})),0!==i.size){const e=Nv(i,n.manifest);return n.exec(e.statements,i,...r)[0]||Ie.Instance}}catch(e){}return Ie.Instance}const Xm=new se("Run",...se.variadic({signature:{args:[new ee("filename",ne.String)],returns:ne.Dynamic},impl:(e,t,...r)=>Hm(e,[t],r)}),...se.variadic({signature:{args:[new ee("filenameArray",ne.Object)],returns:ne.Dynamic},impl:(e,t,...r)=>t instanceof he&&t.getElements().every(Jp)?Hm(e,t.getElements(),r):Ie.Instance})),Ym=new se("UCase",{signature:{args:[new ee("s",ne.String)],returns:ne.String},impl:(e,t)=>new Ee(t.value.toUpperCase())}),Km=new se("LCase",{signature:{args:[new ee("s",ne.String)],returns:ne.String},impl:(e,t)=>new Ee(t.value.toLowerCase())}),Zm=new se("Asc",{signature:{args:[new ee("letter",ne.String)],returns:ne.String},impl:(e,t)=>new Y(t.value.charCodeAt(0)||0)}),Jm=new se("Chr",{signature:{args:[new ee("ch",ne.Int32)],returns:ne.String},impl:(e,t)=>{const r=t.getValue();return new Ee(r<=0?"":String.fromCharCode(r))}}),Qm=new se("Left",{signature:{args:[new ee("s",ne.String),new ee("n",ne.Int32)],returns:ne.String},impl:(e,t,r)=>new Ee(t.value.slice(0,r.getValue()))}),ey=new se("Right",{signature:{args:[new ee("s",ne.String),new ee("n",ne.Int32)],returns:ne.String},impl:(e,t,r)=>r.getValue()<=0?new Ee(""):new Ee(t.value.slice(-r.getValue()))}),ty=new se("Instr",{signature:{args:[new ee("start",ne.Int32),new ee("str",ne.String),new ee("search",ne.String)],returns:ne.String},impl:(e,t,r,n)=>new Y(r.value.indexOf(n.value,t.getValue()-1)+1)}),ry=new se("Len",{signature:{args:[new ee("s",ne.String)],returns:ne.Int32},impl:(e,t)=>new Y(t.value.length)}),ny=new se("Mid",{signature:{args:[new ee("s",ne.String),new ee("p",ne.Int32)],returns:ne.String},impl:(e,t,r)=>{let n=r.getValue()-1;return new Ee(t.value.substring(n))}},{signature:{args:[new ee("s",ne.String),new ee("p",ne.Int32),new ee("n",ne.Int32)],returns:ne.String},impl:(e,t,r,n)=>{let i=r.getValue()-1;return new Ee(t.value.substring(i,i+n.getValue()))}}),iy=new se("Str",{signature:{args:[new ee("value",ne.Float)],returns:ne.String},impl:(e,t)=>{const r=t.getValue();return new Ee((r>=0?" ":"")+String(r))}}),sy=new se("StrI",{signature:{args:[new ee("value",ne.Int32),new ee("radix",ne.Int32,new Y(10))],returns:ne.String},impl:(e,t,r)=>{let n=r.getValue();if(n<2||n>36)return new Ee("");const i=t.getValue();return new Ee((i>=0&&10===n?" ":"")+i.toString(n))}}),ay=new se("String",{signature:{args:[new ee("n",ne.Int32),new ee("str",ne.String)],returns:ne.String},impl:(e,t,r)=>new Ee(r.value.repeat(t.getValue()))}),oy=new se("StringI",{signature:{args:[new ee("n",ne.Int32),new ee("ch",ne.Int32)],returns:ne.String},impl:(e,t,r)=>new Ee(String.fromCharCode(r.getValue()).repeat(t.getValue()))}),cy=new se("Substitute",{signature:{args:[new ee("str",ne.String),new ee("arg0",ne.String),new ee("arg1",ne.String,new Ee("")),new ee("arg2",ne.String,new Ee("")),new ee("arg3",ne.String,new Ee(""))],returns:ne.String},impl:(e,t,r,n,i,s)=>{let a=[r,n,i,s].reduce(((e,t,r)=>e.replace(new RegExp(`\\{${r}\\}`,"g"),t.value)),t.value);return new Ee(a)}}),uy=new se("Val",{signature:{args:[new ee("s",ne.String),new ee("radix",ne.Int32,Ie.Instance)],returns:ne.Dynamic},impl:(e,t,r)=>{const n=t.value.includes(".");let i=0;return i=n||r instanceof Ie?Number(t.value):parseInt(t.value,r.getValue()),Number.isNaN(i)?new Y(0):n?new H(i):new Y(i)}}),ly=new se("StrToI",{signature:{args:[new ee("s",ne.String)],returns:ne.Int32},impl:(e,t)=>{let r=parseInt(t.value);return Number.isNaN(r)?new Y(0):new Y(r)}}),hy=new se("type",{signature:{args:[new ee("variable",ne.Dynamic),new ee("version",ne.Int32,new Y(2))],returns:ne.String},impl:(e,t,r)=>{switch(t.kind){case ne.Object:return new Ee(t.getComponentName());case ne.Interface:return new Ee(t.name);default:return new Ee(ne.toString(t.kind))}}}),fy=new se("Box",{signature:{args:[new ee("value",ne.Dynamic)],returns:ne.Object},impl:(e,t)=>F(t)?t.box():t}),dy=new se("UpTime",{signature:{args:[new ee("dummy",ne.Int32)],returns:ne.Float},impl:e=>{const t=e.deviceInfo.get("startTime");return new H(Math.round((Date.now()-t)/1e3))}}),py=new se("GetGlobalAA",{signature:{args:[],returns:ne.Dynamic},impl:e=>e.environment.getRootM()}),gy=new se("Sleep",{signature:{args:[new ee("timeout",ne.Int32)],returns:ne.Void},impl:(e,t)=>{let r=t.getValue();for(r+=performance.now();performance.now()<r;);return Ie.Instance}}),my=new se("Wait",{signature:{args:[new ee("timeout",ne.Int32),new ee("port",ne.Object)],returns:ne.Dynamic},impl:(e,t,r)=>r.wait(e,t.getValue())}),yy=new se("Tr",{signature:{args:[new ee("source",ne.String)],returns:ne.String},impl:(e,t)=>{let r=e.translations.get(t.value);return r?new Ee(r):t}});function by(e,t="[Function]"){const r=new se(t,{signature:{args:e.parameters,returns:e.returns},impl:(t,...r)=>{t.environment.gotoLabel="";let n=e.location,i=!1;for(;!i;)try{e.body.statements.forEach((e=>t.execute(e))),i=!0}catch(e){if(!(e instanceof kg))throw e;t.environment.gotoLabel=e.label.toLowerCase(),n=e.location}return""!==t.environment.gotoLabel&&t.addError(new A(C.MissingLineNumber,n,t.stack.slice(0,-1))),Ie.Instance}});return r.setLocation(e.location),r}let vy=!1;function wy(e,t,r,n,i){for(function(e,t,r,n,i){const s=it(e.sourceMap.get(t.file));let a="BrightScript Micro Debugger.\r\n",o=t.start.line;if(vy){const t=s[o-1].trimEnd();e.stdout.write(`print,${o.toString().padStart(3,"0")}: ${t}\r\n`)}else{postMessage("debug,stop"),a+="Enter any BrightScript statement, debug commands, or HELP\r\n\r\n",a+="\r\nCurrent Function:\r\n";let t=Math.max(o-8,1),c=Math.min(o+5,s.length);for(let e=t;e<c;e++){const t=e===o?"*":" ",r=s[e-1].trimEnd();a+=`${e.toString().padStart(3,"0")}:${t} ${r}\r\n`}a+="Source Digest(s):\r\n",a+=`pkg: dev ${e.getChannelVersion()} 5c04534a `,a+=`${e.manifest.get("title")||"brs"}\r\n\r\n`,a+=`${n??"STOP"} (runtime error &h${i?nt(i):"f7"}) in ${e.formatLocation()}`,a+="\r\nBacktrace: \r\n",e.stdout.write(`print,${a}`),e.stdout.write(`print,${e.formatBacktrace(r)}`),e.stdout.write("print,Local variables:\r\n"),e.stdout.write(`print,${e.formatVariables()}`)}}(e,r,t,n,i);;){let i="";i=Sy(e);const s=Iy(i);if(s.cmd!==Ye.EXPR){switch(s.cmd){case Ye.CONT:if(n){e.stdout.write("print,Can't continue");continue}return vy=!1,e.debugMode=!1,postMessage("debug,continue"),!0;case Ye.STEP:if(n){e.stdout.write("print,Can't continue");continue}return vy=!0,e.debugMode=!0,!0;case Ye.EXIT:return!1}xy(e,t,r,s.cmd)}else Ey(e,s.expr)}}function Sy(e){let t="";e.stdout.write("print,\r\nBrightscript Debugger> "),Atomics.wait(e.sharedArray,qe.DBG,-1);const r=Atomics.load(e.sharedArray,qe.DBG);return Atomics.store(e.sharedArray,qe.DBG,-1),r===Ye.EXPR&&(t=e.readDataBuffer()),t}async function Ey(e,t){const r=new Sg,n=new am;if(e.debugMode=!1,0===t.trim().length)return;const i=r.scan(`${t}\n`,"debug");if(i.errors.length>0)return void e.stderr.write(`error,${i.errors[0].message}\r\n`);const s=n.parse(i.tokens);s.errors.length>0?e.stderr.write(`error,${s.errors[0].message}\r\n`):s.statements.length>0&&function(e,t){try{t instanceof Cg?e.visitAssignment(t):t instanceof Yg?e.visitDottedSet(t):t instanceof Kg?e.visitIndexedSet(t):t instanceof jg?e.visitPrint(t):t instanceof Og?e.visitExpression(t):t instanceof Ug?e.visitIncrement(t):t instanceof Bg?e.visitIf(t):t instanceof $g?e.visitFor(t):t instanceof Hg?e.visitForEach(t):t instanceof Xg?e.visitWhile(t):t instanceof Ng?e.visitNamedFunction(t):e.stderr.write("warning,Debug command/expression not supported!\r\n")}catch(t){let r=t.message;t instanceof k&&(r=t.format()),e.stderr.write(`error,${r}\r\n`)}}(e,s.statements[0])}function xy(e,t,r,n){const i=e.stack,s=it(e.sourceMap.get(r.file)),a=it(e.sourceMap.get(t.file));let o=r.start.line,c=t.start.line,u="",l="";switch(n){case Ye.BT:l=`print,${e.formatBacktrace(t)}`;break;case Ye.HELP:l=`print,${function(){let e="";return e+="Command List:\r\n",e+="   bt              Print backtrace of call function context frames\r\n",e+="   classes         List public classes\r\n",e+="   cont|c          Continue script execution\r\n",e+="   exit|quit|q     Exit shell\r\n",e+="   last|l          Show last line that executed\r\n",e+="   next|n          Show the next line to execute\r\n",e+="   list            List current function\r\n",e+="   bscs            Summarize BrightScript Component instances\r\n",e+="   stats           Shows statistics\r\n",e+="   step|s|t        Step one program statement\r\n",e+="   thread|th       Show selected thread\r\n",e+="   threads|ths     List all threads of execution\r\n",e+="   over|v          Step over one program statement (for now act as step)\r\n",e+="   out|o           Step out from current function (for now act as step)\r\n",e+="   var             Display local variables and their types/values\r\n",e+="   print|p|?       Print variable value or expression\r\n\r\n",e+="   Type any expression for a live compile and run, in the context\r\n",e+="   of the current function.  Put the 'stop' statement in your code\r\n",e+="   to trigger a breakpoint.  Then use 'c', 's', or other commands.\r\n","Command List:\r\n   bt              Print backtrace of call function context frames\r\n   classes         List public classes\r\n   cont|c          Continue script execution\r\n   exit|quit|q     Exit shell\r\n   last|l          Show last line that executed\r\n   next|n          Show the next line to execute\r\n   list            List current function\r\n   bscs            Summarize BrightScript Component instances\r\n   stats           Shows statistics\r\n   step|s|t        Step one program statement\r\n   thread|th       Show selected thread\r\n   threads|ths     List all threads of execution\r\n   over|v          Step over one program statement (for now act as step)\r\n   out|o           Step out from current function (for now act as step)\r\n   var             Display local variables and their types/values\r\n   print|p|?       Print variable value or expression\r\n\r\n   Type any expression for a live compile and run, in the context\r\n   of the current function.  Put the 'stop' statement in your code\r\n   to trigger a breakpoint.  Then use 'c', 's', or other commands.\r\n"}()}`;break;case Ye.LAST:u=s[o-1].trimEnd(),l=`print,${o.toString().padStart(3,"0")}: ${u}\r\n`;break;case Ye.LIST:l=`print,${function(e,t,r){let n="";if(e.length>0){const i=e[e.length-1],s=i.functionLocation.start.line,a=Math.min(i.functionLocation.end.line,t.length);for(let e=s;e<=a;e++){const i=e===r?"*":" ",s=t[e-1].trimEnd();n+=`${e.toString().padStart(3,"0")}:${i} ${s}\r\n`}}return n}(i,a,t.file===r.file?o:c)}`;break;case Ye.NEXT:u=a[c-1].trimEnd(),l=`print,${c.toString().padStart(3,"0")}: ${u}\r\n`;break;case Ye.THREAD:u=s[o-1].trim(),l="print,Thread selected: ",l+=` 0*   ${e.formatLocation(t).padEnd(40)}${u}\r\n`;break;case Ye.THREADS:u=s[o-1].trim(),l="print,ID    Location                                Source Code\r\n",l+=` 0*   ${e.formatLocation(t).padEnd(40)}${u}\r\n`,l+="  *selected\r\n";break;case Ye.BSCS:{const e=Array.from(Ov.keys()).sort();let t=0;l="print,";for(const r of e){const e=Ov.get(r);e&&(l+=`${r}: `.padStart(27),l+=`count=${e}\r\n`,t+=e)}l+="Total # components: ".padStart(27),l+=`${t}\r\n`;break}case Ye.STATS:l=`print,${e.formatStats()}`;break;case Ye.CLASSES:l=`print,${Hp.keys().sort().join("\r\n")}\r\n`;break;case Ye.VAR:l=`print,${e.formatVariables()}`;break;case Ye.BREAK:l="warning,Micro Debugger already running!\r\n";break;case Ye.PAUSE:break;default:l="warning,Invalid Debug command/expression!\r\n"}l.length&&e.stdout.write(l)}function Iy(e){let t={cmd:Ye.EXPR,expr:""};if(e?.length){const r=new Map([["bscs",Ye.BSCS],["bt",Ye.BT],["classes",Ye.CLASSES],["cont",Ye.CONT],["c",Ye.CONT],["exit",Ye.EXIT],["q",Ye.EXIT],["quit",Ye.EXIT],["help",Ye.HELP],["last",Ye.LAST],["l",Ye.LAST],["list",Ye.LIST],["next",Ye.NEXT],["n",Ye.NEXT],["over",Ye.STEP],["out",Ye.STEP],["step",Ye.STEP],["stats",Ye.STATS],["s",Ye.STEP],["t",Ye.STEP],["thread",Ye.THREAD],["th",Ye.THREAD],["threads",Ye.THREADS],["ths",Ye.THREADS],["var",Ye.VAR],["break",Ye.BREAK],["pause",Ye.PAUSE]]);let n=e.trim().split(/(?<=^\S+)\s/),i=r.get(n[0].toLowerCase());if(void 0!==i&&1===n.length)t.cmd=i;else{let r=e.toString().trim();"p"===n[0].toLowerCase()&&(r="? "+r.slice(1)),t.expr=r}}return t}var _y=__webpack_require__(5606);const Ty={entryPoint:!1,stopOnCrash:!1,stdout:_y.stdout,stderr:_y.stderr,post:!0};class ky{_stack=new Array;_startTime=Date.now();_creationTime="2025-02-01T01:34:16.917Z";_environment;_sourceMap=new Map;_runParams;_tryMode=!1;_dotLevel=0;_singleKeyEvents=!0;location={file:"",start:{line:0,column:0},end:{line:0,column:0}};static InternalLocation={file:"(internal)",start:{line:-1,column:-1},end:{line:-1,column:-1}};fileSystem;options=Ty;manifest=new Map;deviceInfo=new Map;registry=new Map;translations=new Map;sharedArray=Rv.get("buffer")||new Int32Array([]);isDevMode=!1;stdout;stderr;events=new f.EventEmitter;errors=[];get environment(){return this._environment}get sourceMap(){return this._sourceMap}get runParams(){return this._runParams}get stack(){return this._stack}get startTime(){return this._startTime}get singleKeyEvents(){return this._singleKeyEvents}get creationTime(){return this._creationTime}displayEnabled=!0;lastRemote=0;lastKeyTime=Date.now();currKeyTime=Date.now();debugMode=!1;setManifest(e){e.forEach(((e,t)=>{this.manifest.set(t,e),"multi_key_events"===t.toLowerCase()&&(this._singleKeyEvents="1"!==e.trim())}))}setRegistry(e){e.forEach(((e,t)=>{this.registry.set(t,e)}))}onError(e){return this.events.on("err",e),{dispose:()=>{this.events.removeListener("err",e)}}}onErrorOnce(e){this.events.once("err",e)}constructor(e){this._environment=new L(new oe([])),Object.assign(this.options,e),this.stdout=new om(this.options.stdout,this.options.post),this.stderr=new om(this.options.stderr,this.options.post),this.fileSystem=new oo(this.options.root,this.options.ext);for(const[e,t]of Object.entries(Ge))["registry","fonts"].includes(e)||this.deviceInfo.set(e,t);const t=new Set;Object.keys(u).map((e=>u[e])).filter((e=>e instanceof se)).filter((e=>{if(!e.name)throw new Error("Unnamed standard library function detected!");return!!e.name})).forEach((e=>{this._environment.define(O.Global,e.name??"",e),e.name&&mg.has(e.name)&&t.add(e.name)})),this._environment.define(O.Global,"global",new d("ifGlobal",t))}inSubEnv(e,t){let r,n=this._environment,i=t??this._environment.createSubEnvironment();try{this._environment=i;const t=e(this);return this._environment=n,t}catch(e){throw this._tryMode||!this.options.stopOnCrash||e instanceof Eg?e instanceof Ag&&e.value instanceof p&&(r=e.value,r.setReturn(!0)):n=this._environment,this._environment=n,e}finally{i.removeReferences(),r?.setReturn(!1)}}exec(e,t,...r){t&&(this._sourceMap=t);let n=e.map((e=>this.execute(e)));try{let e="RunUserInterface",t=this.getCallableFunction(e.toLowerCase());if(t.kind!==ne.Callable&&(e="Main",t=this.getCallableFunction(e.toLowerCase())),t.kind===ne.Callable){let i=new T({kind:lg.Identifier,text:e.toLowerCase(),isReserved:!1,location:ky.InternalLocation});r.length>0&&r[0]instanceof oe&&(this._runParams=r[0]),0===t.signatures[0].signature.args.length&&(r=[]),postMessage(`start,${i.name.text}`),n=[this.visitCall(new m(i,i.name,r.map((e=>new E(e,i.location)))))]}else if(this.options.entryPoint)throw new A({errno:C.MissingMainFunction.errno,message:"No entry point found! You must define a function Main() or RunUserInterface()"},ky.InternalLocation)}catch(e){if(!(e instanceof Ag)){if(e instanceof k){const t=this.formatBacktrace(e.location,!0,e.backTrace);throw new Error(`${e.format()}\nBackTrace:\n${t}`,{cause:e})}throw e}n=[e.value??Ie.Instance]}return n}getCallableFunction(e){let t=new T({kind:lg.Identifier,text:e,isReserved:!1,location:ky.InternalLocation}),r=this.evaluate(t);return r.kind===ne.Callable?r:Ie.Instance}visitLibrary(e){return Ie.Instance}visitNamedFunction(e){return e.name.isReserved&&this.addError(new k(`Cannot create a named function with reserved name '${e.name.text}'`,e.name.location)),this.environment.has(e.name,[O.Module])&&this.addError(new k(`Attempting to declare function '${e.name.text}', but a property of that name already exists in this scope.`,e.name.location)),this.environment.define(O.Module,e.name.text,by(e.func,e.name.text)),Ie.Instance}visitReturn(e){if(!e.value)throw new Ag(e.tokens.return.location);const t=this.evaluate(e.value);throw new Ag(e.tokens.return.location,t)}visitExpression(e){return this.evaluate(e.expression)}visitPrint(e){this.environment.define(O.Function,"Tab",qm);let t="";e.expressions.forEach(((e,r)=>{if(gg(e))switch(e.kind){case lg.Comma:{const e=" ".repeat(16-this.stdout.position()%16);t+=e,this.stdout.position(e);break}case lg.Semicolon:break;default:this.addError(new k(`Found unexpected print separator '${e.text}'`,e.location))}else{const r=this.evaluate(e),n=rg(r)&&this.isPositive(r.getValue())?" "+r.toString():r.toString();t+=n,this.stdout.position(n)}}));let r=e.expressions[e.expressions.length-1];return gg(r)&&r.kind===lg.Semicolon||(t+="\r\n"),this.stdout.write(`print,${t}`),this.environment.remove("Tab"),Ie.Instance}visitStop(e){return this.debugMode=!0,Ie.Instance}visitAssignment(e){e.name.isReserved&&this.addError(new k(`Cannot assign a value to reserved name '${e.name.text}'`,e.name.location));let t=this.evaluate(e.value),r=e.name.text,n={$:ne.String,"%":ne.Int32,"!":ne.Float,"#":ne.Double,"&":ne.Int64}[r.charAt(r.length-1)];if(n){let r=K(t,n);null!=r?t=r:this.addError(new M({message:"Unable to cast",left:{type:n,location:e.name.location},right:{type:t,location:e.value.location},cast:!0}))}try{this.environment.define(O.Function,e.name.text,t,e.name.location)}catch(e){this.addError(e)}return Ie.Instance}visitDim(e){if(e.name.isReserved)return this.addError(new k(`Cannot assign a value to reserved name '${e.name.text}'`,e.name.location)),Ie.Instance;let t=[];e.dimensions.forEach((e=>{let r=this.evaluate(e);r.kind!==ne.Int32&&r.kind!==ne.Float&&this.addError(new A(C.NonNumericArrayIndex,e.location)),t.push(r.getValue()+1)}));let r=(e=0)=>{let n=[],i=t[e];for(let s=0;s<i;s++)if(e<t.length){let t=r(e+1);void 0!==t&&n.push(t)}return new he(n)},n=r();try{this.environment.define(O.Function,e.name.text,n,e.name.location)}catch(e){this.addError(e)}return Ie.Instance}visitBinary(e){let t=e.token.kind,r=this.evaluate(e.left),n=Ie.Instance;function i(e,t,r){return e.kind===ne.Invalid||r.kind===ne.Invalid?t===lg.Equal||t===lg.LessGreater:(e.kind<ne.Dynamic||N(e)||Se(e))&&(r.kind<ne.Dynamic||N(r)||Se(r))}switch(t!==lg.And&&t!==lg.Or&&(n=this.evaluate(e.right)),ig(r)&&(r=r.unbox()),ig(n)&&(n=n.unbox()),t){case lg.LeftShift:case lg.LeftShiftEqual:return Xp(r)&&Xp(n)&&this.isPositive(n.getValue())&&this.lessThan(n.getValue(),32)?r.leftShift(n):Xp(r)&&Xp(n)?this.addError(new A(C.BadBitShift,e.right.location)):this.addError(new M({message:'Operator "<<" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.RightShift:case lg.RightShiftEqual:return Xp(r)&&Xp(n)&&this.isPositive(n.getValue())&&this.lessThan(n.getValue(),32)?r.rightShift(n):Xp(r)&&Xp(n)?this.addError(new A(C.BadBitShift,e.right.location)):this.addError(new M({message:'Operator ">>" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Minus:case lg.MinusEqual:return Xp(r)&&Xp(n)?r.subtract(n):this.addError(new M({message:'Operator "-" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Star:case lg.StarEqual:return Xp(r)&&Xp(n)?r.multiply(n):this.addError(new M({message:'Operator "*" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Caret:return Xp(r)&&Xp(n)?r.pow(n):this.addError(new M({message:'Operator "^" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Slash:case lg.SlashEqual:return Xp(r)&&Xp(n)?r.divide(n):this.addError(new M({message:'Operator "/" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Mod:return Xp(r)&&Xp(n)?r.modulo(n):this.addError(new M({message:'Operator "mod" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Backslash:case lg.BackslashEqual:return Xp(r)&&Xp(n)?r.intDivide(n):this.addError(new M({message:'Operator "\\" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Plus:case lg.PlusEqual:return Xp(r)&&Xp(n)?r.add(n):ng(r)&&ng(n)?r.concat(n):this.addError(new M({message:'Operator "+" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Greater:return rg(r)&&rg(n)||ng(r)&&ng(n)?r.greaterThan(n):this.addError(new M({message:'Operator ">" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.GreaterEqual:return rg(r)&&rg(n)||ng(r)&&ng(n)?r.greaterThan(n).or(r.equalTo(n)):this.addError(new M({message:'Operator ">=" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Less:return rg(r)&&rg(n)||ng(r)&&ng(n)?r.lessThan(n):this.addError(new M({message:'Operator "<" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.LessEqual:return rg(r)&&rg(n)||ng(r)&&ng(n)?r.lessThan(n).or(r.equalTo(n)):this.addError(new M({message:'Operator "<=" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Equal:return i(r,t,n)?r.equalTo(n):this.addError(new M({message:'Operator "=" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.LessGreater:return i(r,t,n)?r.equalTo(n).not():this.addError(new M({message:'Operator "<>" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.And:return Qp(r)&&!r.toBoolean()?xe.False:Qp(r)?(n=this.evaluate(e.right),Qp(n)||Xp(n)?r.and(n):this.addError(new M({message:'Operator "and" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}))):Xp(r)?(n=this.evaluate(e.right),Xp(n)||Qp(n)?r.and(n):this.addError(new M({message:'Operator "and" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}))):this.addError(new M({message:'Operator "and" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case lg.Or:return Qp(r)&&r.toBoolean()?xe.True:Qp(r)?(n=this.evaluate(e.right),Qp(n)||Xp(n)?r.or(n):this.addError(new M({message:'Operator "or" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}))):Xp(r)?(n=this.evaluate(e.right),Xp(n)||Qp(n)?r.or(n):this.addError(new M({message:'Operator "or" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}))):this.addError(new M({message:'Operator "or" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));default:this.addError(new k(`Received unexpected token kind '${e.token.kind}'`,e.token.location))}}visitTryCatch(e){let t=this._tryMode;try{this._tryMode=!0,this.visitBlock(e.tryBlock),this._tryMode=t}catch(r){if(this._tryMode=t,!(r instanceof k)||r instanceof kg)throw r;this.environment.define(O.Function,e.errorBinding.name.text,this.formatErrorVariable(r)),this.visitBlock(e.catchBlock)}return Ie.Instance}visitThrow(e){let t=C.UserDefined;t.message="";let r=this.evaluate(e.value);if(ng(r))throw t.message=r.getValue(),new A(t,e.location,this._stack.slice());if(!(r instanceof oe))throw t=C.MalformedThrow,t.message="Thrown value neither string nor roAssociativeArray.",new A(t,e.location,this._stack.slice());const n=new Map;for(const[e,a]of r.elements)if("number"===e.toLowerCase()?t=i(a,t):"message"===e.toLowerCase()?t=s(a,t):"backtrace"===e.toLowerCase()?a instanceof he?(n.set("backtrace",a),n.set("rethrown",xe.True)):(t=C.MalformedThrow,t.message='Thrown "backtrace" is not an object.'):"rethrown"!==e.toLowerCase()&&n.set(e,a),t.errno===C.MalformedThrow.errno){n.clear();break}throw new A(t,e.location,this._stack.slice(),n);function i(e,t){if(e instanceof Y){if(t.errno=e.getValue(),""===t.message){const r=function(e){for(const[t,r]of Object.entries(C))if(r.errno===e)return r;return null}(e.getValue());t.message=r?r.message:"UNKNOWN ERROR"}}else if(!(e instanceof Ie))return{errno:C.MalformedThrow.errno,message:'Thrown "number" is not an integer.'};return t}function s(e,t){if(e instanceof Ee)t.message=e.toString();else if(!(e instanceof Ie))return{errno:C.MalformedThrow.errno,message:'Thrown "message" is not a string.'};return t}}visitBlock(e){return e.statements.forEach((e=>this.execute(e))),Ie.Instance}visitGoto(e){throw new kg(e.location,e.tokens.label.text)}visitContinueFor(e){throw new xg(e.location)}visitExitFor(e){throw new Ig(e.location)}visitContinueWhile(e){throw new _g(e.location)}visitExitWhile(e){throw new Tg(e.location)}visitCall(e){let t="[anonymous function]";(e.callee instanceof T||e.callee instanceof v)&&(t=e.callee.name.text);const r=this.evaluate(e.callee),n=r instanceof Pp?r.unbox():r;let i=e.args.map(this.evaluate,this);if(!eg(n)){if(n instanceof Ie&&e.optional)return n;this.addError(new A(C.NotAFunction,e.closingParen.location))}t=n.getName();let s=n.getFirstSatisfiedSignature(i);if(s)try{let r=this._environment.getRootM(),a=s.signature;return i=i.map(((e,t)=>a.args[t]?.type.kind===ne.Object&&F(e)?e.box():e)),e.callee instanceof v&&(r=n.getContext()??r),this.inSubEnv((s=>{s.environment.setM(r),this._stack.push({functionName:t,functionLocation:n.getLocation()??this.location,callLocation:e.callee.location,signature:a});try{const e=n.call(this,...i);return this._stack.pop(),e}catch(e){if(this._stack.pop(),!this._tryMode&&this.options.stopOnCrash&&!(e instanceof Eg)&&!Pv.includes(e.message)){let t=C.Internal.errno;e instanceof A&&(t=e.errorDetail.errno),wy(this,this.location,this.location,e.message,t),this.options.stopOnCrash=!1}throw e}}))}catch(e){if(!(e instanceof Eg)){if(Pv.includes(e.message))throw new Error(e.message);if(e instanceof k)throw e;if(this.isDevMode&&e.message.length>0)throw console.error(e),new Error("");throw new Error(e.message)}if(Pv.includes(e.message))throw new Error(e.message);let t=e.value,r=e.location;const n=s.signature.returns;if(t&&n===ne.Void&&this.addError(new A(C.ReturnWithValue,r)),t||n===ne.Void||this.addError(new A(C.ReturnWithoutValue,r)),t){let e=K(t,n);if(null!=e)return e}return t&&n!==ne.Dynamic&&n!==t.kind&&this.addError(new M({message:"Unable to cast",left:{type:n,location:r},right:{type:t,location:r},cast:!0})),t??Ie.Instance}else this.addError(J(n,i,e.closingParen.location))}visitAtSignGet(e){let t=this.evaluate(e.obj);if(t instanceof Ie&&e.optional)return t;if(tg(t)&&(t instanceof dp||t instanceof fp))try{return t.getAttribute(new Ee(e.name.text))}catch(t){this.addError(new k(t.message,e.name.location))}else this.addError(new M({message:'Expected "roXMLList" or "roXMLElement" not',left:{type:t,location:e.location}}))}visitDottedGet(e){e.obj instanceof v&&this._dotLevel++;let t=this.evaluate(e.obj),r=F(t)?t.box():t;if(r instanceof p){if(r.hasInterface(e.name.text))return this._dotLevel>0?r:this.addError(new A(C.BadSyntax,e.name.location));let t="";if(e.obj instanceof v){const n=e.obj.name.text;t=r.hasInterface(n)?n:""}r.setFilter(t)}else if(r instanceof d&&"ifGlobal"===r.name&&r.hasMethod(e.name.text))for(const t in u)if(t.toLowerCase()===e.name.text.toLowerCase()){const e=u[t];if(e instanceof se)return e;break}if(this._dotLevel=0,tg(t))try{const r=t.get(new Ee(e.name.text));return eg(r)&&t instanceof oe&&r.setContext(t),r}catch(t){this.addError(new k(t.message,e.name.location))}let n=C.DotOnNonObject;if(r instanceof p){const i=Ie.Instance.equalTo(t).toBoolean();if(i&&e.optional)return t;const s=r.getMethod(e.name.text);if(s)return s;i||(n=C.MemberFunctionNotFound)}this.addError(new A(n,e.name.location))}visitIndexedGet(e){let t=this.evaluate(e.obj);if(!tg(t)){if(t instanceof Ie&&e.optional)return t;this.addError(new A(C.UndimmedArray,e.location))}if(t instanceof oe||t instanceof dp){1!==e.indexes.length&&this.addError(new A(C.WrongNumberOfParams,e.closingSquare.location));let r=this.evaluate(e.indexes[0]);Jp(r)||this.addError(new M({message:'"String" should be used as key, but received',left:{type:r,location:e.indexes[0].location}}));try{return t.get(r,!0)}catch(t){this.addError(new k(t.message,e.closingSquare.location))}}t instanceof To&&1!==e.indexes.length&&this.addError(new A(C.BadNumberOfIndexes,e.closingSquare.location));let r=t;for(let t of e.indexes){let n=this.evaluate(t);if(Xp(n)||this.addError(new A(C.NonNumericArrayIndex,t.location)),r instanceof he||r instanceof To||r instanceof me||r instanceof fp)try{r=r.get(n)}catch(e){this.addError(new k(e.message,t.location))}else this.addError(new A(C.BadNumberOfIndexes,e.location))}return r}visitGrouping(e){return this.evaluate(e.expression)}visitFor(e){let t=this.evaluate(e.increment);t instanceof H&&(t=new Y(Math.trunc(t.getValue())));const r=e.counterDeclaration.name,n=new Cg({equals:e.tokens.for},r,new g(new T(r),{kind:lg.Plus,text:"+",isReserved:!1,location:ky.InternalLocation},new E(t,e.increment.location)));let i;this.environment.continueFor?(this.execute(n),i=this.evaluate(new T(r)),this.environment.continueFor=!1):(this.execute(e.counterDeclaration),i=this.evaluate(e.counterDeclaration.value));const s=this.evaluate(e.finalValue);if(i.getValue()>s.getValue()&&t.getValue()>0||i.getValue()<s.getValue()&&t.getValue()<0)return Ie.Instance;if(t.getValue()>0)for(;this.evaluate(new T(r)).greaterThan(s).not().toBoolean();){try{this.execute(e.body)}catch(e){if(e instanceof Ig)break;if(!(e instanceof xg))throw e}this.execute(n)}else for(;this.evaluate(new T(r)).lessThan(s).not().toBoolean();){try{this.execute(e.body)}catch(e){if(e instanceof Ig)break;if(!(e instanceof xg))throw e}this.execute(n)}return Ie.Instance}visitForEach(e){let t=this.evaluate(e.target);if(!tg(t)){const r=`BRIGHTSCRIPT: ERROR: Runtime: FOR EACH value is ${ne.toString(t.kind)}`,n=`${e.item.location.file}(${e.item.location.start.line})`;return this.stderr.write(`warning,${r}: ${n}`),Ie.Instance}let r=0;this.environment.continueFor&&(r=this.environment.continueForEach,this.environment.continueFor=!1,this.environment.continueForEach=0);let n=0;for(t.resetNext();t.hasNext()===xe.True;){const i=t.getNext();this.environment.define(O.Function,e.item.text,i);try{r<=n&&this.execute(e.body)}catch(e){if(e instanceof Ig)break;if(!(e instanceof xg))throw e instanceof kg?(this.environment.continueForEach=n+1,e):e}n++}return Ie.Instance}visitWhile(e){for(;this.evaluate(e.condition).equalTo(xe.True).toBoolean();)try{this.execute(e.body)}catch(e){if(e instanceof Tg)break;if(!(e instanceof _g))throw e}return Ie.Instance}visitIf(e){if(this.evaluate(e.condition).equalTo(xe.True).toBoolean())return this.execute(e.thenBranch),Ie.Instance;for(const t of e.elseIfs||[])if(this.evaluate(t.condition).equalTo(xe.True).toBoolean())return this.execute(t.thenBranch),Ie.Instance;return e.elseBranch&&this.execute(e.elseBranch),Ie.Instance}visitAnonymousFunction(e){return by(e)}visitLiteral(e){return e.value}visitArrayLiteral(e){return new he(e.elements.map((e=>this.evaluate(e))))}visitAALiteral(e){return new oe(e.elements.map((e=>({name:e.name,value:this.evaluate(e.value)}))))}visitDottedSet(e){let t=this.evaluate(e.value),r=this.evaluate(e.obj);tg(r)||this.addError(new A(C.BadLHS,e.name.location));try{r.set(new Ee(e.name.text),t)}catch(t){this.addError(new k(t.message,e.name.location))}return Ie.Instance}visitIndexedSet(e){let t=this.evaluate(e.value),r=this.evaluate(e.obj);if(tg(r)||this.addError(new A(C.BadLHS,e.obj.location)),r instanceof oe||r instanceof dp){1!==e.indexes.length&&this.addError(new A(C.WrongNumberOfParams,e.closingSquare.location));let n=this.evaluate(e.indexes[0]);Jp(n)||this.addError(new M({message:'"String" should be used as key, but received',left:{type:n,location:e.indexes[0].location}}));try{r.set(n,t,!0)}catch(t){this.addError(new k(t.message,e.closingSquare.location))}return Ie.Instance}r instanceof To&&1!==e.indexes.length&&this.addError(new A(C.BadNumberOfIndexes,e.closingSquare.location));let n=r;for(let r=0;r<e.indexes.length;r++){let i=this.evaluate(e.indexes[r]);if(Xp(i)||this.addError(new A(C.NonNumericArrayIndex,e.indexes[r].location)),r<e.indexes.length-1)if(n instanceof he||n instanceof To||n instanceof me||n instanceof fp)try{n=n.get(i)}catch(t){this.addError(new k(t.message,e.closingSquare.location))}else this.addError(new A(C.BadNumberOfIndexes,e.location));else if(n instanceof he||n instanceof To||n instanceof me||n instanceof fp)try{n.set(i,t)}catch(t){this.addError(new k(t.message,e.closingSquare.location))}else this.addError(new A(C.BadNumberOfIndexes,e.location))}return Ie.Instance}visitIncrement(e){let t,r=this.evaluate(e.value);if(ig(r)&&(r=r.unbox()),!Xp(r)){let t=e.token.kind===lg.PlusPlus?"increment":"decrement";this.addError(new M({message:`Attempting to ${t} value of non-numeric type`,left:{type:r,location:e.location}}))}return t=e.token.kind===lg.PlusPlus?r.add(new Y(1)):r.subtract(new Y(1)),e.value instanceof T?this.environment.define(O.Function,e.value.name.text,t):e.value instanceof v?this.execute(new Yg(e.value.obj,e.value.name,new E(t,e.location))):e.value instanceof w&&this.execute(new Kg(e.value.obj,e.value.indexes,new E(t,e.location),e.value.closingSquare)),Ie.Instance}visitUnary(e){let t=this.evaluate(e.right);switch(ig(t)&&(t=t.unbox()),e.operator.kind){case lg.Minus:return Xp(t)?t.multiply(new Y(-1)):this.addError(new M({message:'Operator "-" can\'t be applied to',left:{type:t,location:e.operator.location}}));case lg.Plus:return t;case lg.Not:if(Qp(t)||Xp(t))return t.not();this.addError(new M({message:'Operator "not" can\'t be applied to',left:{type:t,location:e.operator.location}}))}return Ie.Instance}visitVariable(e){try{return this.environment.get(e.name)}catch(e){if(e instanceof P)return _e.Instance;throw e}}evaluate(e){return-1!==e.location.start.line&&(this.location=e.location),e.accept(this)}execute(e){if(""!==this.environment.gotoLabel)return this.searchLabel(e);const t=this.checkBreakCommand();if(t===Ye.BREAK){if(!(e instanceof Rg||wy(this,e.location,this.location)))throw this.options.stopOnCrash=!1,new Eg("debug-exit",e.location)}else if(t===Ye.EXIT)throw this.options.stopOnCrash=!1,new Eg("debug-exit",e.location);return this.location=e.location,e.accept(this)}searchLabel(e){if(e instanceof Gg)return e.tokens.identifier.text.toLowerCase()===this.environment.gotoLabel&&(this.environment.gotoLabel=""),Ie.Instance;if(e instanceof Bg)return this.visitBlock(e.thenBranch),""!==this.environment.gotoLabel&&e.elseBranch&&this.visitBlock(e.elseBranch),Ie.Instance;if(e instanceof Jg)return this.visitBlock(e.catchBlock),Ie.Instance;if(e instanceof $g||e instanceof Hg)try{this.visitBlock(e.body),this.environment.continueFor=""===this.environment.gotoLabel}catch(e){if(this.environment.continueFor=!1,e instanceof Ig)return Ie.Instance;if(!(e instanceof xg))throw e;this.environment.continueFor=!0}else if(e instanceof Xg)try{this.visitBlock(e.body)}catch(e){if(e instanceof Tg)return Ie.Instance;if(!(e instanceof _g))throw e}return""===this.environment.gotoLabel?e.accept(this):Ie.Instance}getMemoryHeapInfo(){let e=874299,t=26229;const r=Atomics.load(this.sharedArray,qe.MHSL),n=Atomics.load(this.sharedArray,qe.MUHS);return r>0&&n>0&&(e=r,t=n),{heapSizeLimit:e,usedHeapSize:t}}formatBacktrace(e,t=!0,r){const n=r??this._stack;let i="";const s=[];for(let r=n.length-1;r>=0;r--){const a=n[r],o=ne.toString(a.signature.returns);let c="";a.signature.args.forEach((e=>{c+=""!==c?",":"",c+=`${e.name.text} As ${ne.toString(e.type.kind)}`}));const u=`${a.functionName}(${c}) As ${o}`;if(t)i+=`#${r}  Function ${u}\r\n`,i+=`   file/line: ${this.formatLocation(e)}\r\n`;else{const t=e.start.line,r={filename:e?.file??"()",function:u,line_number:t};s.unshift(cg(r))}e=a.callLocation}return t?i:new he(s)}formatVariables(e=O.Function){let t=e===O.Function?`${"global".padEnd(16)} Interface:ifGlobal\r\n`:"";return this.environment.getList(e).forEach(((e,r)=>{const n=r.padEnd(17);if(e.kind===ne.Uninitialized)t+=`${n}${ne.toString(e.kind)}\r\n`;else if(Zp.has(e.kind))t+=`${n}${ne.toString(e.kind)} val:${this.formatValue(e)}`;else if(tg(e)){const r=e.getElements().length;t+=`${n}${e.getComponentName()} refcnt=${e.getReferenceCount()} count:${r}\r\n`}else if(e instanceof p&&N(e)){const r=e.unbox();t+=`${n}${e.getComponentName()} refcnt=${e.getReferenceCount()} val:${this.formatValue(r)}`}else e.kind===ne.Object?t+=`${n}${e.getComponentName()} refcnt=${e.getReferenceCount()}\r\n`:e.kind===ne.Callable?t+=`${n}${ne.toString(e.kind)} val:${e.getName()}\r\n`:t+=`${n}${e.toString().substring(0,94)}\r\n`})),t}formatValue(e){let t=e.toString(),r=t.length<=94?"\r\n":"...\r\n";return e instanceof Ee?t=`"${t.substring(0,94)}"`:e instanceof Y?t=`${t} (&h${nt(e.getValue()).toUpperCase()})`:e instanceof z&&(t=`${t} (&h${nt(e.getValue().toNumber()).toUpperCase()})`),`${t}${r}`}formatLocation(e=this.location){let t;return t=e.start.line?`pkg:/${e.file}(${e.start.line})`:`pkg:/${e.file}(??)`,t}formatStats(){let e="Sub Context Data:\r\n",t=this.environment.getList(O.Function).size+2;e+=`  Variables:      ${t}\r\n`;let r=0;return this.sourceMap.forEach((e=>{r+=it(e).length})),e+="Module Constant Table Sizes:\r\n",e+=`  Source Lns:     ${r}\r\n`,Dv.forEach(((t,r)=>{const n=lg[r]+":";e+=`  ${n.padEnd(15)} ${t}\r\n`})),e}getChannelVersion(){return`${parseInt(this.manifest.get("major_version"))||0}.${parseInt(this.manifest.get("minor_version"))||0}.${parseInt(this.manifest.get("build_version"))||0}`}checkBreakCommand(){let e=this.debugMode?Ye.BREAK:-1;return this.debugMode||(e=Atomics.load(this.sharedArray,qe.DBG),e===Ye.BREAK?(Atomics.store(this.sharedArray,qe.DBG,-1),this.debugMode=!0):e===Ye.PAUSE&&(postMessage("debug,pause"),Atomics.wait(this.sharedArray,qe.DBG,Ye.PAUSE),Atomics.store(this.sharedArray,qe.DBG,-1),e=-1,postMessage("debug,continue"))),e}readDataBuffer(){let e="";return this.sharedArray.slice(33).every((t=>(t>0&&(e+=String.fromCharCode(t)),t))),Atomics.store(this.sharedArray,qe.BUF,-1),e}addError(e){throw e.backTrace||(e.backTrace=this._stack.slice()),this._tryMode||(this.errors.push(e),this.events.emit("err",e)),e}formatErrorVariable(e){const t=this.formatBacktrace(e.location,!1,e.backTrace);let r=C.Internal,n=e.message;e instanceof A&&(r=e.errorDetail);const i=cg({backtrace:t,message:n,number:r.errno,rethrown:!1});if(e instanceof A&&e.extraFields?.size)for(const[r,n]of e.extraFields)i.set(new Ee(r),n),"rethrown"===r&&Qp(n)&&n.toBoolean()&&i.set(new Ee("rethrow_backtrace"),t);return i}isPositive(e){return e instanceof U()?e.isPositive():e>=0}lessThan(e,t){return e instanceof U()?e.lessThan(t):e<t}}class Ay{tokens;constructor(e){this.tokens=e}accept(e){return e.visitBrightScript(this)}}class Cy{name;value;constructor(e,t){this.name=e,this.value=t}accept(e){return e.visitDeclaration(this)}}class My{condition;thenChunks;elseIfs;elseChunks;constructor(e,t,r,n){this.condition=e,this.thenChunks=t,this.elseIfs=r,this.elseChunks=n}accept(e){return e.visitIf(this)}}class Ry{hashError;message;constructor(e,t){this.hashError=e,this.message=t}accept(e){return e.visitError(this)}}class Oy{events=new f.EventEmitter;parse(e){let t=0,r=e,n=[];const i=e=>{throw n.push(e),this.events.emit("err",e),e};try{return{chunks:s(),errors:n}}catch(e){return{chunks:[],errors:n}}function s(){let e=[];for(;;){let t=a();t&&e.push(t);let r=h()?new Ay([f()]):void 0;if(r){e.push(r);break}if(!t)break}return e}function a(){if(o(lg.HashConst)){let e=u();c("Expected '=' after #const (name)",lg.Equal);let t=u();return o(lg.Newline),new Cy(e,t)}return function(){if(o(lg.HashIf)){let e,t=d().location.start.line,r=u();o(lg.Newline);let n=s(),i=[];for(;o(lg.HashElseIf);){let e=u();o(lg.Newline),i.push({condition:e,thenChunks:s()})}return o(lg.HashElse)&&(o(lg.Newline),e=s()),c(`Expected '#else if' to close '#if' conditional compilation statement starting on line ${t}`,lg.HashEndIf),o(lg.Newline),new My(r,n,i,e)}return function(){if(l(lg.HashError)){let e=u(),t=u();return new Ry(e,t.text||"")}return function(){let e=[];for(;!l(lg.HashIf,lg.HashElseIf,lg.HashElse,lg.HashEndIf,lg.HashConst,lg.HashError)&&(e.push(u()),!h()););return e.length>0?new Ay(e):void 0}()}()}()}function o(...e){for(let t of e)if(l(t))return u(),!0;return!1}function c(e,...t){return t.map((e=>f().kind===e)).reduce(((e,t)=>e||t),!1)?u():i(new em(f(),e))}function u(){return h()||t++,d()}function l(...e){return!h()&&e.some((e=>f().kind===e))}function h(){return f().kind===lg.Eof}function f(){return r[t]}function d(){return r[t-1]}}}class Dy{constants=new Map;events=new f.EventEmitter;errors=[];addError(e){throw this.errors.push(e),this.events.emit("err",e),e}filter(e,t){return this.constants=new Map(t),{processedTokens:e.map((e=>e.accept(this))).reduce(((e,t)=>[...e,...t]),[]),errors:this.errors}}visitBrightScript(e){return e.tokens}visitDeclaration(e){if(this.constants.has(e.name.text))return this.addError(new k(`Attempting to re-declare #const with name '${e.name.text}'`,e.name.location));let t;switch(e.value.kind){case lg.True:t=!0;break;case lg.False:t=!1;break;case lg.Identifier:if(this.constants.has(e.value.text)){t=this.constants.get(e.value.text);break}return this.addError(new k(`Attempting to create #const alias of '${e.value.text}', but no such #const exists`,e.value.location));default:return this.addError(new k("#const declarations can only have values of `true`, `false`, or other #const names",e.value.location))}return this.constants.set(e.name.text,t),[]}visitError(e){return this.addError(new em(e.hashError,e.message))}visitIf(e){if(this.evaluateCondition(e.condition))return e.thenChunks.map((e=>e.accept(this))).reduce(((e,t)=>[...e,...t]),[]);for(const t of e.elseIfs)if(this.evaluateCondition(t.condition))return t.thenChunks.map((e=>e.accept(this))).reduce(((e,t)=>[...e,...t]),[]);return e.elseChunks?e.elseChunks.map((e=>e.accept(this))).reduce(((e,t)=>[...e,...t]),[]):[]}evaluateCondition(e){switch(e.kind){case lg.True:return!0;case lg.False:return!1;case lg.Identifier:return this.constants.has(e.text)?this.constants.get(e.text):this.addError(new k(`Attempting to reference undefined #const with name '${e.text}'`,e.location));default:return this.addError(new k("#if conditionals can only be `true`, `false`, or other #const names",e.location))}}}class Py{parser=new Oy;_preprocessor=new Dy;events=new f.EventEmitter;onError(e){return this.events.on("err",e),{dispose:()=>{this.events.removeListener("err",e)}}}onErrorOnce(e){this.events.once("err",e)}constructor(){this.parser.events.on("err",(e=>this.events.emit("err",e))),this._preprocessor.events.on("err",(e=>this.events.emit("err",e)))}preprocess(e,t){let r=this.parser.parse(e);return r.errors.length>0?{processedTokens:[],errors:r.errors}:this._preprocessor.filter(r.chunks,Ly(t))}}function Ly(e){if(!e.has("bs_const"))return new Map;let t=e.get("bs_const");if("string"!=typeof t)throw new Error("Invalid bs_const right-hand side.  bs_const must be a string of ';'-separated 'key=value' pairs");let r=t.split(";").filter((e=>!!e)).map((e=>{let t=e.indexOf("=");if(-1===t)throw new Error(`No '=' detected for key ${e}.  bs_const constants must be of the form 'key=value'.`);return[e.slice(0,t),e.slice(t+1)]})).map((([e,t])=>[e.trim(),t.trim()])).map((([e,t])=>{if("true"===t.toLowerCase())return[e,!0];if("false"===t.toLowerCase())return[e,!1];throw new Error(`Invalid value for bs_const key '${e}'.  Values must be either 'true' or 'false'.`)}));return new Map(r)}var Fy=Uint8Array,Ny=Uint16Array,By=Int32Array,Uy=new Fy([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jy=new Fy([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vy=new Fy([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gy=function(e,t){for(var r=new Ny(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new By(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},zy=Gy(Uy,2),Wy=zy.b,qy=zy.r;Wy[28]=258,qy[258]=28;for(var $y=Gy(jy,0),Hy=$y.b,Xy=$y.r,Yy=new Ny(32768),Ky=0;Ky<32768;++Ky){var Zy=(43690&Ky)>>1|(21845&Ky)<<1;Zy=(61680&(Zy=(52428&Zy)>>2|(13107&Zy)<<2))>>4|(3855&Zy)<<4,Yy[Ky]=((65280&Zy)>>8|(255&Zy)<<8)>>1}var Jy=function(e,t,r){for(var n=e.length,i=0,s=new Ny(t);i<n;++i)e[i]&&++s[e[i]-1];var a,o=new Ny(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;if(r){a=new Ny(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],l=t-e[i],h=o[e[i]-1]++<<l,f=h|(1<<l)-1;h<=f;++h)a[Yy[h]>>c]=u}else for(a=new Ny(n),i=0;i<n;++i)e[i]&&(a[i]=Yy[o[e[i]-1]++]>>15-e[i]);return a},Qy=new Fy(288);for(Ky=0;Ky<144;++Ky)Qy[Ky]=8;for(Ky=144;Ky<256;++Ky)Qy[Ky]=9;for(Ky=256;Ky<280;++Ky)Qy[Ky]=7;for(Ky=280;Ky<288;++Ky)Qy[Ky]=8;var eb=new Fy(32);for(Ky=0;Ky<32;++Ky)eb[Ky]=5;var tb,rb,nb=Jy(Qy,9,0),ib=Jy(Qy,9,1),sb=Jy(eb,5,0),ab=Jy(eb,5,1),ob=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},cb=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},ub=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},lb=function(e){return(e+7)/8|0},hb=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new Fy(e.subarray(t,r))},fb=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],db=function(e,t,r){var n=new Error(t||fb[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,db),!r)throw n;return n},pb=function(e,t,r,n){var i=e.length,s=n?n.length:0;if(!i||t.f&&!t.l)return r||new Fy(0);var a=!r,o=a||2!=t.i,c=t.i;a&&(r=new Fy(3*i));var u=function(e){var t=r.length;if(e>t){var n=new Fy(Math.max(2*t,e));n.set(r),r=n}},l=t.f||0,h=t.p||0,f=t.b||0,d=t.l,p=t.d,g=t.m,m=t.n,y=8*i;do{if(!d){l=cb(e,h,1);var b=cb(e,h+1,3);if(h+=3,!b){var v=e[(M=lb(h)+4)-4]|e[M-3]<<8,w=M+v;if(w>i){c&&db(0);break}o&&u(f+v),r.set(e.subarray(M,w),f),t.b=f+=v,t.p=h=8*w,t.f=l;continue}if(1==b)d=ib,p=ab,g=9,m=5;else if(2==b){var S=cb(e,h,31)+257,E=cb(e,h+10,15)+4,x=S+cb(e,h+5,31)+1;h+=14;for(var I=new Fy(x),_=new Fy(19),T=0;T<E;++T)_[Vy[T]]=cb(e,h+3*T,7);h+=3*E;var k=ob(_),A=(1<<k)-1,C=Jy(_,k,1);for(T=0;T<x;){var M,R=C[cb(e,h,A)];if(h+=15&R,(M=R>>4)<16)I[T++]=M;else{var O=0,D=0;for(16==M?(D=3+cb(e,h,3),h+=2,O=I[T-1]):17==M?(D=3+cb(e,h,7),h+=3):18==M&&(D=11+cb(e,h,127),h+=7);D--;)I[T++]=O}}var P=I.subarray(0,S),L=I.subarray(S);g=ob(P),m=ob(L),d=Jy(P,g,1),p=Jy(L,m,1)}else db(1);if(h>y){c&&db(0);break}}o&&u(f+131072);for(var F=(1<<g)-1,N=(1<<m)-1,B=h;;B=h){var U=(O=d[ub(e,h)&F])>>4;if((h+=15&O)>y){c&&db(0);break}if(O||db(2),U<256)r[f++]=U;else{if(256==U){B=h,d=null;break}var j=U-254;if(U>264){var V=Uy[T=U-257];j=cb(e,h,(1<<V)-1)+Wy[T],h+=V}var G=p[ub(e,h)&N],z=G>>4;if(G||db(3),h+=15&G,L=Hy[z],z>3&&(V=jy[z],L+=ub(e,h)&(1<<V)-1,h+=V),h>y){c&&db(0);break}o&&u(f+131072);var W=f+j;if(f<L){var q=s-L,$=Math.min(L,W);for(q+f<0&&db(3);f<$;++f)r[f]=n[q+f]}for(;f<W;++f)r[f]=r[f-L]}}t.l=d,t.p=B,t.b=f,t.f=l,d&&(l=1,t.m=g,t.d=p,t.n=m)}while(!l);return f!=r.length&&a?hb(r,0,f):r.subarray(0,f)},gb=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},mb=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},yb=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:Ib,l:0};if(1==i){var a=new Fy(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,l=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};l!=i-1;)o=r[r[u].f<r[h].f?u++:h++],c=r[u!=l&&r[u].f<r[h].f?u++:h++],r[l++]={s:-1,f:o.f+c.f,l:o,r:c};var f=s[0].s;for(n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var d=new Ny(f+1),p=bb(r[l-1],d,0);if(p>t){n=0;var g=0,m=p-t,y=1<<m;for(s.sort((function(e,t){return d[t.s]-d[e.s]||e.f-t.f}));n<i;++n){var b=s[n].s;if(!(d[b]>t))break;g+=y-(1<<p-d[b]),d[b]=t}for(g>>=m;g>0;){var v=s[n].s;d[v]<t?g-=1<<t-d[v]++-1:++n}for(;n>=0&&g;--n){var w=s[n].s;d[w]==t&&(--d[w],++g)}p=t}return{t:new Fy(d),l:p}},bb=function(e,t,r){return-1==e.s?Math.max(bb(e.l,t,r+1),bb(e.r,t,r+1)):t[e.s]=r},vb=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ny(++t),n=0,i=e[0],s=1,a=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:r.subarray(0,n),n:t}},wb=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Sb=function(e,t,r){var n=r.length,i=lb(t+2);e[i]=255&n,e[i+1]=n>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},Eb=function(e,t,r,n,i,s,a,o,c,u,l){gb(t,l++,r),++i[256];for(var h=yb(i,15),f=h.t,d=h.l,p=yb(s,15),g=p.t,m=p.l,y=vb(f),b=y.c,v=y.n,w=vb(g),S=w.c,E=w.n,x=new Ny(19),I=0;I<b.length;++I)++x[31&b[I]];for(I=0;I<S.length;++I)++x[31&S[I]];for(var _=yb(x,7),T=_.t,k=_.l,A=19;A>4&&!T[Vy[A-1]];--A);var C,M,R,O,D=u+5<<3,P=wb(i,Qy)+wb(s,eb)+a,L=wb(i,f)+wb(s,g)+a+14+3*A+wb(x,T)+2*x[16]+3*x[17]+7*x[18];if(c>=0&&D<=P&&D<=L)return Sb(t,l,e.subarray(c,c+u));if(gb(t,l,1+(L<P)),l+=2,L<P){C=Jy(f,d,0),M=f,R=Jy(g,m,0),O=g;var F=Jy(T,k,0);for(gb(t,l,v-257),gb(t,l+5,E-1),gb(t,l+10,A-4),l+=14,I=0;I<A;++I)gb(t,l+3*I,T[Vy[I]]);l+=3*A;for(var N=[b,S],B=0;B<2;++B){var U=N[B];for(I=0;I<U.length;++I){var j=31&U[I];gb(t,l,F[j]),l+=T[j],j>15&&(gb(t,l,U[I]>>5&127),l+=U[I]>>12)}}}else C=nb,M=Qy,R=sb,O=eb;for(I=0;I<o;++I){var V=n[I];if(V>255){mb(t,l,C[257+(j=V>>18&31)]),l+=M[j+257],j>7&&(gb(t,l,V>>23&31),l+=Uy[j]);var G=31&V;mb(t,l,R[G]),l+=O[G],G>3&&(mb(t,l,V>>5&8191),l+=jy[G])}else mb(t,l,C[V]),l+=M[V]}return mb(t,l,C[256]),l+M[256]},xb=new By([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ib=new Fy(0),_b=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Tb=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new Fy(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return function(e,t,r,n,i,s){var a=s.z||e.length,o=new Fy(n+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(n,o.length-i),u=s.l,l=7&(s.r||0);if(t){l&&(c[0]=s.r>>3);for(var h=xb[t-1],f=h>>13,d=8191&h,p=(1<<r)-1,g=s.p||new Ny(32768),m=s.h||new Ny(p+1),y=Math.ceil(r/3),b=2*y,v=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&p},w=new By(25e3),S=new Ny(288),E=new Ny(32),x=0,I=0,_=s.i||0,T=0,k=s.w||0,A=0;_+2<a;++_){var C=v(_),M=32767&_,R=m[C];if(g[M]=R,m[C]=M,k<=_){var O=a-_;if((x>7e3||T>24576)&&(O>423||!u)){l=Eb(e,c,0,w,S,E,I,T,A,_-A,l),T=x=I=0,A=_;for(var D=0;D<286;++D)S[D]=0;for(D=0;D<30;++D)E[D]=0}var P=2,L=0,F=d,N=M-R&32767;if(O>2&&C==v(_-N))for(var B=Math.min(f,O)-1,U=Math.min(32767,_),j=Math.min(258,O);N<=U&&--F&&M!=R;){if(e[_+P]==e[_+P-N]){for(var V=0;V<j&&e[_+V]==e[_+V-N];++V);if(V>P){if(P=V,L=N,V>B)break;var G=Math.min(N,V-2),z=0;for(D=0;D<G;++D){var W=_-N+D&32767,q=W-g[W]&32767;q>z&&(z=q,R=W)}}}N+=(M=R)-(R=g[M])&32767}if(L){w[T++]=268435456|qy[P]<<18|Xy[L];var $=31&qy[P],H=31&Xy[L];I+=Uy[$]+jy[H],++S[257+$],++E[H],k=_+P,++x}else w[T++]=e[_],++S[e[_]]}}for(_=Math.max(_,k);_<a;++_)w[T++]=e[_],++S[e[_]];l=Eb(e,c,u,w,S,E,I,T,A,_-A,l),u||(s.r=7&l|c[l/8|0]<<3,l-=7,s.h=m,s.p=g,s.i=_,s.w=k)}else{for(_=s.w||0;_<a+u;_+=65535){var X=_+65535;X>=a&&(c[l/8|0]=u,X=a),l=Sb(c,l+1,e.subarray(_,X))}s.i=a}return hb(o,0,n+lb(l)+i)}(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,i)},kb=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Ab=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=_b();i.p(t.dictionary),kb(e,2,i.d())}},Cb=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&db(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&db(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)},Mb="undefined"!=typeof TextDecoder&&new TextDecoder;try{Mb.decode(Ib,{stream:!0})}catch(e){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout,(rb=tb||(tb={}))[rb.STORED=0]="STORED",rb[rb.SHRUNK=1]="SHRUNK",rb[rb.REDUCED_1=2]="REDUCED_1",rb[rb.REDUCED_2=3]="REDUCED_2",rb[rb.REDUCED_3=4]="REDUCED_3",rb[rb.REDUCED_4=5]="REDUCED_4",rb[rb.IMPLODE=6]="IMPLODE",rb[rb.DEFLATE=8]="DEFLATE",rb[rb.DEFLATE64=9]="DEFLATE64",rb[rb.TERSE_OLD=10]="TERSE_OLD",rb[rb.BZIP2=12]="BZIP2",rb[rb.LZMA=14]="LZMA",rb[rb.TERSE_NEW=18]="TERSE_NEW",rb[rb.LZ77=19]="LZ77",rb[rb.WAVPACK=97]="WAVPACK",rb[rb.PPMD=98]="PPMD";const Rb={[tb.DEFLATE]:(e,t)=>function(e,t){return pb(e,{i:2},t,t)}(new Uint8Array(e,0,t)),[tb.STORED]:(e,t,r)=>new Uint8Array(e,0,r)};function Ob(e){return new Date(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,2*(31&e))}const Db=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];function Pb(e,t,r,n){if(0===n)return"";const i=new Uint8Array("buffer"in e?e.buffer:e).slice(r,r+n);return t?mn(i):[...i].map((e=>e>127?Db[e-128]:String.fromCharCode(e))).join("")}var Lb,Fb,Nb=function(e,t,r,n,i,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?n.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f=!1,d=r.length-1;d>=0;d--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[d])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(h.get=o),(o=a(m.set))&&(h.set=o),(o=a(m.init))&&i.unshift(o)}else(o=a(m))&&("field"===c?i.unshift(o):h[u]=o)}l&&Object.defineProperty(l,n.name,h),f=!0},Bb=function(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0};(Fb=Lb||(Lb={}))[Fb.MSDOS=0]="MSDOS",Fb[Fb.AMIGA=1]="AMIGA",Fb[Fb.OPENVMS=2]="OPENVMS",Fb[Fb.UNIX=3]="UNIX",Fb[Fb.VM_CMS=4]="VM_CMS",Fb[Fb.ATARI_ST=5]="ATARI_ST",Fb[Fb.OS2_HPFS=6]="OS2_HPFS",Fb[Fb.MAC=7]="MAC",Fb[Fb.Z_SYSTEM=8]="Z_SYSTEM",Fb[Fb.CP_M=9]="CP_M",Fb[Fb.NTFS=10]="NTFS",Fb[Fb.MVS=11]="MVS",Fb[Fb.VSE=12]="VSE",Fb[Fb.ACORN_RISC=13]="ACORN_RISC",Fb[Fb.VFAT=14]="VFAT",Fb[Fb.ALT_MVS=15]="ALT_MVS",Fb[Fb.BEOS=16]="BEOS",Fb[Fb.TANDEM=17]="TANDEM",Fb[Fb.OS_400=18]="OS_400",Fb[Fb.OSX=19]="OSX";let Ub=(()=>{var e,t,r,n,i,s,a,o,c,u;let l,h,f,d,p,g,m,y,b,v,w,S,E=[cn()],x=[],I=[],_=[],T=[],k=[],A=[],C=[],M=[],R=[],O=[],D=[],P=[],L=[],F=[],N=[],B=[],U=[],j=[],V=[],G=[],z=[];return class{static{h=this}static{const W="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;f=[(e=fn).uint32.bind(e)],d=[(t=fn).uint16.bind(t)],p=[(r=fn).uint16.bind(r)],g=[(n=fn).uint16.bind(n)],m=[(i=fn).uint32.bind(i)],y=[(s=fn).uint32.bind(s)],b=[(a=fn).uint32.bind(a)],v=[(o=fn).uint32.bind(o)],w=[(c=fn).uint16.bind(c)],S=[(u=fn).uint16.bind(u)],Nb(null,null,f,{kind:"field",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:W},I,_),Nb(null,null,d,{kind:"field",name:"versionNeeded",static:!1,private:!1,access:{has:e=>"versionNeeded"in e,get:e=>e.versionNeeded,set:(e,t)=>{e.versionNeeded=t}},metadata:W},T,k),Nb(null,null,p,{kind:"field",name:"flags",static:!1,private:!1,access:{has:e=>"flags"in e,get:e=>e.flags,set:(e,t)=>{e.flags=t}},metadata:W},A,C),Nb(null,null,g,{kind:"field",name:"compressionMethod",static:!1,private:!1,access:{has:e=>"compressionMethod"in e,get:e=>e.compressionMethod,set:(e,t)=>{e.compressionMethod=t}},metadata:W},M,R),Nb(null,null,m,{kind:"field",name:"datetime",static:!1,private:!1,access:{has:e=>"datetime"in e,get:e=>e.datetime,set:(e,t)=>{e.datetime=t}},metadata:W},O,D),Nb(null,null,y,{kind:"field",name:"crc32",static:!1,private:!1,access:{has:e=>"crc32"in e,get:e=>e.crc32,set:(e,t)=>{e.crc32=t}},metadata:W},P,L),Nb(null,null,b,{kind:"field",name:"compressedSize",static:!1,private:!1,access:{has:e=>"compressedSize"in e,get:e=>e.compressedSize,set:(e,t)=>{e.compressedSize=t}},metadata:W},F,N),Nb(null,null,v,{kind:"field",name:"uncompressedSize",static:!1,private:!1,access:{has:e=>"uncompressedSize"in e,get:e=>e.uncompressedSize,set:(e,t)=>{e.uncompressedSize=t}},metadata:W},B,U),Nb(null,null,w,{kind:"field",name:"nameLength",static:!1,private:!1,access:{has:e=>"nameLength"in e,get:e=>e.nameLength,set:(e,t)=>{e.nameLength=t}},metadata:W},j,V),Nb(null,null,S,{kind:"field",name:"extraLength",static:!1,private:!1,access:{has:e=>"extraLength"in e,get:e=>e.extraLength,set:(e,t)=>{e.extraLength=t}},metadata:W},G,z),Nb(null,l={value:h},E,{kind:"class",name:h.name,metadata:W},null,x),h=l.value,W&&Object.defineProperty(h,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:W}),Bb(h,x)}data;constructor(e){if(Bb(this,z),this.data=e,hn(this,e),67324752!==this.signature)throw new bt(dt.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.signature)}signature=Bb(this,I,void 0);versionNeeded=(Bb(this,_),Bb(this,T,void 0));flags=(Bb(this,k),Bb(this,A,void 0));compressionMethod=(Bb(this,C),Bb(this,M,void 0));datetime=(Bb(this,R),Bb(this,O,void 0));get lastModified(){return Ob(this.datetime)}crc32=(Bb(this,D),Bb(this,P,void 0));compressedSize=(Bb(this,L),Bb(this,F,void 0));uncompressedSize=(Bb(this,N),Bb(this,B,void 0));nameLength=(Bb(this,U),Bb(this,j,void 0));extraLength=(Bb(this,V),Bb(this,G,void 0));get name(){return Pb(this.data,this.useUTF8,30,this.nameLength)}get extra(){const e=30+this.nameLength;return this.data.slice(e,e+this.extraLength)}get size(){return 30+this.nameLength+this.extraLength}get useUTF8(){return!!(2048&this.flags)}},h})();(()=>{var e,t;let r,n,i,s,a=[cn()],o=[],c=[],u=[],l=[],h=[];(class{static{n=this}static{const f="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;i=[(e=fn).uint32.bind(e)],s=[(t=fn).uint32.bind(t)],Nb(null,null,i,{kind:"field",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:f},c,u),Nb(null,null,s,{kind:"field",name:"length",static:!1,private:!1,access:{has:e=>"length"in e,get:e=>e.length,set:(e,t)=>{e.length=t}},metadata:f},l,h),Nb(null,r={value:n},a,{kind:"class",name:n.name,metadata:f},null,o),n=r.value,f&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),Bb(n,o)}data;signature=Bb(this,c,void 0);length=(Bb(this,u),Bb(this,l,void 0));constructor(e){if(Bb(this,h),this.data=e,hn(this,e),134630224!=this.signature)throw new bt(dt.EINVAL,"Invalid archive extra data record signature: "+this.signature)}get extraField(){return this.data.slice(8,8+this.length)}})})();let jb=(()=>{var e,t,r,n,i,s,a,o,c,u,l,h,f,d,p,g,m;let y,b,v,w,S,E,x,I,_,T,k,A,C,M,R,O,D,P,L,F=[cn()],N=[],B=[],U=[],j=[],V=[],G=[],z=[],W=[],q=[],$=[],H=[],X=[],Y=[],K=[],Z=[],J=[],Q=[],ee=[],te=[],re=[],ne=[],ie=[],se=[],ae=[],oe=[],ce=[],ue=[],le=[],he=[],fe=[],de=[],pe=[],ge=[],me=[],ye=[];var be=class{static{b=this}static{const ve="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;v=[(e=fn).uint32.bind(e)],w=[(t=fn).uint8.bind(t)],S=[(r=fn).uint8.bind(r)],E=[(n=fn).uint16.bind(n)],x=[(i=fn).uint16.bind(i)],I=[(s=fn).uint16.bind(s)],_=[(a=fn).uint32.bind(a)],T=[(o=fn).uint32.bind(o)],k=[(c=fn).uint32.bind(c)],A=[(u=fn).uint32.bind(u)],C=[(l=fn).uint16.bind(l)],M=[(h=fn).uint16.bind(h)],R=[(f=fn).uint16.bind(f)],O=[(d=fn).uint16.bind(d)],D=[(p=fn).uint16.bind(p)],P=[(g=fn).uint32.bind(g)],L=[(m=fn).uint32.bind(m)],Nb(null,null,v,{kind:"field",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:ve},B,U),Nb(null,null,w,{kind:"field",name:"zipVersion",static:!1,private:!1,access:{has:e=>"zipVersion"in e,get:e=>e.zipVersion,set:(e,t)=>{e.zipVersion=t}},metadata:ve},j,V),Nb(null,null,S,{kind:"field",name:"attributeCompat",static:!1,private:!1,access:{has:e=>"attributeCompat"in e,get:e=>e.attributeCompat,set:(e,t)=>{e.attributeCompat=t}},metadata:ve},G,z),Nb(null,null,E,{kind:"field",name:"versionNeeded",static:!1,private:!1,access:{has:e=>"versionNeeded"in e,get:e=>e.versionNeeded,set:(e,t)=>{e.versionNeeded=t}},metadata:ve},W,q),Nb(null,null,x,{kind:"field",name:"flag",static:!1,private:!1,access:{has:e=>"flag"in e,get:e=>e.flag,set:(e,t)=>{e.flag=t}},metadata:ve},$,H),Nb(null,null,I,{kind:"field",name:"compressionMethod",static:!1,private:!1,access:{has:e=>"compressionMethod"in e,get:e=>e.compressionMethod,set:(e,t)=>{e.compressionMethod=t}},metadata:ve},X,Y),Nb(null,null,_,{kind:"field",name:"datetime",static:!1,private:!1,access:{has:e=>"datetime"in e,get:e=>e.datetime,set:(e,t)=>{e.datetime=t}},metadata:ve},K,Z),Nb(null,null,T,{kind:"field",name:"crc32",static:!1,private:!1,access:{has:e=>"crc32"in e,get:e=>e.crc32,set:(e,t)=>{e.crc32=t}},metadata:ve},J,Q),Nb(null,null,k,{kind:"field",name:"compressedSize",static:!1,private:!1,access:{has:e=>"compressedSize"in e,get:e=>e.compressedSize,set:(e,t)=>{e.compressedSize=t}},metadata:ve},ee,te),Nb(null,null,A,{kind:"field",name:"uncompressedSize",static:!1,private:!1,access:{has:e=>"uncompressedSize"in e,get:e=>e.uncompressedSize,set:(e,t)=>{e.uncompressedSize=t}},metadata:ve},re,ne),Nb(null,null,C,{kind:"field",name:"nameLength",static:!1,private:!1,access:{has:e=>"nameLength"in e,get:e=>e.nameLength,set:(e,t)=>{e.nameLength=t}},metadata:ve},ie,se),Nb(null,null,M,{kind:"field",name:"extraLength",static:!1,private:!1,access:{has:e=>"extraLength"in e,get:e=>e.extraLength,set:(e,t)=>{e.extraLength=t}},metadata:ve},ae,oe),Nb(null,null,R,{kind:"field",name:"commentLength",static:!1,private:!1,access:{has:e=>"commentLength"in e,get:e=>e.commentLength,set:(e,t)=>{e.commentLength=t}},metadata:ve},ce,ue),Nb(null,null,O,{kind:"field",name:"startDisk",static:!1,private:!1,access:{has:e=>"startDisk"in e,get:e=>e.startDisk,set:(e,t)=>{e.startDisk=t}},metadata:ve},le,he),Nb(null,null,D,{kind:"field",name:"internalAttributes",static:!1,private:!1,access:{has:e=>"internalAttributes"in e,get:e=>e.internalAttributes,set:(e,t)=>{e.internalAttributes=t}},metadata:ve},fe,de),Nb(null,null,P,{kind:"field",name:"externalAttributes",static:!1,private:!1,access:{has:e=>"externalAttributes"in e,get:e=>e.externalAttributes,set:(e,t)=>{e.externalAttributes=t}},metadata:ve},pe,ge),Nb(null,null,L,{kind:"field",name:"headerRelativeOffset",static:!1,private:!1,access:{has:e=>"headerRelativeOffset"in e,get:e=>e.headerRelativeOffset,set:(e,t)=>{e.headerRelativeOffset=t}},metadata:ve},me,ye),Nb(null,y={value:b},F,{kind:"class",name:b.name,metadata:ve},null,N),be=b=y.value,ve&&Object.defineProperty(b,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:ve}),Bb(b,N)}zipData;_data;constructor(e,t){if(this.zipData=e,this._data=t,hn(this,t),33639248!=this.signature)throw new bt(dt.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.signature);this.name=Pb(this._data,this.useUTF8,46,this.nameLength).replace(/\\/g,"/"),this.comment=Pb(this._data,this.useUTF8,46+this.nameLength+this.extraLength,this.commentLength)}signature=Bb(this,B,void 0);zipVersion=(Bb(this,U),Bb(this,j,void 0));attributeCompat=(Bb(this,V),Bb(this,G,void 0));versionNeeded=(Bb(this,z),Bb(this,W,void 0));flag=(Bb(this,q),Bb(this,$,void 0));get useUTF8(){return!!(2048&this.flag)}get isEncrypted(){return!!(1&this.flag)}compressionMethod=(Bb(this,H),Bb(this,X,void 0));datetime=(Bb(this,Y),Bb(this,K,void 0));get lastModified(){return Ob(this.datetime)}crc32=(Bb(this,Z),Bb(this,J,void 0));compressedSize=(Bb(this,Q),Bb(this,ee,void 0));uncompressedSize=(Bb(this,te),Bb(this,re,void 0));nameLength=(Bb(this,ne),Bb(this,ie,void 0));extraLength=(Bb(this,se),Bb(this,ae,void 0));commentLength=(Bb(this,oe),Bb(this,ce,void 0));startDisk=(Bb(this,ue),Bb(this,le,void 0));internalAttributes=(Bb(this,he),Bb(this,fe,void 0));externalAttributes=(Bb(this,de),Bb(this,pe,void 0));headerRelativeOffset=(Bb(this,ge),Bb(this,me,void 0));name=Bb(this,ye);get extra(){const e=44+this.nameLength;return this._data.slice(e,e+this.extraLength)}comment;get size(){return on(be)+this.nameLength+this.extraLength+this.commentLength}get isDirectory(){return!!(16&this.externalAttributes)||this.name.endsWith("/")}get isFile(){return!this.isDirectory}get data(){const{compressionMethod:e,size:t,name:r}=new Ub(this.zipData.slice(this.headerRelativeOffset)),n=this.zipData.slice(this.headerRelativeOffset+t),i=Rb[e];if("function"!=typeof i){const t=e in tb?tb[e]:e.toString();throw new bt(dt.EINVAL,`Invalid compression method on file '${r}': ${t}`)}return i(n,this.compressedSize,this.uncompressedSize,this.flag)}get stats(){return new Rr({mode:365|(this.isDirectory?Zt:Yt),size:this.uncompressedSize,mtimeMs:this.lastModified.getTime()})}};return be=b})(),Vb=((()=>{var e,t;let r,n,i,s,a=[cn()],o=[],c=[],u=[],l=[],h=[];(class{static{n=this}static{const f="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;i=[(e=fn).uint32.bind(e)],s=[(t=fn).uint16.bind(t)],Nb(null,null,i,{kind:"field",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:f},c,u),Nb(null,null,s,{kind:"field",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:f},l,h),Nb(null,r={value:n},a,{kind:"class",name:n.name,metadata:f},null,o),n=r.value,f&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:f}),Bb(n,o)}data;constructor(e){if(Bb(this,h),this.data=e,hn(this,e),84233040!=this.signature)throw new bt(dt.EINVAL,"Invalid digital signature signature: "+this.signature)}signature=Bb(this,c,void 0);size=(Bb(this,u),Bb(this,l,void 0));get signatureData(){return this.data.slice(6,6+this.size)}})})(),(()=>{var e,t,r,n,i,s,a,o;let c,u,l,h,f,d,p,g,m,y,b=[cn()],v=[],w=[],S=[],E=[],x=[],I=[],_=[],T=[],k=[],A=[],C=[],M=[],R=[],O=[],D=[],P=[],L=[];return class{static{u=this}static{const F="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;l=[(e=fn).uint32.bind(e)],h=[(t=fn).uint16.bind(t)],f=[(r=fn).uint16.bind(r)],d=[(n=fn).uint16.bind(n)],p=[(i=fn).uint16.bind(i)],g=[(s=fn).uint32.bind(s)],m=[(a=fn).uint32.bind(a)],y=[(o=fn).uint16.bind(o)],Nb(null,null,l,{kind:"field",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:F},w,S),Nb(null,null,h,{kind:"field",name:"disk",static:!1,private:!1,access:{has:e=>"disk"in e,get:e=>e.disk,set:(e,t)=>{e.disk=t}},metadata:F},E,x),Nb(null,null,f,{kind:"field",name:"entriesDisk",static:!1,private:!1,access:{has:e=>"entriesDisk"in e,get:e=>e.entriesDisk,set:(e,t)=>{e.entriesDisk=t}},metadata:F},I,_),Nb(null,null,d,{kind:"field",name:"diskEntryCount",static:!1,private:!1,access:{has:e=>"diskEntryCount"in e,get:e=>e.diskEntryCount,set:(e,t)=>{e.diskEntryCount=t}},metadata:F},T,k),Nb(null,null,p,{kind:"field",name:"totalEntryCount",static:!1,private:!1,access:{has:e=>"totalEntryCount"in e,get:e=>e.totalEntryCount,set:(e,t)=>{e.totalEntryCount=t}},metadata:F},A,C),Nb(null,null,g,{kind:"field",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:F},M,R),Nb(null,null,m,{kind:"field",name:"offset",static:!1,private:!1,access:{has:e=>"offset"in e,get:e=>e.offset,set:(e,t)=>{e.offset=t}},metadata:F},O,D),Nb(null,null,y,{kind:"field",name:"commentLength",static:!1,private:!1,access:{has:e=>"commentLength"in e,get:e=>e.commentLength,set:(e,t)=>{e.commentLength=t}},metadata:F},P,L),Nb(null,c={value:u},b,{kind:"class",name:u.name,metadata:F},null,v),u=c.value,F&&Object.defineProperty(u,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:F}),Bb(u,v)}data;constructor(e){if(Bb(this,L),this.data=e,hn(this,e),101010256!=this.signature)throw new bt(dt.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: 0x"+this.signature.toString(16))}signature=Bb(this,w,void 0);disk=(Bb(this,S),Bb(this,E,void 0));entriesDisk=(Bb(this,x),Bb(this,I,void 0));diskEntryCount=(Bb(this,_),Bb(this,T,void 0));totalEntryCount=(Bb(this,k),Bb(this,A,void 0));size=(Bb(this,C),Bb(this,M,void 0));offset=(Bb(this,R),Bb(this,O,void 0));commentLength=(Bb(this,D),Bb(this,P,void 0));get comment(){return Pb(this.data,!0,22,this.commentLength)}},u})());class Gb extends(Ka(function(e){return class extends e{async exists(e){return this.existsSync(e)}async rename(e,t){return this.renameSync(e,t)}async stat(e){return this.statSync(e)}async createFile(e,t,r){return this.createFileSync(e,t,r)}async openFile(e,t){return this.openFileSync(e,t)}async unlink(e){return this.unlinkSync(e)}async rmdir(e){return this.rmdirSync(e)}async mkdir(e,t){return this.mkdirSync(e,t)}async readdir(e){return this.readdirSync(e)}async link(e,t){return this.linkSync(e,t)}async sync(e,t,r){return this.syncSync(e,t,r)}}}($r))){name;data;caseSensitive;files=new Map;names=new Map;directories=new Map;_time=Date.now();static computeEOCD(e){const t=new DataView(e),r=Math.min(65557,e.byteLength-1);for(let n=22;n<r;n++)if(101010256===t.getUint32(e.byteLength-n,!0))return new Vb(e.slice(e.byteLength-n));throw new bt(dt.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")}eocd;get endOfCentralDirectory(){return this.eocd}constructor(e,t,r){if(super(),this.name=e,this.data=t,this.caseSensitive=r,this.eocd=Gb.computeEOCD(t),this.eocd.disk!=this.eocd.entriesDisk)throw new bt(dt.EINVAL,"ZipFS does not support spanned zip files.");let n=this.eocd.offset;if(4294967295===n)throw new bt(dt.EINVAL,"ZipFS does not support Zip64.");const i=n+this.eocd.size;for(;n<i;){const e=new jb(this.data,this.data.slice(n));if(e.name.startsWith("/"))throw new bt(dt.EPERM,"Unexpectedly encountered an absolute path in a zip file.");let t=e.name.endsWith("/")?e.name.slice(0,-1):e.name;this.caseSensitive||(this.names.set("/"+t.toLowerCase(),"/"+t),t=t.toLowerCase()),this.files.set("/"+t,e),n+=e.size}for(const e of this.files.keys()){const t=this.names.get(e)??e;let{dir:r,base:n}=xr(t);this.caseSensitive||(r=r.toLowerCase()),this.directories.has(r)||this.directories.set(r,new Set),this.directories.get(r).add(n)}for(const e of this.directories.keys()){const t=this.names.get(e)??e;let{dir:r,base:n}=xr(t);this.caseSensitive||(r=r.toLowerCase()),""!=n&&(this.directories.has(r)||this.directories.set(r,new Set),this.directories.get(r).add(n))}}metadata(){return{...super.metadata(),name:["zip",this.name].filter((e=>e)).join(":"),readonly:!0,totalSpace:this.data.byteLength}}get numberOfCentralDirectoryEntries(){return this.files.size}statSync(e){const t=this.caseSensitive?e:e.toLowerCase();if(this.directories.has(t))return new Rr({mode:365|Zt,size:4096,mtimeMs:this._time,ctimeMs:this._time,atimeMs:Date.now(),birthtimeMs:this._time});const r=this.files.get(t);if(!r)throw bt.With("ENOENT",e,"stat");return r.stats}openFileSync(e,t){if(Ur(t))throw new bt(dt.EPERM,e);const r=this.statSync(e),n=this.files.get(this.caseSensitive?e:e.toLowerCase())?.data;return new qr(this,e,t,r,r.isDirectory()?r.fileData:n)}readdirSync(e){if(!this.statSync(e).isDirectory())throw bt.With("ENOTDIR",e,"readdir");const t=this.directories.get(this.caseSensitive?e:e.toLowerCase());if(!t)throw bt.With("ENODATA",e,"readdir");return Array.from(t)}}const zb={name:"Zip",options:{data:{type:"object",required:!0,description:"The zip file as an ArrayBuffer object.",validator(e){if(!(e instanceof ArrayBuffer))throw new bt(dt.EINVAL,"option must be a ArrayBuffer.")}},name:{type:"string",required:!1,description:"The name of the zip file (optional)."},caseSensitive:{type:"boolean",required:!1,description:"Flag to configure the case. default is `true` (optional)."}},isAvailable:()=>!0,create:e=>new Gb(e.name??"",e.data,e.caseSensitive??!0)};var Wb=4294967295;function qb(e,t,r){var n=Math.floor(r/4294967296),i=r;e.setUint32(t,n),e.setUint32(t+4,i)}function $b(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var Hb,Xb,Yb,Kb=__webpack_require__(5606),Zb=(void 0===Kb||"never"!==(null===(Hb=null==Kb?void 0:Kb.env)||void 0===Hb?void 0:Hb.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function Jb(e){for(var t=e.length,r=0,n=0;n<t;){var i=e.charCodeAt(n++);if(4294967168&i)if(4294965248&i){if(i>=55296&&i<=56319&&n<t){var s=e.charCodeAt(n);56320==(64512&s)&&(++n,i=((1023&i)<<10)+(1023&s)+65536)}r+=4294901760&i?4:3}else r+=2;else r++}return r}var Qb=Zb?new TextEncoder:void 0,ev=Zb?void 0!==Kb&&"force"!==(null===(Xb=null==Kb?void 0:Kb.env)||void 0===Xb?void 0:Xb.TEXT_ENCODING)?200:0:Wb,tv=(null==Qb?void 0:Qb.encodeInto)?function(e,t,r){Qb.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(Qb.encode(e),r)};function rv(e,t,r){for(var n=t,i=n+r,s=[],a="";n<i;){var o=e[n++];if(128&o)if(192==(224&o)){var c=63&e[n++];s.push((31&o)<<6|c)}else if(224==(240&o)){c=63&e[n++];var u=63&e[n++];s.push((31&o)<<12|c<<6|u)}else if(240==(248&o)){var l=(7&o)<<18|(c=63&e[n++])<<12|(u=63&e[n++])<<6|63&e[n++];l>65535&&(l-=65536,s.push(l>>>10&1023|55296),l=56320|1023&l),s.push(l)}else s.push(o);else s.push(o);s.length>=4096&&(a+=String.fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(a+=String.fromCharCode.apply(String,s)),a}var nv,iv=Zb?new TextDecoder:null,sv=Zb?void 0!==Kb&&"force"!==(null===(Yb=null==Kb?void 0:Kb.env)||void 0===Yb?void 0:Yb.TEXT_DECODER)?200:0:Wb,av=function(e,t){this.type=e,this.data=t},ov=(nv=function(e,t){return nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},nv(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}nv(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),cv=function(e){function t(r){var n=e.call(this,r)||this,i=Object.create(t.prototype);return Object.setPrototypeOf(n,i),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return ov(t,e),t}(Error),uv={type:-1,encode:function(e){var t,r,n,i;return e instanceof Date?function(e){var t,r=e.sec,n=e.nsec;if(r>=0&&n>=0&&r<=17179869183){if(0===n&&r<=4294967295){var i=new Uint8Array(4);return(t=new DataView(i.buffer)).setUint32(0,r),i}var s=r/4294967296,a=4294967295&r;return i=new Uint8Array(8),(t=new DataView(i.buffer)).setUint32(0,n<<2|3&s),t.setUint32(4,a),i}return i=new Uint8Array(12),(t=new DataView(i.buffer)).setUint32(0,n),qb(t,4,r),i}((n=1e6*((t=e.getTime())-1e3*(r=Math.floor(t/1e3))),{sec:r+(i=Math.floor(n/1e9)),nsec:n-1e9*i})):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var r=t.getUint32(0);return{sec:4294967296*(3&r)+t.getUint32(4),nsec:r>>>2};case 12:return{sec:$b(t,4),nsec:t.getUint32(0)};default:throw new cv("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},lv=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(uv)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var i=1+t;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++)if(null!=(n=this.builtInEncoders[r])&&null!=(i=n(e,t)))return new av(-1-r,i);for(r=0;r<this.encoders.length;r++){var n,i;if(null!=(n=this.encoders[r])&&null!=(i=n(e,t)))return new av(r,i)}return e instanceof av?e:null},e.prototype.decode=function(e,t,r){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new av(t,e)},e.defaultCodec=new e,e}();function hv(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var fv=function(){function e(e,t,r,n,i,s,a,o){void 0===e&&(e=lv.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=100),void 0===n&&(n=2048),void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===a&&(a=!1),void 0===o&&(o=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=i,this.forceFloat32=s,this.ignoreUndefined=a,this.forceIntegerToFloat=o,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>ev){var t=Jb(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),tv(e,this.bytes,this.pos),this.pos+=t}else t=Jb(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){for(var n=e.length,i=r,s=0;s<n;){var a=e.charCodeAt(s++);if(4294967168&a){if(4294965248&a){if(a>=55296&&a<=56319&&s<n){var o=e.charCodeAt(s);56320==(64512&o)&&(++s,a=((1023&a)<<10)+(1023&o)+65536)}4294901760&a?(t[i++]=a>>18&7|240,t[i++]=a>>12&63|128,t[i++]=a>>6&63|128):(t[i++]=a>>12&15|224,t[i++]=a>>6&63|128)}else t[i++]=a>>6&31|192;t[i++]=63&a|128}else t[i++]=a}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var r=hv(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: ".concat(r));this.writeU8(221),this.writeU32(r)}for(var n=0,i=e;n<i.length;n++){var s=i[n];this.doEncode(s,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0,i=t;n<i.length;n++)void 0!==e[i[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: ".concat(n));this.writeU8(223),this.writeU32(n)}for(var i=0,s=r;i<s.length;i++){var a=s[i],o=e[a];this.ignoreUndefined&&void 0===o||(this.encodeString(a),this.doEncode(o,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,r){var n=r/4294967296,i=r;e.setUint32(t,n),e.setUint32(t+4,i)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),qb(this.view,this.pos,e),this.pos+=8},e}(),dv={};function pv(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var gv=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){e:for(var n=0,i=this.caches[r-1];n<i.length;n++){for(var s=i[n],a=s.bytes,o=0;o<r;o++)if(a[o]!==e[t+o])continue e;return s.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;var i=rv(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,i),i},e}(),mv=function(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},yv=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}},bv=function(e){return this instanceof bv?(this.v=e,this):new bv(e)},vv=new DataView(new ArrayBuffer(0)),wv=new Uint8Array(vv.buffer),Sv=function(){try{vv.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),Ev=new Sv("Insufficient data"),xv=new gv,Iv=function(){function e(e,t,r,n,i,s,a,o){void 0===e&&(e=lv.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=Wb),void 0===n&&(n=Wb),void 0===i&&(i=Wb),void 0===s&&(s=Wb),void 0===a&&(a=Wb),void 0===o&&(o=xv),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=i,this.maxMapLength=s,this.maxExtLength=a,this.keyDecoder=o,this.totalPos=0,this.pos=0,this.view=vv,this.bytes=wv,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=hv(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=hv(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=hv(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return new RangeError("Extra ".concat(t.byteLength-r," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return mv(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,r,n,i,s,a,o;return s=this,o=function(){var s,a,o,c,u,l,h,f;return mv(this,(function(d){switch(d.label){case 0:s=!1,d.label=1;case 1:d.trys.push([1,6,7,12]),t=yv(e),d.label=2;case 2:return[4,t.next()];case 3:if((r=d.sent()).done)return[3,5];if(o=r.value,s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{a=this.doDecodeSync(),s=!0}catch(e){if(!(e instanceof Sv))throw e}this.totalPos+=this.pos,d.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=d.sent(),n={error:c},[3,12];case 7:return d.trys.push([7,,10,11]),r&&!r.done&&(i=t.return)?[4,i.call(t)]:[3,9];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:if(s){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw l=(u=this).headByte,h=u.pos,f=u.totalPos,new RangeError("Insufficient data in parsing ".concat(pv(l)," at ").concat(f," (").concat(h," in the current buffer)"))}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function n(e){try{i(o.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a((function(e){e(i)}))).then(r,n)}i((o=o.apply(s,[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||o(e,t)}))})}function o(e,t){try{(r=i[e](t)).value instanceof bv?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(e){l(s[0][3],e)}var r}function c(e){o("next",e)}function u(e){o("throw",e)}function l(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}(this,arguments,(function(){var r,n,i,s,a,o,c,u,l;return mv(this,(function(h){switch(h.label){case 0:r=t,n=-1,h.label=1;case 1:h.trys.push([1,13,14,19]),i=yv(e),h.label=2;case 2:return[4,bv(i.next())];case 3:if((s=h.sent()).done)return[3,12];if(a=s.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),r&&(n=this.readArraySize(),r=!1,this.complete()),h.label=4;case 4:h.trys.push([4,9,,10]),h.label=5;case 5:return[4,bv(this.doDecodeSync())];case 6:return[4,h.sent()];case 7:return h.sent(),0==--n?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((o=h.sent())instanceof Sv))throw o;return[3,10];case 10:this.totalPos+=this.pos,h.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=h.sent(),u={error:c},[3,19];case 14:return h.trys.push([14,,17,18]),s&&!s.done&&(l=i.return)?[4,bv(l.call(i))]:[3,16];case 15:h.sent(),h.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(n=e-128)){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){if(0!=(n=e-144)){this.pushArrayState(n),this.complete();continue e}t=[]}else{var r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)r=this.lookU8(),t=this.decodeUtf8String(r,1);else if(218===e)r=this.lookU16(),t=this.decodeUtf8String(r,2);else if(219===e)r=this.lookU32(),t=this.decodeUtf8String(r,4);else if(220===e){if(0!==(n=this.readU16())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(221===e){if(0!==(n=this.readU32())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(222===e){if(0!==(n=this.readU16())){this.pushMapState(n),this.complete();continue e}t={}}else if(223===e){if(0!==(n=this.readU32())){this.pushMapState(n),this.complete();continue e}t={}}else if(196===e){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(197===e)n=this.lookU16(),t=this.decodeBinary(n,2);else if(198===e)n=this.lookU32(),t=this.decodeBinary(n,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)n=this.lookU8(),t=this.decodeExtension(n,1);else if(200===e)n=this.lookU16(),t=this.decodeExtension(n,2);else{if(201!==e)throw new cv("Unrecognized type byte: ".concat(pv(e)));n=this.lookU32(),t=this.decodeExtension(n,4)}this.complete();for(var i=this.stack;i.length>0;){var s=i[i.length-1];if(0===s.type){if(s.array[s.position]=t,s.position++,s.position!==s.size)continue e;i.pop(),t=s.array}else{if(1===s.type){if("string"!=(a=typeof t)&&"number"!==a)throw new cv("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new cv("The key __proto__ is not allowed");s.key=t,s.type=2;continue e}if(s.map[s.key]=t,s.readCount++,s.readCount!==s.size){s.key=null,s.type=1;continue e}i.pop(),t=s.map}}return t}var a},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new cv("Unrecognized array type byte: ".concat(pv(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new cv("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new cv("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new cv("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw Ev;var n,i=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,i,e):e>sv?function(e,t,r){var n=e.subarray(t,t+r);return iv.decode(n)}(this.bytes,i,e):rv(this.bytes,i,e),this.pos+=t+e,n},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new cv("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw Ev;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new cv("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,r=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r},e.prototype.readI64=function(){var e=$b(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),_v={};const Tv='\' Main Core BrightScript Library\r\n\r\nfunction bslBrightScriptErrorCodes()\r\n    return {\r\n        ERR_OKAY : &hFF\r\n        ERR_NORMAL_END : &hFC\r\n        ERR_VALUE_RETURN : &hE2\r\n        ERR_INTERNAL : &hFE\r\n        ERR_UNDEFINED_OPCD: &hFD\r\n        ERR_UNDEFINED_OP : &hFB\r\n        ERR_MISSING_PARN : &hFA\r\n        ERR_STACK_UNDER : &hF9\r\n        ERR_BREAK : &hF8\r\n        ERR_STOP : &hF7\r\n        ERR_RO0 : &hF6\r\n        ERR_RO1 : &hF5\r\n        ERR_RO2 : &hF4\r\n        ERR_RO3 : &hF3\r\n        ERR_TOO_MANY_PARAM : &hF2\r\n        ERR_WRONG_NUM_PARAM : &hF1\r\n        ERR_RVIG : &hF0\r\n        ERR_NOTPRINTABLE : &hEF\r\n        ERR_NOTWAITABLE : &hEE\r\n        ERR_MUST_BE_STATIC : &hED\r\n        ERR_RO4 : &hEC\r\n        ERR_NOTYPEOP : &hEB\r\n        ERR_USE_OF_UNINIT_VAR : &hE9\r\n        ERR_TM2 : &hE8\r\n        ERR_ARRAYNOTDIMMED : &hE7\r\n        ERR_USE_OF_UNINIT_BRSUBREF : &hE6\r\n        ERR_MUST_HAVE_RETURN : &hE5\r\n        ERR_INVALID_LVALUE : &hE4\r\n        ERR_INVALID_NUM_ARRAY_IDX : &hE3\r\n        ERR_UNICODE_NOT_SUPPORTED : &hE1\r\n        ERR_NOTFUNOPABLE : &hE0\r\n        ERR_STACK_OVERFLOW : &hDF\r\n        ERR_SYNTAX : &h02\r\n        ERR_DIV_ZERO : &h14\r\n        ERR_MISSING_LN : &h0E\r\n        ERR_OUTOFMEM : &h0C\r\n        ERR_STRINGTOLONG : &h1C\r\n        ERR_TM : &h18\r\n        ERR_OS : &h1A\r\n        ERR_RG : &h04\r\n        ERR_NF : &h00\r\n        ERR_FC : &h08\r\n        ERR_DD : &h12\r\n        ERR_BS : &h10\r\n        ERR_OD : &h06\r\n        ERR_CN : &h20\r\n        ERR_BITSHIFT_BAD : &h1E\r\n        ERR_EXECUTION_TIMEOUT : &h23\r\n        ERR_NW : &hBF\r\n        ERR_MISSING_ENDWHILE : &hBE\r\n        ERR_MISSING_ENDIF : &hBC\r\n        ERR_NOLN : &hBB\r\n        ERR_LNSEQ : &hBA\r\n        ERR_LOADFILE : &hB9\r\n        ERR_NOMATCH : &hB8\r\n        ERR_UNEXPECTED_EOF : &hB7\r\n        ERR_FOR_NEXT_MISMATCH : &hB6\r\n        ERR_NO_BLOCK_END : &hB5\r\n        ERR_LABELTWICE : &hB4\r\n        ERR_UNTERMED_STRING : &hB3\r\n        ERR_FUN_NOT_EXPECTED : &hB2\r\n        ERR_TOO_MANY_CONST : &hB1\r\n        ERR_TOO_MANY_VAR : &hB0\r\n        ERR_EXIT_WHILE_NOT_IN_WHILE : &hAF\r\n        ERR_INTERNAL_LIMIT_EXCEDED : &hAE\r\n        ERR_SUB_DEFINED_TWICE : &hAD\r\n        ERR_NOMAIN : &hAC\r\n        ERR_FOREACH_INDEX_TM : &hAB\r\n        ERR_RET_CANNOT_HAVE_VALUE : &hAA\r\n        ERR_RET_MUST_HAVE_VALUE : &hA9\r\n        ERR_FUN_MUST_HAVE_RET_TYPE : &hA8\r\n        ERR_INVALID_TYPE : &hA7\r\n        ERR_NOLONGER : &hA6\r\n        ERR_EXIT_FOR_NOT_IN_FOR : &hA5\r\n        ERR_MISSING_INITILIZER : &hA4\r\n        ERR_IF_TOO_LARGE : &hA3\r\n        ERR_RO_NOT_FOUND : &hA2\r\n        ERR_TOO_MANY_LABELS : &hA1\r\n        ERR_VAR_CANNOT_BE_SUBNAME : &hA0\r\n        ERR_INVALID_CONST_NAME : &h9F\r\n        ERR_CONST_FOLDING : &h9E\r\n        ERR_BUILTIN_FUNCTION : &h9D\r\n    }\r\nend function\r\nfunction bslUniversalControlEventCodes()\r\n    return {\r\n        BUTTON_BACK_PRESSED : 0\r\n        BUTTON_UP_PRESSED : 2\r\n        BUTTON_DOWN_PRESSED : 3\r\n        BUTTON_LEFT_PRESSED : 4\r\n        BUTTON_RIGHT_PRESSED : 5\r\n        BUTTON_SELECT_PRESSED : 6\r\n        BUTTON_INSTANT_REPLAY_PRESSED : 7\r\n        BUTTON_REWIND_PRESSED : 8\r\n        BUTTON_FAST_FORWARD_PRESSED : 9\r\n        BUTTON_INFO_PRESSED : 10\r\n        BUTTON_PLAY_PRESSED : 13\r\n        BUTTON_ENTER_PRESSED : 15\r\n        BUTTON_A_PRESSED : 17\r\n        BUTTON_B_PRESSED : 18\r\n        BUTTON_PLAY_ONLY_PRESSED : 22\r\n        BUTTON_STOP_PRESSED : 23\r\n        BUTTON_BACK_RELEASED : 100\r\n        BUTTON_UP_RELEASED : 102\r\n        BUTTON_DOWN_RELEASED : 103\r\n        BUTTON_LEFT_RELEASED : 104\r\n        BUTTON_RIGHT_RELEASED : 105\r\n        BUTTON_SELECT_RELEASED : 106\r\n        BUTTON_INSTANT_REPLAY_RELEASED : 107\r\n        BUTTON_REWIND_RELEASED : 108\r\n        BUTTON_FAST_FORWARD_RELEASED : 109\r\n        BUTTON_INFO_RELEASED : 110\r\n        BUTTON_PLAY_RELEASED : 113\r\n        BUTTON_ENTER_RELEASED : 115\r\n        BUTTON_A_RELEASED : 117\r\n        BUTTON_B_RELEASED : 118\r\n        BUTTON_PLAY_ONLY_RELEASED : 122\r\n        BUTTON_STOP_RELEASED : 123\r\n    }\r\nend function\r\nfunction bslGeneralConstants()\r\n    return {\r\n        MAX_INT : 2147483647\r\n        MIN_INT : -2147483648\r\n    }\r\nend function\r\nfunction AsciiToHex(ascii)\r\n    digits = "0123456789ABCDEF"\r\n    hex = ""\r\n    out = ""\r\n    for i = 1 to len(ascii)\r\n        dec = asc(mid(ascii, i, 1))\r\n        ch = mid(digits, dec / 16 + 1, 1)\r\n        ch = ch + mid(digits, (dec and 15) + 1, 1)\r\n        out = out + ch\r\n    end for\r\n    return out\r\nend function\r\nfunction HexToAscii(hex_in)\r\n    out = ""\r\n    hex = LCase(hex_in)\r\n    for i = 1 to len(hex) step 2\r\n        dec1 = asc(mid(hex, i, 1))\r\n        if dec1 >= asc("0") and dec1 <= asc("9") then dec1 = dec1 - asc("0") else dec1 = dec1 - asc("a") + 10\r\n        dec2 = asc(mid(hex, i + 1, 1))\r\n        if dec2 >= asc("0") and dec2 <= asc("9") then dec2 = dec2 - asc("0") else dec2 = dec2 - asc("a") + 10\r\n        dec = dec1 * 16 + dec2\r\n        out = out + chr(dec)\r\n    end for\r\n    return out\r\nend function\r\nfunction HexToInteger(hex_in)\r\n    out = 0\r\n    hex = LCase(hex_in)\r\n    for i = 1 to len(hex)\r\n        dec1 = asc(mid(hex, i, 1))\r\n        if dec1 >= asc("0") and dec1 <= asc("9") then dec1 = dec1 - asc("0") else dec1 = dec1 - asc("a") + 10\r\n        out = out * 16 + dec1\r\n    end for\r\n    return out\r\nend function\r\n',kv='\' bslDefender\r\n\' BrightScript 2D graphics library\r\n\' Aug 23, 2010\r\n\' ajw\r\n\'\r\nLibrary "v30/bslCore.brs"\r\nfunction toint(x)\r\n    if x = invalid then return 0\r\n    return strtoi(x)\r\nend function\r\nfunction h2i(x)\r\n    if x = invalid then return 0\r\n    return HexToInteger(x)\r\nend function\r\nfunction dfRedChannel(color as integer) as integer\r\n    return color >> 24\r\nend function\r\nfunction dfGreenChannel(color as integer) as integer\r\n    return color >> 16 and &hFF\r\nend function\r\nfunction dfBlueChannel(color as integer) as integer\r\n    return color >> 8 and &hFF\r\nend function\r\nfunction dfAlphaChannel(color as integer) as integer\r\n    return color and &hFF\r\nend function\r\nfunction dfRGBA(red as integer, green as integer, blue as integer, alpha as integer) as integer\r\n    return red << 24 or green << 16 or blue << 8 or alpha\r\nend function\r\nfunction dfNewBitmapSet(bitmap_set_string)\r\n    bitmap_set = CreateObject("roXMLElement")\r\n    if bitmap_set = invalid\r\n        print "dfNewBitmapSet: Unexpected error creating roXMLElement."\r\n        return invalid\r\n    end if\r\n    if not bitmap_set.Parse(bitmap_set_string)\r\n        print "dfNewBitmapSet: Error parsing XML: ";left(bitmap_set_string, 20);"..."\r\n        return invalid\r\n    end if\r\n    set = { ExtraInfo: {}, Backgrounds: {}, Regions: {}, Animations: {}, TickList: [] }\r\n    extra_xmllist = bitmap_set.ExtraInfo\r\n    if not extra_xmllist.IsEmpty() then set.ExtraInfo.Append(extra_xmllist.GetAttributes())\r\n    bitmap_xmllist = bitmap_set.Bitmap\r\n    if bitmap_xmllist.IsEmpty()\r\n        print "dfNewBitmapSet: no <Bitmap> tag in BitmapSet"\r\n        return invalid\r\n    end if\r\n    for each bitmap_element in bitmap_xmllist\r\n\t\tbitmap_attr = bitmap_element.getAttributes()\r\n        if bitmap_attr["filespec"] <> invalid\r\n            bm = CreateObject("roBitmap", bitmap_attr["filespec"])\r\n            if bm = invalid\r\n                print "dfNewBitmapSet: Error creating roBitmap from file ";bitmap_attr["filespec"]\r\n                return invalid\r\n            end if\r\n        else if bitmap_attr["shape"] <> invalid\r\n            if bitmap_attr["shape"] <> "rect"\r\n                print "dfNewBitmapSet: Invalid shape"\r\n                return invalid\r\n            end if\r\n            color = h2i(bitmap_attr["color"])\r\n            bm = CreateObject("roBitmap", { width: toint(bitmap_attr["w"]), height: toint(bitmap_attr["h"]), AlphaEnable: 255 <> (color and 255) })\r\n            if bm = invalid\r\n                print "dfNewBitmapSet: Error creating roBitmap from shape"\r\n                return invalid\r\n            end if\r\n            bm.Clear(color)\r\n        else\r\n            print "dfNewBitmapSet: Error creating roBitmap.  No filespec or shape attribute."\r\n            return invalid\r\n        end if\r\n        if bitmap_attr["name"] = invalid\r\n            print "dfNewBitmapSet: <Bitmap> missing a name attribute."\r\n            return invalid\r\n        end if\r\n        r = CreateObject("roRegion", bm, 0, 0, bm.GetWidth(), bm.GetHeight())\r\n        r.SetTime(toint(bitmap_attr["t"]))\r\n        set.Regions[bitmap_attr["name"]] = r\r\n        for each region_element in bitmap_element.Region\r\n\t\t\tregion_attr = region_element.getAttributes()\r\n            r = CreateObject("roRegion", bm, toint(region_attr["x"]), toint(region_attr["y"]), toint(region_attr["w"]), toint(region_attr["h"]))\r\n            if type(r) <> "roRegion"\r\n                print "dfNewBitmapSet: <Region> invalid: ";bitmap_attr["name"] + "." + region_attr["name"]\r\n            else\r\n                r.SetTime(toint(region_attr["t"]))\r\n                set.Regions[bitmap_attr["name"] + "." + region_attr["name"]] = r\r\n            end if\r\n        end for\r\n    end for\r\n    background_xmllist = bitmap_set.Background\r\n    if background_xmllist.IsEmpty()\r\n        print "dfNewBitmapSet: no <Background> tag in BitmapSet"\r\n    end if\r\n    for each background_element in background_xmllist\r\n\t\tback_attr = background_element.getAttributes()\r\n        if back_attr["filespec"] <> invalid and back_attr["name"] <> invalid \r\n            set.Backgrounds[back_attr["name"]] = back_attr["filespec"]\r\n        end if\r\n    end for\r\n    animation_xmllist = bitmap_set.Animation\r\n    if not animation_xmllist.IsEmpty()\r\n        for each animation_element in animation_xmllist\r\n\t\t\tanima_attr = animation_element.getAttributes()\r\n            frame_array = []\r\n            for each frame_element in animation_element.Frame\r\n\t\t\t\tframe_attr = frame_element.getAttributes()\r\n                if frame_attr["use"] = invalid or not set.regions.DoesExist(frame_attr["use"])\r\n                    print "dfNewBitmapSet: <Frame> tag has missing or invalid USE attribute"\r\n                    return invalid\r\n                end if\r\n                frame_array.push(set.Regions[frame_attr["use"]])\r\n            end for\r\n            if anima_attr["name"] = invalid\r\n                print "dfNewBitmapSet: <Animation> tag is missing NAME attribute"\r\n                return invalid\r\n            end if\r\n            set.Animations[anima_attr["name"]] = frame_array\r\n        end for\r\n    end if\r\n    return set\r\nend function\r\nfunction dfDrawMessage(dest, region)\r\n    dest.DrawRect(0, 0, dest.getwidth(), dest.getheight(), &h90)\r\n    dest.DrawObject((dest.getwidth() - region.GetWidth()) / 2, (dest.getheight() - region.GetHeight()) / 2, region.GetBitmap())\r\n    dest.Finish()\r\nend function\r\nfunction dfDrawImage(dest, filename, dest_x, dest_y) as boolean\r\n    return dest.DrawObject(dest_x, dest_y, createobject("robitmap", filename))\r\nend function\r\nfunction dfSetupDisplayRegions(screen, topx, topy, width, height) as object\r\n    mainregion = createobject("roregion", screen, topx, topy, width, height)\r\n    left = invalid\r\n    right = invalid\r\n    upper = invalid\r\n    lower = invalid\r\n    scr_w = screen.getwidth()\r\n    scr_h = screen.getheight()\r\n    sidebar_w = 0\r\n    left_w = 0\r\n    if topx <> 0\r\n        sidebar_w = scr_w - width\r\n        left_w = int(sidebar_w / 2)\r\n        right_w = sidebar_w - left_w\r\n        left = createobject("roregion", screen, 0, 0, right_w, scr_h)\r\n        right = createobject("roregion", screen, topx + width, 0, right_w, scr_h)\r\n    end if\r\n    if topy <> 0\r\n        letterb_h = scr_h - height\r\n        upper_h = int(letterb_h / 2)\r\n        lower_h = letterb_h - upper_h\r\n        upper = createobject("roregion", screen, left_w, 0, scr_w - sidebar_w, upper_h)\r\n        lower = createobject("roregion", screen, left_w, topy + height, scr_w - sidebar_w, lower_h)\r\n    end if\r\n    return {main: mainregion, left: left, right: right, upper: upper, lower: lower}\r\nend function\r\nfunction dfSetBackground(backgroundName, backgrounds)\r\n    if backgrounds[backgroundName] <> invalid and backgrounds[backgroundName] <> ""\r\n        bm = CreateObject("roBitmap", backgrounds[backgroundName])\r\n        if bm = invalid\r\n            print "dfSetBackground: Error creating roBitmap from file ";backgrounds[backgroundName]\r\n            return invalid\r\n        end if\r\n    else\r\n        print "dfSetBackground: Error backgrounds = ";backgrounds;" backgroundName = ";backgroundName " File = ";backgrounds[backgroundName]\r\n        return invalid\r\n    end if\r\n    r = CreateObject("roRegion", bm, 0, 0, bm.GetWidth(), bm.GetHeight())\r\n    return r\r\nend function\r\n',Av='function Roku_Ads() as object\r\n    this = {adurl:""}\r\n    this.setAdUrl = sub(url="")\r\n        m.adurl = url\r\n    end sub\r\n    this.getAdUrl = function() as string\r\n        return m.adurl\r\n    end function\r\n    this.getAds = function(msg=invalid) as object\r\n        return {}\r\n    end function\r\n    this.showAds = function(ads,ctx=invalid,view=invalid) as boolean\r\n        return true\r\n    end function\r\n    this.setContentId = sub(id="")\r\n    end sub\r\n    this.setContentLength = sub(length = 0)\r\n    end sub\r\n    this.setContentGenre = sub(genres=invalid,kids=false)\r\n    end sub\r\n    this.setAdExit = sub(allow)\r\n    end sub\r\n    this.setDebugOutput = sub(enable)\r\n    end sub\r\n    this.enableAdMeasurements = sub(enable)\r\n    end sub\r\n    this.setAdBufferScreenLayer = sub(zOrder,content)\r\n    end sub\r\n    this.enableAdBufferMessaging = sub(enableMsg, enablePB)\r\n    end sub\r\n    this.setAdPrefs = sub(useRokuAdsAsFallback, maxRequests)\r\n    end sub\r\n    return this\r\nend function\r\n',Cv='sub RokuBrowser(ndk as object, app as string, options as object)\r\n    if ndk <> invalid and app <> invalid and app.trim() <> ""\r\n        params = ["url=" + app]\r\n        if getInterface(options, "ifAssociativeArray") <> invalid\r\n            for each key in options\r\n                params.push(key + "=" + options[key].toStr())\r\n            end for\r\n        end if\r\n        ndk.start("roku_browser", params)\r\n    end if\r\nend sub';var Mv=__webpack_require__(8287).Buffer;const Rv=new Map,Ov=new Map,Dv=new Map,Pv=["debug-exit","end-statement"],Lv="aes-256-ctr";async function Fv(e,t){const r={entryPoint:e.device.entryPoint??!0,stopOnCrash:e.device.debugOnCrash??!1,root:e.root,ext:e.extZip?void 0:e.ext,...t};Ov.clear(),Dv.clear();try{await async function(e,t){const r={mounts:{}};return i?.existsSync("pkg:/")&&ni("pkg:"),e?Object.assign(r.mounts,{"pkg:":{backend:zb,data:e,caseSensitive:!1}}):Object.assign(r.mounts,{"pkg:":Ln}),t&&(i?.existsSync("ext1:/")&&ni("ext1:"),Object.assign(r.mounts,{"ext1:":{backend:zb,data:t,caseSensitive:!1}})),async function(e){var t,r,n,i;if(i={uid:"uid"in e&&e.uid||0,gid:"gid"in e&&e.gid||0},Object.assign(St,Et(i)),Hn.isEnabled=null!==(t=e.cacheStats)&&void 0!==t&&t,Xn.isEnabled=null!==(r=e.cachePaths)&&void 0!==r&&r,Ir.checkAccess=!e.disableAccessChecks,Ir.updateOnRead=!e.disableUpdateOnRead,Ir.syncImmediately=!e.onlySyncOnClose,e.mounts)for(const[t,r]of Object.entries(e.mounts).sort((([e],[t])=>e.length>t.length?1:-1))){const i=t.startsWith("/")?t:"/"+t;wt(r)&&(null!==(n=r.disableAsyncCache)&&void 0!==n||(r.disableAsyncCache=e.disableAsyncCache||!1)),"/"==i&&ni("/"),await Ya(i,await Xa(r))}if(e.addDevices){const e=new Un;e.addDefaults(),await e.ready(),await Ya("/dev",e)}}(r)}(e.pkgZip,e.extZip)}catch(e){return postMessage(`error,Error mounting File System: ${e.message}`),{exitReason:ze.CRASHED}}const n=new ky(r),s=function(e,t){return e.setManifest(t.manifest),t.device.registry?.size&&e.setRegistry(t.device.registry),function(e,t){Object.keys(t).forEach((r=>{"registry"!==r&&"fonts"!==r&&("developerId"===r&&e.deviceInfo.set(r,t[r].replace(".",":")),e.deviceInfo.set(r,t[r]))}));const r=e.fileSystem;r&&(r.mkdirSync("common:/LibCore"),r.mkdirSync("common:/LibCore/v30"),r.writeFileSync("common:/LibCore/v30/bslCore.brs",Tv),r.writeFileSync("common:/LibCore/v30/bslDefender.brs",kv),r.mkdirSync("common:/roku_ads"),r.writeFileSync("common:/roku_ads/Roku_Ads.brs",Av),r.mkdirSync("common:/roku_browser"),r.writeFileSync("common:/roku_browser/RokuBrowser.brs",Cv))}(e,t.device),function(e,t){let r=t.defaultFont??"Asap",n=t.fontPath??"../fonts/";const i=e.fileSystem;if(!i?.existsSync("common:/"))return void postMessage("error,Common file system not found");let s,a,o,c;i.mkdirSync("common:/Fonts"),"undefined"!=typeof XMLHttpRequest?(s=Ce(`${n}${r}-Regular.ttf`,"arraybuffer"),a=Ce(`${n}${r}-Bold.ttf`,"arraybuffer"),o=Ce(`${n}${r}-Italic.ttf`,"arraybuffer"),c=Ce(`${n}${r}-BoldItalic.ttf`,"arraybuffer")):t.fonts&&(s=t.fonts.get("regular"),a=t.fonts.get("bold"),o=t.fonts.get("italic"),c=t.fonts.get("bold-italic")),s?i.writeFileSync(`common:/Fonts/${r}-Regular.ttf`,Mv.from(s)):postMessage(`warning,Font file not found: ${n}${r}-Regular.ttf`),a?i.writeFileSync(`common:/Fonts/${r}-Bold.ttf`,Mv.from(a)):postMessage(`warning,Font file not found: ${n}${r}-Bold.ttf`),o?i.writeFileSync(`common:/Fonts/${r}-Italic.ttf`,Mv.from(o)):postMessage(`warning,Font file not found: ${n}${r}-Italic.ttf`),c?i.writeFileSync(`common:/Fonts/${r}-BoldItalic.ttf`,Mv.from(c)):postMessage(`warning,Font file not found: ${n}${r}-BoldItalic.ttf`)}(e,t.device),function(e){let t="",r="",n="";const i=e.deviceInfo.get("locale")||"en_US";try{const s=e.fileSystem;if(s?.existsSync(`pkg:/locale/${i}/translations.ts`)?(t=s.readFileSync(`pkg:/locale/${i}/translations.ts`,"utf8"),r="TS",n="translation"):s?.existsSync(`pkg:/locale/${i}/translations.xml`)&&(t=s.readFileSync(`pkg:/locale/${i}/translations.xml`,"utf8"),r="xliff",n="target"),""!==r){let i={explicitArray:!1};new Xo.Parser(i).parseString(t,(function(t,i){if(t)postMessage(`error,Error parsing XML: ${t.message}`);else if(i){if(Object.keys(i).length>0){let t;t="TS"===r?i.TS.context.message:i.xliff.file.body["trans-unit"],t instanceof Array&&t.forEach((t=>{t.source&&e.translations.set(t.source,t[n])}))}}else postMessage("error,Error parsing translation XML: Empty input")}))}}catch(e){postMessage(`error,Invalid path: pkg:/locale/${i}/ - ${e.message}`)}}(e),function(e,t){const r={sourceMap:new Map},n=e.fileSystem;if(!n||!Array.isArray(t.paths))return r;for(let e of t.paths)try{"pcode"===e.type&&n.existsSync(`pkg:/${e.url}`)?0===e.id?r.pcode=n.readFileSync(`pkg:/${e.url}`):r.iv=n.readFileSync(`pkg:/${e.url}`,"utf8"):"source"===e.type&&Array.isArray(t.source)?r.sourceMap.set(e.url,t.source[e.id]):"source"===e.type&&n.existsSync(`pkg:/${e.url}`)&&r.sourceMap.set(e.url,n.readFileSync(`pkg:/${e.url}`,"utf8"))}catch(t){postMessage(`error,Error accessing file ${e.url} - ${t.message}`)}return r}(e,t)}(n,e);let a;return a=s.pcode&&s.iv?await async function(e,t,r){const n=r.password??"";let i;try{if(!(n.length>0&&t.pcode&&t.iv))return{exitReason:ze.PASSWORD};{const e=ko._7(Lv,n,t.iv),r=function(e,t){return void 0===t&&(t=_v),new Iv(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}((s=Mv.concat([e.update(t.pcode),e.final()]),pb(s.subarray(Cb(s,a),-4),{i:2},a,a)));if(!r)return{exitReason:ze.INVALID};i=new Map(Object.entries(r.pcode))}}catch(e){return postMessage(`error,Error unpacking the app: ${e.message}`),{exitReason:ze.UNPACK}}var s,a;try{const t=function(e,t){const r=new Sg,n=new am,i=new Array,s=new Map;r.onError(jv),n.onError(jv);let a=[];for(let[,r]of t){const t=r;if(t.literal)if("Integer"===t.kind){const e=t.literal.value;t.literal=new Y(e)}else if("LongInteger"===t.kind){const e=t.literal.value;t.literal=new z(e)}else if("Double"===t.kind){const e=t.literal.value;t.literal=new q(e)}else if("Float"===t.kind){const e=t.literal.value;t.literal=new H(e)}else if("String"===t.kind){const e=t.literal.value;t.literal=new Ee(e)}if(a.push(t),"Eof"===t.kind){const t=n.parse(a);if(t.errors.length>0||0===t.statements.length)throw new Error("Error parsing the tokens!");Uv(t,s,e.manifest),i.push(...t.statements),a=[]}}return s.forEach(((e,t)=>{if(""!==e){const s=r.scan(e,t),a=n.parse(s.tokens);i.push(...a.statements)}})),i}(e,i);return{exitReason:await Bv(e,t,r)}}catch(e){return postMessage(`error,Error executing the app: ${e.message}`),{exitReason:ze.CRASHED}}}(n,s,e):await async function(e,t,r){const n=r.password??"",i=Nv(t,e.manifest,n);let s=i.exitReason;if(s!==ze.CRASHED){if(n.length>0){const e=i.tokens,t=ko.po(12).toString("base64"),r=ko.Tt(Lv,n,t),s=function(e,t){t||(t={});var r=_b();r.p(e);var n=Tb(e,t,t.dictionary?6:2,4);return Ab(n,t),kb(n,n.length-4,r.d()),n}(function(e,t){return void 0===t&&(t=dv),new fv(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encodeSharedRef(e)}({pcode:e})),a=Mv.from(s),o=Mv.concat([r.update(a),r.final()]);return{exitReason:ze.PACKAGED,cipherText:o,iv:t}}s=await Bv(e,i.statements,r,t)}return{exitReason:s}}(n,s.sourceMap,e),a.cipherText||postMessage(`end,${a.exitReason}`),a}function Nv(e,t,r=""){const n=new Sg,i=new am,s=new Py,a=new Array,o=new Map;let c=[];n.onError(jv),i.onError(jv);let u=ze.FINISHED;for(let[l,h]of e){const e=n.scan(h,l);if(e.errors.length>0){u=ze.CRASHED;break}let f=s.preprocess(e.tokens,t);if(f.errors.length>0){u=ze.CRASHED;break}if(r.length>0){c=c.concat(f.processedTokens);continue}const d=i.parse(f.processedTokens);if(d.errors.length>0){u=ze.CRASHED;break}Uv(d,o,t),a.push(...d.statements)}return 0===r.length&&o.forEach(((t,r)=>{if(""!==t){e.set(r,t);const s=n.scan(t,r),o=i.parse(s.tokens);a.push(...o.statements)}})),i.stats.forEach(((e,t)=>{Dv.set(t,e.size)})),{exitReason:u,tokens:c,statements:a}}async function Bv(e,t,r,n){let i=ze.FINISHED;try{let i=parseInt(r.manifest.get("splash_min_time")??"");isNaN(i)&&(i=1600);let s=Date.now()-r.launchTime;s<i&&(await new Promise((e=>setTimeout(e,i-s))),s=i);const a=function(e,t){const r=new Map([["instant_on_run_mode","foreground"],["lastExitOrTerminationReason",ze.UNKNOWN],["source","auto-run-dev"],["splashTime",t.toString()]]);return e.forEach(((e,t)=>{r.set(t,e)})),cg(r)}(r.deepLink,s);e.exec(t,n,a)}catch(t){if(i=ze.FINISHED,!Pv.includes(t.message)){e.options.post??1?postMessage(`error,${t.message}`):e.options.stderr.write(t.message),i=ze.CRASHED;const r=t.cause;r&&r instanceof A&&r.errorDetail===C.MemberFunctionNotFound&&(i=ze.UNKFUNC)}}return i}function Uv(e,t,r){t.has("v30/bslDefender.brs")||(t.set("v30/bslDefender.brs",""),t.set("v30/bslCore.brs",""),t.set("Roku_Ads.brs",""),t.set("RokuBrowser.brs","")),!0===e.libraries.get("v30/bslDefender.brs")?(t.set("v30/bslDefender.brs",kv),t.set("v30/bslCore.brs",Tv)):!0===e.libraries.get("v30/bslCore.brs")&&t.set("v30/bslCore.brs",Tv),!0===e.libraries.get("Roku_Ads.brs")&&r.get("bs_libs_required")?.includes("roku_ads_lib")&&t.set("Roku_Ads.brs",Av),!0===e.libraries.get("RokuBrowser.brs")&&r.get("bs_libs_required")?.includes("Roku_Browser")&&t.set("RokuBrowser.brs",Cv)}function jv(e){postMessage(`error,${e.format()}`)}"undefined"!=typeof onmessage&&(onmessage=function(e){var t;!((t=e.data)&&"object"==typeof t.device&&"number"==typeof t.launchTime&&t.manifest instanceof Map&&t.deepLink instanceof Map&&Array.isArray(t.paths)&&Array.isArray(t.source)&&(t.pkgZip instanceof ArrayBuffer||void 0===t.pkgZip)&&(t.extZip instanceof ArrayBuffer||void 0===t.extZip))||"string"!=typeof t.password&&void 0!==t.password||"string"!=typeof t.root&&void 0!==t.root||"string"!=typeof t.ext&&void 0!==t.ext?"string"==typeof e.data&&"getVersion"===e.data?postMessage("version,1.8.5"):e.data instanceof ArrayBuffer||e.data instanceof SharedArrayBuffer?Rv.set("buffer",new Int32Array(e.data)):postMessage(`warning,[worker] Invalid message received: ${e.data}`):Fv(e.data)})})(),__webpack_exports__})()));