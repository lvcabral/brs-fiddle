/*! For license information please see brs.worker.js.LICENSE.txt */
(()=>{var __webpack_modules__={5045(e,t){var r,n;void 0===(n="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebPDecoder=function(){function e(){a(55)}function u(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function l(e,t,n,i,s){r(!(i%n));do{e[t+(i-=n)]=s}while(0<i)}function h(e,t,n,i,s){if(r(2328>=s),512>=s)var o=a(512);else if(null==(o=a(s)))return 0;return function(e,t,n,i,s,o){var c,h,d=t,p=1<<n,g=a(16),m=a(16);for(r(0!=s),r(null!=i),r(null!=e),r(0<n),h=0;h<s;++h){if(15<i[h])return 0;++g[i[h]]}if(g[0]==s)return 0;for(m[1]=0,c=1;15>c;++c){if(g[c]>1<<c)return 0;m[c+1]=m[c]+g[c]}for(h=0;h<s;++h)c=i[h],0<i[h]&&(o[m[c]++]=h);if(1==m[15])return(i=new f).g=0,i.value=o[0],l(e,d,1,p,i),p;var y,b=-1,w=p-1,v=0,S=1,E=1,_=1<<n;for(h=0,c=1,s=2;c<=n;++c,s<<=1){if(S+=E<<=1,0>(E-=g[c]))return 0;for(;0<g[c];--g[c])(i=new f).g=c,i.value=o[h++],l(e,d+v,s,_,i),v=u(v,c)}for(c=n+1,s=2;15>=c;++c,s<<=1){if(S+=E<<=1,0>(E-=g[c]))return 0;for(;0<g[c];--g[c]){if(i=new f,(v&w)!=b){for(d+=_,y=1<<(b=c)-n;15>b&&!(0>=(y-=g[b]));)++b,y<<=1;p+=_=1<<(y=b-n),e[t+(b=v&w)].g=y+n,e[t+b].value=d-t-b}i.g=c-n,i.value=o[h++],l(e,d+(v>>n),s,_,i),v=u(v,c)}}return S!=2*m[15]-1?0:p}(e,t,n,i,s,o)}function f(){this.value=this.g=0}function d(){this.value=this.g=0}function p(){this.G=o(5,f),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ur,d)}function g(e,t,n,i){r(null!=e),r(null!=t),r(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=t,e.pa=n,e.Jd=t,e.Yc=n+i,e.Zc=4<=i?n+i-4+1:n,k(e)}function m(e,t){for(var r=0;0<t--;)r|=M(e,128)<<t;return r}function y(e,t){var r=m(e,t);return T(e)?-r:r}function b(e,t,n,i){var s,a=0;for(r(null!=e),r(null!=t),r(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),s=0;s<i;++s)a+=t[n+s]<<8*s;e.Ra=a,e.bb=i,e.oa=t,e.pa=n}function w(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<zr-8>>>0,++e.bb,e.u-=8;I(e)&&(e.h=1,e.u=0)}function v(e,t){if(r(0<=t),!e.h&&t<=jr){var n=_(e)&Vr[t];return e.u+=t,w(e),n}return e.h=1,e.u=0}function S(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function _(e){return e.Ra>>>(e.u&zr-1)>>>0}function I(e){return r(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>zr}function x(e,t){e.u=t,e.h=I(e)}function A(e){e.u>=$r&&(r(e.u>=$r),w(e))}function k(e){r(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(r(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function T(e){return m(e,1)}function M(e,t){var r=e.Ca;0>e.b&&k(e);var n=e.b,i=r*t>>>8,s=(e.I>>>n>i)+0;for(s?(r-=i,e.I-=i+1<<n>>>0):r=i+1,n=r,i=0;256<=n;)i+=8,n>>=8;return n=7^i+qr[n],e.b-=n,e.Ca=(r<<n)-1,s}function C(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function R(e,t){return e[t+0]|e[t+1]<<8}function D(e,t){return R(e,t)|e[t+2]<<16}function O(e,t){return R(e,t)|R(e,t+2)<<16}function F(e,t){var n=1<<t;return r(null!=e),r(0<t),e.X=a(n),null==e.X?0:(e.Mb=32-t,e.Xa=t,1)}function P(e,t){r(null!=e),r(null!=t),r(e.Xa==t.Xa),i(t.X,0,e.X,0,1<<t.Xa)}function N(){this.X=[],this.Xa=this.Mb=0}function B(e,t,n,i){r(null!=n),r(null!=i);var s=n[0],a=i[0];return 0==s&&(s=(e*a+t/2)/t),0==a&&(a=(t*s+e/2)/e),0>=s||0>=a?0:(n[0]=s,i[0]=a,1)}function L(e,t){return e+(1<<t)-1>>>t}function U(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function V(e,r){t[r]=function(r,n,i,s,a,o,c){var u;for(u=0;u<a;++u){var l=t[e](o[c+u-1],i,s+u);o[c+u]=U(r[n+u],l)}}}function j(){this.ud=this.hd=this.jd=0}function z(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function $(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function q(e,t){return $(e+(e-t+.5>>1))}function G(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function W(e,t,r,n,i,s,a){for(n=s[a-1],r=0;r<i;++r)s[a+r]=n=U(e[t+r],n)}function H(e,t,r,n,i){var s;for(s=0;s<r;++s){var a=e[t+s],o=a>>8&255,c=16711935&(c=(c=16711935&a)+((o<<16)+o));n[i+s]=(4278255360&a)+c>>>0}}function X(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function Y(e,t,r,n,i,s){var a;for(a=0;a<n;++a){var o=t[r+a],c=o>>>8,u=o,l=255&(l=(l=o>>>16)+((e.jd<<24>>24)*(c<<24>>24)>>>5));u=255&(u=(u+=(e.hd<<24>>24)*(c<<24>>24)>>>5)+((e.ud<<24>>24)*(l<<24>>24)>>>5)),i[s+a]=(4278255360&o)+(l<<16)+u}}function K(e,r,n,i,s){t[r]=function(e,t,r,n,a,o,c,u,l){for(n=c;n<u;++n)for(c=0;c<l;++c)a[o++]=s(r[i(e[t++])])},t[e]=function(e,r,a,o,c,u,l){var h=8>>e.b,f=e.Ea,d=e.K[0],p=e.w;if(8>h)for(e=(1<<e.b)-1,p=(1<<h)-1;r<a;++r){var g,m=0;for(g=0;g<f;++g)g&e||(m=i(o[c++])),u[l++]=s(d[m&p]),m>>=h}else t["VP8LMapColor"+n](o,c,d,p,u,l,r,a,f)}}function Z(e,t,r,n,i){for(r=t+r;t<r;){var s=e[t++];n[i++]=s>>16&255,n[i++]=s>>8&255,n[i++]=255&s}}function J(e,t,r,n,i){for(r=t+r;t<r;){var s=e[t++];n[i++]=s>>16&255,n[i++]=s>>8&255,n[i++]=255&s,n[i++]=s>>24&255}}function Q(e,t,r,n,i){for(r=t+r;t<r;){var s=(a=e[t++])>>16&240|a>>12&15,a=240&a|a>>28&15;n[i++]=s,n[i++]=a}}function ee(e,t,r,n,i){for(r=t+r;t<r;){var s=(a=e[t++])>>16&248|a>>13&7,a=a>>5&224|a>>3&31;n[i++]=s,n[i++]=a}}function te(e,t,r,n,i){for(r=t+r;t<r;){var s=e[t++];n[i++]=255&s,n[i++]=s>>8&255,n[i++]=s>>16&255}}function re(e,t,r,n,s,a){if(0==a)for(r=t+r;t<r;)C(n,((a=e[t++])[0]>>24|a[1]>>8&65280|a[2]<<8&16711680|a[3]<<24)>>>0),s+=32;else i(n,s,e,t,r)}function ne(e,r){t[r][0]=t[e+"0"],t[r][1]=t[e+"1"],t[r][2]=t[e+"2"],t[r][3]=t[e+"3"],t[r][4]=t[e+"4"],t[r][5]=t[e+"5"],t[r][6]=t[e+"6"],t[r][7]=t[e+"7"],t[r][8]=t[e+"8"],t[r][9]=t[e+"9"],t[r][10]=t[e+"10"],t[r][11]=t[e+"11"],t[r][12]=t[e+"12"],t[r][13]=t[e+"13"],t[r][14]=t[e+"0"],t[r][15]=t[e+"0"]}function ie(e){return e==qn||e==Gn||e==Wn||e==Hn}function se(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new se,this.f.kb=new ae,this.sd=null}function ce(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ue(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function le(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function he(e,t){var r=e.T,n=t.ba.f.RGBA,s=n.eb,a=n.fb+e.ka*n.A,o=bi[t.ba.S],c=e.y,u=e.O,l=e.f,h=e.N,f=e.ea,d=e.W,p=t.cc,g=t.dc,m=t.Mc,y=t.Nc,b=e.ka,w=e.ka+e.T,v=e.U,S=v+1>>1;for(0==b?o(c,u,null,null,l,h,f,d,l,h,f,d,s,a,null,null,v):(o(t.ec,t.fc,c,u,p,g,m,y,l,h,f,d,s,a-n.A,s,a,v),++r);b+2<w;b+=2)p=l,g=h,m=f,y=d,h+=e.Rc,d+=e.Rc,a+=2*n.A,o(c,(u+=2*e.fa)-e.fa,c,u,p,g,m,y,l,h,f,d,s,a-n.A,s,a,v);return u+=e.fa,e.j+w<e.o?(i(t.ec,t.fc,c,u,v),i(t.cc,t.dc,l,h,S),i(t.Mc,t.Nc,f,d,S),r--):1&w||o(c,u,null,null,l,h,f,d,l,h,f,d,s,a+n.A,null,null,v),r}function fe(e,t,n){var i=e.F,s=[e.J];if(null!=i){var a=e.U,o=t.ba.S,c=o==jn||o==Wn;t=t.ba.f.RGBA;var u=[0],l=e.ka;u[0]=e.T,e.Kb&&(0==l?--u[0]:(--l,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(u[0]=e.o-e.j-l));var h=t.eb;l=t.fb+l*t.A,e=An(i,s[0],e.width,a,u,h,l+(c?0:3),t.A),r(n==u),e&&ie(o)&&In(h,l,c,a,u,t.A)}return 0}function de(e){var t=e.ma,r=t.ba.S,n=11>r,i=r==Ln||r==Vn||r==jn||r==zn||12==r||ie(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Nr(t.Oa,e,i?11:12))return 0;if(i&&ie(r)&&wr(),e.da)alert("todo:use_scaling");else{if(n){if(t.Ib=le,e.Kb){if(r=e.U+1>>1,t.memory=a(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=he,wr()}}else alert("todo:EmitYUV");i&&(t.Jb=fe,n&&yr())}if(n&&!Di){for(e=0;256>e;++e)Oi[e]=89858*(e-128)+ki>>Ai,Ni[e]=-22014*(e-128)+ki,Pi[e]=-45773*(e-128),Fi[e]=113618*(e-128)+ki>>Ai;for(e=Ti;e<Mi;++e)t=76283*(e-16)+ki>>Ai,Bi[e-Ti]=We(t,255),Li[e-Ti]=We(t+8>>4,15);Di=1}return 1}function pe(e){var t=e.ma,n=e.U,i=e.T;return r(!(1&e.ka)),0>=n||0>=i?0:(n=t.Ib(e,t),null!=t.Jb&&t.Jb(e,t,n),t.Dc+=n,1)}function ge(e){e.ma.memory=null}function me(e,t,r,n){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,r[0]=v(e,14)+1,n[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ye(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+v(t,r)+1}function be(e,t){return 120<t?t-120:1<=(r=((r=Qn[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function we(e,t,r){var n=_(r),i=e[t+=255&n].g-8;return 0<i&&(x(r,r.u+8),n=_(r),t+=e[t].value,t+=n&(1<<i)-1),x(r,r.u+e[t].g),e[t].value}function ve(e,t,n){return n.g+=e.g,n.value+=e.value<<t>>>0,r(8>=n.g),e.g}function Se(e,t,n){var i=e.xc;return r((t=0==i?0:e.vc[e.md*(n>>i)+(t>>i)])<e.Wb),e.Ya[t]}function Ee(e,t,n,s){var a=e.ab,o=e.c*t,c=e.C;t=c+t;var u=n,l=s;for(s=e.Ta,n=e.Ua;0<a--;){var h=e.gc[a],f=c,d=t,p=u,g=l,m=(l=s,u=n,h.Ea);switch(r(f<d),r(d<=h.nc),h.hc){case 2:Hr(p,g,(d-f)*m,l,u);break;case 0:var y=f,b=d,w=l,v=u,S=(A=h).Ea;0==y&&(Gr(p,g,null,null,1,w,v),W(p,g+1,0,0,S-1,w,v+1),g+=S,v+=S,++y);for(var E=1<<A.b,_=E-1,I=L(S,A.b),x=A.K,A=A.w+(y>>A.b)*I;y<b;){var k=x,T=A,M=1;for(Wr(p,g,w,v-S,1,w,v);M<S;){var C=(M&~_)+E;C>S&&(C=S),(0,Jr[k[T++]>>8&15])(p,g+ +M,w,v+M-S,C-M,w,v+M),M=C}g+=S,v+=S,++y&_||(A+=I)}d!=h.nc&&i(l,u-m,l,u+(d-f-1)*m,m);break;case 1:for(m=p,b=g,S=(p=h.Ea)-(v=p&~(w=(g=1<<h.b)-1)),y=L(p,h.b),E=h.K,h=h.w+(f>>h.b)*y;f<d;){for(_=E,I=h,x=new j,A=b+v,k=b+p;b<A;)X(_[I++],x),Qr(x,m,b,g,l,u),b+=g,u+=g;b<k&&(X(_[I++],x),Qr(x,m,b,S,l,u),b+=S,u+=S),++f&w||(h+=y)}break;case 3:if(p==l&&g==u&&0<h.b){for(b=l,p=m=u+(d-f)*m-(v=(d-f)*L(h.Ea,h.b)),g=l,w=u,y=[],v=(S=v)-1;0<=v;--v)y[v]=g[w+v];for(v=S-1;0<=v;--v)b[p+v]=y[v];Xr(h,f,d,l,m,l,u)}else Xr(h,f,d,p,g,l,u)}u=s,l=n}l!=n&&i(s,n,u,l,o)}function _e(e,t){var n=e.V,i=e.Ba+e.c*e.C,s=t-e.C;if(r(t<=e.l.o),r(16>=s),0<s){var a=e.l,o=e.Ta,c=e.Ua,u=a.width;if(Ee(e,s,n,i),s=c=[c],r((n=e.C)<(i=t)),r(a.v<a.va),i>a.o&&(i=a.o),n<a.j){var l=a.j-n;n=a.j,s[0]+=l*u}if(n>=i?n=0:(s[0]+=4*a.v,a.ka=n-a.j,a.U=a.va-a.v,a.T=i-n,n=1),n){if(c=c[0],11>(n=e.ca).S){var h=n.f.RGBA,f=(i=n.S,s=a.U,a=a.T,l=h.eb,h.A),d=a;for(h=h.fb+e.Ma*h.A;0<d--;){var p=o,g=c,m=s,y=l,b=h;switch(i){case Bn:en(p,g,m,y,b);break;case Ln:tn(p,g,m,y,b);break;case qn:tn(p,g,m,y,b),In(y,b,0,m,1,0);break;case Un:sn(p,g,m,y,b);break;case Vn:re(p,g,m,y,b,1);break;case Gn:re(p,g,m,y,b,1),In(y,b,0,m,1,0);break;case jn:re(p,g,m,y,b,0);break;case Wn:re(p,g,m,y,b,0),In(y,b,1,m,1,0);break;case zn:rn(p,g,m,y,b);break;case Hn:rn(p,g,m,y,b),xn(y,b,m,1,0);break;case $n:nn(p,g,m,y,b);break;default:r(0)}c+=u,h+=f}e.Ma+=a}else alert("todo:EmitRescaledRowsYUVA");r(e.Ma<=n.height)}}e.C=t,r(e.C<=e.i)}function Ie(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,n=e.Ya[t].H;if(0<r[1][n[1]+0].g||0<r[2][n[2]+0].g||0<r[3][n[3]+0].g)return 0}return 1}function xe(e,t,n,i,s,a){if(0!=e.Z){var o=e.qd,c=e.rd;for(r(null!=yi[e.Z]);t<n;++t)yi[e.Z](o,c,i,s,i,s,a),o=i,c=s,s+=a;e.qd=o,e.rd=c}}function Ae(e,t){var n=e.l.ma,i=0==n.Z||1==n.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,r(t<=e.l.o),t>i){var s=e.l.width,a=n.ca,o=n.tb+s*i,c=e.V,u=e.Ba+e.c*i,l=e.gc;r(1==e.ab),r(3==l[0].hc),Kr(l[0],i,t,c,u,a,o),xe(n,i,t,a,o,s)}e.C=e.Ma=t}function ke(e,t,n,i,s,a,o){var c=e.$/i,u=e.$%i,l=e.m,h=e.s,f=n+e.$,d=f;s=n+i*s;var p=n+i*a,g=280+h.ua,m=e.Pb?c:16777216,y=0<h.ua?h.Wa:null,b=h.wc,w=f<p?Se(h,u,c):null;r(e.C<a),r(p<=s);var v=!1;e:for(;;){for(;v||f<p;){var S=0;if(c>=m){var E=f-n;r((m=e).Pb),m.wd=m.m,m.xd=E,0<m.s.ua&&P(m.s.Wa,m.s.vb),m=c+ti}if(u&b||(w=Se(h,u,c)),r(null!=w),w.Qb&&(t[f]=w.qb,v=!0),!v)if(A(l),w.jc){S=l,E=t;var k=f,T=w.pd[_(S)&Ur-1];r(w.jc),256>T.g?(x(S,S.u+T.g),E[k]=T.value,S=0):(x(S,S.u+T.g-256),r(256<=T.value),S=T.value),0==S&&(v=!0)}else S=we(w.G[0],w.H[0],l);if(l.h)break;if(v||256>S){if(!v)if(w.nd)t[f]=(w.qb|S<<8)>>>0;else{if(A(l),v=we(w.G[1],w.H[1],l),A(l),E=we(w.G[2],w.H[2],l),k=we(w.G[3],w.H[3],l),l.h)break;t[f]=(k<<24|v<<16|S<<8|E)>>>0}if(v=!1,++f,++u>=i&&(u=0,++c,null!=o&&c<=a&&!(c%16)&&o(e,c),null!=y))for(;d<f;)S=t[d++],y.X[(506832829*S&4294967295)>>>y.Mb]=S}else if(280>S){if(S=ye(S-256,l),E=we(w.G[4],w.H[4],l),A(l),E=be(i,E=ye(E,l)),l.h)break;if(f-n<E||s-f<S)break e;for(k=0;k<S;++k)t[f+k]=t[f+k-E];for(f+=S,u+=S;u>=i;)u-=i,++c,null!=o&&c<=a&&!(c%16)&&o(e,c);if(r(f<=s),u&b&&(w=Se(h,u,c)),null!=y)for(;d<f;)S=t[d++],y.X[(506832829*S&4294967295)>>>y.Mb]=S}else{if(!(S<g))break e;for(v=S-280,r(null!=y);d<f;)S=t[d++],y.X[(506832829*S&4294967295)>>>y.Mb]=S;S=f,r(!(v>>>(E=y).Xa)),t[S]=E.X[v],v=!0}v||r(l.h==I(l))}if(e.Pb&&l.h&&f<s)r(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&P(e.s.vb,e.s.Wa);else{if(l.h)break e;null!=o&&o(e,c>a?a:c),e.a=0,e.$=f-n}return 1}return e.a=3,0}function Te(e){r(null!=e),e.vc=null,e.yc=null,e.Ya=null;var t=e.Wa;null!=t&&(t.X=null),e.vb=null,r(null!=e)}function Me(){var e=new or;return null==e?null:(e.a=0,e.xb=mi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Hr=H,Qr=Y,en=Z,tn=J,rn=Q,nn=ee,sn=te,t.VP8LMapColor32b=Yr,t.VP8LMapColor8b=Zr,e)}function Ce(e,t,n,i,c){var u=1,l=[e],d=[t],g=i.m,m=i.s,y=null,b=0;e:for(;;){if(n)for(;u&&v(g,1);){var w=l,S=d,E=i,I=1,k=E.m,T=E.gc[E.ab],M=v(k,2);if(E.Oc&1<<M)u=0;else{switch(E.Oc|=1<<M,T.hc=M,T.Ea=w[0],T.nc=S[0],T.K=[null],++E.ab,r(4>=E.ab),M){case 0:case 1:T.b=v(k,3)+2,I=Ce(L(T.Ea,T.b),L(T.nc,T.b),0,E,T.K),T.K=T.K[0];break;case 3:var C,R=v(k,8)+1,D=16<R?0:4<R?1:2<R?2:3;if(w[0]=L(T.Ea,D),T.b=D,C=I=Ce(R,1,0,E,T.K)){var O,P=R,N=T,B=1<<(8>>N.b),V=a(B);if(null==V)C=0;else{var j=N.K[0],z=N.w;for(V[0]=N.K[0][0],O=1;O<1*P;++O)V[O]=U(j[z+O],V[O-1]);for(;O<4*B;++O)V[O]=0;N.K[0]=null,N.K[0]=V,C=1}}I=C;break;case 2:break;default:r(0)}u=I}}if(l=l[0],d=d[0],u&&v(g,1)&&!(u=1<=(b=v(g,4))&&11>=b)){i.a=3;break e}var $;if($=u)t:{var q,G,W,H=i,X=l,Y=d,K=b,Z=n,J=H.m,Q=H.s,ee=[null],te=1,re=0,ne=ei[K];r:for(;;){if(Z&&v(J,1)){var ie=v(J,3)+2,se=L(X,ie),ae=L(Y,ie),oe=se*ae;if(!Ce(se,ae,0,H,ee))break r;for(ee=ee[0],Q.xc=ie,q=0;q<oe;++q){var ce=ee[q]>>8&65535;ee[q]=ce,ce>=te&&(te=ce+1)}}if(J.h)break r;for(G=0;5>G;++G){var ue=Kn[G];!G&&0<K&&(ue+=1<<K),re<ue&&(re=ue)}var le=o(te*ne,f),he=te,fe=o(he,p);if(null==fe)var de=null;else r(65536>=he),de=fe;var pe=a(re);if(null==de||null==pe||null==le){H.a=1;break r}var ge=le;for(q=W=0;q<te;++q){var me=de[q],ye=me.G,be=me.H,we=0,Se=1,Ee=0;for(G=0;5>G;++G){ue=Kn[G],ye[G]=ge,be[G]=W,!G&&0<K&&(ue+=1<<K);n:{var _e,Ie=ue,xe=H,Ae=pe,Me=ge,Re=W,De=0,Oe=xe.m,Fe=v(Oe,1);if(s(Ae,0,0,Ie),Fe){var Pe=v(Oe,1)+1,Ne=v(Oe,1),Be=v(Oe,0==Ne?1:8);Ae[Be]=1,2==Pe&&(Ae[Be=v(Oe,8)]=1);var Le=1}else{var Ue=a(19),Ve=v(Oe,4)+4;if(19<Ve){xe.a=3;var je=0;break n}for(_e=0;_e<Ve;++_e)Ue[Jn[_e]]=v(Oe,3);var ze=void 0,$e=void 0,qe=xe,Ge=Ue,We=Ie,He=Ae,Xe=0,Ye=qe.m,Ke=8,Ze=o(128,f);i:for(;h(Ze,0,7,Ge,19);){if(v(Ye,1)){var Je=2+2*v(Ye,3);if((ze=2+v(Ye,Je))>We)break i}else ze=We;for($e=0;$e<We&&ze--;){A(Ye);var Qe=Ze[0+(127&_(Ye))];x(Ye,Ye.u+Qe.g);var et=Qe.value;if(16>et)He[$e++]=et,0!=et&&(Ke=et);else{var tt=16==et,rt=et-16,nt=Yn[rt],it=v(Ye,Xn[rt])+nt;if($e+it>We)break i;for(var st=tt?Ke:0;0<it--;)He[$e++]=st}}Xe=1;break i}Xe||(qe.a=3),Le=Xe}(Le=Le&&!Oe.h)&&(De=h(Me,Re,8,Ae,Ie)),Le&&0!=De?je=De:(xe.a=3,je=0)}if(0==je)break r;if(Se&&1==Zn[G]&&(Se=0==ge[W].g),we+=ge[W].g,W+=je,3>=G){var at,ot=pe[0];for(at=1;at<ue;++at)pe[at]>ot&&(ot=pe[at]);Ee+=ot}}if(me.nd=Se,me.Qb=0,Se&&(me.qb=(ye[3][be[3]+0].value<<24|ye[1][be[1]+0].value<<16|ye[2][be[2]+0].value)>>>0,0==we&&256>ye[0][be[0]+0].value&&(me.Qb=1,me.qb+=ye[0][be[0]+0].value<<8)),me.jc=!me.Qb&&6>Ee,me.jc){var ct,ut=me;for(ct=0;ct<Ur;++ct){var lt=ct,ht=ut.pd[lt],ft=ut.G[0][ut.H[0]+lt];256<=ft.value?(ht.g=ft.g+256,ht.value=ft.value):(ht.g=0,ht.value=0,lt>>=ve(ft,8,ht),lt>>=ve(ut.G[1][ut.H[1]+lt],16,ht),lt>>=ve(ut.G[2][ut.H[2]+lt],0,ht),ve(ut.G[3][ut.H[3]+lt],24,ht))}}}Q.vc=ee,Q.Wb=te,Q.Ya=de,Q.yc=le,$=1;break t}$=0}if(!(u=$)){i.a=3;break e}if(0<b){if(m.ua=1<<b,!F(m.Wa,b)){i.a=1,u=0;break e}}else m.ua=0;var dt=i,pt=l,gt=d,mt=dt.s,yt=mt.xc;if(dt.c=pt,dt.i=gt,mt.md=L(pt,yt),mt.wc=0==yt?-1:(1<<yt)-1,n){i.xb=gi;break e}if(null==(y=a(l*d))){i.a=1,u=0;break e}u=(u=ke(i,y,0,l,d,d,null))&&!g.h;break e}return u?(null!=c?c[0]=y:(r(null==y),r(n)),i.$=0,n||Te(m)):Te(m),u}function Re(e,t){var n=e.c*e.i,i=n+t+16*t;return r(e.c<=t),e.V=a(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+n+t,1)}function De(e,t){var n=e.C,i=t-n,s=e.V,a=e.Ba+e.c*n;for(r(t<=e.l.o);0<i;){var o=16<i?16:i,c=e.l.ma,u=e.l.width,l=u*o,h=c.ca,f=c.tb+u*n,d=e.Ta,p=e.Ua;Ee(e,o,s,a),kn(d,p,h,f,l),xe(c,n,n+o,h,f,u),i-=o,s+=o*e.c,n+=o}r(n==t),e.C=e.Ma=t}function Oe(){this.ub=this.yd=this.td=this.Rb=0}function Fe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pe(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ne(){this.Yb=function(){var e=[];return function e(t,r,n){for(var i=n[r],s=0;s<i&&(t.push(n.length>r+1?[]:0),!(n.length<r+1));s++)e(t[s],r+1,n)}(e,0,[3,11]),e}()}function Be(){this.jb=a(3),this.Wc=c([4,8],Ne),this.Xc=c([4,17],Ne)}function Le(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ue(){this.ld=this.La=this.dd=this.tc=0}function Ve(){this.Na=this.la=0}function je(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ze(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $e(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ue),this.Y=0,this.ya=Array(new ze),this.aa=0,this.l=new He}function qe(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ge(){this.cb=this.a=0,this.sc="",this.m=new S,this.Od=new Oe,this.Kc=new Fe,this.ed=new Le,this.Qa=new Pe,this.Ic=this.$c=this.Aa=0,this.D=new $e,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,S),this.ia=0,new e,this.pb=o(4,je),this.Pa=new Be,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qe),this.Hd=0,this.rb=Array(new Ve),this.sb=0,this.wa=Array(new Ue),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ze),this.L=this.aa=0,this.gd=c([4,2],Ue),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function We(e,t){return 0>e?0:e>t?t:e}function He(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xe(){var e=new Ge;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ii||(ii=Je)),e}function Ye(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function Ke(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Ze(e,t){if(null==e)return 0;if(e.a=0,e.sc="OK",null==t)return Ye(e,2,"null VP8Io passed to VP8GetHeaders()");var n=t.data,i=t.w,a=t.ha;if(4>a)return Ye(e,7,"Truncated header.");var o=n[i+0]|n[i+1]<<8|n[i+2]<<16,c=e.Od;if(c.Rb=!(1&o),c.td=o>>1&7,c.yd=o>>4&1,c.ub=o>>5,3<c.td)return Ye(e,3,"Incorrect keyframe parameters.");if(!c.yd)return Ye(e,4,"Frame not displayable.");i+=3,a-=3;var u=e.Kc;if(c.Rb){if(7>a)return Ye(e,7,"cannot parse picture header");if(!Ke(n,i,a))return Ye(e,3,"Bad code word");u.c=16383&(n[i+4]<<8|n[i+3]),u.Td=n[i+4]>>6,u.i=16383&(n[i+6]<<8|n[i+5]),u.Ud=n[i+6]>>6,i+=7,a-=7,e.za=u.c+15>>4,e.Ub=u.i+15>>4,t.width=u.c,t.height=u.i,t.Da=0,t.j=0,t.v=0,t.va=t.width,t.o=t.height,t.da=0,t.ib=t.width,t.hb=t.height,t.U=t.width,t.T=t.height,s((o=e.Pa).jb,0,255,o.jb.length),r(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,s(o.Zb,0,0,o.Zb.length),s(o.Lb,0,0,o.Lb)}if(c.ub>a)return Ye(e,7,"bad partition length");g(o=e.m,n,i,c.ub),i+=c.ub,a-=c.ub,c.Rb&&(u.Ld=T(o),u.Kd=T(o)),u=e.Qa;var l,h=e.Pa;if(r(null!=o),r(null!=u),u.Cb=T(o),u.Cb){if(u.Bb=T(o),T(o)){for(u.Fb=T(o),l=0;4>l;++l)u.Zb[l]=T(o)?y(o,7):0;for(l=0;4>l;++l)u.Lb[l]=T(o)?y(o,6):0}if(u.Bb)for(l=0;3>l;++l)h.jb[l]=T(o)?m(o,8):255}else u.Bb=0;if(o.Ka)return Ye(e,3,"cannot parse segment header");if((u=e.ed).zd=T(o),u.Tb=m(o,6),u.wb=m(o,3),u.Pc=T(o),u.Pc&&T(o)){for(h=0;4>h;++h)T(o)&&(u.vd[h]=y(o,6));for(h=0;4>h;++h)T(o)&&(u.od[h]=y(o,6))}if(e.L=0==u.Tb?0:u.zd?1:2,o.Ka)return Ye(e,3,"cannot parse filter header");var f=a;if(a=l=i,i=l+f,u=f,e.Xb=(1<<m(e.m,2))-1,f<3*(h=e.Xb))n=7;else{for(l+=3*h,u-=3*h,f=0;f<h;++f){var d=n[a+0]|n[a+1]<<8|n[a+2]<<16;d>u&&(d=u),g(e.Jc[+f],n,l,d),l+=d,u-=d,a+=3}g(e.Jc[+h],n,l,u),n=l<i?0:5}if(0!=n)return Ye(e,n,"cannot parse partitions");for(n=m(l=e.m,7),a=T(l)?y(l,4):0,i=T(l)?y(l,4):0,u=T(l)?y(l,4):0,h=T(l)?y(l,4):0,l=T(l)?y(l,4):0,f=e.Qa,d=0;4>d;++d){if(f.Cb){var p=f.Zb[d];f.Fb||(p+=n)}else{if(0<d){e.pb[d]=e.pb[0];continue}p=n}var b=e.pb[d];b.Sc[0]=ri[We(p+a,127)],b.Sc[1]=ni[We(p+0,127)],b.Eb[0]=2*ri[We(p+i,127)],b.Eb[1]=101581*ni[We(p+u,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ri[We(p+h,117)],b.Qc[1]=ni[We(p+l,127)],b.lc=p+l}if(!c.Rb)return Ye(e,4,"Not a key frame.");for(T(o),c=e.Pa,n=0;4>n;++n){for(a=0;8>a;++a)for(i=0;3>i;++i)for(u=0;11>u;++u)h=M(o,li[n][a][i][u])?m(o,8):ci[n][a][i][u],c.Wc[n][a].Yb[i][u]=h;for(a=0;17>a;++a)c.Xc[n][a]=c.Wc[n][hi[a]]}return e.kc=T(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function Je(e,t,r,n,i,s,a){var o=t[i].Yb[r];for(r=0;16>i;++i){if(!M(e,o[r+0]))return i;for(;!M(e,o[r+1]);)if(o=t[++i].Yb[0],r=0,16==i)return 16;var c=t[i+1].Yb;if(M(e,o[r+2])){var u=e,l=0;if(M(u,(f=o)[(h=r)+3]))if(M(u,f[h+6])){for(o=0,h=2*(l=M(u,f[h+8]))+(f=M(u,f[h+9+l])),l=0,f=si[h];f[o];++o)l+=l+M(u,f[o]);l+=3+(8<<h)}else M(u,f[h+7])?(l=7+2*M(u,165),l+=M(u,145)):l=5+M(u,159);else l=M(u,f[h+4])?3+M(u,f[h+5]):2;o=c[2]}else l=1,o=c[1];c=a+ai[i],0>(u=e).b&&k(u);var h,f=u.b,d=(h=u.Ca>>1)-(u.I>>f)>>31;--u.b,u.Ca+=d,u.Ca|=1,u.I-=(h+1&d)<<f,s[c]=((l^d)-d)*n[(0<i)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,s(e.zc,0,0,e.zc.length),e.ja=0}function et(e,t){if(null==e)return 0;if(null==t)return Ye(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Ze(e,t))return 0;if(r(e.cb),null==t.ac||t.ac(t)){t.ob&&(e.L=0);var n=Vi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=t.v-n>>4,e.zb=t.j-n>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=t.o+15+n>>4,e.Hb=t.va+15+n>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var c=e.ed;for(n=0;4>n;++n){var u;if(e.Qa.Cb){var l=e.Qa.Lb[n];e.Qa.Fb||(l+=c.Tb)}else l=c.Tb;for(u=0;1>=u;++u){var h=e.gd[n][u],f=l;if(c.Pc&&(f+=c.vd[0],u&&(f+=c.od[0])),0<(f=0>f?0:63<f?63:f)){var d=f;0<c.wb&&(d=4<c.wb?d>>2:d>>1)>9-c.wb&&(d=9-c.wb),1>d&&(d=1),h.dd=d,h.tc=2*f+d,h.ld=40<=f?2:15<=f?1:0}else h.tc=0;h.La=u}}}n=0}else Ye(e,6,"Frame setup failed"),n=e.a;if(n=0==n){if(n){e.$c=0,0<e.Aa||(e.Ic=zi);e:{n=e.Ic,c=4*(d=e.za);var p=32*d,g=d+1,m=0<e.L?d*(0<e.Aa?2:1):0,y=(2==e.Aa?2:1)*d;if((h=c+832+(u=3*(16*n+Vi[e.L])/2*p)+(l=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=h)n=0;else{if(h>e.Vb){if(e.Vb=0,e.Ec=a(h),e.Fc=0,null==e.Ec){n=Ye(e,1,"no memory during frame initialization.");break e}e.Vb=h}h=e.Ec,f=e.Fc,e.Ac=h,e.Bc=f,f+=c,e.Gd=o(p,qe),e.Hd=0,e.rb=o(g+1,Ve),e.sb=1,e.wa=m?o(m,Ue):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=d),r(!0),e.oc=h,e.pc=f,f+=832,e.ya=o(y,ze),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=d),e.R=16*d,e.B=8*d,d=(p=Vi[e.L])*e.R,p=p/2*e.B,e.sa=h,e.ta=f+d,e.qa=e.sa,e.ra=e.ta+16*n*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*n*e.B+p,e.$c=0,f+=u,e.mb=l?h:null,e.nb=l?f:null,r(f+l<=e.Fc+e.Vb),Qe(e),s(e.Ac,e.Bc,0,c),n=1}}if(n){if(t.ka=0,t.y=e.sa,t.O=e.ta,t.f=e.qa,t.N=e.ra,t.ea=e.Ha,t.Vd=e.Ia,t.fa=e.R,t.Rc=e.B,t.F=null,t.J=0,!Dn){for(n=-255;255>=n;++n)Tn[255+n]=0>n?-n:n;for(n=-1020;1020>=n;++n)Mn[1020+n]=-128>n?-128:127<n?127:n;for(n=-112;112>=n;++n)Cn[112+n]=-16>n?-16:15<n?15:n;for(n=-255;510>=n;++n)Rn[255+n]=0>n?0:255<n?255:n;Dn=1}an=lt,on=at,un=ot,ln=ct,hn=ut,cn=st,fn=Yt,dn=Kt,pn=Qt,gn=er,mn=Zt,yn=Jt,bn=tr,wn=rr,vn=$t,Sn=qt,En=Gt,_n=Wt,di[0]=xt,di[1]=ft,di[2]=_t,di[3]=It,di[4]=At,di[5]=Tt,di[6]=kt,di[7]=Mt,di[8]=Rt,di[9]=Ct,fi[0]=bt,fi[1]=pt,fi[2]=gt,fi[3]=mt,fi[4]=wt,fi[5]=vt,fi[6]=St,pi[0]=Pt,pi[1]=dt,pi[2]=Dt,pi[3]=Ot,pi[4]=Bt,pi[5]=Nt,pi[6]=Lt,n=1}else n=0}n&&(n=function(e,t){for(e.M=0;e.M<e.Va;++e.M){var n,o=e.Jc[e.M&e.Xb],c=e.m,u=e;for(n=0;n<u.za;++n){var l=c,h=u,f=h.Ac,d=h.Bc+4*n,p=h.zc,g=h.ya[h.aa+n];if(h.Qa.Bb?g.$b=M(l,h.Pa.jb[0])?2+M(l,h.Pa.jb[2]):M(l,h.Pa.jb[1]):g.$b=0,h.kc&&(g.Ad=M(l,h.Bd)),g.Za=!M(l,145)+0,g.Za){var m=g.Ob,y=0;for(h=0;4>h;++h){var b,w=p[0+h];for(b=0;4>b;++b){w=ui[f[d+b]][w];for(var v=oi[M(l,w[0])];0<v;)v=oi[2*v+M(l,w[v])];w=-v,f[d+b]=w}i(m,y,f,d,4),y+=4,p[0+h]=w}}else w=M(l,156)?M(l,128)?1:3:M(l,163)?2:0,g.Ob[0]=w,s(f,d,w,4),s(p,0,w,4);g.Dd=M(l,142)?M(l,114)?M(l,183)?1:3:2:0}if(u.m.Ka)return Ye(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(u=o,l=(c=e).rb[c.sb-1],f=c.rb[c.sb+c.ja],n=c.ya[c.aa+c.ja],d=c.kc?n.Ad:0)l.la=f.la=0,n.Za||(l.Na=f.Na=0),n.Hc=0,n.Gc=0,n.ia=0;else{var S,E;if(l=f,f=u,d=c.Pa.Xc,p=c.ya[c.aa+c.ja],g=c.pb[p.$b],h=p.ad,m=0,y=c.rb[c.sb-1],w=b=0,s(h,m,0,384),p.Za)var _=0,I=d[3];else{v=a(16);var x=l.Na+y.Na;if(x=ii(f,d[1],x,g.Eb,0,v,0),l.Na=y.Na=(0<x)+0,1<x)an(v,0,h,m);else{var A=v[0]+3>>3;for(v=0;256>v;v+=16)h[m+v]=A}_=1,I=d[0]}var k=15&l.la,T=15&y.la;for(v=0;4>v;++v){var C=1&T;for(A=E=0;4>A;++A)k=k>>1|(C=(x=ii(f,I,x=C+(1&k),g.Sc,_,h,m))>_)<<7,E=E<<2|(3<x?3:1<x?2:0!=h[m+0]),m+=16;k>>=4,T=T>>1|C<<7,b=(b<<8|E)>>>0}for(I=k,_=T>>4,S=0;4>S;S+=2){for(E=0,k=l.la>>4+S,T=y.la>>4+S,v=0;2>v;++v){for(C=1&T,A=0;2>A;++A)x=C+(1&k),k=k>>1|(C=0<(x=ii(f,d[2],x,g.Qc,0,h,m)))<<3,E=E<<2|(3<x?3:1<x?2:0!=h[m+0]),m+=16;k>>=2,T=T>>1|C<<5}w|=E<<4*S,I|=k<<4<<S,_|=(240&T)<<S}l.la=I,y.la=_,p.Hc=b,p.Gc=w,p.ia=43690&w?0:g.ia,d=!(b|w)}if(0<c.L&&(c.wa[c.Y+c.ja]=c.gd[n.$b][n.Za],c.wa[c.Y+c.ja].La|=!d),u.Ka)return Ye(e,7,"Premature end-of-file encountered.")}if(Qe(e),c=t,u=1,n=(o=e).D,l=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(n.M=o.M,n.uc=l,Fr(o,n),u=1,n=(E=o.D).Nb,l=(w=Vi[o.L])*o.R,f=w/2*o.B,v=16*n*o.R,A=8*n*o.B,d=o.sa,p=o.ta-l+v,g=o.qa,h=o.ra-f+A,m=o.Ha,y=o.Ia-f+A,T=0==(k=E.M),b=k>=o.Va-1,2==o.Aa&&Fr(o,E),E.uc)for(C=(x=o).D.M,r(x.D.uc),E=x.yb;E<x.Hb;++E){_=E,I=C;var R=(D=(j=x).D).Nb;S=j.R;var D=D.wa[D.Y+_],O=j.sa,F=j.ta+16*R*S+16*_,P=D.dd,N=D.tc;if(0!=N)if(r(3<=N),1==j.L)0<_&&Sn(O,F,S,N+4),D.La&&_n(O,F,S,N),0<I&&vn(O,F,S,N+4),D.La&&En(O,F,S,N);else{var B=j.B,L=j.qa,U=j.ra+8*R*B+8*_,V=j.Ha,j=j.Ia+8*R*B+8*_;R=D.ld,0<_&&(dn(O,F,S,N+4,P,R),gn(L,U,V,j,B,N+4,P,R)),D.La&&(yn(O,F,S,N,P,R),wn(L,U,V,j,B,N,P,R)),0<I&&(fn(O,F,S,N+4,P,R),pn(L,U,V,j,B,N+4,P,R)),D.La&&(mn(O,F,S,N,P,R),bn(L,U,V,j,B,N,P,R))}}if(o.ia&&alert("todo:DitherRow"),null!=c.put){if(E=16*k,k=16*(k+1),T?(c.y=o.sa,c.O=o.ta+v,c.f=o.qa,c.N=o.ra+A,c.ea=o.Ha,c.W=o.Ia+A):(E-=w,c.y=d,c.O=p,c.f=g,c.N=h,c.ea=m,c.W=y),b||(k-=w),k>c.o&&(k=c.o),c.F=null,c.J=null,null!=o.Fa&&0<o.Fa.length&&E<k&&(c.J=fr(o,c,E,k-E),c.F=o.mb,null==c.F&&0==c.F.length)){u=Ye(o,3,"Could not decode alpha data.");break e}E<c.j&&(w=c.j-E,E=c.j,r(!(1&w)),c.O+=o.R*w,c.N+=o.B*(w>>1),c.W+=o.B*(w>>1),null!=c.F&&(c.J+=c.width*w)),E<k&&(c.O+=c.v,c.N+=c.v>>1,c.W+=c.v>>1,null!=c.F&&(c.J+=c.v),c.ka=E-c.j,c.U=c.va-c.v,c.T=k-E,u=c.put(c))}n+1!=o.Ic||b||(i(o.sa,o.ta-l,d,p+16*o.R,l),i(o.qa,o.ra-f,g,h+8*o.B,f),i(o.Ha,o.Ia-f,m,y+8*o.B,f))}if(!u)return Ye(e,6,"Output aborted.")}return 1}(e,t)),null!=t.bc&&t.bc(t),n&=1}return n?(e.cb=0,n):0}function tt(e,t,r,n,i){i=e[t+r+32*n]+(i>>3),e[t+r+32*n]=-256&i?0>i?0:255:i}function rt(e,t,r,n,i,s){tt(e,t,0,r,n+i),tt(e,t,1,r,n+s),tt(e,t,2,r,n-s),tt(e,t,3,r,n-i)}function nt(e){return(20091*e>>16)+e}function it(e,t,r,n){var i,s=0,o=a(16);for(i=0;4>i;++i){var c=e[t+0]+e[t+8],u=e[t+0]-e[t+8],l=(35468*e[t+4]>>16)-nt(e[t+12]),h=nt(e[t+4])+(35468*e[t+12]>>16);o[s+0]=c+h,o[s+1]=u+l,o[s+2]=u-l,o[s+3]=c-h,s+=4,t++}for(i=s=0;4>i;++i)c=(e=o[s+0]+4)+o[s+8],u=e-o[s+8],l=(35468*o[s+4]>>16)-nt(o[s+12]),tt(r,n,0,0,c+(h=nt(o[s+4])+(35468*o[s+12]>>16))),tt(r,n,1,0,u+l),tt(r,n,2,0,u-l),tt(r,n,3,0,c-h),s++,n+=32}function st(e,t,r,n){var i=e[t+0]+4,s=35468*e[t+4]>>16,a=nt(e[t+4]),o=35468*e[t+1]>>16;rt(r,n,0,i+a,e=nt(e[t+1]),o),rt(r,n,1,i+s,e,o),rt(r,n,2,i-s,e,o),rt(r,n,3,i-a,e,o)}function at(e,t,r,n,i){it(e,t,r,n),i&&it(e,t+16,r,n+4)}function ot(e,t,r,n){on(e,t+0,r,n,1),on(e,t+32,r,n+128,1)}function ct(e,t,r,n){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)tt(r,n,t,i,e)}function ut(e,t,r,n){e[t+0]&&ln(e,t+0,r,n),e[t+16]&&ln(e,t+16,r,n+4),e[t+32]&&ln(e,t+32,r,n+128),e[t+48]&&ln(e,t+48,r,n+128+4)}function lt(e,t,r,n){var i,s=a(16);for(i=0;4>i;++i){var o=e[t+0+i]+e[t+12+i],c=e[t+4+i]+e[t+8+i],u=e[t+4+i]-e[t+8+i],l=e[t+0+i]-e[t+12+i];s[0+i]=o+c,s[8+i]=o-c,s[4+i]=l+u,s[12+i]=l-u}for(i=0;4>i;++i)o=(e=s[0+4*i]+3)+s[3+4*i],c=s[1+4*i]+s[2+4*i],u=s[1+4*i]-s[2+4*i],l=e-s[3+4*i],r[n+0]=o+c>>3,r[n+16]=l+u>>3,r[n+32]=o-c>>3,r[n+48]=l-u>>3,n+=64}function ht(e,t,r){var n,i=t-32,s=Pn,a=255-e[i-1];for(n=0;n<r;++n){var o,c=s,u=a+e[t-1];for(o=0;o<r;++o)e[t+o]=c[u+e[i+o]];t+=32}}function ft(e,t){ht(e,t,4)}function dt(e,t){ht(e,t,8)}function pt(e,t){ht(e,t,16)}function gt(e,t){var r;for(r=0;16>r;++r)i(e,t+32*r,e,t-32,16)}function mt(e,t){var r;for(r=16;0<r;--r)s(e,t,e[t-1],16),t+=32}function yt(e,t,r){var n;for(n=0;16>n;++n)s(t,r+32*n,e,16)}function bt(e,t){var r,n=16;for(r=0;16>r;++r)n+=e[t-1+32*r]+e[t+r-32];yt(n>>5,e,t)}function wt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t-1+32*r];yt(n>>4,e,t)}function vt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t+r-32];yt(n>>4,e,t)}function St(e,t){yt(128,e,t)}function Et(e,t,r){return e+2*t+r+2>>2}function _t(e,t){var r,n=t-32;for(n=new Uint8Array([Et(e[n-1],e[n+0],e[n+1]),Et(e[n+0],e[n+1],e[n+2]),Et(e[n+1],e[n+2],e[n+3]),Et(e[n+2],e[n+3],e[n+4])]),r=0;4>r;++r)i(e,t+32*r,n,0,n.length)}function It(e,t){var r=e[t-1],n=e[t-1+32],i=e[t-1+64],s=e[t-1+96];C(e,t+0,16843009*Et(e[t-1-32],r,n)),C(e,t+32,16843009*Et(r,n,i)),C(e,t+64,16843009*Et(n,i,s)),C(e,t+96,16843009*Et(i,s,s))}function xt(e,t){var r,n=4;for(r=0;4>r;++r)n+=e[t+r-32]+e[t-1+32*r];for(n>>=3,r=0;4>r;++r)s(e,t+32*r,n,4)}function At(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+96]=Et(n,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=Et(r,n,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=Et(s,r,n),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=Et(a,s,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=Et(o,a,s),e[t+3+32]=e[t+2+0]=Et(c,o,a),e[t+3+0]=Et(u,c,o)}function kt(e,t){var r=e[t+1-32],n=e[t+2-32],i=e[t+3-32],s=e[t+4-32],a=e[t+5-32],o=e[t+6-32],c=e[t+7-32];e[t+0+0]=Et(e[t+0-32],r,n),e[t+1+0]=e[t+0+32]=Et(r,n,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=Et(n,i,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=Et(i,s,a),e[t+3+32]=e[t+2+64]=e[t+1+96]=Et(s,a,o),e[t+3+64]=e[t+2+96]=Et(a,o,c),e[t+3+96]=Et(o,c,c)}function Tt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],s=e[t-1-32],a=e[t+0-32],o=e[t+1-32],c=e[t+2-32],u=e[t+3-32];e[t+0+0]=e[t+1+64]=s+a+1>>1,e[t+1+0]=e[t+2+64]=a+o+1>>1,e[t+2+0]=e[t+3+64]=o+c+1>>1,e[t+3+0]=c+u+1>>1,e[t+0+96]=Et(i,n,r),e[t+0+64]=Et(n,r,s),e[t+0+32]=e[t+1+96]=Et(r,s,a),e[t+1+32]=e[t+2+96]=Et(s,a,o),e[t+2+32]=e[t+3+96]=Et(a,o,c),e[t+3+32]=Et(o,c,u)}function Mt(e,t){var r=e[t+0-32],n=e[t+1-32],i=e[t+2-32],s=e[t+3-32],a=e[t+4-32],o=e[t+5-32],c=e[t+6-32],u=e[t+7-32];e[t+0+0]=r+n+1>>1,e[t+1+0]=e[t+0+64]=n+i+1>>1,e[t+2+0]=e[t+1+64]=i+s+1>>1,e[t+3+0]=e[t+2+64]=s+a+1>>1,e[t+0+32]=Et(r,n,i),e[t+1+32]=e[t+0+96]=Et(n,i,s),e[t+2+32]=e[t+1+96]=Et(i,s,a),e[t+3+32]=e[t+2+96]=Et(s,a,o),e[t+3+64]=Et(a,o,c),e[t+3+96]=Et(o,c,u)}function Ct(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],s=e[t-1+96];e[t+0+0]=r+n+1>>1,e[t+2+0]=e[t+0+32]=n+i+1>>1,e[t+2+32]=e[t+0+64]=i+s+1>>1,e[t+1+0]=Et(r,n,i),e[t+3+0]=e[t+1+32]=Et(n,i,s),e[t+3+32]=e[t+1+64]=Et(i,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function Rt(e,t){var r=e[t-1+0],n=e[t-1+32],i=e[t-1+64],s=e[t-1+96],a=e[t-1-32],o=e[t+0-32],c=e[t+1-32],u=e[t+2-32];e[t+0+0]=e[t+2+32]=r+a+1>>1,e[t+0+32]=e[t+2+64]=n+r+1>>1,e[t+0+64]=e[t+2+96]=i+n+1>>1,e[t+0+96]=s+i+1>>1,e[t+3+0]=Et(o,c,u),e[t+2+0]=Et(a,o,c),e[t+1+0]=e[t+3+32]=Et(r,a,o),e[t+1+32]=e[t+3+64]=Et(n,r,a),e[t+1+64]=e[t+3+96]=Et(i,n,r),e[t+1+96]=Et(s,i,n)}function Dt(e,t){var r;for(r=0;8>r;++r)i(e,t+32*r,e,t-32,8)}function Ot(e,t){var r;for(r=0;8>r;++r)s(e,t,e[t-1],8),t+=32}function Ft(e,t,r){var n;for(n=0;8>n;++n)s(t,r+32*n,e,8)}function Pt(e,t){var r,n=8;for(r=0;8>r;++r)n+=e[t+r-32]+e[t-1+32*r];Ft(n>>4,e,t)}function Nt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t+r-32];Ft(n>>3,e,t)}function Bt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t-1+32*r];Ft(n>>3,e,t)}function Lt(e,t){Ft(128,e,t)}function Ut(e,t,r){var n=e[t-r],i=e[t+0],s=3*(i-n)+On[1020+e[t-2*r]-e[t+r]],a=Fn[112+(s+4>>3)];e[t-r]=Pn[255+n+Fn[112+(s+3>>3)]],e[t+0]=Pn[255+i-a]}function Vt(e,t,r,n){var i=e[t+0],s=e[t+r];return Nn[255+e[t-2*r]-e[t-r]]>n||Nn[255+s-i]>n}function jt(e,t,r,n){return 4*Nn[255+e[t-r]-e[t+0]]+Nn[255+e[t-2*r]-e[t+r]]<=n}function zt(e,t,r,n,i){var s=e[t-3*r],a=e[t-2*r],o=e[t-r],c=e[t+0],u=e[t+r],l=e[t+2*r],h=e[t+3*r];return 4*Nn[255+o-c]+Nn[255+a-u]>n?0:Nn[255+e[t-4*r]-s]<=i&&Nn[255+s-a]<=i&&Nn[255+a-o]<=i&&Nn[255+h-l]<=i&&Nn[255+l-u]<=i&&Nn[255+u-c]<=i}function $t(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)jt(e,t+n,r,i)&&Ut(e,t+n,r)}function qt(e,t,r,n){var i=2*n+1;for(n=0;16>n;++n)jt(e,t+n*r,1,i)&&Ut(e,t+n*r,1)}function Gt(e,t,r,n){var i;for(i=3;0<i;--i)$t(e,t+=4*r,r,n)}function Wt(e,t,r,n){var i;for(i=3;0<i;--i)qt(e,t+=4,r,n)}function Ht(e,t,r,n,i,s,a,o){for(s=2*s+1;0<i--;){if(zt(e,t,r,s,a))if(Vt(e,t,r,o))Ut(e,t,r);else{var c=e,u=t,l=r,h=c[u-2*l],f=c[u-l],d=c[u+0],p=c[u+l],g=c[u+2*l],m=27*(b=On[1020+3*(d-f)+On[1020+h-p]])+63>>7,y=18*b+63>>7,b=9*b+63>>7;c[u-3*l]=Pn[255+c[u-3*l]+b],c[u-2*l]=Pn[255+h+y],c[u-l]=Pn[255+f+m],c[u+0]=Pn[255+d-m],c[u+l]=Pn[255+p-y],c[u+2*l]=Pn[255+g-b]}t+=n}}function Xt(e,t,r,n,i,s,a,o){for(s=2*s+1;0<i--;){if(zt(e,t,r,s,a))if(Vt(e,t,r,o))Ut(e,t,r);else{var c=e,u=t,l=r,h=c[u-l],f=c[u+0],d=c[u+l],p=Fn[112+(4+(g=3*(f-h))>>3)],g=Fn[112+(g+3>>3)],m=p+1>>1;c[u-2*l]=Pn[255+c[u-2*l]+m],c[u-l]=Pn[255+h+g],c[u+0]=Pn[255+f-p],c[u+l]=Pn[255+d-m]}t+=n}}function Yt(e,t,r,n,i,s){Ht(e,t,r,1,16,n,i,s)}function Kt(e,t,r,n,i,s){Ht(e,t,1,r,16,n,i,s)}function Zt(e,t,r,n,i,s){var a;for(a=3;0<a;--a)Xt(e,t+=4*r,r,1,16,n,i,s)}function Jt(e,t,r,n,i,s){var a;for(a=3;0<a;--a)Xt(e,t+=4,1,r,16,n,i,s)}function Qt(e,t,r,n,i,s,a,o){Ht(e,t,i,1,8,s,a,o),Ht(r,n,i,1,8,s,a,o)}function er(e,t,r,n,i,s,a,o){Ht(e,t,1,i,8,s,a,o),Ht(r,n,1,i,8,s,a,o)}function tr(e,t,r,n,i,s,a,o){Xt(e,t+4*i,i,1,8,s,a,o),Xt(r,n+4*i,i,1,8,s,a,o)}function rr(e,t,r,n,i,s,a,o){Xt(e,t+4,1,i,8,s,a,o),Xt(r,n+4,1,i,8,s,a,o)}function nr(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ue,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ir(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ar(){this.ua=0,this.Wa=new N,this.vb=new N,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new f}function or(){this.xb=this.a=0,this.l=new He,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ar,this.ab=0,this.gc=o(4,sr),this.Oc=0}function cr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new He,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ur(e,t,r,n,i,s,a){for(e=null==e?0:e[t+0],t=0;t<a;++t)i[s+t]=e+r[n+t]&255,e=i[s+t]}function lr(e,t,r,n,i,s,a){var o;if(null==e)ur(null,null,r,n,i,s,a);else for(o=0;o<a;++o)i[s+o]=e[t+o]+r[n+o]&255}function hr(e,t,r,n,i,s,a){if(null==e)ur(null,null,r,n,i,s,a);else{var o,c=e[t+0],u=c,l=c;for(o=0;o<a;++o)u=l+(c=e[t+o])-u,l=r[n+o]+(-256&u?0>u?0:255:u)&255,u=c,i[s+o]=l}}function fr(e,t,n,s){var o=t.width,c=t.o;if(r(null!=e&&null!=t),0>n||0>=s||n+s>c)return null;if(!e.Cc){if(null==e.ga){var u;if(e.ga=new cr,(u=null==e.ga)||(u=t.width*t.o,r(0==e.Gb.length),e.Gb=a(u),e.Uc=0,null==e.Gb?u=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,u=1),u=!u),!u){u=e.ga;var l=e.Fa,h=e.P,f=e.qc,d=e.mb,p=e.nb,g=h+1,m=f-1,y=u.l;if(r(null!=l&&null!=d&&null!=t),yi[0]=null,yi[1]=ur,yi[2]=lr,yi[3]=hr,u.ca=d,u.tb=p,u.c=t.width,u.i=t.height,r(0<u.c&&0<u.i),1>=f)t=0;else if(u.$a=3&l[h+0],u.Z=l[h+0]>>2&3,u.Lc=l[h+0]>>4&3,h=l[h+0]>>6&3,0>u.$a||1<u.$a||4<=u.Z||1<u.Lc||h)t=0;else if(y.put=pe,y.ac=de,y.bc=ge,y.ma=u,y.width=t.width,y.height=t.height,y.Da=t.Da,y.v=t.v,y.va=t.va,y.j=t.j,y.o=t.o,u.$a)e:{r(1==u.$a),t=Me();t:for(;;){if(null==t){t=0;break e}if(r(null!=u),u.mc=t,t.c=u.c,t.i=u.i,t.l=u.l,t.l.ma=u,t.l.width=u.c,t.l.height=u.i,t.a=0,b(t.m,l,g,m),!Ce(u.c,u.i,1,t,null))break t;if(1==t.ab&&3==t.gc[0].hc&&Ie(t.s)?(u.ic=1,l=t.c*t.i,t.Ta=null,t.Ua=0,t.V=a(l),t.Ba=0,null==t.V?(t.a=1,t=0):t=1):(u.ic=0,t=Re(t,u.c)),!t)break t;t=1;break e}u.mc=null,t=0}else t=m>=u.c*u.i;u=!t}if(u)return null;1!=e.ga.Lc?e.Ga=0:s=c-n}r(null!=e.ga),r(n+s<=c);e:{if(t=(l=e.ga).c,c=l.l.o,0==l.$a){if(g=e.rc,m=e.Vc,y=e.Fa,h=e.P+1+n*t,f=e.mb,d=e.nb+n*t,r(h<=e.P+e.qc),0!=l.Z)for(r(null!=yi[l.Z]),u=0;u<s;++u)yi[l.Z](g,m,y,h,f,d,t),g=f,m=d,d+=t,h+=t;else for(u=0;u<s;++u)i(f,d,y,h,t),g=f,m=d,d+=t,h+=t;e.rc=g,e.Vc=m}else{if(r(null!=l.mc),t=n+s,r(null!=(u=l.mc)),r(t<=u.i),u.C>=t)t=1;else if(l.ic||yr(),l.ic){l=u.V,g=u.Ba,m=u.c;var w=u.i,v=(y=1,h=u.$/m,f=u.$%m,d=u.m,p=u.s,u.$),S=m*w,E=m*t,_=p.wc,x=v<E?Se(p,f,h):null;r(v<=S),r(t<=w),r(Ie(p));t:for(;;){for(;!d.h&&v<E;){if(f&_||(x=Se(p,f,h)),r(null!=x),A(d),256>(w=we(x.G[0],x.H[0],d)))l[g+v]=w,++v,++f>=m&&(f=0,++h<=t&&!(h%16)&&Ae(u,h));else{if(!(280>w)){y=0;break t}w=ye(w-256,d);var k,T=we(x.G[4],x.H[4],d);if(A(d),!(v>=(T=be(m,T=ye(T,d)))&&S-v>=w)){y=0;break t}for(k=0;k<w;++k)l[g+v+k]=l[g+v+k-T];for(v+=w,f+=w;f>=m;)f-=m,++h<=t&&!(h%16)&&Ae(u,h);v<E&&f&_&&(x=Se(p,f,h))}r(d.h==I(d))}Ae(u,h>t?t:h);break t}!y||d.h&&v<S?(y=0,u.a=d.h?5:3):u.$=v,t=y}else t=ke(u,u.V,u.Ba,u.c,u.i,t,De);if(!t){s=0;break e}}n+s>=c&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+n*o}function dr(e,t,r,n,i,s){for(;0<i--;){var a,o=e,c=t+(r?1:0),u=e,l=t+(r?0:3);for(a=0;a<n;++a){var h=u[l+4*a];255!=h&&(h*=32897,o[c+4*a+0]=o[c+4*a+0]*h>>23,o[c+4*a+1]=o[c+4*a+1]*h>>23,o[c+4*a+2]=o[c+4*a+2]*h>>23)}t+=s}}function pr(e,t,r,n,i){for(;0<n--;){var s;for(s=0;s<r;++s){var a=e[t+2*s+0],o=15&(u=e[t+2*s+1]),c=4369*o,u=(240&u|u>>4)*c>>16;e[t+2*s+0]=(240&a|a>>4)*c>>16&240|(15&a|a<<4)*c>>16>>4&15,e[t+2*s+1]=240&u|o}t+=i}}function gr(e,t,r,n,i,s,a,o){var c,u,l=255;for(u=0;u<i;++u){for(c=0;c<n;++c){var h=e[t+c];s[a+4*c]=h,l&=h}t+=r,a+=o}return 255!=l}function mr(e,t,r,n,i){var s;for(s=0;s<i;++s)r[n+s]=e[t+s]>>8}function yr(){In=dr,xn=pr,An=gr,kn=mr}function br(e,n,i){t[e]=function(e,t,s,a,o,c,u,l,h,f,d,p,g,m,y,b,w){var v,S=w-1>>1,E=o[c+0]|u[l+0]<<16,_=h[f+0]|d[p+0]<<16;r(null!=e);var I=3*E+_+131074>>2;for(n(e[t+0],255&I,I>>16,g,m),null!=s&&(I=3*_+E+131074>>2,n(s[a+0],255&I,I>>16,y,b)),v=1;v<=S;++v){var x=o[c+v]|u[l+v]<<16,A=h[f+v]|d[p+v]<<16,k=E+x+_+A+524296,T=k+2*(x+_)>>3;I=T+E>>1,E=(k=k+2*(E+A)>>3)+x>>1,n(e[t+2*v-1],255&I,I>>16,g,m+(2*v-1)*i),n(e[t+2*v-0],255&E,E>>16,g,m+(2*v-0)*i),null!=s&&(I=k+_>>1,E=T+A>>1,n(s[a+2*v-1],255&I,I>>16,y,b+(2*v-1)*i),n(s[a+2*v+0],255&E,E>>16,y,b+(2*v+0)*i)),E=x,_=A}1&w||(I=3*E+_+131074>>2,n(e[t+w-1],255&I,I>>16,g,m+(w-1)*i),null!=s&&(I=3*_+E+131074>>2,n(s[a+w-1],255&I,I>>16,y,b+(w-1)*i)))}}function wr(){bi[Bn]=wi,bi[Ln]=Si,bi[Un]=vi,bi[Vn]=Ei,bi[jn]=_i,bi[zn]=Ii,bi[$n]=xi,bi[qn]=Si,bi[Gn]=Ei,bi[Wn]=_i,bi[Hn]=Ii}function vr(e){return e&~Ri?0>e?0:255:e>>Ci}function Sr(e,t){return vr((19077*e>>8)+(26149*t>>8)-14234)}function Er(e,t,r){return vr((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function _r(e,t){return vr((19077*e>>8)+(33050*t>>8)-17685)}function Ir(e,t,r,n,i){n[i+0]=Sr(e,r),n[i+1]=Er(e,t,r),n[i+2]=_r(e,t)}function xr(e,t,r,n,i){n[i+0]=_r(e,t),n[i+1]=Er(e,t,r),n[i+2]=Sr(e,r)}function Ar(e,t,r,n,i){var s=Er(e,t,r);t=s<<3&224|_r(e,t)>>3,n[i+0]=248&Sr(e,r)|s>>5,n[i+1]=t}function kr(e,t,r,n,i){var s=240&_r(e,t)|15;n[i+0]=240&Sr(e,r)|Er(e,t,r)>>4,n[i+1]=s}function Tr(e,t,r,n,i){n[i+0]=255,Ir(e,t,r,n,i+1)}function Mr(e,t,r,n,i){xr(e,t,r,n,i),n[i+3]=255}function Cr(e,t,r,n,i){Ir(e,t,r,n,i),n[i+3]=255}function We(e,t){return 0>e?0:e>t?t:e}function Rr(e,r,n){t[e]=function(e,t,i,s,a,o,c,u,l){for(var h=u+(-2&l)*n;u!=h;)r(e[t+0],i[s+0],a[o+0],c,u),r(e[t+1],i[s+0],a[o+0],c,u+n),t+=2,++s,++o,u+=2*n;1&l&&r(e[t+0],i[s+0],a[o+0],c,u)}}function Dr(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function Or(e,t,r,n,i){switch(e>>>30){case 3:on(t,r,n,i,0);break;case 2:cn(t,r,n,i);break;case 1:ln(t,r,n,i)}}function Fr(e,t){var r,n,a=t.M,o=t.Nb,c=e.oc,u=e.pc+40,l=e.oc,h=e.pc+584,f=e.oc,d=e.pc+600;for(r=0;16>r;++r)c[u+32*r-1]=129;for(r=0;8>r;++r)l[h+32*r-1]=129,f[d+32*r-1]=129;for(0<a?c[u-1-32]=l[h-1-32]=f[d-1-32]=129:(s(c,u-32-1,127,21),s(l,h-32-1,127,9),s(f,d-32-1,127,9)),n=0;n<e.za;++n){var p=t.ya[t.aa+n];if(0<n){for(r=-1;16>r;++r)i(c,u+32*r-4,c,u+32*r+12,4);for(r=-1;8>r;++r)i(l,h+32*r-4,l,h+32*r+4,4),i(f,d+32*r-4,f,d+32*r+4,4)}var g=e.Gd,m=e.Hd+n,y=p.ad,b=p.Hc;if(0<a&&(i(c,u-32,g[m].y,0,16),i(l,h-32,g[m].f,0,8),i(f,d-32,g[m].ea,0,8)),p.Za){var w=c,v=u-32+16;for(0<a&&(n>=e.za-1?s(w,v,g[m].y[15],4):i(w,v,g[m+1].y,0,4)),r=0;4>r;r++)w[v+128+r]=w[v+256+r]=w[v+384+r]=w[v+0+r];for(r=0;16>r;++r,b<<=2)w=c,v=u+Ui[r],di[p.Ob[r]](w,v),Or(b,y,16*+r,w,v)}else if(w=Dr(n,a,p.Ob[0]),fi[w](c,u),0!=b)for(r=0;16>r;++r,b<<=2)Or(b,y,16*+r,c,u+Ui[r]);for(r=p.Gc,w=Dr(n,a,p.Dd),pi[w](l,h),pi[w](f,d),b=y,w=l,v=h,255&(p=0|r)&&(170&p?un(b,256,w,v):hn(b,256,w,v)),p=f,b=d,255&(r>>=8)&&(170&r?un(y,320,p,b):hn(y,320,p,b)),a<e.Ub-1&&(i(g[m].y,0,c,u+480,16),i(g[m].f,0,l,h+224,8),i(g[m].ea,0,f,d+224,8)),r=8*o*e.B,g=e.sa,m=e.ta+16*n+16*o*e.R,y=e.qa,p=e.ra+8*n+r,b=e.Ha,w=e.Ia+8*n+r,r=0;16>r;++r)i(g,m+r*e.R,c,u+32*r,16);for(r=0;8>r;++r)i(y,p+r*e.B,l,h+32*r,8),i(b,w+r*e.B,f,d+32*r,8)}}function Pr(e,t,i,s,a,o,c,u,l){var h=[0],f=[0],d=0,p=null!=l?l.kd:0,g=null!=l?l:new ir;if(null==e||12>i)return 7;g.data=e,g.w=t,g.ha=i,t=[t],i=[i],g.gb=[g.gb];e:{var m=t,y=i,w=g.gb;if(r(null!=e),r(null!=y),r(null!=w),w[0]=0,12<=y[0]&&!n(e,m[0],"RIFF")){if(n(e,m[0]+8,"WEBP")){w=3;break e}var v=O(e,m[0]+4);if(12>v||4294967286<v){w=3;break e}if(p&&v>y[0]-8){w=7;break e}w[0]=v,m[0]+=12,y[0]-=12}w=0}if(0!=w)return w;for(v=0<g.gb[0],i=i[0];;){e:{var S=e;y=t,w=i;var _=h,I=f,x=m=[0];if((T=d=[d])[0]=0,8>w[0])w=7;else{if(!n(S,y[0],"VP8X")){if(10!=O(S,y[0]+4)){w=3;break e}if(18>w[0]){w=7;break e}var A=O(S,y[0]+8),k=1+D(S,y[0]+12);if(2147483648<=k*(S=1+D(S,y[0]+15))){w=3;break e}null!=x&&(x[0]=A),null!=_&&(_[0]=k),null!=I&&(I[0]=S),y[0]+=18,w[0]-=18,T[0]=1}w=0}}if(d=d[0],m=m[0],0!=w)return w;if(y=!!(2&m),!v&&d)return 3;if(null!=o&&(o[0]=!!(16&m)),null!=c&&(c[0]=y),null!=u&&(u[0]=0),c=h[0],m=f[0],d&&y&&null==l){w=0;break}if(4>i){w=7;break}if(v&&d||!v&&!d&&!n(e,t[0],"ALPH")){i=[i],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];e:{A=e,w=t,v=i;var T=g.gb;_=g.na,I=g.P,x=g.Sa,k=22,r(null!=A),r(null!=v),S=w[0];var M=v[0];for(r(null!=_),r(null!=x),_[0]=null,I[0]=null,x[0]=0;;){if(w[0]=S,v[0]=M,8>M){w=7;break e}var C=O(A,S+4);if(4294967286<C){w=3;break e}var R=8+C+1&-2;if(k+=R,0<T&&k>T){w=3;break e}if(!n(A,S,"VP8 ")||!n(A,S,"VP8L")){w=0;break e}if(M[0]<R){w=7;break e}n(A,S,"ALPH")||(_[0]=A,I[0]=S+8,x[0]=C),S+=R,M-=R}}if(i=i[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=w)break}i=[i],g.Ja=[g.Ja],g.xa=[g.xa];e:if(T=e,w=t,v=i,_=g.gb[0],I=g.Ja,x=g.xa,A=w[0],S=!n(T,A,"VP8 "),k=!n(T,A,"VP8L"),r(null!=T),r(null!=v),r(null!=I),r(null!=x),8>v[0])w=7;else{if(S||k){if(T=O(T,A+4),12<=_&&T>_-12){w=3;break e}if(p&&T>v[0]-8){w=7;break e}I[0]=T,w[0]+=8,v[0]-=8,x[0]=k}else x[0]=5<=v[0]&&47==T[A+0]&&!(T[A+4]>>5),I[0]=v[0];w=0}if(i=i[0],g.Ja=g.Ja[0],g.xa=g.xa[0],t=t[0],0!=w)break;if(4294967286<g.Ja)return 3;if(null==u||y||(u[0]=g.xa?2:1),c=[c],m=[m],g.xa){if(5>i){w=7;break}u=c,p=m,y=o,null==e||5>i?e=0:5<=i&&47==e[t+0]&&!(e[t+4]>>5)?(v=[0],T=[0],_=[0],b(I=new E,e,t,i),me(I,v,T,_)?(null!=u&&(u[0]=v[0]),null!=p&&(p[0]=T[0]),null!=y&&(y[0]=_[0]),e=1):e=0):e=0}else{if(10>i){w=7;break}u=m,null==e||10>i||!Ke(e,t+3,i-3)?e=0:(p=e[t+0]|e[t+1]<<8|e[t+2]<<16,y=16383&(e[t+7]<<8|e[t+6]),e=16383&(e[t+9]<<8|e[t+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=g.Ja||!y||!e?e=0:(c&&(c[0]=y),u&&(u[0]=e),e=1))}if(!e)return 3;if(c=c[0],m=m[0],d&&(h[0]!=c||f[0]!=m))return 3;null!=l&&(l[0]=g,l.offset=t-l.w,r(4294967286>t-l.w),r(l.offset==l.ha-i));break}return 0==w||7==w&&d&&null==l?(null!=o&&(o[0]|=null!=g.na&&0<g.na.length),null!=s&&(s[0]=c),null!=a&&(a[0]=m),0):w}function Nr(e,t,r){var n=t.width,i=t.height,s=0,a=0,o=n,c=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,c=e.bd,s=e.v,a=e.j,11>r||(s&=-2,a&=-2),0>s||0>a||0>=o||0>=c||s+o>n||a+c>i))return 0;if(t.v=s,t.j=a,t.va=s+o,t.o=a+c,t.U=o,t.T=c,t.da=null!=e&&0<e.da,t.da){if(!B(o,c,r=[e.ib],s=[e.hb]))return 0;t.ib=r[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*n/4&&t.hb<3*i/4,t.Kb=0),1}function Br(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Lr(e,t,r,n){if(null==n||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var i=r.cd,s=r.bd,o=-2&r.v,c=-2&r.j;if(0>o||0>c||0>=i||0>=s||o+i>e||c+s>t)return 2;e=i,t=s}if(r.da){if(!B(e,t,i=[r.ib],s=[r.hb]))return 2;e=i[0],t=s[0]}}n.width=e,n.height=t;e:{var u=n.width,l=n.height;if(e=n.S,0>=u||0>=l||!(e>=Bn&&13>e))e=2;else{if(0>=n.Rd&&null==n.sd){o=s=i=t=0;var h=(c=u*$i[e])*l;if(11>e||(s=(l+1)/2*(t=(u+1)/2),12==e&&(o=(i=u)*l)),null==(l=a(h+2*s+o))){e=1;break e}n.sd=l,11>e?((u=n.f.RGBA).eb=l,u.fb=0,u.A=c,u.size=h):((u=n.f.kb).y=l,u.O=0,u.fa=c,u.Fd=h,u.f=l,u.N=0+h,u.Ab=t,u.Cd=s,u.ea=l,u.W=0+h+s,u.Db=t,u.Ed=s,12==e&&(u.F=l,u.J=0+h+2*s),u.Tc=o,u.lb=i)}if(t=1,i=n.S,s=n.width,o=n.height,i>=Bn&&13>i)if(11>i)e=n.f.RGBA,t&=(c=Math.abs(e.A))*(o-1)+s<=e.size,t&=c>=s*$i[i],t&=null!=e.eb;else{e=n.f.kb,c=(s+1)/2,h=(o+1)/2,u=Math.abs(e.fa),l=Math.abs(e.Ab);var f=Math.abs(e.Db),d=Math.abs(e.lb),p=d*(o-1)+s;t&=u*(o-1)+s<=e.Fd,t&=l*(h-1)+c<=e.Cd,t=(t&=f*(h-1)+c<=e.Ed)&u>=s&l>=c&f>=c,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=d>=s,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Br(n)),e}var Ur=64,Vr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jr=24,zr=32,$r=8,qr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];V("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(e){return e},t.Predictor2=function(e,t,r){return t[r+0]},t.Predictor3=function(e,t,r){return t[r+1]},t.Predictor4=function(e,t,r){return t[r-1]},t.Predictor5=function(e,t,r){return z(z(e,t[r+1]),t[r+0])},t.Predictor6=function(e,t,r){return z(e,t[r-1])},t.Predictor7=function(e,t,r){return z(e,t[r+0])},t.Predictor8=function(e,t,r){return z(t[r-1],t[r+0])},t.Predictor9=function(e,t,r){return z(t[r+0],t[r+1])},t.Predictor10=function(e,t,r){return z(z(e,t[r-1]),z(t[r+0],t[r+1]))},t.Predictor11=function(e,t,r){var n=t[r+0];return 0>=G(n>>24&255,e>>24&255,(t=t[r-1])>>24&255)+G(n>>16&255,e>>16&255,t>>16&255)+G(n>>8&255,e>>8&255,t>>8&255)+G(255&n,255&e,255&t)?n:e},t.Predictor12=function(e,t,r){var n=t[r+0];return($((e>>24&255)+(n>>24&255)-((t=t[r-1])>>24&255))<<24|$((e>>16&255)+(n>>16&255)-(t>>16&255))<<16|$((e>>8&255)+(n>>8&255)-(t>>8&255))<<8|$((255&e)+(255&n)-(255&t)))>>>0},t.Predictor13=function(e,t,r){var n=t[r-1];return(q((e=z(e,t[r+0]))>>24&255,n>>24&255)<<24|q(e>>16&255,n>>16&255)<<16|q(e>>8&255,n>>8&255)<<8|q(255&e,255&n))>>>0};var Gr=t.PredictorAdd0;t.PredictorAdd1=W,V("Predictor2","PredictorAdd2"),V("Predictor3","PredictorAdd3"),V("Predictor4","PredictorAdd4"),V("Predictor5","PredictorAdd5"),V("Predictor6","PredictorAdd6"),V("Predictor7","PredictorAdd7"),V("Predictor8","PredictorAdd8"),V("Predictor9","PredictorAdd9"),V("Predictor10","PredictorAdd10"),V("Predictor11","PredictorAdd11"),V("Predictor12","PredictorAdd12"),V("Predictor13","PredictorAdd13");var Wr=t.PredictorAdd2;K("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),K("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Hr,Xr=t.ColorIndexInverseTransform,Yr=t.MapARGB,Kr=t.VP8LColorIndexInverseTransformAlpha,Zr=t.MapAlpha,Jr=t.VP8LPredictorsAdd=[];Jr.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var Qr,en,tn,rn,nn,sn,an,on,cn,un,ln,hn,fn,dn,pn,gn,mn,yn,bn,wn,vn,Sn,En,_n,In,xn,An,kn,Tn=a(511),Mn=a(2041),Cn=a(225),Rn=a(767),Dn=0,On=Mn,Fn=Cn,Pn=Rn,Nn=Tn,Bn=0,Ln=1,Un=2,Vn=3,jn=4,zn=5,$n=6,qn=7,Gn=8,Wn=9,Hn=10,Xn=[2,3,7],Yn=[3,3,11],Kn=[280,256,256,256,40],Zn=[0,1,1,1,0],Jn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ei=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ti=8,ri=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ii=null,si=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ai=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ci=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ui=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],li=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],fi=[],di=[],pi=[],gi=1,mi=2,yi=[],bi=[];br("UpsampleRgbLinePair",Ir,3),br("UpsampleBgrLinePair",xr,3),br("UpsampleRgbaLinePair",Cr,4),br("UpsampleBgraLinePair",Mr,4),br("UpsampleArgbLinePair",Tr,4),br("UpsampleRgba4444LinePair",kr,2),br("UpsampleRgb565LinePair",Ar,2);var wi=t.UpsampleRgbLinePair,vi=t.UpsampleBgrLinePair,Si=t.UpsampleRgbaLinePair,Ei=t.UpsampleBgraLinePair,_i=t.UpsampleArgbLinePair,Ii=t.UpsampleRgba4444LinePair,xi=t.UpsampleRgb565LinePair,Ai=16,ki=1<<Ai-1,Ti=-227,Mi=482,Ci=6,Ri=(256<<Ci)-1,Di=0,Oi=a(256),Fi=a(256),Pi=a(256),Ni=a(256),Bi=a(Mi-Ti),Li=a(Mi-Ti);Rr("YuvToRgbRow",Ir,3),Rr("YuvToBgrRow",xr,3),Rr("YuvToRgbaRow",Cr,4),Rr("YuvToBgraRow",Mr,4),Rr("YuvToArgbRow",Tr,4),Rr("YuvToRgba4444Row",kr,2),Rr("YuvToRgb565Row",Ar,2);var Ui=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vi=[0,2,8],ji=[8,7,6,4,4,2,2,2,1,1,1,1],zi=1;this.WebPDecodeRGBA=function(e,t,n,i,s){var a=Ln,o=new nr,c=new oe;o.ba=c,c.S=a,c.width=[c.width],c.height=[c.height];var u=c.width,l=c.height,h=new ce;if(null==h||null==e)var f=2;else r(null!=h),f=Pr(e,t,n,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=f?u=0:(null!=u&&(u[0]=h.width[0]),null!=l&&(l[0]=h.height[0]),u=1),u){c.width=c.width[0],c.height=c.height[0],null!=i&&(i[0]=c.width),null!=s&&(s[0]=c.height);e:{if(i=new He,(s=new ir).data=e,s.w=t,s.ha=n,s.kd=1,t=[0],r(null!=s),(0==(e=Pr(s.data,s.w,s.ha,null,null,null,t,null,s))||7==e)&&t[0]&&(e=4),0==(t=e)){if(r(null!=o),i.data=s.data,i.w=s.w+s.offset,i.ha=s.ha-s.offset,i.put=pe,i.ac=de,i.bc=ge,i.ma=o,s.xa){if(null==(e=Me())){o=1;break e}if(function(e,t){var n=[0],i=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==t)return e.a=2,0;if(e.l=t,e.a=0,b(e.m,t.data,t.w,t.ha),!me(e.m,n,i,s)){e.a=3;break t}if(e.xb=mi,t.width=n[0],t.height=i[0],!Ce(n[0],i[0],1,e,null))break t;return 1}return r(0!=e.a),0}(e,i)){if(i=0==(t=Lr(i.width,i.height,o.Oa,o.ba))){t:{i=e;r:for(;;){if(null==i){i=0;break t}if(r(null!=i.s.yc),r(null!=i.s.Ya),r(0<i.s.Wb),r(null!=(n=i.l)),r(null!=(s=n.ma)),0!=i.xb){if(i.ca=s.ba,i.tb=s.tb,r(null!=i.ca),!Nr(s.Oa,n,Vn)){i.a=2;break r}if(!Re(i,n.width))break r;if(n.da)break r;if((n.da||ie(i.ca.S))&&yr(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&yr()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!F(i.s.vb,i.s.Wa.Xa)){i.a=1;break r}i.xb=0}if(!ke(i,i.V,i.Ba,i.c,i.i,n.o,_e))break r;s.Dc=i.Ma,i=1;break t}r(0!=i.a),i=0}i=!i}i&&(t=e.a)}else t=e.a}else{if(null==(e=new Xe)){o=1;break e}if(e.Fa=s.na,e.P=s.P,e.qc=s.Sa,Ze(e,i)){if(0==(t=Lr(i.width,i.height,o.Oa,o.ba))){if(e.Aa=0,n=o.Oa,r(null!=(s=e)),null!=n){if(0<(u=0>(u=n.Md)?0:100<u?255:255*u/100)){for(l=h=0;4>l;++l)12>(f=s.pb[l]).lc&&(f.ia=u*ji[0>f.lc?0:f.lc]>>3),h|=f.ia;h&&(alert("todo:VP8InitRandom"),s.ia=1)}s.Ga=n.Id,100<s.Ga?s.Ga=100:0>s.Ga&&(s.Ga=0)}et(e,i)||(t=e.a)}}else t=e.a}0==t&&null!=o.Oa&&o.Oa.fd&&(t=Br(o.ba))}o=t}a=0!=o?null:11>a?c.f.RGBA.eb:c.f.kb.y}else a=null;return a};var $i=[3,4,3,4,4,2,2,4,4,4,2,1,1]},e.WebPRiffParser=function(e,t){var r={},n=0,i=!1,s=0,a=0;if(r.frames=[],!function(e,t){for(var r=0;r<4;r++)if(e[t+r]!="RIFF".charCodeAt(r))return!0;return!1}(e,t)){for(f(e,t+=4),t+=8;t<e.length;){var o=u(e,t),c=f(e,t+=4);t+=4;var d=c+(1&c);switch(o){case"VP8 ":case"VP8L":void 0===r.frames[n]&&(r.frames[n]={}),(g=r.frames[n]).src_off=i?a:t-8,g.src_size=s+c+8,n++,i&&(i=!1,s=0,a=0);break;case"VP8X":(g=r.header={}).feature_flags=e[t];var p=t+4;g.canvas_width=1+h(e,p),p+=3,g.canvas_height=1+h(e,p),p+=3;break;case"ALPH":i=!0,s=d+8,a=t-8;break;case"ANIM":(g=r.header).bgcolor=f(e,t),p=t+4,g.loop_count=l(e,p),p+=2;break;case"ANMF":var g,m;(g=r.frames[n]={}).offset_x=2*h(e,t),t+=3,g.offset_y=2*h(e,t),t+=3,g.width=1+h(e,t),t+=3,g.height=1+h(e,t),t+=3,g.duration=h(e,t),t+=3,m=e[t++],g.dispose=1&m,g.blend=m>>1&1}"ANMF"!=o&&(t+=d)}return r}};var t={};function r(e){if(!e)throw Error("assert :P")}function n(e,t,r){for(var n=0;4>n;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}function i(e,t,r,n,i){for(var s=0;s<i;s++)e[t+s]=r[n+s]}function s(e,t,r,n){for(var i=0;i<n;i++)e[t+i]=r}function a(e){return new Int32Array(e)}function o(e,t){for(var r=[],n=0;n<e;n++)r.push(new t);return r}function c(e,t){var r=[];return function e(r,n,i){for(var s=i[n],a=0;a<s&&(r.push(i.length>n+1?[]:new t),!(i.length<n+1));a++)e(r[a],n+1,i)}(r,0,e),r}function u(e,t){for(var r="",n=0;n<4;n++)r+=String.fromCharCode(e[t++]);return r}function l(e,t){return e[t+0]|e[t+1]<<8}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function f(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}})?r.apply(t,[t]):r)||(e.exports=n)},3261(e,t,r){var n;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+|\*)?(?:\.(\d+|\*))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/,trailing_period_zero:/\.0$/,trailing_zeroes:/(\.\d*?[1-9])0+$|\.0+$/,period_zero_exp:/\.0*e/,zero_before_exp:/(\..*[^0])0*e/,exp_pos_digits:/e\+(\d)$/,exp_neg_digits:/e-(\d)$/,exp_trailing:/e([+-])(\d)$/};function s(e){return function(e,t){var r,n,a,o,c,u,l,h,f,d,p,g,m,y=2147483648,b=1,w=e.length,v="";for(n=0;n<w;n++)if("string"==typeof e[n])v+=e[n];else if("object"==typeof e[n]){if((o=e[n]).keys)for(r=t[b],a=0;a<o.keys.length;a++){if(null==r)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',o.keys[a],o.keys[a-1]));r=r[o.keys[a]]}else r=o.param_no?t[o.param_no]:("*"===o.width?o.width=parseInt(t[b++],10):"*"===o.precision&&(o.precision=parseInt(t[b++],10)),t[b++]);if(i.not_type.test(o.type)&&i.not_primitive.test(o.type)&&r instanceof Function&&(r=r()),i.numeric_arg.test(o.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(s("[sprintf] expecting number but found %T",r));switch(i.number.test(o.type)&&(h=0<=r),o.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,o.width?parseInt(o.width):0);break;case"e":r=o.precision?parseFloat(r).toExponential(o.precision):parseFloat(r).toExponential(6);break;case"f":r=o.precision?parseFloat(r).toFixed(o.precision):parseFloat(r).toFixed(6);break;case"g":r=(r=(r=(r=0===(g=parseFloat(r))?"0":Math.abs(g)<1e-4?(m=0<(m=o.precision?o.precision:6)?m-1:0,g.toExponential(m)):o.precision&&o.precision<1?g.toFixed(0):o.precision?String(Number(r.toPrecision(o.precision))):g.toPrecision(6)).replace(i.zero_before_exp,"$1e")).replace(i.period_zero_exp,"e")).replace(i.trailing_zeroes,"$1");break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=o.precision?r.substring(0,o.precision):r;break;case"t":r=String(!!r),r=o.precision?r.substring(0,o.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=o.precision?r.substring(0,o.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=o.precision?r.substring(0,o.precision):r;break;case"x":case"X":d=(parseInt(r,10)>>>0).toString(16),r&&r.high?d=(parseInt(r.high,10)>>>0).toString(16)+d.padStart(8,"0"):(parseInt(r,10)>y-1||parseInt(r,10)<-y)&&(p=BigInt.asUintN(32,BigInt(r)>>BigInt(32)).toString(16),d=0!==parseInt(p,16)?p+d.padStart(8,"0"):d),r="X"===o.type?d.toUpperCase():d}"e"!==o.type&&"g"!==o.type||(r=(r=(r=r.replace(i.exp_pos_digits,"e+$1")).replace(i.exp_neg_digits,"e-$1")).replace(i.exp_trailing,"e$10$2")),i.json.test(o.type)?v+=r:(!i.number.test(o.type)||h&&!o.sign?f="":(f=h?"+":"-",r=r.toString().replace(i.sign,"")),u=o.pad_char?"0"===o.pad_char?"0":o.pad_char.charAt(1):" ",l=o.width-(f+r).length,c=o.width&&0<l?u.repeat(l):"",v+=o.align?f+r+c:"0"===u?f+c+r:c+f+r)}return v}(function(e){if(o[e])return o[e];for(var t,r=e,n=[],s=0;r;){if(null!==(t=i.text.exec(r)))n.push(t[0]);else if(null!==(t=i.modulo.exec(r)))n.push("%");else{if(null===(t=i.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;var a=[],c=t[2],u=[];if(null===(u=i.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(u[1]);""!==(c=c.substring(u[0].length));)if(null!==(u=i.key_access.exec(c)))a.push(u[1]);else{if(null===(u=i.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(u[1])}t[2]=a}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}return o[e]=n}(e),arguments)}function a(e,t){return s.apply(null,[e].concat(t||[]))}var o=Object.create(null);t.sprintf=s,t.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=s,window.vsprintf=a,void 0===(n=function(){return{sprintf:s,vsprintf:a}}.call(t,r,t,e))||(e.exports=n))}()},7692(e,t,r){var n;r(9907),n={},e.exports=n,function(e,t){e.toRGBA8=function(t){var r=t.width,n=t.height;if(null==t.tabs.acTL)return[e.toRGBA8.decodeImage(t.data,r,n,t).buffer];var i=[];null==t.frames[0].data&&(t.frames[0].data=t.data);for(var s,a=new Uint8Array(r*n*4),o=0;o<t.frames.length;o++){var c=t.frames[o],u=c.rect.x,l=c.rect.y,h=c.rect.width,f=c.rect.height,d=e.toRGBA8.decodeImage(c.data,h,f,t);if(0==o?s=d:0==c.blend?e._copyTile(d,h,f,s,r,n,u,l,0):1==c.blend&&e._copyTile(d,h,f,s,r,n,u,l,1),i.push(s.buffer),s=s.slice(0),0==c.dispose);else if(1==c.dispose)e._copyTile(a,h,f,s,r,n,u,l,0);else if(2==c.dispose){for(var p=o-1;2==t.frames[p].dispose;)p--;s=new Uint8Array(i[p]).slice(0)}}return i},e.toRGBA8.decodeImage=function(t,r,n,i){var s=r*n,a=e.decode._getBPP(i),o=Math.ceil(r*a/8),c=new Uint8Array(4*s),u=new Uint32Array(c.buffer),l=i.ctype,h=i.depth,f=e._bin.readUshort;if(6==l){var d=s<<2;if(8==h)for(var p=0;p<d;p++)c[p]=t[p];if(16==h)for(p=0;p<d;p++)c[p]=t[p<<1]}else if(2==l){var g=i.tabs.tRNS,m=-1,y=-1,b=-1;if(g&&(m=g[0],y=g[1],b=g[2]),8==h)for(p=0;p<s;p++){var w=3*p;c[A=p<<2]=t[w],c[A+1]=t[w+1],c[A+2]=t[w+2],c[A+3]=255,-1!=m&&t[w]==m&&t[w+1]==y&&t[w+2]==b&&(c[A+3]=0)}if(16==h)for(p=0;p<s;p++)w=6*p,c[A=p<<2]=t[w],c[A+1]=t[w+2],c[A+2]=t[w+4],c[A+3]=255,-1!=m&&f(t,w)==m&&f(t,w+2)==y&&f(t,w+4)==b&&(c[A+3]=0)}else if(3==l){var v=i.tabs.PLTE,S=i.tabs.tRNS,E=S?S.length:0;if(1==h)for(var _=0;_<n;_++){var I=_*o,x=_*r;for(p=0;p<r;p++){var A=x+p<<2,k=3*(T=t[I+(p>>3)]>>7-(7&p)&1);c[A]=v[k],c[A+1]=v[k+1],c[A+2]=v[k+2],c[A+3]=T<E?S[T]:255}}if(2==h)for(_=0;_<n;_++)for(I=_*o,x=_*r,p=0;p<r;p++)A=x+p<<2,k=3*(T=t[I+(p>>2)]>>6-((3&p)<<1)&3),c[A]=v[k],c[A+1]=v[k+1],c[A+2]=v[k+2],c[A+3]=T<E?S[T]:255;if(4==h)for(_=0;_<n;_++)for(I=_*o,x=_*r,p=0;p<r;p++)A=x+p<<2,k=3*(T=t[I+(p>>1)]>>4-((1&p)<<2)&15),c[A]=v[k],c[A+1]=v[k+1],c[A+2]=v[k+2],c[A+3]=T<E?S[T]:255;if(8==h)for(p=0;p<s;p++){var T;A=p<<2,k=3*(T=t[p]),c[A]=v[k],c[A+1]=v[k+1],c[A+2]=v[k+2],c[A+3]=T<E?S[T]:255}}else if(4==l){if(8==h)for(p=0;p<s;p++){A=p<<2;var M=t[C=p<<1];c[A]=M,c[A+1]=M,c[A+2]=M,c[A+3]=t[C+1]}if(16==h)for(p=0;p<s;p++){var C;A=p<<2,M=t[C=p<<2],c[A]=M,c[A+1]=M,c[A+2]=M,c[A+3]=t[C+2]}}else if(0==l){if(m=i.tabs.tRNS?i.tabs.tRNS:-1,1==h)for(p=0;p<s;p++){var R=(M=255*(t[p>>3]>>7-(7&p)&1))==255*m?0:255;u[p]=R<<24|M<<16|M<<8|M}if(2==h)for(p=0;p<s;p++)R=(M=85*(t[p>>2]>>6-((3&p)<<1)&3))==85*m?0:255,u[p]=R<<24|M<<16|M<<8|M;if(4==h)for(p=0;p<s;p++)R=(M=17*(t[p>>1]>>4-((1&p)<<2)&15))==17*m?0:255,u[p]=R<<24|M<<16|M<<8|M;if(8==h)for(p=0;p<s;p++)R=(M=t[p])==m?0:255,u[p]=R<<24|M<<16|M<<8|M;if(16==h)for(p=0;p<s;p++)M=t[p<<1],R=f(t,p<<1)==m?0:255,u[p]=R<<24|M<<16|M<<8|M}return c},e.decode=function(t){for(var r,n=new Uint8Array(t),i=8,s=e._bin,a=s.readUshort,o=s.readUint,c={tabs:{},frames:[]},u=new Uint8Array(n.length),l=0,h=0,f=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(n[d]!=f[d])throw new Error("The input is not a PNG file!");for(;i<n.length;){var p=s.readUint(n,i);i+=4;var g=s.readASCII(n,i,4);if(i+=4,"IHDR"==g)e.decode._IHDR(n,i,c);else if("IDAT"==g){for(d=0;d<p;d++)u[l+d]=n[i+d];l+=p}else if("acTL"==g)c.tabs[g]={num_frames:o(n,i),num_plays:o(n,i+4)},r=new Uint8Array(n.length);else if("fcTL"==g){0!=h&&((I=c.frames[c.frames.length-1]).data=e.decode._decompress(c,r.slice(0,h),I.rect.width,I.rect.height),h=0);var m={x:o(n,i+12),y:o(n,i+16),width:o(n,i+4),height:o(n,i+8)},y=a(n,i+22);y=a(n,i+20)/(0==y?100:y);var b={rect:m,delay:Math.round(1e3*y),dispose:n[i+24],blend:n[i+25]};c.frames.push(b)}else if("fdAT"==g){for(d=0;d<p-4;d++)r[h+d]=n[i+d+4];h+=p-4}else if("pHYs"==g)c.tabs[g]=[s.readUint(n,i),s.readUint(n,i+4),n[i+8]];else if("cHRM"==g)for(c.tabs[g]=[],d=0;d<8;d++)c.tabs[g].push(s.readUint(n,i+4*d));else if("tEXt"==g){null==c.tabs[g]&&(c.tabs[g]={});var w=s.nextZero(n,i),v=s.readASCII(n,i,w-i),S=s.readASCII(n,w+1,i+p-w-1);c.tabs[g][v]=S}else if("iTXt"==g){null==c.tabs[g]&&(c.tabs[g]={}),w=0;var E=i;w=s.nextZero(n,E),v=s.readASCII(n,E,w-E),n[E=w+1],n[E+1],E+=2,w=s.nextZero(n,E),s.readASCII(n,E,w-E),E=w+1,w=s.nextZero(n,E),s.readUTF8(n,E,w-E),E=w+1,S=s.readUTF8(n,E,p-(E-i)),c.tabs[g][v]=S}else if("PLTE"==g)c.tabs[g]=s.readBytes(n,i,p);else if("hIST"==g){var _=c.tabs.PLTE.length/3;for(c.tabs[g]=[],d=0;d<_;d++)c.tabs[g].push(a(n,i+2*d))}else if("tRNS"==g)3==c.ctype?c.tabs[g]=s.readBytes(n,i,p):0==c.ctype?c.tabs[g]=a(n,i):2==c.ctype&&(c.tabs[g]=[a(n,i),a(n,i+2),a(n,i+4)]);else if("gAMA"==g)c.tabs[g]=s.readUint(n,i)/1e5;else if("sRGB"==g)c.tabs[g]=n[i];else if("bKGD"==g)0==c.ctype||4==c.ctype?c.tabs[g]=[a(n,i)]:2==c.ctype||6==c.ctype?c.tabs[g]=[a(n,i),a(n,i+2),a(n,i+4)]:3==c.ctype&&(c.tabs[g]=n[i]);else if("IEND"==g){var I;0!=h&&((I=c.frames[c.frames.length-1]).data=e.decode._decompress(c,r.slice(0,h),I.rect.width,I.rect.height),h=0),c.data=e.decode._decompress(c,u,c.width,c.height);break}i+=p,s.readUint(n,i),i+=4}return delete c.compress,delete c.interlace,delete c.filter,c},e.decode._decompress=function(t,r,n,i){return 0==t.compress&&(r=e.decode._inflate(r)),0==t.interlace?r=e.decode._filterZero(r,t,0,n,i):1==t.interlace&&(r=e.decode._readInterlace(r,t)),r},e.decode._inflate=function(e){return t.decompressSync(e)},e.decode._readInterlace=function(t,r){for(var n=r.width,i=r.height,s=e.decode._getBPP(r),a=s>>3,o=Math.ceil(n*s/8),c=new Uint8Array(i*o),u=0,l=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],p=0;p<7;){for(var g=f[p],m=d[p],y=0,b=0,w=l[p];w<i;)w+=g,b++;for(var v=h[p];v<n;)v+=m,y++;var S=Math.ceil(y*s/8);e.decode._filterZero(t,r,u,y,b);for(var E=0,_=l[p];_<i;){for(var I=h[p],x=u+E*S<<3;I<n;){var A;if(1==s&&(A=(A=t[x>>3])>>7-(7&x)&1,c[_*o+(I>>3)]|=A<<7-(3&I)),2==s&&(A=(A=t[x>>3])>>6-(7&x)&3,c[_*o+(I>>2)]|=A<<6-((3&I)<<1)),4==s&&(A=(A=t[x>>3])>>4-(7&x)&15,c[_*o+(I>>1)]|=A<<4-((1&I)<<2)),s>=8)for(var k=_*o+I*a,T=0;T<a;T++)c[k+T]=t[(x>>3)+T];x+=s,I+=m}E++,_+=g}y*b!=0&&(u+=b*(1+S)),p+=1}return c},e.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},e.decode._filterZero=function(t,r,n,i,s){var a=e.decode._getBPP(r),o=Math.ceil(i*a/8),c=e.decode._paeth;a=Math.ceil(a/8);for(var u=0;u<s;u++){var l=n+u*o,h=l+u+1,f=t[h-1];if(0==f)for(var d=0;d<o;d++)t[l+d]=t[h+d];else if(1==f){for(d=0;d<a;d++)t[l+d]=t[h+d];for(d=a;d<o;d++)t[l+d]=t[h+d]+t[l+d-a]&255}else if(0==u){for(d=0;d<a;d++)t[l+d]=t[h+d];if(2==f)for(d=a;d<o;d++)t[l+d]=255&t[h+d];if(3==f)for(d=a;d<o;d++)t[l+d]=t[h+d]+(t[l+d-a]>>1)&255;if(4==f)for(d=a;d<o;d++)t[l+d]=t[h+d]+c(t[l+d-a],0,0)&255}else{if(2==f)for(d=0;d<o;d++)t[l+d]=t[h+d]+t[l+d-o]&255;if(3==f){for(d=0;d<a;d++)t[l+d]=t[h+d]+(t[l+d-o]>>1)&255;for(d=a;d<o;d++)t[l+d]=t[h+d]+(t[l+d-o]+t[l+d-a]>>1)&255}if(4==f){for(d=0;d<a;d++)t[l+d]=t[h+d]+c(0,t[l+d-o],0)&255;for(d=a;d<o;d++)t[l+d]=t[h+d]+c(t[l+d-a],t[l+d-o],t[l+d-a-o])&255}}}return t},e.decode._paeth=function(e,t,r){var n=e+t-r,i=Math.abs(n-e),s=Math.abs(n-t),a=Math.abs(n-r);return i<=s&&i<=a?e:s<=a?t:r},e.decode._IHDR=function(t,r,n){var i=e._bin;n.width=i.readUint(t,r),r+=4,n.height=i.readUint(t,r),r+=4,n.depth=t[r],r++,n.ctype=t[r],r++,n.compress=t[r],r++,n.filter=t[r],r++,n.interlace=t[r],r++},e._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},readASCII:function(e,t,r){for(var n="",i=0;i<r;i++)n+=String.fromCharCode(e[t+i]);return n},writeASCII:function(e,t,r){for(var n=0;n<r.length;n++)e[t+n]=r.charCodeAt(n)},readBytes:function(e,t,r){for(var n=[],i=0;i<r;i++)n.push(e[t+i]);return n},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(t,r,n){for(var i,s="",a=0;a<n;a++)s+="%"+e._bin.pad(t[r+a].toString(16));try{i=decodeURIComponent(s)}catch(i){return e._bin.readASCII(t,r,n)}return i}},e._copyTile=function(e,t,r,n,i,s,a,o,c){for(var u=Math.min(t,i),l=Math.min(r,s),h=0,f=0,d=0;d<l;d++)for(var p=0;p<u;p++)if(a>=0&&o>=0?(h=d*t+p<<2,f=(o+d)*i+a+p<<2):(h=(-o+d)*t-a+p<<2,f=d*i+p<<2),0==c)n[f]=e[h],n[f+1]=e[h+1],n[f+2]=e[h+2],n[f+3]=e[h+3];else if(1==c){var g=e[h+3]*(1/255),m=e[h]*g,y=e[h+1]*g,b=e[h+2]*g,w=n[f+3]*(1/255),v=n[f]*w,S=n[f+1]*w,E=n[f+2]*w,_=1-g,I=g+w*_,x=0==I?0:1/I;n[f+3]=255*I,n[f+0]=(m+v*_)*x,n[f+1]=(y+S*_)*x,n[f+2]=(b+E*_)*x}else if(2==c)g=e[h+3],m=e[h],y=e[h+1],b=e[h+2],w=n[f+3],v=n[f],S=n[f+1],E=n[f+2],g==w&&m==v&&y==S&&b==E?(n[f]=0,n[f+1]=0,n[f+2]=0,n[f+3]=0):(n[f]=m,n[f+1]=y,n[f+2]=b,n[f+3]=g);else if(3==c){if(g=e[h+3],m=e[h],y=e[h+1],b=e[h+2],w=n[f+3],v=n[f],S=n[f+1],E=n[f+2],g==w&&m==v&&y==S&&b==E)continue;if(g<220&&w>20)return!1}return!0},e.encode=function(t,r,n,i,s,a){null==i&&(i=0),null==a&&(a=!1);for(var o=new Uint8Array(t[0].byteLength*t.length+100),c=[137,80,78,71,13,10,26,10],u=0;u<8;u++)o[u]=c[u];var l=8,h=e._bin,f=e.crc.crc,d=h.writeUint,p=h.writeUshort,g=h.writeASCII,m=e.encode.compressPNG(t,r,n,i,a);d(o,l,13),g(o,l+=4,"IHDR"),d(o,l+=4,r),d(o,l+=4,n),o[l+=4]=m.depth,o[++l]=m.ctype,o[++l]=0,o[++l]=0,o[++l]=0,d(o,++l,f(o,l-17,17)),d(o,l+=4,1),g(o,l+=4,"sRGB"),o[l+=4]=1,d(o,++l,f(o,l-5,5)),l+=4;var y=t.length>1;if(y&&(d(o,l,8),g(o,l+=4,"acTL"),d(o,l+=4,t.length),d(o,l+=4,0),d(o,l+=4,f(o,l-12,12)),l+=4),3==m.ctype){for(d(o,l,3*(A=m.plte.length)),g(o,l+=4,"PLTE"),l+=4,u=0;u<A;u++){var b=3*u,w=m.plte[u],v=255&w,S=w>>8&255,E=w>>16&255;o[l+b+0]=v,o[l+b+1]=S,o[l+b+2]=E}if(d(o,l+=3*A,f(o,l-3*A-4,3*A+4)),l+=4,m.gotAlpha){for(d(o,l,A),g(o,l+=4,"tRNS"),l+=4,u=0;u<A;u++)o[l+u]=m.plte[u]>>24&255;d(o,l+=A,f(o,l-A-4,A+4)),l+=4}}for(var _=0,I=0;I<m.frames.length;I++){var x=m.frames[I];y&&(d(o,l,26),g(o,l+=4,"fcTL"),d(o,l+=4,_++),d(o,l+=4,x.rect.width),d(o,l+=4,x.rect.height),d(o,l+=4,x.rect.x),d(o,l+=4,x.rect.y),p(o,l+=4,s[I]),p(o,l+=2,1e3),o[l+=2]=x.dispose,o[++l]=x.blend,d(o,++l,f(o,l-30,30)),l+=4);var A,k=x.cimg;d(o,l,(A=k.length)+(0==I?0:4));var T=l+=4;for(g(o,l,0==I?"IDAT":"fdAT"),l+=4,0!=I&&(d(o,l,_++),l+=4),u=0;u<A;u++)o[l+u]=k[u];d(o,l+=A,f(o,T,l-T)),l+=4}return d(o,l,0),g(o,l+=4,"IEND"),d(o,l+=4,f(o,l-4,4)),l+=4,o.buffer.slice(0,l)},e.encode.compressPNG=function(t,r,n,i,s){for(var a=e.encode.compress(t,r,n,i,!1,s),o=0;o<t.length;o++){var c=a.frames[o],u=(c.rect.width,c.rect.height),l=c.bpl,h=c.bpp,f=new Uint8Array(u*l+u);c.cimg=e.encode._filterZero(c.img,u,h,l,f)}return a},e.encode.compress=function(t,r,n,i,s,a){null==a&&(a=!1);for(var o=6,c=8,u=4,l=255,h=0;h<t.length;h++)for(var f=new Uint8Array(t[h]),d=f.length,p=0;p<d;p+=4)l&=f[p+3];var g=255!=l,m={},y=[];if(0!=t.length&&(m[0]=0,y.push(0),0!=i&&i--),0!=i){var b=e.quantize(t,i,s);for(t=b.bufs,p=0;p<b.plte.length;p++)null==m[v=b.plte[p].est.rgba]&&(m[v]=y.length,y.push(v))}else for(h=0;h<t.length;h++){var w=new Uint32Array(t[h]);for(d=w.length,p=0;p<d;p++){var v=w[p];if((p<r||v!=w[p-1]&&v!=w[p-r])&&null==m[v]&&(m[v]=y.length,y.push(v),y.length>=300))break}}var S=!!g&&s,E=y.length;E<=256&&0==a&&(c=E<=2?1:E<=4?2:E<=16?4:8,s&&(c=8),g=!0);var _=[];for(h=0;h<t.length;h++){var I=new Uint8Array(t[h]),x=new Uint32Array(I.buffer),A=0,k=0,T=r,M=n,C=0;if(0!=h&&!S){for(var R=s||1==h||2==_[_.length-2].dispose?1:2,D=0,O=1e9,F=0;F<R;F++){for(var P=new Uint8Array(t[h-1-F]),N=new Uint32Array(t[h-1-F]),B=r,L=n,U=-1,V=-1,j=0;j<n;j++)for(var z=0;z<r;z++)x[p=j*r+z]!=N[p]&&(z<B&&(B=z),z>U&&(U=z),j<L&&(L=j),j>V&&(V=j));var $=-1==U?1:(U-B+1)*(V-L+1);$<O&&(O=$,D=F,-1==U?(A=k=0,T=M=1):(A=B,k=L,T=U-B+1,M=V-L+1))}P=new Uint8Array(t[h-1-D]),1==D&&(_[_.length-1].dispose=2);var q=new Uint8Array(T*M*4);new Uint32Array(q.buffer),e._copyTile(P,r,n,q,T,M,-A,-k,0),e._copyTile(I,r,n,q,T,M,-A,-k,3)?(e._copyTile(I,r,n,q,T,M,-A,-k,2),C=1):(e._copyTile(I,r,n,q,T,M,-A,-k,0),C=0),I=q,x=new Uint32Array(I.buffer)}var G=4*T;if(E<=256&&0==a){for(G=Math.ceil(c*T/8),q=new Uint8Array(G*M),j=0;j<M;j++){p=j*G;var W=j*T;if(8==c)for(z=0;z<T;z++)q[p+z]=m[x[W+z]];else if(4==c)for(z=0;z<T;z++)q[p+(z>>1)]|=m[x[W+z]]<<4-4*(1&z);else if(2==c)for(z=0;z<T;z++)q[p+(z>>2)]|=m[x[W+z]]<<6-2*(3&z);else if(1==c)for(z=0;z<T;z++)q[p+(z>>3)]|=m[x[W+z]]<<7-1*(7&z)}I=q,o=3,u=1}else if(0==g&&1==t.length){q=new Uint8Array(T*M*3);var H=T*M;for(p=0;p<H;p++){var X=3*p,Y=4*p;q[X]=I[Y],q[X+1]=I[Y+1],q[X+2]=I[Y+2]}I=q,o=2,u=3,G=3*T}_.push({rect:{x:A,y:k,width:T,height:M},img:I,bpl:G,bpp:u,blend:C,dispose:S?1:0})}return{ctype:o,depth:c,plte:y,gotAlpha:g,frames:_}},e.encode._filterZero=function(r,n,i,s,a){for(var o=[],c=0;c<5;c++)if(!(n*s>5e5)||2!=c&&3!=c&&4!=c){for(var u=0;u<n;u++)e.encode._filterLine(a,r,u,s,i,c);if(o.push(t.deflateSync(a)),1==i)break}for(var l,h=1e9,f=0;f<o.length;f++)o[f].length<h&&(l=f,h=o[f].length);return o[l]},e.encode._filterLine=function(t,r,n,i,s,a){var o=n*i,c=o+n,u=e.decode._paeth;if(t[c]=a,c++,0==a)for(var l=0;l<i;l++)t[c+l]=r[o+l];else if(1==a){for(l=0;l<s;l++)t[c+l]=r[o+l];for(l=s;l<i;l++)t[c+l]=r[o+l]-r[o+l-s]+256&255}else if(0==n){for(l=0;l<s;l++)t[c+l]=r[o+l];if(2==a)for(l=s;l<i;l++)t[c+l]=r[o+l];if(3==a)for(l=s;l<i;l++)t[c+l]=r[o+l]-(r[o+l-s]>>1)+256&255;if(4==a)for(l=s;l<i;l++)t[c+l]=r[o+l]-u(r[o+l-s],0,0)+256&255}else{if(2==a)for(l=0;l<i;l++)t[c+l]=r[o+l]+256-r[o+l-i]&255;if(3==a){for(l=0;l<s;l++)t[c+l]=r[o+l]+256-(r[o+l-i]>>1)&255;for(l=s;l<i;l++)t[c+l]=r[o+l]+256-(r[o+l-i]+r[o+l-s]>>1)&255}if(4==a){for(l=0;l<s;l++)t[c+l]=r[o+l]+256-u(0,r[o+l-i],0)&255;for(l=s;l<i;l++)t[c+l]=r[o+l]+256-u(r[o+l-s],r[o+l-i],r[o+l-s-i])&255}}},e.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,n=0;n<8;n++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(t,r,n,i){for(var s=0;s<i;s++)t=e.crc.table[255&(t^r[n+s])]^t>>>8;return t},crc:function(t,r,n){return 4294967295^e.crc.update(4294967295,t,r,n)}},e.quantize=function(t,r,n){for(var i=[],s=0,a=0;a<t.length;a++)i.push(e.encode.alphaMul(new Uint8Array(t[a]),n)),s+=t[a].byteLength;var o=new Uint8Array(s),c=new Uint32Array(o.buffer),u=0;for(a=0;a<i.length;a++){for(var l=i[a],h=l.length,f=0;f<h;f++)o[u+f]=l[f];u+=h}var d={i0:0,i1:o.length,bst:null,est:null,tdst:0,left:null,right:null};d.bst=e.quantize.stats(o,d.i0,d.i1),d.est=e.quantize.estats(d.bst);for(var p=[d];p.length<r;){var g=0,m=0;for(a=0;a<p.length;a++)p[a].est.L>g&&(g=p[a].est.L,m=a);if(g<.001)break;var y=p[m],b=e.quantize.splitPixels(o,c,y.i0,y.i1,y.est.e,y.est.eMq255),w={i0:y.i0,i1:b,bst:null,est:null,tdst:0,left:null,right:null};w.bst=e.quantize.stats(o,w.i0,w.i1),w.est=e.quantize.estats(w.bst);var v={i0:b,i1:y.i1,bst:null,est:null,tdst:0,left:null,right:null};for(v.bst={R:[],m:[],N:y.bst.N-w.bst.N},a=0;a<16;a++)v.bst.R[a]=y.bst.R[a]-w.bst.R[a];for(a=0;a<4;a++)v.bst.m[a]=y.bst.m[a]-w.bst.m[a];v.est=e.quantize.estats(v.bst),y.left=w,y.right=v,p[m]=w,p.push(v)}p.sort(function(e,t){return t.bst.N-e.bst.N});for(var S=0;S<i.length;S++){var E=e.quantize.planeDst,_=new Uint8Array(i[S].buffer),I=new Uint32Array(i[S].buffer),x=_.length;for(a=0;a<x;a+=4){for(var A=_[a]*(1/255),k=_[a+1]*(1/255),T=_[a+2]*(1/255),M=_[a+3]*(1/255),C=d;C.left;)C=E(C.est,A,k,T,M)<=0?C.left:C.right;I[a>>2]=C.est.rgba}i[S]=I.buffer}return{bufs:i,plte:p}},e.quantize.getNearest=function(t,r,n,i,s){if(null==t.left)return t.tdst=e.quantize.dist(t.est.q,r,n,i,s),t;var a=e.quantize.planeDst(t.est,r,n,i,s),o=t.left,c=t.right;a>0&&(o=t.right,c=t.left);var u=e.quantize.getNearest(o,r,n,i,s);if(u.tdst<=a*a)return u;var l=e.quantize.getNearest(c,r,n,i,s);return l.tdst<u.tdst?l:u},e.quantize.planeDst=function(e,t,r,n,i){var s=e.e;return s[0]*t+s[1]*r+s[2]*n+s[3]*i-e.eMq},e.quantize.dist=function(e,t,r,n,i){var s=t-e[0],a=r-e[1],o=n-e[2],c=i-e[3];return s*s+a*a+o*o+c*c},e.quantize.splitPixels=function(t,r,n,i,s,a){var o=e.quantize.vecDot;for(i-=4;n<i;){for(;o(t,n,s)<=a;)n+=4;for(;o(t,i,s)>a;)i-=4;if(n>=i)break;var c=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=c,n+=4,i-=4}for(;o(t,n,s)>a;)n-=4;return n+4},e.quantize.vecDot=function(e,t,r){return e[t]*r[0]+e[t+1]*r[1]+e[t+2]*r[2]+e[t+3]*r[3]},e.quantize.stats=function(e,t,r){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],s=r-t>>2,a=t;a<r;a+=4){var o=e[a]*(1/255),c=e[a+1]*(1/255),u=e[a+2]*(1/255),l=e[a+3]*(1/255);i[0]+=o,i[1]+=c,i[2]+=u,i[3]+=l,n[0]+=o*o,n[1]+=o*c,n[2]+=o*u,n[3]+=o*l,n[5]+=c*c,n[6]+=c*u,n[7]+=c*l,n[10]+=u*u,n[11]+=u*l,n[15]+=l*l}return n[4]=n[1],n[8]=n[2],n[12]=n[3],n[9]=n[6],n[13]=n[7],n[14]=n[11],{R:n,m:i,N:s}},e.quantize.estats=function(t){var r=t.R,n=t.m,i=t.N,s=n[0],a=n[1],o=n[2],c=n[3],u=0==i?0:1/i,l=[r[0]-s*s*u,r[1]-s*a*u,r[2]-s*o*u,r[3]-s*c*u,r[4]-a*s*u,r[5]-a*a*u,r[6]-a*o*u,r[7]-a*c*u,r[8]-o*s*u,r[9]-o*a*u,r[10]-o*o*u,r[11]-o*c*u,r[12]-c*s*u,r[13]-c*a*u,r[14]-c*o*u,r[15]-c*c*u],h=l,f=e.M4,d=[.5,.5,.5,.5],p=0,g=0;if(0!=i)for(var m=0;m<10&&(d=f.multVec(h,d),g=Math.sqrt(f.dot(d,d)),d=f.sml(1/g,d),!(Math.abs(g-p)<1e-9));m++)p=g;var y=[s*u,a*u,o*u,c*u],b=f.dot(f.sml(255,y),d),w=y[3]<.001?0:1/y[3];return{Cov:l,q:y,e:d,L:p,eMq255:b,eMq:f.dot(d,y),rgba:(Math.round(255*y[3])<<24|Math.round(255*y[2]*w)<<16|Math.round(255*y[1]*w)<<8|Math.round(255*y[0]*w))>>>0}},e.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},e.encode.alphaMul=function(e,t){for(var r=new Uint8Array(e.length),n=e.length>>2,i=0;i<n;i++){var s=i<<2,a=e[s+3];t&&(a=a<128?0:255);var o=a*(1/255);r[s+0]=e[s+0]*o,r[s+1]=e[s+1]*o,r[s+2]=e[s+2]*o,r[s+3]=a}return r}}(n,r(8398))},7083(e){"use strict";const{AbortController:t,AbortSignal:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},323(e){"use strict";function t(e,t){if(!Array.isArray(t))return e.slice();for(var r=t.length,n=e.length,i=-1,s=[];++i<n;){for(var a=e[i],o=!1,c=0;c<r;c++)if(a===t[c]){o=!0;break}!1===o&&s.push(a)}return s}e.exports=function(e){for(var r=arguments.length,n=0;++n<r;)e=t(e,arguments[n]);return e}},5123(e){"use strict";e.exports=function(e){if(!Array.isArray(e))throw new TypeError("arr-union expects the first argument to be an array.");for(var t=arguments.length,r=0;++r<t;){var n=arguments[r];if(n){Array.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var s=n[i];e.indexOf(s)>=0||e.push(s)}}}return e}},785(e){"use strict";e.exports=function(e){if(!Array.isArray(e))throw new TypeError("array-unique expects an array.");for(var t=e.length,r=-1;r++<t;)for(var n=r+1;n<e.length;++n)e[r]===e[n]&&e.splice(n--,1);return e},e.exports.immutable=function(t){if(!Array.isArray(t))throw new TypeError("array-unique expects an array.");for(var r=t.length,n=new Array(r),i=0;i<r;i++)n[i]=t[i];return e.exports(n)}},2267(e,t,r){var n=t;n.bignum=r(2823),n.define=r(424).define,n.base=r(1284),n.constants=r(4962),n.decoders=r(8720),n.encoders=r(7912)},424(e,t,r){var n=r(2267),i=r(5615);function s(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new s(e,t)},s.prototype._createNamed=function(e){var t;try{t=r(113).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},s.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},s.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},s.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},s.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},9428(e,t,r){var n=r(5615),i=r(1284).Reporter,s=r(1048).Buffer;function a(e,t){i.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function o(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof o||(e=new o(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(a,i),t.t=a,a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new a(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.d=o,o.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},1284(e,t,r){var n=t;n.Reporter=r(9963).a,n.DecoderBuffer=r(9428).t,n.EncoderBuffer=r(9428).d,n.Node=r(7410)},7410(e,t,r){var n=r(1284).Reporter,i=r(1284).EncoderBuffer,s=r(1284).DecoderBuffer,a=r(7784),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function u(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=u;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var e=this._baseState,t={};l.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},u.prototype._wrap=function(){var e=this._baseState;c.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},u.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(a(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r}),t}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){u.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),o.forEach(function(e){u.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(r),this}}),u.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},u.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},u.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},u.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},u.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},u.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},u.prototype._decode=function(e,t){var r=this._baseState;if(null===r.parent)return e.wrapResult(r.children[0]._decode(e,t));var n,i=r.default,a=!0,o=null;if(null!==r.key&&(o=e.enterKey(r.key)),r.optional){var c=null;if(null!==r.explicit?c=r.explicit:null!==r.implicit?c=r.implicit:null!==r.tag&&(c=r.tag),null!==c||r.any){if(a=this._peekTag(e,c,r.any),e.isError(a))return a}else{var u=e.save();try{null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(u)}}if(r.obj&&a&&(n=e.enterObject()),a){if(null!==r.explicit){var l=this._decodeTag(e,r.explicit);if(e.isError(l))return l;e=l}var h=e.offset;if(null===r.use&&null===r.choice){r.any&&(u=e.save());var f=this._decodeTag(e,null!==r.implicit?r.implicit:r.tag,r.any);if(e.isError(f))return f;r.any?i=e.raw(u):e=f}if(t&&t.track&&null!==r.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==r.tag&&t.track(e.path(),e.offset,e.length,"content"),r.any||(i=null===r.choice?this._decodeGeneric(r.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(r.any||null!==r.choice||null===r.children||r.children.forEach(function(r){r._decode(e,t)}),r.contains&&("octstr"===r.tag||"bitstr"===r.tag)){var d=new s(i);i=this._getUse(r.contains,e._reporterState.obj)._decode(d,t)}}return r.obj&&a&&(i=e.leaveObject(n)),null===r.key||null===i&&!0!==a?null!==o&&e.exitKey(o):e.leaveKey(o,r.key,i),i},u.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},u.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),a(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},u.prototype._decodeChoice=function(e,t){var r=this._baseState,n=null,i=!1;return Object.keys(r.choice).some(function(s){var a=e.save(),o=r.choice[s];try{var c=o._decode(e,t);if(e.isError(c))return!1;n={type:s,value:c},i=!0}catch(t){return e.restore(a),!1}return!0},this),i?n:e.error("Choice not matched")},u.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},u.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},u.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var s=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,o=!1;if(i.any)s=this._createEncoderBuffer(e);else if(i.choice)s=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,r)._encode(e,t),o=!0;else if(i.children)a=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)},c))}else null!==i.use?s=this._getUse(i.use,r)._encode(e,t):(a=this._encodePrimitive(i.tag,e),o=!0);if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===u?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(s=this._encodeComposite(u,o,l,a))}return null!==i.explicit&&(s=this._encodeComposite(i.explicit,!1,"context",s)),s},u.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},u.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},u.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},u.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},9963(e,t,r){var n=r(5615);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function s(e,t){this.path=e,this.rethrow(t)}t.a=i,i.prototype.isError=function(e){return e instanceof s},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},i.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof s;if(t=n?e:new s(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(s,Error),s.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,s),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},6457(e,t,r){var n=r(4962);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=n._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=n._reverse(t.tag)},4962(e,t,r){var n=t;n._reverse=function(e){var t={};return Object.keys(e).forEach(function(r){(0|r)==r&&(r|=0);var n=e[r];t[n]=r}),t},n.der=r(6457)},3975(e,t,r){var n=r(5615),i=r(2267),s=i.base,a=i.bignum,o=i.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.Node.call(this,"der",e)}function l(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=o.tagClass[r>>6],i=!(32&r);if(31&~r)r&=31;else{var s=r;for(r=0;!(128&~s);){if(s=e.readUInt8(t),e.isError(s))return s;r<<=7,r|=127&s}}return{cls:n,primitive:i,tag:r,tagStr:o.tag[r]}}function h(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(!(128&n))return n;var i=127&n;if(i>4)return e.error("length octect is too long");n=0;for(var s=0;s<i;s++){n<<=8;var a=e.readUInt8(r);if(e.isError(a))return a;n|=a}return n}e.exports=c,c.prototype.decode=function(e,t){return e instanceof s.DecoderBuffer||(e=new s.DecoderBuffer(e,t)),this.tree._decode(e,t)},n(u,s.Node),u.prototype._peekTag=function(e,t,r){if(e.isEmpty())return!1;var n=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r)},u.prototype._decodeTag=function(e,t,r){var n=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var i=h(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var s=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-s.offset,e.restore(s),e.skip(i,'Failed to match body of: "'+t+'"'))},u.prototype._skipUntilEnd=function(e,t){for(;;){var r=l(e,t);if(e.isError(r))return r;var n,i=h(e,r.primitive,t);if(e.isError(i))return i;if(n=r.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(n))return n;if("end"===r.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){for(var i=[];!e.isEmpty();){var s=this._peekTag(e,"end");if(e.isError(s))return s;var a=r.decode(e,"der",n);if(e.isError(a)&&s)break;i.push(a)}return i},u.prototype._decodeStr=function(e,t){if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",s=0;s<n.length/2;s++)i+=String.fromCharCode(n.readUInt16BE(2*s));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var o=e.raw().toString("ascii");return this._isPrintstr(o)?o:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},u.prototype._decodeObjid=function(e,t,r){for(var n,i=[],s=0;!e.isEmpty();){var a=e.readUInt8();s<<=7,s|=127&a,128&a||(i.push(s),s=0)}128&a&&i.push(s);var o=i[0]/40|0,c=i[0]%40;if(n=r?i:[o,c].concat(i.slice(1)),t){var u=t[n.join(" ")];void 0===u&&(u=t[n.join(".")]),void 0!==u&&(n=u)}return n},u.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),o=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),s=0|r.slice(4,6),a=0|r.slice(6,8),o=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,s,a,o,c,0)},u.prototype._decodeNull=function(e){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){var r=e.raw(),n=new a(r);return t&&(n=t[n.toString(10)]||n),n},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},8720(e,t,r){var n=t;n.der=r(3975),n.pem=r(3850)},3850(e,t,r){var n=r(5615),i=r(1048).Buffer,s=r(3975);function a(e){s.call(this,e),this.enc="pem"}n(a,s),e.exports=a,a.prototype.decode=function(e,t){for(var r=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,o=-1,c=-1,u=0;u<r.length;u++){var l=r[u].match(a);if(null!==l&&l[2]===n){if(-1!==o){if("END"!==l[1])break;c=u;break}if("BEGIN"!==l[1])break;o=u}}if(-1===o||-1===c)throw new Error("PEM section not found for: "+n);var h=r.slice(o+1,c).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var f=new i(h,"base64");return s.prototype.decode.call(this,f,t)}},5775(e,t,r){var n=r(5615),i=r(1048).Buffer,s=r(2267),a=s.base,o=s.constants.der;function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){a.Node.call(this,"der",e)}function l(e){return e<10?"0"+e:e}e.exports=c,c.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(u,a.Node),u.prototype._encodeComposite=function(e,t,r,n){var s,a=function(e,t,r,n){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),o.tagByName.hasOwnProperty(e))i=o.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=o.tagClassByName[r||"universal"]<<6)}(e,t,r,this.reporter);if(n.length<128)return(s=new i(2))[0]=a,s[1]=n.length,this._createEncoderBuffer([s,n]);for(var c=1,u=n.length;u>=256;u>>=8)c++;(s=new i(2+c))[0]=a,s[1]=128|c,u=1+c;for(var l=n.length;l>0;u--,l>>=8)s[u]=255&l;return this._createEncoderBuffer([s,n])},u.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var r=new i(2*e.length),n=0;n<e.length;n++)r.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(r)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},u.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e))for(e=e.slice(),n=0;n<e.length;n++)e[n]|=0;if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var s=0;for(n=0;n<e.length;n++){var a=e[n];for(s++;a>=128;a>>=7)s++}var o=new i(s),c=o.length-1;for(n=e.length-1;n>=0;n--)for(a=e[n],o[c--]=127&a;(a>>=7)>0;)o[c--]=128|127&a;return this._createEncoderBuffer(o)},u.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[l(n.getFullYear()),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[l(n.getFullYear()%100),l(n.getUTCMonth()+1),l(n.getUTCDate()),l(n.getUTCHours()),l(n.getUTCMinutes()),l(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){var r=e.toArray();!e.sign&&128&r[0]&&r.unshift(0),e=new i(r)}if(i.isBuffer(e)){var n=e.length;0===e.length&&n++;var s=new i(n);return e.copy(s),0===e.length&&(s[0]=0),this._createEncoderBuffer(s)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);n=1;for(var a=e;a>=256;a>>=8)n++;for(a=(s=new Array(n)).length-1;a>=0;a--)s[a]=255&e,e>>=8;return 128&s[0]&&s.unshift(0),this._createEncoderBuffer(new i(s))},u.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},u.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},u.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i.default)return!1;var s=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,r).join()),s.length!==i.defaultBuffer.length)return!1;for(n=0;n<s.length;n++)if(s[n]!==i.defaultBuffer[n])return!1;return!0}},7912(e,t,r){var n=t;n.der=r(5775),n.pem=r(8962)},8962(e,t,r){var n=r(5615),i=r(5775);function s(e){i.call(this,e),this.enc="pem"}n(s,i),e.exports=s,s.prototype.encode=function(e,t){for(var r=i.prototype.encode.call(this,e).toString("base64"),n=["-----BEGIN "+t.label+"-----"],s=0;s<r.length;s+=64)n.push(r.slice(s,s+64));return n.push("-----END "+t.label+"-----"),n.join("\n")}},1483(e){"use strict";e.exports=function(e,t){if(null==e)throw new TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol)return e;if("function"!=typeof Object.getOwnPropertySymbols)return e;for(var r=Object.prototype.propertyIsEnumerable,n=Object(e),i=arguments.length,s=0;++s<i;)for(var a=Object(arguments[s]),o=Object.getOwnPropertySymbols(a),c=0;c<o.length;c++){var u=o[c];r.call(a,u)&&(n[u]=a[u])}return n}},7599(e,t,r){"use strict";var n=r(9208),i=r(5677),s=r(450),a=r(8106),o=r(9537),c=r(8636),u=r(6458),l=r(5558);function h(e){var t=e?s.namespace(e):s,r=[];function h(e,r){if(!(this instanceof h))return new h(e,r);t.call(this,e),this.is("base"),this.initBase(e,r)}return n.inherits(h,t),a(h),h.prototype.initBase=function(t,n){this.options=c({},this.options,n),this.cache=this.cache||{},this.define("registered",{}),e&&(this[e]={}),this.define("_callbacks",this._callbacks),o(t)&&this.visit("set",t),h.run(this,"use",r)},h.prototype.is=function(e){if("string"!=typeof e)throw new TypeError("expected name to be a string");return this.define("is"+u(e),!0),this.define("_name",e),this.define("_appname",e),this},h.prototype.isRegistered=function(e,t){return!!this.registered.hasOwnProperty(e)||(!1!==t&&(this.registered[e]=!0,this.emit("plugin",e)),!1)},h.prototype.use=function(e){return e.call(this,this),this},h.prototype.define=function(e,t){return o(e)?this.visit("define",e):(i(this,e,t),this)},h.prototype.mixin=function(e,t){return h.prototype[e]=t,this},h.prototype.mixins=h.prototype.mixins||[],Object.defineProperty(h.prototype,"base",{configurable:!0,get:function(){return this.parent?this.parent.base:this}}),i(h,"use",function(e){return r.push(e),h}),i(h,"run",function(e,t,r){for(var n=r.length,i=0;n--;)e[t](r[i++]);return h}),i(h,"extend",l.extend(h,function(e,t){return e.prototype.mixins=e.prototype.mixins||[],i(e,"mixin",function(t){var r=t(e.prototype,e);return"function"==typeof r&&e.prototype.mixins.push(r),e}),i(e,"mixins",function(t){return h.run(t,"mixin",e.prototype.mixins),e}),e.prototype.mixin=function(t,r){return e.prototype[t]=r,this},h})),i(h,"mixin",function(e){var t=e(h.prototype,h);return"function"==typeof t&&h.prototype.mixins.push(t),h}),i(h,"mixins",function(e){return h.run(e,"mixin",h.prototype.mixins),h}),i(h,"inherit",l.inherit),i(h,"bubble",l.bubble),h}e.exports=h(),e.exports.namespace=h},7991(e,t){"use strict";t.byteLength=function(e){var t=o(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,s=o(e),a=s[0],c=s[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,c)),l=0,h=c>0?a-4:a;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,s=[],a=16383,o=0,c=n-i;o<c;o+=a)s.push(u(e,o,o+a>c?c:o+a));return 1===i?(t=e[n-1],s.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],s.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=s[a],n[s.charCodeAt(a)]=a;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function u(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(c(n));return i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},2823(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(8379).Buffer}catch(e){}function o(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=o(e,r);return r-1>=t&&(n|=o(e,r-1)<<4),n}function u(e,t,r,i){for(var s=0,a=0,o=Math.min(e.length,r),c=t;c<o;c++){var u=e.charCodeAt(c)-48;s*=i,a=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&a<i,"Invalid character"),s+=a}return s}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,a,o=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,a=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<s,this.words[a]|=67108863&i,s>=18?(s-=18,a+=1,this.words[a]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,a=s%n,o=Math.min(s,s-a)+r,c=0,l=r;l<o;l+=n)c=u(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){l(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(e){s.prototype.inspect=h}else s.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],a=i*s,o=67108863&a,c=a/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var l=c>>>26,h=67108863&c,f=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=f;d++){var p=u-d|0;l+=(a=(i=0|e.words[p])*(s=0|t.words[d])+h)/67108864|0,h=67108863&a}r.words[u]=0|h,c=0|l}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,a=0;a<this.length;a++){var o=this.words[a],c=(16777215&(o<<i|s)).toString(16);s=o>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==s||a!==this.length-1?f[6-c.length]+c+r:c+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=d[e],l=p[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var g=h.modrn(l).toString(e);r=(h=h.idivn(l)).isZero()?g+r:f[u-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},s.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|n;e[r++]=255&a,r<e.length&&(e[r++]=a>>8&255),r<e.length&&(e[r++]=a>>16&255),6===s?(r<e.length&&(e[r++]=a>>24&255),n=0,s=0):(n=a>>>24,s+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,s=0;i<this.length;i++){var a=this.words[i]<<s|n;e[r--]=255&a,r>=0&&(e[r--]=a>>8&255),r>=0&&(e[r--]=a>>16&255),6===s?(r>=0&&(e[r--]=a>>24&255),n=0,s=0):(n=a>>>24,s+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 8191&t||(r+=13,t>>>=13),127&t||(r+=7,t>>>=7),15&t||(r+=4,t>>>=4),3&t||(r+=2,t>>>=2),1&t||r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,a=0;a<n.length;a++)s=(t=(0|r.words[a])-(0|n.words[a])+s)>>26,this.words[a]=67108863&t;for(;0!==s&&a<r.length;a++)s=(t=(0|r.words[a])+s)>>26,this.words[a]=67108863&t;if(0===s&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,s,a=e.words,o=t.words,c=r.words,u=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,g=d>>>13,m=0|a[2],y=8191&m,b=m>>>13,w=0|a[3],v=8191&w,S=w>>>13,E=0|a[4],_=8191&E,I=E>>>13,x=0|a[5],A=8191&x,k=x>>>13,T=0|a[6],M=8191&T,C=T>>>13,R=0|a[7],D=8191&R,O=R>>>13,F=0|a[8],P=8191&F,N=F>>>13,B=0|a[9],L=8191&B,U=B>>>13,V=0|o[0],j=8191&V,z=V>>>13,$=0|o[1],q=8191&$,G=$>>>13,W=0|o[2],H=8191&W,X=W>>>13,Y=0|o[3],K=8191&Y,Z=Y>>>13,J=0|o[4],Q=8191&J,ee=J>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ie=0|o[6],se=8191&ie,ae=ie>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,le=0|o[8],he=8191&le,fe=le>>>13,de=0|o[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(u+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,j)|0))<<13)|0;u=((s=Math.imul(f,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var ye=(u+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(f,q)|0))<<13)|0;u=((s=s+Math.imul(f,G)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,z))+Math.imul(b,j)|0,s=Math.imul(b,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,q)|0,s=s+Math.imul(g,G)|0;var be=(u+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(f,H)|0))<<13)|0;u=((s=s+Math.imul(f,X)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,j),i=(i=Math.imul(v,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(y,q)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(b,q)|0,s=s+Math.imul(b,G)|0,n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,H)|0,s=s+Math.imul(g,X)|0;var we=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,K)|0))<<13)|0;u=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(I,j)|0,s=Math.imul(I,z),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,G)|0,n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,H)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(g,K)|0,s=s+Math.imul(g,Z)|0;var ve=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Q)|0))<<13)|0;u=((s=s+Math.imul(f,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(A,j),i=(i=Math.imul(A,z))+Math.imul(k,j)|0,s=Math.imul(k,z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,G)|0,n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(S,H)|0,s=s+Math.imul(S,X)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,s=s+Math.imul(g,ee)|0;var Se=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;u=((s=s+Math.imul(f,ne)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,z))+Math.imul(C,j)|0,s=Math.imul(C,z),n=n+Math.imul(A,q)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(k,q)|0,s=s+Math.imul(k,G)|0,n=n+Math.imul(_,H)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(I,H)|0,s=s+Math.imul(I,X)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(S,K)|0,s=s+Math.imul(S,Z)|0,n=n+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,s=s+Math.imul(g,ne)|0;var Ee=(u+(n=n+Math.imul(h,se)|0)|0)+((8191&(i=(i=i+Math.imul(h,ae)|0)+Math.imul(f,se)|0))<<13)|0;u=((s=s+Math.imul(f,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(M,q)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(C,q)|0,s=s+Math.imul(C,G)|0,n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(k,H)|0,s=s+Math.imul(k,X)|0,n=n+Math.imul(_,K)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(p,se)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(g,se)|0,s=s+Math.imul(g,ae)|0;var _e=(u+(n=n+Math.imul(h,ce)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(f,ce)|0))<<13)|0;u=((s=s+Math.imul(f,ue)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(D,q)|0,i=(i=i+Math.imul(D,G)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,G)|0,n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(C,H)|0,s=s+Math.imul(C,X)|0,n=n+Math.imul(A,K)|0,i=(i=i+Math.imul(A,Z)|0)+Math.imul(k,K)|0,s=s+Math.imul(k,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(S,re)|0,s=s+Math.imul(S,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,ae)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,ae)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(g,ce)|0,s=s+Math.imul(g,ue)|0;var Ie=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;u=((s=s+Math.imul(f,fe)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(P,q)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,G)|0,n=n+Math.imul(D,H)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(O,H)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(C,K)|0,s=s+Math.imul(C,Z)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(k,Q)|0,s=s+Math.imul(k,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(I,re)|0,s=s+Math.imul(I,ne)|0,n=n+Math.imul(v,se)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,ae)|0,n=n+Math.imul(y,ce)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(b,ce)|0,s=s+Math.imul(b,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(g,he)|0,s=s+Math.imul(g,fe)|0;var xe=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ge)|0)+Math.imul(f,pe)|0))<<13)|0;u=((s=s+Math.imul(f,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,G))+Math.imul(U,q)|0,s=Math.imul(U,G),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(N,H)|0,s=s+Math.imul(N,X)|0,n=n+Math.imul(D,K)|0,i=(i=i+Math.imul(D,Z)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(C,Q)|0,s=s+Math.imul(C,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(k,re)|0,s=s+Math.imul(k,ne)|0,n=n+Math.imul(_,se)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(I,se)|0,s=s+Math.imul(I,ae)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(S,ce)|0,s=s+Math.imul(S,ue)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(b,he)|0,s=s+Math.imul(b,fe)|0;var Ae=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;u=((s=s+Math.imul(g,ge)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,H),i=(i=Math.imul(L,X))+Math.imul(U,H)|0,s=Math.imul(U,X),n=n+Math.imul(P,K)|0,i=(i=i+Math.imul(P,Z)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(C,re)|0,s=s+Math.imul(C,ne)|0,n=n+Math.imul(A,se)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(k,se)|0,s=s+Math.imul(k,ae)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(I,ce)|0,s=s+Math.imul(I,ue)|0,n=n+Math.imul(v,he)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(S,he)|0,s=s+Math.imul(S,fe)|0;var ke=(u+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(b,pe)|0))<<13)|0;u=((s=s+Math.imul(b,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,Z))+Math.imul(U,K)|0,s=Math.imul(U,Z),n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,ee)|0,n=n+Math.imul(D,re)|0,i=(i=i+Math.imul(D,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(M,se)|0,i=(i=i+Math.imul(M,ae)|0)+Math.imul(C,se)|0,s=s+Math.imul(C,ae)|0,n=n+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(k,ce)|0,s=s+Math.imul(k,ue)|0,n=n+Math.imul(_,he)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(I,he)|0,s=s+Math.imul(I,fe)|0;var Te=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ge)|0)+Math.imul(S,pe)|0))<<13)|0;u=((s=s+Math.imul(S,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,ee))+Math.imul(U,Q)|0,s=Math.imul(U,ee),n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(N,re)|0,s=s+Math.imul(N,ne)|0,n=n+Math.imul(D,se)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,ae)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(C,ce)|0,s=s+Math.imul(C,ue)|0,n=n+Math.imul(A,he)|0,i=(i=i+Math.imul(A,fe)|0)+Math.imul(k,he)|0,s=s+Math.imul(k,fe)|0;var Me=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ge)|0)+Math.imul(I,pe)|0))<<13)|0;u=((s=s+Math.imul(I,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(U,re)|0,s=Math.imul(U,ne),n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(N,se)|0,s=s+Math.imul(N,ae)|0,n=n+Math.imul(D,ce)|0,i=(i=i+Math.imul(D,ue)|0)+Math.imul(O,ce)|0,s=s+Math.imul(O,ue)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,fe)|0)+Math.imul(C,he)|0,s=s+Math.imul(C,fe)|0;var Ce=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ge)|0)+Math.imul(k,pe)|0))<<13)|0;u=((s=s+Math.imul(k,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,se),i=(i=Math.imul(L,ae))+Math.imul(U,se)|0,s=Math.imul(U,ae),n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(N,ce)|0,s=s+Math.imul(N,ue)|0,n=n+Math.imul(D,he)|0,i=(i=i+Math.imul(D,fe)|0)+Math.imul(O,he)|0,s=s+Math.imul(O,fe)|0;var Re=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(C,pe)|0))<<13)|0;u=((s=s+Math.imul(C,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,ce),i=(i=Math.imul(L,ue))+Math.imul(U,ce)|0,s=Math.imul(U,ue),n=n+Math.imul(P,he)|0,i=(i=i+Math.imul(P,fe)|0)+Math.imul(N,he)|0,s=s+Math.imul(N,fe)|0;var De=(u+(n=n+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ge)|0)+Math.imul(O,pe)|0))<<13)|0;u=((s=s+Math.imul(O,ge)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(L,he),i=(i=Math.imul(L,fe))+Math.imul(U,he)|0,s=Math.imul(U,fe);var Oe=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ge)|0)+Math.imul(N,pe)|0))<<13)|0;u=((s=s+Math.imul(N,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Fe=(u+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,ge))+Math.imul(U,pe)|0))<<13)|0;return u=((s=Math.imul(U,ge))+(i>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,c[0]=me,c[1]=ye,c[2]=be,c[3]=we,c[4]=ve,c[5]=Se,c[6]=Ee,c[7]=_e,c[8]=Ie,c[9]=xe,c[10]=Ae,c[11]=ke,c[12]=Te,c[13]=Me,c[14]=Ce,c[15]=Re,c[16]=De,c[17]=Oe,c[18]=Fe,0!==u&&(c[19]=u,r.length++),r};function y(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var a=i;i=0;for(var o=67108863&n,c=Math.min(s,t.length-1),u=Math.max(0,s-e.length+1);u<=c;u++){var l=s-u,h=(0|e.words[l])*(0|t.words[u]),f=67108863&h;o=67108863&(f=f+o|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[s]=o,n=a,a=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function b(e,t,r){return y(e,t,r)}function w(e,t){this.x=e,this.y=t}Math.imul||(m=g),s.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):r<63?g(this,e,t):r<1024?y(this,e,t):b(this,e,t)},w.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},w.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},w.prototype.permute=function(e,t,r,n,i,s){for(var a=0;a<s;a++)n[a]=t[e[a]],i[a]=r[e[a]]},w.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var a=1;a<i;a<<=1)for(var o=a<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),l=0;l<i;l+=o)for(var h=c,f=u,d=0;d<a;d++){var p=r[l+d],g=n[l+d],m=r[l+d+a],y=n[l+d+a],b=h*m-f*y;y=h*y+f*m,m=b,r[l+d]=p+m,n[l+d]=g+y,r[l+d+a]=p-m,n[l+d+a]=g-y,d!==o&&(b=c*h-u*f,f=c*f+u*h,h=b)}},w.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},w.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},w.prototype.convert13b=function(e,t,r,i){for(var s=0,a=0;a<t;a++)s+=0|e[a],r[2*a]=8191&s,s>>>=13,r[2*a+1]=8191&s,s>>>=13;for(a=2*t;a<i;++a)r[a]=0;n(0===s),n(!(-8192&s))},w.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},w.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),a=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,a,n),this.convert13b(t.words,t.length,u,n),this.transform(a,s,o,c,n,i),this.transform(u,s,l,h,n,i);for(var d=0;d<n;d++){var p=o[d]*l[d]-c[d]*h[d];c[d]=o[d]*h[d]+c[d]*l[d],o[d]=p}return this.conjugate(o,c,n),this.transform(o,c,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),b(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,a=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&s,c=(0|this.words[t])-o<<r;this.words[t]=c|a,a=o>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,a=Math.min((e-s)/26,this.length),o=67108863^67108863>>>s<<s,c=r;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var h=0|this.words[u];this.words[u]=l<<26-s|h>>>s,l=h&o}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,a=e.length+r;this._expand(a);var o=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+o;var c=(0|e.words[i])*t;o=((s-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)o=(s=(0|this.words[i+r])+o)>>26,this.words[i+r]=67108863&s;if(0===o)return this._strip();for(n(-1===o),o=0,i=0;i<this.length;i++)o=(s=-(0|this.words[i])+o)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,a=0|i.words[i.length-1];0!=(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var o,c=n.length-i.length;if("mod"!==t){(o=new s(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var l=n.clone()._ishlnsubmul(i,1,c);0===l.negative&&(n=l,o&&(o.words[c]=1));for(var h=c-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);o&&(o.words[h]=f)}return o&&o._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),a=new s(0),o=new s(0),c=new s(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0===(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,g=1;0===(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(l),c.isub(h)),o.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(c)):(r.isub(t),o.isub(i),c.isub(a))}return{a:o,b:c,gcd:r.iushln(u)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new s(1),o=new s(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,l=1;0===(t.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(t.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var h=0,f=1;0===(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,a=r;0!==s&&a<this.length;a++){var o=0|this.words[a];s=(o+=s)>>>26,o&=67108863,this.words[a]=o}return 0!==s&&(this.words[a]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new A(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function S(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function I(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},S.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},S.prototype.split=function(e,t){e.iushrn(this.n,0,t)},S.prototype.imulK=function(e){return e.imul(this.k)},i(E,S),E.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&r)<<4|s>>>22,s=a}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},E.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,S),i(I,S),i(x,S),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new E;else if("p224"===e)t=new _;else if("p192"===e)t=new I;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new s(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new s(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=a;0!==d.cmp(o);){for(var g=d,m=0;0!==g.cmp(o);m++)g=g.redSqr();n(m<p);var y=this.pow(h,new s(1).iushln(p-m-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=m}return f},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],a=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],l=c-1;l>=0;l--){var h=u>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++o||0===n&&0===l)&&(i=this.mul(i,r[a]),o=0,a=0)):o=0}c=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new k(e)},i(k,A),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},7048(e,t,r){var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(3553);if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return s.randomBytes(e)}}catch(e){}},921(e,t,r){var n=r(5636).Buffer;function i(e){n.isBuffer(e)||(e=n.from(e));for(var t=e.length/4|0,r=new Array(t),i=0;i<t;i++)r[i]=e.readUInt32BE(4*i);return r}function s(e){for(;0<e.length;e++)e[0]=0}function a(e,t,r,n,i){for(var s,a,o,c,u=r[0],l=r[1],h=r[2],f=r[3],d=e[0]^t[0],p=e[1]^t[1],g=e[2]^t[2],m=e[3]^t[3],y=4,b=1;b<i;b++)s=u[d>>>24]^l[p>>>16&255]^h[g>>>8&255]^f[255&m]^t[y++],a=u[p>>>24]^l[g>>>16&255]^h[m>>>8&255]^f[255&d]^t[y++],o=u[g>>>24]^l[m>>>16&255]^h[d>>>8&255]^f[255&p]^t[y++],c=u[m>>>24]^l[d>>>16&255]^h[p>>>8&255]^f[255&g]^t[y++],d=s,p=a,g=o,m=c;return s=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[g>>>8&255]<<8|n[255&m])^t[y++],a=(n[p>>>24]<<24|n[g>>>16&255]<<16|n[m>>>8&255]<<8|n[255&d])^t[y++],o=(n[g>>>24]<<24|n[m>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^t[y++],c=(n[m>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&g])^t[y++],[s>>>=0,a>>>=0,o>>>=0,c>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],s=[[],[],[],[]],a=0,o=0,c=0;c<256;++c){var u=o^o<<1^o<<2^o<<3^o<<4;u=u>>>8^255&u^99,r[a]=u,n[u]=a;var l=e[a],h=e[l],f=e[h],d=257*e[u]^16843008*u;i[0][a]=d<<24|d>>>8,i[1][a]=d<<16|d>>>16,i[2][a]=d<<8|d>>>24,i[3][a]=d,d=16843009*f^65537*h^257*l^16843008*a,s[0][u]=d<<24|d>>>8,s[1][u]=d<<16|d>>>16,s[2][u]=d<<8|d>>>24,s[3][u]=d,0===a?a=o=1:(a=l^e[e[e[f^l]]],o^=e[e[o]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:s}}();function u(e){this._key=i(e),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],s=0;s<t;s++)i[s]=e[s];for(s=t;s<n;s++){var a=i[s-1];s%t===0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=o[s/t|0]<<24):t>6&&s%t===4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),i[s]=i[s-t]^a}for(var u=[],l=0;l<n;l++){var h=n-l,f=i[h-(l%4?0:4)];u[l]=l<4||h<=4?f:c.INV_SUB_MIX[0][c.SBOX[f>>>24]]^c.INV_SUB_MIX[1][c.SBOX[f>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[f>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&f]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=n.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r},u.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var r=a(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),s=n.allocUnsafe(16);return s.writeUInt32BE(r[0],0),s.writeUInt32BE(r[3],4),s.writeUInt32BE(r[2],8),s.writeUInt32BE(r[1],12),s},u.prototype.scrub=function(){s(this._keySchedule),s(this._invKeySchedule),s(this._key)},e.exports.AES=u},4029(e,t,r){var n=r(921),i=r(5636).Buffer,s=r(7589),a=r(5615),o=r(4803),c=r(2444),u=r(2379);function l(e,t,r,a){s.call(this);var c=i.alloc(4,0);this._cipher=new n.AES(t);var l=this._cipher.encryptBlock(c);this._ghash=new o(l),r=function(e,t,r){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var n=new o(r),s=t.length,a=s%16;n.update(t),a&&(a=16-a,n.update(i.alloc(a,0))),n.update(i.alloc(8,0));var c=8*s,l=i.alloc(8);l.writeUIntBE(c,0,8),n.update(l),e._finID=n.state;var h=i.from(e._finID);return u(h),h}(this,r,l),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(l,s),l.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},l.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=l},178(e,t,r){var n=r(692),i=r(2096),s=r(6);t.createCipher=t.Cipher=n.createCipher,t.createCipheriv=t.Cipheriv=n.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(s)}},2096(e,t,r){var n=r(4029),i=r(5636).Buffer,s=r(8197),a=r(7695),o=r(7589),c=r(921),u=r(8981);function l(e,t,r){o.call(this),this._cache=new h,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function h(){this.cache=i.allocUnsafe(0)}function f(e,t,r){var o=s[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==o.mode&&r.length!==o.iv)throw new TypeError("invalid iv length "+r.length);if("string"==typeof t&&(t=i.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===o.type?new a(o.module,t,r,!0):"auth"===o.type?new n(o.module,t,r,!0):new l(o.module,t,r)}r(5615)(l,o),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=i.concat([this.cache,e])},h.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=s[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,!1,r.key,r.iv);return f(e,n.key,n.iv)},t.createDecipheriv=f},692(e,t,r){var n=r(8197),i=r(4029),s=r(5636).Buffer,a=r(7695),o=r(7589),c=r(921),u=r(8981);function l(e,t,r){o.call(this),this._cache=new f,this._cipher=new c.AES(t),this._prev=s.from(r),this._mode=e,this._autopadding=!0}r(5615)(l,o),l.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return s.concat(n)};var h=s.alloc(16,16);function f(){this.cache=s.allocUnsafe(0)}function d(e,t,r){var o=n[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=s.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=s.from(r)),"GCM"!==o.mode&&r.length!==o.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===o.type?new a(o.module,t,r):"auth"===o.type?new i(o.module,t,r):new l(o.module,t,r)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=s.concat([this.cache,e])},f.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},f.prototype.flush=function(){for(var e=16-this.cache.length,t=s.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return s.concat([this.cache,t])},t.createCipheriv=d,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var i=u(t,!1,r.key,r.iv);return d(e,i.key,i.iv)}},4803(e,t,r){var n=r(5636).Buffer,i=n.alloc(16,0);function s(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(!!(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=!!(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=s(i)},a.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(s([0,e,0,t])),this.state},e.exports=a},2379(e){e.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},5923(e,t,r){var n=r(2444);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},2840(e,t,r){var n=r(5636).Buffer,i=r(2444);function s(e,t,r){var s=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(s),e._prev=n.concat([e._prev,r?t:a]),a}t.encrypt=function(e,t,r){for(var i,a=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){a=n.concat([a,s(e,t,r)]);break}i=e._cache.length,a=n.concat([a,s(e,t.slice(0,i),r)]),t=t.slice(i)}return a}},3081(e,t,r){var n=r(5636).Buffer;function i(e,t,r){for(var n,i,a=-1,o=0;++a<8;)n=t&1<<7-a?128:0,o+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>a%8,e._prev=s(e._prev,r?n:i);return o}function s(e,t){var r=e.length,i=-1,s=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)s[i]=e[i]<<1|e[i+1]>>7;return s}t.encrypt=function(e,t,r){for(var s=t.length,a=n.allocUnsafe(s),o=-1;++o<s;)a[o]=i(e,t[o],r);return a}},3250(e,t,r){var n=r(5636).Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}t.encrypt=function(e,t,r){for(var s=t.length,a=n.allocUnsafe(s),o=-1;++o<s;)a[o]=i(e,t[o],r);return a}},7306(e,t,r){var n=r(2444),i=r(5636).Buffer,s=r(2379);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return s(e._prev),t}t.encrypt=function(e,t){var r=Math.ceil(t.length/16),s=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*r)]);for(var o=0;o<r;o++){var c=a(e),u=s+16*o;e._cache.writeUInt32BE(c[0],u+0),e._cache.writeUInt32BE(c[1],u+4),e._cache.writeUInt32BE(c[2],u+8),e._cache.writeUInt32BE(c[3],u+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,l)}},7347(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},8197(e,t,r){var n={ECB:r(7347),CBC:r(5923),CFB:r(2840),CFB8:r(3250),CFB1:r(3081),OFB:r(3228),CTR:r(7306),GCM:r(7306)},i=r(6);for(var s in i)i[s].module=n[i[s].mode];e.exports=i},3228(e,t,r){var n=r(1048).Buffer,i=r(2444);function s(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=n.concat([e._cache,s(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,r)}},7695(e,t,r){var n=r(921),i=r(5636).Buffer,s=r(7589);function a(e,t,r,a){s.call(this),this._cipher=new n.AES(t),this._prev=i.from(r),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}r(5615)(a,s),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},7172(e,t,r){var n=r(681),i=r(178),s=r(8197),a=r(5913),o=r(8981);function c(e,t,r){if(e=e.toLowerCase(),s[e])return i.createCipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),s[e])return i.createDecipheriv(e,t,r);if(a[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=o(t,!1,r,n);return c(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=c,t.createDecipher=t.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),s[e])r=s[e].key,n=s[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");r=8*a[e].key,n=a[e].iv}var i=o(t,!1,r,n);return u(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=u,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},681(e,t,r){var n=r(7589),i=r(2431),s=r(5615),a=r(5636).Buffer,o={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(e){n.call(this);var t,r=e.mode.toLowerCase(),i=o[r];t=e.decrypt?"decrypt":"encrypt";var s=e.key;a.isBuffer(s)||(s=a.from(s)),"des-ede"!==r&&"des-ede-cbc"!==r||(s=a.concat([s,s.slice(0,8)]));var c=e.iv;a.isBuffer(c)||(c=a.from(c)),this._des=i.create({key:s,iv:c,type:t})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],e.exports=c,s(c,n),c.prototype._update=function(e){return a.from(this._des.update(e))},c.prototype._final=function(){return a.from(this._des.final())}},5913(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},4215(e,t,r){"use strict";var n=r(2823),i=r(2644),s=r(5636).Buffer;function a(e){var t,r=e.modulus.byteLength();do{t=new n(i(r))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function o(e,t){var r=function(e){var t=a(e);return{blinder:t.toRed(n.mont(e.modulus)).redPow(new n(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),i=t.modulus.byteLength(),o=new n(e).mul(r.blinder).umod(t.modulus),c=o.toRed(n.mont(t.prime1)),u=o.toRed(n.mont(t.prime2)),l=t.coefficient,h=t.prime1,f=t.prime2,d=c.redPow(t.exponent1).fromRed(),p=u.redPow(t.exponent2).fromRed(),g=d.isub(p).imul(l).umod(h).imul(f);return p.iadd(g).imul(r.unblinder).umod(t.modulus).toArrayLike(s,"be",i)}o.getr=a,e.exports=o},3982(e,t,r){"use strict";e.exports=r(4716)},9553(e,t,r){"use strict";var n=r(5636).Buffer,i=r(3257),s=r(8521),a=r(5615),o=r(2188),c=r(6680),u=r(4716);function l(e){s.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){s.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){return new l(e)}function d(e){return new h(e)}Object.keys(u).forEach(function(e){u[e].id=n.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]}),a(l,s.Writable),l.prototype._write=function(e,t,r){this._hash.update(e),r()},l.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},l.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=o(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},a(h,s.Writable),h.prototype._write=function(e,t,r){this._hash.update(e),r()},h.prototype.update=function(e,t){return this._hash.update("string"==typeof e?n.from(e,t):e),this},h.prototype.verify=function(e,t,r){var i="string"==typeof t?n.from(t,r):t;this.end();var s=this._hash.digest();return c(i,s,e,this._signType,this._tag)},e.exports={Sign:f,Verify:d,createSign:f,createVerify:d}},2188(e,t,r){"use strict";var n=r(5636).Buffer,i=r(5262),s=r(4215),a=r(3360).ec,o=r(2823),c=r(5069),u=r(6646);function l(e,t,r,s){if((e=n.from(e.toArray())).length<t.byteLength()){var a=n.alloc(t.byteLength()-e.length);e=n.concat([a,e])}var o=r.length,c=function(e,t){e=(e=h(e,t)).mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var i=n.alloc(t.byteLength()-r.length);r=n.concat([i,r])}return r}(r,t),u=n.alloc(o);u.fill(1);var l=n.alloc(o);return l=i(s,l).update(u).update(n.from([0])).update(e).update(c).digest(),u=i(s,l).update(u).digest(),{k:l=i(s,l).update(u).update(n.from([1])).update(e).update(c).digest(),v:u=i(s,l).update(u).digest()}}function h(e,t){var r=new o(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function f(e,t,r){var s,a;do{for(s=n.alloc(0);8*s.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),s=n.concat([s,t.v]);a=h(s,e),t.k=i(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function d(e,t,r,n){return e.toRed(o.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,r,i,p){var g=c(t);if(g.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var r=u[t.curve.join(".")];if(!r)throw new Error("unknown curve "+t.curve.join("."));var i=new a(r).keyFromPrivate(t.privateKey).sign(e);return n.from(i.toDER())}(e,g)}if("dsa"===g.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,r){for(var i,s=t.params.priv_key,a=t.params.p,c=t.params.q,u=t.params.g,p=new o(0),g=h(e,c).mod(c),m=!1,y=l(s,c,e,r);!1===m;)p=d(u,i=f(c,y,r),a,c),0===(m=i.invm(c).imul(g.add(s.mul(p))).mod(c)).cmpn(0)&&(m=!1,p=new o(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),n.from(r)}(p,m)}(e,g,r)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");if(void 0!==t.padding&&1!==t.padding)throw new Error("illegal or unsupported padding mode");e=n.concat([p,e]);for(var m=g.modulus.byteLength(),y=[0,1];e.length+y.length+1<m;)y.push(255);y.push(0);for(var b=-1;++b<e.length;)y.push(e[b]);return s(y,g)},e.exports.getKey=l,e.exports.makeKey=f},6680(e,t,r){"use strict";var n=r(5636).Buffer,i=r(2823),s=r(3360).ec,a=r(5069),o=r(6646);function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=0)throw new Error("invalid sig")}e.exports=function(e,t,r,u,l){var h=a(r);if("ec"===h.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=o[r.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+r.data.algorithm.curve.join("."));var i=new s(n),a=r.data.subjectPrivateKey.data;return i.verify(t,e,a)}(e,t,h)}if("dsa"===h.type){if("dsa"!==u)throw new Error("wrong public key type");return function(e,t,r){var n=r.data.p,s=r.data.q,o=r.data.g,u=r.data.pub_key,l=a.signature.decode(e,"der"),h=l.s,f=l.r;c(h,s),c(f,s);var d=i.mont(n),p=h.invm(s);return 0===o.toRed(d).redPow(new i(t).mul(p).mod(s)).fromRed().mul(u.toRed(d).redPow(f.mul(p).mod(s)).fromRed()).mod(n).mod(s).cmp(f)}(e,t,h)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");t=n.concat([l,t]);for(var f=h.modulus.byteLength(),d=[1],p=0;t.length+d.length+2<f;)d.push(255),p+=1;d.push(0);for(var g=-1;++g<t.length;)d.push(t[g]);d=n.from(d);var m=i.mont(h.modulus);e=(e=new i(e).toRed(m)).redPow(new i(h.publicExponent)),e=n.from(e.fromRed().toArray());var y=p<8?1:0;for(f=Math.min(e.length,d.length),e.length!==d.length&&(y=1),g=-1;++g<f;)y|=e[g]^d[g];return 0===y}},2444(e,t,r){var n=r(1048).Buffer;e.exports=function(e,t){for(var r=Math.min(e.length,t.length),i=new n(r),s=0;s<r;++s)i[s]=e[s]^t[s];return i}},1048(e,t,r){"use strict";const n=r(7991),i=r(9318),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function o(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=o(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?o(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return l(e),o(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(e).length;default:if(i)return n?-1:W(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,a=1,o=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,o/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(s=r;s<o;s++)if(u(e,s)===u(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===c)return n*a}else-1!==n&&(s-=s-n),n=-1}else for(r+c>o&&(r=o-c),s=r;s>=0;s--){let r=!0;for(let n=0;n<c;n++)if(u(e,s+n)!==u(t,n)){r=!1;break}if(r)return s}return-1}function v(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let a;for(n>s/2&&(n=s/2),a=0;a<n;++a){const n=parseInt(t.substr(2*a,2),16);if(K(n))return a;e[r+a]=n}return a}function S(e,t,r,n){return X(W(t,e.length-r),e,r,n)}function E(e,t,r,n){return X(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return X(H(t),e,r,n)}function I(e,t,r,n){return X(function(e,t){let r,n,i;const s=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,o,c;switch(a){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(s=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&o)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=a}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=k));return r}(n)}t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(c.prototype[s]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const o=Math.min(s,a),u=this.slice(n,i),l=e.slice(t,r);for(let e=0;e<o;++e)if(u[e]!==l[e]){s=u[e],a=l[e];break}return s<a?-1:a<s?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return E(this,e,t,r);case"base64":return _(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=Z[e[n]];return i}function R(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function D(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,s){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n,i){z(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function P(e,t,r,n,i){z(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function N(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,s){return t=+t,r>>>=0,s||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,s){return t=+t,r>>>=0,s||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J(function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=J(function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||D(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},c.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J(function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=J(function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||q(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||O(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J(function(e,t=0){return F(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=J(function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=0,s=1,a=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=r-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s|0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J(function(e,t=0){return F(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=J(function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=c.isBuffer(e)?e:c.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};const U={};function V(e,t,r){U[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function z(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){$(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||q(t,e.length-(r+1))}(n,i,s)}function $(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,r){if(Math.floor(e)!==e)throw $(e,r),new U.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}V("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),V("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n},RangeError);const G=/[^+/0-9A-Za-z-_]/g;function W(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function H(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function X(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},450(e,t,r){"use strict";var n=r(9537),i=r(8106),s=r(768),a=r(9815),o=r(4409),c=r(6767),u=r(5302),l=(r(8418),r(1098));function h(e){function t(t){e&&(this[e]={}),t&&this.set(t)}return i(t.prototype),t.prototype.set=function(t,r){return Array.isArray(t)&&2===arguments.length&&(t=a(t)),n(t)||Array.isArray(t)?this.visit("set",t):(l(e?this[e]:this,t,r),this.emit("set",t,r)),this},t.prototype.union=function(t,r){Array.isArray(t)&&2===arguments.length&&(t=a(t));var n=e?this[e]:this;return o(n,t,function(e){return e?Array.isArray(e)?e:[e]:[]}(r)),this.emit("union",r),this},t.prototype.get=function(t){t=a(arguments);var r=e?this[e]:this,n=u(r,t);return this.emit("get",t,n),n},t.prototype.has=function(t){t=a(arguments);var r=e?this[e]:this,n=void 0!==u(r,t);return this.emit("has",t,n),n},t.prototype.del=function(t){return Array.isArray(t)?this.visit("del",t):(c(e?this[e]:this,t),this.emit("del",t)),this},t.prototype.clear=function(){e&&(this[e]={})},t.prototype.visit=function(e,t){return s(this,e,t),this},t}e.exports=h(),e.exports.namespace=h},8165(e,t,r){"use strict";var n=r(9138),i=r(6095),s=r(4531),a=r(7196);e.exports=a||n.call(s,i)},2012(e,t,r){"use strict";var n=r(9138),i=r(6095),s=r(8165);e.exports=function(){return s(n,i,arguments)}},6095(e){"use strict";e.exports=Function.prototype.apply},4531(e){"use strict";e.exports=Function.prototype.call},9903(e,t,r){"use strict";var n=r(9138),i=r(3468),s=r(4531),a=r(8165);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return a(n,s,e)}},7196(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},8498(e,t,r){"use strict";var n=r(6108),i=r(4940),s=r(9903),a=r(2012);e.exports=function(e){var t=s(arguments),r=e.length-(arguments.length-1);return n(t,1+(r>0?r:0),!0)},i?i(e.exports,"apply",{value:a}):e.exports.apply=a},4607(e,t,r){"use strict";var n=r(528),i=r(9903),s=i([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&s(e,".prototype.")>-1?i([r]):r}},7589(e,t,r){"use strict";var n=r(5636).Buffer,i=r(1983).Transform,s=r(8888).StringDecoder,a=r(5615),o=r(8764);function c(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}a(c,i),c.prototype.update=function(e,t,r){var n=o(e,t),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},c.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},c.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},c.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("cant switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=c},5558(e,t,r){"use strict";r(9208);var n=r(5123),i=r(5677),s=r(8324),a=r(9537),o=e.exports;o.isObject=function(e){return a(e)||"function"==typeof e},o.has=function(e,t){var r=(t=o.arrayify(t)).length;if(o.isObject(e)){for(var n in e)if(t.indexOf(n)>-1)return!0;var i=o.nativeKeys(e);return o.has(i,t)}if(Array.isArray(e)){for(var s=e;r--;)if(s.indexOf(t[r])>-1)return!0;return!1}throw new TypeError("expected an array or object.")},o.hasAll=function(e,t){for(var r=(t=o.arrayify(t)).length;r--;)if(!o.has(e,t[r]))return!1;return!0},o.arrayify=function(e){return e?Array.isArray(e)?e:[e]:[]},o.noop=function(){},o.identity=function(e){return e},o.hasConstructor=function(e){return o.isObject(e)&&void 0!==e.constructor},o.nativeKeys=function(e){if(!o.hasConstructor(e))return[];var t=Object.getOwnPropertyNames(e);return"caller"in e&&t.push("caller"),t},o.getDescriptor=function(e,t){if(!o.isObject(e))throw new TypeError("expected an object.");if("string"!=typeof t)throw new TypeError("expected key to be a string.");return Object.getOwnPropertyDescriptor(e,t)},o.copyDescriptor=function(e,t,r){if(!o.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!o.isObject(t))throw new TypeError("expected providing object to be an object.");if("string"!=typeof r)throw new TypeError("expected name to be a string.");var n=o.getDescriptor(t,r);n&&Object.defineProperty(e,r,n)},o.copy=function(e,t,r){if(!o.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!o.isObject(t))throw new TypeError("expected providing object to be an object.");var n,s=Object.getOwnPropertyNames(t),a=Object.keys(t),c=s.length;for(r=o.arrayify(r);c--;)n=s[c],o.has(a,n)?i(e,n,t[n]):n in e||o.has(r,n)||o.copyDescriptor(e,t,n)},o.inherit=function(e,t,r){if(!o.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!o.isObject(t))throw new TypeError("expected providing object to be an object.");var n=[];for(var i in t)n.push(i),e[i]=t[i];n=n.concat(o.arrayify(r));var s=t.prototype||t,a=e.prototype||e;o.copy(a,s,n)},o.extend=function(){return s.apply(null,arguments)},o.bubble=function(e,t){t=t||[],e.bubble=function(r,i){Array.isArray(i)&&(t=n([],t,i));for(var s=t.length,a=-1;++a<s;){var c=t[a];e.on(c,r.emit.bind(r,c))}o.bubble(r,t)}}},768(e,t,r){"use strict";var n=r(9535),i=r(6094);e.exports=function(e,t,r){var s;if("string"==typeof r&&t in e){var a=[].slice.call(arguments,2);s=e[t].apply(e,a)}else s=Array.isArray(r)?i.apply(null,arguments):n.apply(null,arguments);return void 0!==s?s:e}},8106(e){function t(e){if(e)return function(e){for(var r in t.prototype)e[r]=t.prototype[r];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}},9379(e){"use strict";function t(e){return"[object Object]"==={}.toString.call(e)}e.exports=function(e,r,n,i){if(t(r)||"function"==typeof r||(i=n,n=r,r=e),!t(e)&&"function"!=typeof e)throw new TypeError("expected the first argument to be an object");if(!t(r)&&"function"!=typeof r)throw new TypeError("expected provider to be an object");if("string"!=typeof i&&(i=n),"string"!=typeof n)throw new TypeError("expected key to be a string");if(!(n in r))throw new Error('property "'+n+'" does not exist');var s=Object.getOwnPropertyDescriptor(r,n);s&&Object.defineProperty(e,i,s)}},5517(e,t,r){var n=r(1048).Buffer,i=r(3360),s=r(2823);e.exports=function(e){return new o(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function c(e,t,r){Array.isArray(e)||(e=e.toArray());var i=new n(e);if(r&&i.length<r){var s=new n(r-i.length);s.fill(0),i=n.concat([s,i])}return t?i.toString(t):i}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,o.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},o.prototype.computeSecret=function(e,t,r){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),c(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},o.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),c(r,e)},o.prototype.getPrivateKey=function(e){return c(this.keys.getPrivate(),e)},o.prototype.setPublicKey=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.keys._importPublic(e),this},o.prototype.setPrivateKey=function(e,t){t=t||"utf8",n.isBuffer(e)||(e=new n(e,t));var r=new s(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}},3257(e,t,r){"use strict";var n=r(5615),i=r(3275),s=r(5586),a=r(3229),o=r(7589);function c(e){o.call(this,"digest"),this._hash=e}n(c,o),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new s:new c(a(e))}},4277(e,t,r){var n=r(3275);e.exports=function(e){return(new n).update(e).digest()}},5262(e,t,r){"use strict";var n=r(5615),i=r(1719),s=r(7589),a=r(5636).Buffer,o=r(4277),c=r(5586),u=r(3229),l=a.alloc(128);function h(e,t){s.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var r="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>r?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<r&&(t=a.concat([t,l],r));for(var n=this._ipad=a.allocUnsafe(r),i=this._opad=a.allocUnsafe(r),o=0;o<r;o++)n[o]=54^t[o],i[o]=92^t[o];this._hash="rmd160"===e?new c:u(e),this._hash.update(n)}n(h,s),h.prototype._update=function(e){this._hash.update(e)},h.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new h("rmd160",t):"md5"===e?new i(o,t):new h(e,t)}},1719(e,t,r){"use strict";var n=r(5615),i=r(5636).Buffer,s=r(7589),a=i.alloc(128),o=64;function c(e,t){s.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>o?t=e(t):t.length<o&&(t=i.concat([t,a],o));for(var r=this._ipad=i.allocUnsafe(o),n=this._opad=i.allocUnsafe(o),c=0;c<o;c++)r[c]=54^t[c],n[c]=92^t[c];this._hash=[r]}n(c,s),c.prototype._update=function(e){this._hash.push(e)},c.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=c},328(e,t,r){"use strict";t.po=r(2644),t.n1=r(3257),t.Gz=r(5262);var n=r(3982),i=Object.keys(n),s=(["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i),r(8619));s.pbkdf2,s.pbkdf2Sync;var a=r(7172);a.Cipher,a.createCipher,a.Cipheriv,t.Tt=a.createCipheriv,a.Decipher,a.createDecipher,a.Decipheriv,t._7=a.createDecipheriv,a.getCiphers,a.listCiphers;var o=r(7019);o.DiffieHellmanGroup,o.createDiffieHellmanGroup,o.getDiffieHellman,o.createDiffieHellman,o.DiffieHellman;var c=r(9553);c.createSign,c.Sign,c.createVerify,c.Verify,r(5517);var u=r(4055);u.publicEncrypt,u.privateEncrypt,u.publicDecrypt,u.privateDecrypt;var l=r(9904);l.randomFill,l.randomFillSync},3464(e){e.exports=function(){"use strict";var e=6e4,t=36e5,r="millisecond",n="second",i="minute",s="hour",a="day",o="week",c="month",u="quarter",l="year",h="date",f="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},m=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},y={s:m,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,c),s=r-i<0,a=t.clone().add(n+(s?-1:1),c);return+(-(n+(r-i)/(s?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:l,w:o,d:a,D:h,h:s,m:i,s:n,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",w={};w[b]=g;var v="$isDayjsObject",S=function(e){return e instanceof x||!(!e||!e[v])},E=function e(t,r,n){var i;if(!t)return b;if("string"==typeof t){var s=t.toLowerCase();w[s]&&(i=s),r&&(w[s]=r,i=s);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var o=t.name;w[o]=t,i=o}return!n&&i&&(b=i),i||!n&&b},_=function(e,t){if(S(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new x(r)},I=y;I.l=E,I.i=S,I.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function g(e){this.$L=E(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[v]=!0}var m=g.prototype;return m.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(I.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(d);if(n){var i=n[2]-1||0,s=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,s)}}return new Date(t)}(e),this.init()},m.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},m.$utils=function(){return I},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(e,t){var r=_(e);return this.startOf(t)<=r&&r<=this.endOf(t)},m.isAfter=function(e,t){return _(e)<this.startOf(t)},m.isBefore=function(e,t){return this.endOf(t)<_(e)},m.$g=function(e,t,r){return I.u(e)?this[t]:this.set(r,e)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(e,t){var r=this,u=!!I.u(t)||t,f=I.p(e),d=function(e,t){var n=I.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return u?n:n.endOf(a)},p=function(e,t){return I.w(r.toDate()[e].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},g=this.$W,m=this.$M,y=this.$D,b="set"+(this.$u?"UTC":"");switch(f){case l:return u?d(1,0):d(31,11);case c:return u?d(1,m):d(0,m+1);case o:var w=this.$locale().weekStart||0,v=(g<w?g+7:g)-w;return d(u?y-v:y+(6-v),m);case a:case h:return p(b+"Hours",0);case s:return p(b+"Minutes",1);case i:return p(b+"Seconds",2);case n:return p(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(e){return this.startOf(e,!1)},m.$set=function(e,t){var o,u=I.p(e),f="set"+(this.$u?"UTC":""),d=(o={},o[a]=f+"Date",o[h]=f+"Date",o[c]=f+"Month",o[l]=f+"FullYear",o[s]=f+"Hours",o[i]=f+"Minutes",o[n]=f+"Seconds",o[r]=f+"Milliseconds",o)[u],p=u===a?this.$D+(t-this.$W):t;if(u===c||u===l){var g=this.clone().set(h,1);g.$d[d](p),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},m.set=function(e,t){return this.clone().$set(e,t)},m.get=function(e){return this[I.p(e)]()},m.add=function(r,u){var h,f=this;r=Number(r);var d=I.p(u),p=function(e){var t=_(f);return I.w(t.date(t.date()+Math.round(e*r)),f)};if(d===c)return this.set(c,this.$M+r);if(d===l)return this.set(l,this.$y+r);if(d===a)return p(1);if(d===o)return p(7);var g=(h={},h[i]=e,h[s]=t,h[n]=1e3,h)[d]||1,m=this.$d.getTime()+r*g;return I.w(m,this)},m.subtract=function(e,t){return this.add(-1*e,t)},m.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=I.z(this),s=this.$H,a=this.$m,o=this.$M,c=r.weekdays,u=r.months,l=r.meridiem,h=function(e,r,i,s){return e&&(e[r]||e(t,n))||i[r].slice(0,s)},d=function(e){return I.s(s%12||12,e,"0")},g=l||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(p,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return I.s(t.$y,4,"0");case"M":return o+1;case"MM":return I.s(o+1,2,"0");case"MMM":return h(r.monthsShort,o,u,3);case"MMMM":return h(u,o);case"D":return t.$D;case"DD":return I.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(r.weekdaysMin,t.$W,c,2);case"ddd":return h(r.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(s);case"HH":return I.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return g(s,a,!0);case"A":return g(s,a,!1);case"m":return String(a);case"mm":return I.s(a,2,"0");case"s":return String(t.$s);case"ss":return I.s(t.$s,2,"0");case"SSS":return I.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,h,f){var d,p=this,g=I.p(h),m=_(r),y=(m.utcOffset()-this.utcOffset())*e,b=this-m,w=function(){return I.m(p,m)};switch(g){case l:d=w()/12;break;case c:d=w();break;case u:d=w()/3;break;case o:d=(b-y)/6048e5;break;case a:d=(b-y)/864e5;break;case s:d=b/t;break;case i:d=b/e;break;case n:d=b/1e3;break;default:d=b}return f?d:I.a(d)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return w[this.$L]},m.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=E(e,t,!0);return n&&(r.$L=n),r},m.clone=function(){return I.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),A=x.prototype;return _.prototype=A,[["$ms",r],["$s",n],["$m",i],["$H",s],["$W",a],["$M",c],["$y",l],["$D",h]].forEach(function(e){A[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),_.extend=function(e,t){return e.$i||(e(t,x,_),e.$i=!0),_},_.locale=E,_.isDayjs=S,_.unix=function(e){return _(1e3*e)},_.en=w[b],_.Ls=w,_.p={},_}()},1630(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,n=/\d\d/,i=/\d\d?/,s=/\d*[^-_:/,()\s\d]+/,a={},o=function(e){return(e=+e)+(e>68?1900:2e3)},c=function(e){return function(t){this[e]=+t}},u=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),r=60*t[1]+(+t[2]||0);return 0===r?0:"+"===t[0]?-r:r}(e)}],l=function(e){var t=a[e];return t&&(t.indexOf?t:t.s.concat(t.f))},h=function(e,t){var r,n=a.meridiem;if(n){for(var i=1;i<=24;i+=1)if(e.indexOf(n(i,0,t))>-1){r=i>12;break}}else r=e===(t?"pm":"PM");return r},f={A:[s,function(e){this.afternoon=h(e,!1)}],a:[s,function(e){this.afternoon=h(e,!0)}],Q:[r,function(e){this.month=3*(e-1)+1}],S:[r,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[i,c("seconds")],ss:[i,c("seconds")],m:[i,c("minutes")],mm:[i,c("minutes")],H:[i,c("hours")],h:[i,c("hours")],HH:[i,c("hours")],hh:[i,c("hours")],D:[i,c("day")],DD:[n,c("day")],Do:[s,function(e){var t=a.ordinal,r=e.match(/\d+/);if(this.day=r[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,"")===e&&(this.day=n)}],w:[i,c("week")],ww:[n,c("week")],M:[i,c("month")],MM:[n,c("month")],MMM:[s,function(e){var t=l("months"),r=(l("monthsShort")||t.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(r<1)throw new Error;this.month=r%12||r}],MMMM:[s,function(e){var t=l("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,c("year")],YY:[n,function(e){this.year=o(e)}],YYYY:[/\d{4}/,c("year")],Z:u,ZZ:u};function d(r){var n,i;n=r,i=a&&a.formats;for(var s=(r=n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,r,n){var s=n&&n.toUpperCase();return r||i[n]||e[n]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})})).match(t),o=s.length,c=0;c<o;c+=1){var u=s[c],l=f[u],h=l&&l[0],d=l&&l[1];s[c]=d?{regex:h,parser:d}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},r=0,n=0;r<o;r+=1){var i=s[r];if("string"==typeof i)n+=i.length;else{var a=i.regex,c=i.parser,u=e.slice(n),l=a.exec(u)[0];c.call(t,l),e=e.replace(l,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var r=e.hours;t?r<12&&(e.hours+=12):12===r&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,r){r.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(o=e.parseTwoDigitYear);var n=t.prototype,i=n.parse;n.parse=function(e){var t=e.date,n=e.utc,s=e.args;this.$u=n;var o=s[1];if("string"==typeof o){var c=!0===s[2],u=!0===s[3],l=c||u,h=s[2];u&&(h=s[2]),a=this.$locale(),!c&&h&&(a=r.Ls[h]),this.$d=function(e,t,r,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var i=d(t)(e),s=i.year,a=i.month,o=i.day,c=i.hours,u=i.minutes,l=i.seconds,h=i.milliseconds,f=i.zone,p=i.week,g=new Date,m=o||(s||a?1:g.getDate()),y=s||g.getFullYear(),b=0;s&&!a||(b=a>0?a-1:g.getMonth());var w,v=c||0,S=u||0,E=l||0,_=h||0;return f?new Date(Date.UTC(y,b,m,v,S,E,_+60*f.offset*1e3)):r?new Date(Date.UTC(y,b,m,v,S,E,_)):(w=new Date(y,b,m,v,S,E,_),p&&(w=n(w).week(p).toDate()),w)}catch(e){return new Date("")}}(t,o,n,r),this.init(),h&&!0!==h&&(this.$L=this.locale(h).$L),l&&t!=this.format(o)&&(this.$d=new Date("")),a={}}else if(o instanceof Array)for(var f=o.length,p=1;p<=f;p+=1){s[1]=o[p-1];var g=r.apply(this,s);if(g.isValid()){this.$d=g.$d,this.$L=g.$L,this.init();break}p===f&&(this.$d=new Date(""))}else i.call(this,e)}}}()},7657(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,i,s){var a=i.prototype;s.utc=function(e){return new i({date:e,utc:!0,args:arguments})},a.utc=function(t){var r=s(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},a.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var o=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),o.call(this,e)};var c=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else c.call(this)};var u=a.utcOffset;a.utcOffset=function(n,i){var s=this.$utils().u;if(s(n))return this.$u?0:s(this.$offset)?u.call(this):this.$offset;if("string"==typeof n&&(n=function(e){void 0===e&&(e="");var n=e.match(t);if(!n)return null;var i=(""+n[0]).match(r)||["-",0,0],s=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===s?a:-a}(n),null===n))return this;var a=Math.abs(n)<=16?60*n:n;if(0===a)return this.utc(i);var o=this.clone();if(i)return o.$offset=a,o.$u=!1,o;var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(o=this.local().add(a+c,e)).$offset=a,o.$x.$localOffset=c,o};var l=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var h=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var f=a.diff;a.diff=function(e,t,r){if(e&&this.$u===e.$u)return f.call(this,e,t,r);var n=this.local(),i=s(e).local();return f.call(n,i,t,r)}}}()},124(e,t,r){"use strict";var n=r(9907);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)}},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(7891)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7891(e,t,r){"use strict";e.exports=function(e){function t(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){var r;function a(){if(a.enabled){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var s=a,o=Number(new Date),c=o-(r||o);s.diff=c,s.prev=r,s.curr=o,r=o,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;u++;var i=n.formatters[r];if("function"==typeof i){var a=t[u];e=i.call(s,a),t.splice(u,1),u--}return e}),n.formatArgs.call(s,t),(s.log||n.log).apply(s,t)}}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=i,a.extend=s,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function s(e,t){return n(this.namespace+(void 0===t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var s=n.instances[t];s.enabled=n.enabled(s.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(7250),Object.keys(e).forEach(function(t){n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},1078(e,t,r){const n=r(6464);class i{constructor(e,t,{width:r,height:n,colorDepth:i,format:s}){if(this.format=s,this.offset=t,this.depth=i,this.stride=function(e){const t=e%4;return t?e+4-t:e}(r*this.depth/8),this.size=this.stride*n,this.data=e.slice(this.offset,this.offset+this.size),this.size!==this.data.byteLength)throw new Error("Truncated bitmap data")}get(e,t,r){const n=this.format.indexOf(r);return 1===this.depth?(this.data[t*this.stride+(e/8|0)]&1<<7-e%8*1)>>7-e%8*1:2===this.depth?(this.data[t*this.stride+(e/4|0)]&3<<6-e%4*2)>>>6-e%4*2:4===this.depth?(this.data[t*this.stride+(e/2|0)]&15<<4-e%2*4)>>>4-e%2*4:this.data[t*this.stride+e*(this.depth/8)+n]}}e.exports=function(e,{width:t=0,height:r=0,icon:s=!1}={}){const a=n(e);let o,c,u,l,h;s?(o=a.getUint32(0,!0),c=a.getUint32(4,!0)/1|0,u=a.getUint32(8,!0)/2|0,l=a.getUint16(14,!0),h=a.getUint32(32,!0)):(function(e){if(19778!==e)throw new Error(`Invalid magic byte 0x${e.toString(16)}`)}(a.getUint16(0,!0)),o=14+a.getUint32(14,!0),c=a.getUint32(18,!0),u=a.getUint32(22,!0),l=a.getUint16(28,!0),h=a.getUint32(46,!0)),0===h&&l<=8&&(h=1<<l);const f=0===c?t:c,d=0===u?r:u,p=new Uint8Array(a.buffer,a.byteOffset+o,a.byteLength-o),g=h?function(e,{width:t,height:r,colorDepth:n,colorCount:s,icon:a}){if(8!==n&&4!==n&&2!==n&&1!==n)throw new Error(`A color depth of ${n} is not supported`);const o=new i(e,0,{width:s,height:1,colorDepth:32,format:"BGRA"}),c=new i(e,o.offset+o.size,{width:t,height:r,colorDepth:n,format:"C"}),u=a?new i(e,c.offset+c.size,{width:t,height:r,colorDepth:1,format:"A"}):null,l=new Uint8Array(t*r*4);let h=0;for(let e=0;e<r;e++)for(let n=0;n<t;n++){const t=c.get(n,r-e-1,"C");l[h++]=o.get(t,0,"R"),l[h++]=o.get(t,0,"G"),l[h++]=o.get(t,0,"B"),l[h++]=u&&u.get(n,r-e-1,"A")?0:255}return l}(p,{width:f,height:d,colorDepth:l,colorCount:h,icon:s}):function(e,{width:t,height:r,colorDepth:n,icon:s}){if(32!==n&&24!==n)throw new Error(`A color depth of ${n} is not supported`);const a=new i(e,0,{width:t,height:r,colorDepth:n,format:"BGRA"}),o=24===n&&s?new i(e,a.offset+a.size,{width:t,height:r,colorDepth:1,format:"A"}):null,c=new Uint8Array(t*r*4);let u=0;for(let e=0;e<r;e++)for(let i=0;i<t;i++)c[u++]=a.get(i,r-e-1,"R"),c[u++]=a.get(i,r-e-1,"G"),c[u++]=a.get(i,r-e-1,"B"),c[u++]=32===n?a.get(i,r-e-1,"A"):o&&o.get(i,r-e-1,"A")?0:255;return c}(p,{width:f,height:d,colorDepth:l,icon:s});return{width:f,height:d,data:g,colorDepth:l}}},686(e,t,r){"use strict";var n=r(4940),i=r(5731),s=r(3468),a=r(9336);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new s("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new s("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,u=arguments.length>5?arguments[5]:null,l=arguments.length>6&&arguments[6],h=!!a&&a(e,t);if(n)n(e,t,{configurable:null===u&&h?h.configurable:!u,enumerable:null===o&&h?h.enumerable:!o,value:r,writable:null===c&&h?h.writable:!c});else{if(!l&&(o||c||u))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},5677(e,t,r){"use strict";var n=r(9537),i=r(6248),s="undefined"!=typeof Reflect&&Reflect.defineProperty?Reflect.defineProperty:Object.defineProperty;e.exports=function(e,t,r){if(!n(e)&&"function"!=typeof e&&!Array.isArray(e))throw new TypeError("expected an object, function, or array");if("string"!=typeof t)throw new TypeError('expected "key" to be a string');return i(r)?(s(e,t,r),e):(s(e,t,{configurable:!0,enumerable:!1,writable:!0,value:r}),e)}},2431(e,t,r){"use strict";t.utils=r(6769),t.Cipher=r(9341),t.DES=r(3768),t.CBC=r(4914),t.EDE=r(3352)},4914(e,t,r){"use strict";var n=r(7784),i=r(5615),s={};function a(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var r=Object.keys(s),n=0;n<r.length;n++){var a=r[n];t.prototype[a]=s[a]}return t.create=function(e){return new t(e)},t},s._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},s._update=function(e,t,r,n){var i=this._cbcState,s=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var o=0;o<this.blockSize;o++)a[o]^=e[t+o];for(s._update.call(this,a,0,r,n),o=0;o<this.blockSize;o++)a[o]=r[n+o]}else{for(s._update.call(this,e,t,r,n),o=0;o<this.blockSize;o++)r[n+o]^=a[o];for(o=0;o<this.blockSize;o++)a[o]=e[t+o]}}},9341(e,t,r){"use strict";var n=r(7784);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==e.padding}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var s=e.length-(e.length-t)%this.blockSize;t<s;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,r;return e&&(t=this.update(e)),r="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(r):r},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},3768(e,t,r){"use strict";var n=r(7784),i=r(5615),s=r(6769),a=r(9341);function o(){this.tmp=new Array(2),this.keys=null}function c(e){a.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}i(c,a),e.exports=c,c.create=function(e){return new c(e)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(e,t){e.keys=new Array(32),n.equal(t.length,this.blockSize,"Invalid key length");var r=s.readUInt32BE(t,0),i=s.readUInt32BE(t,4);s.pc1(r,i,e.tmp,0),r=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var o=u[a>>>1];r=s.r28shl(r,o),i=s.r28shl(i,o),s.pc2(r,i,e.keys,a)}},c.prototype._update=function(e,t,r,n){var i=this._desState,a=s.readUInt32BE(e,t),o=s.readUInt32BE(e,t+4);s.ip(a,o,i.tmp,0),a=i.tmp[0],o=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,o,i.tmp,0):this._decrypt(i,a,o,i.tmp,0),a=i.tmp[0],o=i.tmp[1],s.writeUInt32BE(r,a,n),s.writeUInt32BE(r,o,n+4)},c.prototype._pad=function(e,t){if(!1===this.padding)return!1;for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},c.prototype._unpad=function(e){if(!1===this.padding)return e;for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)n.equal(e[r],t);return e.slice(0,e.length-t)},c.prototype._encrypt=function(e,t,r,n,i){for(var a=t,o=r,c=0;c<e.keys.length;c+=2){var u=e.keys[c],l=e.keys[c+1];s.expand(o,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var h=s.substitute(u,l),f=o;o=(a^s.permute(h))>>>0,a=f}s.rip(o,a,n,i)},c.prototype._decrypt=function(e,t,r,n,i){for(var a=r,o=t,c=e.keys.length-2;c>=0;c-=2){var u=e.keys[c],l=e.keys[c+1];s.expand(a,e.tmp,0),u^=e.tmp[0],l^=e.tmp[1];var h=s.substitute(u,l),f=a;a=(o^s.permute(h))>>>0,o=f}s.rip(a,o,n,i)}},3352(e,t,r){"use strict";var n=r(7784),i=r(5615),s=r(9341),a=r(3768);function o(e,t){n.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),i=t.slice(8,16),s=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:r}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:s})]:[a.create({type:"decrypt",key:s}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:r})]}function c(e){s.call(this,e);var t=new o(this.type,this.options.key);this._edeState=t}i(c,s),e.exports=c,c.create=function(e){return new c(e)},c.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},6769(e,t){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},t.ip=function(e,t,r,n){for(var i=0,s=0,a=6;a>=0;a-=2){for(var o=0;o<=24;o+=8)i<<=1,i|=t>>>o+a&1;for(o=0;o<=24;o+=8)i<<=1,i|=e>>>o+a&1}for(a=6;a>=0;a-=2){for(o=1;o<=25;o+=8)s<<=1,s|=t>>>o+a&1;for(o=1;o<=25;o+=8)s<<=1,s|=e>>>o+a&1}r[n+0]=i>>>0,r[n+1]=s>>>0},t.rip=function(e,t,r,n){for(var i=0,s=0,a=0;a<4;a++)for(var o=24;o>=0;o-=8)i<<=1,i|=t>>>o+a&1,i<<=1,i|=e>>>o+a&1;for(a=4;a<8;a++)for(o=24;o>=0;o-=8)s<<=1,s|=t>>>o+a&1,s<<=1,s|=e>>>o+a&1;r[n+0]=i>>>0,r[n+1]=s>>>0},t.pc1=function(e,t,r,n){for(var i=0,s=0,a=7;a>=5;a--){for(var o=0;o<=24;o+=8)i<<=1,i|=t>>o+a&1;for(o=0;o<=24;o+=8)i<<=1,i|=e>>o+a&1}for(o=0;o<=24;o+=8)i<<=1,i|=t>>o+a&1;for(a=1;a<=3;a++){for(o=0;o<=24;o+=8)s<<=1,s|=t>>o+a&1;for(o=0;o<=24;o+=8)s<<=1,s|=e>>o+a&1}for(o=0;o<=24;o+=8)s<<=1,s|=e>>o+a&1;r[n+0]=i>>>0,r[n+1]=s>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var s=0,a=0,o=r.length>>>1,c=0;c<o;c++)s<<=1,s|=e>>>r[c]&1;for(c=o;c<r.length;c++)a<<=1,a|=t>>>r[c]&1;n[i+0]=s>>>0,n[i+1]=a>>>0},t.expand=function(e,t,r){var n=0,i=0;n=(1&e)<<5|e>>>27;for(var s=23;s>=15;s-=4)n<<=6,n|=e>>>s&63;for(s=11;s>=3;s-=4)i|=e>>>s&63,i<<=6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var r=0,i=0;i<4;i++)r<<=4,r|=n[64*i+(e>>>18-6*i&63)];for(i=0;i<4;i++)r<<=4,r|=n[256+64*i+(t>>>18-6*i&63)];return r>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,r=0;r<i.length;r++)t<<=1,t|=e>>>i[r]&1;return t>>>0},t.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],s=0;s<t;s+=r)i.push(n.slice(s,s+r));return i.join(" ")}},7019(e,t,r){var n=r(1048).Buffer,i=r(902),s=r(8632),a=r(6551),o={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new n(s[e].prime,"hex"),r=new n(s[e].gen,"hex");return new a(t,r)},t.createDiffieHellman=t.DiffieHellman=function e(t,r,s,c){return n.isBuffer(r)||void 0===o[r]?e(t,"binary",r,s):(r=r||"binary",c=c||"binary",s=s||new n([2]),n.isBuffer(s)||(s=new n(s,c)),"number"==typeof t?new a(i(t,s),s,!0):(n.isBuffer(t)||(t=new n(t,r)),new a(t,s,!0)))}},6551(e,t,r){var n=r(1048).Buffer,i=r(2823),s=new(r(1929)),a=new i(24),o=new i(11),c=new i(10),u=new i(3),l=new i(7),h=r(902),f=r(2644);function d(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._pub=new i(e),this}function p(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this._priv=new i(e),this}e.exports=m;var g={};function m(e,t,r){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=d,this.setPrivateKey=p):this._primeCode=8}function y(e,t){var r=new n(e.toArray());return t?r.toString(t):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in g)return g[n];var i,f=0;if(e.isEven()||!h.simpleSieve||!h.fermatTest(e)||!s.test(e))return f+=1,f+="02"===r||"05"===r?8:4,g[n]=f,f;switch(s.test(e.shrn(1))||(f+=2),r){case"02":e.mod(a).cmp(o)&&(f+=8);break;case"05":(i=e.mod(c)).cmp(u)&&i.cmp(l)&&(f+=8);break;default:f+=4}return g[n]=f,f}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new i(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new n(t.toArray()),s=this.getPrime();if(r.length<s.length){var a=new n(s.length-r.length);a.fill(0),r=n.concat([a,r])}return r},m.prototype.getPublicKey=function(e){return y(this._pub,e)},m.prototype.getPrivateKey=function(e){return y(this._priv,e)},m.prototype.getPrime=function(e){return y(this.__prime,e)},m.prototype.getGenerator=function(e){return y(this._gen,e)},m.prototype.setGenerator=function(e,t){return t=t||"utf8",n.isBuffer(e)||(e=new n(e,t)),this.__gen=e,this._gen=new i(e),this}},902(e,t,r){var n=r(2644);e.exports=y,y.simpleSieve=g,y.fermatTest=m;var i=r(2823),s=new i(24),a=new(r(1929)),o=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),h=new i(3),f=(new i(7),new i(11)),d=new i(4),p=(new i(12),null);function g(e){for(var t=function(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!==0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return p=e,e}(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function m(e){var t=i.mont(e);return 0===c.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function y(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var r,p;for(t=new i(t);;){for(r=new i(n(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(o),r.testn(1)||r.iadd(c),t.cmp(c)){if(!t.cmp(u))for(;r.mod(l).cmp(h);)r.iadd(d)}else for(;r.mod(s).cmp(f);)r.iadd(d);if(g(p=r.shrn(1))&&g(r)&&m(p)&&m(r)&&a.test(p)&&a.test(r))return r}}},6423(e,t,r){"use strict";var n,i=r(9903),s=r(9336);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!!n&&s&&s(Object.prototype,"__proto__"),o=Object,c=o.getPrototypeOf;e.exports=a&&"function"==typeof a.get?i([a.get]):"function"==typeof c&&function(e){return c(null==e?e:o(e))}},3360(e,t,r){"use strict";var n=t;n.version=r(183).rE,n.utils=r(1874),n.rand=r(7048),n.curve=r(7131),n.curves=r(6443),n.ec=r(5064),n.eddsa=r(4807)},5174(e,t,r){"use strict";var n=r(2823),i=r(1874),s=i.getNAF,a=i.getJSF,o=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){o(e.precomputed);var r=e._getDoubles(),n=s(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var a,c,u=[];for(a=0;a<n.length;a+=r.step){c=0;for(var l=a+r.step-1;l>=a;l--)c=(c<<1)+n[l];u.push(c)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(a=0;a<u.length;a++)(c=u[a])===d?f=f.mixedAdd(r.points[a]):c===-d&&(f=f.mixedAdd(r.points[a].neg()));h=h.add(f)}return h.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=s(t,r,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(var l=0;u>=0&&0===a[u];u--)l++;if(u>=0&&l++,c=c.dblp(l),u<0)break;var h=a[u];o(0!==h),c="affine"===e.type?h>0?c.mixedAdd(i[h-1>>1]):c.mixedAdd(i[-h-1>>1].neg()):h>0?c.add(i[h-1>>1]):c.add(i[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var o,c,u,l=this._wnafT1,h=this._wnafT2,f=this._wnafT3,d=0;for(o=0;o<n;o++){var p=(u=t[o])._getNAFPoints(e);l[o]=p.wnd,h[o]=p.points}for(o=n-1;o>=1;o-=2){var g=o-1,m=o;if(1===l[g]&&1===l[m]){var y=[t[g],null,null,t[m]];0===t[g].y.cmp(t[m].y)?(y[1]=t[g].add(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg())):0===t[g].y.cmp(t[m].y.redNeg())?(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].add(t[m].neg())):(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],w=a(r[g],r[m]);for(d=Math.max(w[0].length,d),f[g]=new Array(d),f[m]=new Array(d),c=0;c<d;c++){var v=0|w[0][c],S=0|w[1][c];f[g][c]=b[3*(v+1)+(S+1)],f[m][c]=0,h[g]=y}}else f[g]=s(r[g],l[g],this._bitLength),f[m]=s(r[m],l[m],this._bitLength),d=Math.max(f[g].length,d),d=Math.max(f[m].length,d)}var E=this.jpoint(null,null,null),_=this._wnafT4;for(o=d;o>=0;o--){for(var I=0;o>=0;){var x=!0;for(c=0;c<n;c++)_[c]=0|f[c][o],0!==_[c]&&(x=!1);if(!x)break;I++,o--}if(o>=0&&I++,E=E.dblp(I),o<0)break;for(c=0;c<n;c++){var A=_[c];0!==A&&(A>0?u=h[c][A-1>>1]:A<0&&(u=h[c][-A-1>>1].neg()),E="affine"===u.type?E.mixedAdd(u):E.add(u))}}for(o=0;o<n;o++)h[o]=null;return i?E:E.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?o(e[e.length-1]%2==0):7===e[0]&&o(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},1547(e,t,r){"use strict";var n=r(1874),i=r(2823),s=r(5615),a=r(5174),o=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,s){a.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(c,a),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(s.redInvm()),o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=o.fromRed().isOdd();return(t&&!c||!t&&c)&&(o=o.redNeg()),this.point(e,o)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(s.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var o=a.redSqrt();if(0!==o.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return o.fromRed().isOdd()!==t&&(o=o.redNeg()),this.point(o,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(u,a.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),s=n.redAdd(t),a=s.redSub(r),o=n.redSub(t),c=i.redMul(a),u=s.redMul(o),l=i.redMul(o),h=a.redMul(s);return this.curve.point(c,u,h,l)},u.prototype._projDbl=function(){var e,t,r,n,i,s,a=this.x.redAdd(this.y).redSqr(),o=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(o)).redAdd(c);this.zOne?(e=a.redSub(o).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),s=u.redSub(i).redISub(i),e=a.redSub(o).redISub(c).redMul(s),t=u.redMul(n.redSub(c)),r=u.redMul(s))}else n=o.redAdd(c),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(n)).redMul(s),t=this.curve._mulC(n).redMul(o.redISub(c)),r=n.redMul(s);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),s=r.redSub(t),a=i.redSub(n),o=i.redAdd(n),c=r.redAdd(t),u=s.redMul(a),l=o.redMul(c),h=s.redMul(c),f=a.redMul(o);return this.curve.point(u,l,f,h)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),s=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(s).redMul(a),c=i.redSub(o),u=i.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(a),h=n.redMul(c).redMul(l);return this.curve.twisted?(t=n.redMul(u).redMul(a.redSub(this.curve._mulA(s))),r=c.redMul(u)):(t=n.redMul(u).redMul(a.redSub(s)),r=this.curve._mulC(c).redMul(u)),this.curve.point(h,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},7131(e,t,r){"use strict";var n=t;n.base=r(5174),n.short=r(277),n.mont=r(3245),n.edwards=r(1547)},3245(e,t,r){"use strict";var n=r(2823),i=r(5615),s=r(5174),a=r(1874);function o(e){s.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){s.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(o,s),e.exports=o,o.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,s.BasePoint),o.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},o.prototype.point=function(e,t){return new c(this,e,t)},o.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),s=e.x.redSub(e.z).redMul(r),a=i.redMul(n),o=t.z.redMul(s.redAdd(a).redSqr()),c=t.x.redMul(s.redISub(a).redSqr());return this.curve.point(o,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},277(e,t,r){"use strict";var n=r(1874),i=r(2823),s=r(5615),a=r(5174),o=n.assert;function c(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){a.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,r,n){a.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(c,a),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))?r=s[0]:(r=s[1],o(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new i(e.a,16),b:new i(e.b,16)}}):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),s=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,s,a,o,c,u,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,d=this.n.clone(),p=new i(1),g=new i(0),m=new i(0),y=new i(1),b=0;0!==f.cmpn(0);){var w=d.div(f);u=d.sub(w.mul(f)),l=m.sub(w.mul(p));var v=y.sub(w.mul(g));if(!n&&u.cmp(h)<0)t=c.neg(),r=p,n=u.neg(),s=l;else if(n&&2===++b)break;c=u,d=f,f=u,m=p,p=l,y=g,g=v}a=u.neg(),o=l;var S=n.sqr().add(s.sqr());return a.sqr().add(o.sqr()).cmp(S)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),s=s.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:s},{a,b:o}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),o=s.mul(n.a),c=i.mul(r.b),u=s.mul(n.b);return{k1:e.sub(a).sub(o),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(t[s]),o=e[s],c=o._getBeta();a.k1.negative&&(a.k1.ineg(),o=o.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),n[2*s]=o,n[2*s+1]=c,i[2*s]=a.k1,i[2*s+1]=a.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),l=0;l<2*s;l++)n[l]=null,i[l]=null;return u},s(u,a.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(l,a.BasePoint),c.prototype.jpoint=function(e,t,r){return new l(this,e,t,r)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=s.redSub(a);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),l=u.redMul(o),h=n.redMul(u),f=c.redSqr().redIAdd(l).redISub(h).redISub(h),d=c.redMul(h.redISub(f)).redISub(s.redMul(l)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(f,d,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),a=r.redSub(n),o=i.redSub(s);if(0===a.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=r.redMul(c),h=o.redSqr().redIAdd(u).redISub(l).redISub(l),f=o.redMul(l.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(a);return this.curve.jpoint(h,f,d)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,o=this.z,c=o.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var l=s.redSqr(),h=u.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(c)),p=s.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var b=u.redMul(o);t+1<e&&(c=c.redMul(f)),s=g,o=b,u=y}return this.curve.jpoint(s,u.redMul(i),o)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(a).redISub(a),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},l.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(n).redISub(s);a=a.redIAdd(a);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(a).redISub(a);e=c;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(a.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),a=r.redSqr(),o=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(a),l=o.redSqr().redISub(u.redAdd(u)),h=u.redISub(l),f=a.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=o.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(s)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(s).redISub(o).redISub(c),l=t.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(o).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(o)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(o);return this.curve.jpoint(h,f,d)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},6443(e,t,r){"use strict";var n,i=t,s=r(9499),a=r(7131),o=r(1874).assert;function c(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(3986)}catch(e){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},5064(e,t,r){"use strict";var n=r(2823),i=r(4742),s=r(1874),a=r(6443),o=r(7048),c=s.assert,u=r(7531),l=r(7782);function h(e){if(!(this instanceof h))return new h(e);"string"==typeof e&&(c(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new u(this,e)},h.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(s)>0))return a.iaddn(1),this.keyFromPrivate(a)}},h.prototype._truncateToN=function(e,t,r){var i;if(n.isBN(e)||"number"==typeof e)i=(e=new n(e,16)).byteLength();else if("object"==typeof e)i=e.length,e=new n(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new n(s,16)}"number"!=typeof r&&(r=8*i);var a=r-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,r,s){if("object"==typeof r&&(s=r,r=null),s||(s={}),"string"!=typeof e&&"number"!=typeof e&&!n.isBN(e)){c("object"==typeof e&&e&&"number"==typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),c(e.length>>>0===e.length);for(var a=0;a<e.length;a++)c((255&e[a])===e[a])}t=this.keyFromPrivate(t,r),e=this._truncateToN(e,!1,s.msgBitLength),c(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),u=t.getPrivate().toArray("be",o),h=e.toArray("be",o);c(new n(h).eq(e),"Can not sign message");for(var f=new i({hash:this.hash,entropy:u,nonce:h,pers:s.pers,persEnc:s.persEnc||"utf8"}),d=this.n.sub(new n(1)),p=0;;p++){var g=s.k?s.k(p):new n(f.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(d)>=0)){var m=this.g.mul(g);if(!m.isInfinity()){var y=m.getX(),b=y.umod(this.n);if(0!==b.cmpn(0)){var w=g.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(w=w.umod(this.n)).cmpn(0)){var v=(m.getY().isOdd()?1:0)|(0!==y.cmp(b)?2:0);return s.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),v^=1),new l({r:b,s:w,recoveryParam:v})}}}}}},h.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var s=(t=new l(t,"hex")).r,a=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var o,c=a.invm(this.n),u=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(u,r.getPublic(),h)).isInfinity()&&o.eqXToP(s):!(o=this.g.mulAdd(u,r.getPublic(),h)).isInfinity()&&0===o.getX().umod(this.n).cmp(s)},h.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new l(t,i);var s=this.n,a=new n(e),o=t.r,u=t.s,h=1&r,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");o=f?this.curve.pointFromX(o.add(this.curve.n),h):this.curve.pointFromX(o,h);var d=t.r.invm(s),p=s.sub(a).mul(d).umod(s),g=u.mul(d).umod(s);return this.g.mulAdd(p,o,g)},h.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new l(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},7531(e,t,r){"use strict";var n=r(2823),i=r(1874).assert;function s(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=s,s.fromPublic=function(e,t,r){return t instanceof s?t:new s(e,{pub:t,pubEnc:r})},s.fromPrivate=function(e,t,r){return t instanceof s?t:new s(e,{priv:t,privEnc:r})},s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},s.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},s.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},s.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},s.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},7782(e,t,r){"use strict";var n=r(2823),i=r(1874),s=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(s(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function o(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;if(0===e[t.place])return!1;for(var i=0,s=0,a=t.place;s<n;s++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new o;if(48!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;if(s+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var a=c(e,r);if(!1===a)return!1;if(128&e[r.place])return!1;var u=e.slice(r.place,a+r.place);if(r.place+=a,2!==e[r.place++])return!1;var l=c(e,r);if(!1===l)return!1;if(e.length!==l+r.place)return!1;if(128&e[r.place])return!1;var h=e.slice(r.place,l+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(u),this.s=new n(h),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];l(n,t.length),(n=n.concat(t)).push(2),l(n,r.length);var s=n.concat(r),a=[48];return l(a,s.length),a=a.concat(s),i.encode(a,e)}},4807(e,t,r){"use strict";var n=r(9499),i=r(6443),s=r(1874),a=s.assert,o=s.parseBytes,c=r(4672),u=r(8401);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=l,l.prototype.sign=function(e,t){e=o(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),s=this.encodePoint(i),a=this.hashInt(s,r.pubBytes(),e).mul(r.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:s})},l.prototype.verify=function(e,t,r){if(e=o(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),s=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(s)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=s.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=!!(128&e[t]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return s.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},4672(e,t,r){"use strict";var n=r(1874),i=n.assert,s=n.parseBytes,a=n.cachedProperty;function o(e,t){this.eddsa=e,this._secret=s(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=s(t.pub)}o.fromPublic=function(e,t){return t instanceof o?t:new o(e,{pub:t})},o.fromSecret=function(e,t){return t instanceof o?t:new o(e,{secret:t})},o.prototype.secret=function(){return this._secret},a(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(o,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n}),a(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},o.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},o.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},o.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=o},8401(e,t,r){"use strict";var n=r(2823),i=r(1874),s=i.assert,a=i.cachedProperty,o=i.parseBytes;function c(e,t){this.eddsa=e,"object"!=typeof t&&(t=o(t)),Array.isArray(t)&&(s(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),s(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},3986(e){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},1874(e,t,r){"use strict";var n=t,i=r(2823),s=r(7784),a=r(9042);n.assert=s,n.toArray=a.toArray,n.zero2=a.zero2,n.toHex=a.toHex,n.encode=a.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var s=1<<t+1,a=e.clone();for(n=0;n<i.length;n++){var o,c=a.andln(s-1);a.isOdd()?(o=c>(s>>1)-1?(s>>1)-c:c,a.isubn(o)):o=0,i[n]=o,a.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var a,o,c=e.andln(3)+i&3,u=t.andln(3)+s&3;3===c&&(c=-1),3===u&&(u=-1),a=1&c?3!=(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c:0,r[0].push(a),o=1&u?3!=(n=t.andln(7)+s&7)&&5!==n||2!==c?u:-u:0,r[1].push(o),2*i===a+1&&(i=1-i),2*s===o+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},4940(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},9110(e){"use strict";e.exports=EvalError},9838(e){"use strict";e.exports=Error},1155(e){"use strict";e.exports=RangeError},4943(e){"use strict";e.exports=ReferenceError},5731(e){"use strict";e.exports=SyntaxError},3468(e){"use strict";e.exports=TypeError},2140(e){"use strict";e.exports=URIError},9629(e){"use strict";e.exports=Object},8985(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new i(n,s||e,a),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],o]:e._events[c].push(o):(e._events[c]=o,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=new Array(s);i<s;i++)a[i]=n[i].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,s,a){var o=r?r+e:e;if(!this._events[o])return!1;var c,u,l=this._events[o],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,a),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(f=1,c=new Array(h-1);f<h;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||a(this,s);else{for(var c=0,u=[],l=o.length;c<l;c++)(o[c].fn!==t||i&&!o[c].once||n&&o[c].context!==n)&&u.push(o[c]);u.length?this._events[s]=1===u.length?u[0]:u:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},46(e){"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,s),n(r)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,s,a,u;if(o(r),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),a=s[t]),void 0===a)a=s[t]=r,++e._eventsCount;else if("function"==typeof a?a=s[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=c(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(s){n.once&&e.removeEventListener(t,i),r(s)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var c=s[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,l=p(c,u);for(r=0;r<u;++r)n(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,s,a;if(o(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){a=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},8981(e,t,r){var n=r(5636).Buffer,i=r(3275);e.exports=function(e,t,r,s){if(n.isBuffer(e)||(e=n.from(e,"binary")),t&&(n.isBuffer(t)||(t=n.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=r/8,o=n.alloc(a),c=n.alloc(s||0),u=n.alloc(0);a>0||s>0;){var l=new i;l.update(u),l.update(e),t&&l.update(t),u=l.digest();var h=0;if(a>0){var f=o.length-a;h=Math.min(a,u.length),u.copy(o,f,0,h),a-=h}if(h<u.length&&s>0){var d=c.length-s,p=Math.min(s,u.length-h);u.copy(c,d,h,h+p),s-=p}}return u.fill(0),{key:o,iv:c}}},3760(e,t,r){var n=r(5225);e.exports={create:function(e,t){if(e instanceof(t=t||(0,eval)("this")).ArrayBuffer){var i=r(5927);return new n(new i(e,0,e.byteLength,!0,t))}var s=r(9959);return new n(new s(e,0,e.length,!0))}}},9959(e){function t(e,t,r,n){this.buffer=e,this.offset=t||0,r="number"==typeof r?r:e.length,this.endPosition=this.offset+r,this.setBigEndian(n)}t.prototype={setBigEndian:function(e){this.bigEndian=!!e},nextUInt8:function(){var e=this.buffer.readUInt8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.buffer.readInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,e},nextUInt32:function(){var e=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,e},nextInt16:function(){var e=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,e},nextInt32:function(){var e=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,e},nextFloat:function(){var e=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,e},nextDouble:function(){var e=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,e},nextBuffer:function(e){var t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.endPosition-this.offset},nextString:function(e){var t=this.buffer.toString("utf8",this.offset,this.offset+e);return this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new t(e.buffer,r,e.endPosition-r,e.bigEndian)},offset:this.offset}},offsetFrom:function(e){return this.offset-e.offset},skip:function(e){this.offset+=e},branch:function(e,r){return r="number"==typeof r?r:this.endPosition-(this.offset+e),new t(this.buffer,this.offset+e,r,this.bigEndian)}},e.exports=t},8814(e){function t(e){return parseInt(e,10)}function r(e,r){e=e.map(t),r=r.map(t);var n=e[0],i=e[1]-1,s=e[2],a=r[0],o=r[1],c=r[2];return Date.UTC(n,i,s,a,o,c,0)/1e3}function n(e){var n=e.substr(0,10).split("-"),i=e.substr(11,8).split(":"),s=e.substr(19,6).split(":").map(t),a=3600*s[0]+60*s[1],o=r(n,i);if("number"==typeof(o-=a)&&!isNaN(o))return o}function i(e){var t=e.split(" "),n=r(t[0].split(":"),t[1].split(":"));if("number"==typeof n&&!isNaN(n))return n}e.exports={parseDateWithSpecFormat:i,parseDateWithTimezoneFormat:n,parseExifDate:function(e){var t=19===e.length&&":"===e.charAt(4);return 25===e.length&&"T"===e.charAt(10)?n(e):t?i(e):void 0}}},5927(e){function t(e,t,r,n,i,s){this.global=i,t=t||0,r=r||e.byteLength-t,this.arrayBuffer=e.slice(t,t+r),this.view=new i.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(n),this.offset=0,this.parentOffset=(s||0)+t}t.prototype={setBigEndian:function(e){this.littleEndian=!e},nextUInt8:function(){var e=this.view.getUint8(this.offset);return this.offset+=1,e},nextInt8:function(){var e=this.view.getInt8(this.offset);return this.offset+=1,e},nextUInt16:function(){var e=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,e},nextUInt32:function(){var e=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},nextInt16:function(){var e=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},nextInt32:function(){var e=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},nextFloat:function(){var e=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},nextDouble:function(){var e=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},nextBuffer:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return this.offset+=e,t},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(e){var t=this.arrayBuffer.slice(this.offset,this.offset+e);return t=String.fromCharCode.apply(null,new this.global.Uint8Array(t)),this.offset+=e,t},mark:function(){var e=this;return{openWithOffset:function(r){return r=(r||0)+this.offset,new t(e.arrayBuffer,r,e.arrayBuffer.byteLength-r,!e.littleEndian,e.global,e.parentOffset)},offset:this.offset,getParentOffset:function(){return e.parentOffset}}},offsetFrom:function(e){return this.parentOffset+this.offset-(e.offset+e.getParentOffset())},skip:function(e){this.offset+=e},branch:function(e,r){return r="number"==typeof r?r:this.arrayBuffer.byteLength-(this.offset+e),new t(this.arrayBuffer,this.offset+e,r,!this.littleEndian,this.global,this.parentOffset)}},e.exports=t},1672(e){e.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},7032(e){function t(e,t){switch(e){case 1:return t.nextUInt8();case 3:case 8:return t.nextUInt16();case 4:case 9:return t.nextUInt32();case 5:return[t.nextUInt32(),t.nextUInt32()];case 6:return t.nextInt8();case 10:return[t.nextInt32(),t.nextInt32()];case 11:return t.nextFloat();case 12:return t.nextDouble();default:throw new Error("Invalid format while decoding: "+e)}}function r(e,r){var n,i,s=r.nextUInt16(),a=r.nextUInt16(),o=function(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}(a),c=r.nextUInt32(),u=o*c;if(u>4&&(r=e.openWithOffset(r.nextUInt32())),2===a){var l=(n=r.nextString(c)).indexOf("\0");-1!==l&&(n=n.substr(0,l))}else if(7===a)n=r.nextBuffer(c);else if(0!==a)for(n=[],i=0;i<c;++i)n.push(t(a,r));return u<4&&r.skip(4-u),[s,n,a]}function n(e,t,n){var i,s,a=t.nextUInt16();for(s=0;s<a;++s)n((i=r(e,t))[0],i[1],i[2])}e.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(e,t){var r,i,s,a;try{r=function(e){if("Exif\0\0"!==e.nextString(6))throw new Error("Invalid EXIF header");var t=e.mark(),r=e.nextUInt16();if(18761===r)e.setBigEndian(!1);else{if(19789!==r)throw new Error("Invalid TIFF header");e.setBigEndian(!0)}if(42!==e.nextUInt16())throw new Error("Invalid TIFF data");return t}(e)}catch(e){return!1}var o=r.openWithOffset(e.nextUInt32()),c=this.IFD0;n(r,o,function(e,r,n){switch(e){case 34853:s=r[0];break;case 34665:i=r[0];break;default:t(c,e,r,n)}});var u=o.nextUInt32();if(0!==u){var l=r.openWithOffset(u);n(r,l,t.bind(null,this.IFD1))}if(s){var h=r.openWithOffset(s);n(r,h,t.bind(null,this.GPSIFD))}if(i){var f=r.openWithOffset(i),d=this.InteropIFD;n(r,f,function(e,r,n){40965===e?a=r[0]:t(d,e,r,n)})}if(a){var p=r.openWithOffset(a);n(r,p,t.bind(null,this.InteropIFD))}return!0}}},2020(e){e.exports={parseSections:function(e,t){var r,n;for(e.setBigEndian(!0);e.remainingLength()>0&&218!==n;){if(255!==e.nextUInt8())throw new Error("Invalid JPEG section offset");r=(n=e.nextUInt8())>=208&&n<=217||218===n?0:e.nextUInt16()-2,t(n,e.branch(0,r)),e.skip(r)}},getSizeFromSOFSection:function(e){return e.skip(1),{height:e.nextUInt16(),width:e.nextUInt16()}},getSectionName:function(e){var t,r;switch(e){case 216:t="SOI";break;case 196:t="DHT";break;case 219:t="DQT";break;case 221:t="DRI";break;case 218:t="SOS";break;case 254:t="COM";break;case 217:t="EOI";break;default:e>=224&&e<=239?(t="APP",r=e-224):e>=192&&e<=207&&196!==e&&200!==e&&204!==e?(t="SOF",r=e-192):e>=208&&e<=215&&(t="RST",r=e-208)}var n={name:t};return"number"==typeof r&&(n.index=r),n}}},5225(e,t,r){var n=r(2020),i=r(7032),s=r(3705);function a(e,t,r,n,i,s,a){this.startMarker=e,this.tags=t,this.imageSize=r,this.thumbnailOffset=n,this.thumbnailLength=i,this.thumbnailType=s,this.app1Offset=a}function o(e){this.stream=e,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}a.prototype={hasThumbnail:function(e){return!(!this.thumbnailOffset||!this.thumbnailLength||"string"==typeof e&&("image/jpeg"===e.toLowerCase().trim()?6!==this.thumbnailType:"image/tiff"!==e.toLowerCase().trim()||1!==this.thumbnailType))},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var e,t=this._getThumbnailStream();return n.parseSections(t,function(t,r){"SOF"===n.getSectionName(t).name&&(e=n.getSizeFromSOFSection(r))}),e}},o.prototype={enableBinaryFields:function(e){return this.flags.readBinaryTags=!!e,this},enablePointers:function(e){return this.flags.hidePointers=!e,this},enableTagNames:function(e){return this.flags.resolveTagNames=!!e,this},enableImageSize:function(e){return this.flags.imageSize=!!e,this},enableReturnTags:function(e){return this.flags.returnTags=!!e,this},enableSimpleValues:function(e){return this.flags.simplifyValues=!!e,this},parse:function(){var e,t,o,c,u,l,h,f,d,p=this.stream.mark(),g=p.openWithOffset(0),m=this.flags;return m.resolveTagNames&&(h=r(1672)),m.resolveTagNames?(e={},f=function(t){return e[t.name]},d=function(t,r){e[t.name]=r}):(e=[],f=function(t){var r;for(r=0;r<e.length;++r)if(e[r].type===t.type&&e[r].section===t.section)return e.value},d=function(t,r){var n;for(n=0;n<e.length;++n)if(e[n].type===t.type&&e[n].section===t.section)return void(e.value=r)}),n.parseSections(g,function(r,a){var f=a.offsetFrom(p);225===r?i.parseTags(a,function(t,r,n,a){if(m.readBinaryTags||7!==a){if(513===r){if(o=n[0],m.hidePointers)return}else if(514===r){if(c=n[0],m.hidePointers)return}else if(259===r&&(u=n[0],m.hidePointers))return;if(m.returnTags)if(m.simplifyValues&&(n=s.simplifyValue(n,a)),m.resolveTagNames){var l=(t===i.GPSIFD?h.gps:h.exif)[r];l||(l=h.exif[r]),e.hasOwnProperty(l)||(e[l]=n)}else e.push({section:t,type:r,value:n})}})&&(l=f):m.imageSize&&"SOF"===n.getSectionName(r).name&&(t=n.getSizeFromSOFSection(a))}),m.simplifyValues&&(s.castDegreeValues(f,d),s.castDateValues(f,d)),new a(p,e,t,o,c,u,l)}},e.exports=o},3705(e,t,r){var n=r(7032),i=r(8814),s=[{section:n.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:n.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],a=[{section:n.SubIFD,type:306,name:"ModifyDate"},{section:n.SubIFD,type:36867,name:"DateTimeOriginal"},{section:n.SubIFD,type:36868,name:"CreateDate"},{section:n.SubIFD,type:306,name:"ModifyDate"}];e.exports={castDegreeValues:function(e,t){s.forEach(function(r){var n=e(r);if(n){var i=e({section:r.section,type:r.refType,name:r.refName})===r.posVal?1:-1,s=(n[0]+n[1]/60+n[2]/3600)*i;t(r,s)}})},castDateValues:function(e,t){a.forEach(function(r){var n=e(r);if(n){var s=i.parseExifDate(n);void 0!==s&&t(r,s)}})},simplifyValue:function(e,t){return Array.isArray(e)&&1===(e=e.map(function(e){return 10===t||5===t?e[0]/e[1]:e})).length&&(e=e[0]),e}}},1743(e,t,r){"use strict";var n=r(5433),i=r(1483);function s(e,t){for(var r in t)u(t,r)&&(e[r]=t[r])}function a(e){return e&&"string"==typeof e}function o(e){var t={};for(var r in e)t[r]=e[r];return t}function c(e){return e&&"object"==typeof e||n(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var r=arguments[t];a(r)&&(r=o(r)),c(r)&&(s(e,r),i(e,r))}return e}},5867(module,__unused_webpack_exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(1048).Buffer;const{multiByteIndexOf,stringToBytes,readUInt64LE,tarHeaderChecksumMatches,uint8ArrayUtf8ByteString}=__webpack_require__(9315),supported=__webpack_require__(2009),xpiZipFilename=stringToBytes("META-INF/mozilla.rsa"),oxmlContentTypes=stringToBytes("[Content_Types].xml"),oxmlRels=stringToBytes("_rels/.rels"),fileType=e=>{if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1))return;const r=(e,r)=>{r={offset:0,...r};for(let n=0;n<e.length;n++)if(r.mask){if(e[n]!==(r.mask[n]&t[n+r.offset]))return!1}else if(e[n]!==t[n+r.offset])return!1;return!0},n=(e,t)=>r(stringToBytes(e),t);if(r([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(r([137,80,78,71,13,10,26,10])){const e=33,r=t.findIndex((r,n)=>n>=e&&73===t[n]&&68===t[n+1]&&65===t[n+2]&&84===t[n+3]),n=t.subarray(e,r);return n.findIndex((e,t)=>97===n[t]&&99===n[t+1]&&84===n[t+2]&&76===n[t+3])>=0?{ext:"apng",mime:"image/apng"}:{ext:"png",mime:"image/png"}}if(r([71,73,70]))return{ext:"gif",mime:"image/gif"};if(r([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(r([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((r([73,73,42,0])||r([77,77,0,42]))&&r([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(r([73,73,42,0])&&(r([16,251,134,1],{offset:4})||r([8,0,0,0],{offset:4}))&&r([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9}))return{ext:"arw",mime:"image/x-sony-arw"};if(r([73,73,42,0,8,0,0,0])&&(r([45,0,254,0],{offset:8})||r([39,0,254,0],{offset:8})))return{ext:"dng",mime:"image/x-adobe-dng"};if(r([73,73,42,0])&&r([28,0,254,0],{offset:8}))return{ext:"nef",mime:"image/x-nikon-nef"};if(r([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(n("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(r([73,73,42,0])||r([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(r([66,77]))return{ext:"bmp",mime:"image/bmp"};if(r([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(r([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};const i=[80,75,3,4];if(r(i)){if(r([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(r(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(n("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(n("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};let e,s=0,a=!1;do{const o=s+30;if(a||(a=r(oxmlContentTypes,{offset:o})||r(oxmlRels,{offset:o})),e||(n("word/",{offset:o})?e={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:n("ppt/",{offset:o})?e={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:n("xl/",{offset:o})&&(e={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),a&&e)return e;s=multiByteIndexOf(t,i,o)}while(s>=0);if(e)return e}if(r([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(r([48,48,48,48,48,48],{offset:148,mask:[248,248,248,248,248,248]})&&tarHeaderChecksumMatches(t))return{ext:"tar",mime:"application/x-tar"};if(r([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(r([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(r([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(r([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(r([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(r([102,114,101,101],{offset:4})||r([109,100,97,116],{offset:4})||r([109,111,111,118],{offset:4})||r([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n("ftyp",{offset:4})&&96&t[8]){const e=uint8ArrayUtf8ByteString(t,8,12).replace("\0"," ").trim();switch(e){case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};default:return e.startsWith("3g")?e.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(r([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(r([26,69,223,163])){const e=t.subarray(4,4100),r=e.findIndex((e,t,r)=>66===r[t]&&130===r[t+1]);if(-1!==r){const t=r+3,n=r=>[...r].every((r,n)=>e[t+n]===r.charCodeAt(0));if(n("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(n("webm"))return{ext:"webm",mime:"video/webm"}}}if(r([82,73,70,70])){if(r([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(r([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(r([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(r([48,38,178,117,142,102,207,17,166,217])){let e=30;do{const n=readUInt64LE(t,e+16);if(r([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:e})){if(r([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(r([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}e+=n}while(e+24<=t.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(r([0,0,1,186])||r([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};for(let e=0;e<2&&e<t.length-16;e++){if(r([73,68,51],{offset:e})||r([255,226],{offset:e,mask:[255,230]}))return{ext:"mp3",mime:"audio/mpeg"};if(r([255,228],{offset:e,mask:[255,230]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,248],{offset:e,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(r([255,240],{offset:e,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(r([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(r([79,103,103,83]))return r([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:r([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:r([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:r([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:r([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(r([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(r([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(r([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(r([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(r([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(r([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===t[0]||70===t[0])&&r([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(r([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(r([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(r([119,79,70,70])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(r([119,79,70,50])&&(r([0,1,0,0],{offset:4})||r([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(r([76,80],{offset:34})&&(r([0,0,1],{offset:8})||r([1,0,2],{offset:8})||r([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(r([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(r([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(r([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(r([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(r([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(r([37,33]))return{ext:"ps",mime:"application/postscript"};if(r([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(r([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(r([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(r([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(r([77,83,67,70])||r([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(r([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(r([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(r([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(r([31,160])||r([31,157]))return{ext:"Z",mime:"application/x-compress"};if(r([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(r([208,207,17,224,161,177,26,225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62]))return{ext:"msi",mime:"application/x-msi"};if(r([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(r([71],{offset:4})&&(r([71],{offset:192})||r([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(r([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(r([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(r([0,0,0,12,106,80,32,32,13,10,135,10])){if(r([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(r([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(r([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(r([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}return r([70,79,82,77])?{ext:"aif",mime:"audio/aiff"}:n("<?xml ")?{ext:"xml",mime:"application/xml"}:r([66,79,79,75,77,79,66,73],{offset:60})?{ext:"mobi",mime:"application/x-mobipocket-ebook"}:r([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:r([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:r([77,80,43])||r([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:r([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:r([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:r([212,195,178,161])||r([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:r([68,83,68,32])?{ext:"dsf",mime:"audio/x-dsf"}:r([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])?{ext:"lnk",mime:"application/x.ms.shortcut"}:r([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])?{ext:"alias",mime:"application/x.apple.alias"}:n("Creative Voice File")?{ext:"voc",mime:"audio/x-voc"}:r([11,119])?{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"}:(r([126,16,4])||r([126,24,4]))&&r([48,77,73,69],{offset:4})?{ext:"mie",mime:"application/x-mie"}:r([65,82,82,79,87,49,0,0])?{ext:"arrow",mime:"application/x-apache-arrow"}:r([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2})?{ext:"shp",mime:"application/x-esri-shape"}:void 0};module.exports=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),fileType.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",()=>{const e=new stream.PassThrough,t=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{e.fileType=fileType(t)}catch(e){reject(e)}readableStream.unshift(t),stream.pipeline?resolve(stream.pipeline(readableStream,e,()=>{})):resolve(readableStream.pipe(e))})}),Object.defineProperty(fileType,"extensions",{get:()=>new Set(supported.extensions)}),Object.defineProperty(fileType,"mimeTypes",{get:()=>new Set(supported.mimeTypes)})},2009(e){"use strict";e.exports={extensions:["jpg","png","apng","gif","webp","flif","cr2","orf","arw","dng","nef","rw2","raf","tif","bmp","jxr","psd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","msi","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","wmv","wma","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-canon-cr2","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-wma","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-msi","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/ktx","application/dicom","audio/x-musepack","text/calendar","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape"]}},9315(e,t,r){"use strict";var n=r(1048).Buffer;t.stringToBytes=e=>[...e].map(e=>e.charCodeAt(0));const i=(e,t,r)=>String.fromCharCode(...e.slice(t,r));t.readUInt64LE=(e,t=0)=>{let r=e[t],n=1,i=0;for(;++i<8;)n*=256,r+=e[t+i]*n;return r},t.tarHeaderChecksumMatches=e=>{if(e.length<512)return!1;let t=256,r=0;for(let n=0;n<148;n++){const i=e[n];t+=i,r+=128&i}for(let n=156;n<512;n++){const i=e[n];t+=i,r+=128&i}const n=parseInt(i(e,148,154),8);return n===t||n===t-(r<<1)},t.multiByteIndexOf=(e,t,r=0)=>{if(n&&n.isBuffer(e))return e.indexOf(n.from(t),r);const i=(e,t,r)=>{for(let n=1;n<t.length;n++)if(t[n]!==e[r+n])return!1;return!0};let s=e.indexOf(t[0],r);for(;s>=0;){if(i(e,t,s))return s;s=e.indexOf(t[0],s+1)}return-1},t.uint8ArrayUtf8ByteString=i},705(e,t,r){"use strict";var n=r(9617),i=Object.prototype.toString,s=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var a,o;arguments.length>=3&&(a=r),o=e,"[object Array]"===i.call(o)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)s.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,a):function(e,t,r){for(var n in e)s.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,a)}},7091(e){"use strict";e.exports=function(e,t,r){for(var n in e)if(!1===t.call(r,e[n],n,e))break}},6553(e,t,r){"use strict";var n=r(6343);function i(e){this.caches=e||{}}i.prototype={cache:function(e){return this.caches[e]||(this.caches[e]=new n)},set:function(e,t,r){var n=this.cache(e);return n.set(t,r),n},has:function(e,t){return void 0!==this.get(e,t)},get:function(e,t){var r=this.cache(e);return"string"==typeof t?r.get(t):r}},e.exports=i},8794(e){"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!=typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var s,a=function(e){for(var t=[],r=1,n=0;r<e.length;r+=1,n+=1)t[n]=e[r];return t}(arguments),o=r(0,i.length-a.length),c=[],u=0;u<o;u++)c[u]="$"+u;if(s=Function("binder","return function ("+function(e){for(var t="",r=0;r<e.length;r+=1)t+=e[r],r+1<e.length&&(t+=",");return t}(c)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof s){var t=i.apply(this,n(a,arguments));return Object(t)===t?t:this}return i.apply(e,n(a,arguments))}),i.prototype){var l=function(){};l.prototype=i.prototype,s.prototype=new l,l.prototype=null}return s}},9138(e,t,r){"use strict";var n=r(8794);e.exports=Function.prototype.bind||n},4898(e){"use strict";const t=function*(){}.constructor;e.exports=()=>t},528(e,t,r){"use strict";var n,i=r(9629),s=r(9838),a=r(9110),o=r(1155),c=r(4943),u=r(5731),l=r(3468),h=r(2140),f=r(8479),d=r(8449),p=r(8129),g=r(2387),m=r(5865),y=r(1319),b=r(6882),w=Function,v=function(e){try{return w('"use strict"; return ('+e+").constructor;")()}catch(e){}},S=r(9336),E=r(4940),_=function(){throw new l},I=S?function(){try{return _}catch(e){try{return S(arguments,"callee").get}catch(e){return _}}}():_,x=r(3558)(),A=r(6369),k=r(7345),T=r(7859),M=r(6095),C=r(4531),R={},D="undefined"!=typeof Uint8Array&&A?A(Uint8Array):n,O={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":x&&A?A([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":R,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":x&&A?A(A([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&x&&A?A((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":S,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":o,"%ReferenceError%":c,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&x&&A?A((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":x&&A?A(""[Symbol.iterator]()):n,"%Symbol%":x?Symbol:n,"%SyntaxError%":u,"%ThrowTypeError%":I,"%TypedArray%":D,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":C,"%Function.prototype.apply%":M,"%Object.defineProperty%":E,"%Object.getPrototypeOf%":k,"%Math.abs%":f,"%Math.floor%":d,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":m,"%Math.round%":y,"%Math.sign%":b,"%Reflect.getPrototypeOf%":T};if(A)try{null.error}catch(e){var F=A(A(e));O["%Error.prototype%"]=F}var P=function e(t){var r;if("%AsyncFunction%"===t)r=v("async function () {}");else if("%GeneratorFunction%"===t)r=v("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=v("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&A&&(r=A(i.prototype))}return O[t]=r,r},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=r(9138),L=r(8554),U=B.call(C,Array.prototype.concat),V=B.call(M,Array.prototype.splice),j=B.call(C,String.prototype.replace),z=B.call(C,String.prototype.slice),$=B.call(C,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,G=/\\(\\)?/g,W=function(e,t){var r,n=e;if(L(N,n)&&(n="%"+(r=N[n])[0]+"%"),L(O,n)){var i=O[n];if(i===R&&(i=P(n)),void 0===i&&!t)throw new l("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new u("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new l('"allowMissing" argument must be a boolean');if(null===$(/^%?[^%]*%?$/,e))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=z(e,0,1),r=z(e,-1);if("%"===t&&"%"!==r)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new u("invalid intrinsic syntax, expected opening `%`");var n=[];return j(e,q,function(e,t,r,i){n[n.length]=r?j(i,G,"$1"):t||e}),n}(e),n=r.length>0?r[0]:"",i=W("%"+n+"%",t),s=i.name,a=i.value,o=!1,c=i.alias;c&&(n=c[0],V(r,U([0,1],c)));for(var h=1,f=!0;h<r.length;h+=1){var d=r[h],p=z(d,0,1),g=z(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===g||"'"===g||"`"===g)&&p!==g)throw new u("property names with quotes must have matching quotes");if("constructor"!==d&&f||(o=!0),L(O,s="%"+(n+="."+d)+"%"))a=O[s];else if(null!=a){if(!(d in a)){if(!t)throw new l("base intrinsic for "+e+" exists, but the property is not available.");return}if(S&&h+1>=r.length){var m=S(a,d);a=(f=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:a[d]}else f=L(a,d),a=a[d];f&&!o&&(O[s]=a)}}return a}},7345(e,t,r){"use strict";var n=r(9629);e.exports=n.getPrototypeOf||null},7859(e){"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},6369(e,t,r){"use strict";var n=r(7859),i=r(7345),s=r(6423);e.exports=n?function(e){return n(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("getProto: not an object");return i(e)}:s?function(e){return s(e)}:null},5302(e){function t(e){return e?Array.isArray(e)?e.join("."):e:""}e.exports=function(e,r,n,i,s){if(null===(a=e)||"object"!=typeof a&&"function"!=typeof a||!r)return e;var a;if(r=t(r),n&&(r+="."+t(n)),i&&(r+="."+t(i)),s&&(r+="."+t(s)),r in e)return e[r];for(var o=r.split("."),c=o.length,u=-1;e&&++u<c;){for(var l=o[u];"\\"===l[l.length-1];)l=l.slice(0,-1)+"."+o[++u];e=e[l]}return e}},5328(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deinterlace=void 0,t.deinterlace=function(e,t){for(var r=new Array(e.length),n=e.length/t,i=function(n,i){var s=e.slice(i*t,(i+1)*t);r.splice.apply(r,[n*t,t].concat(s))},s=[0,4,2,1],a=[8,8,4,2],o=0,c=0;c<4;c++)for(var u=s[c];u<n;u+=a[c])i(u,o),o++;return r}},6560(e,t,r){"use strict";t.Ud=t.O5=void 0;var n,i=(n=r(7128))&&n.__esModule?n:{default:n},s=r(5005),a=r(538),o=r(5328),c=r(2747);t.O5=function(e){var t=new Uint8Array(e);return(0,s.parse)((0,a.buildStream)(t),i.default)},t.Ud=function(e,t){return e.frames.filter(function(e){return e.image}).map(function(r){return function(e,t,r){if(e.image){var n=e.image,i=n.descriptor.width*n.descriptor.height,s=(0,c.lzw)(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(s=(0,o.deinterlace)(s,n.descriptor.width));var a={pixels:s,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?a.colorTable=n.lct:a.colorTable=t,e.gce&&(a.delay=10*(e.gce.delay||10),a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),r&&(a.patch=function(e){for(var t=e.pixels.length,r=new Uint8ClampedArray(4*t),n=0;n<t;n++){var i=4*n,s=e.pixels[n],a=e.colorTable[s]||[0,0,0];r[i]=a[0],r[i+1]=a[1],r[i+2]=a[2],r[i+3]=s!==e.transparentIndex?255:0}return r}(a)),a}console.warn("gif frame does not have associated image.")}(r,e.gct,t)})}},2747(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lzw=void 0,t.lzw=function(e,t,r){var n,i,s,a,o,c,u,l,h,f,d,p,g,m,y,b,w=4096,v=r,S=new Array(r),E=new Array(w),_=new Array(w),I=new Array(4097);for(o=1+(i=1<<(f=e)),n=i+2,u=-1,s=(1<<(a=f+1))-1,l=0;l<i;l++)E[l]=0,_[l]=l;for(d=p=g=m=y=b=0,h=0;h<v;){if(0===m){if(p<a){d+=t[b]<<p,p+=8,b++;continue}if(l=d&s,d>>=a,p-=a,l>n||l==o)break;if(l==i){s=(1<<(a=f+1))-1,n=i+2,u=-1;continue}if(-1==u){I[m++]=_[l],u=l,g=l;continue}for(c=l,l==n&&(I[m++]=g,l=u);l>i;)I[m++]=_[l],l=E[l];g=255&_[l],I[m++]=g,n<w&&(E[n]=u,_[n]=g,0===(++n&s)&&n<w&&(a++,s+=n)),u=c}m--,S[y++]=I[m],h++}for(h=y;h<v;h++)S[h]=0;return S}},1292(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},9336(e,t,r){"use strict";var n=r(1292);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},7239(e,t,r){"use strict";var n=r(4940),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},3558(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(2908);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},2908(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(e,t);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},1913(e,t,r){"use strict";var n=r(2908);e.exports=function(){return n()&&!!Symbol.toStringTag}},8418(e,t,r){"use strict";var n=r(9537),i=r(819),s=r(5302);e.exports=function(e,t){return i(n(e)&&t?s(e,t):e)}},819(e,t,r){"use strict";var n=r(1182),i=r(8424);e.exports=function e(t){if(i(t))return!0;switch(n(t)){case"null":case"boolean":case"function":return!0;case"string":case"arguments":return 0!==t.length;case"error":return""!==t.message;case"array":var r=t.length;if(0===r)return!1;for(var s=0;s<r;s++)if(e(t[s]))return!0;return!1;case"file":case"map":case"set":return 0!==t.size;case"object":var a=Object.keys(t);if(0===a.length)return!1;for(s=0;s<a.length;s++)if(e(t[a[s]]))return!0;return!1;default:return!1}}},1848(e,t,r){"use strict";var n=r(5636).Buffer,i=r(1983).Transform;function s(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r(5615)(s,i),s.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},s.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)};var a="undefined"!=typeof Uint8Array,o="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&ArrayBuffer.isView&&(n.prototype instanceof Uint8Array||n.TYPED_ARRAY_SUPPORT);s.prototype.update=function(e,t){if(this._finalized)throw new Error("Digest already called");e=function(e,t){if(e instanceof n)return e;if("string"==typeof e)return n.from(e,t);if(o&&ArrayBuffer.isView(e)){if(0===e.byteLength)return n.alloc(0);var r=n.from(e.buffer,e.byteOffset,e.byteLength);if(r.byteLength===e.byteLength)return r}if(a&&e instanceof Uint8Array)return n.from(e);if(n.isBuffer(e)&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))return n.from(e);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}(e,t);for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var c=0,u=8*e.length;u>0;++c)this._length[c]+=u,(u=this._length[c]/4294967296|0)>0&&(this._length[c]-=4294967296*u);return this},s.prototype._update=function(){throw new Error("_update is not implemented")},s.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},s.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=s},9499(e,t,r){var n=t;n.utils=r(461),n.common=r(2191),n.sha=r(5746),n.ripemd=r(4169),n.hmac=r(1825),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},2191(e,t,r){"use strict";var n=r(461),i=r(7784);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},1825(e,t,r){"use strict";var n=r(461),i=r(7784);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},4169(e,t,r){"use strict";var n=r(461),i=r(2191),s=n.rotl32,a=n.sum32,o=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,u),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],b=r,w=n,v=i,S=u,E=l,_=0;_<80;_++){var I=a(s(c(r,h(_,n,i,u),e[p[_]+t],f(_)),m[_]),l);r=l,l=u,u=s(i,10),i=n,n=I,I=a(s(c(b,h(79-_,w,v,S),e[g[_]+t],d(_)),y[_]),E),b=E,E=S,S=s(v,10),v=w,w=I}I=o(this.h[1],i,S),this.h[1]=o(this.h[2],u,E),this.h[2]=o(this.h[3],l,b),this.h[3]=o(this.h[4],r,w),this.h[4]=o(this.h[0],n,v),this.h[0]=I},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},5746(e,t,r){"use strict";t.sha1=r(2986),t.sha224=r(5393),t.sha256=r(536),t.sha384=r(2348),t.sha512=r(2157)},2986(e,t,r){"use strict";var n=r(461),i=r(2191),s=r(600),a=n.rotl32,o=n.sum32,c=n.sum32_5,u=s.ft_1,l=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,l),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=a(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],l=this.h[2],f=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=c(a(i,5),u(p,s,l,f),d,r[n],h[p]);d=f,f=l,l=a(s,30),s=i,i=g}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],l),this.h[3]=o(this.h[3],f),this.h[4]=o(this.h[4],d)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},5393(e,t,r){"use strict";var n=r(461),i=r(536);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},536(e,t,r){"use strict";var n=r(461),i=r(2191),s=r(600),a=r(7784),o=n.sum32,c=n.sum32_4,u=n.sum32_5,l=s.ch32,h=s.maj32,f=s.s0_256,d=s.s1_256,p=s.g0_256,g=s.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(b,m),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],m=this.h[2],y=this.h[3],b=this.h[4],w=this.h[5],v=this.h[6],S=this.h[7];for(a(this.k.length===r.length),n=0;n<r.length;n++){var E=u(S,d(b),l(b,w,v),this.k[n],r[n]),_=o(f(i),h(i,s,m));S=v,v=w,w=b,b=o(y,E),y=m,m=s,s=i,i=o(E,_)}this.h[0]=o(this.h[0],i),this.h[1]=o(this.h[1],s),this.h[2]=o(this.h[2],m),this.h[3]=o(this.h[3],y),this.h[4]=o(this.h[4],b),this.h[5]=o(this.h[5],w),this.h[6]=o(this.h[6],v),this.h[7]=o(this.h[7],S)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},2348(e,t,r){"use strict";var n=r(461),i=r(2157);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},2157(e,t,r){"use strict";var n=r(461),i=r(2191),s=r(7784),a=n.rotr64_hi,o=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,l=n.sum64,h=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function v(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function S(e,t,r,n,i,s){var a=t&n^~t&s;return a<0&&(a+=4294967296),a}function E(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function _(e,t,r,n,i,s){var a=t&n^t&s^n&s;return a<0&&(a+=4294967296),a}function I(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function A(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function k(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function T(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function C(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function R(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(w,y),e.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=C(r[n-4],r[n-3]),s=R(r[n-4],r[n-3]),a=r[n-14],o=r[n-13],c=T(r[n-30],r[n-29]),u=M(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=d(i,s,a,o,c,u,l,h),r[n+1]=p(i,s,a,o,c,u,l,h)}},w.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],d=this.h[6],p=this.h[7],y=this.h[8],b=this.h[9],w=this.h[10],T=this.h[11],M=this.h[12],C=this.h[13],R=this.h[14],D=this.h[15];s(this.k.length===r.length);for(var O=0;O<r.length;O+=2){var F=R,P=D,N=A(y,b),B=k(y,b),L=v(y,0,w,0,M),U=S(0,b,0,T,0,C),V=this.k[O],j=this.k[O+1],z=r[O],$=r[O+1],q=g(F,P,N,B,L,U,V,j,z,$),G=m(F,P,N,B,L,U,V,j,z,$);F=I(n,i),P=x(n,i),N=E(n,0,a,0,c),B=_(0,i,0,o,0,u);var W=h(F,P,N,B),H=f(F,P,N,B);R=M,D=C,M=w,C=T,w=y,T=b,y=h(d,p,q,G),b=f(p,p,q,G),d=c,p=u,c=a,u=o,a=n,o=i,n=h(q,G,W,H),i=f(q,G,W,H)}l(this.h,0,n,i),l(this.h,2,a,o),l(this.h,4,c,u),l(this.h,6,d,p),l(this.h,8,y,b),l(this.h,10,w,T),l(this.h,12,M,C),l(this.h,14,R,D)},w.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},600(e,t,r){"use strict";var n=r(461).rotr32;function i(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function a(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?a(t,r,n):2===e?s(t,r,n):void 0},t.ch32=i,t.maj32=s,t.p32=a,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},461(e,t,r){"use strict";var n=r(7784),i=r(5615);function s(e,t){return 55296==(64512&e.charCodeAt(t))&&!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):s(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=a(i)),r+=c(i.toString(16))}return r},t.zero2=o,t.zero8=c,t.join32=function(e,t,r,i){var s=r-t;n(s%4==0);for(var a=new Array(s/4),o=0,c=t;o<a.length;o++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],a[o]=u>>>0}return a},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,a=(s<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=s},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,s,a,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+s>>>0)<s?1:0,e+r+i+a+(c+=(u=u+o>>>0)<o?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,s,a,o){return t+n+s+o>>>0},t.sum64_5_hi=function(e,t,r,n,i,s,a,o,c,u){var l=0,h=t;return l+=(h=h+n>>>0)<t?1:0,l+=(h=h+s>>>0)<s?1:0,l+=(h=h+o>>>0)<o?1:0,e+r+i+a+c+(l+=(h=h+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,s,a,o,c,u){return t+n+s+o+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},8554(e,t,r){"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,s=r(9138);e.exports=s.call(n,i)},4742(e,t,r){"use strict";var n=r(9499),i=r(9042),s=r(7784);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=a,a.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},a.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(r),this._reseed++,i.encode(a,t)}},9318(e,t){t.read=function(e,t,r,n,i){var s,a,o=8*i-n-1,c=(1<<o)-1,u=c>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-l)-1,d>>=-l,l+=o;l>0;s=256*s+e[t+h],h+=f,l-=8);for(a=s&(1<<-l)-1,s>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),s-=u}return(d?-1:1)*a*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var a,o,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=l?(o=0,a=l):a+h>=1?(o=(t*c-1)*Math.pow(2,i),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&o,d+=p,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;e[r+d]=255&a,d+=p,a/=256,u-=8);e[r+d-p]|=128*g}},5615(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},5640(e,t,r){"use strict";var n=r(8554),i={__proto__:null,configurable:"boolean",enumerable:"boolean",get:"function",set:"function"};e.exports=function(e,t){if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if(!e||"object"!=typeof e)return!1;if(n(e,"value")||n(e,"writable"))return!1;if(!(n(e,"get")&&"function"==typeof e.get||n(e,"set")&&"function"==typeof e.set))return!1;if(n(e,"get")&&"function"!=typeof e.get&&void 0!==e.get||n(e,"set")&&"function"!=typeof e.set&&void 0!==e.set)return!1;for(var r in e)if(n(e,r)&&n(i,r)&&typeof e[r]!==i[r]&&void 0!==e[r])return!1;return!0}},5387(e,t,r){"use strict";var n=r(1913)(),i=r(4607)("Object.prototype.toString"),s=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!s(e)||null!==e&&"object"==typeof e&&"length"in e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"callee"in e&&"[object Function]"===i(e.callee)},o=function(){return s(arguments)}();s.isLegacyArguments=a,e.exports=o?s:a},9617(e){"use strict";var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i(function(){throw 42},null,t)}catch(e){e!==r&&(i=null)}else i=null;var s=/^\s*class\b/,a=function(e){try{var t=n.call(e);return s.test(t)}catch(e){return!1}},o=function(e){try{return!a(e)&&(n.call(e),!0)}catch(e){return!1}},c=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var f=document.all;c.call(f)===c.call(document.all)&&(h=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=c.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(h(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!a(e)&&o(e)}:function(e){if(h(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return o(e);if(a(e))return!1;var t=c.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&o(e)}},1297(e,t,r){"use strict";var n=r(8554),i={__proto__:null,configurable:"boolean",enumerable:"boolean",writable:"boolean"};e.exports=function(e,t){if(!e||"object"!=typeof e)return!1;if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if(!("value"in e)&&!("writable"in e)||"get"in e||"set"in e)return!1;for(var r in e)if("value"!==r&&n(e,r)&&n(i,r)&&typeof e[r]!==i[r]&&void 0!==e[r])return!1;return!0}},6248(e,t,r){"use strict";var n=r(5640),i=r(1297);e.exports=function(e,t){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&("get"in e||"set"in e?n(e,t):i(e,t))}},5433(e,t,r){"use strict";var n=r(2685);e.exports=function(e){return n(e)||"function"==typeof e||Array.isArray(e)}},2625(e,t,r){"use strict";var n=r(4607),i=r(6132)(/^\s*(?:function)?\*/),s=r(1913)(),a=r(6369),o=n("Object.prototype.toString"),c=n("Function.prototype.toString"),u=r(4898);e.exports=function(e){if("function"!=typeof e)return!1;if(i(c(e)))return!0;if(!s)return"[object GeneratorFunction]"===o(e);if(!a)return!1;var t=u();return t&&a(e)===t.prototype}},8424(e,t,r){"use strict";var n=r(1182);e.exports=function(e){var t=n(e);if("string"===t){if(!e.trim())return!1}else if("number"!==t)return!1;return e-e+1>=0}},2685(e,t,r){"use strict";var n=r(9537);function i(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==i(e)&&"function"==typeof(t=e.constructor)&&!1!==i(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},2672(e,t,r){"use strict";var n,i=r(4607),s=r(1913)(),a=r(8554),o=r(9336);if(s){var c=i("RegExp.prototype.exec"),u={},l=function(){throw u},h={toString:l,valueOf:l};"symbol"==typeof Symbol.toPrimitive&&(h[Symbol.toPrimitive]=l),n=function(e){if(!e||"object"!=typeof e)return!1;var t=o(e,"lastIndex");if(!t||!a(t,"value"))return!1;try{c(e,h)}catch(e){return e===u}}}else{var f=i("Object.prototype.toString");n=function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===f(e)}}e.exports=n},5943(e,t,r){"use strict";var n=r(2730);e.exports=function(e){return!!n(e)}},1750(e,t,r){var n,i,s,a,o=r(9907);a=function(){"use strict";return function(){return o&&("win32"===o.platform||/^(msys|cygwin)$/.test(o.env.OSTYPE))}},t&&"object"==typeof t?e.exports=a():(i=[],void 0===(s="function"==typeof(n=a)?n.apply(t,i):n)||(e.exports=s))},9196(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},9537(e){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},6968(e,t,r){var n=r(1584),i=r(2600);e.exports={encode:n,decode:i}},2600(e,t,r){var n=r(1048).Buffer,i=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,r=799,n=3406,i=2276,s=1567,a=3784,o=5793,c=2896;function u(){}function l(e,t){for(var r,n,i=0,s=[],a=16;a>0&&!e[a-1];)a--;s.push({children:[],index:0});var o,c=s[0];for(r=0;r<a;r++){for(n=0;n<e[r];n++){for((c=s.pop()).children[c.index]=t[i];c.index>0;){if(0===s.length)throw new Error("Could not recreate Huffman Table");c=s.pop()}for(c.index++,s.push(c);s.length<=r;)s.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o;i++}r+1<a&&(s.push(o={children:[],index:0}),c.children[c.index]=o.children,c=o)}return s[0].children}function h(t,r,n,i,s,a,o,c,u,l){n.precision,n.samplesPerLine,n.scanLines;var h=n.mcusPerLine,f=n.progressive,d=(n.maxH,n.maxV,r),p=0,g=0;function m(){if(g>0)return g--,p>>g&1;if(255==(p=t[r++])){var e=t[r++];if(e)throw new Error("unexpected marker: "+(p<<8|e).toString(16))}return g=7,p>>>7}function y(e){for(var t,r=e;null!==(t=m());){if("number"==typeof(r=r[t]))return r;if("object"!=typeof r)throw new Error("invalid huffman sequence")}return null}function b(e){for(var t=0;e>0;){var r=m();if(null===r)return;t=t<<1|r,e--}return t}function w(e){var t=b(e);return t>=1<<e-1?t:t+(-1<<e)+1}var v,S=0,E=0;function _(e,t,r,n,i){var s=r%h,a=(r/h|0)*e.v+n,o=s*e.h+i;void 0===e.blocks[a]&&l.tolerantDecoding||t(e,e.blocks[a][o])}function I(e,t,r){var n=r/e.blocksPerLine|0,i=r%e.blocksPerLine;void 0===e.blocks[n]&&l.tolerantDecoding||t(e,e.blocks[n][i])}var x,A,k,T,M,C,R=i.length;C=f?0===a?0===c?function(e,t){var r=y(e.huffmanTableDC),n=0===r?0:w(r)<<u;t[0]=e.pred+=n}:function(e,t){t[0]|=m()<<u}:0===c?function(t,r){if(S>0)S--;else for(var n=a,i=o;n<=i;){var s=y(t.huffmanTableAC),c=15&s,l=s>>4;if(0!==c)r[e[n+=l]]=w(c)*(1<<u),n++;else{if(l<15){S=b(l)+(1<<l)-1;break}n+=16}}}:function(t,r){for(var n=a,i=o,s=0;n<=i;){var c=e[n],l=r[c]<0?-1:1;switch(E){case 0:var h=y(t.huffmanTableAC),f=15&h;if(s=h>>4,0===f)s<15?(S=b(s)+(1<<s),E=4):(s=16,E=1);else{if(1!==f)throw new Error("invalid ACn encoding");v=w(f),E=s?2:3}continue;case 1:case 2:r[c]?r[c]+=(m()<<u)*l:0===--s&&(E=2==E?3:0);break;case 3:r[c]?r[c]+=(m()<<u)*l:(r[c]=v<<u,E=0);break;case 4:r[c]&&(r[c]+=(m()<<u)*l)}n++}4===E&&0===--S&&(E=0)}:function(t,r){var n=y(t.huffmanTableDC),i=0===n?0:w(n);r[0]=t.pred+=i;for(var s=1;s<64;){var a=y(t.huffmanTableAC),o=15&a,c=a>>4;if(0!==o)r[e[s+=c]]=w(o),s++;else{if(c<15)break;s+=16}}};var D,O,F,P,N=0;for(O=1==R?i[0].blocksPerLine*i[0].blocksPerColumn:h*n.mcusPerColumn,s||(s=O);N<O;){for(A=0;A<R;A++)i[A].pred=0;if(S=0,1==R)for(x=i[0],M=0;M<s;M++)I(x,C,N),N++;else for(M=0;M<s;M++){for(A=0;A<R;A++)for(F=(x=i[A]).h,P=x.v,k=0;k<P;k++)for(T=0;T<F;T++)_(x,C,N,k,T);if(++N===O)break}if(N===O)do{if(255===t[r]&&0!==t[r+1])break;r+=1}while(r<t.length-2);if(g=0,(D=t[r]<<8|t[r+1])<65280)throw new Error("marker was not found");if(!(D>=65488&&D<=65495))break;r+=2}return r-d}function f(e,u){var l,h,f=[],d=u.blocksPerLine,p=u.blocksPerColumn,g=d<<3,y=new Int32Array(64),b=new Uint8Array(64);function w(e,l,h){var f,d,p,g,m,y,b,w,v,S,E=u.quantizationTable,_=h;for(S=0;S<64;S++)_[S]=e[S]*E[S];for(S=0;S<8;++S){var I=8*S;0!=_[1+I]||0!=_[2+I]||0!=_[3+I]||0!=_[4+I]||0!=_[5+I]||0!=_[6+I]||0!=_[7+I]?(f=o*_[0+I]+128>>8,d=o*_[4+I]+128>>8,p=_[2+I],g=_[6+I],m=c*(_[1+I]-_[7+I])+128>>8,w=c*(_[1+I]+_[7+I])+128>>8,y=_[3+I]<<4,b=_[5+I]<<4,v=f-d+1>>1,f=f+d+1>>1,d=v,v=p*a+g*s+128>>8,p=p*s-g*a+128>>8,g=v,v=m-b+1>>1,m=m+b+1>>1,b=v,v=w+y+1>>1,y=w-y+1>>1,w=v,v=f-g+1>>1,f=f+g+1>>1,g=v,v=d-p+1>>1,d=d+p+1>>1,p=v,v=m*i+w*n+2048>>12,m=m*n-w*i+2048>>12,w=v,v=y*r+b*t+2048>>12,y=y*t-b*r+2048>>12,b=v,_[0+I]=f+w,_[7+I]=f-w,_[1+I]=d+b,_[6+I]=d-b,_[2+I]=p+y,_[5+I]=p-y,_[3+I]=g+m,_[4+I]=g-m):(v=o*_[0+I]+512>>10,_[0+I]=v,_[1+I]=v,_[2+I]=v,_[3+I]=v,_[4+I]=v,_[5+I]=v,_[6+I]=v,_[7+I]=v)}for(S=0;S<8;++S){var x=S;0!=_[8+x]||0!=_[16+x]||0!=_[24+x]||0!=_[32+x]||0!=_[40+x]||0!=_[48+x]||0!=_[56+x]?(f=o*_[0+x]+2048>>12,d=o*_[32+x]+2048>>12,p=_[16+x],g=_[48+x],m=c*(_[8+x]-_[56+x])+2048>>12,w=c*(_[8+x]+_[56+x])+2048>>12,y=_[24+x],b=_[40+x],v=f-d+1>>1,f=f+d+1>>1,d=v,v=p*a+g*s+2048>>12,p=p*s-g*a+2048>>12,g=v,v=m-b+1>>1,m=m+b+1>>1,b=v,v=w+y+1>>1,y=w-y+1>>1,w=v,v=f-g+1>>1,f=f+g+1>>1,g=v,v=d-p+1>>1,d=d+p+1>>1,p=v,v=m*i+w*n+2048>>12,m=m*n-w*i+2048>>12,w=v,v=y*r+b*t+2048>>12,y=y*t-b*r+2048>>12,b=v,_[0+x]=f+w,_[56+x]=f-w,_[8+x]=d+b,_[48+x]=d-b,_[16+x]=p+y,_[40+x]=p-y,_[24+x]=g+m,_[32+x]=g-m):(v=o*h[S+0]+8192>>14,_[0+x]=v,_[8+x]=v,_[16+x]=v,_[24+x]=v,_[32+x]=v,_[40+x]=v,_[48+x]=v,_[56+x]=v)}for(S=0;S<64;++S){var A=128+(_[S]+8>>4);l[S]=A<0?0:A>255?255:A}}m(g*p*8);for(var v=0;v<p;v++){var S=v<<3;for(l=0;l<8;l++)f.push(new Uint8Array(g));for(var E=0;E<d;E++){w(u.blocks[v][E],b,y);var _=0,I=E<<3;for(h=0;h<8;h++){var x=f[S+h];for(l=0;l<8;l++)x[I+l]=b[_++]}}}return f}function d(e){return e<0?0:e>255?255:e}u.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(t){var r=1e3*this.opts.maxResolutionInMP*1e3,n=0;function i(){var e=t[n]<<8|t[n+1];return n+=2,e}function s(){var e=i(),r=t.subarray(n,n+e-2);return n+=r.length,r}function a(e){var t,r,n=1,i=1;for(r in e.components)e.components.hasOwnProperty(r)&&(n<(t=e.components[r]).h&&(n=t.h),i<t.v&&(i=t.v));var s=Math.ceil(e.samplesPerLine/8/n),a=Math.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t=e.components[r];var o=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),c=Math.ceil(Math.ceil(e.scanLines/8)*t.v/i),u=s*t.h,l=a*t.v,h=[];m(l*u*256);for(var f=0;f<l;f++){for(var d=[],p=0;p<u;p++)d.push(new Int32Array(64));h.push(d)}t.blocksPerLine=o,t.blocksPerColumn=c,t.blocks=h}e.maxH=n,e.maxV=i,e.mcusPerLine=s,e.mcusPerColumn=a}t.length;var o,c,u=null,d=null,p=[],g=[],y=[],b=[],w=i(),v=-1;if(this.comments=[],65496!=w)throw new Error("SOI not found");for(w=i();65497!=w;){switch(w){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var S=s();if(65534===w){var E=String.fromCharCode.apply(null,S);this.comments.push(E)}65504===w&&74===S[0]&&70===S[1]&&73===S[2]&&70===S[3]&&0===S[4]&&(u={version:{major:S[5],minor:S[6]},densityUnits:S[7],xDensity:S[8]<<8|S[9],yDensity:S[10]<<8|S[11],thumbWidth:S[12],thumbHeight:S[13],thumbData:S.subarray(14,14+3*S[12]*S[13])}),65505===w&&69===S[0]&&120===S[1]&&105===S[2]&&102===S[3]&&0===S[4]&&(this.exifBuffer=S.subarray(5,S.length)),65518===w&&65===S[0]&&100===S[1]&&111===S[2]&&98===S[3]&&101===S[4]&&0===S[5]&&(d={version:S[6],flags0:S[7]<<8|S[8],flags1:S[9]<<8|S[10],transformCode:S[11]});break;case 65499:for(var _=i()+n-2;n<_;){var I=t[n++];m(256);var x=new Int32Array(64);if(I>>4){if(I>>4!=1)throw new Error("DQT: invalid table spec");for(H=0;H<64;H++)x[e[H]]=i()}else for(H=0;H<64;H++)x[e[H]]=t[n++];p[15&I]=x}break;case 65472:case 65473:case 65474:i(),(o={}).extended=65473===w,o.progressive=65474===w,o.precision=t[n++],o.scanLines=i(),o.samplesPerLine=i(),o.components={},o.componentsOrder=[];var A=o.scanLines*o.samplesPerLine;if(A>r){var k=Math.ceil((A-r)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${k}MP`)}var T,M=t[n++];for(G=0;G<M;G++){T=t[n];var C=t[n+1]>>4,R=15&t[n+1],D=t[n+2];if(C<=0||R<=0)throw new Error("Invalid sampling factor, expected values above 0");o.componentsOrder.push(T),o.components[T]={h:C,v:R,quantizationIdx:D},n+=3}a(o),g.push(o);break;case 65476:var O=i();for(G=2;G<O;){var F=t[n++],P=new Uint8Array(16),N=0;for(H=0;H<16;H++,n++)N+=P[H]=t[n];m(16+N);var B=new Uint8Array(N);for(H=0;H<N;H++,n++)B[H]=t[n];G+=17+N,(F>>4?y:b)[15&F]=l(P,B)}break;case 65501:i(),c=i();break;case 65500:i(),i();break;case 65498:i();var L=t[n++],U=[];for(G=0;G<L;G++){X=o.components[t[n++]];var V=t[n++];X.huffmanTableDC=b[V>>4],X.huffmanTableAC=y[15&V],U.push(X)}var j=t[n++],z=t[n++],$=t[n++],q=h(t,n,o,U,c,j,z,$>>4,15&$,this.opts);n+=q;break;case 65535:255!==t[n]&&n--;break;default:if(255==t[n-3]&&t[n-2]>=192&&t[n-2]<=254){n-=3;break}if(224===w||225==w){if(-1!==v)throw new Error(`first unknown JPEG marker at offset ${v.toString(16)}, second unknown JPEG marker ${w.toString(16)} at offset ${(n-1).toString(16)}`);v=n-1;const e=i();if(255===t[n+e-2]){n+=e-2;break}}throw new Error("unknown JPEG marker "+w.toString(16))}w=i()}if(1!=g.length)throw new Error("only single frame JPEGs supported");for(var G=0;G<g.length;G++){var W=g[G].components;for(var H in W)W[H].quantizationTable=p[W[H].quantizationIdx],delete W[H].quantizationIdx}for(this.width=o.samplesPerLine,this.height=o.scanLines,this.jfif=u,this.adobe=d,this.components=[],G=0;G<o.componentsOrder.length;G++){var X=o.components[o.componentsOrder[G]];this.components.push({lines:f(0,X),scaleX:X.h/o.maxH,scaleY:X.v/o.maxV})}},getData:function(e,t){var r,n,i,s,a,o,c,u,l,h,f,p,g,y,b,w,v,S,E,_,I,x=this.width/e,A=this.height/t,k=0,T=e*t*this.components.length;m(T);var M=new Uint8Array(T);switch(this.components.length){case 1:for(r=this.components[0],h=0;h<t;h++)for(a=r.lines[0|h*r.scaleY*A],l=0;l<e;l++)f=a[0|l*r.scaleX*x],M[k++]=f;break;case 2:for(r=this.components[0],n=this.components[1],h=0;h<t;h++)for(a=r.lines[0|h*r.scaleY*A],o=n.lines[0|h*n.scaleY*A],l=0;l<e;l++)f=a[0|l*r.scaleX*x],M[k++]=f,f=o[0|l*n.scaleX*x],M[k++]=f;break;case 3:for(I=!0,this.adobe&&this.adobe.transformCode?I=!0:void 0!==this.opts.colorTransform&&(I=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],h=0;h<t;h++)for(a=r.lines[0|h*r.scaleY*A],o=n.lines[0|h*n.scaleY*A],c=i.lines[0|h*i.scaleY*A],l=0;l<e;l++)I?(f=a[0|l*r.scaleX*x],p=o[0|l*n.scaleX*x],S=d(f+1.402*((g=c[0|l*i.scaleX*x])-128)),E=d(f-.3441363*(p-128)-.71413636*(g-128)),_=d(f+1.772*(p-128))):(S=a[0|l*r.scaleX*x],E=o[0|l*n.scaleX*x],_=c[0|l*i.scaleX*x]),M[k++]=S,M[k++]=E,M[k++]=_;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(I=!1,this.adobe&&this.adobe.transformCode?I=!0:void 0!==this.opts.colorTransform&&(I=!!this.opts.colorTransform),r=this.components[0],n=this.components[1],i=this.components[2],s=this.components[3],h=0;h<t;h++)for(a=r.lines[0|h*r.scaleY*A],o=n.lines[0|h*n.scaleY*A],c=i.lines[0|h*i.scaleY*A],u=s.lines[0|h*s.scaleY*A],l=0;l<e;l++)I?(f=a[0|l*r.scaleX*x],p=o[0|l*n.scaleX*x],g=c[0|l*i.scaleX*x],y=u[0|l*s.scaleX*x],b=255-d(f+1.402*(g-128)),w=255-d(f-.3441363*(p-128)-.71413636*(g-128)),v=255-d(f+1.772*(p-128))):(b=a[0|l*r.scaleX*x],w=o[0|l*n.scaleX*x],v=c[0|l*i.scaleX*x],y=u[0|l*s.scaleX*x]),M[k++]=255-b,M[k++]=255-w,M[k++]=255-v,M[k++]=255-y;break;default:throw new Error("Unsupported color mode")}return M},copyToImageData:function(e,t){var r,n,i,s,a,o,c,u,l,h=e.width,f=e.height,p=e.data,g=this.getData(h,f),m=0,y=0;switch(this.components.length){case 1:for(n=0;n<f;n++)for(r=0;r<h;r++)i=g[m++],p[y++]=i,p[y++]=i,p[y++]=i,t&&(p[y++]=255);break;case 3:for(n=0;n<f;n++)for(r=0;r<h;r++)c=g[m++],u=g[m++],l=g[m++],p[y++]=c,p[y++]=u,p[y++]=l,t&&(p[y++]=255);break;case 4:for(n=0;n<f;n++)for(r=0;r<h;r++)a=g[m++],o=g[m++],i=g[m++],c=255-d(a*(1-(s=g[m++])/255)+s),u=255-d(o*(1-s/255)+s),l=255-d(i*(1-s/255)+s),p[y++]=c,p[y++]=u,p[y++]=l,t&&(p[y++]=255);break;default:throw new Error("Unsupported color mode")}}};var p=0,g=0;function m(e=0){var t=p+e;if(t>g){var r=Math.ceil((t-g)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${r}MB`)}p=t}return u.resetMaxMemoryUsage=function(e){p=0,g=e},u.getBytesAllocated=function(){return p},u.requestMemoryAllocation=m,u}();e.exports=function(e,t={}){var r={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...t},s=new Uint8Array(e),a=new i;a.opts=r,i.resetMaxMemoryUsage(1024*r.maxMemoryUsageInMB*1024),a.parse(s);var o=r.formatAsRGBA?4:3,c=a.width*a.height*o;try{i.requestMemoryAllocation(c);var u={width:a.width,height:a.height,exifBuffer:a.exifBuffer,data:r.useTArray?new Uint8Array(c):n.alloc(c)};a.comments.length>0&&(u.comments=a.comments)}catch(e){if(e instanceof RangeError)throw new Error("Could not allocate enough memory for the image. Required: "+c);if(e instanceof ReferenceError&&"Buffer is not defined"===e.message)throw new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw e}return a.copyToImageData(u,r.formatAsRGBA),u}},1584(e,t,r){var n=r(1048).Buffer;function i(e){Math.round;var t,r,i,s,a,o=Math.floor,c=new Array(64),u=new Array(64),l=new Array(64),h=new Array(64),f=new Array(65535),d=new Array(65535),p=new Array(64),g=new Array(64),m=[],y=0,b=7,w=new Array(64),v=new Array(64),S=new Array(64),E=new Array(256),_=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],D=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(e,t){for(var r=0,n=0,i=new Array,s=1;s<=16;s++){for(var a=1;a<=e[s];a++)i[t[n]]=[],i[t[n]][0]=r,i[t[n]][1]=s,n++,r++;r*=2}return i}function F(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(y|=1<<b),r--,--b<0&&(255==y?(P(255),P(0)):P(y),b=7,y=0)}function P(e){m.push(e)}function N(e){P(e>>8&255),P(255&e)}function B(e,t,r,n,i){for(var s,a=i[0],o=i[240],c=function(e,t){var r,n,i,s,a,o,c,u,l,h,f=0;for(l=0;l<8;++l){r=e[f],n=e[f+1],i=e[f+2],s=e[f+3],a=e[f+4],o=e[f+5],c=e[f+6];var d=r+(u=e[f+7]),g=r-u,m=n+c,y=n-c,b=i+o,w=i-o,v=s+a,S=s-a,E=d+v,_=d-v,I=m+b,x=m-b;e[f]=E+I,e[f+4]=E-I;var A=.707106781*(x+_);e[f+2]=_+A,e[f+6]=_-A;var k=.382683433*((E=S+w)-(x=y+g)),T=.5411961*E+k,M=1.306562965*x+k,C=.707106781*(I=w+y),R=g+C,D=g-C;e[f+5]=D+T,e[f+3]=D-T,e[f+1]=R+M,e[f+7]=R-M,f+=8}for(f=0,l=0;l<8;++l){r=e[f],n=e[f+8],i=e[f+16],s=e[f+24],a=e[f+32],o=e[f+40],c=e[f+48];var O=r+(u=e[f+56]),F=r-u,P=n+c,N=n-c,B=i+o,L=i-o,U=s+a,V=s-a,j=O+U,z=O-U,$=P+B,q=P-B;e[f]=j+$,e[f+32]=j-$;var G=.707106781*(q+z);e[f+16]=z+G,e[f+48]=z-G;var W=.382683433*((j=V+L)-(q=N+F)),H=.5411961*j+W,X=1.306562965*q+W,Y=.707106781*($=L+N),K=F+Y,Z=F-Y;e[f+40]=Z+H,e[f+24]=Z-H,e[f+8]=K+X,e[f+56]=K-X,f++}for(l=0;l<64;++l)h=e[l]*t[l],p[l]=h>0?h+.5|0:h-.5|0;return p}(e,t),u=0;u<64;++u)g[I[u]]=c[u];var l=g[0]-r;r=g[0],0==l?F(n[0]):(F(n[d[s=32767+l]]),F(f[s]));for(var h=63;h>0&&0==g[h];h--);if(0==h)return F(a),r;for(var m,y=1;y<=h;){for(var b=y;0==g[y]&&y<=h;++y);var w=y-b;if(w>=16){m=w>>4;for(var v=1;v<=m;++v)F(o);w&=15}s=32767+g[y],F(i[(w<<4)+d[s]]),F(f[s]),y++}return 63!=h&&F(a),r}function L(e){e<=0&&(e=1),e>100&&(e=100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=o((t[r]*e+50)/100);n<1?n=1:n>255&&(n=255),c[I[r]]=n}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var a=o((i[s]*e+50)/100);a<1?a=1:a>255&&(a=255),u[I[s]]=a}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var g=0;g<8;g++)l[d]=1/(c[I[d]]*f[p]*f[g]*8),h[d]=1/(u[I[d]]*f[p]*f[g]*8),d++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){var o;(new Date).getTime(),a&&L(a),m=new Array,y=0,b=7,N(65496),N(65504),N(16),P(74),P(70),P(73),P(70),P(0),P(1),P(1),P(0),N(1),N(1),P(0),P(0),void 0!==(o=e.comments)&&o.constructor===Array&&o.forEach(e=>{if("string"==typeof e){N(65534);var t,r=e.length;for(N(r+2),t=0;t<r;t++)P(e.charCodeAt(t))}}),function(e){if(e){N(65505),69===e[0]&&120===e[1]&&105===e[2]&&102===e[3]?N(e.length+2):(N(e.length+5+2),P(69),P(120),P(105),P(102),P(0));for(var t=0;t<e.length;t++)P(e[t])}}(e.exifBuffer),function(){N(65499),N(132),P(0);for(var e=0;e<64;e++)P(c[e]);P(1);for(var t=0;t<64;t++)P(u[t])}(),function(e,t){N(65472),N(17),P(8),N(t),N(e),P(3),P(1),P(17),P(0),P(2),P(17),P(1),P(3),P(17),P(1)}(e.width,e.height),function(){N(65476),N(418),P(0);for(var e=0;e<16;e++)P(x[e+1]);for(var t=0;t<=11;t++)P(A[t]);P(16);for(var r=0;r<16;r++)P(k[r+1]);for(var n=0;n<=161;n++)P(T[n]);P(1);for(var i=0;i<16;i++)P(M[i+1]);for(var s=0;s<=11;s++)P(C[s]);P(17);for(var a=0;a<16;a++)P(R[a+1]);for(var o=0;o<=161;o++)P(D[o])}(),N(65498),N(12),P(3),P(1),P(0),P(2),P(17),P(3),P(17),P(0),P(63),P(0);var f=0,d=0,p=0;y=0,b=7,this.encode.displayName="_encode_";for(var g,E,I,O,U,V,j,z,$,q=e.data,G=e.width,W=e.height,H=4*G,X=0;X<W;){for(g=0;g<H;){for(V=U=H*X+g,j=-1,z=0,$=0;$<64;$++)V=U+(z=$>>3)*H+(j=4*(7&$)),X+z>=W&&(V-=H*(X+1+z-W)),g+j>=H&&(V-=g+j-H+4),E=q[V++],I=q[V++],O=q[V++],w[$]=(_[E]+_[I+256|0]+_[O+512|0]>>16)-128,v[$]=(_[E+768|0]+_[I+1024|0]+_[O+1280|0]>>16)-128,S[$]=(_[E+1280|0]+_[I+1536|0]+_[O+1792|0]>>16)-128;f=B(w,l,f,t,i),d=B(v,h,d,r,s),p=B(S,h,p,r,s),g+=32}X+=8}if(b>=0){var Y=[];Y[1]=b+1,Y[0]=(1<<b+1)-1,F(Y)}return N(65497),n.from(m)},(new Date).getTime(),e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)E[t]=e(t)}(),t=O(x,A),r=O(M,C),i=O(k,T),s=O(R,D),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)d[32767+n]=r,f[32767+n]=[],f[32767+n][1]=r,f[32767+n][0]=n;for(var i=-(t-1);i<=-e;i++)d[32767+i]=r,f[32767+i]=[],f[32767+i][1]=r,f[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)_[e]=19595*e,_[e+256|0]=38470*e,_[e+512|0]=7471*e+32768,_[e+768|0]=-11059*e,_[e+1024|0]=-21709*e,_[e+1280|0]=32768*e+8421375,_[e+1536|0]=-27439*e,_[e+1792|0]=-5329*e}(),L(e),(new Date).getTime()}e.exports=function(e,t){return void 0===t&&(t=50),{data:new i(t).encode(e,t),width:e.width,height:e.height}}},5005(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loop=t.conditional=t.parse=void 0,t.parse=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(r))r.forEach(function(r){return e(t,r,n,i)});else if("function"==typeof r)r(t,n,i,e);else{var s=Object.keys(r)[0];Array.isArray(r[s])?(i[s]={},e(t,r[s],n,i[s])):i[s]=r[s](t,n,i,e)}return n},t.conditional=function(e,t){return function(r,n,i,s){t(r,n,i)&&s(r,e,n,i)}},t.loop=function(e,t){return function(r,n,i,s){for(var a=[],o=r.pos;t(r,n,i);){var c={};if(s(r,e,n,c),r.pos===o)break;o=r.pos,a.push(c)}return a}}},538(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readBits=t.readArray=t.readUnsigned=t.readString=t.peekBytes=t.readBytes=t.peekByte=t.readByte=t.buildStream=void 0,t.buildStream=function(e){return{data:e,pos:0}},t.readByte=function(){return function(e){return e.data[e.pos++]}},t.peekByte=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return t.data[t.pos+e]}};var r=function(e){return function(t){return t.data.subarray(t.pos,t.pos+=e)}};t.readBytes=r,t.peekBytes=function(e){return function(t){return t.data.subarray(t.pos,t.pos+e)}},t.readString=function(e){return function(t){return Array.from(r(e)(t)).map(function(e){return String.fromCharCode(e)}).join("")}},t.readUnsigned=function(e){return function(t){var n=r(2)(t);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]}},t.readArray=function(e,t){return function(n,i,s){for(var a="function"==typeof t?t(n,i,s):t,o=r(e),c=new Array(a),u=0;u<a;u++)c[u]=o(n);return c}},t.readBits=function(e){return function(t){for(var r=function(e){return e.data[e.pos++]}(t),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(e).reduce(function(t,r){var i=e[r];return i.length?t[r]=function(e,t,r){for(var n=0,i=0;i<r;i++)n+=e[t+i]&&Math.pow(2,r-i-1);return n}(n,i.index,i.length):t[r]=n[i.index],t},{})}}},7128(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(5005),i=r(538),s={blocks:function(e){for(var t=[],r=e.data.length,n=0,s=(0,i.readByte)()(e);0!==s&&s;s=(0,i.readByte)()(e)){if(e.pos+s>=r){var a=r-e.pos;t.push((0,i.readBytes)(a)(e)),n+=a;break}t.push((0,i.readBytes)(s)(e)),n+=s}for(var o=new Uint8Array(n),c=0,u=0;u<t.length;u++)o.set(t[u],c),c+=t[u].length;return o}},a=(0,n.conditional)({gce:[{codes:(0,i.readBytes)(2)},{byteSize:(0,i.readByte)()},{extras:(0,i.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,i.readUnsigned)(!0)},{transparentColorIndex:(0,i.readByte)()},{terminator:(0,i.readByte)()}]},function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&249===t[1]}),o=(0,n.conditional)({image:[{code:(0,i.readByte)()},{descriptor:[{left:(0,i.readUnsigned)(!0)},{top:(0,i.readUnsigned)(!0)},{width:(0,i.readUnsigned)(!0)},{height:(0,i.readUnsigned)(!0)},{lct:(0,i.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,n.conditional)({lct:(0,i.readArray)(3,function(e,t,r){return Math.pow(2,r.descriptor.lct.size+1)})},function(e,t,r){return r.descriptor.lct.exists}),{data:[{minCodeSize:(0,i.readByte)()},s]}]},function(e){return 44===(0,i.peekByte)()(e)}),c=(0,n.conditional)({text:[{codes:(0,i.readBytes)(2)},{blockSize:(0,i.readByte)()},{preData:function(e,t,r){return(0,i.readBytes)(r.text.blockSize)(e)}},s]},function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&1===t[1]}),u=(0,n.conditional)({application:[{codes:(0,i.readBytes)(2)},{blockSize:(0,i.readByte)()},{id:function(e,t,r){return(0,i.readString)(r.blockSize)(e)}},s]},function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&255===t[1]}),l=(0,n.conditional)({comment:[{codes:(0,i.readBytes)(2)},s]},function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&254===t[1]}),h=[{header:[{signature:(0,i.readString)(3)},{version:(0,i.readString)(3)}]},{lsd:[{width:(0,i.readUnsigned)(!0)},{height:(0,i.readUnsigned)(!0)},{gct:(0,i.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,i.readByte)()},{pixelAspectRatio:(0,i.readByte)()}]},(0,n.conditional)({gct:(0,i.readArray)(3,function(e,t){return Math.pow(2,t.lsd.gct.size+1)})},function(e,t){return t.lsd.gct.exists}),{frames:(0,n.loop)([a,u,l,o,c],function(e){var t=(0,i.peekByte)()(e);return 33===t||44===t})}];t.default=h},1182(e){var t=Object.prototype.toString;function r(e){return"function"==typeof e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var n=typeof e;if("boolean"===n)return"boolean";if("string"===n)return"string";if("number"===n)return"number";if("symbol"===n)return"symbol";if("function"===n)return"GeneratorFunction"===r(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){return!(!e.constructor||"function"!=typeof e.constructor.isBuffer)&&e.constructor.isBuffer(e)}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(n=t.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return n.slice(8,-1).toLowerCase().replace(/\s/g,"")}},2507(e,t){var r,n;void 0===(n="function"==typeof(r=function(){"use strict";function e(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function t(e){return!0===(e&&e.__isLong__)}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var r={},n={};function i(e,t){var i,s,o;return t?(o=0<=(e>>>=0)&&e<256)&&(s=n[e])?s:(i=a(e,(0|e)<0?-1:0,!0),o&&(n[e]=i),i):(o=-128<=(e|=0)&&e<128)&&(s=r[e])?s:(i=a(e,e<0?-1:0,!1),o&&(r[e]=i),i)}function s(e,t){if(isNaN(e)||!isFinite(e))return t?g:p;if(t){if(e<0)return g;if(e>=h)return v}else{if(e<=-f)return S;if(e+1>=f)return w}return e<0?s(-e,t).neg():a(e%l|0,e/l|0,t)}function a(t,r,n){return new e(t,r,n)}e.fromInt=i,e.fromNumber=s,e.fromBits=a;var o=Math.pow;function c(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return p;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return c(e.substring(1),t,r).neg();for(var i=s(o(r,8)),a=p,u=0;u<e.length;u+=8){var l=Math.min(8,e.length-u),h=parseInt(e.substring(u,u+l),r);if(l<8){var f=s(o(r,l));a=a.mul(f).add(s(h))}else a=(a=a.mul(i)).add(s(h))}return a.unsigned=t,a}function u(t){return t instanceof e?t:"number"==typeof t?s(t):"string"==typeof t?c(t):a(t.low,t.high,t.unsigned)}e.fromString=c,e.fromValue=u;var l=4294967296,h=l*l,f=h/2,d=i(1<<24),p=i(0);e.ZERO=p;var g=i(0,!0);e.UZERO=g;var m=i(1);e.ONE=m;var y=i(1,!0);e.UONE=y;var b=i(-1);e.NEG_ONE=b;var w=a(-1,2147483647,!1);e.MAX_VALUE=w;var v=a(-1,-1,!0);e.MAX_UNSIGNED_VALUE=v;var S=a(0,-2147483648,!1);e.MIN_VALUE=S;var E=e.prototype;return E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(o(e,6),this.unsigned),a=this,c="";;){var u=a.div(i),l=(a.sub(u.mul(i)).toInt()>>>0).toString(e);if((a=u).isZero())return l+c;for(;l.length<6;)l="0"+l;c=""+l+c}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return!(1&~this.low)},E.isEven=function(){return!(1&this.low)},E.equals=function(e){return t(e)||(e=u(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.compare=function(e){if(t(e)||(e=u(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(m)},E.neg=E.negate,E.add=function(e){t(e)||(e=u(e));var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=65535&this.low,o=e.high>>>16,c=65535&e.high,l=e.low>>>16,h=0,f=0,d=0,p=0;return d+=(p+=s+(65535&e.low))>>>16,f+=(d+=i+l)>>>16,h+=(f+=n+c)>>>16,h+=r+o,a((d&=65535)<<16|(p&=65535),(h&=65535)<<16|(f&=65535),this.unsigned)},E.subtract=function(e){return t(e)||(e=u(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return p;if(t(e)||(e=u(e)),e.isZero())return p;if(this.eq(S))return e.isOdd()?S:p;if(e.eq(S))return this.isOdd()?S:p;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(d)&&e.lt(d))return s(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,c=e.high>>>16,l=65535&e.high,h=e.low>>>16,f=65535&e.low,g=0,m=0,y=0,b=0;return y+=(b+=o*f)>>>16,m+=(y+=i*f)>>>16,y&=65535,m+=(y+=o*h)>>>16,g+=(m+=n*f)>>>16,m&=65535,g+=(m+=i*h)>>>16,m&=65535,g+=(m+=o*l)>>>16,g+=r*f+n*h+i*l+o*c,a((y&=65535)<<16|(b&=65535),(g&=65535)<<16|(m&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(t(e)||(e=u(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:p;var r,n,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return y;i=g}else{if(this.eq(S))return e.eq(m)||e.eq(b)?S:e.eq(S)?m:(r=this.shr(1).div(e).shl(1)).eq(p)?e.isNegative()?m:b:(n=this.sub(e.mul(r)),i=r.add(n.div(e)));if(e.eq(S))return this.unsigned?g:p;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=p}for(n=this;n.gte(e);){r=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(r)/Math.LN2),c=a<=48?1:o(2,a-48),l=s(r),h=l.mul(e);h.isNegative()||h.gt(n);)h=(l=s(r-=c,this.unsigned)).mul(e);l.isZero()&&(l=m),i=i.add(l),n=n.sub(h)}return i},E.div=E.divide,E.modulo=function(e){return t(e)||(e=u(e)),this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.not=function(){return a(~this.low,~this.high,this.unsigned)},E.and=function(e){return t(e)||(e=u(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return t(e)||(e=u(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return t(e)||(e=u(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return t(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),0==(e&=63))return this;var r=this.high;return e<32?a(this.low>>>e|r<<32-e,r>>>e,this.unsigned):a(32===e?r:r>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e})?r.apply(t,[]):r)||(e.exports=n)},6343(e){"use strict";var t=Object.prototype.hasOwnProperty;function r(e){this.__data__=e||{}}e.exports=r,r.prototype.set=function(e,t){return"__proto__"!==e&&(this.__data__[e]=t),this},r.prototype.get=function(e){return"__proto__"===e?void 0:this.__data__[e]},r.prototype.has=function(e){return"__proto__"!==e&&t.call(this.__data__,e)},r.prototype.del=function(e){return this.has(e)&&delete this.__data__[e]}},6094(e,t,r){"use strict";var n=r(9208),i=r(9535);function s(e){return e&&("function"==typeof e||!Array.isArray(e)&&"object"==typeof e)}e.exports=function(e,t,r){if(s(r))return i.apply(null,arguments);if(!Array.isArray(r))throw new TypeError("expected an array: "+n.inspect(r));for(var a=[].slice.call(arguments,3),o=0;o<r.length;o++){var c=r[o];s(c)?i.apply(null,[e,t,c].concat(a)):e[t].apply(e,[c].concat(a))}}},8479(e){"use strict";e.exports=Math.abs},8449(e){"use strict";e.exports=Math.floor},2422(e){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},8129(e){"use strict";e.exports=Math.max},2387(e){"use strict";e.exports=Math.min},5865(e){"use strict";e.exports=Math.pow},1319(e){"use strict";e.exports=Math.round},6882(e,t,r){"use strict";var n=r(2422);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},3275(e,t,r){"use strict";var n=r(5615),i=r(1848),s=r(5636).Buffer,a=new Array(16);function o(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,s,a){return c(e+(t&r|~t&n)+i+s|0,a)+t|0}function l(e,t,r,n,i,s,a){return c(e+(t&n|r&~n)+i+s|0,a)+t|0}function h(e,t,r,n,i,s,a){return c(e+(t^r^n)+i+s|0,a)+t|0}function f(e,t,r,n,i,s,a){return c(e+(r^(t|~n))+i+s|0,a)+t|0}n(o,i),o.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,s=this._d;r=u(r,n,i,s,e[0],3614090360,7),s=u(s,r,n,i,e[1],3905402710,12),i=u(i,s,r,n,e[2],606105819,17),n=u(n,i,s,r,e[3],3250441966,22),r=u(r,n,i,s,e[4],4118548399,7),s=u(s,r,n,i,e[5],1200080426,12),i=u(i,s,r,n,e[6],2821735955,17),n=u(n,i,s,r,e[7],4249261313,22),r=u(r,n,i,s,e[8],1770035416,7),s=u(s,r,n,i,e[9],2336552879,12),i=u(i,s,r,n,e[10],4294925233,17),n=u(n,i,s,r,e[11],2304563134,22),r=u(r,n,i,s,e[12],1804603682,7),s=u(s,r,n,i,e[13],4254626195,12),i=u(i,s,r,n,e[14],2792965006,17),r=l(r,n=u(n,i,s,r,e[15],1236535329,22),i,s,e[1],4129170786,5),s=l(s,r,n,i,e[6],3225465664,9),i=l(i,s,r,n,e[11],643717713,14),n=l(n,i,s,r,e[0],3921069994,20),r=l(r,n,i,s,e[5],3593408605,5),s=l(s,r,n,i,e[10],38016083,9),i=l(i,s,r,n,e[15],3634488961,14),n=l(n,i,s,r,e[4],3889429448,20),r=l(r,n,i,s,e[9],568446438,5),s=l(s,r,n,i,e[14],3275163606,9),i=l(i,s,r,n,e[3],4107603335,14),n=l(n,i,s,r,e[8],1163531501,20),r=l(r,n,i,s,e[13],2850285829,5),s=l(s,r,n,i,e[2],4243563512,9),i=l(i,s,r,n,e[7],1735328473,14),r=h(r,n=l(n,i,s,r,e[12],2368359562,20),i,s,e[5],4294588738,4),s=h(s,r,n,i,e[8],2272392833,11),i=h(i,s,r,n,e[11],1839030562,16),n=h(n,i,s,r,e[14],4259657740,23),r=h(r,n,i,s,e[1],2763975236,4),s=h(s,r,n,i,e[4],1272893353,11),i=h(i,s,r,n,e[7],4139469664,16),n=h(n,i,s,r,e[10],3200236656,23),r=h(r,n,i,s,e[13],681279174,4),s=h(s,r,n,i,e[0],3936430074,11),i=h(i,s,r,n,e[3],3572445317,16),n=h(n,i,s,r,e[6],76029189,23),r=h(r,n,i,s,e[9],3654602809,4),s=h(s,r,n,i,e[12],3873151461,11),i=h(i,s,r,n,e[15],530742520,16),r=f(r,n=h(n,i,s,r,e[2],3299628645,23),i,s,e[0],4096336452,6),s=f(s,r,n,i,e[7],1126891415,10),i=f(i,s,r,n,e[14],2878612391,15),n=f(n,i,s,r,e[5],4237533241,21),r=f(r,n,i,s,e[12],1700485571,6),s=f(s,r,n,i,e[3],2399980690,10),i=f(i,s,r,n,e[10],4293915773,15),n=f(n,i,s,r,e[1],2240044497,21),r=f(r,n,i,s,e[8],1873313359,6),s=f(s,r,n,i,e[15],4264355552,10),i=f(i,s,r,n,e[6],2734768916,15),n=f(n,i,s,r,e[13],1309151649,21),r=f(r,n,i,s,e[4],4149444226,6),s=f(s,r,n,i,e[11],3174756917,10),i=f(i,s,r,n,e[2],718787259,15),n=f(n,i,s,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+s|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=s.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=o},1929(e,t,r){var n=r(2823),i=r(7048);function s(e){this.rand=e||new i.Rand}e.exports=s,s.create=function(e){return new s(e)},s.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var i=new n(this.rand.generate(r))}while(i.cmp(e)>=0);return i},s.prototype._randrange=function(e,t){var r=t.sub(e);return e.add(this._randbelow(r))},s.prototype.test=function(e,t,r){var i=e.bitLength(),s=n.mont(e),a=new n(1).toRed(s);t||(t=Math.max(1,i/48|0));for(var o=e.subn(1),c=0;!o.testn(c);c++);for(var u=e.shrn(c),l=o.toRed(s);t>0;t--){var h=this._randrange(new n(2),o);r&&r(h);var f=h.toRed(s).redPow(u);if(0!==f.cmp(a)&&0!==f.cmp(l)){for(var d=1;d<c;d++){if(0===(f=f.redSqr()).cmp(a))return!1;if(0===f.cmp(l))break}if(d===c)return!1}}return!0},s.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),s=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var a=e.subn(1),o=0;!a.testn(o);o++);for(var c=e.shrn(o),u=a.toRed(i);t>0;t--){var l=this._randrange(new n(2),a),h=e.gcd(l);if(0!==h.cmpn(1))return h;var f=l.toRed(i).redPow(c);if(0!==f.cmp(s)&&0!==f.cmp(u)){for(var d=1;d<o;d++){if(0===(f=f.redSqr()).cmp(s))return f.fromRed().subn(1).gcd(e);if(0===f.cmp(u))break}if(d===o)return(f=f.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},7784(e){function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},9042(e,t){"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,a=255&i;s?r.push(s,a):r.push(a)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},8636(e,t,r){"use strict";var n=r(5433),i=r(7091);function s(e,t){for(var r=arguments.length,n=0;++n<r;){var s=arguments[n];o(s)&&i(s,a,e)}return e}function a(e,t){if(function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}(t)){var r=this[t];o(e)&&o(r)?s(r,e):this[t]=e}}function o(e){return n(e)&&!Array.isArray(e)}e.exports=s},1858(e,t,r){var n,i,s;!function(){"use strict";i=[t,r(9031)],void 0!==(s="function"==typeof(n=function(e,t){var r={AENC:"Audio encryption",APIC:"Attached picture",CHAP:"Chapter",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"},n={T:function(e,r,n){var i={encoding:e.getUint8(r)};return i.value=t.readStr[0===i.encoding?"iso":"ucs"](e,r+1,n-1),i},TXXX:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<2)return i;var s=0===i.encoding?"iso":"ucs",a=r+1,o=t.locateStrTrm[s](e,a,n-4);return-1===o||(i.description=t.readStr[s](e,a,o-a),o+="ucs"===s?2:1,i.value=t.readStr[s](e,o,r+n-o)),i},W:function(e,r,n){return{value:t.readStr.iso(e,r,n)}},WXXX:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<2)return i;var s=0===i.encoding?"iso":"ucs",a=r+1,o=t.locateStrTrm[s](e,a,n-4);return-1===o||(i.description=t.readStr[s](e,a,o-a),o+="ucs"===s?2:1,i.value=t.readStr.iso(e,o,r+n-o)),i},COMM:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<5)return i;var s=0===i.encoding?"iso":"ucs",a=r+4;i.language=t.readTrmStr.iso(e,r+1,3);var o=t.locateStrTrm[s](e,a,n-4);return-1===o||(i.description=t.readStr[s](e,a,o-a),o+="ucs"===s?2:1,i.text=t.readStr[s](e,o,r+n-o)),i},UFID:function(e,r,n){var i=t.readTrmStr.iso(e,r,n);return{ownerIdentifier:i,identifier:new DataView(e.buffer,r+i.length+1,n-i.length-1)}},IPLS:function(e,r,n){for(var i,s={encoding:e.getUint8(r),values:[]},a=0===s.encoding?"iso":"ucs",o=r+1;o<r+n;)-1===(i=t.locateStrTrm[a](e,o,n-(o-r)))&&(i=r+n),s.values.push(t.readStr[a](e,o,i-o)),o=i+("ucs"===a?2:1);return s},USER:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<5)return i;i.language=t.readTrmStr.iso(e,r+1,3);var s=r+4,a=0===i.encoding?"iso":"ucs";return i.text=t.readStr[a](e,s,r+n-s),i},PRIV:function(e,r,n){var i=t.readTrmStr.iso(e,r,n);return{ownerIdentifier:i,privateData:new DataView(e.buffer,r+i.length+1,n-i.length-1)}},PCNT:function(e,t,r){return r<4?{}:{counter:e.getUint32(t)}},POPM:function(e,r,n){var i={email:t.readTrmStr.iso(e,r,n)};return r+=i.email.length+1,n<6||(i.rating=e.getUint8(r),i.counter=e.getUint32(r+1)),i},APIC:function(e,r,n){var i={encoding:e.getUint8(r)};if(n<4)return i;var s,a,o=0===i.encoding?"iso":"ucs";return s=r+1,-1===(a=t.locateStrTrm.iso(e,s,n-1))||(i.mimeType=t.readStr.iso(e,s,a-s),s=a+1,i.pictureType=e.getUint8(s),s+=1,-1===(a=t.locateStrTrm[o](e,s,r+n-s))||(i.description=t.readStr[o](e,s,a-s),s=a+("ucs"===o?2:1),i.pictureData=new DataView(e.buffer,s,r+n-s))),i},CHAP:function(r,n,i){var s={encoding:r.getUint8(n)},a=t.locateStrTrm.iso(r,n,i-1);if(-1===a)return s;s.id=t.readStr.iso(r,n,a-n),s.startTime=r.getUint32(a+1),s.endTime=r.getUint32(a+5),s.startOffset=r.getUint32(a+9),s.endOffset=r.getUint32(a+13);var o=a+17;for(s.frames=[];o<n+i;){var c=e.readId3v2TagFrame(r,o);s.frames.push(c),o+=c.header.size+10}return s}};e.readId3v2TagFrame=function(e,i){var s={header:{id:t.readStr.iso(e,i,4),size:e.getUint32(i+4),flagsOctet1:e.getUint8(i+8),flagsOctet2:e.getUint8(i+9)}};if(s.header.size<1)return s;var a,o,c=(a=n,"TXXX"===(o=s.header.id)?a.TXXX:"T"===o.charAt(0)?a.T:"WXXX"===o?a.WXXX:"W"===o.charAt(0)?a.W:"COMM"===o||"USLT"===o?a.COMM:a[o]||t.noOp);return s.name=r[s.header.id],s.content=c(e,i+10,s.header.size),s},e.readId3v2Tag=function(r,n){if(n||(n=0),r.byteLength-n<10)return null;if(!t.isSeq(t.seq.id3,r,n))return null;var i=r.getUint8(n+5),s={_section:{type:"ID3v2",offset:n},header:{majorVersion:r.getUint8(n+3),minorRevision:r.getUint8(n+4),flagsOctet:i,unsynchronisationFlag:!(128&~i),extendedHeaderFlag:!(64&~i),experimentalIndicatorFlag:!(32&~i),size:t.unsynchsafe(r.getUint32(n+6))},frames:[]};s._section.byteLength=s.header.size+10;var a,o=n+s._section.byteLength;if(3!==s.header.majorVersion)return s;for(n+=10;n<o&&0!==r.getUint32(n)&&(a=e.readId3v2TagFrame(r,n));)s.frames.push(a),n+=a.header.size+10;return s}})?n.apply(t,i):n)&&(e.exports=s)}()},9031(e,t){var r,n,i;!function(){"use strict";n=[t],void 0!==(i="function"==typeof(r=function(e){var t,r=(t=[],function(e){return t[0]=128&~e?"0":"1",t[1]=64&~e?"0":"1",t[2]=32&~e?"0":"1",t[3]=16&~e?"0":"1",t[4]=8&~e?"0":"1",t[5]=4&~e?"0":"1",t[6]=2&~e?"0":"1",t[7]=1&~e?"0":"1",t.join("")});e.getFrameByteLength=function(t,r,n,i,s){var a=e.sampleLengthMap[i][s],o=n?"11"===s?4:1:0,c=1e3*t/8;return Math.floor(a*c/r+o)},e.getXingOffset=function(e,t){var r="11"===t;return"11"===e?r?21:36:r?13:21},e.v1l1Bitrates={"0000":"free","0001":32,"0010":64,"0011":96,"0100":128,"0101":160,"0110":192,"0111":224,1e3:256,1001:288,1010:320,1011:352,1100:384,1101:416,1110:448,1111:"bad"},e.v1l2Bitrates={"0000":"free","0001":32,"0010":48,"0011":56,"0100":64,"0101":80,"0110":96,"0111":112,1e3:128,1001:160,1010:192,1011:224,1100:256,1101:320,1110:384,1111:"bad"},e.v1l3Bitrates={"0000":"free","0001":32,"0010":40,"0011":48,"0100":56,"0101":64,"0110":80,"0111":96,1e3:112,1001:128,1010:160,1011:192,1100:224,1101:256,1110:320,1111:"bad"},e.v2l1Bitrates={"0000":"free","0001":32,"0010":48,"0011":56,"0100":64,"0101":80,"0110":96,"0111":112,1e3:128,1001:144,1010:160,1011:176,1100:192,1101:224,1110:256,1111:"bad"},e.v2l2Bitrates={"0000":"free","0001":8,"0010":16,"0011":24,"0100":32,"0101":40,"0110":48,"0111":56,1e3:64,1001:80,1010:96,1011:112,1100:128,1101:144,1110:160,1111:"bad"},e.v2l3Bitrates=e.v2l2Bitrates,e.v1SamplingRates={"00":44100,"01":48e3,10:32e3,11:"reserved"},e.v2SamplingRates={"00":22050,"01":24e3,10:16e3,11:"reserved"},e.v25SamplingRates={"00":11025,"01":12e3,10:8e3,11:"reserved"},e.channelModes={"00":"Stereo","01":"Joint stereo (Stereo)",10:"Dual channel (Stereo)",11:"Single channel (Mono)"},e.mpegVersionDescription={"00":"MPEG Version 2.5 (unofficial)","01":"reserved",10:"MPEG Version 2 (ISO/IEC 13818-3)",11:"MPEG Version 1 (ISO/IEC 11172-3)"},e.layerDescription={"00":"reserved","01":"Layer III",10:"Layer II",11:"Layer I"},e.bitrateMap={11:{"01":e.v1l3Bitrates,10:e.v1l2Bitrates,11:e.v1l1Bitrates},10:{"01":e.v2l3Bitrates,10:e.v2l2Bitrates,11:e.v2l1Bitrates}},e.samplingRateMap={"00":e.v25SamplingRates,10:e.v2SamplingRates,11:e.v1SamplingRates},e.v1SampleLengths={"01":1152,10:1152,11:384},e.v2SampleLengths={"01":576,10:1152,11:384},e.sampleLengthMap={"01":e.v2SampleLengths,10:e.v2SampleLengths,11:e.v1SampleLengths},e.wordSeqFromStr=function(e){for(var t=e.length-1,r=[];t>=0;--t)r[t]=e.charCodeAt(t);return r},e.seq={id3:e.wordSeqFromStr("ID3"),xing:e.wordSeqFromStr("Xing"),info:e.wordSeqFromStr("Info")},e.noOp=function(){},e.unsynchsafe=function(e){for(var t=0,r=2130706432;r;)t>>=1,t|=e&r,r>>=8;return t},e.isSeq=function(e,t,r){for(var n=e.length-1;n>=0;n--)if(e[n]!==t.getUint8(r+n))return!1;return!0},e.locateSeq=function(t,r,n,i){for(var s=0,a=i-t.length+1;s<a;++s)if(e.isSeq(t,r,n+s))return n+s;return-1},e.locateStrTrm={iso:function(t,r,n){return e.locateSeq([0],t,r,n)},ucs:function(t,r,n){var i=e.locateSeq([0,0],t,r,n);return-1===i?-1:((i-r)%2!=0&&++i,i)}},e.readStr={iso:function(e,t,r){return String.fromCharCode.apply(null,new Uint8Array(e.buffer,t,r))},ucs:function(e,t,r){65534!==e.getUint16(t)&&65279!==e.getUint16(t)||(t+=2,r-=2);var n=e.buffer;return t%2==1&&(n=n.slice(t,t+r),t=0),String.fromCharCode.apply(null,new Uint16Array(n,t,r/2))}},e.readTrmStr={iso:function(t,r,n){var i=e.locateStrTrm.iso(t,r,n);return-1!==i&&(n=i-r),e.readStr.iso(t,r,n)},ucs:function(t,r,n){var i=e.locateStrTrm.ucs(t,r,n);return-1!==i&&(n=i-r),e.readStr.ucs(t,r,n)}},e.readFrameHeader=function(t,n){if(n||(n=0),t.byteLength-n<=4)return null;if(255!==t.getUint8(n))return null;var i=t.getUint8(n+1);if(i<224)return null;var s=r(i).substr(3,2),a=r(i).substr(5,2),o={_section:{type:"frameHeader",byteLength:4,offset:n},mpegAudioVersionBits:s,mpegAudioVersion:e.mpegVersionDescription[s],layerDescriptionBits:a,layerDescription:e.layerDescription[a],isProtected:1&i};if(o.protectionBit=o.isProtected?"1":"0","reserved"===o.mpegAudioVersion)return null;if("reserved"===o.layerDescription)return null;var c=t.getUint8(n+2);if(c=r(c),o.bitrateBits=c.substr(0,4),o.bitrate=e.bitrateMap[s][a][o.bitrateBits],"bad"===o.bitrate)return null;if(o.samplingRateBits=c.substr(4,2),o.samplingRate=e.samplingRateMap[s][o.samplingRateBits],"reserved"===o.samplingRate)return null;o.frameIsPaddedBit=c.substr(6,1),o.frameIsPadded="1"===o.frameIsPaddedBit,o.framePadding=o.frameIsPadded?1:0,o.privateBit=c.substr(7,1);var u=t.getUint8(n+3);return o.channelModeBits=r(u).substr(0,2),o.channelMode=e.channelModes[o.channelModeBits],o},e.readFrame=function(t,r,n){r||(r=0);var i={_section:{type:"frame",offset:r},header:e.readFrameHeader(t,r)},s=i.header;if(!s)return null;i._section.sampleLength=e.sampleLengthMap[s.mpegAudioVersionBits][s.layerDescriptionBits],i._section.byteLength=e.getFrameByteLength(s.bitrate,s.samplingRate,s.framePadding,s.mpegAudioVersionBits,s.layerDescriptionBits),i._section.nextFrameIndex=r+i._section.byteLength;var a=e.getXingOffset(s.mpegAudioVersionBits,s.channelModeBits);return e.isSeq(e.seq.xing,t,r+a)||e.isSeq(e.seq.info,t,r+a)||n&&!e.readFrameHeader(t,i._section.nextFrameIndex)?null:i}})?r.apply(t,n):r)&&(e.exports=i)}()},3918(e,t,r){var n,i,s;!function(){"use strict";i=[t,r(9031)],void 0!==(s="function"==typeof(n=function(e,t){e.readXingTag=function(e,r){r||(r=0);var n={_section:{type:"Xing",offset:r},header:t.readFrameHeader(e,r)},i=n.header;if(!i)return null;var s=r+t.getXingOffset(i.mpegAudioVersionBits,i.channelModeBits);return e.byteLength<s+4?null:(n.identifier=t.isSeq(t.seq.xing,e,s)?"Xing":t.isSeq(t.seq.info,e,s)&&"Info",n.identifier?(n._section.byteLength=t.getFrameByteLength(i.bitrate,i.samplingRate,i.framePadding,i.mpegAudioVersionBits,i.layerDescriptionBits),n._section.nextFrameIndex=r+n._section.byteLength,n):null)}})?n.apply(t,i):n)&&(e.exports=s)}()},5007(e,t,r){var n,i,s;!function(){"use strict";i=[t,r(9031),r(1858),r(3918)],void 0!==(s="function"==typeof(n=function(e,t,r,n){e.readFrameHeader=function(e,r){return t.readFrameHeader(e,r)},e.readFrame=function(e,r,n){return t.readFrame(e,r,n)},e.readLastFrame=function(t,r,n){r||(r=t.byteLength-1);for(var i=null;r>=0;--r)if(255===t.getUint8(r)&&(i=e.readFrame(t,r,n)))return i;return null},e.readId3v2Tag=function(e,t){return r.readId3v2Tag(e,t)},e.readXingTag=function(e,t){return n.readXingTag(e,t)},e.readTags=function(t,r){r||(r=0);for(var n=[],i=null,s=!1,a=t.byteLength,o=[e.readId3v2Tag,e.readXingTag,e.readFrame],c=o.length;r<a&&!s;++r)for(var u=0;u<c;++u)if(i=o[u](t,r)){if(n.push(i),r+=i._section.byteLength,"frame"===i._section.type){s=!0;break}u=-1}return n}})?n.apply(t,i):n)&&(e.exports=s)}()},7250(e){var t=1e3,r=60*t,n=60*r,i=24*n,s=7*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,o){o=o||{};var c,u,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var o=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return o*s;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===l&&isFinite(e))return o.long?(c=e,(u=Math.abs(c))>=i?a(c,u,i,"day"):u>=n?a(c,u,n,"hour"):u>=r?a(c,u,r,"minute"):u>=t?a(c,u,t,"second"):c+" ms"):function(e){var s=Math.abs(e);return s>=i?Math.round(e/i)+"d":s>=n?Math.round(e/n)+"h":s>=r?Math.round(e/r)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6649(e,t,r){"use strict";var n=r(9208),i=r(5629),s=r(1743),a=r(2575),o=r(7429),c=r(8207),u=r(7452);function l(e,t,r){t=u.arrayify(t),e=u.arrayify(e);var n=t.length;if(0===e.length||0===n)return[];if(1===n)return l.match(e,t[0],r);for(var i=!1,s=[],a=[],o=-1;++o<n;){var c=t[o];"string"==typeof c&&33===c.charCodeAt(0)?(s.push.apply(s,l.match(e,c.slice(1),r)),i=!0):a.push.apply(a,l.match(e,c,r))}if(i&&0===a.length)if(r&&!1===r.unixify)a=e.slice();else for(var h=u.unixify(r),f=0;f<e.length;f++)a.push(h(e[f]));var d=u.diff(a,s);return r&&!1===r.nodupes?d:u.unique(d)}function h(e,t,r,n){var i=u.createKey(e+"="+t,r);if(r&&!1===r.cache)return n(t,r);if(c.has(e,i))return c.get(e,i);var s=n(t,r);return c.set(e,i,s),s}l.match=function(e,t,r){if(Array.isArray(t))throw new TypeError("expected pattern to be a string");for(var n=u.unixify(r),i=h("match",t,r,l.matcher),s=[],a=(e=u.arrayify(e)).length,o=-1;++o<a;){var c=e[o];(c===t||i(c))&&s.push(u.value(c,n,r))}if(void 0===r)return u.unique(s);if(0===s.length){if(!0===r.failglob)throw new Error('no matches found for "'+t+'"');if(!0===r.nonull||!0===r.nullglob)return[r.unescape?u.unescape(t):t]}return r.ignore&&(s=l.not(s,r.ignore,r)),!1!==r.nodupes?u.unique(s):s},l.isMatch=function(e,t,r){if("string"!=typeof e)throw new TypeError('expected a string: "'+n.inspect(e)+'"');return!u.isEmptyString(e)&&!u.isEmptyString(t)&&(!!u.equalsPattern(r)(e)||h("isMatch",t,r,l.matcher)(e))},l.some=function(e,t,r){"string"==typeof e&&(e=[e]);for(var n=0;n<e.length;n++)if(1===l(e[n],t,r).length)return!0;return!1},l.every=function(e,t,r){"string"==typeof e&&(e=[e]);for(var n=0;n<e.length;n++)if(1!==l(e[n],t,r).length)return!1;return!0},l.any=function(e,t,r){if("string"!=typeof e)throw new TypeError('expected a string: "'+n.inspect(e)+'"');if(u.isEmptyString(e)||u.isEmptyString(t))return!1;"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(l.isMatch(e,t[i],r))return!0;return!1},l.all=function(e,t,r){if("string"!=typeof e)throw new TypeError('expected a string: "'+n.inspect(e)+'"');"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(!l.isMatch(e,t[i],r))return!1;return!0},l.not=function(e,t,r){var n=s({},r),i=n.ignore;delete n.ignore,e=u.arrayify(e);var a=u.diff(e,l(e,t,n));return i&&(a=u.diff(a,l(e,i))),!1!==n.nodupes?u.unique(a):a},l.contains=function(e,t,r){if("string"!=typeof e)throw new TypeError('expected a string: "'+n.inspect(e)+'"');if("string"==typeof t){if(u.isEmptyString(e)||u.isEmptyString(t))return!1;if(u.equalsPattern(t,r)(e))return!0;if(u.containsPattern(t,r)(e))return!0}var i=s({},r,{contains:!0});return l.any(e,t,i)},l.matchBase=function(e,t){return!(e&&-1!==e.indexOf("/")||!t||!0!==t.basename&&!0!==t.matchBase)},l.matchKeys=function(e,t,r){if(!u.isObject(e))throw new TypeError("expected the first argument to be an object");var n=l(Object.keys(e),t,r);return u.pick(e,n)},l.matcher=function e(t,r){if(u.isEmptyString(t))return function(){return!1};if(Array.isArray(t))return function(e,t,r){var n;return h("compose",String(e),t,function(){return function(i){if(!n){n=[];for(var s=0;s<e.length;s++)n.push(r(e[s],t))}for(var a=n.length;a--;)if(!0===n[a](i))return!0;return!1}})}(t,r,e);if(t instanceof RegExp)return i(t);if(!u.isString(t))throw new TypeError("expected pattern to be an array, string or regex");if(!u.hasSpecialChars(t))return r&&!0===r.nocase&&(t=t.toLowerCase()),u.matchPath(t,r);var n=l.makeRe(t,r);if(l.matchBase(t,r))return u.matchBasename(n,r);function i(e){var t=u.equalsPattern(r),n=u.unixify(r);return function(r){return!!t(r)||!!e.test(n(r))}}var s=i(n);return u.define(s,"result",n.result),s},l.capture=function(e,t,r){var n=l.makeRe(e,s({capture:!0},r)),i=u.unixify(r);return h("capture",e,r,function(){return function(e){var t=n.exec(i(e));return t?t.slice(1):null}})(t)},l.makeRe=function(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected pattern to be a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");return h("makeRe",e,t,function(){var r=u.extend({wrap:!1},t),n=l.create(e,r),s=i(n.output,r);return u.define(s,"result",n),s})},l.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return h("create",e,t,function(){return l.compile(l.parse(e,t),t)})},l.parse=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return h("parse",e,t,function(){var r=u.instantiate(null,t);o(r,t);var n=r.parse(e,t);return u.define(n,"snapdragon",r),n.input=e,n})},l.compile=function(e,t){return"string"==typeof e&&(e=l.parse(e,t)),h("compile",e.input,t,function(){var r=u.instantiate(e,t);return a(r,t),r.compile(e,t)})},l.clearCache=function(){l.cache.__data__={}},l.compilers=a,l.parsers=o,l.cache=c,e.exports=l},8207(e,t,r){e.exports=new(r(6553))},2575(e){"use strict";e.exports=function(e,t){function r(){return t&&"string"==typeof t.slash?t.slash:t&&"function"==typeof t.slash?t.slash.call(e):"\\\\/"}function n(){return t&&"string"==typeof t.star?t.star:t&&"function"==typeof t.star?t.star.call(e):"[^"+r()+"]*?"}var i=e.ast=e.parser.ast;i.state=e.parser.state,e.compiler.state=i.state,e.compiler.set("not",function(e){var t=this.prev();return!0===this.options.nonegate||"bos"!==t.type?this.emit("\\"+e.val,e):this.emit(e.val,e)}).set("escape",function(e){return this.options.unescape&&/^[-\w_.]/.test(e.val)?this.emit(e.val,e):this.emit("\\"+e.val,e)}).set("quoted",function(e){return this.emit(e.val,e)}).set("dollar",function(e){return"bracket"===e.parent.type?this.emit(e.val,e):this.emit("\\"+e.val,e)}).set("dot",function(e){return!0===e.dotfiles&&(this.dotfiles=!0),this.emit("\\"+e.val,e)}).set("backslash",function(e){return this.emit(e.val,e)}).set("slash",function(e,t,n){for(var i="["+r()+"]",s=e.parent,a=this.prev();"paren"===s.type&&!s.hasSlash;)s.hasSlash=!0,s=s.parent;return a.addQmark&&(i+="?"),"\\b"===e.rest.slice(0,2)?this.emit(i,e):"**"===e.parsed||"./**"===e.parsed?(this.output="(?:"+this.output,this.emit(i+")?",e)):"!**"===e.parsed&&!0!==this.options.nonegate?this.emit(i+"?\\b",e):this.emit(i,e)}).set("bracket",function(e){var t=e.close,r=e.escaped?"\\[":"[",n=e.negated,i=e.inner,s=e.val;return!0===e.escaped&&(i=i.replace(/\\?(\W)/g,"\\$1"),n=""),"]-"===i&&(i="\\]\\-"),n&&-1===i.indexOf(".")&&(i+="."),n&&-1===i.indexOf("/")&&(i+="/"),s=r+n+i+t,this.emit(s,e)}).set("square",function(e){var t=(/^\W/.test(e.val)?"\\":"")+e.val;return this.emit(t,e)}).set("qmark",function(e){var t=this.prev(),r="[^.\\\\/]";if((this.options.dot||"bos"!==t.type&&"slash"!==t.type)&&(r="[^\\\\/]"),"("===e.parsed.slice(-1)){var n=e.rest.charAt(0);if("!"===n||"="===n||":"===n)return this.emit(e.val,e)}return e.val.length>1&&(r+="{"+e.val.length+"}"),this.emit(r,e)}).set("plus",function(e){var t=e.parsed.slice(-1);if("]"===t||")"===t)return this.emit(e.val,e);if(!this.output||/[?*+]/.test(r)&&"bracket"!==e.parent.type)return this.emit("\\+",e);var r=this.output.slice(-1);return/\w/.test(r)&&!e.inside?this.emit("+\\+?",e):this.emit("+",e)}).set("globstar",function(e,t,i){this.output||(this.state.leadingGlobstar=!0);var s=this.prev(),a=this.prev(2),o=this.next(),c=this.next(2),u=s.type,l=e.val;"slash"===s.type&&"slash"===o.type&&"text"===a.type&&(this.output+="?","text"!==c.type&&(this.output+="\\b"));var h=e.parsed;"!"===h.charAt(0)&&(h=h.slice(1));var f=e.isInside.paren||e.isInside.brace;return l=h&&"slash"!==u&&"bos"!==u&&!f?n():!0!==this.options.dot?"(?:(?!(?:["+r()+"]|^)\\.).)*?":"(?:(?!(?:["+r()+"]|^)(?:\\.{1,2})($|["+r()+"]))(?!\\.{2}).)*?","slash"!==u&&"bos"!==u||!0===this.options.dot||(l="(?!\\.)"+l),"slash"===s.type&&"slash"===o.type&&"text"!==a.type&&("text"!==c.type&&"star"!==c.type||(e.addQmark=!0)),this.options.capture&&(l="("+l+")"),this.emit(l,e)}).set("star",function(e,t,i){var s=t[i-2]||{},a=this.prev(),o=this.next(),c=a.type;function u(e){return"bos"===e.type||"slash"===e.type}if(""===this.output&&!0!==this.options.contains&&(this.output="(?!["+r()+"])"),"bracket"===c&&!1===this.options.bash){var l=o&&"bracket"===o.type?n():"*?";if(!a.nodes||"posix"!==a.nodes[1].type)return this.emit(l,e)}var h=this.dotfiles||"text"===c||"escape"===c?"":this.options.dot?"(?!(?:^|["+r()+"])\\.{1,2}(?:$|["+r()+"]))":"(?!\\.)";u(a)||u(s)&&"not"===c?h+="(?!\\.)"!==h?"(?!(\\.{2}|\\.["+r()+"]))(?=.)":"(?=.)":"(?!\\.)"===h&&(h=""),"not"===a.type&&"bos"===s.type&&!0===this.options.dot&&(this.output="(?!\\.)"+this.output);var f=h+n();return this.options.capture&&(f="("+f+")"),this.emit(f,e)}).set("text",function(e){return this.emit(e.val,e)}).set("eos",function(e){var t=this.prev(),n=e.val;return this.output="(?:\\.["+r()+"](?=.))?"+this.output,this.state.metachar&&"qmark"!==t.type&&"slash"!==t.type&&(n+=this.options.contains?"["+r()+"]?":"(?:["+r()+"]|$)"),this.emit(n,e)}),t&&"function"==typeof t.compilers&&t.compilers(e.compiler)}},7429(e,t,r){"use strict";var n,i=r(6837),s=r(5629),a="[\\[!*+?$^\"'.\\\\/]+",o=function(e){if(n)return n;var t={contains:!0,strictClose:!1},r=i.create(e,t),a=s("^(?:[*]\\((?=.)|"+r+")",t);return n=a}(a);e.exports=function(e,t){var r=e.parser,n=r.options;r.state={slashes:0,paths:[]},r.ast.state=r.state,r.capture("prefix",function(){this.parsed||this.match(/^\.[\\/]/)&&(this.state.strictOpen=!!this.options.strictOpen,this.state.addPrefix=!0)}).capture("escape",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^(?:\\(.)|([$^]))/);if(t)return e({type:"escape",val:t[2]||t[1]})}}).capture("quoted",function(){var e=this.position(),t=this.match(/^["']/);if(t){var r=t[0];if(-1===this.input.indexOf(r))return e({type:"escape",val:r});var n=function(e,t){var r=e.charAt(0),n={len:1,val:"",esc:""},i=0;function s(){"\\"!==r&&(n.esc+="\\"+r,n.val+=r),r=e.charAt(++i),n.len++,"\\"===r&&(s(),s())}for(;r&&r!==t;)s();return n}(this.input,r);return this.consume(n.len),e({type:"quoted",val:n.esc})}}).capture("not",function(){var e=this.parsed,t=this.position(),r=this.match(this.notRegex||/^!+/);if(r){var n=r[0],i=n.length%2==1;return""!==e||i||(n=""),""===e&&i&&!0!==this.options.nonegate&&(this.bos.val="(?!^(?:",this.append=")$).*",n=""),t({type:"not",val:n})}}).capture("dot",function(){var e=this.parsed,t=this.position(),r=this.match(/^\.+/);if(r){var n=r[0];return this.state.dot="."===n&&(""===e||"/"===e.slice(-1)),t({type:"dot",dotfiles:this.state.dot,val:n})}}).capture("plus",/^\+(?!\()/).capture("qmark",function(){var e=this.parsed,t=this.position(),r=this.match(/^\?+(?!\()/);if(r)return this.state.metachar=!0,this.state.qmark=!0,t({type:"qmark",parsed:e,val:r[0]})}).capture("globstar",function(){var e=this.parsed,t=this.position();if(this.match(/^\*{2}(?![*(])(?=[,)/]|$)/)){var r=!0!==n.noglobstar?"globstar":"star",i=t({type:r,parsed:e});for(this.state.metachar=!0;"/**/"===this.input.slice(0,4);)this.input=this.input.slice(3);return i.isInside={brace:this.isInside("brace"),paren:this.isInside("paren")},"globstar"===r?(this.state.globstar=!0,i.val="**"):(this.state.star=!0,i.val="*"),i}}).capture("star",function(){var e=this.position(),t=this.match(/^(?:\*(?![*(])|[*]{3,}(?!\()|[*]{2}(?![(/]|$)|\*(?=\*\())/);if(t)return this.state.metachar=!0,this.state.star=!0,e({type:"star",val:t[0]})}).capture("slash",function(){var e=this.position(),t=this.match(/^\//);if(t)return this.state.slashes++,e({type:"slash",val:t[0]})}).capture("backslash",function(){var e=this.position(),t=this.match(/^\\(?![*+?(){}[\]'"])/);if(t){var r=t[0];return this.isInside("bracket")?r="\\":r.length>1&&(r="\\\\"),e({type:"backslash",val:r})}}).capture("square",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^\[([^!^\\])\]/);if(t)return e({type:"square",val:t[1]})}}).capture("bracket",function(){var e=this.position(),t=this.match(/^(?:\[([!^]?)([^\]]+|\]-)(\]|[^*+?]+)|\[)/);if(t){var r=t[0],n=t[1]?"^":"",i=(t[2]||"").replace(/\\\\+/,"\\\\"),s=t[3]||"";t[2]&&i.length<t[2].length&&(r=r.replace(/\\\\+/,"\\\\"));var a=this.input.slice(0,2);if(""===i&&"\\]"===a){i+=a,this.consume(2);for(var o,c=this.input,u=-1;o=c[++u];){if(this.consume(1),"]"===o){s=o;break}i+=o}}return e({type:"bracket",val:r,escaped:"]"!==s,negated:n,inner:i,close:s})}}).capture("text",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(o);if(t&&t[0])return e({type:"text",val:t[0]})}}),t&&"function"==typeof t.parsers&&t.parsers(e.parser)},e.exports.not=a},7452(e,t,r){"use strict";var n=e.exports,i=r(9942),s=r(1750)(),a=r(9645);n.define=r(5677),n.diff=r(323),n.extend=r(1743),n.pick=r(6364),n.typeOf=r(1182),n.unique=r(785),n.isEmptyString=function(e){return""===String(e)||"./"===String(e)},n.isWindows=function(){return"\\"===i.sep||!0===s},n.last=function(e,t){return e[e.length-(t||1)]},n.instantiate=function(e,t){var r;return r="object"===n.typeOf(e)&&e.snapdragon?e.snapdragon:"object"===n.typeOf(t)&&t.snapdragon?t.snapdragon:new a(t),n.define(r,"parse",function(e,t){var r=a.prototype.parse.call(this,e,t);r.input=e;var i=this.parser.stack.pop();if(i&&!0!==this.options.strictErrors){var s=i.nodes[0],o=i.nodes[1];if("bracket"===i.type)"["===o.val.charAt(0)&&(o.val="\\"+o.val);else{s.val="\\"+s.val;var c=s.parent.nodes[1];"star"===c.type&&(c.loose=!0)}}return n.define(r,"parser",this.parser),r}),r},n.createKey=function(e,t){if(void 0===t)return e;var r=e;for(var n in t)t.hasOwnProperty(n)&&(r+=";"+n+"="+String(t[n]));return r},n.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},n.isString=function(e){return"string"==typeof e},n.isRegex=function(e){return"regexp"===n.typeOf(e)},n.isObject=function(e){return"object"===n.typeOf(e)},n.escapeRegex=function(e){return e.replace(/[-[\]{}()^$|*+?.\\/\s]/g,"\\$&")},n.combineDupes=function(e,t){var r=(t=(t=n.arrayify(t).join("|").split("|")).map(function(e){return e.replace(/\\?([+*\\/])/g,"\\$1")})).join("|"),i=new RegExp("("+r+")(?=\\1)","g");return e.replace(i,"")},n.hasSpecialChars=function(e){return/(?:(?:(^|\/)[!.])|[*?+()|[\]{}]|[+@]\()/.test(e)},n.toPosixPath=function(e){return e.replace(/\\+/g,"/")},n.unescape=function(e){return n.toPosixPath(e.replace(/\\(?=[*+?!.])/g,""))},n.stripDrive=function(e){return n.isWindows()?e.replace(/^[a-z]:[\\/]+?/i,"/"):e},n.stripPrefix=function(e){return"."!==e.charAt(0)||"/"!==e.charAt(1)&&"\\"!==e.charAt(1)?e:e.slice(2)},n.isSimpleChar=function(e){return""===e.trim()||"."===e},n.isSlash=function(e){return"/"===e||"\\/"===e||"\\"===e||"\\\\"===e},n.matchPath=function(e,t){return t&&t.contains?n.containsPattern(e,t):n.equalsPattern(e,t)},n._equals=function(e,t,r){return r===e||r===t},n._contains=function(e,t,r){return-1!==e.indexOf(r)||-1!==t.indexOf(r)},n.equalsPattern=function(e,t){var r=n.unixify(t);return t=t||{},function(i){var s=n._equals(i,r(i),e);if(!0===s||!0!==t.nocase)return s;var a=i.toLowerCase();return n._equals(a,r(a),e)}},n.containsPattern=function(e,t){var r=n.unixify(t);return t=t||{},function(i){var s=n._contains(i,r(i),e);if(!0===s||!0!==t.nocase)return s;var a=i.toLowerCase();return n._contains(a,r(a),e)}},n.matchBasename=function(e){return function(t){return e.test(t)||e.test(i.basename(t))}},n.identity=function(e){return e},n.value=function(e,t,r){return r&&!1===r.unixify?e:r&&"function"==typeof r.unixify?r.unixify(e):t(e)},n.unixify=function(e){var t=e||{};return function(e){return!1!==t.stripPrefix&&(e=n.stripPrefix(e)),!0===t.unescape&&(e=n.unescape(e)),(!0===t.unixify||n.isWindows())&&(e=n.toPosixPath(e)),e}}},6325(e,t,r){"use strict";var n=r(1182),i=r(9379),s=r(5677);function a(e){return"object"===n(e)||"function"==typeof e}function o(e,t){var r=(t=c(t)).length;if(a(e)){for(var n in e)if(t.indexOf(n)>-1)return!0;return o(u(e),t)}if(Array.isArray(e)){for(var i=e;r--;)if(i.indexOf(t[r])>-1)return!0;return!1}throw new TypeError("expected an array or object.")}function c(e){return e?Array.isArray(e)?e:[e]:[]}function u(e){return function(e){return a(e)&&void 0!==e.constructor}(e)?Object.getOwnPropertyNames(e):[]}e.exports=function(e,t,r){if(!a(e))throw new TypeError("expected receiving object to be an object.");if(!a(t))throw new TypeError("expected providing object to be an object.");var n=u(t),l=Object.keys(t),h=n.length;for(r=c(r);h--;){var f=n[h];o(l,f)?s(e,f,t[f]):f in e||o(r,f)||i(e,t,f)}},e.exports.has=o},9535(e,t,r){"use strict";var n=r(9537);e.exports=function(e,t,r,i){if(!n(e)&&"function"!=typeof e)throw new Error("object-visit expects `thisArg` to be an object.");if("string"!=typeof t)throw new Error("object-visit expects `method` name to be a string");if("function"!=typeof e[t])return e;var s=[].slice.call(arguments,3);for(var a in r=r||{}){var o=[a,r[a]].concat(s);e[t].apply(e,o)}return e}},6364(e,t,r){"use strict";var n=r(9537);e.exports=function(e,t){if(!n(e)&&"function"!=typeof e)return{};var r={};if("string"==typeof t)return t in e&&(r[t]=e[t]),r;for(var i=t.length,s=-1;++s<i;){var a=t[s];a in e&&(r[a]=e[a])}return r}},9540(e,t,r){"use strict";var n=r(2267);t.certificate=r(7770);var i=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});t.RSAPrivateKey=i;var s=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});t.RSAPublicKey=s;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),o=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});t.PublicKey=o;var c=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});t.PrivateKey=c;var u=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});t.EncryptedPrivateKey=u;var l=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});t.DSAPrivateKey=l,t.DSAparam=n.define("DSAparam",function(){this.int()});var h=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),f=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});t.ECPrivateKey=f,t.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},7770(e,t,r){"use strict";var n=r(2267),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),s=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),c=n.define("RelativeDistinguishedName",function(){this.setof(s)}),u=n.define("RDNSequence",function(){this.seqof(c)}),l=n.define("Name",function(){this.choice({rdnSequence:this.use(u)})}),h=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),f=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),p=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});e.exports=p},2982(e,t,r){"use strict";var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=r(8981),o=r(178),c=r(5636).Buffer;e.exports=function(e,t){var r,u=e.toString(),l=u.match(n);if(l){var h="aes"+l[1],f=c.from(l[2],"hex"),d=c.from(l[3].replace(/[\r\n]/g,""),"base64"),p=a(t,f.slice(0,8),parseInt(l[1],10)).key,g=[],m=o.createDecipheriv(h,p,f);g.push(m.update(d)),g.push(m.final()),r=c.concat(g)}else{var y=u.match(s);r=c.from(y[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:r}}},5069(e,t,r){"use strict";var n=r(9540),i=r(1892),s=r(2982),a=r(178),o=r(8619).pbkdf2Sync,c=r(5636).Buffer;function u(e){var t;"object"!=typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=c.from(e));var r,u,l=s(e,t),h=l.tag,f=l.data;switch(h){case"CERTIFICATE":u=n.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=n.PublicKey.decode(f,"der")),r=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=n.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":f=function(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=i[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,h=parseInt(s.split("-")[1],10)/8,f=o(t,r,n,h,"sha1"),d=a.createDecipheriv(s,f,u),p=[];return p.push(d.update(l)),p.push(d.final()),c.concat(p)}(f=n.EncryptedPrivateKey.decode(f,"der"),t);case"PRIVATE KEY":switch(r=(u=n.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:n.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=n.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=n.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}u.signature=n.signature,e.exports=u},6458(e){e.exports=function(e){if("string"!=typeof e)throw new TypeError("expected a string.");return 1===(e=e.replace(/([A-Z])/g," $1")).length?e.toUpperCase():(e=(e=e.replace(/^[\W_]+|[\W_]+$/g,"").toLowerCase()).charAt(0).toUpperCase()+e.slice(1)).replace(/[\W_]+(\w|$)/g,function(e,t){return t.toUpperCase()})}},9942(e,t,r){"use strict";var n=r(9907);function i(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function s(e,t){for(var r,n="",i=0,s=-1,a=0,o=0;o<=e.length;++o){if(o<e.length)r=e.charCodeAt(o);else{if(47===r)break;r=47}if(47===r){if(s===o-1||1===a);else if(s!==o-1&&2===a){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",i=0):i=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),s=o,a=0;continue}}else if(2===n.length||1===n.length){n="",i=0,s=o,a=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),i=o-s-1;s=o,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var a={resolve:function(){for(var e,t="",r=!1,a=arguments.length-1;a>=-1&&!r;a--){var o;a>=0?o=arguments[a]:(void 0===e&&(e=n.cwd()),o=e),i(o),0!==o.length&&(t=o+"/"+t,r=47===o.charCodeAt(0))}return t=s(t,!r),r?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(i(e),0===e.length)return".";var t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return 0!==(e=s(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return i(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];i(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":a.normalize(e)},relative:function(e,t){if(i(e),i(t),e===t)return"";if((e=a.resolve(e))===(t=a.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,s=n-r,o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var c=t.length-o,u=s<c?s:c,l=-1,h=0;h<=u;++h){if(h===u){if(c>u){if(47===t.charCodeAt(o+h))return t.slice(o+h+1);if(0===h)return t.slice(o+h)}else s>u&&(47===e.charCodeAt(r+h)?l=h:0===h&&(l=0));break}var f=e.charCodeAt(r+h);if(f!==t.charCodeAt(o+h))break;47===f&&(l=h)}var d="";for(h=r+l+1;h<=n;++h)h!==n&&47!==e.charCodeAt(h)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(o+l):(o+=l,47===t.charCodeAt(o)&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,s=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!s){n=a;break}}else s=!1;return-1===n?r?"/":".":r&&1===n?"//":e.slice(0,n)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');i(e);var r,n=0,s=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var o=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!a){n=r+1;break}}else-1===c&&(a=!1,c=r+1),o>=0&&(u===t.charCodeAt(o)?-1===--o&&(s=r):(o=-1,s=c))}return n===s?s=c:-1===s&&(s=e.length),e.slice(n,s)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){n=r+1;break}}else-1===s&&(a=!1,s=r+1);return-1===s?"":e.slice(n,s)},extname:function(e){i(e);for(var t=-1,r=0,n=-1,s=!0,a=0,o=e.length-1;o>=0;--o){var c=e.charCodeAt(o);if(47!==c)-1===n&&(s=!1,n=o+1),46===c?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!s){r=o+1;break}}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){i(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,n=e.charCodeAt(0),s=47===n;s?(t.root="/",r=1):r=0;for(var a=-1,o=0,c=-1,u=!0,l=e.length-1,h=0;l>=r;--l)if(47!==(n=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===n?-1===a?a=l:1!==h&&(h=1):-1!==a&&(h=-1);else if(!u){o=l+1;break}return-1===a||-1===c||0===h||1===h&&a===c-1&&a===o+1?-1!==c&&(t.base=t.name=0===o&&s?e.slice(1,c):e.slice(o,c)):(0===o&&s?(t.name=e.slice(1,a),t.base=e.slice(1,c)):(t.name=e.slice(o,a),t.base=e.slice(o,c)),t.ext=e.slice(a,c)),o>0?t.dir=e.slice(0,o-1):s&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,e.exports=a},8619(e,t,r){"use strict";t.pbkdf2=r(8399),t.pbkdf2Sync=r(4789)},8399(e,t,r){"use strict";var n,i,s=r(5636).Buffer,a=r(9697),o=r(9858),c=r(4789),u=r(4021),l=r.g.crypto&&r.g.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(){return i||(i=r.g.process&&r.g.process.nextTick?r.g.process.nextTick:r.g.queueMicrotask?r.g.queueMicrotask:r.g.setImmediate?r.g.setImmediate:r.g.setTimeout)}function p(e,t,r,n,i){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)}).then(function(e){return s.from(e)})}e.exports=function(e,t,i,g,m,y){if("function"==typeof m&&(y=m,m=void 0),a(i,g),e=u(e,o,"Password"),t=u(t,o,"Salt"),"function"!=typeof y)throw new Error("No callback provided to pbkdf2");var b=h[(m=m||"sha1").toLowerCase()];b&&"function"==typeof r.g.Promise?function(e,t){e.then(function(e){d()(function(){t(null,e)})},function(e){d()(function(){t(e)})})}(function(e){if(r.g.process&&!r.g.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==f[e])return f[e];var t=p(n=n||s.alloc(8),n,10,128,e).then(function(){return!0},function(){return!1});return f[e]=t,t}(b).then(function(r){return r?p(e,t,i,g,b):c(e,t,i,g,m)}),y):d()(function(){var r;try{r=c(e,t,i,g,m)}catch(e){return void y(e)}y(null,r)})}},9858(e,t,r){"use strict";var n,i=r(9907);n=r.g.process&&r.g.process.browser?"utf-8":r.g.process&&r.g.process.version?parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",e.exports=n},9697(e){"use strict";var t=isFinite,r=Math.pow(2,30)-1;e.exports=function(e,n){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0||!t(e))throw new TypeError("Bad iterations");if("number"!=typeof n)throw new TypeError("Key length not a number");if(n<0||n>r||n!=n)throw new TypeError("Bad key length")}},4789(e,t,r){"use strict";var n=r(4277),i=r(5586),s=r(3229),a=r(5636).Buffer,o=r(9697),c=r(9858),u=r(4021),l=a.alloc(128),h={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},f={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function d(e){return(new i).update(e).digest()}function p(e,t,r){var i=function(e){return"rmd160"===e||"ripemd160"===e?d:"md5"===e?n:function(t){return s(e).update(t).digest()}}(e),o="sha512"===e||"sha384"===e?128:64;t.length>o?t=i(t):t.length<o&&(t=a.concat([t,l],o));for(var c=a.allocUnsafe(o+h[e]),u=a.allocUnsafe(o+h[e]),f=0;f<o;f++)c[f]=54^t[f],u[f]=92^t[f];var p=a.allocUnsafe(o+r+4);c.copy(p,0,0,o),this.ipad1=p,this.ipad2=c,this.opad=u,this.alg=e,this.blocksize=o,this.hash=i,this.size=h[e]}p.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,r,n,i){o(r,n),e=u(e,c,"Password"),t=u(t,c,"Salt");var s=(i||"sha1").toLowerCase(),l=f[s]||s,d=h[l];if("number"!=typeof d||!d)throw new TypeError("Digest algorithm not supported: "+i);var g=new p(l,e,t.length),m=a.allocUnsafe(n),y=a.allocUnsafe(t.length+4);t.copy(y,0,0,t.length);for(var b=0,w=d,v=Math.ceil(n/w),S=1;S<=v;S++){y.writeUInt32BE(S,t.length);for(var E=g.run(y,g.ipad1),_=E,I=1;I<r;I++){_=g.run(_,g.ipad2);for(var x=0;x<w;x++)E[x]^=_[x]}E.copy(m,b),b+=w}return m}},4021(e,t,r){"use strict";var n=r(5636).Buffer,i=r(8764),s="undefined"!=typeof Uint8Array,a=s&&"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView;e.exports=function(e,t,r){if("string"==typeof e||n.isBuffer(e)||s&&e instanceof Uint8Array||a&&a(e))return i(e,t);throw new TypeError(r+" must be a string, a Buffer, a Uint8Array, or a DataView")}},9501(e){"use strict";e.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},9907(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var o,c=[],u=!1,l=-1;function h(){u&&o&&(u=!1,o.length?c=o.concat(c):l=-1,c.length&&f())}function f(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(o=c,c=[];++l<t;)o&&o[l].run();l=-1,t=c.length}o=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||u||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},4055(e,t,r){t.publicEncrypt=r(3737),t.privateDecrypt=r(9107),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},2965(e,t,r){var n=r(3257),i=r(5636).Buffer;function s(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var r,a=i.alloc(0),o=0;a.length<t;)r=s(o++),a=i.concat([a,n("sha1").update(e).update(r).digest()]);return a.slice(0,t)}},9107(e,t,r){var n=r(5069),i=r(2965),s=r(6358),a=r(2823),o=r(4215),c=r(3257),u=r(5810),l=r(5636).Buffer;e.exports=function(e,t,r){var h;h=e.padding?e.padding:r?1:4;var f,d=n(e),p=d.modulus.byteLength();if(t.length>p||new a(t).cmp(d.modulus)>=0)throw new Error("decryption error");f=r?u(new a(t),d):o(t,d);var g=l.alloc(p-f.length);if(f=l.concat([g,f],p),4===h)return function(e,t){var r=e.modulus.byteLength(),n=c("sha1").update(l.alloc(0)).digest(),a=n.length;if(0!==t[0])throw new Error("decryption error");var o=t.slice(1,a+1),u=t.slice(a+1),h=s(o,i(u,a)),f=s(u,i(h,r-a-1));if(function(e,t){e=l.from(e),t=l.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}(n,f.slice(0,a)))throw new Error("decryption error");for(var d=a;0===f[d];)d++;if(1!==f[d++])throw new Error("decryption error");return f.slice(d)}(d,f);if(1===h)return function(e,t,r){for(var n=t.slice(0,2),i=2,s=0;0!==t[i++];)if(i>=t.length){s++;break}var a=t.slice(2,i-1);if(("0002"!==n.toString("hex")&&!r||"0001"!==n.toString("hex")&&r)&&s++,a.length<8&&s++,s)throw new Error("decryption error");return t.slice(i)}(0,f,r);if(3===h)return f;throw new Error("unknown padding")}},3737(e,t,r){var n=r(5069),i=r(2644),s=r(3257),a=r(2965),o=r(6358),c=r(2823),u=r(5810),l=r(4215),h=r(5636).Buffer;e.exports=function(e,t,r){var f;f=e.padding?e.padding:r?1:4;var d,p=n(e);if(4===f)d=function(e,t){var r=e.modulus.byteLength(),n=t.length,u=s("sha1").update(h.alloc(0)).digest(),l=u.length,f=2*l;if(n>r-f-2)throw new Error("message too long");var d=h.alloc(r-n-f-2),p=r-l-1,g=i(l),m=o(h.concat([u,d,h.alloc(1,1),t],p),a(g,p)),y=o(g,a(m,l));return new c(h.concat([h.alloc(1),y,m],r))}(p,t);else if(1===f)d=function(e,t,r){var n,s=t.length,a=e.modulus.byteLength();if(s>a-11)throw new Error("message too long");return n=r?h.alloc(a-s-3,255):function(e){for(var t,r=h.allocUnsafe(e),n=0,s=i(2*e),a=0;n<e;)a===s.length&&(s=i(2*e),a=0),(t=s[a++])&&(r[n++]=t);return r}(a-s-3),new c(h.concat([h.from([0,r?1:2]),n,h.alloc(1),t],a))}(p,t,r);else{if(3!==f)throw new Error("unknown padding");if((d=new c(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return r?l(d,p):u(d,p)}},5810(e,t,r){var n=r(2823),i=r(5636).Buffer;e.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},6358(e){e.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},2644(e,t,r){"use strict";var n=r(9907),i=65536,s=r(5636).Buffer,a=r.g.crypto||r.g.msCrypto;a&&a.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=s.allocUnsafe(e);if(e>0)if(e>i)for(var o=0;o<e;o+=i)a.getRandomValues(r.slice(o,o+i));else a.getRandomValues(r);return"function"==typeof t?n.nextTick(function(){t(null,r)}):r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9904(e,t,r){"use strict";var n=r(9907);function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=r(5636),a=r(2644),o=s.Buffer,c=s.kMaxLength,u=r.g.crypto||r.g.msCrypto,l=Math.pow(2,32)-1;function h(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>c||e>t)throw new RangeError("offset out of range")}function f(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>c)throw new RangeError("buffer too small")}function d(e,t,r,i){if(n.browser){var s=e.buffer,o=new Uint8Array(s,t,r);return u.getRandomValues(o),i?void n.nextTick(function(){i(null,e)}):e}if(!i)return a(r).copy(e,t),e;a(r,function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)})}u&&u.getRandomValues||!n.browser?(t.randomFill=function(e,t,n,i){if(!(o.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)i=t,t=0,n=e.length;else if("function"==typeof n)i=n,n=e.length-t;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return h(t,e.length),f(n,t,e.length),d(e,t,n,i)},t.randomFillSync=function(e,t,n){if(void 0===t&&(t=0),!(o.isBuffer(e)||e instanceof r.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return h(t,e.length),void 0===n&&(n=e.length-t),f(n,t,e.length),d(e,t,n)}):(t.randomFill=i,t.randomFillSync=i)},1265(e,t,r){"use strict";e.exports=r(601).Duplex},4421(e,t,r){"use strict";e.exports=r(601).PassThrough},8199(e,t,r){"use strict";e.exports=r(601).Readable},9415(e,t,r){"use strict";e.exports=r(601).Transform},5291(e,t,r){"use strict";e.exports=r(601).Writable},1434(e,t,r){"use strict";const{SymbolDispose:n}=r(1473),{AbortError:i,codes:s}=r(2590),{isNodeStream:a,isWebStream:o,kControllerErrorFunction:c}=r(2520),u=r(4869),{ERR_INVALID_ARG_TYPE:l}=s;let h;e.exports.addAbortSignal=function(t,r){if((e=>{if("object"!=typeof e||!("aborted"in e))throw new l("signal","AbortSignal",e)})(t),!a(r)&&!o(r))throw new l("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const s=a(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[c](new i(void 0,{cause:e.reason}))};if(e.aborted)s();else{h=h||r(6609).addAbortListener;const i=h(e,s);u(t,i[n])}return t}},82(e,t,r){"use strict";const{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:s,Uint8Array:a}=r(1473),{Buffer:o}=r(1048),{inspect:c}=r(6609);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return o.alloc(0);const t=o.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)s(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{const s=r.data;if(!(e>s.length)){e===s.length?(t+=s,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(s,0,e),this.head=r,r.data=n(s,e));break}t+=s,e-=s.length,++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){const t=o.allocUnsafe(e),r=e;let n=this.head,i=0;do{const o=n.data;if(!(e>o.length)){e===o.length?(s(t,o,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(s(t,new a(o.buffer,o.byteOffset,e),r-e),this.head=n,n.data=o.slice(e));break}s(t,o,r-e),e-=o.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},7369(e,t,r){"use strict";const{pipeline:n}=r(6815),i=r(6279),{destroyer:s}=r(6527),{isNodeStream:a,isReadable:o,isWritable:c,isWebStream:u,isTransformStream:l,isWritableStream:h,isReadableStream:f}=r(2520),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=r(2590),m=r(4869);e.exports=function(...e){if(0===e.length)throw new g("streams");if(1===e.length)return i.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=i.from(e[t])}for(let r=0;r<e.length;++r)if(a(e[r])||u(e[r])){if(r<e.length-1&&!(o(e[r])||f(e[r])||l(e[r])))throw new p(`streams[${r}]`,t[r],"must be readable");if(r>0&&!(c(e[r])||h(e[r])||l(e[r])))throw new p(`streams[${r}]`,t[r],"must be writable")}let r,y,b,w,v;const S=e[0],E=n(e,function(e){const t=w;w=null,t?t(e):e?v.destroy(e):I||_||v.destroy()}),_=!!(c(S)||h(S)||l(S)),I=!!(o(E)||f(E)||l(E));if(v=new i({writableObjectMode:!(null==S||!S.writableObjectMode),readableObjectMode:!(null==E||!E.readableObjectMode),writable:_,readable:I}),_){if(a(S))v._write=function(e,t,n){S.write(e,t)?n():r=n},v._final=function(e){S.end(),y=e},S.on("drain",function(){if(r){const e=r;r=null,e()}});else if(u(S)){const e=(l(S)?S.writable:S).getWriter();v._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},v._final=async function(t){try{await e.ready,e.close().catch(()=>{}),y=t}catch(e){t(e)}}}const e=l(E)?E.readable:E;m(e,()=>{if(y){const e=y;y=null,e()}})}if(I)if(a(E))E.on("readable",function(){if(b){const e=b;b=null,e()}}),E.on("end",function(){v.push(null)}),v._read=function(){for(;;){const e=E.read();if(null===e)return void(b=v._read);if(!v.push(e))return}};else if(u(E)){const e=(l(E)?E.readable:E).getReader();v._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!v.push(t))return;if(r)return void v.push(null)}catch{return}}}return v._destroy=function(e,t){e||null===w||(e=new d),b=null,r=null,y=null,null===w?t(e):(w=t,a(E)&&s(E,e))},v}},6527(e,t,r){"use strict";const n=r(9907),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:s},AbortError:a}=r(2590),{Symbol:o}=r(1473),{kIsDestroyed:c,isDestroyed:u,isFinished:l,isServerRequest:h}=r(2520),f=o("kDestroy"),d=o("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function g(e,t,r){let i=!1;function s(t){if(i)return;i=!0;const s=e._readableState,a=e._writableState;p(t,a,s),a&&(a.closed=!0),s&&(s.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(m,e,t):n.nextTick(y,e)}try{e._destroy(t||null,s)}catch(t){s(t)}}function m(e,t){b(e,t),y(e)}function y(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function b(e,t){const r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function w(e,t,r){const i=e._readableState,s=e._writableState;if(null!=s&&s.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=s&&s.autoDestroy?e.destroy(t):t&&(t.stack,s&&!s.errored&&(s.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(b,e,t):b(e,t))}function v(e){let t=!1;function r(r){if(t)return void w(e,null!=r?r:new s);t=!0;const i=e._readableState,a=e._writableState,o=a||i;i&&(i.constructed=!0),a&&(a.constructed=!0),o.destroyed?e.emit(f,r):r?w(e,r,!0):n.nextTick(S,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function S(e){e.emit(d)}function E(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function _(e){e.emit("close")}function I(e,t){e.emit("error",t),n.nextTick(_,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(d,t),e.listenerCount(d)>1||n.nextTick(v,e)},destroyer:function(e,t){e&&!u(e)&&(t||l(e)||(t=new a),h(e)?(e.socket=null,e.destroy(t)):E(e)?e.abort():E(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(I,e,t):n.nextTick(_,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,s=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?("function"==typeof t&&t(),this):(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),s.constructed?g(this,e,t):this.once(f,function(r){g(this,i(r,e),t)}),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:w}},6279(e,t,r){"use strict";const{ObjectDefineProperties:n,ObjectGetOwnPropertyDescriptor:i,ObjectKeys:s,ObjectSetPrototypeOf:a}=r(1473);e.exports=u;const o=r(1509),c=r(5605);a(u.prototype,o.prototype),a(u,o);{const e=s(c.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=c.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let l,h;function f(){return void 0===l&&(l={}),l}n(u.prototype,{writable:{__proto__:null,...i(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...i(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...i(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...i(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...i(c.prototype,"writableLength")},writableFinished:{__proto__:null,...i(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...i(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...i(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...i(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return f().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return f().newReadableWritablePairFromDuplex(e)},u.from=function(e){return h||(h=r(5397)),h(e,"body")}},5397(e,t,r){const n=r(9907),i=r(1048),{isReadable:s,isWritable:a,isIterable:o,isNodeStream:c,isReadableNodeStream:u,isWritableNodeStream:l,isDuplexNodeStream:h,isReadableStream:f,isWritableStream:d}=r(2520),p=r(4869),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:y}}=r(2590),{destroyer:b}=r(6527),w=r(6279),v=r(1509),S=r(5605),{createDeferredPromise:E}=r(6609),_=r(1613),I=globalThis.Blob||i.Blob,x=void 0!==I?function(e){return e instanceof I}:function(e){return!1},A=globalThis.AbortController||r(7083).AbortController,{FunctionPrototypeCall:k}=r(1473);class T extends w{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function M(e){const t=e.readable&&"function"!=typeof e.readable.read?v.wrap(e.readable):e.readable,r=e.writable;let n,i,o,c,u,l=!!s(t),h=!!a(r);function f(e){const t=c;c=null,t?t(e):e&&u.destroy(e)}return u=new T({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==r||!r.writableObjectMode),readable:l,writable:h}),h&&(p(r,e=>{h=!1,e&&b(t,e),f(e)}),u._write=function(e,t,i){r.write(e,t)?i():n=i},u._final=function(e){r.end(),i=e},r.on("drain",function(){if(n){const e=n;n=null,e()}}),r.on("finish",function(){if(i){const e=i;i=null,e()}})),l&&(p(t,e=>{l=!1,e&&b(t,e),f(e)}),t.on("readable",function(){if(o){const e=o;o=null,e()}}),t.on("end",function(){u.push(null)}),u._read=function(){for(;;){const e=t.read();if(null===e)return void(o=u._read);if(!u.push(e))return}}),u._destroy=function(e,s){e||null===c||(e=new g),o=null,n=null,i=null,null===c?s(e):(c=s,b(r,e),b(t,e))},u}e.exports=function e(t,r){if(h(t))return t;if(u(t))return M({readable:t});if(l(t))return M({writable:t});if(c(t))return M({writable:!1,readable:!1});if(f(t))return M({readable:v.fromWeb(t)});if(d(t))return M({writable:S.fromWeb(t)});if("function"==typeof t){const{value:e,write:i,final:s,destroy:a}=function(e){let{promise:t,resolve:r}=E();const i=new A,s=i.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:i,done:a,cb:o}=await e;if(n.nextTick(o),a)return;if(s.aborted)throw new g(void 0,{cause:s.reason});({promise:t,resolve:r}=E()),yield i}}(),{signal:s}),write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(o(e))return _(T,e,{objectMode:!0,write:i,final:s,destroy:a});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const r=k(c,e,e=>{if(null!=e)throw new y("nully","body",e)},e=>{b(t,e)});return t=new T({objectMode:!0,readable:!1,write:i,final(e){s(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:a})}throw new y("Iterable, AsyncIterable or AsyncFunction",r,e)}if(x(t))return e(t.arrayBuffer());if(o(t))return _(T,t,{objectMode:!0,writable:!1});if(f(null==t?void 0:t.readable)&&d(null==t?void 0:t.writable))return T.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return M({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?l(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const i=null==t?void 0:t.then;if("function"==typeof i){let e;return k(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{b(e,t)}),e=new T({objectMode:!0,writable:!1,read(){}})}throw new m(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},4869(e,t,r){"use strict";const n=r(9907),{AbortError:i,codes:s}=r(2590),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:o}=s,{kEmptyObject:c,once:u}=r(6609),{validateAbortSignal:l,validateFunction:h,validateObject:f,validateBoolean:d}=r(7840),{Promise:p,PromisePrototypeThen:g,SymbolDispose:m}=r(1473),{isClosed:y,isReadable:b,isReadableNodeStream:w,isReadableStream:v,isReadableFinished:S,isReadableErrored:E,isWritable:_,isWritableNodeStream:I,isWritableStream:x,isWritableFinished:A,isWritableErrored:k,isNodeStream:T,willEmitClose:M,kIsClosedPromise:C}=r(2520);let R;const D=()=>{};function O(e,t,s){var d,p;if(2===arguments.length?(s=t,t=c):null==t?t=c:f(t,"options"),h(s,"callback"),l(t.signal,"options.signal"),s=u(s),v(e)||x(e))return function(e,t,s){let a=!1,o=D;if(t.signal)if(o=()=>{a=!0,s.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(o);else{R=R||r(6609).addAbortListener;const n=R(t.signal,o),i=s;s=u((...t)=>{n[m](),i.apply(e,t)})}const c=(...t)=>{a||n.nextTick(()=>s.apply(e,t))};return g(e[C].promise,c,c),D}(e,t,s);if(!T(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);const O=null!==(d=t.readable)&&void 0!==d?d:w(e),F=null!==(p=t.writable)&&void 0!==p?p:I(e),P=e._writableState,N=e._readableState,B=()=>{e.writable||V()};let L=M(e)&&w(e)===O&&I(e)===F,U=A(e,!1);const V=()=>{U=!0,e.destroyed&&(L=!1),(!L||e.readable&&!O)&&(O&&!j||s.call(e))};let j=S(e,!1);const z=()=>{j=!0,e.destroyed&&(L=!1),(!L||e.writable&&!F)&&(F&&!U||s.call(e))},$=t=>{s.call(e,t)};let q=y(e);const G=()=>{q=!0;const t=k(e)||E(e);return t&&"boolean"!=typeof t?s.call(e,t):O&&!j&&w(e,!0)&&!S(e,!1)?s.call(e,new o):!F||U||A(e,!1)?void s.call(e):s.call(e,new o)},W=()=>{q=!0;const t=k(e)||E(e);if(t&&"boolean"!=typeof t)return s.call(e,t);s.call(e)},H=()=>{e.req.on("finish",V)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?F&&!P&&(e.on("end",B),e.on("close",B)):(e.on("complete",V),L||e.on("abort",G),e.req?H():e.on("request",H)),L||"boolean"!=typeof e.aborted||e.on("aborted",G),e.on("end",z),e.on("finish",V),!1!==t.error&&e.on("error",$),e.on("close",G),q?n.nextTick(G):null!=P&&P.errorEmitted||null!=N&&N.errorEmitted?L||n.nextTick(W):(O||L&&!b(e)||!U&&!1!==_(e))&&(F||L&&!_(e)||!j&&!1!==b(e))?N&&e.req&&e.aborted&&n.nextTick(W):n.nextTick(W);const X=()=>{s=D,e.removeListener("aborted",G),e.removeListener("complete",V),e.removeListener("abort",G),e.removeListener("request",H),e.req&&e.req.removeListener("finish",V),e.removeListener("end",B),e.removeListener("close",B),e.removeListener("finish",V),e.removeListener("end",z),e.removeListener("error",$),e.removeListener("close",G)};if(t.signal&&!q){const a=()=>{const r=s;X(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(a);else{R=R||r(6609).addAbortListener;const n=R(t.signal,a),i=s;s=u((...t)=>{n[m](),i.apply(e,t)})}}return X}e.exports=O,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(d(t.cleanup,"cleanup"),n=t.cleanup),new p((r,i)=>{const s=O(e,t,e=>{n&&s(),e?i(e):r()})})}},1613(e,t,r){"use strict";const n=r(9907),{PromisePrototypeThen:i,SymbolAsyncIterator:s,SymbolIterator:a}=r(1473),{Buffer:o}=r(1048),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:u}=r(2590).codes;e.exports=function(e,t,r){let l,h;if("string"==typeof t||t instanceof o)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[s])h=!0,l=t[s]();else{if(!t||!t[a])throw new c("iterable",["Iterable"],t);h=!1,l=t[a]()}const f=new e({objectMode:!0,highWaterMark:1,...r});let d=!1;return f._read=function(){d||(d=!0,async function(){for(;;){try{const{value:e,done:t}=h?await l.next():l.next();if(t)f.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw d=!1,new u;if(f.push(t))continue;d=!1}}catch(e){f.destroy(e)}break}}())},f._destroy=function(e,t){i(async function(e){const t=null!=e,r="function"==typeof l.throw;if(t&&r){const{value:t,done:r}=await l.throw(e);if(await t,r)return}if("function"==typeof l.return){const{value:e}=await l.return();await e}}(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},f}},3054(e,t,r){"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(1473),{EventEmitter:s}=r(46);function a(e){s.call(this,e)}function o(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(a.prototype,s.prototype),i(a,s),a.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",u));let a=!1;function c(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){h(),0===s.listenerCount(this,"error")&&this.emit("error",e)}function h(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return o(r,"error",l),o(e,"error",l),r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e},e.exports={Stream:a,prependListener:o}},4708(e,t,r){"use strict";const n=globalThis.AbortController||r(7083).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:s,ERR_MISSING_ARGS:a,ERR_OUT_OF_RANGE:o},AbortError:c}=r(2590),{validateAbortSignal:u,validateInteger:l,validateObject:h}=r(7840),f=r(1473).Symbol("kWeak"),d=r(1473).Symbol("kResistStopPropagation"),{finished:p}=r(4869),g=r(7369),{addAbortSignalNoValidate:m}=r(1434),{isWritable:y,isNodeStream:b}=r(2520),{deprecate:w}=r(6609),{ArrayPrototypePush:v,Boolean:S,MathFloor:E,Number:_,NumberIsNaN:I,Promise:x,PromiseReject:A,PromiseResolve:k,PromisePrototypeThen:T,Symbol:M}=r(1473),C=M("kEmpty"),R=M("kEof");function D(e,t){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal");let n=1;null!=(null==t?void 0:t.concurrency)&&(n=E(t.concurrency));let i=n-1;return null!=(null==t?void 0:t.highWaterMark)&&(i=E(t.highWaterMark)),l(n,"options.concurrency",1),l(i,"options.highWaterMark",0),i+=n,async function*(){const s=r(6609).AbortSignalAny([null==t?void 0:t.signal].filter(S)),a=this,o=[],u={signal:s};let l,h,f=!1,d=0;function p(){f=!0,g()}function g(){d-=1,m()}function m(){h&&!f&&d<n&&o.length<i&&(h(),h=null)}!async function(){try{for await(let t of a){if(f)return;if(s.aborted)throw new c;try{if(t=e(t,u),t===C)continue;t=k(t)}catch(e){t=A(e)}d+=1,T(t,g,p),o.push(t),l&&(l(),l=null),!f&&(o.length>=i||d>=n)&&await new x(e=>{h=e})}o.push(R)}catch(e){const t=A(e);T(t,g,p),o.push(t)}finally{f=!0,l&&(l(),l=null)}}();try{for(;;){for(;o.length>0;){const e=await o[0];if(e===R)return;if(s.aborted)throw new c;e!==C&&(yield e),o.shift(),m()}await new x(e=>{l=e})}}finally{f=!0,h&&(h(),h=null)}}.call(this)}async function O(e,t=void 0){for await(const r of F.call(this,e,t))return!0;return!1}function F(e,t){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);return D.call(this,async function(t,r){return await e(t,r)?t:C},t)}class P extends a{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function N(e){if(e=_(e),I(e))return 0;if(e<0)throw new o("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:w(function(e=void 0){return null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal"),async function*(){let t=0;for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c({cause:e.signal.reason});yield[t++,n]}}.call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=N(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;e--<=0&&(yield r)}}.call(this)},filter:F,flatMap:function(e,t){const r=D.call(this,e,t);return async function*(){for await(const e of r)yield*e}.call(this)},map:D,take:function(e,t=void 0){return null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=N(e),async function*(){var r;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new c;for await(const r of this){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;if(e-- >0&&(yield r),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),b(e)&&!y(e))throw new i("stream",e,"must be writable");const r=g(this,e);return null!=t&&t.signal&&m(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);return!await O.call(this,async(...t)=>!await e(...t),t)},forEach:async function(e,t){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);for await(const r of D.call(this,async function(t,r){return await e(t,r),C},t));},reduce:async function(e,t,r){var i;if("function"!=typeof e)throw new s("reducer",["Function","AsyncFunction"],e);null!=r&&h(r,"options"),null!=(null==r?void 0:r.signal)&&u(r.signal,"options.signal");let a=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){const e=new c(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(e)),e}const o=new n,l=o.signal;if(null!=r&&r.signal){const e={once:!0,[f]:this,[d]:!0};r.signal.addEventListener("abort",()=>o.abort(),e)}let g=!1;try{for await(const n of this){var m;if(g=!0,null!=r&&null!==(m=r.signal)&&void 0!==m&&m.aborted)throw new c;a?t=await e(t,n,{signal:l}):(t=n,a=!0)}if(!g&&!a)throw new P}finally{o.abort()}return t},toArray:async function(e){null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal");const t=[];for await(const n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new c(void 0,{cause:e.signal.reason});v(t,n)}return t},some:O,find:async function(e,t){for await(const r of F.call(this,e,t))return r}}},6587(e,t,r){"use strict";const{ObjectSetPrototypeOf:n}=r(1473);e.exports=s;const i=r(2073);function s(e){if(!(this instanceof s))return new s(e);i.call(this,e)}n(s.prototype,i.prototype),n(s,i),s.prototype._transform=function(e,t,r){r(null,e)}},6815(e,t,r){const n=r(9907),{ArrayIsArray:i,Promise:s,SymbolAsyncIterator:a,SymbolDispose:o}=r(1473),c=r(4869),{once:u}=r(6609),l=r(6527),h=r(6279),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:m,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:b}=r(2590),{validateFunction:w,validateAbortSignal:v}=r(7840),{isIterable:S,isReadable:E,isReadableNodeStream:_,isNodeStream:I,isTransformStream:x,isWebStream:A,isReadableStream:k,isReadableFinished:T}=r(2520),M=globalThis.AbortController||r(7083).AbortController;let C,R,D;function O(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,l.destroyer(e,t||new m("pipe")))},cleanup:c(e,{readable:t,writable:r},e=>{n=!e})}}function F(e){if(S(e))return e;if(_(e))return async function*(e){R||(R=r(1509)),yield*R.prototype[a].call(e)}(e);throw new d("val",["Readable","Iterable","AsyncIterable"],e)}async function P(e,t,r,{end:n}){let i,a=null;const o=e=>{if(e&&(i=e),a){const e=a;a=null,e()}},u=()=>new s((e,t)=>{i?t(i):a=()=>{i?t(i):e()}});t.on("drain",o);const l=c(t,{readable:!1},o);try{t.writableNeedDrain&&await u();for await(const r of e)t.write(r)||await u();n&&(t.end(),await u()),r()}catch(e){r(i!==e?f(i,e):e)}finally{l(),t.off("drain",o)}}async function N(e,t,r,{end:n}){x(t)&&(t=t.writable);const i=t.getWriter();try{for await(const t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function B(e,t,s){if(1===e.length&&i(e[0])&&(e=e[0]),e.length<2)throw new g("streams");const a=new M,c=a.signal,u=null==s?void 0:s.signal,l=[];function f(){V(new b)}let m,y,w;v(u,"options.signal"),D=D||r(6609).addAbortListener,u&&(m=D(u,f));const T=[];let R,B=0;function U(e){V(e,0===--B)}function V(e,r){var i;if(!e||y&&"ERR_STREAM_PREMATURE_CLOSE"!==y.code||(y=e),y||r){for(;T.length;)T.shift()(y);null===(i=m)||void 0===i||i[o](),a.abort(),r&&(y||l.forEach(e=>e()),n.nextTick(t,y,w))}}for(let q=0;q<e.length;q++){const G=e[q],W=q<e.length-1,H=q>0,X=W||!1!==(null==s?void 0:s.end),Y=q===e.length-1;if(I(G)){if(X){const{destroy:K,cleanup:Z}=O(G,W,H);T.push(K),E(G)&&Y&&l.push(Z)}function j(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&U(e)}G.on("error",j),E(G)&&Y&&l.push(()=>{G.removeListener("error",j)})}if(0===q)if("function"==typeof G){if(R=G({signal:c}),!S(R))throw new p("Iterable, AsyncIterable or Stream","source",R)}else R=S(G)||_(G)||x(G)?G:h.from(G);else if("function"==typeof G){var z;if(R=x(R)?F(null===(z=R)||void 0===z?void 0:z.readable):F(R),R=G(R,{signal:c}),W){if(!S(R,!0))throw new p("AsyncIterable",`transform[${q-1}]`,R)}else{var $;C||(C=r(6587));const J=new C({objectMode:!0}),Q=null===($=R)||void 0===$?void 0:$.then;if("function"==typeof Q)B++,Q.call(R,e=>{w=e,null!=e&&J.write(e),X&&J.end(),n.nextTick(U)},e=>{J.destroy(e),n.nextTick(U,e)});else if(S(R,!0))B++,P(R,J,U,{end:X});else{if(!k(R)&&!x(R))throw new p("AsyncIterable or Promise","destination",R);{const re=R.readable||R;B++,P(re,J,U,{end:X})}}R=J;const{destroy:ee,cleanup:te}=O(R,!1,!0);T.push(ee),Y&&l.push(te)}}else if(I(G)){if(_(R)){B+=2;const ne=L(R,G,U,{end:X});E(G)&&Y&&l.push(ne)}else if(x(R)||k(R)){const ie=R.readable||R;B++,P(ie,G,U,{end:X})}else{if(!S(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);B++,P(R,G,U,{end:X})}R=G}else if(A(G)){if(_(R))B++,N(F(R),G,U,{end:X});else if(k(R)||S(R))B++,N(R,G,U,{end:X});else{if(!x(R))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],R);B++,N(R.readable,G,U,{end:X})}R=G}else R=h.from(G)}return(null!=c&&c.aborted||null!=u&&u.aborted)&&n.nextTick(f),R}function L(e,t,r,{end:i}){let s=!1;if(t.on("close",()=>{s||r(new y)}),e.pipe(t,{end:!1}),i){function a(){s=!0,t.end()}T(e)?n.nextTick(a):e.once("end",a)}else r();return c(e,{readable:!0,writable:!1},t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),c(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:B,pipeline:function(...e){return B(e,u(function(e){return w(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},1509(e,t,r){"use strict";const n=r(9907),{ArrayPrototypeIndexOf:i,NumberIsInteger:s,NumberIsNaN:a,NumberParseInt:o,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:l,Promise:h,SafeSet:f,SymbolAsyncDispose:d,SymbolAsyncIterator:p,Symbol:g}=r(1473);e.exports=z,z.ReadableState=j;const{EventEmitter:m}=r(46),{Stream:y,prependListener:b}=r(3054),{Buffer:w}=r(1048),{addAbortSignal:v}=r(1434),S=r(4869);let E=r(6609).debuglog("stream",e=>{E=e});const _=r(82),I=r(6527),{getHighWaterMark:x,getDefaultHighWaterMark:A}=r(9952),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:T,ERR_METHOD_NOT_IMPLEMENTED:M,ERR_OUT_OF_RANGE:C,ERR_STREAM_PUSH_AFTER_EOF:R,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:D},AbortError:O}=r(2590),{validateObject:F}=r(7840),P=g("kPaused"),{StringDecoder:N}=r(8888),B=r(1613);l(z.prototype,y.prototype),l(z,y);const L=()=>{},{errorOrDestroy:U}=I;function V(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function j(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(6279)),this.state=6192,e&&e.objectMode&&(this.state|=1),n&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?x(this,e,"readableHighWaterMark",n):A(!1),this.buffer=new _,this.length=0,this.pipes=[],this.flowing=null,this[P]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new N(e.encoding),this.encoding=e.encoding)}function z(e){if(!(this instanceof z))return new z(e);const t=this instanceof r(6279);this._readableState=new j(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&v(e.signal,this)),y.call(this,e),I.construct(this,()=>{this._readableState.needReadable&&X(this,this._readableState)})}function $(e,t,r,n){E("readableAddChunk",t);const i=e._readableState;let s;if(1&i.state||("string"==typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=w.from(t,r).toString(i.encoding):(t=w.from(t,r),r=""))):t instanceof w?r="":y._isUint8Array(t)?(t=y._uint8ArrayToBuffer(t),r=""):null!=t&&(s=new T("chunk",["string","Buffer","Uint8Array"],t))),s)U(e,s);else if(null===t)i.state&=-9,function(e,t){if(E("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?W(e):(t.needReadable=!1,t.emittedReadable=!0,H(e))}}(e,i);else if(1&i.state||t&&t.length>0)if(n)if(4&i.state)U(e,new D);else{if(i.destroyed||i.errored)return!1;q(e,i,t,!0)}else if(i.ended)U(e,new R);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?q(e,i,t,!1):X(e,i)):q(e,i,t,!1)}else n||(i.state&=-9,X(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function q(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(65536&t.state?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),64&t.state&&W(e)),X(e,t)}function G(e,t){return e<=0||0===t.length&&t.ended?0:1&t.state?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function W(e){const t=e._readableState;E("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(H,e))}function H(e){const t=e._readableState;E("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,Q(e)}function X(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,n.nextTick(Y,e,t))}function Y(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(E("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function K(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[P]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function Z(e){E("readable nexttick read 0"),e.read(0)}function J(e,t){E("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),Q(e),t.flowing&&!t.reading&&e.read(0)}function Q(e){const t=e._readableState;for(E("flow",t.flowing);t.flowing&&null!==e.read(););}function ee(e,t){"function"!=typeof e.read&&(e=z.wrap(e,{objectMode:!0}));const r=async function*(e,t){let r,n=L;function i(t){this===e?(n(),n=L):n=t}e.on("readable",i);const s=S(e,{writable:!1},e=>{r=e?k(r,e):null,n(),n=L});try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;await new h(i)}}}catch(e){throw r=k(r,e),r}finally{!r&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",i),s()):I.destroyer(e,null)}}(e,t);return r.stream=e,r}function te(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function re(e){const t=e._readableState;E("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(ne,t,e))}function ne(e,t){if(E("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)n.nextTick(ie,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function ie(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let se;function ae(){return void 0===se&&(se={}),se}c(j.prototype,{objectMode:V(1),ended:V(2),endEmitted:V(4),reading:V(8),constructed:V(16),sync:V(32),needReadable:V(64),emittedReadable:V(128),readableListening:V(256),resumeScheduled:V(512),errorEmitted:V(1024),emitClose:V(2048),autoDestroy:V(4096),destroyed:V(8192),closed:V(16384),closeEmitted:V(32768),multiAwaitDrain:V(65536),readingMore:V(1<<17),dataEmitted:V(1<<18)}),z.prototype.destroy=I.destroy,z.prototype._undestroy=I.undestroy,z.prototype._destroy=function(e,t){t(e)},z.prototype[m.captureRejectionSymbol]=function(e){this.destroy(e)},z.prototype[d]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new O,this.destroy(e)),new h((t,r)=>S(this,n=>n&&n!==e?r(n):t(null)))},z.prototype.push=function(e,t){return $(this,e,t,!1)},z.prototype.unshift=function(e,t){return $(this,e,t,!0)},z.prototype.isPaused=function(){const e=this._readableState;return!0===e[P]||!1===e.flowing},z.prototype.setEncoding=function(e){const t=new N(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},z.prototype.read=function(e){E("read",e),void 0===e?e=NaN:s(e)||(e=o(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new C("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return E("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?re(this):W(this),null;if(0===(e=G(e,t))&&t.ended)return 0===t.length&&re(this),null;let n,i=!!(64&t.state);if(E("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,E("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,E("reading, ended or constructing",i);else if(i){E("do read"),t.state|=40,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(e){U(this,e)}t.state&=-33,t.reading||(e=G(r,t))}return n=e>0?te(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&re(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},z.prototype._read=function(e){throw new M("_read()")},z.prototype.pipe=function(e,t){const r=this,i=this._readableState;1===i.pipes.length&&(i.multiAwaitDrain||(i.multiAwaitDrain=!0,i.awaitDrainWriters=new f(i.awaitDrainWriters?[i.awaitDrainWriters]:[]))),i.pipes.push(e),E("pipe count=%d opts=%j",i.pipes.length,t);const s=t&&!1===t.end||e===n.stdout||e===n.stderr?g:a;function a(){E("onend"),e.end()}let o;i.endEmitted?n.nextTick(s):r.once("end",s),e.on("unpipe",function t(n,s){E("onunpipe"),n===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,E("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),o&&e.removeListener("drain",o),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",l),c=!0,o&&i.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&o())});let c=!1;function u(){c||(1===i.pipes.length&&i.pipes[0]===e?(E("false write response, pause",0),i.awaitDrainWriters=e,i.multiAwaitDrain=!1):i.pipes.length>1&&i.pipes.includes(e)&&(E("false write response, pause",i.awaitDrainWriters.size),i.awaitDrainWriters.add(e)),r.pause()),o||(o=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(E("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(E("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",o))}function l(t){E("ondata");const r=e.write(t);E("dest.write",r),!1===r&&u()}function h(t){if(E("onerror",t),g(),e.removeListener("error",h),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?U(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",p),g()}function p(){E("onfinish"),e.removeListener("close",d),g()}function g(){E("unpipe"),r.unpipe(e)}return r.on("data",l),b(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",r),!0===e.writableNeedDrain?u():i.flowing||(E("pipe resume"),r.resume()),e},z.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=i(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},z.prototype.on=function(e,t){const r=y.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,E("on readable",i.length,i.reading),i.length?W(this):i.reading||n.nextTick(Z,this))),r},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(e,t){const r=y.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(K,this),r},z.prototype.off=z.prototype.removeListener,z.prototype.removeAllListeners=function(e){const t=y.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(K,this),t},z.prototype.resume=function(){const e=this._readableState;return e.flowing||(E("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(J,e,t))}(this,e)),e[P]=!1,this},z.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[P]=!0,this},z.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{U(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=u(e);for(let t=1;t<r.length;t++){const n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},z.prototype[p]=function(){return ee(this)},z.prototype.iterator=function(e){return void 0!==e&&F(e,"options"),ee(this,e)},c(z.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(j.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[P]},set(e){this[P]=!!e}}}),z._fromList=te,z.from=function(e,t){return B(z,e,t)},z.fromWeb=function(e,t){return ae().newStreamReadableFromReadableStream(e,t)},z.toWeb=function(e,t){return ae().newReadableStreamFromStreamReadable(e,t)},z.wrap=function(e,t){var r,n;return new z({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){I.destroyer(e,t),r(t)}}).wrap(e)}},9952(e,t,r){"use strict";const{MathFloor:n,NumberIsInteger:i}=r(1473),{validateInteger:s}=r(7840),{ERR_INVALID_ARG_VALUE:a}=r(2590).codes;let o=16384,c=16;function u(e){return e?c:o}e.exports={getHighWaterMark:function(e,t,r,s){const o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,s,r);if(null!=o){if(!i(o)||o<0)throw new a(s?`options.${r}`:"options.highWaterMark",o);return n(o)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){s(t,"value",0),e?c=t:o=t}}},2073(e,t,r){"use strict";const{ObjectSetPrototypeOf:n,Symbol:i}=r(1473);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:s}=r(2590).codes,a=r(6279),{getHighWaterMark:o}=r(9952);n(u.prototype,a.prototype),n(u,a);const c=i("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?o(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),a.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function l(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())})}function h(){this._final!==l&&l.call(this)}u.prototype._final=l,u.prototype._transform=function(e,t,r){throw new s("_transform()")},u.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,s=n.length;this._transform(e,t,(e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||s===n.length||n.length<n.highWaterMark?r():this[c]=r)})},u.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},2520(e,t,r){"use strict";const{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:s}=r(1473),a=s("nodejs.stream.destroyed"),o=s("nodejs.stream.errored"),c=s("nodejs.stream.readable"),u=s("nodejs.stream.writable"),l=s("nodejs.stream.disturbed"),h=s("nodejs.webstream.isClosedPromise"),f=s("nodejs.webstream.controllerErrorFunction");function d(e,t=!1){var r;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function p(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function g(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function m(e){return!(!e||g(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function y(e){return!(!e||g(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function b(e){return!(!e||g(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function w(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[a]||null!=n&&n.destroyed)}function v(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function S(e,t){if(!d(e))return null;const r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function E(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!w(e)&&d(e)&&e.readable&&!S(e)}function _(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!w(e)&&p(e)&&e.writable&&!v(e)}function I(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function x(e){return"boolean"==typeof e._sent100&&I(e)}e.exports={isDestroyed:w,kIsDestroyed:a,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[l])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:l,isErrored:function(e){var t,r,n,i,s,a,c,u,l,h;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(s=null!==(a=e[o])&&void 0!==a?a:e.readableErrored)&&void 0!==s?s:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==r?r:null===(l=e._readableState)||void 0===l?void 0:l.errored)&&void 0!==t?t:null===(h=e._writableState)||void 0===h?void 0:h.errored))},kIsErrored:o,isReadable:E,kIsReadable:c,kIsClosedPromise:h,kControllerErrorFunction:f,kIsWritable:u,isClosed:function(e){if(!g(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&I(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return g(e)?!(!w(e)&&(!1!==(null==t?void 0:t.readable)&&E(e)||!1!==(null==t?void 0:t.writable)&&_(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:d,isReadableStream:m,isReadableEnded:function(e){if(!d(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:S,isReadableErrored:function(e){var t,r;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:g,isWebStream:function(e){return m(e)||y(e)||b(e)},isWritable:_,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:v,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:x,willEmitClose:function(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&x(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:b}},5605(e,t,r){"use strict";const n=r(9907),{ArrayPrototypeSlice:i,Error:s,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:o,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:l,Symbol:h,SymbolHasInstance:f}=r(1473);e.exports=F,F.WritableState=D;const{EventEmitter:d}=r(46),p=r(3054).Stream,{Buffer:g}=r(1048),m=r(6527),{addAbortSignal:y}=r(1434),{getHighWaterMark:b,getDefaultHighWaterMark:w}=r(9952),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:S,ERR_MULTIPLE_CALLBACK:E,ERR_STREAM_CANNOT_PIPE:_,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:x,ERR_STREAM_NULL_VALUES:A,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:T}=r(2590).codes,{errorOrDestroy:M}=m;function C(){}u(F.prototype,p.prototype),u(F,p);const R=h("kOnFinished");function D(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(6279)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?b(this,e,"writableHighWaterMark",n):w(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=L.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,O(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[R]=[]}function O(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function F(e){const t=this instanceof r(6279);if(!t&&!a(F,this))return new F(e);this._writableState=new D(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),p.call(this,e),m.construct(this,()=>{const e=this._writableState;e.writing||z(this,e),q(this,e)})}function P(e,t,r,i){const s=e._writableState;if("function"==typeof r)i=r,r=s.defaultEncoding;else{if(r){if("buffer"!==r&&!g.isEncoding(r))throw new T(r)}else r=s.defaultEncoding;"function"!=typeof i&&(i=C)}if(null===t)throw new A;if(!s.objectMode)if("string"==typeof t)!1!==s.decodeStrings&&(t=g.from(t,r),r="buffer");else if(t instanceof g)r="buffer";else{if(!p._isUint8Array(t))throw new v("chunk",["string","Buffer","Uint8Array"],t);t=p._uint8ArrayToBuffer(t),r="buffer"}let a;return s.ending?a=new k:s.destroyed&&(a=new I("write")),a?(n.nextTick(i,a),M(e,a,!0),a):(s.pendingcb++,function(e,t,r,n,i){const s=t.objectMode?1:r.length;t.length+=s;const a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==C&&(t.allNoop=!1)):(t.writelen=s,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),a&&!t.errored&&!t.destroyed}(e,s,t,r,i))}function N(e,t,r,n,i,s,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new I("write")):r?e._writev(i,t.onwrite):e._write(i,s,t.onwrite),t.sync=!1}function B(e,t,r,n){--t.pendingcb,n(r),j(t),M(e,r)}function L(e,t){const r=e._writableState,i=r.sync,s=r.writecb;"function"==typeof s?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(B,e,r,t,s):B(e,r,t,s)):(r.buffered.length>r.bufferedIndex&&z(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===s?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:s,stream:e,state:r},n.nextTick(U,r.afterWriteTickInfo)):V(e,r,1,s))):M(e,new E)}function U({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,V(e,t,r,n)}function V(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&j(t),q(e,t)}function j(e){if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){var t;const{chunk:n,callback:i}=e.buffered[r],s=e.objectMode?1:n.length;e.length-=s,i(null!==(t=e.errored)&&void 0!==t?t:new I("write"))}const r=e[R].splice(0);for(let t=0;t<r.length;t++){var n;r[t](null!==(n=e.errored)&&void 0!==n?n:new I("end"))}O(e)}function z(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:s}=t,a=r.length-n;if(!a)return;let o=n;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;const n=t.allNoop?C:e=>{for(let t=o;t<r.length;++t)r[t].callback(e)},s=t.allNoop&&0===o?r:i(r,o);s.allBuffers=t.allBuffers,N(e,t,!0,t.length,s,"",n),O(t)}else{do{const{chunk:n,encoding:i,callback:a}=r[o];r[o++]=null,N(e,t,!1,s?1:n.length,n,i,a)}while(o<r.length&&!t.writing);o===r.length?O(t):o>256?(r.splice(0,o),t.bufferedIndex=0):t.bufferedIndex=o}t.bufferProcessing=!1}function $(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function q(e,t,r){$(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)M(e,null!=i?i:E());else if(r=!0,t.pendingcb--,i){const r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e](i);M(e,i,t.sync)}else $(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(G,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(e){i(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick((e,t)=>{$(t)?G(e,t):t.pendingcb--},e,t)):$(t)&&(t.pendingcb++,G(e,t))))}function G(e,t){t.pendingcb--,t.finished=!0;const r=t[R].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}D.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},o(D.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),o(F,f,{__proto__:null,value:function(e){return!!a(this,e)||this===F&&e&&e._writableState instanceof D}}),F.prototype.pipe=function(){M(this,new _)},F.prototype.write=function(e,t,r){return!0===P(this,e,t,r)},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||z(this,e))},F.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=l(e)),!g.isEncoding(e))throw new T(e);return this._writableState.defaultEncoding=e,this},F.prototype._write=function(e,t,r){if(!this._writev)throw new S("_write()");this._writev([{chunk:e,encoding:t}],r)},F.prototype._writev=null,F.prototype.end=function(e,t,r){const i=this._writableState;let a;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){const r=P(this,e,t);r instanceof s&&(a=r)}return i.corked&&(i.corked=1,this.uncork()),a||(i.errored||i.ending?i.finished?a=new x("end"):i.destroyed&&(a=new I("end")):(i.ending=!0,q(this,i,!0),i.ended=!0)),"function"==typeof r&&(a||i.finished?n.nextTick(r,a):i[R].push(r)),this},c(F.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const W=m.destroy;let H;function X(){return void 0===H&&(H={}),H}F.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[R].length)&&n.nextTick(j,r),W.call(this,e,t),this},F.prototype._undestroy=m.undestroy,F.prototype._destroy=function(e,t){t(e)},F.prototype[d.captureRejectionSymbol]=function(e){this.destroy(e)},F.fromWeb=function(e,t){return X().newStreamWritableFromWritableStream(e,t)},F.toWeb=function(e){return X().newWritableStreamFromStreamWritable(e)}},7840(e,t,r){"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:s,ArrayPrototypeMap:a,NumberIsInteger:o,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:l,NumberParseInt:h,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:d,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:m}=r(1473),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:w,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:S,ERR_UNKNOWN_SIGNAL:E}}=r(2590),{normalizeEncoding:_}=r(6609),{isAsyncFunction:I,isArrayBufferView:x}=r(6609).types,A={},k=/^[0-7]+$/,T=y((e,t,r=l,n=u)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!o(e))throw new S(t,"an integer",e);if(e<r||e>n)throw new S(t,`>= ${r} && <= ${n}`,e)}),M=y((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!o(e))throw new S(t,"an integer",e);if(e<r||e>n)throw new S(t,`>= ${r} && <= ${n}`,e)}),C=y((e,t,r=!1)=>{if("number"!=typeof e)throw new w(t,"number",e);if(!o(e))throw new S(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new S(t,`>= ${n} && <= ${i}`,e)});function R(e,t){if("string"!=typeof e)throw new w(t,"string",e)}const D=y((e,t,r)=>{if(!i(r,e)){const n=s(a(r,e=>"string"==typeof e?`'${e}'`:p(e)),", ");throw new v(t,e,"must be one of: "+n)}});function O(e,t){if("boolean"!=typeof e)throw new w(t,"boolean",e)}function F(e,t,r){return null!=e&&f(e,t)?e[t]:r}const P=y((e,t,r=null)=>{const i=F(r,"allowArray",!1),s=F(r,"allowFunction",!1);if(!F(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!s||"function"!=typeof e))throw new w(t,"Object",e)}),N=y((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new w(t,"a dictionary",e)}),B=y((e,t,r=0)=>{if(!n(e))throw new w(t,"Array",e);if(e.length<r)throw new v(t,e,`must be longer than ${r}`)}),L=y((e,t="buffer")=>{if(!x(e))throw new w(t,["Buffer","TypedArray","DataView"],e)}),U=y((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new w(t,"AbortSignal",e)}),V=y((e,t)=>{if("function"!=typeof e)throw new w(t,"Function",e)}),j=y((e,t)=>{if("function"!=typeof e||I(e))throw new w(t,"Function",e)}),z=y((e,t)=>{if(void 0!==e)throw new w(t,"undefined",e)}),$=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function q(e,t){if(void 0===e||!d($,e))throw new v(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===d(k,e))throw new v(t,e,"must be a 32-bit unsigned integer or an octal string");e=h(e,8)}return C(e,t),e},validateArray:B,validateStringArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)R(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++)O(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){B(e,t);for(let r=0;r<e.length;r++){const n=e[r],i=`${t}[${r}]`;if(null==n)throw new w(i,"AbortSignal",n);U(n,i)}},validateBoolean:O,validateBuffer:L,validateDictionary:N,validateEncoding:function(e,t){const r=_(t),n=e.length;if("hex"===r&&n%2!=0)throw new v("encoding",t,`is invalid for data of length ${n}`)},validateFunction:V,validateInt32:M,validateInteger:T,validateNumber:function(e,t,r=void 0,n){if("number"!=typeof e)throw new w(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&c(e))throw new S(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:P,validateOneOf:D,validatePlainFunction:j,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===m(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new b(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(R(e,t),void 0===A[e]){if(void 0!==A[g(e)])throw new E(e+" (signals must use all capital letters)");throw new E(e)}},validateString:R,validateUint32:C,validateUndefined:z,validateUnion:function(e,t,r){if(!i(r,e))throw new w(t,`('${s(r,"|")}')`,e)},validateAbortSignal:U,validateLinkHeaderValue:function(e){if("string"==typeof e)return q(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];q(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new v("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},8521(e,t,r){"use strict";const n=r(601),i=r(2010),s=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=s,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},2590(e,t,r){"use strict";const{format:n,inspect:i}=r(8998),{AggregateError:s}=r(1473),a=globalThis.AggregateError||s,o=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,l={};function h(e,t){if(!e)throw new l.ERR_INTERNAL_ASSERTION(t)}function f(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function d(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return h(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return h(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[o]=!0,l[e]=i}function p(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class g extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new l.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",(e,t,r)=>{h("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";const s=[],a=[],o=[];for(const e of t)h("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?s.push(e.toLowerCase()):u.test(e)?a.push(e):(h("object"!==e,'The value "object" should be written as "Object"'),o.push(e));if(a.length>0){const e=s.indexOf("object");-1!==e&&(s.splice(s,e,1),a.push("Object"))}if(s.length>0){switch(s.length){case 1:n+=`of type ${s[0]}`;break;case 2:n+=`one of type ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();n+=`one of type ${s.join(", ")}, or ${e}`}}(a.length>0||o.length>0)&&(n+=" or ")}if(a.length>0){switch(a.length){case 1:n+=`an instance of ${a[0]}`;break;case 2:n+=`an instance of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();n+=`an instance of ${a.join(", ")}, or ${e}`}}o.length>0&&(n+=" or ")}switch(o.length){case 0:break;case 1:o[0].toLowerCase()!==o[0]&&(n+="an "),n+=`${o[0]}`;break;case 2:n+=`one of ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();n+=`one of ${o.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var l;null!==(l=r.constructor)&&void 0!==l&&l.name?n+=`. Received an instance of ${r.constructor.name}`:n+=`. Received ${i(r,{depth:-1})}`}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),d("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${r}. Received ${n}`},TypeError),d("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;return`Expected ${e} to be returned from the "${t}" function but got ${null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:"type "+typeof r}.`},TypeError),d("ERR_MISSING_ARGS",(...e)=>{let t;h(e.length>0,"At least one arg needs to be specified");const r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(h(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)n=f(String(r));else if("bigint"==typeof r){n=String(r);const e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=f(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:g,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new a([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:p,codes:l}},1473(e){"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},6609(e,t,r){"use strict";const n=r(1048),{format:i,inspect:s}=r(8998),{codes:{ERR_INVALID_ARG_TYPE:a}}=r(2590),{kResistStopPropagation:o,AggregateError:c,SymbolDispose:u}=r(1473),l=globalThis.AbortSignal||r(7083).AbortSignal,h=globalThis.AbortController||r(7083).AbortController,f=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||n.Blob,p=void 0!==d?function(e){return e instanceof d}:function(e){return!1},g=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new a(t,"AbortSignal",e)};e.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:i,inspect:s,types:{isAsyncFunction:e=>e instanceof f,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:p,deprecate:(e,t)=>e,addAbortListener:r(46).addAbortListener||function(e,t){if(void 0===e)throw new a("signal","AbortSignal",e);let r;return g(e,"signal"),(e=>{if("function"!=typeof e)throw new a("listener","Function",e)})(t),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[o]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[u](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:l.any||function(e){if(1===e.length)return e[0];const t=new h,r=()=>t.abort();return e.forEach(e=>{g(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},8998(e){"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){const n=t.shift();return"f"===r?n.toFixed(6):"j"===r?JSON.stringify(n):"s"===r&&"object"==typeof n?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},601(e,t,r){"use strict";const{Buffer:n}=r(1048),{ObjectDefineProperty:i,ObjectKeys:s,ReflectApply:a}=r(1473),{promisify:{custom:o}}=r(6609),{streamReturningOperators:c,promiseReturningOperators:u}=r(4708),{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=r(2590),h=r(7369),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:d}=r(9952),{pipeline:p}=r(6815),{destroyer:g}=r(6527),m=r(4869),y=r(2010),b=r(2520),w=e.exports=r(3054).Stream;w.isDestroyed=b.isDestroyed,w.isDisturbed=b.isDisturbed,w.isErrored=b.isErrored,w.isReadable=b.isReadable,w.isWritable=b.isWritable,w.Readable=r(1509);for(const S of s(c)){const E=c[S];function _(...e){if(new.target)throw l();return w.Readable.from(a(E,this,e))}i(_,"name",{__proto__:null,value:E.name}),i(_,"length",{__proto__:null,value:E.length}),i(w.Readable.prototype,S,{__proto__:null,value:_,enumerable:!1,configurable:!0,writable:!0})}for(const I of s(u)){const x=u[I];function A(...e){if(new.target)throw l();return a(x,this,e)}i(A,"name",{__proto__:null,value:x.name}),i(A,"length",{__proto__:null,value:x.length}),i(w.Readable.prototype,I,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}w.Writable=r(5605),w.Duplex=r(6279),w.Transform=r(2073),w.PassThrough=r(6587),w.pipeline=p;const{addAbortSignal:v}=r(1434);w.addAbortSignal=v,w.finished=m,w.destroy=g,w.compose=h,w.setDefaultHighWaterMark=f,w.getDefaultHighWaterMark=d,i(w,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),i(p,o,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),i(m,o,{__proto__:null,enumerable:!0,get:()=>y.finished}),w.Stream=w,w._isUint8Array=function(e){return e instanceof Uint8Array},w._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},2010(e,t,r){"use strict";const{ArrayPrototypePop:n,Promise:i}=r(1473),{isIterable:s,isNodeStream:a,isWebStream:o}=r(2520),{pipelineImpl:c}=r(6815),{finished:u}=r(4869);r(601),e.exports={finished:u,pipeline:function(...e){return new i((t,r)=>{let i,u;const l=e[e.length-1];if(l&&"object"==typeof l&&!a(l)&&!s(l)&&!o(l)){const t=n(e);i=t.signal,u=t.end}c(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:u})})}}},6837(e,t,r){"use strict";var n=r(1743),i=r(9893);function s(e,t){return new RegExp(s.create(e,t))}s.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");var r=n({},t);!0===r.contains&&(r.strictNegate=!1);var s=!1!==r.strictOpen?"^":"",a=!1!==r.strictClose?"$":"",o=r.endChar?r.endChar:"+",c=s+(!1===r.strictNegate?"(?:(?!(?:"+e+")).)"+o:"(?:(?!^(?:"+e+")$).)"+o)+a;if(!0===r.safe&&!1===i(c))throw new Error("potentially unsafe regular expression: "+c);return c},e.exports=s},6030(e,t,r){var n,i;n=function(){return function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(t,r.firstChild);for(var n,i=document.createElement("a"),s=1;s<e;s++)i.href=arguments[s],n=i.href,t.href=n;return r.removeChild(t),n}},void 0===(i=n.call(t,r,t,e))||(e.exports=i)},1309(e,t,r){var n=r(4045),i=r(8020),s=r(7732),a=r(5097);e.exports=function(e){var t,r,o=0,c={type:i.ROOT,stack:[]},u=c,l=c.stack,h=[],f=function(t){n.error(e,"Nothing to repeat at column "+(t-1))},d=n.strToChars(e);for(t=d.length;o<t;)switch(r=d[o++]){case"\\":switch(r=d[o++]){case"b":l.push(a.wordBoundary());break;case"B":l.push(a.nonWordBoundary());break;case"w":l.push(s.words());break;case"W":l.push(s.notWords());break;case"d":l.push(s.ints());break;case"D":l.push(s.notInts());break;case"s":l.push(s.whitespace());break;case"S":l.push(s.notWhitespace());break;default:/\d/.test(r)?l.push({type:i.REFERENCE,value:parseInt(r,10)}):l.push({type:i.CHAR,value:r.charCodeAt(0)})}break;case"^":l.push(a.begin());break;case"$":l.push(a.end());break;case"[":var p;"^"===d[o]?(p=!0,o++):p=!1;var g=n.tokenizeClass(d.slice(o),e);o+=g[1],l.push({type:i.SET,set:g[0],not:p});break;case".":l.push(s.anyChar());break;case"(":var m={type:i.GROUP,stack:[],remember:!0};"?"===(r=d[o])&&(r=d[o+1],o+=2,"="===r?m.followedBy=!0:"!"===r?m.notFollowedBy=!0:":"!==r&&n.error(e,"Invalid group, character '"+r+"' after '?' at column "+(o-1)),m.remember=!1),l.push(m),h.push(u),u=m,l=m.stack;break;case")":0===h.length&&n.error(e,"Unmatched ) at column "+(o-1)),l=(u=h.pop()).options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var y=[];u.options.push(y),l=y;break;case"{":var b,w,v=/^(\d+)(,(\d+)?)?\}/.exec(d.slice(o));null!==v?(0===l.length&&f(o),b=parseInt(v[1],10),w=v[2]?v[3]?parseInt(v[3],10):1/0:b,o+=v[0].length,l.push({type:i.REPETITION,min:b,max:w,value:l.pop()})):l.push({type:i.CHAR,value:123});break;case"?":0===l.length&&f(o),l.push({type:i.REPETITION,min:0,max:1,value:l.pop()});break;case"+":0===l.length&&f(o),l.push({type:i.REPETITION,min:1,max:1/0,value:l.pop()});break;case"*":0===l.length&&f(o),l.push({type:i.REPETITION,min:0,max:1/0,value:l.pop()});break;default:l.push({type:i.CHAR,value:r.charCodeAt(0)})}return 0!==h.length&&n.error(e,"Unterminated group"),c},e.exports.types=i},5097(e,t,r){var n=r(8020);t.wordBoundary=function(){return{type:n.POSITION,value:"b"}},t.nonWordBoundary=function(){return{type:n.POSITION,value:"B"}},t.begin=function(){return{type:n.POSITION,value:"^"}},t.end=function(){return{type:n.POSITION,value:"$"}}},7732(e,t,r){var n=r(8020),i=function(){return[{type:n.RANGE,from:48,to:57}]},s=function(){return[{type:n.CHAR,value:95},{type:n.RANGE,from:97,to:122},{type:n.RANGE,from:65,to:90}].concat(i())},a=function(){return[{type:n.CHAR,value:9},{type:n.CHAR,value:10},{type:n.CHAR,value:11},{type:n.CHAR,value:12},{type:n.CHAR,value:13},{type:n.CHAR,value:32},{type:n.CHAR,value:160},{type:n.CHAR,value:5760},{type:n.CHAR,value:6158},{type:n.CHAR,value:8192},{type:n.CHAR,value:8193},{type:n.CHAR,value:8194},{type:n.CHAR,value:8195},{type:n.CHAR,value:8196},{type:n.CHAR,value:8197},{type:n.CHAR,value:8198},{type:n.CHAR,value:8199},{type:n.CHAR,value:8200},{type:n.CHAR,value:8201},{type:n.CHAR,value:8202},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233},{type:n.CHAR,value:8239},{type:n.CHAR,value:8287},{type:n.CHAR,value:12288},{type:n.CHAR,value:65279}]};t.words=function(){return{type:n.SET,set:s(),not:!1}},t.notWords=function(){return{type:n.SET,set:s(),not:!0}},t.ints=function(){return{type:n.SET,set:i(),not:!1}},t.notInts=function(){return{type:n.SET,set:i(),not:!0}},t.whitespace=function(){return{type:n.SET,set:a(),not:!1}},t.notWhitespace=function(){return{type:n.SET,set:a(),not:!0}},t.anyChar=function(){return{type:n.SET,set:[{type:n.CHAR,value:10},{type:n.CHAR,value:13},{type:n.CHAR,value:8232},{type:n.CHAR,value:8233}],not:!0}}},8020(e){e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},4045(e,t,r){var n=r(8020),i=r(7732),s={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,function(e,t,r,n,i,a,o,c){if(r)return e;var u=t?8:n?parseInt(n,16):i?parseInt(i,16):a?parseInt(a,8):o?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(o):s[c],l=String.fromCharCode(u);return/[\[\]{}\^$.|?*+()]/.test(l)&&(l="\\"+l),l})},t.tokenizeClass=function(e,r){for(var s,a,o=[],c=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(s=c.exec(e));)if(s[1])o.push(i.words());else if(s[2])o.push(i.ints());else if(s[3])o.push(i.whitespace());else if(s[4])o.push(i.notWords());else if(s[5])o.push(i.notInts());else if(s[6])o.push(i.notWhitespace());else if(s[7])o.push({type:n.RANGE,from:(s[8]||s[9]).charCodeAt(0),to:s[10].charCodeAt(0)});else{if(!(a=s[12]))return[o,c.lastIndex];o.push({type:n.CHAR,value:a.charCodeAt(0)})}t.error(r,"Unterminated character class")},t.error=function(e,t){throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}},5586(e,t,r){"use strict";var n=r(1048).Buffer,i=r(5615),s=r(1848),a=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(e,t){return e<<t|e>>>32-t}function p(e,t,r,n,i,s,a,o){return d(e+(t^r^n)+s+a|0,o)+i|0}function g(e,t,r,n,i,s,a,o){return d(e+(t&r|~t&n)+s+a|0,o)+i|0}function m(e,t,r,n,i,s,a,o){return d(e+((t|~r)^n)+s+a|0,o)+i|0}function y(e,t,r,n,i,s,a,o){return d(e+(t&n|r&~n)+s+a|0,o)+i|0}function b(e,t,r,n,i,s,a,o){return d(e+(t^(r|~n))+s+a|0,o)+i|0}function w(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}i(w,s),w.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,w=0|this._e,v=0|this._a,S=0|this._b,E=0|this._c,_=0|this._d,I=0|this._e,x=0;x<80;x+=1){var A,k;x<16?(A=p(r,n,i,s,w,e[o[x]],h[0],u[x]),k=b(v,S,E,_,I,e[c[x]],f[0],l[x])):x<32?(A=g(r,n,i,s,w,e[o[x]],h[1],u[x]),k=y(v,S,E,_,I,e[c[x]],f[1],l[x])):x<48?(A=m(r,n,i,s,w,e[o[x]],h[2],u[x]),k=m(v,S,E,_,I,e[c[x]],f[2],l[x])):x<64?(A=y(r,n,i,s,w,e[o[x]],h[3],u[x]),k=g(v,S,E,_,I,e[c[x]],f[3],l[x])):(A=b(r,n,i,s,w,e[o[x]],h[4],u[x]),k=p(v,S,E,_,I,e[c[x]],f[4],l[x])),r=w,w=s,s=d(i,10),i=n,n=A,v=I,I=_,_=d(E,10),E=S,S=k}var T=this._b+i+_|0;this._b=this._c+s+I|0,this._c=this._d+w+v|0,this._d=this._e+r+S|0,this._e=this._a+n+E|0,this._a=T},w.prototype._digest=function(){this._block[this._blockOffset]=128,this._blockOffset+=1,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=w},5636(e,t,r){var n=r(1048),i=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),s(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},6132(e,t,r){"use strict";var n=r(4607),i=r(2672),s=n("RegExp.prototype.exec"),a=r(3468);e.exports=function(e){if(!i(e))throw new a("`regex` must be a RegExp");return function(t){return null!==s(e,t)}}},9893(e,t,r){var n=r(1309),i=n.types;e.exports=function(e,t){t||(t={});var r,s=void 0===t.limit?25:t.limit;r=e,"[object RegExp]"==={}.toString.call(r)?e=e.source:"string"!=typeof e&&(e=String(e));try{e=n(e)}catch(e){return!1}var a=0;return function e(t,r){if(t.type===i.REPETITION){if(r++,a++,r>1)return!1;if(a>s)return!1}if(t.options)for(var n=0,o=t.options.length;n<o;n++)if(!e({stack:t.options[n]},r))return!1;var c=t.stack||t.value&&t.value.stack;if(!c)return!0;for(n=0;n<c.length;n++)if(!e(c[n],r))return!1;return!0}(e,0)}},5150(e,t,r){var n=r(1048).Buffer;!function(e){e.parser=function(e,t){return new s(e,t)},e.SAXParser=s,e.SAXStream=o,e.createStream=function(e,t){return new o(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,i=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function s(t,r){if(!(this instanceof s))return new s(t,r);var n=this;!function(e){for(var t=0,r=i.length;t<r;t++)e[i[t]]=""}(n),n.q=n.c="",n.bufferCheckPosition=e.MAX_BUFFER_LENGTH,n.opt=r||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!t,n.noscript=!(!t&&!n.opt.noscript),n.state=x.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(f)),void 0===n.opt.unquotedAttributeValues&&(n.opt.unquotedAttributeValues=!t),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),k(n,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),s.prototype={end:function(){D(this)},write:function(t){var r=this;if(this.error)throw this.error;if(r.closed)return R(r,"Cannot write after close. Assign an onready handler.");if(null===t)return D(r);"object"==typeof t&&(t=t.toString());for(var n=0,s="";s=j(t,n++),r.c=s,s;)switch(r.trackPosition&&(r.position++,"\n"===s?(r.line++,r.column=0):r.column++),r.state){case x.BEGIN:if(r.state=x.BEGIN_WHITESPACE,"\ufeff"===s)continue;V(r,s);continue;case x.BEGIN_WHITESPACE:V(r,s);continue;case x.TEXT:if(r.sawRoot&&!r.closedRoot){for(var a=n-1;s&&"<"!==s&&"&"!==s;)(s=j(t,n++))&&r.trackPosition&&(r.position++,"\n"===s?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(a,n-1)}"<"!==s||r.sawRoot&&r.closedRoot&&!r.strict?(y(s)||r.sawRoot&&!r.closedRoot||O(r,"Text data outside of root node."),"&"===s?r.state=x.TEXT_ENTITY:r.textNode+=s):(r.state=x.OPEN_WAKA,r.startTagPosition=r.position);continue;case x.SCRIPT:"<"===s?r.state=x.SCRIPT_ENDING:r.script+=s;continue;case x.SCRIPT_ENDING:"/"===s?r.state=x.CLOSE_TAG:(r.script+="<"+s,r.state=x.SCRIPT);continue;case x.OPEN_WAKA:if("!"===s)r.state=x.SGML_DECL,r.sgmlDecl="";else if(y(s));else if(v(d,s))r.state=x.OPEN_TAG,r.tagName=s;else if("/"===s)r.state=x.CLOSE_TAG,r.tagName="";else if("?"===s)r.state=x.PROC_INST,r.procInstName=r.procInstBody="";else{if(O(r,"Unencoded <"),r.startTagPosition+1<r.position){var o=r.position-r.startTagPosition;s=new Array(o).join(" ")+s}r.textNode+="<"+s,r.state=x.TEXT}continue;case x.SGML_DECL:if(r.sgmlDecl+s==="--"){r.state=x.COMMENT,r.comment="",r.sgmlDecl="";continue}r.doctype&&!0!==r.doctype&&r.sgmlDecl?(r.state=x.DOCTYPE_DTD,r.doctype+="<!"+r.sgmlDecl+s,r.sgmlDecl=""):(r.sgmlDecl+s).toUpperCase()===c?(T(r,"onopencdata"),r.state=x.CDATA,r.sgmlDecl="",r.cdata=""):(r.sgmlDecl+s).toUpperCase()===u?(r.state=x.DOCTYPE,(r.doctype||r.sawRoot)&&O(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===s?(T(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=x.TEXT):b(s)?(r.state=x.SGML_DECL_QUOTED,r.sgmlDecl+=s):r.sgmlDecl+=s;continue;case x.SGML_DECL_QUOTED:s===r.q&&(r.state=x.SGML_DECL,r.q=""),r.sgmlDecl+=s;continue;case x.DOCTYPE:">"===s?(r.state=x.TEXT,T(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=s,"["===s?r.state=x.DOCTYPE_DTD:b(s)&&(r.state=x.DOCTYPE_QUOTED,r.q=s));continue;case x.DOCTYPE_QUOTED:r.doctype+=s,s===r.q&&(r.q="",r.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:"]"===s?(r.doctype+=s,r.state=x.DOCTYPE):"<"===s?(r.state=x.OPEN_WAKA,r.startTagPosition=r.position):b(s)?(r.doctype+=s,r.state=x.DOCTYPE_DTD_QUOTED,r.q=s):r.doctype+=s;continue;case x.DOCTYPE_DTD_QUOTED:r.doctype+=s,s===r.q&&(r.state=x.DOCTYPE_DTD,r.q="");continue;case x.COMMENT:"-"===s?r.state=x.COMMENT_ENDING:r.comment+=s;continue;case x.COMMENT_ENDING:"-"===s?(r.state=x.COMMENT_ENDED,r.comment=C(r.opt,r.comment),r.comment&&T(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+s,r.state=x.COMMENT);continue;case x.COMMENT_ENDED:">"!==s?(O(r,"Malformed comment"),r.comment+="--"+s,r.state=x.COMMENT):r.doctype&&!0!==r.doctype?r.state=x.DOCTYPE_DTD:r.state=x.TEXT;continue;case x.CDATA:for(a=n-1;s&&"]"!==s;)(s=j(t,n++))&&r.trackPosition&&(r.position++,"\n"===s?(r.line++,r.column=0):r.column++);r.cdata+=t.substring(a,n-1),"]"===s&&(r.state=x.CDATA_ENDING);continue;case x.CDATA_ENDING:"]"===s?r.state=x.CDATA_ENDING_2:(r.cdata+="]"+s,r.state=x.CDATA);continue;case x.CDATA_ENDING_2:">"===s?(r.cdata&&T(r,"oncdata",r.cdata),T(r,"onclosecdata"),r.cdata="",r.state=x.TEXT):"]"===s?r.cdata+="]":(r.cdata+="]]"+s,r.state=x.CDATA);continue;case x.PROC_INST:"?"===s?r.state=x.PROC_INST_ENDING:y(s)?r.state=x.PROC_INST_BODY:r.procInstName+=s;continue;case x.PROC_INST_BODY:if(!r.procInstBody&&y(s))continue;"?"===s?r.state=x.PROC_INST_ENDING:r.procInstBody+=s;continue;case x.PROC_INST_ENDING:">"===s?(T(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=x.TEXT):(r.procInstBody+="?"+s,r.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:v(p,s)?r.tagName+=s:(F(r),">"===s?B(r):"/"===s?r.state=x.OPEN_TAG_SLASH:(y(s)||O(r,"Invalid character in tag name"),r.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:">"===s?(B(r,!0),L(r)):(O(r,"Forward-slash in opening tag not followed by >"),r.state=x.ATTRIB);continue;case x.ATTRIB:if(y(s))continue;">"===s?B(r):"/"===s?r.state=x.OPEN_TAG_SLASH:v(d,s)?(r.attribName=s,r.attribValue="",r.state=x.ATTRIB_NAME):O(r,"Invalid attribute name");continue;case x.ATTRIB_NAME:"="===s?r.state=x.ATTRIB_VALUE:">"===s?(O(r,"Attribute without value"),r.attribValue=r.attribName,N(r),B(r)):y(s)?r.state=x.ATTRIB_NAME_SAW_WHITE:v(p,s)?r.attribName+=s:O(r,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if("="===s)r.state=x.ATTRIB_VALUE;else{if(y(s))continue;O(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",T(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===s?B(r):v(d,s)?(r.attribName=s,r.state=x.ATTRIB_NAME):(O(r,"Invalid attribute name"),r.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(y(s))continue;b(s)?(r.q=s,r.state=x.ATTRIB_VALUE_QUOTED):(r.opt.unquotedAttributeValues||R(r,"Unquoted attribute value"),r.state=x.ATTRIB_VALUE_UNQUOTED,r.attribValue=s);continue;case x.ATTRIB_VALUE_QUOTED:if(s!==r.q){"&"===s?r.state=x.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=s;continue}N(r),r.q="",r.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:y(s)?r.state=x.ATTRIB:">"===s?B(r):"/"===s?r.state=x.OPEN_TAG_SLASH:v(d,s)?(O(r,"No whitespace between attributes"),r.attribName=s,r.attribValue="",r.state=x.ATTRIB_NAME):O(r,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!w(s)){"&"===s?r.state=x.ATTRIB_VALUE_ENTITY_U:r.attribValue+=s;continue}N(r),">"===s?B(r):r.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(r.tagName)">"===s?L(r):v(p,s)?r.tagName+=s:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=x.SCRIPT):(y(s)||O(r,"Invalid tagname in closing tag"),r.state=x.CLOSE_TAG_SAW_WHITE);else{if(y(s))continue;S(d,s)?r.script?(r.script+="</"+s,r.state=x.SCRIPT):O(r,"Invalid tagname in closing tag."):r.tagName=s}continue;case x.CLOSE_TAG_SAW_WHITE:if(y(s))continue;">"===s?L(r):O(r,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var l,h;switch(r.state){case x.TEXT_ENTITY:l=x.TEXT,h="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:l=x.ATTRIB_VALUE_QUOTED,h="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:l=x.ATTRIB_VALUE_UNQUOTED,h="attribValue"}if(";"===s){var f=U(r);r.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(f)?(r.entity="",r.state=l,r.write(f)):(r[h]+=f,r.entity="",r.state=l)}else v(r.entity.length?m:g,s)?r.entity+=s:(O(r,"Invalid character in entity name"),r[h]+="&"+r.entity+s,r.entity="",r.state=l);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),n=0,s=0,a=i.length;s<a;s++){var o=t[i[s]].length;if(o>r)switch(i[s]){case"textNode":M(t);break;case"cdata":T(t,"oncdata",t.cdata),t.cdata="";break;case"script":T(t,"onscript",t.script),t.script="";break;default:R(t,"Max buffer length exceeded: "+i[s])}n=Math.max(n,o)}var c=e.MAX_BUFFER_LENGTH-n;t.bufferCheckPosition=c+t.position}(r),r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;M(e=this),""!==e.cdata&&(T(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(T(e,"onscript",e.script),e.script="")}};try{t=r(1983).Stream}catch(e){t=function(){}}t||(t=function(){});var a=e.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function o(e,r){if(!(this instanceof o))return new o(e,r);t.apply(this),this._parser=new s(e,r),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,a.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})})}o.prototype=Object.create(t.prototype,{constructor:{value:o}}),o.prototype.write=function(e){if("function"==typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(e)){if(!this._decoder){var t=r(8888).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,r){var n=this;return n._parser["on"+e]||-1===a.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),t.prototype.on.call(n,e,r)};var c="[CDATA[",u="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/2000/xmlns/",f={xml:l,xmlns:h},d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function y(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function b(e){return'"'===e||"'"===e}function w(e){return">"===e||y(e)}function v(e,t){return e.test(t)}function S(e,t){return!v(e,t)}var E,_,I,x=0;for(var A in e.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(t){var r=e.ENTITIES[t],n="number"==typeof r?String.fromCharCode(r):r;e.ENTITIES[t]=n}),e.STATE)e.STATE[e.STATE[A]]=A;function k(e,t,r){e[t]&&e[t](r)}function T(e,t,r){e.textNode&&M(e),k(e,t,r)}function M(e){e.textNode=C(e.opt,e.textNode),e.textNode&&k(e,"ontext",e.textNode),e.textNode=""}function C(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function R(e,t){return M(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,k(e,"onerror",t),e}function D(e){return e.sawRoot&&!e.closedRoot&&O(e,"Unclosed root tag"),e.state!==x.BEGIN&&e.state!==x.BEGIN_WHITESPACE&&e.state!==x.TEXT&&R(e,"Unexpected end"),M(e),e.c="",e.closed=!0,k(e,"onend"),s.call(e,e.strict,e.opt),e}function O(e,t){if("object"!=typeof e||!(e instanceof s))throw new Error("bad call to strictFail");e.strict&&R(e,t)}function F(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,T(e,"onopentagstart",r)}function P(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function N(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=P(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==l)O(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==h)O(e,"xmlns: prefix must be bound to "+h+"\nActual: "+e.attribValue);else{var i=e.tag,s=e.tags[e.tags.length-1]||e;i.ns===s.ns&&(i.ns=Object.create(s.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,T(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function B(e,t){if(e.opt.xmlns){var r=e.tag,n=P(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(O(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),r.uri=n.prefix);var i=e.tags[e.tags.length-1]||e;r.ns&&i.ns!==r.ns&&Object.keys(r.ns).forEach(function(t){T(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var s=0,a=e.attribList.length;s<a;s++){var o=e.attribList[s],c=o[0],u=o[1],l=P(c,!0),h=l.prefix,f=l.local,d=""===h?"":r.ns[h]||"",p={name:c,value:u,prefix:h,local:f,uri:d};h&&"xmlns"!==h&&!d&&(O(e,"Unbound namespace prefix: "+JSON.stringify(h)),p.uri=h),e.tag.attributes[c]=p,T(e,"onattribute",p)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),T(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=x.TEXT:e.state=x.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function L(e){if(!e.tagName)return O(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=x.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=x.SCRIPT);T(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--&&e.tags[t].name!==n;)O(e,"Unexpected close tag");if(t<0)return O(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=x.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var s=e.tag=e.tags.pop();e.tagName=e.tag.name,T(e,"onclosetag",e.tagName);var a={};for(var o in s.ns)a[o]=s.ns[o];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&s.ns!==c.ns&&Object.keys(s.ns).forEach(function(t){var r=s.ns[t];T(e,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=x.TEXT}function U(e){var t,r=e.entity,n=r.toLowerCase(),i="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[n]?e.ENTITIES[n]:("#"===(r=n).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),i=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),i=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==r||t<0||t>1114111?(O(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function V(e,t){"<"===t?(e.state=x.OPEN_WAKA,e.startTagPosition=e.position):y(t)||(O(e,"Non-whitespace before first tag."),e.textNode=t,e.state=x.TEXT)}function j(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}x=e.STATE,String.fromCodePoint||(E=String.fromCharCode,_=Math.floor,I=function(){var e,t,r=[],n=-1,i=arguments.length;if(!i)return"";for(var s="";++n<i;){var a=Number(arguments[n]);if(!isFinite(a)||a<0||a>1114111||_(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?r.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,r.push(e,t)),(n+1===i||r.length>16384)&&(s+=E.apply(null,r),r.length=0)}return s},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:I,configurable:!0,writable:!0}):String.fromCodePoint=I)}(t)},6108(e,t,r){"use strict";var n=r(528),i=r(686),s=r(7239)(),a=r(9336),o=r(3468),c=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new o("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||c(t)!==t)throw new o("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,u=!0;if("length"in e&&a){var l=a(e,"length");l&&!l.configurable&&(n=!1),l&&!l.writable&&(u=!1)}return(n||u||!r)&&(s?i(e,"length",t,!0,!0):i(e,"length",t)),e}},1098(e,t,r){"use strict";var n=r(8228),i=r(1743),s=r(2685),a=r(5433);function o(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}e.exports=function(e,t,r){if(!a(e))return e;if(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!=typeof t)return e;for(var c=n(t,{sep:".",brackets:!0}).filter(o),u=c.length,l=-1,h=e;++l<u;){var f=c[l];l===u-1?s(h[f])&&s(r)?h[f]=i({},h[f],r):h[f]=r:(a(h[f])||(h[f]={}),h=h[f])}return e}},1229(e,t,r){"use strict";var n=r(5636).Buffer,i=r(8764);function s(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}s.prototype.update=function(e,t){e=i(e,t||"utf8");for(var r=this._block,n=this._blockSize,s=e.length,a=this._len,o=0;o<s;){for(var c=a%n,u=Math.min(s-o,n-c),l=0;l<u;l++)r[c+l]=e[o+l];o+=u,(a+=u)%n===0&&this._update(r)}return this._len+=s,this},s.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=s},3229(e,t,r){"use strict";e.exports=function(t){var r=t.toLowerCase(),n=e.exports[r];if(!n)throw new Error(r+" is not supported (we accept pull requests)");return new n},e.exports.sha=r(3675),e.exports.sha1=r(8980),e.exports.sha224=r(947),e.exports.sha256=r(2826),e.exports.sha384=r(9922),e.exports.sha512=r(3699)},3675(e,t,r){"use strict";var n=r(5615),i=r(1229),s=r(5636).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,i.call(this,64,56)}function u(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function h(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,o=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=t[c-3]^t[c-8]^t[c-14]^t[c-16];for(var f=0;f<80;++f){var d=~~(f/20),p=u(r)+h(d,n,i,s)+o+t[f]+a[d]|0;o=s,s=i,i=l(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0},c.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},8980(e,t,r){"use strict";var n=r(5615),i=r(1229),s=r(5636).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,i.call(this,64,56)}function u(e){return e<<1|e>>>31}function l(e){return e<<5|e>>>27}function h(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,o=0|this._e,c=0;c<16;++c)t[c]=e.readInt32BE(4*c);for(;c<80;++c)t[c]=u(t[c-3]^t[c-8]^t[c-14]^t[c-16]);for(var d=0;d<80;++d){var p=~~(d/20),g=l(r)+f(p,n,i,s)+o+t[d]+a[p]|0;o=s,s=i,i=h(n),n=r,r=g}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0},c.prototype._hash=function(){var e=s.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=c},947(e,t,r){"use strict";var n=r(5615),i=r(2826),s=r(1229),a=r(5636).Buffer,o=new Array(64);function c(){this.init(),this._w=o,s.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=c},2826(e,t,r){"use strict";var n=r(5615),i=r(1229),s=r(5636).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function c(){this.init(),this._w=o,i.call(this,64,56)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function p(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}n(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,s=0|this._d,o=0|this._e,c=0|this._f,g=0|this._g,m=0|this._h,y=0;y<16;++y)t[y]=e.readInt32BE(4*y);for(;y<64;++y)t[y]=p(t[y-2])+t[y-7]+d(t[y-15])+t[y-16]|0;for(var b=0;b<64;++b){var w=m+f(o)+u(o,c,g)+a[b]+t[b]|0,v=h(r)+l(r,n,i)|0;m=g,g=c,c=o,o=s+w|0,s=i,i=n,n=r,r=w+v|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=c+this._f|0,this._g=g+this._g|0,this._h=m+this._h|0},c.prototype._hash=function(){var e=s.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=c},9922(e,t,r){"use strict";var n=r(5615),i=r(3699),s=r(1229),a=r(5636).Buffer,o=new Array(160);function c(){this.init(),this._w=o,s.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=c},3699(e,t,r){"use strict";var n=r(5615),i=r(1229),s=r(5636).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function c(){this.init(),this._w=o,i.call(this,128,112)}function u(e,t,r){return r^e&(t^r)}function l(e,t,r){return e&t|r&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function y(e,t){return e>>>0<t>>>0?1:0}n(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,s=0|this._dh,o=0|this._eh,c=0|this._fh,b=0|this._gh,w=0|this._hh,v=0|this._al,S=0|this._bl,E=0|this._cl,_=0|this._dl,I=0|this._el,x=0|this._fl,A=0|this._gl,k=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var M=t[T-30],C=t[T-30+1],R=d(M,C),D=p(C,M),O=g(M=t[T-4],C=t[T-4+1]),F=m(C,M),P=t[T-14],N=t[T-14+1],B=t[T-32],L=t[T-32+1],U=D+N|0,V=R+P+y(U,D)|0;V=(V=V+O+y(U=U+F|0,F)|0)+B+y(U=U+L|0,L)|0,t[T]=V,t[T+1]=U}for(var j=0;j<160;j+=2){V=t[j],U=t[j+1];var z=l(r,n,i),$=l(v,S,E),q=h(r,v),G=h(v,r),W=f(o,I),H=f(I,o),X=a[j],Y=a[j+1],K=u(o,c,b),Z=u(I,x,A),J=k+H|0,Q=w+W+y(J,k)|0;Q=(Q=(Q=Q+K+y(J=J+Z|0,Z)|0)+X+y(J=J+Y|0,Y)|0)+V+y(J=J+U|0,U)|0;var ee=G+$|0,te=q+z+y(ee,G)|0;w=b,k=A,b=c,A=x,c=o,x=I,o=s+Q+y(I=_+J|0,_)|0,s=i,_=E,i=n,E=S,n=r,S=v,r=Q+te+y(v=J+ee|0,J)|0}this._al=this._al+v|0,this._bl=this._bl+S|0,this._cl=this._cl+E|0,this._dl=this._dl+_|0,this._el=this._el+I|0,this._fl=this._fl+x|0,this._gl=this._gl+A|0,this._hl=this._hl+k|0,this._ah=this._ah+r+y(this._al,v)|0,this._bh=this._bh+n+y(this._bl,S)|0,this._ch=this._ch+i+y(this._cl,E)|0,this._dh=this._dh+s+y(this._dl,_)|0,this._eh=this._eh+o+y(this._el,I)|0,this._fh=this._fh+c+y(this._fl,x)|0,this._gh=this._gh+b+y(this._gl,A)|0,this._hh=this._hh+w+y(this._hl,k)|0},c.prototype._hash=function(){var e=s.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=c},9645(e,t,r){"use strict";var n=r(7599),i=r(5677),s=r(6420),a=r(8250),o=r(9504);function c(e){n.call(this,null,e),this.options=o.extend({source:"string"},this.options),this.compiler=new s(this.options),this.parser=new a(this.options),Object.defineProperty(this,"compilers",{get:function(){return this.compiler.compilers}}),Object.defineProperty(this,"parsers",{get:function(){return this.parser.parsers}}),Object.defineProperty(this,"regex",{get:function(){return this.parser.regex}})}n.extend(c),c.prototype.capture=function(){return this.parser.capture.apply(this.parser,arguments)},c.prototype.use=function(e){return e.call(this,this),this},c.prototype.parse=function(e,t){this.options=o.extend({},this.options,t);var r=this.parser.parse(e,this.options);return i(r,"parser",this.parser),r},c.prototype.compile=function(e,t){this.options=o.extend({},this.options,t);var r=this.compiler.compile(e,this.options);return i(r,"compiler",this.compiler),r},e.exports=c,e.exports.Compiler=s,e.exports.Parser=a},6420(e,t,r){"use strict";var n=r(8641),i=r(5677),s=r(124)("snapdragon:compiler"),a=r(9504);function o(e,t){s("initializing","/index.js"),this.options=a.extend({source:"string"},e),this.state=t||{},this.compilers={},this.output="",this.set("eos",function(e){return this.emit(e.val,e)}),this.set("noop",function(e){return this.emit(e.val,e)}),this.set("bos",function(e){return this.emit(e.val,e)}),n(this)}o.prototype={error:function(e,t){var r=t.position||{start:{column:0}},n=this.options.source+" column:"+r.start.column+": "+e,i=new Error(n);if(i.reason=e,i.column=r.start.column,i.source=this.pattern,!this.options.silent)throw i;this.errors.push(i)},define:function(e,t){return i(this,e,t),this},emit:function(e,t){return this.output+=e,e},set:function(e,t){return this.compilers[e]=t,this},get:function(e){return this.compilers[e]},prev:function(e){return this.ast.nodes[this.idx-(e||1)]||{type:"bos",val:""}},next:function(e){return this.ast.nodes[this.idx+(e||1)]||{type:"eos",val:""}},visit:function(e,t,r){var n=this.compilers[e.type];if(this.idx=r,"function"!=typeof n)throw this.error('compiler "'+e.type+'" is not registered',e);return n.call(this,e,t,r)},mapVisit:function(e){if(!Array.isArray(e))throw new TypeError("expected an array");for(var t=e.length,r=-1;++r<t;)this.visit(e[r],e,r);return this},compile:function(e,t){var n=a.extend({},this.options,t);return this.ast=e,this.parsingErrors=this.ast.errors,this.output="",n.sourcemap?(r(8838)(this),this.mapVisit(this.ast.nodes),this.applySourceMaps(),this.map="generator"===n.sourcemap?this.map:this.map.toJSON(),this):(this.mapVisit(this.ast.nodes),this)}},e.exports=o},8250(e,t,r){"use strict";var n=r(8641),i=r(9208),s=r(6343),a=r(5677),o=r(124)("snapdragon:parser"),c=r(2050),u=r(9504);function l(e){o("initializing","/index.js"),this.options=u.extend({source:"string"},e),this.init(this.options),n(this)}function h(e,t){return e.visited?e:(a(e,"visited",!0),e.nodes?function(e,t){for(var r=e.length,n=-1;++n<r;)h(e[n],t)}(e.nodes,t):t(e))}function f(e){return function(e){return e.nodes&&e.nodes[0].type===e.type+".open"}(e)&&function(e){return e.nodes&&u.last(e.nodes).type===e.type+".close"}(e)}l.prototype={constructor:l,init:function(e){this.orig="",this.input="",this.parsed="",this.column=1,this.line=1,this.regex=new s,this.errors=this.errors||[],this.parsers=this.parsers||{},this.types=this.types||[],this.sets=this.sets||{},this.fns=this.fns||[],this.currentType="root";var t=this.position();this.bos=t({type:"bos",val:""}),this.ast={type:"root",errors:this.errors,nodes:[this.bos]},a(this.bos,"parent",this.ast),this.nodes=[this.ast],this.count=0,this.setCount=0,this.stack=[]},error:function(e,t){var r=t.position||{start:{column:0,line:0}},n=r.start.line,i=r.start.column,s=this.options.source,a=new Error(s+" <line:"+n+" column:"+i+">: "+e);if(a.source=s,a.reason=e,a.pos=r,!this.options.silent)throw a;this.errors.push(a)},define:function(e,t){return a(this,e,t),this},position:function(){var e={line:this.line,column:this.column},t=this;return function(r){return a(r,"position",new c(e,t)),r}},set:function(e,t){return-1===this.types.indexOf(e)&&this.types.push(e),this.parsers[e]=t.bind(this),this},get:function(e){return this.parsers[e]},push:function(e,t){return this.sets[e]=this.sets[e]||[],this.count++,this.stack.push(t),this.sets[e].push(t)},pop:function(e){return this.sets[e]=this.sets[e]||[],this.count--,this.stack.pop(),this.sets[e].pop()},isInside:function(e){return this.sets[e]=this.sets[e]||[],this.sets[e].length>0},isType:function(e,t){return e&&e.type===t},prev:function(e){return this.stack.length>0?u.last(this.stack,e):u.last(this.nodes,e)},consume:function(e){this.input=this.input.substr(e)},updatePosition:function(e,t){var r=e.match(/\n/g);r&&(this.line+=r.length);var n=e.lastIndexOf("\n");this.column=~n?t-n:this.column+t,this.parsed+=e,this.consume(t)},match:function(e){var t=e.exec(this.input);if(t)return this.updatePosition(t[0],t[0].length),t},capture:function(e,t){return"function"==typeof t?this.set.apply(this,arguments):(this.regex.set(e,t),this.set(e,function(){var r=this.parsed,n=this.position(),i=this.match(t);if(i&&i[0]){var s=this.prev(),o=n({type:e,val:i[0],parsed:r,rest:this.input});i[1]&&(o.inner=i[1]),a(o,"inside",this.stack.length>0),a(o,"parent",s),s.nodes.push(o)}}.bind(this)),this)},capturePair:function(e,t,r,n){return this.sets[e]=this.sets[e]||[],this.set(e+".open",function(){var r=this.parsed,i=this.position(),s=this.match(t);if(s&&s[0]){var o=s[0];this.setCount++,this.specialChars=!0;var c=i({type:e+".open",val:o,rest:this.input});void 0!==s[1]&&(c.inner=s[1]);var u=this.prev(),l=i({type:e,nodes:[c]});a(l,"rest",this.input),a(l,"parsed",r),a(l,"prefix",s[1]),a(l,"parent",u),a(c,"parent",l),"function"==typeof n&&n.call(this,c,l),this.push(e,l),u.nodes.push(l)}}),this.set(e+".close",function(){var t=this.position(),n=this.match(r);if(n&&n[0]){var i=this.pop(e),s=t({type:e+".close",rest:this.input,suffix:n[1],val:n[0]});if(!this.isType(i,e)){if(this.options.strict)throw new Error('missing opening "'+e+'"');return this.setCount--,s.escaped=!0,s}"\\"===s.suffix&&(i.escaped=!0,s.escaped=!0),i.nodes.push(s),a(s,"parent",i)}}),this},eos:function(){var e=this.position();if(!this.input){for(var t=this.prev();"root"!==t.type&&!t.visited;){if(!0===this.options.strict)throw new SyntaxError("invalid syntax:"+i.inspect(t,null,2));f(t)||(t.parent.escaped=!0,t.escaped=!0),h(t,function(e){f(e.parent)||(e.parent.escaped=!0,e.escaped=!0)}),t=t.parent}var r=e({type:"eos",val:this.append||""});return a(r,"parent",this.ast),r}},next:function(){for(var e,t=this.parsed,r=this.types.length,n=-1;++n<r;)if(e=this.parsers[this.types[n]].call(this))return a(e,"rest",this.input),a(e,"parsed",t),this.last=e,e},parse:function(e){if("string"!=typeof e)throw new TypeError("expected a string");this.init(this.options),this.orig=e,this.input=e;var t=this;function r(){e=t.input;var r=t.next();if(r){var n=t.prev();n&&(a(r,"parent",n),n.nodes&&n.nodes.push(r)),t.sets.hasOwnProperty(n.type)&&(t.currentType=n.type)}if(t.input&&e===t.input)throw new Error('no parsers registered for: "'+t.input.slice(0,5)+'"')}for(;this.input;)r();if(this.stack.length&&this.options.strict){var n=this.stack.pop();throw this.error("missing opening "+n.type+': "'+this.orig+'"')}var i=this.eos();return"eos"!==this.prev().type&&this.ast.nodes.push(i),this.ast}},e.exports=l},2050(e,t,r){"use strict";var n=r(5677);e.exports=function(e,t){this.start=e,this.end={line:t.line,column:t.column},n(this,"content",t.orig),n(this,"source",t.options.source)}},8838(e,t,r){"use strict";var n=r(4818),i=r(9942),s=r(5677),a=r(9504);e.exports=function(e){for(var r in s(e,"_comment",e.comment),e.map=new a.SourceMap.SourceMapGenerator,e.position={line:1,column:1},e.content={},e.files={},t)s(e,r,t[r])},t.updatePosition=function(e){var t=e.match(/\n/g);t&&(this.position.line+=t.length);var r=e.lastIndexOf("\n");this.position.column=~r?e.length-r:this.position.column+e.length},t.emit=function(e,t){var r=t.position||{},n=r.source;return n&&(r.filepath&&(n=a.unixify(r.filepath)),this.map.addMapping({source:n,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:r.start.line,column:r.start.column-1}}),r.content&&this.addContent(n,r),r.filepath&&this.addFile(n,r),this.updatePosition(e),this.output+=e),e},t.addFile=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.files,e)||(this.files[e]=t.content))},t.addContent=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.content,e)||this.map.setSourceContent(e,t.content))},t.applySourceMaps=function(){Object.keys(this.files).forEach(function(e){var t=this.files[e];if(this.map.setSourceContent(e,t),!0===this.options.inputSourcemaps){var r=a.sourceMapResolve.resolveSync(t,e,n.readFileSync);if(r){var s=new a.SourceMap.SourceMapConsumer(r.map),o=r.sourcesRelativeTo;this.map.applySourceMap(s,e,a.unixify(i.dirname(o)))}}},this)},t.comment=function(e){return/^# sourceMappingURL=/.test(e.comment)?this.emit("",e.position):this._comment(e)}},9504(e,t,r){"use strict";t.extend=r(1743),t.SourceMap=r(9715),t.sourceMapResolve=r(2366),t.unixify=function(e){return e.split(/\\+/).join("/")},t.isString=function(e){return e&&"string"==typeof e},t.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},t.last=function(e,t){return e[e.length-(t||1)]}},2366(e,t,r){var n,i,s;i=[r(9560),r(6030)],void 0===(s="function"==typeof(n=function(e,t){function r(e,t,r){setImmediate(function(){e(t,r)})}function n(e,t){try{return JSON.parse(e.replace(/^\)\]\}'/,""))}catch(e){throw e.sourceMapData=t,e}}function i(e,t,r){var n=t;try{return String(e(n))}catch(e){throw e.sourceMapData=r,e}}function s(e,t,i,s){var a;try{a=h(e,t)}catch(e){return r(s,e)}if(!a||a.map)return r(s,null,a);i(a.url,function(e,t){if(e)return e.sourceMapData=a,s(e);a.map=String(t);try{a.map=n(a.map,a)}catch(e){return s(e)}s(null,a)})}function a(e,t,r){var s=h(e,t);return!s||s.map||(s.map=i(r,s.url,s),s.map=n(s.map,s)),s}var o=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,c=/^(?:application|text)\/json$/,u="utf-8";function l(e){if("undefined"==typeof TextDecoder||"undefined"==typeof Uint8Array)return atob(e);var t=function(e){for(var t=atob(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n}(e);return new TextDecoder(u,{fatal:!0}).decode(t)}function h(r,i){var s=e.getFrom(r);if(!s)return null;var a=s.match(o);if(a){var u=a[1]||"text/plain",h=a[2]||"",f=a[3]||"",d={sourceMappingURL:s,url:null,sourcesRelativeTo:i,map:f};if(!c.test(u)){var p=new Error("Unuseful data uri mime type: "+u);throw p.sourceMapData=d,p}try{d.map=n(";base64"===h?l(f):decodeURIComponent(f),d)}catch(p){throw p.sourceMapData=d,p}return d}var g=t(i,s);return{sourceMappingURL:s,url:g,sourcesRelativeTo:g,map:null}}function f(e,t,n,i,s){"function"==typeof i&&(s=i,i={});var a=e.sources?e.sources.length:0,o={sourcesResolved:[],sourcesContent:[]};if(0!==a){var c=function(){0===--a&&s(null,o)};g(e,t,i,function(e,t,i){o.sourcesResolved[i]=e,"string"==typeof t?(o.sourcesContent[i]=t,r(c,null)):n(e,function(e,t){o.sourcesContent[i]=e||String(t),c()})})}else r(s,null,o)}function d(e,t,r,n){var i={sourcesResolved:[],sourcesContent:[]};return e.sources&&0!==e.sources.length?(g(e,t,n,function(e,t,n){if(i.sourcesResolved[n]=e,null!==r)if("string"==typeof t)i.sourcesContent[n]=t;else{var s=e;try{i.sourcesContent[n]=String(r(s))}catch(e){i.sourcesContent[n]=e}}}),i):i}var p=/\/?$/;function g(e,r,n,i){var s;n=n||{};for(var a=0,o=e.sources.length;a<o;a++)s=null,"string"==typeof n.sourceRoot?s=n.sourceRoot:"string"==typeof e.sourceRoot&&!1!==n.sourceRoot&&(s=e.sourceRoot),i(null===s||""===s?t(r,e.sources[a]):t(r,s.replace(p,"/"),e.sources[a]),(e.sourcesContent||[])[a],a)}return{resolveSourceMap:s,resolveSourceMapSync:a,resolveSources:f,resolveSourcesSync:d,resolve:function(e,t,r,i,a){if("function"==typeof i&&(a=i,i={}),null===e){var o={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null};r(t,function(e,t){if(e)return e.sourceMapData=o,a(e);o.map=String(t);try{o.map=n(o.map,o)}catch(e){return a(e)}c(o)})}else s(e,t,r,function(e,t){return e?a(e):t?void c(t):a(null,null)});function c(e){f(e.map,e.sourcesRelativeTo,r,i,function(t,r){if(t)return a(t);e.sourcesResolved=r.sourcesResolved,e.sourcesContent=r.sourcesContent,a(null,e)})}},resolveSync:function(e,t,r,s){var o;if(null===e)(o={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null}).map=i(r,t,o),o.map=n(o.map,o);else if(!(o=a(e,t,r)))return null;var c=d(o.map,o.sourcesRelativeTo,r,s);return o.sourcesResolved=c.sourcesResolved,o.sourcesContent=c.sourcesContent,o},parseMapToJSON:n}})?n.apply(t,i):n)||(e.exports=s)},9560(e,t,r){var n,i;void 0===(i="function"==typeof(n=function(){var e=/[#@] sourceMappingURL=([^\s'"]*)/,t=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+e.source+")\\s*\\*/|//(?:"+e.source+"))\\s*");return{regex:t,_innerRegex:e,getFrom:function(e){var r=e.match(t);return r?r[1]||r[2]||"":null},existsIn:function(e){return t.test(e)},removeFrom:function(e){return e.replace(t,"")},insertBefore:function(e,r){var n=e.match(t);return n?e.slice(0,n.index)+r+e.slice(n.index):e+r}}})?n.call(t,r,t,e):n)||(e.exports=i)},7604(e,t,r){var n=r(9002),i=Object.prototype.hasOwnProperty,s="undefined"!=typeof Map;function a(){this._array=[],this._set=s?new Map:Object.create(null)}a.fromArray=function(e,t){for(var r=new a,n=0,i=e.length;n<i;n++)r.add(e[n],t);return r},a.prototype.size=function(){return s?this._set.size:Object.getOwnPropertyNames(this._set).length},a.prototype.add=function(e,t){var r=s?e:n.toSetString(e),a=s?this.has(e):i.call(this._set,r),o=this._array.length;a&&!t||this._array.push(e),a||(s?this._set.set(e,o):this._set[r]=o)},a.prototype.has=function(e){if(s)return this._set.has(e);var t=n.toSetString(e);return i.call(this._set,t)},a.prototype.indexOf=function(e){if(s){var t=this._set.get(e);if(t>=0)return t}else{var r=n.toSetString(e);if(i.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},a.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},a.prototype.toArray=function(){return this._array.slice()},t.C=a},7853(e,t,r){var n=r(3845);t.encode=function(e){var t,r="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),r+=n.encode(t)}while(i>0);return r},t.decode=function(e,t,r){var i,s,a,o,c=e.length,u=0,l=0;do{if(t>=c)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(s=n.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&s),u+=(s&=31)<<l,l+=5}while(i);r.value=(o=(a=u)>>1,1&~a?o:-o),r.rest=t}},3845(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},7120(e,t){function r(e,n,i,s,a,o){var c=Math.floor((n-e)/2)+e,u=a(i,s[c],!0);return 0===u?c:u>0?n-c>1?r(c,n,i,s,a,o):o==t.LEAST_UPPER_BOUND?n<s.length?n:-1:c:c-e>1?r(e,c,i,s,a,o):o==t.LEAST_UPPER_BOUND?c:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,i,s){if(0===n.length)return-1;var a=r(-1,n.length,e,n,i,s||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&0===i(n[a],n[a-1],!0);)--a;return a}},9980(e,t,r){var n=r(9002);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,r,i,s,a,o;r=e,i=(t=this._last).generatedLine,s=r.generatedLine,a=t.generatedColumn,o=r.generatedColumn,s>i||s==i&&o>=a||n.compareByGeneratedPositionsInflated(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.P=i},5776(e,t){function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function n(e,t,i,s){if(i<s){var a=i-1;r(e,(l=i,h=s,Math.round(l+Math.random()*(h-l))),s);for(var o=e[s],c=i;c<s;c++)t(e[c],o)<=0&&r(e,a+=1,c);r(e,a+1,c);var u=a+1;n(e,t,i,u-1),n(e,t,u+1,s)}var l,h}t.g=function(e,t){n(e,t,0,e.length-1)}},3697(e,t,r){var n=r(9002),i=r(7120),s=r(7604).C,a=r(7853),o=r(5776).g;function c(e,t){var r=e;return"string"==typeof e&&(r=n.parseSourceMapInput(e)),null!=r.sections?new h(r,t):new u(r,t)}function u(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),a=n.getArg(r,"sources"),o=n.getArg(r,"names",[]),c=n.getArg(r,"sourceRoot",null),u=n.getArg(r,"sourcesContent",null),l=n.getArg(r,"mappings"),h=n.getArg(r,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);c&&(c=n.normalize(c)),a=a.map(String).map(n.normalize).map(function(e){return c&&n.isAbsolute(c)&&n.isAbsolute(e)?n.relative(c,e):e}),this._names=s.fromArray(o.map(String),!0),this._sources=s.fromArray(a,!0),this._absoluteSources=this._sources.toArray().map(function(e){return n.computeSourceURL(c,e,t)}),this.sourceRoot=c,this.sourcesContent=u,this._mappings=l,this._sourceMapURL=t,this.file=h}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e,t){var r=e;"string"==typeof e&&(r=n.parseSourceMapInput(e));var i=n.getArg(r,"version"),a=n.getArg(r,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new s,this._names=new s;var o={line:-1,column:0};this._sections=a.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var r=n.getArg(e,"offset"),i=n.getArg(r,"line"),s=n.getArg(r,"column");if(i<o.line||i===o.line&&s<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=r,{generatedOffset:{generatedLine:i+1,generatedColumn:s+1},consumer:new c(n.getArg(e,"map"),t)}})}c.fromSourceMap=function(e,t){return u.fromSourceMap(e,t)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,r){var i,s=t||null;switch(r||c.GENERATED_ORDER){case c.GENERATED_ORDER:i=this._generatedMappings;break;case c.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;i.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=n.computeSourceURL(a,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,s)},c.prototype.allGeneratedPositionsFor=function(e){var t=n.getArg(e,"line"),r={source:n.getArg(e,"source"),originalLine:t,originalColumn:n.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var s=[],a=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(a>=0){var o=this._originalMappings[a];if(void 0===e.column)for(var c=o.originalLine;o&&o.originalLine===c;)s.push({line:n.getArg(o,"generatedLine",null),column:n.getArg(o,"generatedColumn",null),lastColumn:n.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++a];else for(var u=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==u;)s.push({line:n.getArg(o,"generatedLine",null),column:n.getArg(o,"generatedColumn",null),lastColumn:n.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++a]}return s},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=n.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},u.fromSourceMap=function(e,t){var r=Object.create(u.prototype),i=r._names=s.fromArray(e._names.toArray(),!0),a=r._sources=s.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map(function(e){return n.computeSourceURL(r.sourceRoot,e,t)});for(var c=e._mappings.toArray().slice(),h=r.__generatedMappings=[],f=r.__originalMappings=[],d=0,p=c.length;d<p;d++){var g=c[d],m=new l;m.generatedLine=g.generatedLine,m.generatedColumn=g.generatedColumn,g.source&&(m.source=a.indexOf(g.source),m.originalLine=g.originalLine,m.originalColumn=g.originalColumn,g.name&&(m.name=i.indexOf(g.name)),f.push(m)),h.push(m)}return o(r.__originalMappings,n.compareByOriginalPositions),r},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),u.prototype._parseMappings=function(e,t){for(var r,i,s,c,u,h=1,f=0,d=0,p=0,g=0,m=0,y=e.length,b=0,w={},v={},S=[],E=[];b<y;)if(";"===e.charAt(b))h++,b++,f=0;else if(","===e.charAt(b))b++;else{for((r=new l).generatedLine=h,c=b;c<y&&!this._charIsMappingSeparator(e,c);c++);if(s=w[i=e.slice(b,c)])b+=i.length;else{for(s=[];b<c;)a.decode(e,b,v),u=v.value,b=v.rest,s.push(u);if(2===s.length)throw new Error("Found a source, but no line and column");if(3===s.length)throw new Error("Found a source and line, but no column");w[i]=s}r.generatedColumn=f+s[0],f=r.generatedColumn,s.length>1&&(r.source=g+s[1],g+=s[1],r.originalLine=d+s[2],d=r.originalLine,r.originalLine+=1,r.originalColumn=p+s[3],p=r.originalColumn,s.length>4&&(r.name=m+s[4],m+=s[4])),E.push(r),"number"==typeof r.originalLine&&S.push(r)}o(E,n.compareByGeneratedPositionsDeflated),this.__generatedMappings=E,o(S,n.compareByOriginalPositions),this.__originalMappings=S},u.prototype._findMapping=function(e,t,r,n,s,a){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return i.search(e,t,s,a)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositionsDeflated,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(r>=0){var i=this._generatedMappings[r];if(i.generatedLine===t.generatedLine){var s=n.getArg(i,"source",null);null!==s&&(s=this._sources.at(s),s=n.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var a=n.getArg(i,"name",null);return null!==a&&(a=this._names.at(a)),{source:s,line:n.getArg(i,"originalLine",null),column:n.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];var i,s=e;if(null!=this.sourceRoot&&(s=n.relative(this.sourceRoot,s)),null!=this.sourceRoot&&(i=n.urlParse(this.sourceRoot))){var a=s.replace(/^file:\/\//,"");if("file"==i.scheme&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!i.path||"/"==i.path)&&this._sources.has("/"+s))return this.sourcesContent[this._sources.indexOf("/"+s)]}if(t)return null;throw new Error('"'+s+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=n.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")},i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions,n.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===r.source)return{line:n.getArg(s,"generatedLine",null),column:n.getArg(s,"generatedColumn",null),lastColumn:n.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},h.prototype=Object.create(c.prototype),h.prototype.constructor=c,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=i.search(t,this._sections,function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn}),s=this._sections[r];return s?s.consumer.originalPositionFor({line:t.generatedLine-(s.generatedOffset.generatedLine-1),column:t.generatedColumn-(s.generatedOffset.generatedLine===t.generatedLine?s.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},h.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(n.getArg(e,"source"))){var i=r.consumer.generatedPositionFor(e);if(i)return{line:i.line+(r.generatedOffset.generatedLine-1),column:i.column+(r.generatedOffset.generatedLine===i.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var i=this._sections[r],s=i.consumer._generatedMappings,a=0;a<s.length;a++){var c=s[a],u=i.consumer._sources.at(c.source);u=n.computeSourceURL(i.consumer.sourceRoot,u,this._sourceMapURL),this._sources.add(u),u=this._sources.indexOf(u);var l=null;c.name&&(l=i.consumer._names.at(c.name),this._names.add(l),l=this._names.indexOf(l));var h={source:u,generatedLine:c.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(i.generatedOffset.generatedLine===c.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}o(this.__generatedMappings,n.compareByGeneratedPositionsDeflated),o(this.__originalMappings,n.compareByOriginalPositions)}},32(e,t,r){var n=r(7853),i=r(9002),s=r(7604).C,a=r(9980).P;function o(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new a,this._sourcesContents=null}o.prototype._version=3,o.fromSourceMap=function(e){var t=e.sourceRoot,r=new o({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=i.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)}),e.sources.forEach(function(n){var s=n;null!==t&&(s=i.relative(t,n)),r._sources.has(s)||r._sources.add(s);var a=e.sourceContentFor(n);null!=a&&r.setSourceContent(n,a)}),r},o.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),r=i.getArg(e,"original",null),n=i.getArg(e,"source",null),s=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,s),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=s&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:s})},o.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=i.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var a=this._sourceRoot;null!=a&&(n=i.relative(a,n));var o=new s,c=new s;this._mappings.unsortedForEach(function(t){if(t.source===n&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=r&&(t.source=i.join(r,t.source)),null!=a&&(t.source=i.relative(a,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var u=t.source;null==u||o.has(u)||o.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=o,this._names=c,e.sources.forEach(function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=i.join(r,t)),null!=a&&(t=i.relative(a,t)),this.setSourceContent(t,n))},this)},o.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},o.prototype._serializeMappings=function(){for(var e,t,r,s,a=0,o=1,c=0,u=0,l=0,h=0,f="",d=this._mappings.toArray(),p=0,g=d.length;p<g;p++){if(e="",(t=d[p]).generatedLine!==o)for(a=0;t.generatedLine!==o;)e+=";",o++;else if(p>0){if(!i.compareByGeneratedPositionsInflated(t,d[p-1]))continue;e+=","}e+=n.encode(t.generatedColumn-a),a=t.generatedColumn,null!=t.source&&(s=this._sources.indexOf(t.source),e+=n.encode(s-h),h=s,e+=n.encode(t.originalLine-1-u),u=t.originalLine-1,e+=n.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-l),l=r)),f+=e}return f},o.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var r=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)},o.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=o},5060(e,t,r){var n=r(32).SourceMapGenerator,i=r(9002),s=/(\r?\n)/,a="$$$isSourceNode$$$";function o(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[a]=!0,null!=n&&this.add(n)}o.fromStringWithSourceMap=function(e,t,r){var n=new o,a=e.split(s),c=0,u=function(){return e()+(e()||"");function e(){return c<a.length?a[c++]:void 0}},l=1,h=0,f=null;return t.eachMapping(function(e){if(null!==f){if(!(l<e.generatedLine)){var t=(r=a[c]||"").substr(0,e.generatedColumn-h);return a[c]=r.substr(e.generatedColumn-h),h=e.generatedColumn,d(f,t),void(f=e)}d(f,u()),l++,h=0}for(;l<e.generatedLine;)n.add(u()),l++;if(h<e.generatedColumn){var r=a[c]||"";n.add(r.substr(0,e.generatedColumn)),a[c]=r.substr(e.generatedColumn),h=e.generatedColumn}f=e},this),c<a.length&&(f&&d(f,u()),n.add(a.splice(c).join(""))),t.sources.forEach(function(e){var s=t.sourceContentFor(e);null!=s&&(null!=r&&(e=i.join(r,e)),n.setSourceContent(e,s))}),n;function d(e,t){if(null===e||void 0===e.source)n.add(t);else{var s=r?i.join(r,e.source):e.source;n.add(new o(e.originalLine,e.originalColumn,s,t,e.name))}}},o.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},o.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[a]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},o.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[a]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},o.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},o.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[a]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},o.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},o.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][a]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(i.fromSetString(n[t]),this.sourceContents[n[t]])},o.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},o.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new n(e),i=!1,s=null,a=null,o=null,c=null;return this.walk(function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(s===n.source&&a===n.line&&o===n.column&&c===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),s=n.source,a=n.line,o=n.column,c=n.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),s=null,i=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(s=null,i=!1):i&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++}),this.walkSourceContents(function(e,t){r.setSourceContent(e,t)}),{code:t.code,map:r}},t.SourceNode=o},9002(e,t){t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function s(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var r=e,n=i(e);if(n){if(!n.path)return e;r=n.path}for(var a,o=t.isAbsolute(r),c=r.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(a=c[l])?c.splice(l,1):".."===a?u++:u>0&&(""===a?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(r=c.join("/"))&&(r=o?"/":"."),n?(n.path=r,s(n)):r}function o(e,t){""===e&&(e="."),""===t&&(t=".");var r=i(t),o=i(e);if(o&&(e=o.path||"/"),r&&!r.scheme)return o&&(r.scheme=o.scheme),s(r);if(r||t.match(n))return t;if(o&&!o.host&&!o.path)return o.host=t,s(o);var c="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=c,s(o)):c}t.urlParse=i,t.urlGenerate=s,t.normalize=a,t.join=o,t.isAbsolute=function(e){return"/"===e.charAt(0)||r.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var c=!("__proto__"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function h(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=c?u:function(e){return l(e)?"$"+e:e},t.fromSetString=c?u:function(e){return l(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,r){var n=h(e.source,t.source);return 0!==n||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)||r||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=e.generatedLine-t.generatedLine)?n:h(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||r||0!==(n=h(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:h(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=h(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:h(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var n=i(r);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var c=n.path.lastIndexOf("/");c>=0&&(n.path=n.path.substring(0,c+1))}t=o(s(n),t)}return a(t)}},9715(e,t,r){t.SourceMapGenerator=r(32).SourceMapGenerator,t.SourceMapConsumer=r(3697).SourceMapConsumer,t.SourceNode=r(5060).SourceNode},8228(e,t,r){"use strict";var n=r(1743);function i(e,t,r,n){var s=e.indexOf(t,r);return"\\"===e.charAt(s-1)?i(e,t,s+1):s}function s(e,t){return!0===t.keepDoubleQuotes&&'"'===e||!0===t.keepSingleQuotes&&"'"===e||t.keepQuotes}function a(e,t,r){return"function"==typeof e.keepEscaping?e.keepEscaping(t,r):!0===e.keepEscaping||"\\"===t[r+1]}e.exports=function(e,t,r){if("string"!=typeof e)throw new TypeError("expected a string");"function"==typeof t&&(r=t,t=null),"string"==typeof t&&(t={sep:t});var o,c=n({sep:"."},t),u=c.quotes||['"',"'","`"];!0===c.brackets?o={"<":">","(":")","[":"]","{":"}"}:c.brackets&&(o=c.brackets);var l,h=[],f=[],d=[""],p=c.sep,g=e.length,m=-1;function y(){if(o&&f.length)return o[f[f.length-1]]}for(;++m<g;){var b=e[m],w=e[m+1],v={val:b,idx:m,arr:d,str:e};if(h.push(v),"\\"!==b){if(o&&o[b]){f.push(b);var S=y(),E=m+1;if(-1!==e.indexOf(S,E+1))for(;f.length&&E<g;){var _=e[++E];if("\\"!==_)if(-1===u.indexOf(_)){if(S=y(),f.length&&-1===e.indexOf(S,E+1))break;o[_]?f.push(_):S===_&&f.pop()}else E=i(e,_,E+1);else _++}if(-1===(l=E)){d[d.length-1]+=b;continue}b=e.slice(m,l+1),v.val=b,v.idx=m=l}if(-1!==u.indexOf(b)){if(-1===(l=i(e,b,m+1))){d[d.length-1]+=b;continue}b=!0===s(b,c)?e.slice(m,l+1):e.slice(m+1,l),v.val=b,v.idx=m=l}"function"==typeof r&&(r(v,h),b=v.val,m=v.idx),v.val!==p||!1===v.split?d[d.length-1]+=v.val:d.push("")}else v.val=!0===a(c,e,m)?b+w:w,v.escaped=!0,"function"==typeof r&&r(v),d[d.length-1]+=v.val,m++}return d}},8324(e,t,r){"use strict";var n=r(6325),i=r(5677),s=r(9208);e.exports=function e(t,r){if("function"!=typeof t)throw new TypeError("expected Parent to be a function.");return function(a,o){if("function"!=typeof a)throw new TypeError("expected Ctor to be a function.");if(s.inherits(a,t),n(a,t),"object"==typeof o){var c=Object.create(o);for(var u in c)a.prototype[u]=c[u]}i(a.prototype,"_parent_",{configurable:!0,set:function(){},get:function(){return t.prototype}}),"function"==typeof r&&r(a,t),a.extend=e(a,r)}}},1983(e,t,r){e.exports=i;var n=r(46).EventEmitter;function i(){n.call(this)}r(5615)(i,n),i.Readable=r(8199),i.Writable=r(5291),i.Duplex=r(1265),i.Transform=r(9415),i.PassThrough=r(4421),i.finished=r(4869),i.pipeline=r(6815),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function s(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",s),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",c));var a=!1;function o(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",s),r.removeListener("end",o),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",u),e.on("error",u),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},8888(e,t,r){"use strict";var n=r(5636).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},8764(e,t,r){"use strict";var n=r(5636).Buffer,i=r(9196),s=r(1279),a=ArrayBuffer.isView||function(e){try{return s(e),!0}catch(e){return!1}},o="undefined"!=typeof Uint8Array,c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,u=c&&(n.prototype instanceof Uint8Array||n.TYPED_ARRAY_SUPPORT);e.exports=function(e,t){if(n.isBuffer(e))return e.constructor&&!("isBuffer"in e)?n.from(e):e;if("string"==typeof e)return n.from(e,t);if(c&&a(e)){if(0===e.byteLength)return n.alloc(0);if(u){var r=n.from(e.buffer,e.byteOffset,e.byteLength);if(r.byteLength===e.byteLength)return r}var s=e instanceof Uint8Array?e:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),l=n.from(s);if(l.length===e.byteLength)return l}if(o&&e instanceof Uint8Array)return n.from(e);var h=i(e);if(h)for(var f=0;f<e.length;f+=1){var d=e[f];if("number"!=typeof d||d<0||d>255||~~d!==d)throw new RangeError("Array items must be numbers in the range 0-255.")}if(h||n.isBuffer(e)&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))return n.from(e);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')}},6464(e){e.exports=function(e){if(e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new DataView(e.buffer,e.byteOffset,e.byteLength);if(e instanceof ArrayBuffer)return new DataView(e);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}},9815(e,t,r){"use strict";var n=r(1182);function i(e){for(var t=e.length,r=-1,s=[];++r<t;){var a=e[r];"arguments"===n(a)||Array.isArray(a)?s.push.apply(s,i(a)):"string"==typeof a&&s.push(a)}return s}e.exports=function(e){return"arguments"!==n(e)&&(e=arguments),i(e).join(".")}},5629(e,t,r){"use strict";var n=r(9893),i=r(5677),s=r(1743),a=r(6837),o={};function c(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");var r=e;if((!t||t&&!1!==t.cache)&&(r=function(e,t){if(!t)return e;var r=e;for(var n in t)t.hasOwnProperty(n)&&(r+=";"+n+"="+String(t[n]));return r}(e,t),o.hasOwnProperty(r)))return o[r];var c=s({},t);!0===c.contains&&(!0===c.negate?c.strictNegate=!1:c.strict=!1),!1===c.strict&&(c.strictOpen=!1,c.strictClose=!1);var u,l=!1!==c.strictOpen?"^":"",h=!1!==c.strictClose?"$":"",f=c.flags||"";!0!==c.nocase||/i/.test(f)||(f+="i");try{if((c.negate||"boolean"==typeof c.strictNegate)&&(e=a.create(e,c)),u=new RegExp(l+"(?:"+e+")"+h,f),!0===c.safe&&!1===n(u))throw new Error("potentially unsafe regular expression: "+u.source)}catch(n){if(!0===c.strictErrors||!0===c.safe)throw n.key=r,n.pattern=e,n.originalOptions=t,n.createdOptions=c,n;try{u=new RegExp("^"+e.replace(/(\W)/g,"\\$1")+"$")}catch(e){u=/.^/}}return!1!==c.cache&&function(e,t,r,n){i(e,"cached",!0),i(e,"pattern",r),i(e,"options",n),i(e,"key",t),o[t]=e}(u,r,e,c),u}e.exports=function(e,t){return Array.isArray(e)?c(e.join("|"),t):c(e,t)},e.exports.makeRe=c},1279(e,t,r){"use strict";var n=r(3468),i=r(4607)("TypedArray.prototype.buffer",!0),s=r(5943);e.exports=i||function(e){if(!s(e))throw new n("Not a Typed Array");return e.buffer}},4409(e,t,r){"use strict";var n=r(5433),i=r(5123),s=r(5302),a=r(1098);function o(e){return null==e?[]:Array.isArray(e)?e:[e]}e.exports=function(e,t,r){if(!n(e))throw new TypeError("union-value expects the first argument to be an object.");if("string"!=typeof t)throw new TypeError("union-value expects `prop` to be a string.");var c=o(s(e,t));return a(e,t,i(c,o(r))),e}},6767(e,t,r){"use strict";var n=r(9537),i=r(8418);e.exports=function(e,t){if(!n(e))throw new TypeError("expected an object.");if(e.hasOwnProperty(t))return delete e[t],!0;if(i(e,t)){for(var r=t.split("."),s=r.pop();r.length&&"\\"===r[r.length-1].slice(-1);)s=r.pop().slice(0,-1)+"."+s;for(;r.length;)e=e[t=r.shift()];return delete e[s]}return!0}},8641(e){"use strict";function t(e){return e&&"object"==typeof e&&!Array.isArray(e)}function r(e,t,r){Object.defineProperty(e,t,{configurable:!0,writable:!0,value:r})}e.exports=function e(n,i){if(!t(n)&&"function"!=typeof n)throw new TypeError("expected an object or function");var s=t(i)?i:{},a="string"==typeof s.prop?s.prop:"fns";function o(e,t,r){var i=1;if("string"==typeof e||Array.isArray(e)?(t=function(e,t){return function r(){return this.type===e?t.apply(this,arguments):r}}(e,t),i++):(r=t,t=e),"function"!=typeof t)throw new TypeError("expected a function");var o=this||n,c=o[a],u=[].slice.call(arguments,i);u.unshift(o),"function"==typeof s.hook&&s.hook.apply(o,u);var l=t.apply(o,u);return"function"==typeof l&&-1===c.indexOf(l)&&c.push(l),o}return Array.isArray(n[a])||r(n,a,[]),r(n,"use",o),r(n,"run",function(i){if(t(i)){i.use&&i.run||(r(i,a,i[a]||[]),r(i,"use",o)),i[a]&&-1!==i[a].indexOf(e)||i.use(e);for(var s=(this||n)[a],c=s.length,u=-1;++u<c;)i.use(s[u]);return i}}),n}},5272(e){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},1531(e,t,r){"use strict";var n=r(5387),i=r(2625),s=r(2730),a=r(5943);function o(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=o(Object.prototype.toString),h=o(Number.prototype.valueOf),f=o(String.prototype.valueOf),d=o(Boolean.prototype.valueOf);if(c)var p=o(BigInt.prototype.valueOf);if(u)var g=o(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function y(e){return"[object Map]"===l(e)}function b(e){return"[object Set]"===l(e)}function w(e){return"[object WeakMap]"===l(e)}function v(e){return"[object WeakSet]"===l(e)}function S(e){return"[object ArrayBuffer]"===l(e)}function E(e){return"undefined"!=typeof ArrayBuffer&&(S.working?S(e):e instanceof ArrayBuffer)}function _(e){return"[object DataView]"===l(e)}function I(e){return"undefined"!=typeof DataView&&(_.working?_(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||I(e)},t.isUint8Array=function(e){return"Uint8Array"===s(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===s(e)},t.isUint16Array=function(e){return"Uint16Array"===s(e)},t.isUint32Array=function(e){return"Uint32Array"===s(e)},t.isInt8Array=function(e){return"Int8Array"===s(e)},t.isInt16Array=function(e){return"Int16Array"===s(e)},t.isInt32Array=function(e){return"Int32Array"===s(e)},t.isFloat32Array=function(e){return"Float32Array"===s(e)},t.isFloat64Array=function(e){return"Float64Array"===s(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===s(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===s(e)},y.working="undefined"!=typeof Map&&y(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(y.working?y(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},w.working="undefined"!=typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!=typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},S.working="undefined"!=typeof ArrayBuffer&&S(new ArrayBuffer),t.isArrayBuffer=E,_.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&_(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=I;var x="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function A(e){return"[object SharedArrayBuffer]"===l(e)}function k(e){return void 0!==x&&(void 0===A.working&&(A.working=A(new x)),A.working?A(e):e instanceof x)}function T(e){return m(e,h)}function M(e){return m(e,f)}function C(e){return m(e,d)}function R(e){return c&&m(e,p)}function D(e){return u&&m(e,g)}t.isSharedArrayBuffer=k,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=T,t.isStringObject=M,t.isBooleanObject=C,t.isBigIntObject=R,t.isSymbolObject=D,t.isBoxedPrimitive=function(e){return T(e)||M(e)||C(e)||R(e)||D(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(E(e)||k(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})},9208(e,t,r){var n=r(9907),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},s=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,a=String(e).replace(s,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),o=n[r];r<i;o=n[++r])y(o)||!E(o)?a+=" "+o:a+=" "+u(o);return a},t.deprecate=function(e,r){if(void 0!==n&&!0===n.noDeprecation)return e;if(void 0===n)return function(){return t.deprecate(e,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}};var a={},o=/^$/;if(n.env.NODE_DEBUG){var c=n.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+c+"$","i")}function u(e,r){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),m(r)?n.showHidden=r:r&&t._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),f(n,e,n.depth)}function l(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function h(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return w(i)||(i=f(e,i,n)),i}var s=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):y(t)?e.stylize("null","null"):void 0}(e,r);if(s)return s;var a=Object.keys(r),o=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(r)),I(r)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(r);if(0===a.length){if(x(r)){var c=r.name?": "+r.name:"";return e.stylize("[Function"+c+"]","special")}if(S(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(_(r))return e.stylize(Date.prototype.toString.call(r),"date");if(I(r))return d(r)}var u,l="",h=!1,E=["{","}"];return g(r)&&(h=!0,E=["[","]"]),x(r)&&(l=" [Function"+(r.name?": "+r.name:"")+"]"),S(r)&&(l=" "+RegExp.prototype.toString.call(r)),_(r)&&(l=" "+Date.prototype.toUTCString.call(r)),I(r)&&(l=" "+d(r)),0!==a.length||h&&0!=r.length?n<0?S(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),u=h?function(e,t,r,n,i){for(var s=[],a=0,o=t.length;a<o;++a)M(t,String(a))?s.push(p(e,t,r,n,String(a),!0)):s.push("");return i.forEach(function(i){i.match(/^\d+$/)||s.push(p(e,t,r,n,i,!0))}),s}(e,r,n,o,a):a.map(function(t){return p(e,r,n,o,t,h)}),e.seen.pop(),function(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,E)):E[0]+l+E[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,s){var a,o,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?o=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(o=e.stylize("[Setter]","special")),M(n,i)||(a="["+i+"]"),o||(e.seen.indexOf(c.value)<0?(o=y(r)?f(e,c.value,null):f(e,c.value,r-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").slice(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),v(a)){if(s&&i.match(/^\d+$/))return o;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function g(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function y(e){return null===e}function b(e){return"number"==typeof e}function w(e){return"string"==typeof e}function v(e){return void 0===e}function S(e){return E(e)&&"[object RegExp]"===A(e)}function E(e){return"object"==typeof e&&null!==e}function _(e){return E(e)&&"[object Date]"===A(e)}function I(e){return E(e)&&("[object Error]"===A(e)||e instanceof Error)}function x(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(o.test(e)){var r=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){};return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(1531),t.isArray=g,t.isBoolean=m,t.isNull=y,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=w,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=S,t.types.isRegExp=S,t.isObject=E,t.isDate=_,t.types.isDate=_,t.isError=I,t.types.isNativeError=I,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(5272);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[k((e=new Date).getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),T[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(5615),t._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],s=0;s<arguments.length;s++)i.push(arguments[s]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=C,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var s=this,a=function(){return i.apply(s,arguments)};e.apply(this,t).then(function(e){n.nextTick(a.bind(null,null,e))},function(e){n.nextTick(R.bind(null,e,a))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},2730(e,t,r){"use strict";var n=r(705),i=r(4834),s=r(8498),a=r(4607),o=r(9336),c=r(6369),u=a("Object.prototype.toString"),l=r(1913)(),h="undefined"==typeof globalThis?r.g:globalThis,f=i(),d=a("String.prototype.slice"),p=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},g={__proto__:null};n(f,l&&o&&c?function(e){var t=new h[e];if(Symbol.toStringTag in t&&c){var r=c(t),n=o(r,Symbol.toStringTag);if(!n&&r){var i=c(r);n=o(i,Symbol.toStringTag)}g["$"+e]=s(n.get)}}:function(e){var t=new h[e],r=t.slice||t.set;r&&(g["$"+e]=s(r))}),e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!l){var t=d(u(e),8,-1);return p(f,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(g,function(r,n){if(!t)try{r(e),t=d(n,1)}catch(e){}}),t}(e)}return o?function(e){var t=!1;return n(g,function(r,n){if(!t)try{"$"+r(e)===n&&(t=d(n,1))}catch(e){}}),t}(e):null}},1603(e,t,r){e.exports=r(8570)},8570(e,t,r){!function(){var t;if(e.exports&&!r.g.xmldocAssumeBrowser)t=r(5150);else if(!(t=this.sax))throw new Error("Expected sax to be defined. Make sure you're including sax.js before this file.");function n(e,t){if(!t){var r=c[c.length-1];r.parser&&(t=r.parser)}this.name=e.name,this.attr=e.attributes,this.val="",this.children=[],this.firstChild=null,this.lastChild=null,this.line=t?t.line:null,this.column=t?t.column:null,this.position=t?t.position:null,this.startTagPosition=t?t.startTagPosition:null}function i(e){this.text=e}function s(e){this.cdata=e}function a(e){this.comment=e}function o(e){if(e&&(e=e.toString().trim()),!e)throw new Error("No XML to parse!");var r;this.doctype="",this.parser=t.parser(!0),(r=this.parser).onopentag=u,r.onclosetag=l,r.ontext=h,r.oncdata=f,r.oncomment=d,r.ondoctype=p,r.onerror=g,c=[this];try{this.parser.write(e)}finally{delete this.parser}}n.prototype._addChild=function(e){this.children.push(e),this.firstChild||(this.firstChild=e),this.lastChild=e},n.prototype._opentag=function(e){var t=new n(e);this._addChild(t),c.unshift(t)},n.prototype._closetag=function(){c.shift()},n.prototype._text=function(e){void 0!==this.children&&(this.val+=e,this._addChild(new i(e)))},n.prototype._cdata=function(e){this.val+=e,this._addChild(new s(e))},n.prototype._comment=function(e){void 0!==this.children&&this._addChild(new a(e))},n.prototype._error=function(e){throw e},n.prototype.eachChild=function(e,t){for(var r=0,n=this.children.length;r<n;r++)if("element"===this.children[r].type&&!1===e.call(t,this.children[r],r,this.children))return},n.prototype.childNamed=function(e){for(var t=0,r=this.children.length;t<r;t++){var n=this.children[t];if(n.name===e)return n}},n.prototype.childrenNamed=function(e){for(var t=[],r=0,n=this.children.length;r<n;r++)this.children[r].name===e&&t.push(this.children[r]);return t},n.prototype.childWithAttribute=function(e,t){for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r];if("element"===i.type&&(t&&i.attr[e]===t||!t&&i.attr[e]))return i}},n.prototype.descendantsNamed=function(e){for(var t=[],r=0,n=this.children.length;r<n;r++){var i=this.children[r];"element"===i.type&&(i.name===e&&t.push(i),t=t.concat(i.descendantsNamed(e)))}return t},n.prototype.descendantWithPath=function(e){for(var t=this,r=e.split("."),n=0,i=r.length;n<i;n++){if(!t||"element"!==t.type)return;t=t.childNamed(r[n])}return t},n.prototype.valueWithPath=function(e){var t=e.split("@"),r=this.descendantWithPath(t[0]);return r?t.length>1?r.attr[t[1]]:r.val:void 0},n.prototype.toString=function(e){return this.toStringWithIndent("",e)},n.prototype.toStringWithIndent=function(e,t){var r=e+"<"+this.name,n=t&&t.compressed?"":"\n";for(var i in t&&t.preserveWhitespace,this.attr)Object.prototype.hasOwnProperty.call(this.attr,i)&&(r+=" "+i+'="'+m(this.attr[i])+'"');if(1===this.children.length&&"element"!==this.children[0].type)r+=">"+this.children[0].toString(t)+"</"+this.name+">";else if(this.children.length){r+=">"+n;for(var s=e+(t&&t.compressed?"":"  "),a=0,o=this.children.length;a<o;a++)r+=this.children[a].toStringWithIndent(s,t)+n;r+=e+"</"+this.name+">"}else t&&t.html?-1!==["area","base","br","col","embed","frame","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"].indexOf(this.name)?r+="/>":r+="></"+this.name+">":r+="/>";return r},i.prototype.toString=function(e){return y(m(this.text),e)},i.prototype.toStringWithIndent=function(e,t){return e+this.toString(t)},s.prototype.toString=function(e){return"<![CDATA["+y(this.cdata,e)+"]]>"},s.prototype.toStringWithIndent=function(e,t){return e+this.toString(t)},a.prototype.toString=function(e){return"\x3c!--"+y(m(this.comment),e)+"--\x3e"},a.prototype.toStringWithIndent=function(e,t){return e+this.toString(t)},n.prototype.type="element",i.prototype.type="text",s.prototype.type="cdata",a.prototype.type="comment",function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}(o.prototype,n.prototype),o.prototype._opentag=function(e){void 0===this.children?n.call(this,e):n.prototype._opentag.apply(this,arguments)},o.prototype._doctype=function(e){this.doctype+=e};var c=null;function u(){c[0]&&c[0]._opentag.apply(c[0],arguments)}function l(){c[0]&&c[0]._closetag.apply(c[0],arguments)}function h(){c[0]&&c[0]._text.apply(c[0],arguments)}function f(){c[0]&&c[0]._cdata.apply(c[0],arguments)}function d(){c[0]&&c[0]._comment.apply(c[0],arguments)}function p(){c[0]&&c[0]._doctype.apply(c[0],arguments)}function g(){c[0]&&c[0]._error.apply(c[0],arguments)}function m(e){return e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")}function y(e,t){var r=e;return t&&t.trimmed&&e.length>25&&(r=r.substring(0,25).trim()+""),t&&t.preserveWhitespace||(r=r.trim()),r}e.exports&&!r.g.xmldocAssumeBrowser?(e.exports.XmlDocument=o,e.exports.XmlElement=n,e.exports.XmlTextNode=i,e.exports.XmlCDataNode=s,e.exports.XmlCommentNode=a):(this.XmlDocument=o,this.XmlElement=n,this.XmlTextNode=i,this.XmlCDataNode=s,this.XmlCommentNode=a)}()},113(){},8379(){},3553(){},4818(){},2798(){},597(){},4834(e,t,r){"use strict";var n=r(9501),i="undefined"==typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"==typeof i[n[t]]&&(e[e.length]=n[t]);return e}},8398(e,t){"use strict";var r={},n=function(e,t,n,i,s){var a=new Worker(r[t]||(r[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return a.onmessage=function(e){var t=e.data,r=t.$e$;if(r){var n=new Error(r[0]);n.code=r[1],n.stack=r[2],s(n,null)}else s(null,t)},a.postMessage(n,i),a},i=Uint8Array,s=Uint16Array,a=Int32Array,o=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),u=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var r=new s(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new a(r[30]);for(n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},h=l(o,2),f=h.b,d=h.r;f[28]=258,d[258]=28;for(var p=l(c,0),g=p.b,m=p.r,y=new s(32768),b=0;b<32768;++b){var w=(43690&b)>>1|(21845&b)<<1;w=(61680&(w=(52428&w)>>2|(13107&w)<<2))>>4|(3855&w)<<4,y[b]=((65280&w)>>8|(255&w)<<8)>>1}var v=function(e,t,r){for(var n=e.length,i=0,a=new s(t);i<n;++i)e[i]&&++a[e[i]-1];var o,c=new s(t);for(i=1;i<t;++i)c[i]=c[i-1]+a[i-1]<<1;if(r){o=new s(1<<t);var u=15-t;for(i=0;i<n;++i)if(e[i])for(var l=i<<4|e[i],h=t-e[i],f=c[e[i]-1]++<<h,d=f|(1<<h)-1;f<=d;++f)o[y[f]>>u]=l}else for(o=new s(n),i=0;i<n;++i)e[i]&&(o[i]=y[c[e[i]-1]++]>>15-e[i]);return o},S=new i(288);for(b=0;b<144;++b)S[b]=8;for(b=144;b<256;++b)S[b]=9;for(b=256;b<280;++b)S[b]=7;for(b=280;b<288;++b)S[b]=8;var E=new i(32);for(b=0;b<32;++b)E[b]=5;var _=v(S,9,0),I=v(S,9,1),x=v(E,5,0),A=v(E,5,1),k=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},T=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},M=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},C=function(e){return(e+7)/8|0},R=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new i(e.subarray(t,r))};t.FlateErrorCode={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14};var D=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],O=function(e,t,r){var n=new Error(t||D[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,O),!r)throw n;return n},F=function(e,t,r,n){var s=e.length,a=n?n.length:0;if(!s||t.f&&!t.l)return r||new i(0);var l=!r,h=l||2!=t.i,d=t.i;l&&(r=new i(3*s));var p=function(e){var t=r.length;if(e>t){var n=new i(Math.max(2*t,e));n.set(r),r=n}},m=t.f||0,y=t.p||0,b=t.b||0,w=t.l,S=t.d,E=t.m,_=t.n,x=8*s;do{if(!w){m=T(e,y,1);var D=T(e,y+1,3);if(y+=3,!D){var F=e[(G=C(y)+4)-4]|e[G-3]<<8,P=G+F;if(P>s){d&&O(0);break}h&&p(b+F),r.set(e.subarray(G,P),b),t.b=b+=F,t.p=y=8*P,t.f=m;continue}if(1==D)w=I,S=A,E=9,_=5;else if(2==D){var N=T(e,y,31)+257,B=T(e,y+10,15)+4,L=N+T(e,y+5,31)+1;y+=14;for(var U=new i(L),V=new i(19),j=0;j<B;++j)V[u[j]]=T(e,y+3*j,7);y+=3*B;var z=k(V),$=(1<<z)-1,q=v(V,z,1);for(j=0;j<L;){var G,W=q[T(e,y,$)];if(y+=15&W,(G=W>>4)<16)U[j++]=G;else{var H=0,X=0;for(16==G?(X=3+T(e,y,3),y+=2,H=U[j-1]):17==G?(X=3+T(e,y,7),y+=3):18==G&&(X=11+T(e,y,127),y+=7);X--;)U[j++]=H}}var Y=U.subarray(0,N),K=U.subarray(N);E=k(Y),_=k(K),w=v(Y,E,1),S=v(K,_,1)}else O(1);if(y>x){d&&O(0);break}}h&&p(b+131072);for(var Z=(1<<E)-1,J=(1<<_)-1,Q=y;;Q=y){var ee=(H=w[M(e,y)&Z])>>4;if((y+=15&H)>x){d&&O(0);break}if(H||O(2),ee<256)r[b++]=ee;else{if(256==ee){Q=y,w=null;break}var te=ee-254;if(ee>264){var re=o[j=ee-257];te=T(e,y,(1<<re)-1)+f[j],y+=re}var ne=S[M(e,y)&J],ie=ne>>4;if(ne||O(3),y+=15&ne,K=g[ie],ie>3&&(re=c[ie],K+=M(e,y)&(1<<re)-1,y+=re),y>x){d&&O(0);break}h&&p(b+131072);var se=b+te;if(b<K){var ae=a-K,oe=Math.min(K,se);for(ae+b<0&&O(3);b<oe;++b)r[b]=n[ae+b]}for(;b<se;++b)r[b]=r[b-K]}}t.l=w,t.p=Q,t.b=b,t.f=m,w&&(m=1,t.m=E,t.d=S,t.n=_)}while(!m);return b!=r.length&&l?R(r,0,b):r.subarray(0,b)},P=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},N=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},B=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,o=r.slice();if(!a)return{t:q,l:0};if(1==a){var c=new i(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var u=r[0],l=r[1],h=0,f=1,d=2;for(r[0]={s:-1,f:u.f+l.f,l:u,r:l};f!=a-1;)u=r[r[h].f<r[d].f?h++:d++],l=r[h!=f&&r[h].f<r[d].f?h++:d++],r[f++]={s:-1,f:u.f+l.f,l:u,r:l};var p=o[0].s;for(n=1;n<a;++n)o[n].s>p&&(p=o[n].s);var g=new s(p+1),m=L(r[f-1],g,0);if(m>t){n=0;var y=0,b=m-t,w=1<<b;for(o.sort(function(e,t){return g[t.s]-g[e.s]||e.f-t.f});n<a;++n){var v=o[n].s;if(!(g[v]>t))break;y+=w-(1<<m-g[v]),g[v]=t}for(y>>=b;y>0;){var S=o[n].s;g[S]<t?y-=1<<t-g[S]++-1:++n}for(;n>=0&&y;--n){var E=o[n].s;g[E]==t&&(--g[E],++y)}m=t}return{t:new i(g),l:m}},L=function(e,t,r){return-1==e.s?Math.max(L(e.l,t,r+1),L(e.r,t,r+1)):t[e.s]=r},U=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new s(++t),n=0,i=e[0],a=1,o=function(e){r[n++]=e},c=1;c<=t;++c)if(e[c]==i&&c!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[c]}return{c:r.subarray(0,n),n:t}},V=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},j=function(e,t,r){var n=r.length,i=C(t+2);e[i]=255&n,e[i+1]=n>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},z=function(e,t,r,n,i,a,l,h,f,d,p){P(t,p++,r),++i[256];for(var g=B(i,15),m=g.t,y=g.l,b=B(a,15),w=b.t,I=b.l,A=U(m),k=A.c,T=A.n,M=U(w),C=M.c,R=M.n,D=new s(19),O=0;O<k.length;++O)++D[31&k[O]];for(O=0;O<C.length;++O)++D[31&C[O]];for(var F=B(D,7),L=F.t,z=F.l,$=19;$>4&&!L[u[$-1]];--$);var q,G,W,H,X=d+5<<3,Y=V(i,S)+V(a,E)+l,K=V(i,m)+V(a,w)+l+14+3*$+V(D,L)+2*D[16]+3*D[17]+7*D[18];if(f>=0&&X<=Y&&X<=K)return j(t,p,e.subarray(f,f+d));if(P(t,p,1+(K<Y)),p+=2,K<Y){q=v(m,y,0),G=m,W=v(w,I,0),H=w;var Z=v(L,z,0);for(P(t,p,T-257),P(t,p+5,R-1),P(t,p+10,$-4),p+=14,O=0;O<$;++O)P(t,p+3*O,L[u[O]]);p+=3*$;for(var J=[k,C],Q=0;Q<2;++Q){var ee=J[Q];for(O=0;O<ee.length;++O){var te=31&ee[O];P(t,p,Z[te]),p+=L[te],te>15&&(P(t,p,ee[O]>>5&127),p+=ee[O]>>12)}}}else q=_,G=S,W=x,H=E;for(O=0;O<h;++O){var re=n[O];if(re>255){N(t,p,q[257+(te=re>>18&31)]),p+=G[te+257],te>7&&(P(t,p,re>>23&31),p+=o[te]);var ne=31&re;N(t,p,W[ne]),p+=H[ne],ne>3&&(N(t,p,re>>5&8191),p+=c[ne])}else N(t,p,q[re]),p+=G[re]}return N(t,p,q[256]),p+G[256]},$=new a([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),q=new i(0),G=function(e,t,r,n,u,l){var h=l.z||e.length,f=new i(n+h+5*(1+Math.ceil(h/7e3))+u),p=f.subarray(n,f.length-u),g=l.l,y=7&(l.r||0);if(t){y&&(p[0]=l.r>>3);for(var b=$[t-1],w=b>>13,v=8191&b,S=(1<<r)-1,E=l.p||new s(32768),_=l.h||new s(S+1),I=Math.ceil(r/3),x=2*I,A=function(t){return(e[t]^e[t+1]<<I^e[t+2]<<x)&S},k=new a(25e3),T=new s(288),M=new s(32),D=0,O=0,F=l.i||0,P=0,N=l.w||0,B=0;F+2<h;++F){var L=A(F),U=32767&F,V=_[L];if(E[U]=V,_[L]=U,N<=F){var q=h-F;if((D>7e3||P>24576)&&(q>423||!g)){y=z(e,p,0,k,T,M,O,P,B,F-B,y),P=D=O=0,B=F;for(var G=0;G<286;++G)T[G]=0;for(G=0;G<30;++G)M[G]=0}var W=2,H=0,X=v,Y=U-V&32767;if(q>2&&L==A(F-Y))for(var K=Math.min(w,q)-1,Z=Math.min(32767,F),J=Math.min(258,q);Y<=Z&&--X&&U!=V;){if(e[F+W]==e[F+W-Y]){for(var Q=0;Q<J&&e[F+Q]==e[F+Q-Y];++Q);if(Q>W){if(W=Q,H=Y,Q>K)break;var ee=Math.min(Y,Q-2),te=0;for(G=0;G<ee;++G){var re=F-Y+G&32767,ne=re-E[re]&32767;ne>te&&(te=ne,V=re)}}}Y+=(U=V)-(V=E[U])&32767}if(H){k[P++]=268435456|d[W]<<18|m[H];var ie=31&d[W],se=31&m[H];O+=o[ie]+c[se],++T[257+ie],++M[se],N=F+W,++D}else k[P++]=e[F],++T[e[F]]}}for(F=Math.max(F,N);F<h;++F)k[P++]=e[F],++T[e[F]];y=z(e,p,g,k,T,M,O,P,B,F-B,y),g||(l.r=7&y|p[y/8|0]<<3,y-=7,l.h=_,l.p=E,l.i=F,l.w=N)}else{for(F=l.w||0;F<h+g;F+=65535){var ae=F+65535;ae>=h&&(p[y/8|0]=g,ae=h),y=j(p,y+1,e.subarray(F,ae))}l.i=h}return R(f,0,n+C(y)+u)},W=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(1&r&&-306674912)^r>>>1;e[t]=r}return e}(),H=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=W[255&r^t[n]]^r>>>8;e=r},d:function(){return~e}}},X=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Y=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new i(a.length+e.length);o.set(a),o.set(e,a.length),e=o,s.w=a.length}return G(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,s)},K=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r},Z=function(e,t,r){for(var n=e(),i=e.toString(),s=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),a=0;a<n.length;++a){var o=n[a],c=s[a];if("function"==typeof o){t+=";"+c+"=";var u=o.toString();if(o.prototype)if(-1!=u.indexOf("[native code]")){var l=u.indexOf(" ",8)+1;t+=u.slice(l,u.indexOf("(",l))}else for(var h in t+=u,o.prototype)t+=";"+c+".prototype."+h+"="+o.prototype[h].toString();else t+=u}else r[c]=o}return t},J=[],Q=function(e,t,r,i){if(!J[r]){for(var s="",a={},o=e.length-1,c=0;c<o;++c)s=Z(e[c],s,a);J[r]={c:Z(e[o],s,a),e:a}}var u=K({},J[r].e);return n(J[r].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",r,u,function(e){var t=[];for(var r in e)e[r].buffer&&t.push((e[r]=new e[r].constructor(e[r])).buffer);return t}(u),i)},ee=function(){return[i,s,a,o,c,u,f,g,I,A,y,D,v,k,T,M,C,R,O,F,Me,ae,oe]},te=function(){return[i,s,a,o,c,u,d,m,_,S,x,E,y,$,q,v,P,N,B,L,U,V,j,z,C,R,G,Y,xe,ae]},re=function(){return[ge,be,pe,H,W]},ne=function(){return[me,ye]},ie=function(){return[we,pe,X]},se=function(){return[ve]},ae=function(e){return postMessage(e,[e.buffer])},oe=function(e){return e&&{out:e.size&&new i(e.size),dictionary:e.dictionary}},ce=function(e,t,r,n,i,s){var a=Q(r,n,i,function(e,t){a.terminate(),s(e,t)});return a.postMessage([e,t],t.consume?[e.buffer]:[]),function(){a.terminate()}},ue=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){t.data.length?(e.push(t.data[0],t.data[1]),postMessage([t.data[0].length])):e.flush()}},le=function(e,t,r,n,i,s,a){var o,c=Q(e,n,i,function(e,r){e?(c.terminate(),t.ondata.call(t,e)):Array.isArray(r)?1==r.length?(t.queuedSize-=r[0],t.ondrain&&t.ondrain(r[0])):(r[1]&&c.terminate(),t.ondata.call(t,e,r[0],r[1])):a(r)});c.postMessage(r),t.queuedSize=0,t.push=function(e,r){t.ondata||O(5),o&&t.ondata(O(4,0,1),null,!!r),t.queuedSize+=e.length,c.postMessage([e,o=r],[e.buffer])},t.terminate=function(){c.terminate()},s&&(t.flush=function(){c.postMessage([])})},he=function(e,t){return e[t]|e[t+1]<<8},fe=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},de=function(e,t){return fe(e,t)+4294967296*fe(e,t+4)},pe=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},ge=function(e,t){var r=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&pe(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),r){e[3]=8;for(var n=0;n<=r.length;++n)e[n+10]=r.charCodeAt(n)}},me=function(e){31==e[0]&&139==e[1]&&8==e[2]||O(6,"invalid gzip data");var t=e[3],r=10;4&t&&(r+=2+(e[10]|e[11]<<8));for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[r++]);return r+(2&t)},ye=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},be=function(e){return 10+(e.filename?e.filename.length+1:0)},we=function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=X();i.p(t.dictionary),pe(e,2,i.d())}},ve=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&O(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&O(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function Se(e,t){return"function"==typeof e&&(t=e,e={}),this.ondata=t,e}var Ee=function(){function e(e,t){if("function"==typeof e&&(t=e,e={}),this.ondata=t,this.o=e||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new i(98304),this.o.dictionary){var r=this.o.dictionary.subarray(-32768);this.b.set(r,32768-r.length),this.s.i=32768-r.length}}return e.prototype.p=function(e,t){this.ondata(Y(e,this.o,0,0,this.s),t)},e.prototype.push=function(e,t){this.ondata||O(5),this.s.l&&O(4);var r=e.length+this.s.z;if(r>this.b.length){if(r>2*this.b.length-32768){var n=new i(-32768&r);n.set(this.b.subarray(0,this.s.z)),this.b=n}var s=this.b.length-this.s.z;this.b.set(e.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(e.subarray(s),32768),this.s.z=e.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(e,this.s.z),this.s.z+=e.length;this.s.l=1&t,(this.s.z>this.s.w+8191||t)&&(this.p(this.b,t||!1),this.s.w=this.s.i,this.s.i-=2)},e.prototype.flush=function(){this.ondata||O(5),this.s.l&&O(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},e}();t.Deflate=Ee;var _e=function(e,t){le([te,function(){return[ue,Ee]}],this,Se.call(this,e,t),function(e){var t=new Ee(e.data);onmessage=ue(t)},6,1)};function Ie(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&O(7),ce(e,t,[te],function(e){return ae(xe(e.data[0],e.data[1]))},0,r)}function xe(e,t){return Y(e,t||{},0,0)}t.AsyncDeflate=_e,t.deflate=Ie,t.deflateSync=xe;var Ae=function(){function e(e,t){"function"==typeof e&&(t=e,e={}),this.ondata=t;var r=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:r?r.length:0},this.o=new i(32768),this.p=new i(0),r&&this.o.set(r)}return e.prototype.e=function(e){if(this.ondata||O(5),this.d&&O(4),this.p.length){if(e.length){var t=new i(this.p.length+e.length);t.set(this.p),t.set(e,this.p.length),this.p=t}}else this.p=e},e.prototype.c=function(e){this.s.i=+(this.d=e||!1);var t=this.s.b,r=F(this.p,this.s,this.o);this.ondata(R(r,t,this.s.b),this.d),this.o=R(r,this.s.b-32768),this.s.b=this.o.length,this.p=R(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e}();t.Inflate=Ae;var ke=function(e,t){le([ee,function(){return[ue,Ae]}],this,Se.call(this,e,t),function(e){var t=new Ae(e.data);onmessage=ue(t)},7,0)};function Te(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&O(7),ce(e,t,[ee],function(e){return ae(Me(e.data[0],oe(e.data[1])))},1,r)}function Me(e,t){return F(e,{i:2},t&&t.out,t&&t.dictionary)}t.AsyncInflate=ke,t.inflate=Te,t.inflateSync=Me;var Ce=function(){function e(e,t){this.c=H(),this.l=0,this.v=1,Ee.call(this,e,t)}return e.prototype.push=function(e,t){this.c.p(e),this.l+=e.length,Ee.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){var r=Y(e,this.o,this.v&&be(this.o),t&&8,this.s);this.v&&(ge(r,this.o),this.v=0),t&&(pe(r,r.length-8,this.c.d()),pe(r,r.length-4,this.l)),this.ondata(r,t)},e.prototype.flush=function(){Ee.prototype.flush.call(this)},e}();t.Gzip=Ce,t.Compress=Ce;var Re=function(e,t){le([te,re,function(){return[ue,Ee,Ce]}],this,Se.call(this,e,t),function(e){var t=new Ce(e.data);onmessage=ue(t)},8,1)};function De(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&O(7),ce(e,t,[te,re,function(){return[Oe]}],function(e){return ae(Oe(e.data[0],e.data[1]))},2,r)}function Oe(e,t){t||(t={});var r=H(),n=e.length;r.p(e);var i=Y(e,t,be(t),8),s=i.length;return ge(i,t),pe(i,s-8,r.d()),pe(i,s-4,n),i}t.AsyncGzip=Re,t.AsyncCompress=Re,t.gzip=De,t.compress=De,t.gzipSync=Oe,t.compressSync=Oe;var Fe=function(){function e(e,t){this.v=1,this.r=0,Ae.call(this,e,t)}return e.prototype.push=function(e,t){if(Ae.prototype.e.call(this,e),this.r+=e.length,this.v){var r=this.p.subarray(this.v-1),n=r.length>3?me(r):4;if(n>r.length){if(!t)return}else this.v>1&&this.onmember&&this.onmember(this.r-r.length);this.p=r.subarray(n),this.v=0}Ae.prototype.c.call(this,t),!this.s.f||this.s.l||t||(this.v=C(this.s.p)+9,this.s={i:0},this.o=new i(0),this.push(new i(0),t))},e}();t.Gunzip=Fe;var Pe=function(e,t){var r=this;le([ee,ne,function(){return[ue,Ae,Fe]}],this,Se.call(this,e,t),function(e){var t=new Fe(e.data);t.onmember=function(e){return postMessage(e)},onmessage=ue(t)},9,0,function(e){return r.onmember&&r.onmember(e)})};function Ne(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&O(7),ce(e,t,[ee,ne,function(){return[Be]}],function(e){return ae(Be(e.data[0],e.data[1]))},3,r)}function Be(e,t){var r=me(e);return r+8>e.length&&O(6,"invalid gzip data"),F(e.subarray(r,-8),{i:2},t&&t.out||new i(ye(e)),t&&t.dictionary)}t.AsyncGunzip=Pe,t.gunzip=Ne,t.gunzipSync=Be;var Le=function(){function e(e,t){this.c=X(),this.v=1,Ee.call(this,e,t)}return e.prototype.push=function(e,t){this.c.p(e),Ee.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){var r=Y(e,this.o,this.v&&(this.o.dictionary?6:2),t&&4,this.s);this.v&&(we(r,this.o),this.v=0),t&&pe(r,r.length-4,this.c.d()),this.ondata(r,t)},e.prototype.flush=function(){Ee.prototype.flush.call(this)},e}();t.Zlib=Le;function Ue(e,t){t||(t={});var r=X();r.p(e);var n=Y(e,t,t.dictionary?6:2,4);return we(n,t),pe(n,n.length-4,r.d()),n}t.AsyncZlib=function(e,t){le([te,ie,function(){return[ue,Ee,Le]}],this,Se.call(this,e,t),function(e){var t=new Le(e.data);onmessage=ue(t)},10,1)},t.zlib=function(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&O(7),ce(e,t,[te,ie,function(){return[Ue]}],function(e){return ae(Ue(e.data[0],e.data[1]))},4,r)},t.zlibSync=Ue;var Ve=function(){function e(e,t){Ae.call(this,e,t),this.v=e&&e.dictionary?2:1}return e.prototype.push=function(e,t){if(Ae.prototype.e.call(this,e),this.v){if(this.p.length<6&&!t)return;this.p=this.p.subarray(ve(this.p,this.v-1)),this.v=0}t&&(this.p.length<4&&O(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),Ae.prototype.c.call(this,t)},e}();t.Unzlib=Ve;var je=function(e,t){le([ee,se,function(){return[ue,Ae,Ve]}],this,Se.call(this,e,t),function(e){var t=new Ve(e.data);onmessage=ue(t)},11,0)};function ze(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&O(7),ce(e,t,[ee,se,function(){return[$e]}],function(e){return ae($e(e.data[0],oe(e.data[1])))},5,r)}function $e(e,t){return F(e.subarray(ve(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}t.AsyncUnzlib=je,t.unzlib=ze,t.unzlibSync=$e;var qe=function(){function e(e,t){this.o=Se.call(this,e,t)||{},this.G=Fe,this.I=Ae,this.Z=Ve}return e.prototype.i=function(){var e=this;this.s.ondata=function(t,r){e.ondata(t,r)}},e.prototype.push=function(e,t){if(this.ondata||O(5),this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var r=new i(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;this.p.length>2&&(this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(this.o):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,t),this.p=null)}},e}();t.Decompress=qe;var Ge=function(){function e(e,t){qe.call(this,e,t),this.queuedSize=0,this.G=Pe,this.I=ke,this.Z=je}return e.prototype.i=function(){var e=this;this.s.ondata=function(t,r,n){e.ondata(t,r,n)},this.s.ondrain=function(t){e.queuedSize-=t,e.ondrain&&e.ondrain(t)}},e.prototype.push=function(e,t){this.queuedSize+=e.length,qe.prototype.push.call(this,e,t)},e}();t.AsyncDecompress=Ge,t.decompress=function(e,t,r){return r||(r=t,t={}),"function"!=typeof r&&O(7),31==e[0]&&139==e[1]&&8==e[2]?Ne(e,t,r):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?Te(e,t,r):ze(e,t,r)},t.decompressSync=function(e,t){return 31==e[0]&&139==e[1]&&8==e[2]?Be(e,t):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?Me(e,t):$e(e,t)};var We=function(e,t,r,n){for(var s in e){var a=e[s],o=t+s,c=n;Array.isArray(a)&&(c=K(n,a[1]),a=a[0]),a instanceof i?r[o]=[a,c]:(r[o+="/"]=[new i(0),c],We(a,o,r,n))}},He="undefined"!=typeof TextEncoder&&new TextEncoder,Xe="undefined"!=typeof TextDecoder&&new TextDecoder,Ye=0;try{Xe.decode(q,{stream:!0}),Ye=1}catch(e){}var Ke=function(e){for(var t="",r=0;;){var n=e[r++],i=(n>127)+(n>223)+(n>239);if(r+i>e.length)return{s:t,r:R(e,r-1)};i?3==i?(n=((15&n)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536,t+=String.fromCharCode(55296|n>>10,56320|1023&n)):t+=1&i?String.fromCharCode((31&n)<<6|63&e[r++]):String.fromCharCode((15&n)<<12|(63&e[r++])<<6|63&e[r++]):t+=String.fromCharCode(n)}},Ze=function(){function e(e){this.ondata=e,Ye?this.t=new TextDecoder:this.p=q}return e.prototype.push=function(e,t){if(this.ondata||O(5),t=!!t,this.t)return this.ondata(this.t.decode(e,{stream:!0}),t),void(t&&(this.t.decode().length&&O(8),this.t=null));this.p||O(4);var r=new i(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var n=Ke(r),s=n.s,a=n.r;t?(a.length&&O(8),this.p=null):this.p=a,this.ondata(s,t)},e}();t.DecodeUTF8=Ze;var Je=function(){function e(e){this.ondata=e}return e.prototype.push=function(e,t){this.ondata||O(5),this.d&&O(4),this.ondata(Qe(e),this.d=t||!1)},e}();function Qe(e,t){if(t){for(var r=new i(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(He)return He.encode(e);var s=e.length,a=new i(e.length+(e.length>>1)),o=0,c=function(e){a[o++]=e};for(n=0;n<s;++n){if(o+5>a.length){var u=new i(o+8+(s-n<<1));u.set(a),a=u}var l=e.charCodeAt(n);l<128||t?c(l):l<2048?(c(192|l>>6),c(128|63&l)):l>55295&&l<57344?(c(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++n))>>18),c(128|l>>12&63),c(128|l>>6&63),c(128|63&l)):(c(224|l>>12),c(128|l>>6&63),c(128|63&l))}return R(a,0,o)}function et(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}if(Xe)return Xe.decode(e);var i=Ke(e),s=i.s;return(r=i.r).length&&O(8),s}t.EncodeUTF8=Je,t.strToU8=Qe,t.strFromU8=et;var tt=function(e){return 1==e?3:e<6?2:9==e?1:0},rt=function(e,t){return t+30+he(e,t+26)+he(e,t+28)},nt=function(e,t,r){var n=he(e,t+28),i=et(e.subarray(t+46,t+46+n),!(2048&he(e,t+8))),s=t+46+n,a=fe(e,t+20),o=r&&4294967295==a?it(e,s):[a,fe(e,t+24),fe(e,t+42)],c=o[0],u=o[1],l=o[2];return[he(e,t+10),c,u,i,s+he(e,t+30)+he(e,t+32),l]},it=function(e,t){for(;1!=he(e,t);t+=4+he(e,t+2));return[de(e,t+12),de(e,t+4),de(e,t+20)]},st=function(e){var t=0;if(e)for(var r in e){var n=e[r].length;n>65535&&O(9),t+=n+4}return t},at=function(e,t,r,n,i,s,a,o){var c=n.length,u=r.extra,l=o&&o.length,h=st(u);pe(e,t,null!=a?33639248:67324752),t+=4,null!=a&&(e[t++]=20,e[t++]=r.os),e[t]=20,t+=2,e[t++]=r.flag<<1|(s<0&&8),e[t++]=i&&8,e[t++]=255&r.compression,e[t++]=r.compression>>8;var f=new Date(null==r.mtime?Date.now():r.mtime),d=f.getFullYear()-1980;if((d<0||d>119)&&O(10),pe(e,t,d<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>1),t+=4,-1!=s&&(pe(e,t,r.crc),pe(e,t+4,s<0?-s-2:s),pe(e,t+8,r.size)),pe(e,t+12,c),pe(e,t+14,h),t+=16,null!=a&&(pe(e,t,l),pe(e,t+6,r.attrs),pe(e,t+10,a),t+=14),e.set(n,t),t+=c,h)for(var p in u){var g=u[p],m=g.length;pe(e,t,+p),pe(e,t+2,m),e.set(g,t+4),t+=4+m}return l&&(e.set(o,t),t+=l),t},ot=function(e,t,r,n,i){pe(e,t,101010256),pe(e,t+8,r),pe(e,t+10,r),pe(e,t+12,n),pe(e,t+16,i)},ct=function(){function e(e){this.filename=e,this.c=H(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){this.ondata||O(5),this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e}();t.ZipPassThrough=ct;var ut=function(){function e(e,t){var r=this;t||(t={}),ct.call(this,e),this.d=new Ee(t,function(e,t){r.ondata(null,e,t)}),this.compression=8,this.flag=tt(t.level)}return e.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e}();t.ZipDeflate=ut;var lt=function(){function e(e,t){var r=this;t||(t={}),ct.call(this,e),this.d=new _e(t,function(e,t,n){r.ondata(e,t,n)}),this.compression=8,this.flag=tt(t.level),this.terminate=this.d.terminate}return e.prototype.process=function(e,t){this.d.push(e,t)},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e}();t.AsyncZipDeflate=lt;var ht=function(){function e(e){this.ondata=e,this.u=[],this.d=1}return e.prototype.add=function(e){var t=this;if(this.ondata||O(5),2&this.d)this.ondata(O(4+8*(1&this.d),0,1),null,!1);else{var r=Qe(e.filename),n=r.length,s=e.comment,a=s&&Qe(s),o=n!=e.filename.length||a&&s.length!=a.length,c=n+st(e.extra)+30;n>65535&&this.ondata(O(11,0,1),null,!1);var u=new i(c);at(u,0,e,r,o,-1);var l=[u],h=function(){for(var e=0,r=l;e<r.length;e++){var n=r[e];t.ondata(null,n,!1)}l=[]},f=this.d;this.d=0;var d=this.u.length,p=K(e,{f:r,u:o,o:a,t:function(){e.terminate&&e.terminate()},r:function(){if(h(),f){var e=t.u[d+1];e?e.r():t.d=1}f=1}}),g=0;e.ondata=function(r,n,s){if(r)t.ondata(r,n,s),t.terminate();else if(g+=n.length,l.push(n),s){var a=new i(16);pe(a,0,134695760),pe(a,4,e.crc),pe(a,8,g),pe(a,12,e.size),l.push(a),p.c=g,p.b=c+g+16,p.crc=e.crc,p.size=e.size,f&&p.r(),f=1}else f&&h()},this.u.push(p)}},e.prototype.end=function(){var e=this;2&this.d?this.ondata(O(4+8*(1&this.d),0,1),null,!0):(this.d?this.e():this.u.push({r:function(){1&e.d&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3)},e.prototype.e=function(){for(var e=0,t=0,r=0,n=0,s=this.u;n<s.length;n++)r+=46+(u=s[n]).f.length+st(u.extra)+(u.o?u.o.length:0);for(var a=new i(r+22),o=0,c=this.u;o<c.length;o++){var u=c[o];at(a,e,u,u.f,u.u,-u.c-2,t,u.o),e+=46+u.f.length+st(u.extra)+(u.o?u.o.length:0),t+=u.b}ot(a,e,this.u.length,r,t),this.ondata(null,a,!0),this.d=2},e.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++)t[e].t();this.d=2},e}();t.Zip=ht,t.zip=function(e,t,r){r||(r=t,t={}),"function"!=typeof r&&O(7);var n={};We(e,"",n,t);var s=Object.keys(n),a=s.length,o=0,c=0,u=a,l=new Array(a),h=[],f=function(){for(var e=0;e<h.length;++e)h[e]()},d=function(e,t){mt(function(){r(e,t)})};mt(function(){d=r});var p=function(){var e=new i(c+22),t=o,r=c-o;c=0;for(var n=0;n<u;++n){var s=l[n];try{var a=s.c.length;at(e,c,s,s.f,s.u,a);var h=30+s.f.length+st(s.extra),f=c+h;e.set(s.c,f),at(e,o,s,s.f,s.u,a,c,s.m),o+=16+h+(s.m?s.m.length:0),c=f+a}catch(e){return d(e,null)}}ot(e,o,l.length,r,t),d(null,e)};a||p();for(var g=function(e){var t=s[e],r=n[t],i=r[0],u=r[1],g=H(),m=i.length;g.p(i);var y=Qe(t),b=y.length,w=u.comment,v=w&&Qe(w),S=v&&v.length,E=st(u.extra),_=0==u.level?0:8,I=function(r,n){if(r)f(),d(r,null);else{var i=n.length;l[e]=K(u,{size:m,crc:g.d(),c:n,f:y,m:v,u:b!=t.length||v&&w.length!=S,compression:_}),o+=30+b+E+i,c+=76+2*(b+E)+(S||0)+i,--a||p()}};if(b>65535&&I(O(11,0,1),null),_)if(m<16e4)try{I(null,xe(i,u))}catch(e){I(e,null)}else h.push(Ie(i,u,I));else I(null,i)},m=0;m<u;++m)g(m);return f},t.zipSync=function(e,t){t||(t={});var r={},n=[];We(e,"",r,t);var s=0,a=0;for(var o in r){var c=r[o],u=c[0],l=c[1],h=0==l.level?0:8,f=(I=Qe(o)).length,d=l.comment,p=d&&Qe(d),g=p&&p.length,m=st(l.extra);f>65535&&O(11);var y=h?xe(u,l):u,b=y.length,w=H();w.p(u),n.push(K(l,{size:u.length,crc:w.d(),c:y,f:I,m:p,u:f!=o.length||p&&d.length!=g,o:s,compression:h})),s+=30+f+m+b,a+=76+2*(f+m)+(g||0)+b}for(var v=new i(a+22),S=s,E=a-s,_=0;_<n.length;++_){var I=n[_];at(v,I.o,I,I.f,I.u,I.c.length);var x=30+I.f.length+st(I.extra);v.set(I.c,I.o+x),at(v,s,I,I.f,I.u,I.c.length,I.o,I.m),s+=16+x+(I.m?I.m.length:0)}return ot(v,s,n.length,E,S),v};var ft=function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e}();t.UnzipPassThrough=ft;var dt=function(){function e(){var e=this;this.i=new Ae(function(t,r){e.ondata(null,t,r)})}return e.prototype.push=function(e,t){try{this.i.push(e,t)}catch(e){this.ondata(e,null,t)}},e.compression=8,e}();t.UnzipInflate=dt;var pt=function(){function e(e,t){var r=this;t<32e4?this.i=new Ae(function(e,t){r.ondata(null,e,t)}):(this.i=new ke(function(e,t,n){r.ondata(e,t,n)}),this.terminate=this.i.terminate)}return e.prototype.push=function(e,t){this.i.terminate&&(e=R(e,0)),this.i.push(e,t)},e.compression=8,e}();t.AsyncUnzipInflate=pt;var gt=function(){function e(e){this.onfile=e,this.k=[],this.o={0:ft},this.p=q}return e.prototype.push=function(e,t){var r=this;if(this.onfile||O(5),this.p||O(4),this.c>0){var n=Math.min(this.c,e.length),s=e.subarray(0,n);if(this.c-=n,this.d?this.d.push(s,!this.c):this.k[0].push(s),(e=e.subarray(n)).length)return this.push(e,t)}else{var a=0,o=0,c=void 0,u=void 0;this.p.length?e.length?((u=new i(this.p.length+e.length)).set(this.p),u.set(e,this.p.length)):u=this.p:u=e;for(var l=u.length,h=this.c,f=h&&this.d,d=function(){var e,t=fe(u,o);if(67324752==t){a=1,c=o,p.d=null,p.c=0;var n=he(u,o+6),i=he(u,o+8),s=2048&n,f=8&n,d=he(u,o+26),g=he(u,o+28);if(l>o+30+d+g){var m=[];p.k.unshift(m),a=2;var y,b=fe(u,o+18),w=fe(u,o+22),v=et(u.subarray(o+30,o+=30+d),!s);4294967295==b?(e=f?[-2]:it(u,o),b=e[0],w=e[1]):f&&(b=-1),o+=g,p.c=b;var S={name:v,compression:i,start:function(){if(S.ondata||O(5),b){var e=r.o[i];e||S.ondata(O(14,"unknown compression type "+i,1),null,!1),(y=b<0?new e(v):new e(v,b,w)).ondata=function(e,t,r){S.ondata(e,t,r)};for(var t=0,n=m;t<n.length;t++){var s=n[t];y.push(s,!1)}r.k[0]==m&&r.c?r.d=y:y.push(q,!0)}else S.ondata(null,q,!0)},terminate:function(){y&&y.terminate&&y.terminate()}};b>=0&&(S.size=b,S.originalSize=w),p.onfile(S)}return"break"}if(h){if(134695760==t)return c=o+=12+(-2==h&&8),a=3,p.c=0,"break";if(33639248==t)return c=o-=4,a=3,p.c=0,"break"}},p=this;o<l-4&&"break"!==d();++o);if(this.p=q,h<0){var g=a?u.subarray(0,c-12-(-2==h&&8)-(134695760==fe(u,c-16)&&4)):u.subarray(0,o);f?f.push(g,!!a):this.k[+(2==a)].push(g)}if(2&a)return this.push(u.subarray(o),t);this.p=u.subarray(o)}t&&(this.c&&O(13),this.p=null)},e.prototype.register=function(e){this.o[e.compression]=e},e}();t.Unzip=gt;var mt="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(e){e()};t.unzip=function(e,t,r){r||(r=t,t={}),"function"!=typeof r&&O(7);var n=[],s=function(){for(var e=0;e<n.length;++e)n[e]()},a={},o=function(e,t){mt(function(){r(e,t)})};mt(function(){o=r});for(var c=e.length-22;101010256!=fe(e,c);--c)if(!c||e.length-c>65558)return o(O(13,0,1),null),s;var u=he(e,c+8);if(u){var l=u,h=fe(e,c+16),f=4294967295==h||65535==l;if(f){var d=fe(e,c-12);(f=101075792==fe(e,d))&&(l=u=fe(e,d+32),h=fe(e,d+48))}for(var p=t&&t.filter,g=function(t){var r=nt(e,h,f),c=r[0],l=r[1],d=r[2],g=r[3],m=r[4],y=r[5],b=rt(e,y);h=m;var w=function(e,t){e?(s(),o(e,null)):(t&&(a[g]=t),--u||o(null,a))};if(!p||p({name:g,size:l,originalSize:d,compression:c}))if(c)if(8==c){var v=e.subarray(b,b+l);if(d<524288||l>.8*d)try{w(null,Me(v,{out:new i(d)}))}catch(e){w(e,null)}else n.push(Te(v,{size:d},w))}else w(O(14,"unknown compression type "+c,1),null);else w(null,R(e,b,b+l));else w(null,null)},m=0;m<l;++m)g()}else o(null,{});return s},t.unzipSync=function(e,t){for(var r={},n=e.length-22;101010256!=fe(e,n);--n)(!n||e.length-n>65558)&&O(13);var s=he(e,n+8);if(!s)return{};var a=fe(e,n+16),o=4294967295==a||65535==s;if(o){var c=fe(e,n-12);(o=101075792==fe(e,c))&&(s=fe(e,c+32),a=fe(e,c+48))}for(var u=t&&t.filter,l=0;l<s;++l){var h=nt(e,a,o),f=h[0],d=h[1],p=h[2],g=h[3],m=h[4],y=h[5],b=rt(e,y);a=m,u&&!u({name:g,size:d,originalSize:p,compression:f})||(f?8==f?r[g]=Me(e.subarray(b,b+d),{out:new i(p)}):O(14,"unknown compression type "+f):r[g]=R(e,b,b+d))}return r}},6(e){"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},4716(e){"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},6646(e){"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},8632(e){"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},183(e){"use strict";e.exports={rE:"6.6.1"}},1892(e){"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";__webpack_require__.d(__webpack_exports__,{o_l:()=>rv});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{AppExitReason:()=>re,AudioExt:()=>De,BufferType:()=>Te,CaptionColors:()=>Z,CaptionFonts:()=>Y,CaptionModes:()=>q,CaptionOpacities:()=>J,CaptionOptions:()=>Q,CaptionSizes:()=>K,DataBufferIndex:()=>Se,DataBufferSize:()=>Ee,DataType:()=>ne,DebugCommand:()=>xe,DebugPrompt:()=>Ie,DefaultCertificatesFile:()=>W,DefaultDeviceInfo:()=>X,DefaultSounds:()=>Ce,DisplayModes:()=>$,ExtVolInitialSize:()=>ge,ExtVolMaxSize:()=>me,KeyArraySpots:()=>ve,KeyBufferSize:()=>we,LogLevel:()=>j,MaxSoundStreams:()=>Re,MediaErrorCode:()=>ke,MediaEvent:()=>Ae,Platform:()=>H,RegistryInitialSize:()=>ye,RegistryMaxSize:()=>be,RemoteType:()=>_e,SupportedExtension:()=>ee,TaskState:()=>te,VideoExt:()=>Oe,genHexAddress:()=>fe,getExitReason:()=>Ne,getNow:()=>Ve,getPlatform:()=>Fe,getRokuOSVersion:()=>Ue,isAppData:()=>de,isAppPayload:()=>ae,isExtensionInfo:()=>ie,isMediaTrack:()=>Me,isNDKStart:()=>pe,isRegistryData:()=>se,isSyncAction:()=>ue,isSyncType:()=>le,isTaskData:()=>ce,isTaskPayload:()=>oe,isThreadUpdate:()=>he,numberToHex:()=>Be,parseCaptionMode:()=>G,parseManifest:()=>Pe,parseTextFile:()=>Le});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{Level:()=>ft,alert:()=>wt,configure:()=>Ut,crit:()=>vt,debug:()=>xt,deprecated:()=>At,emerg:()=>bt,entries:()=>gt,err:()=>St,fancy:()=>Rt,format:()=>Ot,info:()=>It,isEnabled:()=>Lt,levelOf:()=>pt,levels:()=>dt,log:()=>mt,notice:()=>_t,warn:()=>Et});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{COPYFILE_EXCL:()=>tr,COPYFILE_FICLONE:()=>rr,COPYFILE_FICLONE_FORCE:()=>nr,F_OK:()=>Zt,O_APPEND:()=>hr,O_CREAT:()=>or,O_DIRECT:()=>br,O_DIRECTORY:()=>fr,O_DSYNC:()=>mr,O_EXCL:()=>cr,O_NOATIME:()=>dr,O_NOCTTY:()=>ur,O_NOFOLLOW:()=>pr,O_NONBLOCK:()=>wr,O_RDONLY:()=>ir,O_RDWR:()=>ar,O_SYMLINK:()=>yr,O_SYNC:()=>gr,O_TRUNC:()=>lr,O_WRONLY:()=>sr,R_OK:()=>Jt,S_IFBLK:()=>Ir,S_IFCHR:()=>Ar,S_IFDIR:()=>xr,S_IFIFO:()=>kr,S_IFLNK:()=>Er,S_IFMT:()=>vr,S_IFREG:()=>_r,S_IFSOCK:()=>Sr,S_IRGRP:()=>Nr,S_IROTH:()=>Vr,S_IRUSR:()=>Dr,S_IRWXG:()=>Pr,S_IRWXO:()=>Ur,S_IRWXU:()=>Rr,S_ISGID:()=>Mr,S_ISUID:()=>Tr,S_ISVTX:()=>Cr,S_IWGRP:()=>Br,S_IWOTH:()=>jr,S_IWUSR:()=>Or,S_IXGRP:()=>Lr,S_IXOTH:()=>zr,S_IXUSR:()=>Fr,UV_FS_O_FILEMAP:()=>$r,W_OK:()=>Qt,X_OK:()=>er,size_max:()=>qr});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{basename:()=>jn,dirname:()=>Vn,extname:()=>zn,format:()=>$n,formatExt:()=>Fn,isAbsolute:()=>Bn,join:()=>Ln,matchesGlob:()=>Gn,normalize:()=>Nn,normalizeString:()=>On,parse:()=>qn,relative:()=>Un,resolve:()=>Pn,sep:()=>Dn});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{link:()=>Ss,mkdir:()=>bs,open:()=>ms,readdir:()=>ws,readlink:()=>ys,rename:()=>vs,resolve:()=>gs});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{FileHandle:()=>Ba,access:()=>co,appendFile:()=>Ha,chmod:()=>ro,chown:()=>eo,constants:()=>r,copyFile:()=>fo,cp:()=>go,exists:()=>Ua,glob:()=>yo,lchmod:()=>no,lchown:()=>to,link:()=>Za,lstat:()=>ja,lutimes:()=>so,mkdir:()=>Ya,mkdtemp:()=>lo,mkdtempDisposable:()=>ho,open:()=>qa,opendir:()=>po,readFile:()=>Ga,readdir:()=>Ka,readlink:()=>Qa,realpath:()=>ao,rename:()=>La,rm:()=>uo,rmdir:()=>Xa,stat:()=>Va,statfs:()=>mo,symlink:()=>Ja,truncate:()=>za,unlink:()=>$a,utimes:()=>io,watch:()=>oo,writeFile:()=>Wa});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{attach:()=>hc,catchMessages:()=>dc,decodeMessage:()=>sc,detach:()=>fc,encodeMessage:()=>ic,from:()=>rc,fromNode:()=>ec,fromWeb:()=>Qo,fromWebSocket:()=>tc,handleRequest:()=>pc,handleResponse:()=>lc,isMessage:()=>ac,isPort:()=>Jo,request:()=>uc});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{BigIntStatsFs:()=>Zn,Dir:()=>_s,Dirent:()=>Es,ReadStream:()=>Oa,Stats:()=>Xn,StatsFs:()=>Kn,WriteStream:()=>Fa,access:()=>yu,accessSync:()=>aa,appendFile:()=>Hc,appendFileSync:()=>Ns,chmod:()=>fu,chmodSync:()=>ta,chown:()=>lu,chownSync:()=>Qs,close:()=>Yc,closeSync:()=>Ls,constants:()=>r,copyFile:()=>Au,copyFileSync:()=>la,cp:()=>Cu,cpSync:()=>pa,createReadStream:()=>Eu,createWriteStream:()=>_u,exists:()=>Uc,existsSync:()=>ks,fchmod:()=>ru,fchmodSync:()=>Gs,fchown:()=>tu,fchownSync:()=>qs,fdatasync:()=>Jc,fdatasyncSync:()=>js,fstat:()=>Xc,fstatSync:()=>Bs,fsync:()=>Zc,fsyncSync:()=>Vs,ftruncate:()=>Kc,ftruncateSync:()=>Us,futimes:()=>nu,futimesSync:()=>Ws,glob:()=>Ou,globSync:()=>ma,lchmod:()=>du,lchmodSync:()=>ra,lchown:()=>hu,lchownSync:()=>ea,link:()=>ou,linkSync:()=>Ks,lopenSync:()=>Os,lstat:()=>jc,lstatSync:()=>Ms,lutimes:()=>gu,lutimesSync:()=>ia,mkdir:()=>su,mkdirSync:()=>Xs,mkdtemp:()=>xu,mkdtempDisposableSync:()=>ua,mkdtempSync:()=>ca,open:()=>qc,openAsBlob:()=>Du,openSync:()=>Ds,opendir:()=>Mu,opendirSync:()=>da,promises:()=>s,read:()=>eu,readFile:()=>Gc,readFileSync:()=>Fs,readSync:()=>$s,readdir:()=>au,readdirSync:()=>Ys,readlink:()=>uu,readlinkSync:()=>Js,readv:()=>ku,readvSync:()=>ha,realpath:()=>mu,realpathSync:()=>sa,rename:()=>Lc,renameSync:()=>As,rm:()=>Iu,rmSync:()=>oa,rmdir:()=>iu,rmdirSync:()=>Hs,stat:()=>Vc,statSync:()=>Ts,statfs:()=>Ru,statfsSync:()=>ga,symlink:()=>cu,symlinkSync:()=>Zs,truncate:()=>zc,truncateSync:()=>Cs,unlink:()=>$c,unlinkSync:()=>Rs,unwatchFile:()=>vu,utimes:()=>pu,utimesSync:()=>na,watch:()=>Su,watchFile:()=>wu,write:()=>Qc,writeFile:()=>Wc,writeFileSync:()=>Ps,writeSync:()=>zs,writev:()=>Tu,writevSync:()=>fa});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{get:()=>Nu,getSync:()=>Bu,list:()=>zu,listSync:()=>$u,remove:()=>Vu,removeSync:()=>ju,set:()=>Lu,setSync:()=>Uu});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{BigIntStatsFs:()=>Zn,Dir:()=>_s,Dirent:()=>Es,IOC:()=>il,IOC32:()=>sl,ReadStream:()=>Oa,Stats:()=>Xn,StatsFs:()=>Kn,WriteStream:()=>Fa,access:()=>yu,accessSync:()=>aa,appendFile:()=>Hc,appendFileSync:()=>Ns,chmod:()=>fu,chmodSync:()=>ta,chown:()=>lu,chownSync:()=>Qs,chroot:()=>ds,close:()=>Yc,closeSync:()=>Ls,constants:()=>r,copyFile:()=>Au,copyFileSync:()=>la,cp:()=>Cu,cpSync:()=>pa,createReadStream:()=>Eu,createWriteStream:()=>_u,exists:()=>Uc,existsSync:()=>ks,fchmod:()=>ru,fchmodSync:()=>Gs,fchown:()=>tu,fchownSync:()=>qs,fdatasync:()=>Jc,fdatasyncSync:()=>js,fstat:()=>Xc,fstatSync:()=>Bs,fsync:()=>Zc,fsyncSync:()=>Vs,ftruncate:()=>Kc,ftruncateSync:()=>Us,futimes:()=>nu,futimesSync:()=>Ws,glob:()=>Ou,globSync:()=>ma,ioctl:()=>al,ioctlSync:()=>ol,lchmod:()=>du,lchmodSync:()=>ra,lchown:()=>hu,lchownSync:()=>ea,link:()=>ou,linkSync:()=>Ks,lopenSync:()=>Os,lstat:()=>jc,lstatSync:()=>Ms,lutimes:()=>gu,lutimesSync:()=>ia,mkdir:()=>su,mkdirSync:()=>Xs,mkdtemp:()=>xu,mkdtempDisposableSync:()=>ua,mkdtempSync:()=>ca,mount:()=>us,open:()=>qc,openAsBlob:()=>Du,openSync:()=>Ds,opendir:()=>Mu,opendirSync:()=>da,promises:()=>s,read:()=>eu,readFile:()=>Gc,readFileSync:()=>Fs,readSync:()=>$s,readdir:()=>au,readdirSync:()=>Ys,readlink:()=>uu,readlinkSync:()=>Js,readv:()=>ku,readvSync:()=>ha,realpath:()=>mu,realpathSync:()=>sa,rename:()=>Lc,renameSync:()=>As,rm:()=>Iu,rmSync:()=>oa,rmdir:()=>iu,rmdirSync:()=>Hs,stat:()=>Vc,statSync:()=>Ts,statfs:()=>Ru,statfsSync:()=>ga,symlink:()=>cu,symlinkSync:()=>Zs,truncate:()=>zc,truncateSync:()=>Cs,umount:()=>ls,unlink:()=>$c,unlinkSync:()=>Rs,unwatchFile:()=>vu,utimes:()=>pu,utimesSync:()=>na,watch:()=>Su,watchFile:()=>wu,write:()=>Qc,writeFile:()=>Wc,writeFileSync:()=>Ps,writeSync:()=>zs,writev:()=>Tu,writevSync:()=>fa,xattr:()=>c});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{DirType:()=>Hi,Dirent:()=>Ki,Handle:()=>Zi,IOC:()=>il,IOC32:()=>sl,chroot:()=>ds,deleteFD:()=>es,dtToIf:()=>Yi,fromFD:()=>Qi,ifToDt:()=>Xi,ioctl:()=>al,ioctlSync:()=>ol,link:()=>Ta,mkdir:()=>xa,mount:()=>us,open:()=>_a,readdir:()=>Aa,readlink:()=>Ia,rename:()=>ka,resolve:()=>Ea,sync:()=>i,toFD:()=>Ji,umount:()=>ls,xattr:()=>c});var h={};__webpack_require__.r(h),__webpack_require__.d(h,{Async:()=>mc,AsyncMapTransaction:()=>Oi,AsyncTransaction:()=>ki,Attributes:()=>ni,BigIntStatsFs:()=>Zn,CopyOnWrite:()=>Lo,CopyOnWriteFS:()=>Bo,DeviceFS:()=>Ni,Dir:()=>_s,Dirent:()=>Es,ErrnoError:()=>is,Fetch:()=>Ho,FetchFS:()=>Wo,FileSystem:()=>Ei,IOC:()=>il,IOC32:()=>sl,InMemory:()=>Pi,InMemoryStore:()=>Fi,Index:()=>vi,IndexFS:()=>qo,Inode:()=>ui,InodeFlags:()=>ai,Journal:()=>No,MetadataBlock:()=>Cc,MutexLock:()=>Xu,Mutexed:()=>Ku,Passthrough:()=>Zo,PassthroughFS:()=>Ko,Port:()=>vc,PortFS:()=>yc,RPC:()=>a,ReadStream:()=>Oa,Readonly:()=>Zu,SingleBuffer:()=>Nc,SingleBufferStore:()=>Pc,Stats:()=>Xn,StatsFs:()=>Kn,StoreFS:()=>Ri,SuperBlock:()=>Dc,Sync:()=>Ju,SyncMapTransaction:()=>Di,SyncTransaction:()=>Ai,Transaction:()=>xi,WrappedTransaction:()=>Ti,WriteStream:()=>Fa,_MutexedFS:()=>Yu,_asyncFSKeys:()=>gc,_chown:()=>bi,_fnOpt:()=>jt,_inode_fields:()=>ii,_inode_version:()=>si,_tempDirName:()=>Rn,access:()=>yu,accessSync:()=>aa,addDevice:()=>ko,appendFile:()=>Hc,appendFileSync:()=>Ns,attachFS:()=>bc,bindContext:()=>Gu,boundContexts:()=>qu,checkOptions:()=>zt,chmod:()=>fu,chmodSync:()=>ta,chown:()=>lu,chownSync:()=>Qs,chroot:()=>ds,close:()=>Yc,closeSync:()=>Ls,configure:()=>Mo,configureFileSystem:()=>bo,configureSingle:()=>_o,configureSingleSync:()=>Io,configureSync:()=>Co,constants:()=>r,contextOf:()=>Xt,copyFile:()=>Au,copyFileSync:()=>la,cp:()=>Cu,cpSync:()=>pa,createChildContext:()=>Kt,createCredentials:()=>qt,createReadStream:()=>Eu,createWriteStream:()=>_u,credentialsAllowRoot:()=>Gt,decodeDirListing:()=>_n,default:()=>cl,defaultContext:()=>Ht,detachFS:()=>wc,devices:()=>$i,encodeDirListing:()=>In,ensureReadySync:()=>_i,exists:()=>Uc,existsSync:()=>ks,fchmod:()=>ru,fchmodSync:()=>Gs,fchown:()=>tu,fchownSync:()=>qs,fdatasync:()=>Jc,fdatasyncSync:()=>js,fs:()=>u,fstat:()=>Xc,fstatSync:()=>Bs,fsync:()=>Zc,fsyncSync:()=>Vs,ftruncate:()=>Kc,ftruncateSync:()=>Us,fullDevice:()=>Vi,futimes:()=>nu,futimesSync:()=>Ws,glob:()=>Ou,globSync:()=>ma,globToRegex:()=>Mn,hasAccess:()=>yi,ioctl:()=>al,ioctlSync:()=>ol,isBackend:()=>Vt,isBackendConfig:()=>$t,isBlockDevice:()=>pi,isCharacterDevice:()=>gi,isDirectory:()=>hi,isFIFO:()=>mi,isFile:()=>li,isSocket:()=>di,isSymbolicLink:()=>fi,lchmod:()=>du,lchmodSync:()=>ra,lchown:()=>hu,lchownSync:()=>ea,link:()=>ou,linkSync:()=>Ks,log:()=>t,lopenSync:()=>Os,lstat:()=>jc,lstatSync:()=>Ms,lutimes:()=>gu,lutimesSync:()=>ia,mkdir:()=>su,mkdirSync:()=>Xs,mkdtemp:()=>xu,mkdtempDisposableSync:()=>ua,mkdtempSync:()=>ca,mount:()=>us,mounts:()=>cs,normalizeMode:()=>xn,normalizeOptions:()=>Tn,normalizePath:()=>kn,normalizeTime:()=>An,nullDevice:()=>Li,open:()=>qc,openAsBlob:()=>Du,openSync:()=>Ds,opendir:()=>Mu,opendirSync:()=>da,promises:()=>s,randomDevice:()=>ji,read:()=>eu,readFile:()=>Gc,readFileSync:()=>Fs,readSync:()=>$s,readdir:()=>au,readdirSync:()=>Ys,readlink:()=>uu,readlinkSync:()=>Js,readv:()=>ku,readvSync:()=>ha,realpath:()=>mu,realpathSync:()=>sa,rename:()=>Lc,renameSync:()=>As,resolveMountConfig:()=>So,resolveMountConfigSync:()=>Eo,resolveRemoteMount:()=>Sc,rm:()=>Iu,rmSync:()=>oa,rmdir:()=>iu,rmdirSync:()=>Hs,rootIno:()=>ei,stat:()=>Vc,statSync:()=>Ts,statfs:()=>Ru,statfsSync:()=>ga,symlink:()=>cu,symlinkSync:()=>Zs,sync:()=>Ro,truncate:()=>zc,truncateSync:()=>Cs,umount:()=>ls,unlink:()=>$c,unlinkSync:()=>Rs,unwatchFile:()=>vu,userModifiableFlags:()=>ci,userVisibleFlags:()=>oi,utimes:()=>pu,utimesSync:()=>na,version:()=>wi,vfs:()=>l,waitOnline:()=>Cn,watch:()=>Su,watchFile:()=>wu,withExceptionContext:()=>os,withPath:()=>ss,wrap:()=>as,write:()=>Qc,writeFile:()=>Wc,writeFileSync:()=>Ps,writeSync:()=>zs,writev:()=>Tu,writevSync:()=>fa,xattr:()=>c,zeroDevice:()=>Ui});var f={};__webpack_require__.r(f),__webpack_require__.d(f,{FileSystem:()=>_h,getVolume:()=>Ih,validUri:()=>xh,writeUri:()=>Ah});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{BrsDevice:()=>Ch});var p={};__webpack_require__.r(p),__webpack_require__.d(p,{AALiteral:()=>jh,ArrayLiteral:()=>Vh,AtSignGet:()=>Ph,Binary:()=>Dh,Call:()=>Oh,DottedGet:()=>Nh,Function:()=>Fh,Grouping:()=>Lh,IndexedGet:()=>Bh,Literal:()=>Uh,Unary:()=>zh,Variable:()=>$h});var g={};__webpack_require__.r(g),__webpack_require__.d(g,{Environment:()=>Wh,NotFound:()=>qh,Scope:()=>Th});var m={};__webpack_require__.r(m),__webpack_require__.d(m,{BrsError:()=>Yh,RuntimeError:()=>Kh,RuntimeErrorDetail:()=>Jh,findErrorDetail:()=>Zh,logError:()=>Qh});var y={};__webpack_require__.r(y),__webpack_require__.d(y,{generateArgumentMismatchError:()=>df});var b={};__webpack_require__.r(b),__webpack_require__.d(b,{clearExtensions:()=>vf,instantiateExtensions:()=>Sf,isSceneGraphNode:()=>Ef,registerExtension:()=>wf});var w={};__webpack_require__.r(w),__webpack_require__.d(w,{download:()=>Qf,getExternalIp:()=>ed,getHost:()=>sd,isValidHostname:()=>id,isValidIP:()=>nd,resolveHostToIP:()=>rd});var v={};__webpack_require__.r(v),__webpack_require__.d(v,{RoFontRegistry:()=>xg,getFontRegistry:()=>Ag});var S={};__webpack_require__.r(S),__webpack_require__.d(S,{BrsBoolean:()=>P,BrsComponent:()=>Rh,BrsEvent:()=>Jf,BrsInterface:()=>V,BrsInvalid:()=>N,BrsObjects:()=>ey,BrsString:()=>F,Callable:()=>yf,CircleCircle:()=>Zd,Dimensions:()=>Nd,Double:()=>af,DrawOffset:()=>Fd,Float:()=>cf,HttpError:()=>tp,IfArray:()=>Af,IfArrayGet:()=>kf,IfArraySet:()=>Tf,IfDraw2D:()=>Md,IfEnum:()=>_f,IfGetMessagePort:()=>Sd,IfHttpAgent:()=>ep,IfList:()=>Df,IfListToArray:()=>Of,IfSetMessagePort:()=>vd,IfSocket:()=>np,IfSocketAsync:()=>ip,IfSocketOption:()=>ap,IfSocketStatus:()=>sp,IfToStr:()=>tf,Int32:()=>lf,Int64:()=>nf,MismatchReason:()=>mf,NumberKinds:()=>ay,PrimitiveKinds:()=>cy,RectCircle:()=>Kd,RectRect:()=>Yd,RequestState:()=>Cg,RoAppInfo:()=>Cm,RoAppManager:()=>Ap,RoAppMemoryMonitor:()=>Rp,RoArray:()=>Mf,RoAssociativeArray:()=>If,RoAudioMetadata:()=>fm,RoAudioPlayer:()=>dm,RoAudioPlayerEvent:()=>ry,RoAudioResource:()=>Im,RoBitmap:()=>bd,RoBoolean:()=>Zf,RoByteArray:()=>Xf,RoChannelStore:()=>Cp,RoChannelStoreEvent:()=>Tp,RoCompositor:()=>kd,RoDateTime:()=>Ep,RoDeviceCrypto:()=>gp,RoDeviceInfo:()=>Bm,RoDeviceInfoEvent:()=>Rm,RoDouble:()=>sf,RoEVPCipher:()=>up,RoEVPDigest:()=>hp,RoFileSystem:()=>zm,RoFloat:()=>of,RoFont:()=>Np,RoFontRegistry:()=>xg,RoFunction:()=>xf,RoHMAC:()=>dp,RoHttpAgent:()=>_m,RoImageMetadata:()=>cm,RoInput:()=>Fp,RoInputEvent:()=>ty,RoInt:()=>uf,RoInvalid:()=>$m,RoList:()=>Ff,RoLocalization:()=>Am,RoLongInteger:()=>rf,RoMessagePort:()=>Op,RoPath:()=>Kf,RoRegex:()=>Dp,RoRegion:()=>Id,RoRegistry:()=>Tm,RoRegistrySection:()=>Mm,RoRemoteInfo:()=>Lm,RoScreen:()=>Ed,RoSocketAddress:()=>Hm,RoSprite:()=>Ad,RoString:()=>Yf,RoSystemLog:()=>Pp,RoSystemLogEvent:()=>iy,RoTextureManager:()=>Tg,RoTextureRequest:()=>Dg,RoTimespan:()=>xp,RoURLEvent:()=>ad,RoURLTransfer:()=>Em,RoUniversalControlEvent:()=>od,RoUtils:()=>Qm,RoVideoPlayer:()=>pm,RoVideoPlayerEvent:()=>ny,RoXMLElement:()=>vm,RoXMLList:()=>gm,StdlibArgument:()=>gf,Uninitialized:()=>B,ValidDateFormats:()=>wy,ValueKind:()=>R,brsValueOf:()=>Sy,compareVersions:()=>kp,createAudioResource:()=>xm,createBitmap:()=>wd,createNewCanvas:()=>zd,createRegion:()=>xd,createScreen:()=>_d,drawBitmapOnBitmap:()=>Ud,drawImageAtPos:()=>qd,drawImageToContext:()=>Vd,drawObjectToComponent:()=>Ld,drawRotatedObject:()=>jd,getDimensions:()=>Bd,getDrawOffset:()=>Pd,getFloatingPointPrecision:()=>Iy,getFontRegistry:()=>Ag,getTextureManager:()=>Mg,isAnyNumber:()=>yy,isBoxable:()=>L,isBoxedNumber:()=>my,isBrsBoolean:()=>ly,isBrsCallable:()=>hy,isBrsNumber:()=>sy,isBrsString:()=>uy,isBrsType:()=>by,isCollection:()=>fy,isComparable:()=>O,isInvalid:()=>_y,isIterable:()=>dy,isNumberComp:()=>py,isNumberKind:()=>oy,isStringComp:()=>gy,isUnboxable:()=>U,jsValueOf:()=>Ey,putImageAtPos:()=>Gd,releaseCanvas:()=>$d,rgbaIntToHex:()=>Wd,rgbaToOpaque:()=>Xd,rgbaToTransparent:()=>Hd,toAssociativeArray:()=>vy,tryCoerce:()=>hf});var E={};__webpack_require__.r(E),__webpack_require__.d(E,{GlobalFunctions:()=>Cy,KeyWords:()=>ky,Lexeme:()=>xy,Lexer:()=>Py,Location:()=>Ty,ReservedWords:()=>Ay,isToken:()=>My});var _={};__webpack_require__.r(_),__webpack_require__.d(_,{Assignment:()=>$y,Block:()=>Gy,BlockEnd:()=>Ny,ContinueFor:()=>Hy,ContinueForReason:()=>By,ContinueWhile:()=>Xy,ContinueWhileReason:()=>Uy,Dim:()=>qy,DottedSet:()=>ub,End:()=>ib,ExitFor:()=>Yy,ExitForReason:()=>Ly,ExitWhile:()=>Ky,ExitWhileReason:()=>Vy,Expression:()=>Wy,For:()=>ab,ForEach:()=>ob,Function:()=>Zy,Goto:()=>tb,GotoLabel:()=>jy,If:()=>Jy,Increment:()=>Qy,IndexedSet:()=>lb,Label:()=>rb,Library:()=>hb,Print:()=>eb,Return:()=>nb,ReturnValue:()=>zy,Stop:()=>sb,Throw:()=>db,TryCatch:()=>fb,While:()=>cb});var I={};__webpack_require__.r(I),__webpack_require__.d(I,{BlockEnd:()=>Ny,ContinueForReason:()=>By,ContinueWhileReason:()=>Uy,ExitForReason:()=>Ly,ExitWhileReason:()=>Vy,Expr:()=>p,GotoLabel:()=>jy,ParseError:()=>pb,Parser:()=>vb,ReturnValue:()=>zy,Stmt:()=>_});var x={};__webpack_require__.r(x),__webpack_require__.d(x,{TypeMismatch:()=>Sb});var A={};__webpack_require__.r(A),__webpack_require__.d(A,{Abs:()=>$b,Asc:()=>fw,Atn:()=>Jb,Box:()=>kw,Cdbl:()=>qb,Chr:()=>dw,Cint:()=>Gb,CopyFile:()=>Mb,Cos:()=>Qb,CreateDirectory:()=>Ob,CreateObject:()=>Tb,Csng:()=>Wb,DeleteDirectory:()=>Db,DeleteFile:()=>Rb,Exp:()=>rw,FindMemberFunction:()=>Ab,Fix:()=>Hb,FormatDrive:()=>Fb,FormatJson:()=>jb,GetGlobalAA:()=>Mw,GetInterface:()=>xb,Instr:()=>mw,Int:()=>Xb,LCase:()=>hw,Left:()=>pw,Len:()=>yw,ListDir:()=>Pb,Log:()=>nw,MatchFiles:()=>Lb,Mid:()=>bw,MoveFile:()=>Cb,ObjFun:()=>kb,ParseJson:()=>zb,Pos:()=>ow,ReadAsciiFile:()=>Nb,RebootSystem:()=>_b,Right:()=>gw,Rnd:()=>sw,Run:()=>uw,RunGarbageCollector:()=>Ib,STRING:()=>Sw,Sgn:()=>Zb,Sin:()=>ew,Sleep:()=>Cw,Sqr:()=>iw,Str:()=>ww,StrI:()=>vw,StrToI:()=>xw,StringI:()=>Ew,Substitute:()=>_w,Tab:()=>aw,Tan:()=>tw,Tr:()=>Dw,Type:()=>Aw,UCase:()=>lw,UpTime:()=>Tw,Val:()=>Iw,Wait:()=>Rw,WriteAsciiFile:()=>Bb});var k={};__webpack_require__.r(k),__webpack_require__.d(k,{DebugMode:()=>qw,Interpreter:()=>Hw,TerminateReasons:()=>Gw,defaultExecutionOptions:()=>$w});var T={};__webpack_require__.r(T),__webpack_require__.d(T,{BrightScript:()=>Xw,Declaration:()=>Yw,Error:()=>Zw,If:()=>Kw});var M={};__webpack_require__.r(M),__webpack_require__.d(M,{Chunk:()=>T,Parser:()=>Jw,Preprocessor:()=>ev,getBsConst:()=>tv});var C={};__webpack_require__.r(C),__webpack_require__.d(C,{lexParseSync:()=>rv,parseDecodedTokens:()=>nv,preprocessor:()=>M,types:()=>S});var R,D=__webpack_require__(46);function O(e){return"lessThan"in e&&"greaterThan"in e&&"getValue"in e}!function(e){e[e.Interface=0]="Interface",e[e.Invalid=1]="Invalid",e[e.Boolean=2]="Boolean",e[e.String=3]="String",e[e.Int32=4]="Int32",e[e.Int64=5]="Int64",e[e.Float=6]="Float",e[e.Double=7]="Double",e[e.Callable=8]="Callable",e[e.Uninitialized=9]="Uninitialized",e[e.Dynamic=10]="Dynamic",e[e.Void=11]="Void",e[e.Object=12]="Object"}(R||(R={})),function(e){e.toString=function(t,r=!1){switch(t){case e.Interface:return"Interface";case e.Invalid:return r?"roInvalid":"Invalid";case e.Boolean:return r?"roBoolean":"Boolean";case e.String:return r?"roString":"String";case e.Int32:return r?"roInteger":"Integer";case e.Int64:return"LongInteger";case e.Float:return r?"roFloat":"Float";case e.Double:return r?"roFloat":"Double";case e.Callable:return"Function";case e.Dynamic:return"Dynamic";case e.Void:return"Void";case e.Uninitialized:return"<uninitialized>";case e.Object:return"Object"}},e.fromString=function(t){switch(t.toLowerCase()){case"interface":return e.Interface;case"invalid":return e.Invalid;case"boolean":return e.Boolean;case"string":return e.String;case"integer":return e.Int32;case"longinteger":return e.Int64;case"float":return e.Float;case"double":return e.Double;case"function":return e.Callable;case"dynamic":return e.Dynamic;case"void":return e.Void;case"<uninitialized>":return e.Uninitialized;case"object":return e.Object;default:return}}}(R||(R={}));class F{value;inArray;kind=R.String;constructor(e,t=!1){this.value=e,this.inArray=t}lessThan(e){return gy(e)?P.from(this.value<e.getValue()):P.False}greaterThan(e){return gy(e)?P.from(this.value>e.getValue()):P.False}equalTo(e){return gy(e)?P.from(this.value===e.getValue()):P.False}getValue(){return this.value}toString(e){return e?`"${this.value}"`:this.value}concat(e){return gy(e)?new F(this.value+e.getValue()):new F(this.value+e.toString())}box(){return new Yf(this)}}class P{value;inArray;kind=R.Boolean;constructor(e,t=!1){this.value=e,this.inArray=t}toBoolean(){return this.value}static False=new P(!1);static True=new P(!0);static from(e){return e?P.True:P.False}lessThan(e){return P.False}greaterThan(e){return P.False}equalTo(e){return e.kind===R.Boolean||sy(e)?P.from(this.toBoolean()===e.toBoolean()):P.False}getValue(){return this.value}toString(e){return this.value.toString()}box(){return new Zf(this)}and(e){return e.kind!==R.Boolean?P.from(this.value&&e.toBoolean()):P.from(this.value&&e.value)}or(e){return e.kind!==R.Boolean?P.from(this.value||e.toBoolean()):P.from(this.value||e.value)}not(){return P.from(!this.value)}}class N{kind=R.Invalid;inArray=!1;static Instance=new N;lessThan(e){return P.False}greaterThan(e){return P.False}equalTo(e){return e.kind===R.Invalid||e instanceof $m?P.True:P.False}getValue(){return N.Instance}toString(e){return"invalid"}box(){return new $m}}class B{kind=R.Uninitialized;static Instance=new B;lessThan(e){return P.False}greaterThan(e){return P.False}getValue(){}equalTo(e){return e.kind===R.String?P.from(e.value===this.toString().toLowerCase()):P.False}toString(e){return"<UNINITIALIZED>"}}function L(e){return"box"in e&&"inArray"in e}function U(e){return"unbox"in e&&"copy"in e}class V{name;kind=R.Interface;methodNames;constructor(e,t){this.name=e,this.methodNames=new Set(Array.from(t).map(e=>e.toLowerCase()))}getInterfaceName(){return this.name}hasMethod(e){return this.methodNames.has(e.toLowerCase())}toString(){return`<Interface: ${this.name}>`}equalTo(e){return P.False}}var j,z=__webpack_require__(9907);!function(e){e[e.Debug=0]="Debug",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(j||(j={}));const $=["480p","720p","1080p"],q=["Off","On","Instant replay","When mute"];function G(e){const t=e.trim().toLowerCase();return q.find(e=>e.toLowerCase()===t)}const W="common:/certs/ca-bundle.crt",H=Fe(),X={developerId:"34c6fceca75e456f25e7e99531e2425c6c1de443",friendlyName:"BrightScript Engine Library",deviceModel:"8000X",firmwareVersion:"48G.04E05531A",serialNumber:"",clientId:"6c5bf3a5-b2a5-4918-824d-7691d5c85364",RIDA:"f51ac698-bc60-4409-aae3-8fc3abc025c4",countryCode:"US",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,timeZoneIANA:Intl.DateTimeFormat().resolvedOptions().timeZone,timeZoneAuto:!0,timeZoneOffset:(new Date).getTimezoneOffset(),locale:"en_US",clockFormat:"12h",displayMode:"720p",captionMode:"Off",captionStyle:[],captionLanguage:"en",assets:new ArrayBuffer(0),maxSimulStreams:2,remoteControls:[],customFeatures:[],connectionInfo:{type:"WiredConnection",name:"eth1",gateway:"127.0.0.1",ip:"127.0.0.1",dns:["8.8.8.8","8.8.4.4"],quality:"Excellent"},localIps:["eth1,127.0.0.1"],startTime:Date.now(),audioVolume:50,audioLanguage:"en",maxFps:60,tmpVolSize:33554432,cacheFSVolSize:33554432,logLevel:j.Warning},Y=new Map([["default","cc-serif"],["serif fixed width","cc-serif-fixed"],["serif proportional","cc-serif"],["sans serif fixed width","cc-sans-serif-fixed"],["sans serif proportional","cc-sans-serif"],["casual","cc-casual"],["cursive","cc-cursive"],["small caps","cc-small-caps"]]),K=new Map([["default",[29,43.5]],["extra small",[20,30]],["small",[21.5,32]],["medium",[29,43.5]],["large",[37.5,56]],["extra large",[40.5,61]]]),Z=new Map([["default","#B0B0B0"],["bright white","#FFFFFF"],["white","#B0B0B0"],["black","#000000"],["red","#CA0000"],["green","#00BB00"],["blue","#0304D0"],["yellow","#B2B400"],["magenta","#C500C5"],["cyan","#00BBB9"]]),J=new Map([["default",1],["off",0],["25%",.25],["50%",.5],["75%",.75],["100%",1]]),Q=new Map([["mode",Array.from(q)],["text/font",Array.from(Y.keys())],["text/effect",["default","none","raised","depressed","uniform","drop shadow (left)","drop shadow (right)"]],["text/size",Array.from(K.keys())],["text/color",Array.from(Z.keys())],["text/opacity",Array.from(J.keys())],["background/color",Array.from(Z.keys())],["background/opacity",Array.from(J.keys())],["window/color",Array.from(Z.keys())],["window/opacity",Array.from(J.keys())],["track",["default"]],["track_composite",["default"]],["track_analog",["default"]],["muted",["unmuted","muted"]]]);var ee,te,re,ne;function ie(e){return e&&"string"==typeof e.name&&"string"==typeof e.library&&"string"==typeof e.version}function se(e){return e&&"object"==typeof e&&e.current instanceof Map&&Array.isArray(e.removed)&&"boolean"==typeof e.isDirty}function ae(e){return e&&"object"==typeof e.device&&"number"==typeof e.launchTime&&e.manifest instanceof Map&&e.deepLink instanceof Map&&Array.isArray(e.paths)&&Array.isArray(e.source)&&(e.pkgZip instanceof ArrayBuffer||void 0===e.pkgZip)&&(e.extZip instanceof SharedArrayBuffer||void 0===e.extZip)&&("string"==typeof e.password||void 0===e.password)&&("string"==typeof e.root||void 0===e.root)&&("string"==typeof e.ext||void 0===e.ext)}function oe(e){return e&&"object"==typeof e.device&&e.manifest instanceof Map&&ce(e.taskData)&&(e.pkgZip instanceof ArrayBuffer||void 0===e.pkgZip)&&(e.extZip instanceof SharedArrayBuffer||void 0===e.extZip)&&("string"==typeof e.root||void 0===e.root)&&("string"==typeof e.ext||void 0===e.ext)}function ce(e){return e&&"number"==typeof e.id&&"string"==typeof e.name&&Object.values(te).includes(e.state)&&(e.buffer instanceof SharedArrayBuffer||void 0===e.buffer)&&("object"==typeof e.m||void 0===e.m)&&("object"==typeof e.scene||void 0===e.scene)&&("string"==typeof e.render||void 0===e.render)}function ue(e){return"string"==typeof e&&["set","get","nil","ack","call","resp"].includes(e)}function le(e){return"string"==typeof e&&["global","task","scene","node"].includes(e)}function he(e){return e&&"number"==typeof e.id&&ue(e.action)&&le(e.type)&&"string"==typeof e.address&&"string"==typeof e.key&&("number"==typeof e.requestId||void 0===e.requestId)}function fe(){let e=Math.floor(16777216*Math.random()).toString(16);for(;e.length<6;)e="0"+e;return e.toUpperCase()}function de(e){return e&&"string"==typeof e.id&&"string"==typeof e.title&&"string"==typeof e.version&&("string"==typeof e.path||void 0===e.path)&&("string"==typeof e.icon||void 0===e.icon)&&("string"==typeof e.password||void 0===e.password)&&("string"==typeof e.exitReason||void 0===e.exitReason)&&("number"==typeof e.exitTime||void 0===e.exitTime)&&(e.params instanceof Map||void 0===e.params)&&("boolean"==typeof e.running||void 0===e.running)}function pe(e){return e&&"string"==typeof e.app&&["roku_browser","SDKLauncher"].includes(e.app)&&Array.isArray(e.params)&&Array.isArray(e.env)}!function(e){e.SceneGraph="brs-scenegraph",e.SDK1="brs-sdk1",e.BrightSign="brs-brightsign"}(ee||(ee={})),function(e){e[e.INIT=0]="INIT",e[e.RUN=1]="RUN",e[e.STOP=2]="STOP",e[e.DONE=3]="DONE"}(te||(te={})),function(e){e.Unknown="EXIT_UNKNOWN",e.Crashed="EXIT_BRIGHTSCRIPT_CRASH",e.Stopped="EXIT_BRIGHTSCRIPT_STOP",e.UnkFunction="EXIT_BRIGHTSCRIPT_UNK_FUNC",e.UserNav="EXIT_USER_NAV",e.Settings="EXIT_SETTINGS_UPDATE",e.PowerMode="EXIT_POWER_MODE",e.Packaged="EXIT_PACKAGER_DONE",e.Invalid="EXIT_INVALID_PCODE",e.NoPassword="EXIT_MISSING_PASSWORD",e.UnpackFail="EXIT_UNPACK_FAILED"}(re||(re={})),function(e){e[e.DBG=0]="DBG",e[e.DBT=1]="DBT",e[e.BUF=2]="BUF",e[e.VDO=3]="VDO",e[e.VDX=4]="VDX",e[e.VSE=5]="VSE",e[e.VLP=6]="VLP",e[e.VPS=7]="VPS",e[e.VDR=8]="VDR",e[e.VAT=9]="VAT",e[e.VTT=10]="VTT",e[e.SND=11]="SND",e[e.SDX=12]="SDX",e[e.SPS=13]="SPS",e[e.SDR=14]="SDR",e[e.WAV=15]="WAV",e[e.WAV1=16]="WAV1",e[e.WAV2=17]="WAV2",e[e.EVE=18]="EVE",e[e.MUHS=19]="MUHS",e[e.MHSL=20]="MHSL",e[e.MBWD=21]="MBWD",e[e.CEC=22]="CEC",e[e.HDMI=23]="HDMI",e[e.RID=24]="RID",e[e.KEY=25]="KEY",e[e.MOD=26]="MOD"}(ne||(ne={}));const ge=32768,me=33554432,ye=32768,be=65536,we=5,ve=3,Se=ne.HDMI+we*ve,Ee=1024;var _e;!function(e){e[e.IR=10]="IR",e[e.WD=20]="WD",e[e.BT=30]="BT",e[e.SIM=40]="SIM",e[e.ECP=50]="ECP",e[e.RMOB=60]="RMOB"}(_e||(_e={}));const Ie="Brightscript Debugger> ";var xe,Ae,ke,Te;function Me(e){return e&&"string"==typeof e.id&&"string"==typeof e.name&&"string"==typeof e.lang&&("string"==typeof e.codec||void 0===e.codec)}!function(e){e[e.BSCS=0]="BSCS",e[e.BT=1]="BT",e[e.CLASSES=2]="CLASSES",e[e.CONT=3]="CONT",e[e.EXIT=4]="EXIT",e[e.EXPR=5]="EXPR",e[e.HELP=6]="HELP",e[e.LAST=7]="LAST",e[e.LIST=8]="LIST",e[e.NEXT=9]="NEXT",e[e.SGNODES=10]="SGNODES",e[e.STATS=11]="STATS",e[e.STEP=12]="STEP",e[e.THREAD=13]="THREAD",e[e.THREADS=14]="THREADS",e[e.VAR=15]="VAR",e[e.BREAK=16]="BREAK",e[e.PAUSE=17]="PAUSE"}(xe||(xe={})),function(e){e[e.Selected=0]="Selected",e[e.Full=1]="Full",e[e.Partial=2]="Partial",e[e.Paused=3]="Paused",e[e.Resumed=4]="Resumed",e[e.Finished=5]="Finished",e[e.Failed=6]="Failed",e[e.Loading=7]="Loading",e[e.StartStream=8]="StartStream",e[e.StartPlay=9]="StartPlay",e[e.Position=10]="Position",e[e.TooMany=11]="TooMany"}(Ae||(Ae={})),function(e){e[e.Network=0]="Network",e[e.Http=-1]="Http",e[e.TimeOut=-2]="TimeOut",e[e.Unknown=-3]="Unknown",e[e.EmptyList=-4]="EmptyList",e[e.Unsupported=-5]="Unsupported",e[e.DRM=-6]="DRM"}(ke||(ke={})),function(e){e[e.DEBUG_EXPR=0]="DEBUG_EXPR",e[e.MEDIA_TRACKS=1]="MEDIA_TRACKS",e[e.SYS_LOG=2]="SYS_LOG",e[e.INPUT=3]="INPUT"}(Te||(Te={}));const Ce=["select","navsingle","navmulti","deadend"],Re=3,De=new Set(["wav","mp2","mp3","m4a","aac","ogg","oga","ac3","wma","flac"]),Oe=new Set(["mp4","m4v","mkv","mov"]);function Fe(){let e=!1,t=!1,r=!1,n=!1,i=!1,s=!1,a=!1,o=!1,c=!1,u=!1,l=!1;if("undefined"!=typeof window&&(e=!0,t=("chrome"in window||window.Intl&&"v8BreakIterator"in Intl)&&"CSS"in window),"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent){let e=navigator.userAgent;e.includes("Electron")?(i=!0,t=!0):/Firefox\D+(\d+)/.test(e)?r=!0:/^((?!chrome|android).)*safari/i.test(e)&&(n=!0),/Android/.test(e)?s=!0:/CrOS/.test(e)?a=!0:/iP[ao]d|iPhone/i.test(e)?o=!0:/Mac OS/.test(e)&&!/like Mac OS/.test(e)?c=!0:/Linux/.test(e)?u=!0:/Windows/.test(e)&&(l=!0)}else"android"===z.platform?s=!0:"darwin"===z.platform?c=!0:"linux"===z.platform?u=!0:"win32"===z.platform&&(l=!0);return{inBrowser:e,inChromium:t,inFirefox:r,inSafari:n,inElectron:i,inAndroid:s,inChromeOS:a,inIOS:o,inLinux:u,inMacOS:c,inWindows:l}}function Pe(e){const t=e.split("\n").map(e=>e.replaceAll("\r","")).map(e=>{if(""===e.trim()||e.startsWith("#"))return["",""];const t=e.indexOf("=");return-1===t?["",""]:[e.slice(0,t),e.slice(t+1)]}).filter(([e,t])=>e&&t).map(([e,t])=>[e,t]);return new Map(t)}function Ne(e){return Object.values(re).includes(e)?e:re.Unknown}function Be(e,t=""){return(e>>>0).toString(16).padStart(8,t)}function Le(e){let t=[];return e&&(t=e.trimEnd().split("\n")),t}function Ue(e){const t=new Map;if(e.length>0){const r="0123456789ACDEFGHJKLMNPRSTUVWXY";t.set("major",r.indexOf(e.charAt(2)).toString()),t.set("minor",e.slice(4,5)),t.set("revision",e.slice(5,6)),t.set("build",e.slice(8,12)),t.set("plid",e.slice(0,2))}return t}function Ve(){let e=new Date;return`${new Intl.DateTimeFormat("en-GB",{month:"2-digit",timeZone:"UTC"}).format(e)}-${new Intl.DateTimeFormat("en-GB",{day:"2-digit",timeZone:"UTC"}).format(e)} ${new Intl.DateTimeFormat("en-GB",{hour:"2-digit",timeZone:"UTC"}).format(e)}:${new Intl.DateTimeFormat("en-GB",{minute:"2-digit",timeZone:"UTC"}).format(e)}:${new Intl.DateTimeFormat("en-GB",{second:"2-digit",timeZone:"UTC"}).format(e)}.${e.getMilliseconds()}`}const je=class{offset=8;queue=[];lengthIdx=0;versionIdx=1;buffer;view;maxSize;atomicView;isProcessing=!1;constructor(e,t){e=e??32768,this.maxSize=t??3145728,this.buffer=new SharedArrayBuffer(e,{maxByteLength:this.maxSize}),this.view=new Uint8Array(this.buffer),this.atomicView=new Int32Array(this.buffer,0,2),Atomics.store(this.atomicView,this.lengthIdx,0),Atomics.store(this.atomicView,this.versionIdx,0)}setBuffer(e){this.buffer=e,this.view=new Uint8Array(this.buffer),this.atomicView=new Int32Array(this.buffer,0,2),this.maxSize=Math.max(this.maxSize,this.buffer.byteLength)}getBuffer(){return this.buffer}getVersion(){return Atomics.load(this.atomicView,this.versionIdx)}waitStore(e,t,r=1e4){this.queue.push({obj:e,version:t,timeout:r}),this.processQueue()}waitVersion(e,t){return Atomics.wait(this.atomicView,this.versionIdx,e,t)}processQueue(){if(this.isProcessing||0===this.queue.length)return;this.isProcessing=!0;const{obj:e,version:t,timeout:r}=this.queue[0];if("function"==typeof Atomics.waitAsync){const n=Atomics.waitAsync(this.atomicView,this.versionIdx,t,r);n.async?n.value.then(t=>{"ok"===t?this.store(e):console.error("[SharedObject] Error storing shared data",t,e.field),this.queue.shift(),this.isProcessing=!1,this.processQueue()}):"not-equal"===n.value?(this.store(e),this.queue.shift(),this.isProcessing=!1,this.processQueue()):(console.error("[SharedObject] Error storing shared data: timeout",e.field),this.queue.shift(),this.isProcessing=!1,this.processQueue())}else{const n=Date.now(),i=()=>{Atomics.load(this.atomicView,this.versionIdx)!==t?(this.store(e),this.queue.shift(),this.isProcessing=!1,this.processQueue()):Date.now()-n<r?setTimeout(i,10):(console.error("[SharedObject] Error storing shared data: timeout",e.field),this.queue.shift(),this.isProcessing=!1,this.processQueue())};i()}}store(e){const t=JSON.stringify(e),r=(new TextEncoder).encode(t);this.writeToBuffer(r)}storeData(e){const t=new Uint8Array(e);this.writeToBuffer(t)}load(e=!1){const t=this.readFromBuffer(e);if(!t)return{};const r=(new TextDecoder).decode(t);try{return JSON.parse(r)}catch(e){return console.error("Error parsing data:",e,r),{}}}loadData(e=!1){const t=this.readFromBuffer(e);if(t)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}writeToBuffer(e){const t=e.length;this.ensureCapacity(t+this.offset)&&(this.view.set(e,this.offset),Atomics.store(this.atomicView,this.lengthIdx,t),Atomics.add(this.atomicView,this.versionIdx,1),Atomics.notify(this.atomicView,this.versionIdx))}readFromBuffer(e){const t=Atomics.load(this.atomicView,this.lengthIdx);if(t<1)return;const r=this.view.slice(this.offset,this.offset+t);return e&&(Atomics.store(this.atomicView,this.versionIdx,0),Atomics.notify(this.atomicView,this.versionIdx)),r}ensureCapacity(e){if(e>this.maxSize)return console.error(`[SharedObject] Buffer is full. Cannot store more data. ${e} > ${this.maxSize}`),!1;if(e>this.buffer.byteLength){let t=Math.min(this.maxSize,Math.max(2*e,2*this.buffer.byteLength));try{this.buffer.grow(t),this.view=new Uint8Array(this.buffer),this.atomicView=new Int32Array(this.buffer,0,2)}catch(e){return console.error("[SharedObject] Error growing buffer:",e),!1}}return!0}};var ze=__webpack_require__(9942),$e=__webpack_require__.n(ze),qe=__webpack_require__(8985);class Ge extends qe{[Symbol.toStringTag]="List";constructor(e){super(),e&&this.push(...e)}data=new Set;toSet(){return new Set(this.data)}toArray(){return Array.from(this.data)}toJSON(){return Array.from(this.data)}toString(){return this.join(",")}_set(e,t,r=!1){if(Math.abs(e)>this.data.size)throw new ReferenceError("Can not set an element outside the bounds of the list");const n=Array.from(this.data);n.splice(e,+r,t),this.data=new Set(n),this.emit("update")}set(e,t){this._set(e,t,!0)}deleteAt(e){if(Math.abs(e)>this.data.size)throw new ReferenceError("Can not delete an element outside the bounds of the list");this.delete(Array.from(this.data).at(e))}insert(e,t=this.data.size){this._set(t,e,!1)}at(e){if(Math.abs(e)>this.data.size)throw new ReferenceError("Can not access an element outside the bounds of the list");return Array.from(this.data).at(e)}pop(){const e=Array.from(this.data).pop();return void 0!==e&&this.delete(e),e}push(...e){for(const t of e)this.add(t);return this.data.size}join(e){return Array.from(this.data).join(e)}splice(e,t,...r){if(Math.abs(e)>this.data.size)throw new ReferenceError("Can not splice elements outside the bounds of the list");const n=Array.from(this.data),i=n.splice(e,t,...r);return this.data=new Set(n),this.emit("update"),i}add(e){return this.data.add(e),this.emit("update"),this.emit("add",e),this}clear(){this.data.clear(),this.emit("update")}delete(e){const t=this.data.delete(e);return this.emit("update"),t}has(e){return this.data.has(e)}get size(){return this.data.size}entries(){return this.toArray().entries()}keys(){return this.toArray().keys()}values(){return this.data.values()}[Symbol.iterator](){return this.data[Symbol.iterator]()}}function We(e,...t){const r={};for(const n of t.flat())r[n]=e[n];return r}function He(e,...t){return function(e){const r=Object.entries(e);return Object.fromEntries(r.filter(([e,r])=>(e=>!t.flat().includes(e))(e)))}(e)}function Xe(e){try{return JSON.parse(e),!0}catch{return!1}}function Ye(e,t){return Object.fromEntries(Object.entries(e).map(([e,r])=>[e,"function"==typeof r?r.bind(t):r]))}function Ke(e=new Error){const t=setTimeout(()=>{throw e},5e3);return()=>clearTimeout(t)}function Ze(e){throw e&&"object"==typeof e&&function(e){const t=[];for(let r=e;r&&!["Function","Object"].includes(r.constructor.name);r=Object.getPrototypeOf(r))t.push(r.constructor.name);return t}(e).includes("Error")&&Error?.captureStackTrace(e,Ze),e}const Je=Intl.NumberFormat("en",{notation:"compact"});function Qe(e=0,t=1){return Math.round(Math.random()*(t-e)+e)}Je.format.bind(Je);const et=new TextEncoder;function tt(e){return et.encode(e)}const rt=new TextDecoder;function nt(e){if(!e)return"";if(e.buffer instanceof ArrayBuffer&&!e.buffer.resizable)return rt.decode(e);const t=new Uint8Array(e.byteLength);return t.set(e),rt.decode(t)}function it(e){const t=e.replace(/-/g,""),r=new Uint8Array(16);for(let e=0;e<16;e++)r[e]=parseInt(t.slice(2*e,2*e+2),16);return r}var st;!function(e){e[e.EPERM=1]="EPERM",e[e.ENOENT=2]="ENOENT",e[e.ESRCH=3]="ESRCH",e[e.EINTR=4]="EINTR",e[e.EIO=5]="EIO",e[e.ENXIO=6]="ENXIO",e[e.E2BIG=7]="E2BIG",e[e.ENOEXEC=8]="ENOEXEC",e[e.EBADF=9]="EBADF",e[e.ECHILD=10]="ECHILD",e[e.EAGAIN=11]="EAGAIN",e[e.ENOMEM=12]="ENOMEM",e[e.EACCES=13]="EACCES",e[e.EFAULT=14]="EFAULT",e[e.ENOTBLK=15]="ENOTBLK",e[e.EBUSY=16]="EBUSY",e[e.EEXIST=17]="EEXIST",e[e.EXDEV=18]="EXDEV",e[e.ENODEV=19]="ENODEV",e[e.ENOTDIR=20]="ENOTDIR",e[e.EISDIR=21]="EISDIR",e[e.EINVAL=22]="EINVAL",e[e.ENFILE=23]="ENFILE",e[e.EMFILE=24]="EMFILE",e[e.ETXTBSY=26]="ETXTBSY",e[e.EFBIG=27]="EFBIG",e[e.ENOSPC=28]="ENOSPC",e[e.ESPIPE=29]="ESPIPE",e[e.EROFS=30]="EROFS",e[e.EMLINK=31]="EMLINK",e[e.EPIPE=32]="EPIPE",e[e.EDOM=33]="EDOM",e[e.ERANGE=34]="ERANGE",e[e.EDEADLK=35]="EDEADLK",e[e.ENAMETOOLONG=36]="ENAMETOOLONG",e[e.ENOLCK=37]="ENOLCK",e[e.ENOSYS=38]="ENOSYS",e[e.ENOTEMPTY=39]="ENOTEMPTY",e[e.ELOOP=40]="ELOOP",e[e.ENOMSG=42]="ENOMSG",e[e.EIDRM=43]="EIDRM",e[e.ECHRNG=44]="ECHRNG",e[e.EL2NSYNC=45]="EL2NSYNC",e[e.EL3HLT=46]="EL3HLT",e[e.EL3RST=47]="EL3RST",e[e.ENRNG=48]="ENRNG",e[e.EUNATCH=49]="EUNATCH",e[e.ECSI=50]="ECSI",e[e.EL2HLT=51]="EL2HLT",e[e.EBADE=52]="EBADE",e[e.EBADR=53]="EBADR",e[e.EXFULL=54]="EXFULL",e[e.ENOANO=55]="ENOANO",e[e.EBADRQC=56]="EBADRQC",e[e.EBADSLT=57]="EBADSLT",e[e.EBFONT=59]="EBFONT",e[e.ENOSTR=60]="ENOSTR",e[e.ENODATA=61]="ENODATA",e[e.ETIME=62]="ETIME",e[e.ENOSR=63]="ENOSR",e[e.ENONET=64]="ENONET",e[e.ENOPKG=65]="ENOPKG",e[e.EREMOTE=66]="EREMOTE",e[e.ENOLINK=67]="ENOLINK",e[e.EADV=68]="EADV",e[e.ESRMNT=69]="ESRMNT",e[e.ECOMM=70]="ECOMM",e[e.EPROTO=71]="EPROTO",e[e.EMULTIHOP=72]="EMULTIHOP",e[e.EDOTDOT=73]="EDOTDOT",e[e.EBADMSG=74]="EBADMSG",e[e.EOVERFLOW=75]="EOVERFLOW",e[e.ENOTUNIQ=76]="ENOTUNIQ",e[e.EBADFD=77]="EBADFD",e[e.EREMCHG=78]="EREMCHG",e[e.ELIBACC=79]="ELIBACC",e[e.ELIBBAD=80]="ELIBBAD",e[e.ELIBSCN=81]="ELIBSCN",e[e.ELIBMAX=82]="ELIBMAX",e[e.ELIBEXEC=83]="ELIBEXEC",e[e.EILSEQ=84]="EILSEQ",e[e.ERESTART=85]="ERESTART",e[e.ESTRPIPE=86]="ESTRPIPE",e[e.EUSERS=87]="EUSERS",e[e.ENOTSOCK=88]="ENOTSOCK",e[e.EDESTADDRREQ=89]="EDESTADDRREQ",e[e.EMSGSIZE=90]="EMSGSIZE",e[e.EPROTOTYPE=91]="EPROTOTYPE",e[e.ENOPROTOOPT=92]="ENOPROTOOPT",e[e.EPROTONOSUPPORT=93]="EPROTONOSUPPORT",e[e.ESOCKTNOSUPPORT=94]="ESOCKTNOSUPPORT",e[e.ENOTSUP=95]="ENOTSUP",e[e.EPFNOSUPPORT=96]="EPFNOSUPPORT",e[e.EAFNOSUPPORT=97]="EAFNOSUPPORT",e[e.EADDRINUSE=98]="EADDRINUSE",e[e.EADDRNOTAVAIL=99]="EADDRNOTAVAIL",e[e.ENETDOWN=100]="ENETDOWN",e[e.ENETUNREACH=101]="ENETUNREACH",e[e.ENETRESET=102]="ENETRESET",e[e.ECONNABORTED=103]="ECONNABORTED",e[e.ECONNRESET=104]="ECONNRESET",e[e.ENOBUFS=105]="ENOBUFS",e[e.EISCONN=106]="EISCONN",e[e.ENOTCONN=107]="ENOTCONN",e[e.ESHUTDOWN=108]="ESHUTDOWN",e[e.ETOOMANYREFS=109]="ETOOMANYREFS",e[e.ETIMEDOUT=110]="ETIMEDOUT",e[e.ECONNREFUSED=111]="ECONNREFUSED",e[e.EHOSTDOWN=112]="EHOSTDOWN",e[e.EHOSTUNREACH=113]="EHOSTUNREACH",e[e.EALREADY=114]="EALREADY",e[e.EINPROGRESS=115]="EINPROGRESS",e[e.ESTALE=116]="ESTALE",e[e.EEUCLEAN=117]="EEUCLEAN",e[e.ENOTNAM=118]="ENOTNAM",e[e.ENAVAIL=119]="ENAVAIL",e[e.EISNAM=120]="EISNAM",e[e.EREMOTEIO=121]="EREMOTEIO",e[e.EDQUOT=122]="EDQUOT",e[e.ENOMEDIUM=123]="ENOMEDIUM",e[e.EMEDIUMTYPE=124]="EMEDIUMTYPE",e[e.ECANCELED=125]="ECANCELED",e[e.ENOKEY=126]="ENOKEY",e[e.EKEYEXPIRED=127]="EKEYEXPIRED",e[e.EKEYREVOKED=128]="EKEYREVOKED",e[e.EKEYREJECTED=129]="EKEYREJECTED",e[e.EOWNERDEAD=130]="EOWNERDEAD",e[e.ENOTRECOVERABLE=131]="ENOTRECOVERABLE",e[e.ERFKILL=132]="ERFKILL",e[e.EHWPOISON=133]="EHWPOISON"}(st||(st={}));const at={[st.EPERM]:"Operation not permitted",[st.ENOENT]:"No such file or directory",[st.ESRCH]:"No such process",[st.EINTR]:"Interrupted system call",[st.EIO]:"Input/output error",[st.ENXIO]:"No such device or address",[st.E2BIG]:"Argument list too long",[st.ENOEXEC]:"Exec format error",[st.EBADF]:"Bad file descriptor",[st.ECHILD]:"No child processes",[st.EAGAIN]:"Resource temporarily unavailable",[st.ENOMEM]:"Out of memory",[st.EACCES]:"Permission denied",[st.EFAULT]:"Bad address",[st.ENOTBLK]:"Block device required",[st.EBUSY]:"Resource busy or locked",[st.EEXIST]:"File exists",[st.EXDEV]:"Invalid cross-device link",[st.ENODEV]:"No such device",[st.ENOTDIR]:"File is not a directory",[st.EISDIR]:"File is a directory",[st.EINVAL]:"Invalid argument",[st.ENFILE]:"Too many open files in system",[st.EMFILE]:"Too many open files",[st.ETXTBSY]:"Text file busy",[st.EFBIG]:"File is too big",[st.ENOSPC]:"No space left on disk",[st.ESPIPE]:"Illegal seek",[st.EROFS]:"Cannot modify a read-only file system",[st.EMLINK]:"Too many links",[st.EPIPE]:"Broken pipe",[st.EDOM]:"Numerical argument out of domain",[st.ERANGE]:"Numerical result out of range",[st.EDEADLK]:"Resource deadlock would occur",[st.ENAMETOOLONG]:"File name too long",[st.ENOLCK]:"No locks available",[st.ENOSYS]:"Function not implemented",[st.ENOTEMPTY]:"Directory is not empty",[st.ELOOP]:"Too many levels of symbolic links",[st.ENOMSG]:"No message of desired type",[st.EIDRM]:"Identifier removed",[st.ECHRNG]:"Channel number out of range",[st.EL2NSYNC]:"Level 2 not synchronized",[st.EL3HLT]:"Level 3 halted",[st.EL3RST]:"Level 3 reset",[st.ENRNG]:"Link number out of range",[st.EUNATCH]:"Protocol driver not attached",[st.ECSI]:"No CSI structure available",[st.EL2HLT]:"Level 2 halted",[st.EBADE]:"Invalid exchange",[st.EBADR]:"Invalid request descriptor",[st.EXFULL]:"Exchange full",[st.ENOANO]:"No anode",[st.EBADRQC]:"Invalid request code",[st.EBADSLT]:"Invalid slot",[st.EBFONT]:"Bad font file format",[st.ENOSTR]:"Device not a stream",[st.ENODATA]:"No data available",[st.ETIME]:"Timer expired",[st.ENOSR]:"Out of streams resources",[st.ENONET]:"Machine is not on the network",[st.ENOPKG]:"Package not installed",[st.EREMOTE]:"Object is remote",[st.ENOLINK]:"Link has been severed",[st.EADV]:"Advertise error",[st.ESRMNT]:"Srmount error",[st.ECOMM]:"Communication error on send",[st.EPROTO]:"Protocol error",[st.EMULTIHOP]:"Multihop attempted",[st.EDOTDOT]:"RFS specific error",[st.EBADMSG]:"Bad message",[st.EOVERFLOW]:"Value too large for defined data type",[st.ENOTUNIQ]:"Name not unique on network",[st.EBADFD]:"File descriptor in bad state",[st.EREMCHG]:"Remote address changed",[st.ELIBACC]:"Can not access a needed shared library",[st.ELIBBAD]:"Accessing a corrupted shared library",[st.ELIBSCN]:".lib section in a.out corrupted",[st.ELIBMAX]:"Attempting to link in too many shared libraries",[st.ELIBEXEC]:"Cannot exec a shared library directly",[st.EILSEQ]:"Invalid or incomplete multibyte or wide character",[st.ERESTART]:"Interrupted system call should be restarted",[st.ESTRPIPE]:"Streams pipe error",[st.EUSERS]:"Too many users",[st.ENOTSOCK]:"Socket operation on non-socket",[st.EDESTADDRREQ]:"Destination address required",[st.EMSGSIZE]:"Message too long",[st.EPROTOTYPE]:"Protocol wrong type for socket",[st.ENOPROTOOPT]:"Protocol not available",[st.EPROTONOSUPPORT]:"Protocol not supported",[st.ESOCKTNOSUPPORT]:"Socket type not supported",[st.ENOTSUP]:"Operation is not supported",[st.EPFNOSUPPORT]:"Protocol family not supported",[st.EAFNOSUPPORT]:"Address family not supported by protocol",[st.EADDRINUSE]:"Address already in use",[st.EADDRNOTAVAIL]:"Cannot assign requested address",[st.ENETDOWN]:"Network is down",[st.ENETUNREACH]:"Network is unreachable",[st.ENETRESET]:"Network dropped connection on reset",[st.ECONNABORTED]:"Software caused connection abort",[st.ECONNRESET]:"Connection reset by peer",[st.ENOBUFS]:"No buffer space available",[st.EISCONN]:"Transport endpoint is already connected",[st.ENOTCONN]:"Transport endpoint is not connected",[st.ESHUTDOWN]:"Cannot send after transport endpoint shutdown",[st.ETOOMANYREFS]:"Too many references: cannot splice",[st.ETIMEDOUT]:"Connection timed out",[st.ECONNREFUSED]:"Connection refused",[st.EHOSTDOWN]:"Host is down",[st.EHOSTUNREACH]:"No route to host",[st.EALREADY]:"Operation already in progress",[st.EINPROGRESS]:"Operation now in progress",[st.ESTALE]:"Stale file handle",[st.EEUCLEAN]:"Structure needs cleaning",[st.ENOTNAM]:"Not a XENIX named type file",[st.ENAVAIL]:"No XENIX semaphores available",[st.EISNAM]:"Is a named type file",[st.EREMOTEIO]:"Remote I/O error",[st.EDQUOT]:"Disk quota exceeded",[st.ENOMEDIUM]:"No medium found",[st.EMEDIUMTYPE]:"Wrong medium type",[st.ECANCELED]:"Operation canceled",[st.ENOKEY]:"Required key not available",[st.EKEYEXPIRED]:"Key has expired",[st.EKEYREVOKED]:"Key has been revoked",[st.EKEYREJECTED]:"Key was rejected by service",[st.EOWNERDEAD]:"Owner died",[st.ENOTRECOVERABLE]:"State not recoverable",[st.ERFKILL]:"Operation not possible due to RF-kill",[st.EHWPOISON]:"Memory page has hardware error"};function ot(e){let t=`${e.code}: ${at[e.errno]}, ${e.syscall}`;return e.path&&(t+=` '${e.path}'`),e.dest&&(t+=` -> '${e.dest}'`),e.message&&!e.message.startsWith(at[e.errno])&&(t+=` (${e.message})`),e.message=t,e}class ct extends Error{errno;code;path;dest;syscall;constructor(e,t,r={}){const n=st[e];super(t||""),this.errno=e,this.code=n,Object.assign(this,He(r,"message")),t||ot(this),Error.captureStackTrace?.(this,this.constructor)}toString(){return this.message}toJSON(){const e={errno:this.errno,code:this.code,stack:this.stack,message:this.message};return this.path&&(e.path=this.path),this.dest&&(e.dest=this.dest),this.syscall&&(e.syscall=this.syscall),e}static fromJSON(e){const t=e.syscall?new ct(e.errno,!1,e):new ct(e.errno,e.message);return t.stack=e.stack,t}}function ut(e,t,r,n){"string"==typeof t&&(t={syscall:t,path:r,dest:n});const i=new ct(st[e],!1,t??{});return Error.captureStackTrace?.(i,ut),i}function lt(e,t){const r=new ct(st[e],t??at[st[e]]);return Error.captureStackTrace?.(r,lt),r}function ht(e,t,r){const n="string"==typeof e?{syscall:e}:e;return t&&(n.path=t),r&&(n.dest=r),function(e){throw Object.assign(e,n),ot(e),e}}var ft;!function(e){e[e.EMERG=0]="EMERG",e[e.ALERT=1]="ALERT",e[e.CRIT=2]="CRIT",e[e.ERR=3]="ERR",e[e.WARN=4]="WARN",e[e.NOTICE=5]="NOTICE",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(ft||(ft={}));const dt=["emergency","alert","critical","error","warning","notice","info","debug"];function pt(e){return dt.indexOf(e)}const gt=new Ge;function mt(e,t){if(!Lt)return;const r={level:e,message:t,timestamp:new Date,elapsedMs:performance.now()};gt.add(r),Pt(r)}function yt(e){return function(t){return mt(e,t.toString()),t}}const bt=yt(ft.EMERG),wt=yt(ft.ALERT),vt=yt(ft.CRIT),St=yt(ft.ERR),Et=yt(ft.WARN),_t=yt(ft.NOTICE),It=yt(ft.INFO),xt=yt(ft.DEBUG);function At(e){mt(ft.WARN,e+" is deprecated and should not be used.")}function kt(e,t){return`[${t}m${e}[0m`}function Tt(e){return"["+(e.elapsedMs/1e3).toFixed(3).padStart(10)+"] "}const Mt={ansi:{[ft.EMERG]:"1;4;37;41",[ft.ALERT]:"1;37;41",[ft.CRIT]:"1;35",[ft.ERR]:"1;31",[ft.WARN]:"1;33",[ft.NOTICE]:"1;36",[ft.INFO]:"1;37",[ft.DEBUG]:"0;2;37"},css:{[ft.EMERG]:"font-weight: bold; text-decoration: underline; color: white; background-color: red;",[ft.ALERT]:"font-weight: bold; color: white; background-color: red;",[ft.CRIT]:"font-weight: bold; color: magenta;",[ft.ERR]:"font-weight: bold; color: red;",[ft.WARN]:"font-weight: bold; color: yellow;",[ft.NOTICE]:"font-weight: bold; color: cyan;",[ft.INFO]:"font-weight: bold; color: white;",[ft.DEBUG]:"opacity: 0.8; color: white;"}},Ct={ansi:{[ft.EMERG]:"1;31",[ft.ALERT]:"1;31",[ft.CRIT]:"1;31",[ft.ERR]:"31",[ft.WARN]:"33",[ft.NOTICE]:"1;37",[ft.INFO]:"37",[ft.DEBUG]:"2;37"},css:{[ft.EMERG]:"font-weight: bold; color: red;",[ft.ALERT]:"font-weight: bold; color: red;",[ft.CRIT]:"font-weight: bold; color: red;",[ft.ERR]:"color: red;",[ft.WARN]:"color: yellow;",[ft.NOTICE]:"font-weight: bold; color: white;",[ft.INFO]:"color: white;",[ft.DEBUG]:"opacity: 0.8; color: white;"}};function Rt({style:e,colorize:t}){return function*(r){"css"==e&&(yield"level"==t?"%c%s %c%s":"%c%s %c%s%s %c%s"),yield*"ansi"==e?[kt(Tt(r),"2;37")]:["opacity: 0.8; color: white;",Tt(r)];const n="ansi"==e?[kt(dt[r.level].toUpperCase(),Mt.ansi[r.level])]:[Mt.css[r.level],dt[r.level].toUpperCase()];if("level"==t)return yield*n,void(yield r.message);r.level<ft.CRIT&&(yield*n),"ansi"==e?yield kt(r.message,Ct.ansi[r.level]):yield*[Ct.css[r.level],r.message]}}let Dt=e=>[Tt(e),e.message];function Ot(e){const t=Dt(e);return"string"==typeof t?[t]:Array.from(t)}let Ft=console.error;function Pt(e){e.level>Nt||Ft(...Ot(e))}let Nt=ft.ALERT,Bt=!1,Lt=!0;function Ut(e){if(Dt=e.format??Dt,Ft=e.output??Ft,Nt="string"==typeof e.level?pt(e.level):e.level??Nt,Lt=e.enabled??Lt,Bt=e.stack??Bt,e.dumpBacklog)for(const e of gt)Pt(e)}function Vt(e){return null!=e&&"object"==typeof e&&"create"in e&&"function"==typeof e.create}function jt(e,t){return Object.defineProperty(t,"prototype",{value:void 0}),e&&Object.defineProperty(t,"name",{value:e}),t}function zt(e,t){if("object"!=typeof t||null===t)throw St(lt("EINVAL","Invalid options"));for(const[r,n]of Object.entries(e.options)){const e=t?.[r];if(null==e){if(!n.required){xt("Using default for option: "+r);continue}throw St(lt("EINVAL","Missing required option: "+r))}const i=(t,r=e)=>{return"function"==typeof t?(n=t)&&n.constructor===Function&&void 0!==n.prototype&&(Function.prototype!==Object.getPrototypeOf(n)||Object.getOwnPropertyNames(n.prototype).length>1)?e instanceof t:t(e):typeof e===t||e?.constructor?.name===t;var n};if(Array.isArray(n.type)?n.type.some(e=>i(e)):i(n.type))continue;const s="object"==typeof e&&"constructor"in e?e.constructor.name:typeof e,a=e=>"function"==typeof e?"type"!=e.name?e.name:e.toString():e,o=Array.isArray(n.type)?`one of ${n.type.map(a).join(", ")}`:a(n.type);throw St(lt("EINVAL",`Incorrect type for "${r}": ${s} (expected ${o})`))}}function $t(e){return null!=e&&"object"==typeof e&&"backend"in e&&Vt(e.backend)}function qt(e){return{suid:e.uid,sgid:e.gid,euid:e.uid,egid:e.gid,groups:[],...e}}function Gt(e){return!!e&&(!e.uid||!e.gid||!e.euid||!e.egid||e.groups.some(e=>!e))}const Wt=Symbol("ZenFSContext"),Ht={[Wt]:!0,id:0,root:"/",pwd:"/",credentials:qt({uid:0,gid:0}),descriptors:new Map,parent:null,children:[]};function Xt(e){return"object"==typeof e&&null!==e&&Wt in e?e:Ht}let Yt=1;function Kt(e,t={}){const{root:r=e.root,pwd:n=e.pwd,credentials:i=structuredClone(e.credentials)}=t,s={[Wt]:!0,id:Yt++,root:r,pwd:n,credentials:qt(i),descriptors:new Map,parent:e,children:[]};return Object.defineProperties(s,{id:{configurable:!1,writable:!1},credentials:{configurable:!1,writable:!1},descriptors:{configurable:!1,writable:!1},parent:{configurable:!1,writable:!1},children:{configurable:!1,writable:!1}}),s}const Zt=0,Jt=4,Qt=2,er=1,tr=1,rr=2,nr=4,ir=0,sr=1,ar=2,or=64,cr=128,ur=256,lr=512,hr=1024,fr=65536,dr=262144,pr=131072,gr=1052672,mr=4096,yr=32768,br=16384,wr=2048,vr=61440,Sr=49152,Er=40960,_r=32768,Ir=24576,xr=16384,Ar=8192,kr=4096,Tr=2048,Mr=1024,Cr=512,Rr=448,Dr=256,Or=128,Fr=64,Pr=56,Nr=32,Br=16,Lr=8,Ur=7,Vr=4,jr=2,zr=1,$r=0,qr=4294967295;function Gr(e){class t extends DataView{length;type=e;*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this[e]}constructor(t,r,n){return super("object"==typeof t?t:new ArrayBuffer((t??0)*e.size),r,n),this.length="number"==typeof t?t:Math.floor(this.byteLength/e.size),new Proxy(this,{get(t,r){if(r in t)return t[r];const n=parseInt(r.toString());if(!Number.isSafeInteger(n))throw lt("EINVAL","Invalid index: "+r.toString());return e.get(t.buffer,t.byteOffset+n*e.size)},set(t,r,n){const i=parseInt(r.toString());if(!Number.isSafeInteger(i))throw lt("EINVAL","Invalid index: "+r.toString());return e.set(t.buffer,t.byteOffset+i*e.size,n),!0}})}}for(const e of Object.getOwnPropertyNames(DataView.prototype))(e.startsWith("get")||e.startsWith("set"))&&Object.defineProperty(t.prototype,e,{enumerable:!1,configurable:!1,writable:!1,value:void 0});return t}class Wr{type;length;name;size;__arrayType;constructor(e,t){this.type=e,this.length=t,this.name=`${e.name}[${t}]`,this.size=e.size*t,this.array=Gr(this),this.__arrayType=e.array?e.array:Gr(e)}get=(e,t)=>new this.__arrayType(e,t,this.size);set=(e,t,r)=>{for(let n=0;n<this.length;n++)this.type.set(e,t+n*this.type.size,r[n])};array}function Hr(e){return("object"==typeof e||"function"==typeof e)&&null!=e&&(e instanceof Wr?Hr(e.type):"name"in e&&"size"in e&&"get"in e&&"set"in e&&"string"==typeof e.name&&"number"==typeof e.size&&"function"==typeof e.get&&"function"==typeof e.set&&Xr.has(e.name)&&Xr.get(e.name)?.name===e.name)}const Xr=new Map;function Yr(e){if(Xr.has(e.name))throw new ReferenceError(`Type is already registered: ${e.name}`);Xr.set(e.name,e)}class Kr{type;init;constructor(e,t){this.type=e,this.init=t;const r=r=>new Kr(new Wr(e,r),t);return Object.setPrototypeOf(r,new.target.prototype),Object.assign(r,{type:e,init:t}),r}align(e){return new Kr(this.type,{...this.init,align:e})}countedBy(e){return new Kr(this.type,{...this.init,countedBy:e})}bigEndian(){return new Kr(this.type,{...this.init,bigEndian:!0})}toInit(){return{type:this.type,...this.init}}$type(){return new Kr(this.type,this.init)}}function Zr(e,t=0){return new Kr(new Wr(e,t),{})}function Jr(e,t,r={}){if(!e)throw lt("EINVAL","Invalid name for struct field");"symbol"==typeof e&&console.warn("Symbol used for struct field name will be coerced to string: "+e.toString());const n=e.toString(),i=Object.assign(function(e){return Hr(e)?{type:e}:e instanceof Kr?e.toInit():e}(t),r);if(!Hr(i.type))throw lt("EINVAL",`Invalid type for struct field "${n}"`);return{name:n,offset:0,type:i.type,countedBy:i.countedBy,alignment:i.align??i.type.size,decl:i.type instanceof Wr?`${i.typeName??i.type.type.name} ${n}[${i.type.length}]${i.countedBy?` counted_by(${i.countedBy})`:""}`:`${i.typeName??i.type.name} ${n}`,littleEndian:!i.bigEndian}}function Qr(e){throw"offset is outside the bounds of the DataView"!==e.message?e:lt("EFAULT","Segmentation fault")}function en(e,t,r,n){try{"string"==typeof r&&(r=r.charCodeAt(0));const i=e.byteOffset+t.offset+(n??0)*t.type.size;return void t.type.set(e.buffer,i,r)}catch(e){Qr(e)}}function tn(e,t){try{return t.type.get(e.buffer,e.byteOffset+t.offset)}catch(e){Qr(e)}}const rn=Symbol("DataView");function nn(e){return e[rn]??=new DataView(e),e[rn]}const sn={name:"int8",size:1,array:Int8Array,get:(e,t)=>nn(e).getInt8(t),set:(e,t,r)=>nn(e).setInt8(t,r)},an={name:"uint8",size:1,array:Uint8Array,get:(e,t)=>nn(e).getUint8(t),set:(e,t,r)=>nn(e).setUint8(t,r)},on={int8:sn,uint8:an,int16:{name:"int16",size:2,array:Int16Array,get:(e,t)=>nn(e).getInt16(t,!0),set:(e,t,r)=>nn(e).setInt16(t,r,!0)},uint16:{name:"uint16",size:2,array:Uint16Array,get:(e,t)=>nn(e).getUint16(t,!0),set:(e,t,r)=>nn(e).setUint16(t,r,!0)},int32:{name:"int32",size:4,array:Int32Array,get:(e,t)=>nn(e).getInt32(t,!0),set:(e,t,r)=>nn(e).setInt32(t,r,!0)},uint32:{name:"uint32",size:4,array:Uint32Array,get:(e,t)=>nn(e).getUint32(t,!0),set:(e,t,r)=>nn(e).setUint32(t,r,!0)},int64:{name:"int64",size:8,array:BigInt64Array,get:(e,t)=>nn(e).getBigInt64(t,!0),set:(e,t,r)=>nn(e).setBigInt64(t,r,!0)},uint64:{name:"uint64",size:8,array:BigUint64Array,get:(e,t)=>nn(e).getBigUint64(t,!0),set:(e,t,r)=>nn(e).setBigUint64(t,r,!0)},float32:{name:"float32",size:4,array:Float32Array,get:(e,t)=>nn(e).getFloat32(t,!0),set:(e,t,r)=>nn(e).setFloat32(t,r,!0)},float64:{name:"float64",size:8,array:Float64Array,get:(e,t)=>nn(e).getFloat64(t,!0),set:(e,t,r)=>nn(e).setFloat64(t,r,!0)}},cn=Object.keys(on);for(const e of Object.values(on))Yr(e);const un={...on,...Object.fromEntries(cn.map(e=>{return[(t=e,t.at(0).toUpperCase()+t.slice(1)),on[e]];var t})),char:an},ln=Object.keys(un);function hn(e){return"char"==e?"uint8":e.toLowerCase()}function fn(e){e.metadata??={};const t=e.metadata.structInit??{};return e.metadata.structInit={fields:[...t.fields??[]]},e.metadata.structInit}function dn(e,...t){const r=t.reduce((e,t)=>({...e,...t}),{});return"object"==typeof this&&Object.assign(r,this),function(t,n){const i=fn(n);let s=1;const a={};let o=0;const c=e=>{o=Math.ceil(o/e)*e};for(const e of i.fields)r.isPacked||c(e.alignment),r.isUnion?o=Math.max(o,e.type.size):(e.offset=o,o+=e.type.size),a[e.name]=e,s=Math.max(s,e.alignment);r.alignment??=s,r.isPacked||c(r.alignment),n.metadata.struct={fields:a,size:o,alignment:r.isPacked?1:r.alignment,isUnion:r.isUnion??!1};class u extends t{constructor(...e){e.length||(e=[new ArrayBuffer(o),0,o]),super(...e);for(const e of Object.values(a))Object.defineProperty(this,e.name,{enumerable:!0,configurable:!0,get(){return tn(this,e)},set(t){en(this,e,t)}})}}const l=e=>({writable:!1,enumerable:!1,configurable:!1,value:e});return Object.defineProperties(u,{name:l(e),size:l(o),alignment:l(r.alignment),isUnion:l(!!r.isUnion),fields:l(a),get:l((e,t)=>new u(e,t)),set:l((e,t,r)=>{const n=new Uint8Array(r.buffer,r.byteOffset,o),i=new Uint8Array(e,t,o);if(r.buffer!==e||r.byteOffset!==t)for(let e=0;e<o;e++)i[e]=n[e]}),[Symbol.toStringTag]:l(`[struct ${e}]`)}),Yr(u),u}}function pn(e,t={}){return function(r,n){if("accessor"!=n.kind)throw lt("EINVAL","Field must be an accessor");const i=fn(n),s=Jr(n.name,e,t);return i.fields.push(s),{get(){return tn(this,s)},set(e){en(this,s,e)}}}}function gn(e){const t=on[hn(e)];return function(r,n){return"number"==typeof r?pn(new Wr(t,r),{typeName:e,...n}):pn(t,{typeName:e})(r,n&&"name"in n?n:Ze(lt("EINVAL","Invalid decorator context object")))}}Symbol.metadata??=Symbol.for("Symbol.metadata"),dn.packed=dn.bind({isPacked:!0}),dn.align=function(e){return dn.bind({alignment:e})};const mn=Object.fromEntries(ln.map(e=>[e,gn(e)]));function yn(e){return e}function bn(e){return"function"==typeof e&&"prototype"in e&&"fields"in e&&"object"==typeof e.fields&&Hr(e)}function wn(e,t,...r){const n=r.reduce((e,t)=>({...e,...t}),{});"object"==typeof this&&Object.assign(n,this);let i=1,s=0;const a=e=>{s=Math.ceil(s/e)*e},o=Object.create(null);for(const[e,r]of Object.entries(t)){if("number"==typeof e)throw new TypeError("Field names can not be numbers");const t=Jr(e,r);n.isPacked||a(t.alignment),n.isUnion?s=Math.max(s,t.type.size):(t.offset=s,s+=t.type.size),o[t.name]=t,i=Math.max(i,t.alignment)}n.alignment??=i,n.isPacked||a(n.alignment);class c extends DataView{static name=e;constructor(e=new ArrayBuffer(s),t,r){super(e,t,r??s);for(const e of Object.values(o))Object.defineProperty(this,e.name,{enumerable:!0,configurable:!0,get(){return tn(this,e)},set(t){en(this,e,t)}})}}for(const e of Object.getOwnPropertyNames(DataView.prototype))(e.startsWith("get")||e.startsWith("set"))&&Object.defineProperty(c.prototype,e,{enumerable:!1,configurable:!1,writable:!1,value:void 0});const u=c,l=e=>({writable:!1,enumerable:!1,configurable:!1,value:e});return Object.defineProperties(u,{size:l(s),alignment:l(n.alignment),isUnion:l(!!n.isUnion),fields:l(o),get:l((e,t)=>new u(e,t)),set:l((e,t,r)=>{const n=new Uint8Array(r.buffer,r.byteOffset,s),i=new Uint8Array(e,t,s);if(r.buffer!==e||r.byteOffset!==t)for(let e=0;e<s;e++)i[e]=n[e]}),[Symbol.toStringTag]:l(`[struct ${e}]`)}),Yr(u),u}function vn(e){if(Hr(e))return e.size;if(null==e)return 0;if("object"==typeof e&&Hr(e.constructor))return e.constructor.size;if(Array.isArray(e)){let t=0;for(let r=0;r<e.length;r++)t+=vn(e[r]);return t}if("string"==typeof e)return function(e){if(!function(e){return ln.includes(e.toString())}(e))throw lt("EINVAL","Not a valid primitive type: "+e)}(e),on[hn(e)].size;throw new TypeError(`Unable to resolve size of \`${e.toString()}\``)}function Sn(e,t){if(e.byteLength>=t)return e;if(ArrayBuffer.isView(e)){const r=Sn(e.buffer,t);return new e.constructor(r,e.byteOffset,t)}const r="undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer;if(e.maxByteLength>t)return r?e.grow(t):e.resize(t),e;if(r){const r=new SharedArrayBuffer(t);return new Uint8Array(r).set(new Uint8Array(e)),r}try{return e.transfer(t)}catch{const r=new ArrayBuffer(t);return new Uint8Array(r).set(new Uint8Array(e)),r}}yn.typed=function(e){return e},wn.extend=function(e,t,r,...n){return wn(t,{...e.fields,...r},...n)},wn.packed=wn.bind({isPacked:!0}),wn.align=function(e){return wn.bind({alignment:e})},Object.fromEntries(Object.entries(un).map(([e,t])=>[e,new Kr(t,{typeName:e})]));class En extends DataView{constructor(e,t,r){const{buffer:n,byteOffset:i,byteLength:s}=new Uint8Array(e,t,r);super(n,i,s)}}for(const e of Object.getOwnPropertyNames(DataView.prototype))(e.startsWith("get")||e.startsWith("set"))&&Object.defineProperty(En.prototype,e,{value:()=>{throw new ReferenceError("Do not use DataView methods on a BufferView.")},writable:!1,enumerable:!1,configurable:!1});function _n(e){return JSON.parse(nt(e),(e,t)=>""==e?t:"string"==typeof t?BigInt(t).toString(16).slice(0,Math.min(t.length,8)):t)}function In(e){return tt(JSON.stringify(e))}function xn(e,t){if("number"==typeof e)return e;if("string"==typeof e){const t=parseInt(e,8);if(!isNaN(t))return t}if("number"==typeof t)return t;throw lt("EINVAL","Invalid mode: "+e?.toString())}function An(e){if(e instanceof Date)return e.getTime();try{return Number(e)}catch{throw lt("EINVAL","Invalid time.")}}function kn(e,t=!1){if(e instanceof URL){if("file:"!=e.protocol)throw lt("EINVAL","URLs must use the file: protocol");e=e.pathname}if((e=e.toString()).startsWith("file://")&&(e=e.slice(7)),e.includes("\0"))throw lt("EINVAL","Path can not contain null character");if(0==e.length)throw lt("EINVAL","Path can not be empty");return e=e.replaceAll(/[/\\]+/g,"/"),t?e:Pn.call(this,e)}function Tn(e,t="utf8",r,n=0){return"object"!=typeof e||null===e?{encoding:"string"==typeof e?e:t??null,flag:r,mode:n}:{encoding:"string"==typeof e?.encoding?e.encoding:t??null,flag:"string"==typeof e?.flag?e.flag:r,mode:xn("mode"in e?e?.mode:null,n)}}function Mn(e){return e=e.replace(/([.?+^$(){}|[\]/])/g,"$1").replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\?/g,"."),new RegExp(`^${e}$`)}async function Cn(e){const t=Promise.withResolvers();setTimeout(()=>t.reject(lt("ETIMEDOUT")),500),e.on("online",t.resolve),await t.promise}function Rn(e){return`/tmp/${kn(e,!0)}${Date.now()}-${Math.random().toString(36).slice(2)}`}const Dn="/";function On(e,t){let r="",n=0,i=-1,s=0,a="\0";for(let o=0;o<=e.length;++o){if(o<e.length)a=e[o];else{if("/"==a)break;a="/"}if("/"==a){if(i===o-1||1===s);else if(2===s){if(r.length<2||2!==n||"."!==r.at(-1)||"."!==r.at(-2)){if(r.length>2){const e=r.lastIndexOf("/");-1===e?(r="",n=0):(r=r.slice(0,e),n=r.length-1-r.lastIndexOf("/")),i=o,s=0;continue}if(0!==r.length){r="",n=0,i=o,s=0;continue}}t&&(r+=r.length>0?"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,o):r=e.slice(i+1,o),n=o-i-1;i=o,s=0}else"."===a&&-1!==s?++s:s=-1}return r}function Fn(e){return e?`${"."===e[0]?"":"."}${e}`:""}function Pn(...e){let t="";for(const r of[...e.reverse(),Xt(this).pwd])if(r?.length&&(t=`${r}/${t}`,r.startsWith("/")))break;const r=t.startsWith("/");return t=On(t,!r),r?`/${t}`:t.length?t:"/"}function Nn(e){if(!e.length)return".";const t="/"===e[0],r="/"===e.at(-1);return(e=On(e,!t)).length?(r&&(e+="/"),t?`/${e}`:e):t?"/":r?"./":"."}function Bn(e){return e.startsWith("/")}function Ln(...e){if(!e.length)return".";const t=e.filter(e=>e).join("/");return t?.length?Nn(t):"."}function Un(e,t){if(e===t)return"";if((e=Pn.call(this,e))===(t=Pn.call(this,t)))return"";const r=e.length,n=r-1,i=t.length-1,s=n<i?n:i;let a=-1,o=0;for(;o<s;o++){const r=e[1+o];if(r!==t[1+o])break;"/"===r&&(a=o)}if(o===s)if(i>s){if("/"===t[1+o])return t.slice(1+o+1);if(0===o)return t.slice(1+o)}else n>s&&("/"===e[1+o]?a=o:0===o&&(a=0));let c="";for(o=1+a+1;o<=r;++o)o!==r&&"/"!==e[o]||(c+=0===c.length?"..":"/..");return`${c}${t.slice(1+a)}`}function Vn(e){if(0===e.length)return".";const t="/"===e[0];let r=-1,n=!0;for(let t=e.length-1;t>=1;--t)if("/"===e[t]){if(!n){r=t;break}}else n=!1;return-1===r?t?"/":".":t&&1===r?"//":e.slice(0,r)}function jn(e,t){let r=0,n=-1,i=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(let o=e.length-1;o>=0;--o)if("/"===e[o]){if(!i){r=o+1;break}}else-1===a&&(i=!1,a=o+1),s>=0&&(e[o]===t[s]?-1===--s&&(n=o):(s=-1,n=a));return r===n?n=a:-1===n&&(n=e.length),e.slice(r,n)}for(let t=e.length-1;t>=0;--t)if("/"===e[t]){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}function zn(e){let t=-1,r=0,n=-1,i=!0,s=0;for(let a=e.length-1;a>=0;--a)if("/"!==e[a])-1===n&&(i=!1,n=a+1),"."===e[a]?-1===t?t=a:1!==s&&(s=1):-1!==t&&(s=-1);else if(!i){r=a+1;break}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===r+1?"":e.slice(t,n)}function $n(e){!function(e){if("object"!=typeof e)throw new TypeError('"pathObject" is not an object')}(e);const t=e.dir||e.root,r=e.base||`${e.name||""}${Fn(e.ext)}`;return t?t===e.root?`${t}${r}`:`${t}/${r}`:r}function qn(e){const t="/"===e[0],r={root:t?"/":"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;const n=t?1:0;let i=-1,s=0,a=-1,o=!0,c=e.length-1,u=0;for(;c>=n;--c)if("/"!==e[c])-1===a&&(o=!1,a=c+1),"."===e[c]?-1===i?i=c:1!==u&&(u=1):-1!==i&&(u=-1);else if(!o){s=c+1;break}if(-1!==a){const n=0===s&&t?1:s;-1===i||0===u||1===u&&i===a-1&&i===s+1?r.base=r.name=e.slice(n,a):(r.name=e.slice(n,i),r.base=e.slice(n,a),r.ext=e.slice(i,a))}return s>0?r.dir=e.slice(0,s-1):t&&(r.dir="/"),r}function Gn(e,t){return Mn(e).test(t)}const Wn=BigInt(1e3);class Hn{_convert(e){return this._isBigint?BigInt(e):Number(e)}get blocks(){return this._convert(Math.ceil(Number(this.size)/512))}set blocks(e){}mode;dev=this._convert(0);ino=this._convert(0);rdev=this._convert(0);nlink=this._convert(1);blksize=this._convert(4096);uid=this._convert(0);gid=this._convert(0);atimeMs;get atime(){return new Date(Number(this.atimeMs))}set atime(e){this.atimeMs=this._convert(e.getTime())}mtimeMs;get mtime(){return new Date(Number(this.mtimeMs))}set mtime(e){this.mtimeMs=this._convert(e.getTime())}ctimeMs;get ctime(){return new Date(Number(this.ctimeMs))}set ctime(e){this.ctimeMs=this._convert(e.getTime())}birthtimeMs;get birthtime(){return new Date(Number(this.birthtimeMs))}set birthtime(e){this.birthtimeMs=this._convert(e.getTime())}size;data;flags;version;constructor({atimeMs:e,mtimeMs:t,ctimeMs:r,birthtimeMs:n,uid:i,gid:s,size:a,mode:o,ino:c,...u}={}){const l=Date.now();this.atimeMs=this._convert(e??l),this.mtimeMs=this._convert(t??l),this.ctimeMs=this._convert(r??l),this.birthtimeMs=this._convert(n??l),this.uid=this._convert(i??0),this.gid=this._convert(s??0),this.size=this._convert(a??0),this.ino=this._convert(c??0),this.mode=this._convert(o??420&_r),0==(this.mode&vr)&&(this.mode=this.mode|this._convert(_r)),Object.assign(this,u)}isFile(){return(this.mode&vr)===_r}isDirectory(){return(this.mode&vr)===xr}isSymbolicLink(){return(this.mode&vr)===Er}isSocket(){return(this.mode&vr)===Sr}isBlockDevice(){return(this.mode&vr)===Ir}isCharacterDevice(){return(this.mode&vr)===Ar}isFIFO(){return(this.mode&vr)===kr}toJSON(){return We(this,ii)}hasAccess(e,t){return yi(t,this._isBigint?new Xn(this):this,e)}get atimeNs(){return BigInt(this.atimeMs)*Wn}get mtimeNs(){return BigInt(this.mtimeMs)*Wn}get ctimeNs(){return BigInt(this.ctimeMs)*Wn}get birthtimeNs(){return BigInt(this.birthtimeMs)*Wn}}class Xn extends Hn{_isBigint=!1}class Yn extends Hn{_isBigint=!0}class Kn{type=525687744115;bsize=4096;blocks=0;bfree=0;bavail=0;files=qr;ffree=qr}class Zn{type=BigInt("0x7a656e6673");bsize=BigInt(4096);blocks=BigInt(0);bfree=BigInt(0);bavail=BigInt(0);files=BigInt(qr);ffree=BigInt(qr)}var Jn=function(e,t,r,n,i,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?n.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f=!1,d=r.length-1;d>=0;d--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[d])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(h.get=o),(o=a(m.set))&&(h.set=o),(o=a(m.init))&&i.unshift(o)}else(o=a(m))&&("field"===c?i.unshift(o):h[u]=o)}l&&Object.defineProperty(l,n.name,h),f=!0},Qn=function(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0};const ei=0,ti=3968;let ri=(()=>{var e,t;let r,n,i,s,a=[dn.packed("Attribute")],o=[],c=yn.typed(Uint8Array),u=[],l=[],h=[],f=[];return class extends c{static{n=this}static{const d="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(e=mn).uint32.bind(e)],s=[(t=mn).uint32.bind(t)],Jn(this,null,i,{kind:"accessor",name:"keySize",static:!1,private:!1,access:{has:e=>"keySize"in e,get:e=>e.keySize,set:(e,t)=>{e.keySize=t}},metadata:d},u,l),Jn(this,null,s,{kind:"accessor",name:"valueSize",static:!1,private:!1,access:{has:e=>"valueSize"in e,get:e=>e.valueSize,set:(e,t)=>{e.valueSize=t}},metadata:d},h,f),Jn(null,r={value:n},a,{kind:"class",name:n.name,metadata:d},null,o),n=r.value,d&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:d}),Qn(n,o)}#e=Qn(this,u,void 0);get keySize(){return this.#e}set keySize(e){this.#e=e}#t=(Qn(this,l),Qn(this,h,void 0));get valueSize(){return this.#t}set valueSize(e){this.#t=e}get name(){return nt(this.subarray(8,8+this.keySize))}set name(e){const t=tt(e);if(8+t.length+this.valueSize>ti)throw lt("EOVERFLOW");this.set(t,8),this.keySize=t.length}get value(){return this.subarray(8+this.keySize,this.size)}set value(e){if(8+this.keySize+e.length>ti)throw lt("EOVERFLOW");this.valueSize=e.length,this.set(e,8+this.keySize)}get size(){return 8+this.keySize+this.valueSize}constructor(){super(...arguments),Qn(this,f)}},n})(),ni=(()=>{var e;let t,r,n,i=[dn.packed("Attributes")],s=[],a=En,o=[],c=[];return class extends a{static{r=this}static{const u="function"==typeof Symbol&&Symbol.metadata?Object.create(a[Symbol.metadata]??null):void 0;n=[(e=mn).uint32.bind(e)],Jn(this,null,n,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:u},o,c),Jn(null,t={value:r},i,{kind:"class",name:r.name,metadata:u},null,s),r=t.value,u&&Object.defineProperty(r,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:u}),Qn(r,s)}#r=Qn(this,o,void 0);get size(){return this.#r}set size(e){this.#r=e}get byteSize(){let e=this.byteOffset+vn(this);for(let t=0;t<this.size;t++)e+=new ri(this.buffer,e).size;return e}has(e){let t=this.byteOffset+vn(this);for(let r=0;r<this.size;r++){const r=new ri(this.buffer,t);if(r.name==e)return!0;t+=r.size}return!1}get(e){let t=this.byteOffset+vn(this);for(let r=0;r<this.size;r++){const r=new ri(this.buffer,t);if(r.name==e)return r.value;t+=r.size}}set(e,t){let r,n=this.byteOffset+vn(this);for(let t=0;t<this.size;t++){const t=new ri(this.buffer,n);t.name==e&&(r=[n,t.size]),n+=t.size}const i=new Uint8Array(this.buffer);if(r){const[e,t]=r;n-=t,i.copyWithin(e,e+t,n+t),i.fill(0,n,n+t),this.size--}const s=new ri(this.buffer,n);s.name=e,s.value=t,this.size++}remove(e){let t,r=this.byteOffset+vn(this);for(let n=0;n<this.size;n++){const n=new ri(this.buffer,r);n.name==e&&(t=[r,n.size]),r+=n.size}if(!t)return!1;const[n,i]=t,s=new Uint8Array(this.buffer);return s.copyWithin(n,n+i,r),s.fill(0,r-i,r),this.size--,!0}copyFrom(e){const{byteSize:t}=e;new Uint8Array(this.buffer,this.byteOffset,t).set(new Uint8Array(e.buffer,e.byteOffset,t))}*keys(){let e=this.byteOffset+vn(this);for(let t=0;t<this.size;t++){const t=new ri(this.buffer,e);yield t.name,e+=t.size}}*values(){let e=this.byteOffset+vn(this);for(let t=0;t<this.size;t++){const t=new ri(this.buffer,e);yield t.value,e+=t.size}}*entries(){let e=this.byteOffset+vn(this);for(let t=0;t<this.size;t++){const t=new ri(this.buffer,e);yield[t.name,t.value],e+=t.size}}constructor(){super(...arguments),Qn(this,c)}},r})();const ii=["ino","data","size","mode","flags","nlink","uid","gid","atimeMs","birthtimeMs","mtimeMs","ctimeMs","version"],si=5;var ai;!function(e){e[e.Sync=1]="Sync",e[e.NoAtime=2]="NoAtime",e[e.Append=4]="Append",e[e.Immutable=8]="Immutable",e[e.Dead=16]="Dead",e[e.NoQuota=32]="NoQuota",e[e.Dirsync=64]="Dirsync",e[e.NoCMtime=128]="NoCMtime",e[e.SwapFile=256]="SwapFile",e[e.Private=512]="Private",e[e.IMA=1024]="IMA",e[e.AutoMount=2048]="AutoMount",e[e.NoSec=4096]="NoSec",e[e.DAX=8192]="DAX",e[e.Encrypted=16384]="Encrypted",e[e.CaseFold=32768]="CaseFold",e[e.Verity=65536]="Verity",e[e.KernelFile=131072]="KernelFile"}(ai||(ai={}));const oi=253951,ci=229631;let ui=(()=>{var e,t,r,n,i,s,a,o,c,u,l,h,f,d,p,g;let m,y,b,w,v,S,E,_,I,x,A,k,T,M,C,R,D,O,F,P,N,B=[dn.packed("Inode")],L=[],U=En,V=[],j=[],z=[],$=[],q=[],G=[],W=[],H=[],X=[],Y=[],K=[],Z=[],J=[],Q=[],ee=[],te=[],re=[],ne=[],ie=[],se=[],ae=[],oe=[],ce=[],ue=[],le=[],he=[],fe=[],de=[],pe=[],ge=[],me=[],ye=[],be=[],we=[],ve=[],Se=[],Ee=[],_e=[];var Ie=class extends U{static{y=this}static{const xe="function"==typeof Symbol&&Symbol.metadata?Object.create(U[Symbol.metadata]??null):void 0;b=[(e=mn).uint32.bind(e)],w=[(t=mn).uint32.bind(t)],v=[(r=mn).uint32.bind(r)],S=[(n=mn).uint16.bind(n)],E=[(i=mn).uint32.bind(i)],_=[(s=mn).uint32.bind(s)],I=[(a=mn).uint32.bind(a)],x=[(o=mn).float64.bind(o)],A=[(c=mn).float64.bind(c)],k=[(u=mn).float64.bind(u)],T=[(l=mn).float64.bind(l)],M=[(h=mn).uint32.bind(h)],C=[(f=mn).uint32.bind(f)],R=[(d=mn).uint32.bind(d)],D=[(p=mn).uint16.bind(p)],O=[(g=mn).uint32.bind(g)],F=[mn.uint8(48)],P=[pn(ni)],N=[mn.uint8(ti)],Jn(this,null,b,{kind:"accessor",name:"data",static:!1,private:!1,access:{has:e=>"data"in e,get:e=>e.data,set:(e,t)=>{e.data=t}},metadata:xe},V,j),Jn(this,null,w,{kind:"accessor",name:"__data_old",static:!1,private:!1,access:{has:e=>"__data_old"in e,get:e=>e.__data_old,set:(e,t)=>{e.__data_old=t}},metadata:xe},z,$),Jn(this,null,v,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:xe},q,G),Jn(this,null,S,{kind:"accessor",name:"mode",static:!1,private:!1,access:{has:e=>"mode"in e,get:e=>e.mode,set:(e,t)=>{e.mode=t}},metadata:xe},W,H),Jn(this,null,E,{kind:"accessor",name:"nlink",static:!1,private:!1,access:{has:e=>"nlink"in e,get:e=>e.nlink,set:(e,t)=>{e.nlink=t}},metadata:xe},X,Y),Jn(this,null,_,{kind:"accessor",name:"uid",static:!1,private:!1,access:{has:e=>"uid"in e,get:e=>e.uid,set:(e,t)=>{e.uid=t}},metadata:xe},K,Z),Jn(this,null,I,{kind:"accessor",name:"gid",static:!1,private:!1,access:{has:e=>"gid"in e,get:e=>e.gid,set:(e,t)=>{e.gid=t}},metadata:xe},J,Q),Jn(this,null,x,{kind:"accessor",name:"atimeMs",static:!1,private:!1,access:{has:e=>"atimeMs"in e,get:e=>e.atimeMs,set:(e,t)=>{e.atimeMs=t}},metadata:xe},ee,te),Jn(this,null,A,{kind:"accessor",name:"birthtimeMs",static:!1,private:!1,access:{has:e=>"birthtimeMs"in e,get:e=>e.birthtimeMs,set:(e,t)=>{e.birthtimeMs=t}},metadata:xe},re,ne),Jn(this,null,k,{kind:"accessor",name:"mtimeMs",static:!1,private:!1,access:{has:e=>"mtimeMs"in e,get:e=>e.mtimeMs,set:(e,t)=>{e.mtimeMs=t}},metadata:xe},ie,se),Jn(this,null,T,{kind:"accessor",name:"ctimeMs",static:!1,private:!1,access:{has:e=>"ctimeMs"in e,get:e=>e.ctimeMs,set:(e,t)=>{e.ctimeMs=t}},metadata:xe},ae,oe),Jn(this,null,M,{kind:"accessor",name:"ino",static:!1,private:!1,access:{has:e=>"ino"in e,get:e=>e.ino,set:(e,t)=>{e.ino=t}},metadata:xe},ce,ue),Jn(this,null,C,{kind:"accessor",name:"__ino_old",static:!1,private:!1,access:{has:e=>"__ino_old"in e,get:e=>e.__ino_old,set:(e,t)=>{e.__ino_old=t}},metadata:xe},le,he),Jn(this,null,R,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:e=>"flags"in e,get:e=>e.flags,set:(e,t)=>{e.flags=t}},metadata:xe},fe,de),Jn(this,null,D,{kind:"accessor",name:"__after_flags",static:!1,private:!1,access:{has:e=>"__after_flags"in e,get:e=>e.__after_flags,set:(e,t)=>{e.__after_flags=t}},metadata:xe},pe,ge),Jn(this,null,O,{kind:"accessor",name:"version",static:!1,private:!1,access:{has:e=>"version"in e,get:e=>e.version,set:(e,t)=>{e.version=t}},metadata:xe},me,ye),Jn(this,null,F,{kind:"accessor",name:"__padding",static:!1,private:!1,access:{has:e=>"__padding"in e,get:e=>e.__padding,set:(e,t)=>{e.__padding=t}},metadata:xe},be,we),Jn(this,null,P,{kind:"accessor",name:"attributes",static:!1,private:!1,access:{has:e=>"attributes"in e,get:e=>e.attributes,set:(e,t)=>{e.attributes=t}},metadata:xe},ve,Se),Jn(this,null,N,{kind:"accessor",name:"__data",static:!1,private:!1,access:{has:e=>"__data"in e,get:e=>e.__data,set:(e,t)=>{e.__data=t}},metadata:xe},Ee,_e),Jn(null,m={value:y},B,{kind:"class",name:y.name,metadata:xe},null,L),Ie=y=m.value,xe&&Object.defineProperty(y,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:xe}),Qn(y,L)}constructor(...e){let t={};if("object"!=typeof e[0]||null===e[0]||ArrayBuffer.isView(e[0])||(t=e[0],e=[vn(Ie)]),super(...e),Qn(this,_e),this.byteLength<vn(Ie))throw vt(lt("EIO",`Buffer is too small to create an inode (${this.byteLength} bytes)`));Object.assign(this,t),this.atimeMs||=Date.now(),this.mtimeMs||=Date.now(),this.ctimeMs||=Date.now(),this.birthtimeMs||=Date.now(),this.ino&&!this.nlink&&Et(`Inode ${this.ino} has an nlink of 0`)}#n=Qn(this,V,void 0);get data(){return this.#n}set data(e){this.#n=e}#i=(Qn(this,j),Qn(this,z,void 0));get __data_old(){return this.#i}set __data_old(e){this.#i=e}#r=(Qn(this,$),Qn(this,q,void 0));get size(){return this.#r}set size(e){this.#r=e}#s=(Qn(this,G),Qn(this,W,void 0));get mode(){return this.#s}set mode(e){this.#s=e}#a=(Qn(this,H),Qn(this,X,void 0));get nlink(){return this.#a}set nlink(e){this.#a=e}#o=(Qn(this,Y),Qn(this,K,void 0));get uid(){return this.#o}set uid(e){this.#o=e}#c=(Qn(this,Z),Qn(this,J,void 0));get gid(){return this.#c}set gid(e){this.#c=e}#u=(Qn(this,Q),Qn(this,ee,void 0));get atimeMs(){return this.#u}set atimeMs(e){this.#u=e}#l=(Qn(this,te),Qn(this,re,void 0));get birthtimeMs(){return this.#l}set birthtimeMs(e){this.#l=e}#h=(Qn(this,ne),Qn(this,ie,void 0));get mtimeMs(){return this.#h}set mtimeMs(e){this.#h=e}#f=(Qn(this,se),Qn(this,ae,void 0));get ctimeMs(){return this.#f}set ctimeMs(e){this.#f=e}#d=(Qn(this,oe),Qn(this,ce,void 0));get ino(){return this.#d}set ino(e){this.#d=e}#p=(Qn(this,ue),Qn(this,le,void 0));get __ino_old(){return this.#p}set __ino_old(e){this.#p=e}#g=(Qn(this,he),Qn(this,fe,void 0));get flags(){return this.#g}set flags(e){this.#g=e}#m=(Qn(this,de),Qn(this,pe,void 0));get __after_flags(){return this.#m}set __after_flags(e){this.#m=e}#y=(Qn(this,ge),Qn(this,me,void 0));get version(){return this.#y}set version(e){this.#y=e}#b=(Qn(this,ye),Qn(this,be,void 0));get __padding(){return this.#b}set __padding(e){this.#b=e}#w=(Qn(this,we),Qn(this,ve,void 0));get attributes(){return this.#w}set attributes(e){this.#w=e}#v=(Qn(this,Se),Qn(this,Ee,void 0));get __data(){return this.#v}set __data(e){this.#v=e}toString(){return`<Inode ${this.ino}>`}toJSON(){return{...We(this,ii),attributes:this.attributes}}toStats(){return new Xn(this)}update(e){if(!e)return!1;let t=!1;for(const r of ii)void 0!==e[r]&&"ino"!=r&&"data"!=r&&this[r]!==e[r]&&("atimeMs"==r&&this.flags&ai.NoAtime||(this[r]=e[r],t=!0));return e.attributes&&(this.attributes.copyFrom(e.attributes),t=!0),t&&(this.ctimeMs=Date.now()),t}};return Ie=y})();function li(e){return(e.mode&vr)===_r}function hi(e){return(e.mode&vr)===xr}function fi(e){return(e.mode&vr)===Er}function di(e){return(e.mode&vr)===Sr}function pi(e){return(e.mode&vr)===Ir}function gi(e){return(e.mode&vr)===Ar}function mi(e){return(e.mode&vr)===kr}function yi(e,t,r){const{credentials:n}=Xt(e);if(fi(t)||0===n.euid||0===n.egid)return!0;let i=0;return n.uid===t.uid&&(t.mode&Dr&&(i|=Jt),t.mode&Or&&(i|=Qt),t.mode&Fr&&(i|=er)),(n.gid===t.gid||n.groups.includes(Number(t.gid)))&&(t.mode&Nr&&(i|=Jt),t.mode&Br&&(i|=Qt),t.mode&Lr&&(i|=er)),t.mode&Vr&&(i|=Jt),t.mode&jr&&(i|=Qt),t.mode&zr&&(i|=er),(i&r)===r}function bi(e,t,r){let n=!0;return!isNaN(t)&&t>=0&&t<qr?e.uid=t:n=!1,!isNaN(r)&&r>=0&&r<qr?e.gid=r:n=!1,n}const wi=1;class vi extends Map{maxSize=qr;toJSON(){return{version:wi,maxSize:this.maxSize,entries:Object.fromEntries([...this].map(([e,t])=>[e,t.toJSON()]))}}toString(){return JSON.stringify(this.toJSON())}get byteSize(){let e=this.size*vn(ui);for(const t of this.values())e+=t.size;return e}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.byteSize}}pathOf(e){for(const[t,r]of this)if(r.ino==e||r.data==e)return t}getByID(e){return this.entryByID(e)?.inode}entryByID(e){for(const[t,r]of this)if(r.ino==e||r.data==e)return{path:t,inode:r}}directoryEntries(e){const t=this.get(e);if(!t)throw lt("ENOENT");if((t.mode&vr)!=xr)throw lt("ENOTDIR");const r={};for(const t of this.keys())Vn(t)==e&&t!=e&&(r[jn(t)]=this.get(t).ino);return r}_alloc(){return Math.max(...[...this.values()].flatMap(e=>[e.ino,e.data]))+1}directories(){const e=new Map;for(const[t,r]of this){if((r.mode&vr)!=xr)continue;const n={};for(const e of this.keys())Vn(e)==t&&e!=t&&(n[jn(e)]=this.get(e).ino);e.set(t,n)}return e}fromJSON(e){if(e.version!=wi)throw lt("EINVAL","Index version mismatch");this.clear();for(const[t,r]of Object.entries(e.entries))r.data??=Qe(1,qr),"/"==t&&(r.ino=0),this.set(t,new ui(r));return this}static parse(e){if(!Xe(e))throw lt("EINVAL","Invalid JSON");const t=JSON.parse(e),r=new vi;return r.fromJSON(t),r}}const Si=4096;class Ei{type;name;label;_mountPoint;_uuid=crypto.randomUUID();get uuid(){return this._uuid}attributes=new Map;constructor(e,t){this.type=e,this.name=t,this.streamRead===Ei.prototype.streamRead&&this.attributes.set("default_stream_read"),this.streamWrite===Ei.prototype.streamWrite&&this.attributes.set("default_stream_write")}toString(){return`${this.name} ${this.label?JSON.stringify(this.label):""} (${this._mountPoint?"mounted on "+this._mountPoint:"unmounted"})`}usage(){return{totalSpace:0,freeSpace:0}}async ready(){}async exists(e){try{return await this.stat(e),!0}catch(e){return"ENOENT"!=e.code}}existsSync(e){try{return this.statSync(e),!0}catch(e){return"ENOENT"!=e.code}}streamRead(e,t){return new ReadableStream({start:async r=>{const{size:n}=await this.stat(e),{start:i=0,end:s=n}=t;for(let t=i;t<s;t+=Si){const n=t+Si>s?s-t:Si,i=new Uint8Array(n);await this.read(e,i,t,t+n).catch(r.error.bind(r)),r.enqueue(i)}r.close()},type:"bytes"})}streamWrite(e,t){let r=t.start??0;return new WritableStream({write:async(t,n)=>{let i=!1;const s=e=>{i=!0,n.error(e)},{size:a}=await this.stat(e);await this.write(e,t,r).catch(s),i||(r+=t.byteLength,await this.touch(e,{mtimeMs:Date.now(),size:Math.max(a,r)}).catch(s))}})}}function _i(e){const t=e.readySync;if("function"!=typeof t){if(e.ready!==Ei.prototype.ready)throw lt("ENOTSUP","Synchronous initialization is not supported by "+e.name)}else t.call(e)}class Ii{id;_size;options;regions=[];get size(){return this._size}set size(e){if(e>=this._size)this._size=e;else{this._size=e;for(let t=this.regions.length-1;t>=0;t--){const r=this.regions[t];if(r.offset>=e){this.regions.splice(t,1);continue}const n=e-r.offset;r.data.byteLength>n&&(r.data=r.data.subarray(0,n)),r.ranges=r.ranges.filter(t=>t.start<e).map(t=>t.end>e?{start:t.start,end:e}:t)}}}constructor(e,t,r,n){this.id=e,this._size=t,this.options=r,r.sparse??=!0,r.sparse||this.regions.push({offset:0,data:new Uint8Array(t),ranges:[]}),n?.set(e,this)}collect(){if(!this.options.sparse)return;const{regionGapThreshold:e=4095}=this.options;for(let t=0;t<this.regions.length-1;){const r=this.regions[t],n=this.regions[t+1];n.offset-(r.offset+r.data.byteLength)>e?t++:(r.ranges.push(...n.ranges),r.ranges.sort((e,t)=>e.start-t.start),r.ranges=r.ranges.reduce((e,t)=>(!e.length||e.at(-1).end<t.start?e.push(t):e.at(-1).end=Math.max(e.at(-1).end,t.end),e),[]),r.data=Sn(r.data,n.offset+n.data.byteLength),r.data.set(n.data,n.offset-r.offset),this.regions.splice(t+1,1))}}missing(e,t){const r=[];for(const n of this.regions){if(n.offset>=t)break;for(const i of n.ranges)if(!(i.end<=e)){if(i.start>=t)break;if(i.start>e&&r.push({start:e,end:Math.min(i.start,t)}),i.end>e&&(e=Math.max(e,i.end)),e>=t)break}if(e>=t)break}return e<t&&r.push({start:e,end:t}),r}cached(e,t){const r=[];for(const n of this.regions){if(n.offset>=t)break;for(const i of n.ranges)if(!(i.end<=e)){if(i.start>=t)break;r.push({start:Math.max(e,i.start),end:Math.min(t,i.end)})}}r.sort((e,t)=>e.start-t.start);const n=[];for(const e of r){const t=n.at(-1);t&&e.start<=t.end?t.end=Math.max(t.end,e.end):n.push(e)}return n}regionAt(e){if(this.regions.length)for(const t of this.regions){if(t.offset>e)break;if(e>=t.offset&&e<t.offset+t.data.byteLength)return t}}add(e,t){const r=t+e.byteLength,n=this.regionAt(t);if(n)return n.data=Sn(n.data,r),n.data.set(e,t),n.ranges.push({start:t,end:r}),n.ranges.sort((e,t)=>e.start-t.start),this.collect(),this;const i={data:e,offset:t,ranges:[{start:t,end:r}]},s=this.regions.findIndex(e=>e.offset>t);return-1==s?this.regions.push(i):this.regions.splice(s,0,i),this.collect(),this}}Promise.withResolvers??=(Et("Using a polyfill of Promise.withResolvers"),function(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});return{promise:r,resolve:e,reject:t}}),Symbol.dispose??=(Et("Using a polyfill of Symbol.dispose"),Symbol("Symbol.dispose")),Symbol.asyncDispose??=(Et("Using a polyfill of Symbol.asyncDispose"),Symbol("Symbol.asyncDispose")),globalThis.crypto.randomUUID??=(Et("Using a polyfill of crypto.randomUUID"),function(){const e=crypto.getRandomValues(new Uint8Array(16));e[6]=15&e[6]|64,e[8]=63&e[8]|128;const t=[...e].map(e=>e.toString(16).padStart(2,"0")).join("");return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20)}`}),Uint8Array.prototype.toBase64??=(Et("Using a polyfill of Uint8Array.prototype.toBase64"),function(){return btoa(String.fromCharCode(...this))}),Uint8Array.fromBase64??=(Et("Using a polyfill of Uint8Array.fromBase64"),function(e){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}),Uint8Array.prototype.toHex??=(Et("Using a polyfill of Uint8Array.prototype.toHex"),function(){return[...this].map(e=>e.toString(16).padStart(2,"0")).join("")}),Uint8Array.fromHex??=(Et("Using a polyfill of Uint8Array.fromHex"),function(e){const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return t});class xi{store;constructor(e){this.store=e}}class Ai extends xi{async get(e,t,r){return this.getSync(e,t,r)}async set(e,t,r){return this.setSync(e,t,r)}async remove(e){return this.removeSync(e)}}class ki extends xi{asyncDone=Promise.resolve();async(e){this.asyncDone=this.asyncDone.then(()=>e)}_cached(e,t){this.store.cache??=new Map;const r=this.store.cache.get(e);return r?(t&&(r.size=t.size),r):t?new Ii(e,t.size,{},this.store.cache):void 0}getSync(e,t,r){const n=this._cached(e);if(!n)return;r??=n.size;const i=n.missing(t,r);for(const{start:t,end:r}of i)this.async(this.get(e,t,r));if(i.length)throw lt("EAGAIN");const s=n.regionAt(t);if(s)return s.data.subarray(t-s.offset,r-s.offset);Et("Missing cache region for "+e)}setSync(e,t,r){this.async(this.set(e,t,r))}removeSync(e){this.async(this.remove(e)),this.store.cache?.delete(e)}}class Ti{raw;fs;done=!1;flag(e){return this.raw.store.flags?.includes(e)??!1}constructor(e,t){this.raw=e,this.fs=t}originalData=new Map;modifiedKeys=new Set;keys(){return this.raw.keys()}async get(e,t=0,r){const n=await this.raw.get(e,t,r);return this.stash(e),n}getSync(e,t=0,r){const n=this.raw.getSync(e,t,r);return this.stash(e),n}async set(e,t,r=0){await this.markModified(e,r,t.byteLength);const n=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength);await this.raw.set(e,n,r)}setSync(e,t,r=0){this.markModifiedSync(e,r,t.byteLength);const n=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength);this.raw.setSync(e,n,r)}async remove(e){await this.markModified(e,0,void 0),await this.raw.remove(e)}removeSync(e){this.markModifiedSync(e,0,void 0),this.raw.removeSync(e)}commit(){return this.done=!0,Promise.resolve()}commitSync(){this.done=!0}async abort(){if(!this.done){for(const[e,t]of this.originalData)if(this.modifiedKeys.has(e))if(t.some(e=>!e.data))await this.raw.remove(e),this.fs._remove(e);else for(const r of t.reverse())await this.raw.set(e,r.data,r.offset);this.done=!0}}abortSync(){if(!this.done){for(const[e,t]of this.originalData)if(this.modifiedKeys.has(e))if(t.some(e=>!e.data))this.raw.removeSync(e),this.fs._remove(e);else for(const r of t.reverse())this.raw.setSync(e,r.data,r.offset);this.done=!0}}async[Symbol.asyncDispose](){this.done||await this.abort()}[Symbol.dispose](){this.done||this.abortSync()}stash(e,t,r=0){this.originalData.has(e)||this.originalData.set(e,[]),this.originalData.get(e).push({data:t,offset:r})}async markModified(e,t,r){this.modifiedKeys.add(e);const n=r?t+r:void 0;try{this.stash(e,await this.raw.get(e,t,n),t)}catch(r){if(!(this.raw instanceof ki))throw r;const i=this.raw._cached(e);if(!i)throw r;for(const r of i.cached(t,n??t))this.stash(e,await this.raw.get(e,r.start,r.end),r.start)}}markModifiedSync(e,t,r){this.modifiedKeys.add(e);const n=r?t+r:void 0;try{this.stash(e,this.raw.getSync(e,t,n),t)}catch(r){if(!(this.raw instanceof ki))throw r;const i=this.raw._cached(e);if(!i)throw r;for(const r of i.cached(t,n??t))this.stash(e,this.raw.getSync(e,r.start,r.end),r.start)}}}var Mi=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},Ci=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,function(t){return r(t),e()})}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class Ri extends Ei{store;_ids=new Map([["/",0]]);_paths=new Map([[0,new Set("/")]]);_path(e){const[t]=this._paths.get(e)??[];return t}_add(e,t){this._paths.has(e)||this._paths.set(e,new Set),this._paths.get(e).add(t),this._ids.set(t,e)}_remove(e){for(const t of this._paths.get(e)??[])this._ids.delete(t);this._paths.delete(e)}_move(e,t){const r=[];for(const[n,i]of this._ids){const s=Un(e,n);if(s.startsWith(".."))continue;let a=Ln(t,s);a.endsWith("/")&&(a=a.slice(0,-1)),r.push({oldKey:n,newKey:a,ino:i})}for(const{oldKey:e,newKey:t,ino:n}of r){this._ids.delete(e),this._ids.set(t,n);const r=this._paths.get(n);r?(r.delete(e),r.add(t)):Et("Missing paths in table for ino "+n)}}_initialized=!1;async ready(){this._initialized||(this.attributes.has("no_async_preload")||this.checkRootSync(),await this.checkRoot(),await this._populate(),this._initialized=!0)}readySync(){this._initialized||(this.attributes.has("no_async_preload")||this.checkRootSync(),this.checkRootSync(),this._populateSync(),this._initialized=!0)}constructor(e){super(e.type??1802921587,e.name),this.store=e,e.fs=this,this._uuid=e.uuid??this.uuid,this.label=e.label,xt(this.name+": supports features: "+this.store.flags?.join(", "))}usage(){return this.store.usage?.()||{totalSpace:0,freeSpace:0}}async loadIndex(e){const t={stack:[],error:void 0,hasError:!1};try{const r=Mi(t,this.transaction(),!0),n=e.directories();for(const[t,i]of e)this._add(i.ino,t),await r.set(i.ino,i),n.has(t)&&await r.set(i.data,In(n.get(t)));await r.commit()}catch(e){t.error=e,t.hasError=!0}finally{const e=Ci(t);e&&await e}}loadIndexSync(e){const t={stack:[],error:void 0,hasError:!1};try{const r=Mi(t,this.transaction(),!1),n=e.directories();for(const[t,i]of e)this._add(i.ino,t),r.setSync(i.ino,i),n.has(t)&&r.setSync(i.data,In(n.get(t)));r.commitSync()}catch(e){t.error=e,t.hasError=!0}finally{Ci(t)}}async createIndex(){const e={stack:[],error:void 0,hasError:!1};try{const t=new vi,r=Mi(e,this.transaction(),!0),n=[["/",0]],i=Ke(lt("EDEADLK"));for(;n.length;){const[e,i]=n.shift(),s=new ui(await r.get(i));if(t.set(e,s),s.mode&xr){const t=_n(await r.get(s.data)??Ze(lt("ENODATA")));for(const[r,i]of Object.entries(t))n.push([Ln(e,r),i])}}return i(),t}catch(t){e.error=t,e.hasError=!0}finally{const t=Ci(e);t&&await t}}createIndexSync(){const e={stack:[],error:void 0,hasError:!1};try{const t=new vi,r=Mi(e,this.transaction(),!1),n=[["/",0]],i=Ke(lt("EDEADLK"));for(;n.length;){const[e,i]=n.shift(),s=new ui(r.getSync(i));if(t.set(e,s),s.mode&xr){const t=_n(r.getSync(s.data)??Ze(lt("ENODATA")));for(const[r,i]of Object.entries(t))n.push([Ln(e,r),i])}}return i(),t}catch(t){e.error=t,e.hasError=!0}finally{Ci(e)}}async rename(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Mi(r,this.transaction(),!0),i=qn(e),s=qn(t),a=await this.findInode(n,i.dir),o=_n(await n.get(a.data)??Ze(lt("ENODATA")));if(!o[i.base])throw lt("ENOENT");const c=o[i.base];if(c!=this._ids.get(e)&&St(`Ino mismatch while renaming ${e} to ${t}`),delete o[i.base],(s.dir+"/").startsWith(e+"/"))throw lt("EBUSY");const u=s.dir==i.dir,l=u?a:await this.findInode(n,s.dir),h=u?o:_n(await n.get(l.data)??Ze(lt("ENODATA")));if(h[s.base]){const e=new ui(await n.get(h[s.base])??Ze(lt("ENOENT")));if(!li(e))throw lt("EISDIR");await n.remove(e.data),await n.remove(h[s.base])}h[s.base]=c,await n.set(a.data,In(o)),await n.set(l.data,In(h)),await n.commit(),this._move(e,t)}catch(e){r.error=e,r.hasError=!0}finally{const e=Ci(r);e&&await e}}renameSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Mi(r,this.transaction(),!1),i=qn(e),s=qn(t),a=this.findInodeSync(n,i.dir),o=_n(n.getSync(a.data)??Ze(lt("ENODATA")));if(!o[i.base])throw lt("ENOENT");const c=o[i.base];if(c!=this._ids.get(e)&&St(`Ino mismatch while renaming ${e} to ${t}`),delete o[i.base],(s.dir+"/").startsWith(e+"/"))throw lt("EBUSY");const u=s.dir===i.dir,l=u?a:this.findInodeSync(n,s.dir),h=u?o:_n(n.getSync(l.data)??Ze(lt("ENODATA")));if(h[s.base]){const e=new ui(n.getSync(h[s.base])??Ze(lt("ENOENT")));if(!li(e))throw lt("EISDIR");n.removeSync(e.data),n.removeSync(h[s.base])}h[s.base]=c,n.setSync(a.data,In(o)),n.setSync(l.data,In(h)),n.commitSync(),this._move(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Ci(r)}}async stat(e){const t={stack:[],error:void 0,hasError:!1};try{const r=Mi(t,this.transaction(),!0);return await this.findInode(r,e)}catch(e){t.error=e,t.hasError=!0}finally{const e=Ci(t);e&&await e}}statSync(e){const t={stack:[],error:void 0,hasError:!1};try{const r=Mi(t,this.transaction(),!1);return this.findInodeSync(r,e)}catch(e){t.error=e,t.hasError=!0}finally{Ci(t)}}async touch(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Mi(r,this.transaction(),!0),i=await this.findInode(n,e);i.update(t)&&(this._add(i.ino,e),n.setSync(i.ino,i)),await n.commit()}catch(e){r.error=e,r.hasError=!0}finally{const e=Ci(r);e&&await e}}touchSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Mi(r,this.transaction(),!1),i=this.findInodeSync(n,e);i.update(t)&&(this._add(i.ino,e),n.setSync(i.ino,i)),n.commitSync()}catch(e){r.error=e,r.hasError=!0}finally{Ci(r)}}async createFile(e,t){return t.mode|=_r,await this.commitNew(e,t,new Uint8Array)}createFileSync(e,t){return t.mode|=_r,this.commitNewSync(e,t,new Uint8Array)}async unlink(e){return this.remove(e,!1)}unlinkSync(e){this.removeSync(e,!1)}async rmdir(e){if((await this.readdir(e)).length)throw lt("ENOTEMPTY");await this.remove(e,!0)}rmdirSync(e){if(this.readdirSync(e).length)throw lt("ENOTEMPTY");this.removeSync(e,!0)}async mkdir(e,t){return t.mode|=xr,await this.commitNew(e,t,tt("{}"))}mkdirSync(e,t){return t.mode|=xr,this.commitNewSync(e,t,tt("{}"))}async readdir(e){const t={stack:[],error:void 0,hasError:!1};try{const r=Mi(t,this.transaction(),!0),n=await this.findInode(r,e);return Object.keys(_n(await r.get(n.data)??Ze(lt("ENOENT"))))}catch(e){t.error=e,t.hasError=!0}finally{const e=Ci(t);e&&await e}}readdirSync(e){const t={stack:[],error:void 0,hasError:!1};try{const r=Mi(t,this.transaction(),!1),n=this.findInodeSync(r,e);return Object.keys(_n(r.getSync(n.data)??Ze(lt("ENOENT"))))}catch(e){t.error=e,t.hasError=!0}finally{Ci(t)}}async sync(){}syncSync(){}async link(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Mi(r,this.transaction(),!0),i=Vn(t),s=await this.findInode(n,i),a=_n(await n.get(s.data)??Ze(lt("ENOENT"))),o=await this.findInode(n,e);o.nlink++,a[jn(t)]=o.ino,this._add(o.ino,t),await n.set(o.ino,o),await n.set(s.data,In(a)),await n.commit()}catch(e){r.error=e,r.hasError=!0}finally{const e=Ci(r);e&&await e}}linkSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Mi(r,this.transaction(),!1),i=Vn(t),s=this.findInodeSync(n,i),a=_n(n.getSync(s.data)??Ze(lt("ENOENT"))),o=this.findInodeSync(n,e);o.nlink++,a[jn(t)]=o.ino,this._add(o.ino,t),n.setSync(o.ino,o),n.setSync(s.data,In(a)),n.commitSync()}catch(e){r.error=e,r.hasError=!0}finally{Ci(r)}}async read(e,t,r,n){const i={stack:[],error:void 0,hasError:!1};try{const s=Mi(i,this.transaction(),!0),a=await this.findInode(s,e);if(0==a.size)return;const o=await s.get(a.data,r,n)??Ze(lt("ENODATA")),c=s.flag("partial")?o:o.subarray(r,n);c.byteLength>t.byteLength&&St(`Trying to place ${c.byteLength} bytes into a ${t.byteLength} byte buffer on read`),t.set(c)}catch(e){i.error=e,i.hasError=!0}finally{const e=Ci(i);e&&await e}}readSync(e,t,r,n){const i={stack:[],error:void 0,hasError:!1};try{const s=Mi(i,this.transaction(),!1),a=this.findInodeSync(s,e);if(0==a.size)return;const o=s.getSync(a.data,r,n)??Ze(lt("ENODATA")),c=s.flag("partial")?o:o.subarray(r,n);c.byteLength>t.byteLength&&St(`Trying to place ${c.byteLength} bytes into a ${t.byteLength} byte buffer on read`),t.set(c)}catch(e){i.error=e,i.hasError=!0}finally{Ci(i)}}async write(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Mi(n,this.transaction(),!0),s=await this.findInode(i,e);let a=t;i.flag("partial")||(a=Sn(await i.get(s.data)??new Uint8Array,r+t.byteLength),a.set(t,r),r=0),await i.set(s.data,a,r),this._add(s.ino,e),await i.commit()}catch(e){n.error=e,n.hasError=!0}finally{const e=Ci(n);e&&await e}}writeSync(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Mi(n,this.transaction(),!1),s=this.findInodeSync(i,e);let a=t;i.flag("partial")||(a=Sn(i.getSync(s.data)??new Uint8Array,r+t.byteLength),a.set(t,r),r=0),i.setSync(s.data,a,r),this._add(s.ino,e),i.commitSync()}catch(e){n.error=e,n.hasError=!0}finally{Ci(n)}}transaction(){return new Ti(this.store.transaction(),this)}async checkRoot(){const e={stack:[],error:void 0,hasError:!1};try{const t=Mi(e,this.transaction(),!0);if(await t.get(ei))return;const r=new ui({ino:ei,data:1,mode:511|xr});await t.set(r.data,tt("{}")),this._add(ei,"/"),await t.set(ei,r),await t.commit()}catch(t){e.error=t,e.hasError=!0}finally{const t=Ci(e);t&&await t}}checkRootSync(){const e={stack:[],error:void 0,hasError:!1};try{const t=Mi(e,this.transaction(),!1);if(t.getSync(ei))return;const r=new ui({ino:ei,data:1,mode:511|xr});t.setSync(r.data,tt("{}")),this._add(ei,"/"),t.setSync(ei,r),t.commitSync()}catch(t){e.error=t,e.hasError=!0}finally{Ci(e)}}async _populate(){const e={stack:[],error:void 0,hasError:!1};try{if(this._initialized)return void Et("Attempted to populate tables after initialization");xt("Populating tables with existing store metadata");const t=Mi(e,this.transaction(),!0),r=await t.get(ei);if(!r){_t("Store does not have a root inode");const e=new ui({ino:ei,data:1,mode:511|xr});return await t.set(e.data,tt("{}")),this._add(ei,"/"),await t.set(ei,e),void await t.commit()}if(r.length<vn(ui))return void vt("Store contains an invalid root inode. Refusing to populate tables");const n=new Set;let i=0;const s=[["/",ei]];for(;s.length>0;){i++;const[e,r]=s.shift();this._add(r,e);const a=await t.get(r);if(!a){Et("Store is missing data for inode: "+r);continue}if(a.length<vn(ui)){Et(`Invalid inode size for ino ${r}: ${a.length}`);continue}const o=new ui(a);if((o.mode&xr)!=xr||n.has(r))continue;n.add(r);const c=await t.get(o.data);if(!c){Et("Store is missing directory data: "+o.data);continue}const u=_n(c);for(const[t,r]of Object.entries(u))s.push([Ln(e,t),r])}xt(`Added ${i} existing inode(s) from store`)}catch(t){e.error=t,e.hasError=!0}finally{const t=Ci(e);t&&await t}}_populateSync(){const e={stack:[],error:void 0,hasError:!1};try{if(this._initialized)return void Et("Attempted to populate tables after initialization");xt("Populating tables with existing store metadata");const t=Mi(e,this.transaction(),!1),r=t.getSync(ei);if(!r){_t("Store does not have a root inode");const e=new ui({ino:ei,data:1,mode:511|xr});return t.setSync(e.data,tt("{}")),this._add(ei,"/"),t.setSync(ei,e),void t.commitSync()}if(r.length<vn(ui))return void vt("Store contains an invalid root inode. Refusing to populate tables");const n=new Set;let i=0;const s=[["/",ei]];for(;s.length>0;){i++;const[e,r]=s.shift();this._add(r,e);const a=t.getSync(r);if(!a){Et("Store is missing data for inode: "+r);continue}if(a.length<vn(ui)){Et(`Invalid inode size for ino ${r}: ${a.length}`);continue}const o=new ui(a);if((o.mode&xr)!=xr||n.has(r))continue;n.add(r);const c=t.getSync(o.data);if(!c){Et("Store is missing directory data: "+o.data);continue}const u=_n(c);for(const[t,r]of Object.entries(u))s.push([Ln(e,t),r])}xt(`Added ${i} existing inode(s) from store`)}catch(t){e.error=t,e.hasError=!0}finally{Ci(e)}}async _findInode(e,t,r=new Set){if(r.has(t))throw vt(lt("EIO","Infinite loop detected while finding inode"));if(r.add(t),"/"==t)return new ui(await e.get(ei)??Ze(lt("ENODATA")));const{dir:n,base:i}=qn(t),s=await this._findInode(e,n,r),a=_n(await e.get(s.data)??Ze(lt("ENODATA")));if(!(i in a))throw lt("ENOENT");return new ui(await e.get(a[i])??Ze(lt("ENODATA")))}_findInodeSync(e,t,r=new Set){if(r.has(t))throw vt(lt("EIO","Infinite loop detected while finding inode"));if(r.add(t),"/"==t)return new ui(e.getSync(ei)??Ze(lt("ENOENT")));const{dir:n,base:i}=qn(t),s=this._findInodeSync(e,n,r),a=_n(e.getSync(s.data)??Ze(lt("ENODATA")));if(!(i in a))throw lt("ENOENT");return new ui(e.getSync(a[i])??Ze(lt("ENODATA")))}async findInode(e,t){if(this.attributes.has("no_id_tables"))return await this._findInode(e,t);const r=this._ids.get(t);if(void 0===r)throw lt("ENOENT");return new ui(await e.get(r)??Ze(lt("ENOENT")))}findInodeSync(e,t){if(this.attributes.has("no_id_tables"))return this._findInodeSync(e,t);const r=this._ids.get(t);if(void 0===r)throw lt("ENOENT");return new ui(e.getSync(r)??Ze(lt("ENOENT")))}_lastID;allocNew(e){this._lastID??=Math.max(...this._paths.keys()),this._lastID+=2;const t=this._lastID;if(t>qr)throw St(lt("ENOSPC","No IDs available"));return this._add(t,e),t}async commitNew(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{if("/"==e)throw lt("EEXIST");const i=Mi(n,this.transaction(),!0),{dir:s,base:a}=qn(e),o=await this.findInode(i,s),c=_n(await i.get(o.data)??Ze(lt("ENOENT")));if(c[a])throw lt("EEXIST");const u=this.allocNew(e),l=new ui({...t,ino:u,data:u+1,size:r.byteLength,nlink:1});return await i.set(l.ino,l),await i.set(l.data,r),c[a]=l.ino,await i.set(o.data,In(c)),await i.commit(),l}catch(e){n.error=e,n.hasError=!0}finally{const e=Ci(n);e&&await e}}commitNewSync(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{if("/"==e)throw lt("EEXIST");const i=Mi(n,this.transaction(),!1),{dir:s,base:a}=qn(e),o=this.findInodeSync(i,s),c=_n(i.getSync(o.data)??Ze(lt("ENOENT")));if(c[a])throw lt("EEXIST");const u=this.allocNew(e),l=new ui({...t,ino:u,data:u+1,size:r.byteLength,nlink:1});return i.setSync(l.ino,l),i.setSync(l.data,r),c[a]=l.ino,i.setSync(o.data,In(c)),i.commitSync(),l}catch(e){n.error=e,n.hasError=!0}finally{Ci(n)}}async remove(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Mi(r,this.transaction(),!0),{dir:i,base:s}=qn(e),a=await this.findInode(n,i),o=_n(await n.get(a.data)??Ze(lt("ENOENT")));if(!o[s])throw lt("ENOENT");const c=o[s],u=new ui(await n.get(c)??Ze(lt("ENOENT")));if(delete o[s],!t&&hi(u))throw lt("EISDIR");await n.set(a.data,In(o)),u.nlink>1?(u.update({nlink:u.nlink-1}),await n.set(u.ino,u)):(await n.remove(u.data),await n.remove(c),this._remove(c)),await n.commit()}catch(e){r.error=e,r.hasError=!0}finally{const e=Ci(r);e&&await e}}removeSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Mi(r,this.transaction(),!1),{dir:i,base:s}=qn(e),a=this.findInodeSync(n,i),o=_n(n.getSync(a.data)??Ze(lt("ENOENT"))),c=o[s];if(!c)throw lt("ENOENT");const u=new ui(n.getSync(c)??Ze(lt("ENOENT")));if(delete o[s],!t&&hi(u))throw lt("EISDIR");n.setSync(a.data,In(o)),u.nlink>1?(u.update({nlink:u.nlink-1}),n.setSync(u.ino,u)):(n.removeSync(u.data),n.removeSync(c),this._remove(c)),n.commitSync()}catch(e){r.error=e,r.hasError=!0}finally{Ci(r)}}}class Di extends Ai{async keys(){return this.store.keys()}async get(e){return await(this.store.getAsync?.(e)??this.store.get(e))}getSync(e){return this.store.get(e)}setSync(e,t){this.store.set(e,t)}removeSync(e){this.store.delete(e)}}class Oi extends ki{async keys(){return await this.asyncDone,this.store.keys()}async get(e,t,r){return await this.asyncDone,await this.store.get(e,t,r)}getSync(e,t,r){return this.store.cached(e,t,r)}async set(e,t,r=0){await this.asyncDone,await this.store.set(e,t,r)}async remove(e){await this.asyncDone,await this.store.delete(e)}}class Fi extends Map{maxSize;label;flags=[];name="tmpfs";constructor(e=qr,t){super(),this.maxSize=e,this.label=t}async sync(){}transaction(){return new Di(this)}get bytes(){let e=4*this.size;for(const t of this.values())e+=t.byteLength;return e}usage(){return{totalSpace:this.maxSize,freeSpace:this.maxSize-this.bytes}}}const Pi={name:"InMemory",options:{maxSize:{type:"number",required:!1},label:{type:"string",required:!1}},create({maxSize:e,label:t}){const r=new Ri(new Fi(e,t));return r.checkRootSync(),r}};class Ni extends Ri{devices=new Map;devicesWithDriver(e,t){if(t&&"string"==typeof e)throw St(lt("EINVAL","Can not fetch devices using only a driver name"));const r=[];for(const n of this.devices.values())t&&n.driver!=e||("string"==typeof e?e:e.name)==n.driver.name&&r.push(n);return r}_createDevice(e,t={}){let r=1;const n=Array.from(this.devices.values()).at(-1);for(;this.store.has(r)||n?.inode.ino==r;)r++;const i=e.init?.(r,t),s={data:{},minor:0,major:0,...He(i??{},"metadata"),driver:e,inode:new ui({mode:438|Ar,...i?.metadata})},a="/"+(s.name||e.name)+(e.singleton?"":this.devicesWithDriver(e).length);if(this.existsSync(a))throw lt("EEXIST");return this.devices.set(a,s),It("Initialized device: "+this._mountPoint+a),s}addDefaults(){this._createDevice(Li),this._createDevice(Ui),this._createDevice(Vi),this._createDevice(ji),this._createDevice(zi),xt("Added default devices")}constructor(){super(new Fi(16777216,"devfs"))}async rename(e,t){if(this.devices.has(e))throw lt("EPERM");if(this.devices.has(t))throw lt("EEXIST");return super.rename(e,t)}renameSync(e,t){if(this.devices.has(e))throw lt("EPERM");if(this.devices.has(t))throw lt("EEXIST");return super.renameSync(e,t)}async stat(e){const t=this.devices.get(e);return t?t.inode:super.stat(e)}statSync(e){const t=this.devices.get(e);return t?t.inode:super.statSync(e)}async touch(e,t){const r=this.devices.get(e);r?r.inode.update(t):await super.touch(e,t)}touchSync(e,t){const r=this.devices.get(e);r?r.inode.update(t):super.touchSync(e,t)}async createFile(e,t){if(this.devices.has(e))throw lt("EEXIST");return super.createFile(e,t)}createFileSync(e,t){if(this.devices.has(e))throw lt("EEXIST");return super.createFileSync(e,t)}async unlink(e){if(this.devices.has(e))throw lt("EPERM");return super.unlink(e)}unlinkSync(e){if(this.devices.has(e))throw lt("EPERM");return super.unlinkSync(e)}async rmdir(e){return super.rmdir(e)}rmdirSync(e){return super.rmdirSync(e)}async mkdir(e,t){if(this.devices.has(e))throw lt("EEXIST");return super.mkdir(e,t)}mkdirSync(e,t){if(this.devices.has(e))throw lt("EEXIST");return super.mkdirSync(e,t)}async readdir(e){const t=await super.readdir(e);for(const r of this.devices.keys())Vn(r)==e&&t.push(jn(r));return t}readdirSync(e){const t=super.readdirSync(e);for(const r of this.devices.keys())Vn(r)==e&&t.push(jn(r));return t}async link(e,t){if(this.devices.has(e))throw lt("EPERM");if(this.devices.has(t))throw lt("EEXIST");return super.link(e,t)}linkSync(e,t){if(this.devices.has(e))throw lt("EPERM");if(this.devices.has(t))throw lt("EEXIST");return super.linkSync(e,t)}async sync(){for(const e of this.devices.values())e.driver.sync?.(e);return super.sync()}syncSync(){for(const e of this.devices.values())e.driver.sync?.(e);return super.syncSync()}async read(e,t,r,n){const i=this.devices.get(e);i?i.driver.read(i,t,r,n):await super.read(e,t,r,n)}readSync(e,t,r,n){const i=this.devices.get(e);i?i.driver.read(i,t,r,n):super.readSync(e,t,r,n)}async write(e,t,r){const n=this.devices.get(e);if(!n)return await super.write(e,t,r);n.driver.write(n,t,r)}writeSync(e,t,r){const n=this.devices.get(e);if(!n)return super.writeSync(e,t,r);n.driver.write(n,t,r)}}const Bi=new Uint8Array,Li={name:"null",singleton:!0,init:()=>({major:1,minor:3}),read:()=>Bi,write(){}},Ui={name:"zero",singleton:!0,init:()=>({major:1,minor:5}),read(e,t,r,n){t.fill(0,r,n)},write(){}},Vi={name:"full",singleton:!0,init:()=>({major:1,minor:7}),read(e,t,r,n){t.fill(0,r,n)},write(){throw lt("ENOSPC")}},ji={name:"random",singleton:!0,init:()=>({major:1,minor:8}),read(e,t){for(let e=0;e<t.length;e++)t[e]=Math.floor(256*Math.random())},write(){}},zi={name:"console",singleton:!0,init:(e,{output:t=e=>console.log(e)}={})=>({major:5,minor:1,data:{output:t}}),read:()=>Bi,write(e,t,r){const n=nt(t);e.data.output(n,r)}},$i={null:Li,zero:Ui,full:Vi,random:ji,console:zi};var qi=__webpack_require__(1048);let Gi=!0;function Wi(e){Gi=e}var Hi;function Xi(e){return(61440&e)>>12}function Yi(e){return e<<12}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.FIFO=1]="FIFO",e[e.CHR=2]="CHR",e[e.DIR=4]="DIR",e[e.BLK=6]="BLK",e[e.REG=8]="REG",e[e.LNK=10]="LNK",e[e.SOCK=12]="SOCK",e[e.WHT=14]="WHT"}(Hi||(Hi={}));class Ki{ino;type;path;name}class Zi{context;path;fs;internalPath;flag;inode;_buffer;_position=0;get position(){return this.flag&hr?this.inode.size:this._position}set position(e){this._position=e}dirty=!1;closed=!1;get isClosed(){return this.closed}constructor(e,t,r,n,i,s){this.context=e,this.path=t,this.fs=r,this.internalPath=n,this.flag=i,this.inode=s}get _isSync(){return!!(this.flag&gr||this.inode.flags&ai.Sync||this.fs.attributes.has("sync"))}[Symbol.dispose](){this.closeSync()}syncSync(){if(this.closed)throw ut("EBADF","sync",this.path);this.dirty&&(this.fs.attributes.has("no_write")||this.fs.touchSync(this.internalPath,this.inode),this.dirty=!1)}datasyncSync(){return this.syncSync()}closeSync(){if(this.closed)throw ut("EBADF","close",this.path);this.syncSync(),this.disposeSync()}disposeSync(e){if(this.closed)throw ut("EBADF","close",this.path);if(this.dirty&&!e)throw ut("EBUSY","close",this.path);this.closed=!0}truncateSync(e){if(e<0)throw ut("EINVAL","truncate",this.path);if(this.closed)throw ut("EBADF","truncate",this.path);if(!(this.flag&sr||this.flag&ar))throw ut("EBADF","truncate",this.path);if(this.fs.attributes.has("readonly"))throw ut("EROFS","truncate",this.path);if(this.inode.flags&ai.Immutable)throw ut("EPERM","truncate",this.path);this.dirty=!0,this.inode.mtimeMs=Date.now(),this.inode.size=e,this.inode.ctimeMs=Date.now(),this._isSync&&this.syncSync()}writeSync(e,t=0,r=e.byteLength-t,n=this.position){if(this.closed)throw ut("EBADF","write",this.path);if(!(this.flag&sr||this.flag&ar))throw ut("EBADF","write",this.path);if(this.fs.attributes.has("readonly"))throw ut("EROFS","write",this.path);if(this.inode.flags&ai.Immutable)throw ut("EPERM","write",this.path);this.dirty=!0;const i=n+r,s=e.subarray(t,t+r);return!gi(this.inode)&&!pi(this.inode)&&i>this.inode.size&&(this.inode.size=i),this.inode.mtimeMs=Date.now(),this.inode.ctimeMs=Date.now(),this._position=n+s.byteLength,this.fs.writeSync(this.internalPath,s,n),this._isSync&&this.syncSync(),s.byteLength}readSync(e,t=0,r=e.byteLength-t,n=this.position){if(this.closed)throw ut("EBADF","read",this.path);if(this.flag&sr)throw ut("EBADF","read",this.path);this.inode.flags&ai.NoAtime||this.fs.attributes.has("no_atime")||(this.dirty=!0,this.inode.atimeMs=Date.now());let i=n+r;!gi(this.inode)&&!pi(this.inode)&&i>this.inode.size&&(i=n+Math.max(this.inode.size-n,0)),this._position=i;const s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return this.fs.readSync(this.internalPath,s.subarray(t,t+r),n,i),this._isSync&&this.syncSync(),i-n}chmodSync(e){if(this.closed)throw ut("EBADF","chmod",this.path);this.dirty=!0,this.inode.mode=this.inode.mode&(e>vr?~vr:vr)|e,(this._isSync||e>vr)&&this.syncSync()}chownSync(e,t){if(this.closed)throw ut("EBADF","chmod",this.path);this.dirty=!0,bi(this.inode,e,t),this._isSync&&this.syncSync()}utimesSync(e,t){if(this.closed)throw ut("EBADF","utimes",this.path);this.dirty=!0,this.inode.atimeMs=e,this.inode.mtimeMs=t,this._isSync&&this.syncSync()}async[Symbol.asyncDispose](){await this.close()}async sync(){if(this.closed)throw ut("EBADF","sync",this.path);this.dirty&&(this.fs.attributes.has("no_write")||await this.fs.touch(this.internalPath,this.inode),this.dirty=!1)}datasync(){return this.sync()}async close(){if(this.closed)throw ut("EBADF","close",this.path);await this.sync(),this.dispose()}dispose(e){if(this.closed)throw ut("EBADF","close",this.path);if(this.dirty&&!e)throw ut("EBUSY","close",this.path);this.closed=!0}stat(){if(this.closed)throw ut("EBADF","stat",this.path);return this.inode}async truncate(e){if(e<0)throw ut("EINVAL","truncate",this.path);if(this.closed)throw ut("EBADF","truncate",this.path);if(!(this.flag&sr||this.flag&ar))throw ut("EBADF","truncate",this.path);if(this.fs.attributes.has("readonly"))throw ut("EROFS","truncate",this.path);if(this.inode.flags&ai.Immutable)throw ut("EPERM","truncate",this.path);this.dirty=!0,this.inode.mtimeMs=Date.now(),this.inode.size=e,this.inode.ctimeMs=Date.now(),this._isSync&&await this.sync()}async write(e,t=0,r=e.byteLength-t,n=this.position){if(this.closed)throw ut("EBADF","write",this.path);if(!(this.flag&sr||this.flag&ar))throw ut("EBADF","write",this.path);if(this.fs.attributes.has("readonly"))throw ut("EROFS","write",this.path);if(this.inode.flags&ai.Immutable)throw ut("EPERM","write",this.path);this.dirty=!0;const i=n+r,s=e.subarray(t,t+r);return!gi(this.inode)&&!pi(this.inode)&&i>this.inode.size&&(this.inode.size=i),this.inode.mtimeMs=Date.now(),this.inode.ctimeMs=Date.now(),this._position=n+s.byteLength,await this.fs.write(this.internalPath,s,n),this._isSync&&await this.sync(),s.byteLength}async read(e,t=0,r=e.byteLength-t,n=this.position){if(this.closed)throw ut("EBADF","read",this.path);if(this.flag&sr)throw ut("EBADF","read",this.path);this.inode.flags&ai.NoAtime||this.fs.attributes.has("no_atime")||(this.dirty=!0,this.inode.atimeMs=Date.now());let i=n+r;!gi(this.inode)&&!pi(this.inode)&&i>this.inode.size&&(i=n+Math.max(this.inode.size-n,0)),this._position=i;const s=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return await this.fs.read(this.internalPath,s.subarray(t,t+r),n,i),this._isSync&&await this.sync(),i-n}async chmod(e){if(this.closed)throw ut("EBADF","chmod",this.path);this.dirty=!0,this.inode.mode=this.inode.mode&(e>vr?~vr:vr)|e,(this._isSync||e>vr)&&await this.sync()}async chown(e,t){if(this.closed)throw ut("EBADF","chown",this.path);this.dirty=!0,bi(this.inode,e,t),this._isSync&&await this.sync()}async utimes(e,t){if(this.closed)throw ut("EBADF","utimes",this.path);this.dirty=!0,this.inode.atimeMs=e,this.inode.mtimeMs=t,this._isSync&&await this.sync()}streamRead(e){if(this.closed)throw ut("EBADF","streamRead",this.path);return this.fs.streamRead(this.internalPath,e)}streamWrite(e){if(this.closed)throw ut("EBADF","write",this.path);if(this.inode.flags&ai.Immutable)throw ut("EPERM","write",this.path);if(this.fs.attributes.has("readonly"))throw ut("EROFS","write",this.path);return this.fs.streamWrite(this.internalPath,e)}}function Ji(e){const t=Xt(e.context).descriptors,r=Math.max(t.size?Math.max(...t.keys())+1:0,4);return t.set(r,e),r}function Qi(e,t){const r=Xt(e).descriptors.get(t);if(!r)throw lt("EBADF");return r}function es(e,t){return Xt(e).descriptors.delete(t)}const ts=/[rwasx]{1,2}\+?/;function rs(e){if("number"==typeof e)return e;if(!ts.test(e))throw lt("EINVAL","Invalid flag string: "+e);return function(e){if(!e.includes("r")&&!e.includes("w")&&!e.includes("a"))throw lt("EINVAL","Invalid flag string: "+e);let t=e.includes("r")?ir:or;return e.includes("w")&&(t|=lr),e.includes("a")&&(t|=hr),e.includes("+")?t|=ar:e.includes("r")||(t|=sr),e.includes("s")&&(t|=gr),e.includes("x")&&(t|=cr),t}(e)}function ns(e){let t=0;return e&sr||(t|=Jt),(e&sr||e&ar)&&(t|=Qt),t}const is=ct;function ss(e,t){return e.path=t,e}function as(e,t,r,n){const i="string"==typeof r?{path:r,dest:n,syscall:t.endsWith("Sync")?t.slice(0,-4):t}:r,s=e[t];if("function"!=typeof s)throw new TypeError(`${t} is not a function`);return function(...t){try{return s.call(e,...t)}catch(e){throw ot(Object.assign(e,i))}}}function os(e,t){return new Proxy(e,{get(e,r){const n=Reflect.get(e,r);return"function"!=typeof n?n:function r(...i){try{const s=n.apply(e,i);return s instanceof Promise?s.catch(e=>{if("code"in e)throw ot(Object.assign(e,t));if(e in st){const n=ut(e,t);Error.captureStackTrace(n,r)}throw e}):s}catch(e){throw ot(Object.assign(e,t))}}}})}const cs=new Map;function us(e,t){if("/"!=e[0]&&(e="/"+e),e=Pn.call(this,e),cs.has(e))throw St(lt("EINVAL","Mount point is already in use: "+e));t._mountPoint=e,cs.set(e,t),It(`Mounted ${t.name} on ${e}`),xt(`${t.name} attributes: ${[...t.attributes].map(([e,t])=>null!=t?e+"="+t:e).join(", ")}`)}function ls(e){"/"!=e[0]&&(e="/"+e),e=Pn.call(this,e),cs.has(e)?(cs.delete(e),_t("Unmounted "+e)):Et(e+" is already unmounted")}function hs(e,t,r){const{root:n}=Xt(t),i={path:e,...r};e=kn(Ln(n,e),!0),e=Pn.call(t,e);const s=[...cs].sort((e,t)=>e[0].length>t[0].length?-1:1);for(const[t,r]of s){if(!ps(t,e))continue;""===(e=e.slice(t.length>1?t.length:0))&&(e="/");const s=r.attributes.get("case_fold");return"lower"===s&&(e=e.toLowerCase()),"upper"===s&&(e=e.toUpperCase()),{fs:os(r,i),path:e,mountPoint:t,root:n}}throw wt(new ct(st.EIO,"No file system for "+e))}function fs(e,t){const r=e.usage(),n=r.blockSize||4096;return{type:(t?BigInt:Number)(e.type),bsize:(t?BigInt:Number)(n),ffree:(t?BigInt:Number)(r.freeNodes||qr),files:(t?BigInt:Number)(r.totalNodes||qr),bavail:(t?BigInt:Number)(r.freeSpace/n),bfree:(t?BigInt:Number)(r.freeSpace/n),blocks:(t?BigInt:Number)(r.totalSpace/n)}}function ds(e){const t=Xt(this);if(!Gt(t.credentials))throw lt("EPERM","Can not chroot() as non-root user");t.root??="/";const r=Ln(t.root,e);for(const e of t.descriptors?.values()??[]){if(!e.path.startsWith(t.root))throw ut("EBUSY","chroot",e.path);e.path=e.path.slice(t.root.length)}if(r.length>t.root.length)throw lt("EPERM","Can not chroot() outside of current root");t.root=r}function ps(e,t){return"/"===e||e===t||(e.endsWith("/")||(e+="/"),t.startsWith(e))}function gs(e,t,r,n){t=Pn.call(e,t);try{const i=hs(t,e),s=i.fs.statSync(i.path);return!fi(s)||r?{...i,fullPath:t,stats:s}:gs(e,Pn.call(e,Vn(t),ys.call(e,t)),r,n)}catch(e){if(ot(Object.assign(e,{syscall:"stat",path:t})),r)throw e}const{base:i,dir:s}=qn(t),a="/"==s?"/":gs(e,s,!1,n).fullPath,o=Ln(a,i),c=hs(o,e);let u;try{u=c.fs.statSync(c.path)}catch(e){if("ENOENT"===e.code)return{...c,fullPath:t};throw ot(Object.assign(e,{syscall:"stat",path:o}))}return fi(u)?gs(e,Pn.call(e,a,ys.call(e,o)),!1,n):{...c,fullPath:o,stats:u}}function ms(e,t){e=kn(e);const r=xn(t.mode,420),n=rs(t.flag);e=t.preserveSymlinks?e:gs(this,e).fullPath;const{fs:i,path:s}=hs(e,this);let a;try{a=i.statSync(s)}catch{}if(!a){if(!(n&or))throw ut("ENOENT","open",e);const a=i.statSync(Vn(s));if(Gi&&!yi(this,a,Qt))throw ut("EACCES","open",e);if(!hi(a))throw ut("ENOTDIR","open",e);if(!t.allowDirectory&&r&xr)throw ut("EISDIR","open",e);if(Gi&&!yi(this,a,Qt))throw ut("EACCES","open",e);const{euid:o,egid:c}=Xt(this).credentials,u=i.createFileSync(s,{mode:r,uid:a.mode&Tr?a.uid:o,gid:a.mode&Mr?a.gid:c});return new Zi(this,e,i,s,n,u)}if(Gi&&(!yi(this,a,r)||!yi(this,a,ns(n))))throw ut("EACCES","open",e);if(n&cr)throw ut("EEXIST","open",e);const o=new Zi(this,e,i,s,n,a);if(!t.allowDirectory&&a.mode&xr)throw ut("EISDIR","open",e);return n&lr&&o.truncateSync(0),o}function ys(e){e=kn(e);const{fs:t,stats:r,path:n}=gs(this,e,!0);if(!r)throw ut("ENOENT","readlink",e);if(Gi&&!yi(this,r,Jt))throw ut("EACCES","readlink",e);if(!fi(r))throw ut("EINVAL","readlink",e);const i=r.size,s=new Uint8Array(i);return t.readSync(n,s,0,i),nt(s)}function bs(e,t={}){e=kn(e);const{fs:r,path:n}=gs(this,e),{euid:i,egid:s}=Xt(this).credentials,{mode:a=511,recursive:o}=t,c=(e,t,n)=>{if(Gi&&!yi(this,n,Qt))throw ut("EACCES","mkdir",Vn(e));const o=r.mkdirSync(t,{mode:a,uid:n.mode&Tr?n.uid:i,gid:n.mode&Mr?n.gid:s});return Sa(this,"rename",e),o};if(!o)return void c(e,n,r.statSync(Vn(n)));const u=[];for(let t=n,i=e;!r.existsSync(t);t=Vn(t),i=Vn(i))u.unshift({resolved:t,original:i});if(!u.length)return;const l=[r.statSync(Vn(u[0].resolved))];for(const[e,t]of u.entries())l.push(c(t.original,t.resolved,l[e]));return u[0].original}function ws(e,t={}){e=kn(e);const{fs:r,path:n}=gs(this,e),i=r.statSync(n);if(Gi&&!yi(this,i,Jt))throw ut("EACCES","readdir",e);if(!hi(i))throw ut("ENOTDIR","readdir",e);const s=r.readdirSync(n),a=[],o=e=>{let i;try{i=r.statSync(Ln(n,e))}catch(e){if("ENOENT"==e.code)return;throw e}const s=new Ki;if(s.ino=i.ino,s.type=Xi(i.mode),s.path=e,s.name=jn(e),a.push(s),!hi(i)||!t?.recursive)return;const c=r.readdirSync(Ln(n,e));for(const t of c)o(Ln(e,t))};for(const e of s)o(e);return a}function vs(e,t){const r={syscall:"rename",path:e=kn(e),dest:t=kn(t)},n=gs(this,e,!0,r),i=hs(t,this,r);if(n.fs.uuid!==i.fs.uuid)throw ut("EXDEV",r);if(i.path.startsWith(n.path+"/"))throw ut("EBUSY",r);if(!n.stats)throw ut("ENOENT",r);const s=n.fs,a=s.statSync(Vn(n.path)),o=s.statSync(Vn(i.path));let c;try{c=s.statSync(i.path)}catch(e){if("ENOENT"!=e.code)throw e}if(Gi&&(!yi(this,a,Jt)||!yi(this,o,Qt)))throw ut("EACCES",r);if(c&&!hi(n.stats)&&hi(c))throw ut("EISDIR",r);if(c&&hi(n.stats)&&!hi(c))throw ut("ENOTDIR",r);n.fs.renameSync(n.path,i.path),Sa(this,"rename",e),Sa(this,"change",t)}function Ss(e,t){e=kn(e);const r={syscall:"link",path:t=kn(t),dest:e},{fs:n,path:i}=hs(e,this,r),s=hs(t,this,r);if(n.uuid!==s.fs.uuid)throw ut("EXDEV",r);const a=n.statSync(i);if(Gi){if(!yi(this,a,Jt))throw ut("EACCES",r);if(!yi(this,n.statSync(Vn(i)),Jt))throw ut("EACCES",r);if(!yi(this,n.statSync(Vn(s.path)),Qt))throw ut("EACCES",r)}return n.linkSync(i,s.path)}us("/",Pi.create({label:"root"}));class Es{ino;type;_name;get name(){const e=qi.Buffer.from(this._name);return"buffer"==this._encoding?e:e.toString(this._encoding)}_encoding;_parentPath;get parentPath(){return this._parentPath}get path(){return Et("Dirent.path was removed in Node v24, use parentPath instead"),this._parentPath}static from(e,t){const r=new Es,{base:n,dir:i}=qn(e.path);return r._parentPath=i||".",r._name=n,r.ino=e.ino,r.type=e.type,r._encoding=t,r}isFile(){return this.type===Hi.REG}isDirectory(){return this.type===Hi.DIR}isBlockDevice(){return this.type===Hi.BLK}isCharacterDevice(){return this.type===Hi.CHR}isSymbolicLink(){return this.type===Hi.LNK}isFIFO(){return this.type===Hi.FIFO}isSocket(){return this.type===Hi.SOCK}}class _s{path;context;closed=!1;checkClosed(){if(this.closed)throw lt("EBADF","Can not use closed Dir")}_entries;constructor(e,t){this.path=e,this.context=t}close(e){if(this.closed=!0,!e)return Promise.resolve();e(null)}closeSync(){this.closed=!0}async _read(){return this.checkClosed(),this._entries??=await Ka.call(this.context,this.path,{withFileTypes:!0}),this._entries.length?this._entries.shift()??null:null}read(e){if(!e)return this._read();this._read().then(t=>e(null,t))}readSync(){return this.checkClosed(),this._entries??=Ys.call(this.context,this.path,{withFileTypes:!0}),this._entries.length?this._entries.shift()??null:null}async next(){const e=await this._read();return e?{done:!1,value:e}:(await this.close(),{done:!0,value:void 0})}[Symbol.asyncIterator](){return this}[Symbol.dispose](){this.closed||this.closeSync()}async[Symbol.asyncDispose](){this.closed||await this.close()}}var Is=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},xs=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,function(t){return r(t),e()})}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});function As(e,t){return vs.call(this,e,t)}function ks(e){e=kn(e);try{const{fs:t,path:r}=gs(this,e);return t.existsSync(r)}catch(e){if(e.errno==st.ENOENT)return!1;throw e}}function Ts(e,t){e=kn(e);const{fs:r,path:n}=gs(this,e);let i;try{i=r.statSync(n)}catch(t){throw ot(Object.assign(t,{path:e}))}if(Gi&&!yi(this,i,Jt))throw ut("EACCES",{syscall:"stat",path:e});return t?.bigint?new Yn(i):new Xn(i)}function Ms(e,t){e=kn(e);const{base:r,dir:n}=qn(e),{fs:i,path:s}=gs(this,n),a=as(i,"statSync",e)(r?Ln(s,r):s);if(Gi&&!yi(this,a,Jt))throw ut("EACCES",{syscall:"lstat",path:e});return t?.bigint?new Yn(a):new Xn(a)}function Cs(e,t=0){const r={stack:[],error:void 0,hasError:!1};try{const n=Is(r,ms.call(this,e,{flag:"r+"}),!1);if(t||=0,t<0)throw ut("EINVAL","truncate",e.toString());n.truncateSync(t)}catch(e){r.error=e,r.hasError=!0}finally{xs(r)}}function Rs(e){e=kn(e);const{fs:t,path:r}=hs(e,this);try{if(Gi&&!yi(this,t.statSync(r),Qt))throw ut("EACCES","unlink");t.unlinkSync(r)}catch(t){throw ot(Object.assign(t,{path:e}))}Sa(this,"rename",e.toString())}function Ds(e,t,r=Zt){return Ji(ms.call(this,e,{flag:t,mode:r}))}function Os(e,t,r){return Ji(ms.call(this,e,{flag:t,mode:r,preserveSymlinks:!0}))}function Fs(e,t={}){const r={stack:[],error:void 0,hasError:!1};try{const n=Tn(t,null,"r",420);if(rs(n.flag)&sr)throw ut("EBADF","read",e.toString());const i=Is(r,"number"==typeof e?Qi(this,e):ms.call(this,e.toString(),{flag:n.flag,mode:420,preserveSymlinks:!1}),!1),{size:s}=i.stat(),a=qi.Buffer.alloc(s);return i.readSync(a,0,s,0),n.encoding?a.toString(n.encoding):a}catch(e){r.error=e,r.hasError=!0}finally{xs(r)}}function Ps(e,t,r={}){const n={stack:[],error:void 0,hasError:!1};try{const i=Tn(r,"utf8","w+",420),s=rs(i.flag);if(!(s&sr||s&ar))throw new ct(st.EINVAL,"Flag passed to writeFile must allow for writing");if("string"!=typeof t&&!i.encoding)throw new ct(st.EINVAL,"Encoding not specified");const a="string"==typeof t?qi.Buffer.from(t,i.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength);if(!a)throw new ct(st.EINVAL,"Data not specified");Is(n,"number"==typeof e?Qi(this,e):ms.call(this,e.toString(),{flag:s,mode:i.mode,preserveSymlinks:!0}),!1).writeSync(a,0,a.byteLength,0),Sa(this,"change",e.toString())}catch(e){n.error=e,n.hasError=!0}finally{xs(n)}}function Ns(e,t,r={}){const n=Tn(r,"utf8","a+",420),i=rs(n.flag);if(!(i&hr))throw new ct(st.EINVAL,"Flag passed to appendFile must allow for appending");if("string"!=typeof t&&!n.encoding)throw new ct(st.EINVAL,"Encoding not specified");const s="string"==typeof t?qi.Buffer.from(t,n.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength),a="number"==typeof e?Qi(this,e):ms.call(this,kn(e),{flag:i,mode:n.mode,preserveSymlinks:!0});a.writeSync(s,0,s.byteLength),"number"!=typeof a&&a.closeSync()}function Bs(e,t){const r=Qi(this,e).stat();return t?.bigint?new Yn(r):new Xn(r)}function Ls(e){Qi(this,e).closeSync(),es(this,e)}function Us(e,t=0){if(t||=0,t<0)throw new ct(st.EINVAL);Qi(this,e).truncateSync(t)}function Vs(e){Qi(this,e).syncSync()}function js(e){Qi(this,e).datasyncSync()}function zs(e,t,r,n,i){let s,a,o,c;if("string"==typeof t){c="number"==typeof r?r:null;const e="string"==typeof n?n:"utf8";a=0,s=qi.Buffer.from(t,e),o=s.byteLength}else s=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),a=r,o=n,c="number"==typeof i?i:null;const u=Qi(this,e);c??=u.position;const l=u.writeSync(s,a,o,c);return Sa(this,"change",u.path),l}function $s(e,t,r,n,i){const s=Qi(this,e),a="object"==typeof r?r.offset:r;if("object"==typeof r&&(n=r.length,i=r.position),i&&i>Number.MAX_SAFE_INTEGER)throw ut("EINVAL");return"bigint"==typeof i&&(i=Number(i)),i=Number.isSafeInteger(i)?i:s.position,s.readSync(t,a,n,i)}function qs(e,t,r){Qi(this,e).chownSync(t,r)}function Gs(e,t){const r=xn(t,-1);if(r<0)throw new ct(st.EINVAL,"Invalid mode.");Qi(this,e).chmodSync(r)}function Ws(e,t,r){Qi(this,e).utimesSync(An(t),An(r))}function Hs(e){e=kn(e);const{fs:t,path:r}=gs(this,e),n=as(t,"statSync",e)(r);if(!hi(n))throw ut("ENOTDIR","rmdir",e);if(Gi&&!yi(this,n,Qt))throw ut("EACCES","rmdir",e);as(t,"rmdirSync",e)(r),Sa(this,"rename",e.toString())}function Xs(e,t){t="object"==typeof t?t:{mode:t};const r=xn(t?.mode,511);return bs.call(this,e,{...t,mode:r})}function Ys(e,t){t="object"==typeof t?t:{encoding:t},e=kn(e);const r=[],n=ws.call(this,e,t??void 0);for(const e of n)t?.withFileTypes?r.push(Es.from(e,t.encoding)):"buffer"==t?.encoding?r.push(qi.Buffer.from(e.path)):r.push(e.path);return r}function Ks(e,t){return Ss.call(this,e,t)}function Zs(e,t,r="file"){const n={stack:[],error:void 0,hasError:!1};try{if(!["file","dir","junction"].includes(r))throw new TypeError("Invalid symlink type: "+r);t=kn(t);const i=Is(n,ms.call(this,t,{flag:"wx",mode:420}),!1);i.writeSync(tt(kn(e,!0))),i.chmodSync(Er)}catch(e){n.error=e,n.hasError=!0}finally{xs(n)}}function Js(e,t){const r=qi.Buffer.from(ys.call(this,e)),n="object"==typeof t?t?.encoding:t;return"buffer"==n?r:r.toString(n??"utf-8")}function Qs(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{Is(n,ms.call(this,e,{flag:"r+",mode:Zt}),!1).chownSync(t,r)}catch(e){n.error=e,n.hasError=!0}finally{xs(n)}}function ea(e,t,r){const n=Os.call(this,e,"r+");qs.call(this,n,t,r),Ls.call(this,n)}function ta(e,t){const r=Ds.call(this,e,"r+");Gs.call(this,r,t),Ls.call(this,r)}function ra(e,t){const r=Os.call(this,e,"r+");Gs.call(this,r,t),Ls.call(this,r)}function na(e,t,r){const n=Ds.call(this,e,"r+");Ws.call(this,n,t,r),Ls.call(this,n)}function ia(e,t,r){const n=Os.call(this,e,"r+");Ws.call(this,n,t,r),Ls.call(this,n)}function sa(e,t){const r="string"==typeof t?t:t?.encoding??"utf8";e=kn(e,!0);const{fullPath:n}=gs(this,e);if("utf8"==r||"utf-8"==r)return n;const i=qi.Buffer.from(n,"utf-8");return"buffer"==r?i:i.toString(r)}function aa(e,t=384){if(Gi&&!yi(this,Ts.call(this,e),t))throw new ct(st.EACCES)}function oa(e,t){let r;e=kn(e);try{r=Ms.bind(this)(e)}catch(e){if("ENOENT"!=e.code||!t?.force)throw e}if(r)switch(r.mode&vr){case xr:if(t?.recursive)for(const r of Ys.call(this,e))oa.call(this,Ln(e,r),t);Hs.call(this,e);break;case _r:case Er:case Ir:case Ar:Rs.call(this,e);break;default:throw ut("ENOSYS","rm",e)}}function ca(e,t){const r="object"==typeof t?t?.encoding:t||"utf8",n=Rn(e);return Xs.call(this,n),"buffer"==r?qi.Buffer.from(n):n}function ua(e,t){const r=Rn(e);Xs.call(this,r);const n=()=>oa(r,{recursive:!0,force:!0});return{path:r,remove:n,[Symbol.dispose]:n}}function la(e,t,r){if(e=kn(e),t=kn(t),r&&r&tr&&ks(t))throw ut("EEXIST","copyFile",t);Ps.call(this,t,Fs(e)),Sa(this,"rename",t.toString())}function ha(e,t,r){const n=Qi(this,e);let i=0;for(const e of t)i+=n.readSync(e,0,e.byteLength,r+i);return i}function fa(e,t,r){const n=Qi(this,e);let i=0;for(const e of t)i+=n.writeSync(new Uint8Array(e.buffer),0,e.byteLength,r+i);return i}function da(e,t){return e=kn(e),new _s(e,this)}function pa(e,t,r){e=kn(e),t=kn(t);const n=Ms.call(this,e);if(r?.errorOnExist&&ks.call(this,t))throw ut("EEXIST","cp",t);switch(n.mode&vr){case xr:if(!r?.recursive)throw ut("EISDIR","cp",e);Xs.call(this,t,{recursive:!0});for(const n of Ys.call(this,e,{withFileTypes:!0}))r.filter&&!r.filter(Ln(e,n.name),Ln(t,n.name))||pa.call(this,Ln(e,n.name),Ln(t,n.name),r);break;case _r:case Er:la.call(this,e,t);break;default:throw ut("ENOSYS","cp",e)}r?.preserveTimestamps&&na.call(this,t,n.atime,n.mtime)}function ga(e,t){e=kn(e);const{fs:r}=hs(e,this);return fs(r,t?.bigint)}function ma(e,t={}){e=Array.isArray(e)?e:[e];const{cwd:r="/",withFileTypes:n=!1,exclude:i=()=>!1}=t,s=e.map(Mn),a=[];return function e(t){const r=Ys(t,{withFileTypes:n,encoding:"utf8"});for(const o of r){const r=n?Ln(o.parentPath,o.name):t+"/"+o;("function"!=typeof i?i.some(e=>Gn(e,r)):i(n?o:r))||(Ts(r).isDirectory()&&s.some(e=>e.source.includes(".*"))&&e(r),s.some(e=>e.test(r.replace(/^\/+/g,"")))&&a.push(n?o:r.replace(/^\/+/g,"")))}}(r),a}class ya extends qe{_context;path;off(e,t,r,n){return super.off(e,t,r,n)}removeListener(e,t,r,n){return super.removeListener(e,t,r,n)}constructor(e,t){super(),this._context=e,this.path=t}setMaxListeners(){throw ut("ENOSYS","Watcher.setMaxListeners")}getMaxListeners(){throw ut("ENOSYS","Watcher.getMaxListeners")}prependListener(){throw ut("ENOSYS","Watcher.prependListener")}prependOnceListener(){throw ut("ENOSYS","Watcher.prependOnceListener")}rawListeners(){throw ut("ENOSYS","Watcher.rawListeners")}ref(){return this}unref(){return this}}class ba extends ya{options;realpath;constructor(e,t,r){const n=Xt(e);super(n,t),this.options=r,this.realpath=Ln(n.root,t),function(e,t){const r=kn(e);va.has(r)||va.set(r,new Set),va.get(r).add(t)}(this.realpath,this)}close(){super.emit("close"),function(e,t){const r=kn(e);va.has(r)&&(va.get(r).delete(t),0===va.get(r).size&&va.delete(r))}(this.realpath,this)}[Symbol.dispose](){this.close()}}class wa extends ya{options;intervalId;previous;constructor(e,t,r){super(e,t),this.options=r,this.start()}onInterval(){try{const r=Ts(this.path);e=this.previous,t=r,(e.size!=t.size||+e.atime!=+t.atime||+e.mtime!=+t.mtime||+e.ctime!=+t.ctime||e.mode!=t.mode)&&(this.emit("change",r,this.previous),this.previous=r)}catch(e){this.emit("error",e)}var e,t}start(){const e=this.options.interval||5e3;try{this.previous=Ts(this.path)}catch(e){return void this.emit("error",e)}this.intervalId=setInterval(this.onInterval.bind(this),e),this.options.persistent||"object"!=typeof this.intervalId||this.intervalId.unref()}stop(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0),this.removeAllListeners()}}const va=new Map;function Sa(e,t,r){const n=Xt(e);n&&(r=Ln(n.root??"/",r));for(let e=r=kn(r);"/"!=e;e=Vn(e)){const n=va.get(e);if(n)for(const i of n)i.emit("change",t,Un.call(i._context,e,r)||jn(r))}}async function Ea(e,t,r,n){if(t=Pn.call(e,t),r){const r=hs(t,e,n),i=await r.fs.stat(r.path).catch(()=>{});return{...r,fullPath:t,stats:i}}try{const i=hs(t,e),s=await i.fs.stat(i.path);if(!fi(s))return{...i,fullPath:t,stats:s};const a=Pn.call(e,Vn(t),await Ia.call(e,t));return await Ea(e,a,r,n)}catch{}const{base:i,dir:s}=qn(t),a="/"==s?"/":(await Ea(e,s,!1,n)).fullPath,o=Ln(a,i),c=hs(o,e),u=await c.fs.stat(c.path).catch(e=>{if("ENOENT"!=e.code)throw ot(Object.assign(e,{syscall:"stat",path:o}))});if(!u)return{...c,fullPath:t};if(!fi(u))return{...c,fullPath:o,stats:u};const l=Pn.call(e,a,await Ia.call(e,o));return await Ea(e,l,!1,n)}async function _a(e,t,r){t=kn(t);const n=xn(r.mode,420),i=rs(r.flag),s={syscall:"open",path:t},{fs:a,path:o,stats:c}=await Ea(e,t,r.preserveSymlinks,s);if(!c){if(!(i&or))throw ut("ENOENT",s);const c=await a.stat(Vn(o));if(Gi&&!yi(e,c,Qt))throw ut("EACCES","open",Vn(t));if(!hi(c))throw ut("ENOTDIR","open",Vn(t));if(!r.allowDirectory&&n&xr)throw ut("EISDIR","open",t);const{euid:u,egid:l}=Xt(e).credentials,h=await a.createFile(o,{mode:n,uid:c.mode&Tr?c.uid:u,gid:c.mode&Mr?c.gid:l});return new Zi(e,t,a,o,i,h)}if(Gi&&!yi(e,c,ns(i)))throw ut("EACCES",s);if(i&cr)throw ut("EEXIST",s);const u=new Zi(e,t,a,o,i,c);if(!r.allowDirectory&&n&xr)throw ut("EISDIR","open",t);return i&lr&&await u.truncate(0),u}async function Ia(e){const t={syscall:"readlink",path:e=kn(e)},{fs:r,stats:n,path:i}=await Ea(this,e,!0,t);if(!n)throw ut("ENOENT",t);if(Gi&&!yi(this,n,Jt))throw ut("EACCES",t);if(!fi(n))throw ut("EINVAL",t);const s=n.size,a=new Uint8Array(s);return await r.read(i,a,0,s),nt(a)}async function xa(e,t={}){e=kn(e);const{euid:r,egid:n}=Xt(this).credentials,{mode:i=511,recursive:s}=t,{fs:a,path:o}=hs(e,this,{syscall:"mkdir"}),c=async(e,t,s)=>{if(Gi&&!yi(this,s,Qt))throw ut("EACCES","mkdir",e);const o=await a.mkdir(t,{mode:i,uid:s.mode&Tr?s.uid:r,gid:s.mode&Mr?s.gid:n});return Sa(this,"rename",e),o};if(!s)return void await c(e,o,await a.stat(Vn(o)));const u=[];let l=e;for(let e=o;!await a.exists(e);e=Vn(e),l=Vn(l))u.unshift([l,e]);if(!u.length)return;const h=[await a.stat(Vn(u[0][1]))];for(const[e,[t,r]]of u.entries())h.push(await c(t,r,h[e]));return u[0][0]}async function Aa(e,t={}){const r={syscall:"readdir",path:e=kn(e)},{fs:n,path:i,stats:s}=await Ea(this,e,!1,r);if(!s)throw ut("ENOENT",r);if(Gi&&!yi(this,s,Jt))throw ut("EACCES",r);if(!hi(s))throw ut("ENOTDIR",r);const a=await n.readdir(i),o=[],c=async e=>{const r=await n.stat(Ln(i,e)).catch(e=>{if("ENOENT"!=e.code)throw e});if(!r)return;const s=new Ki;if(s.ino=r.ino,s.type=Xi(r.mode),s.path=e,s.name=jn(e),o.push(s),!t.recursive||!hi(r))return;const a=await n.readdir(Ln(i,e));for(const t of a)await c(Ln(e,t))};return await Promise.all(a.map(c)),o}async function ka(e,t){const r={syscall:"rename",path:e=kn(e),dest:t=kn(t)},n=await Ea(this,e,!0,r),i=hs(t,this,r);if(n.fs.uuid!==i.fs.uuid)throw ut("EXDEV",r);if(i.path.startsWith(n.path+"/"))throw ut("EBUSY",r);if(!n.stats)throw ut("ENOENT",r);const s=n.fs,a=await s.stat(Vn(n.path)),o=await s.stat(Vn(i.path)),c=await s.stat(i.path).catch(e=>{if("ENOENT"==e.code)return null;throw e});if(Gi&&(!yi(this,a,Jt)||!yi(this,o,Qt)))throw ut("EACCES",r);if(c&&!hi(n.stats)&&hi(c))throw ut("EISDIR",r);if(c&&hi(n.stats)&&!hi(c))throw ut("ENOTDIR",r);await n.fs.rename(n.path,i.path),Sa(this,"rename",e),Sa(this,"change",t)}async function Ta(e,t){e=kn(e);const r={syscall:"link",path:t=kn(t),dest:e},{fs:n,path:i}=hs(e,this,r),s=hs(t,this,r);if(n.uuid!=s.fs.uuid)throw ut("EXDEV",r);const a=await n.stat(i);if(Gi){if(!yi(this,a,Jt))throw ut("EACCES",r);if(!yi(this,await n.stat(Vn(i)),Jt))throw ut("EACCES",r);if(!yi(this,await n.stat(Vn(s.path)),Qt))throw ut("EACCES",r)}return await n.link(i,s.path)}class Ma extends qe{input;output;terminal;line="";_cursor=0;get cursor(){return this._cursor}_buffer="";_closed=!1;_paused=!1;_prompt="";_history=[];_historyIndex=-1;_currentLine="";constructor(e,t,r,n=!1){super(),this.input=e,this.output=t,this.terminal=n,this.input.on("data",this._onData),this.input.on("end",this.close.bind(this)),this.input.on("close",this.close.bind(this))}_onData=e=>{if(!this._paused&&!this._closed){this._buffer+="string"==typeof e?e:e.toString("utf8");for(let e=this._buffer.indexOf("\n");e>=0;e=this._buffer.indexOf("\n")){let t=this._buffer.substring(0,e);t.endsWith("\r")&&(t=t.substring(0,t.length-1)),this._buffer=this._buffer.substring(e+1),this.line=t,t.trim()&&!t.trim().match(/^\s*$/)&&this._history.at(-1)!=t&&(this._history.push(t),this._historyIndex=this._history.length,this.emit("history",this._history)),this.emit("line",t)}}};close(){if(!this._closed){if(this._closed=!0,this.input?.removeAllListeners?.(),this._buffer.length){const e=this._buffer;this._buffer="",this.line=e,this.emit("line",e)}this.emit("history",this._history),this.emit("close"),this.removeAllListeners()}}pause(){return this._paused||(this._paused=!0,"pause"in this.input&&this.input.pause(),this.emit("pause")),this}resume(){return this._paused?(this._paused=!1,"resume"in this.input&&this.input.resume(),this.emit("resume"),this):this}setPrompt(e){this._prompt=e}getPrompt(){return this._prompt}prompt(e){if(!this.output)return;if(!e)return void this.output.write(this._prompt);const{cols:t}=this.getCursorPos();this.output.write(this._prompt),this._cursor=t}write(e,t){if(!this._closed){if(e){const t="string"==typeof e?e:e.toString("utf8");this._onData(t)}if(t&&this.terminal)switch((t.ctrl?"^":"")+t.name){case"^c":this.emit("SIGINT");break;case"^z":this.emit("SIGTSTP");break;case"^q":this.emit("SIGCONT");break;case"home":case"^a":if(!this.output)return;Ra(this.output,-this._cursor,0),this._cursor=0,this._cursor=0;break;case"^e":case"end":{if(!this.output)return;const e=this.line.length-this._cursor;if(!e)return;Ra(this.output,e,0),this._cursor=this.line.length,this._cursor=this.line.length;break}case"^k":{if(!this.output)return;if(this._cursor>=this.line.length)return;const e=this.line.slice(0,this._cursor);Ca(this.output,1),this.line=e;break}case"^u":{if(!this.output||!this._cursor)return;const e=this.line.slice(this._cursor);Ca(this.output,0),Ra(this.output,0,0),this.output.write(this._prompt+e),this.line=e,this._cursor=0,this._cursor=0;break}case"^w":{if(!this.output||!this._cursor)return;let e=this._cursor-1;for(;e>=0&&" "===this.line[e];)e--;for(;e>=0&&" "!==this.line[e];)e--;const t=this.line.slice(0,e+1)+this.line.slice(this._cursor),r=e+1;this._renderLine(t),this._cursor=r,this._cursor=r,Ra(this.output,-t.length,0),Ra(this.output,r,0);break}case"^return":case"^enter":this._onData("\n");break;case"return":case"enter":this._onData((e?"string"==typeof e?e:e.toString("utf8"):"")+"\n");break;case"up":case"down":{if(!this.output||!this._history.length)return;if(this._historyIndex===this._history.length&&(this._currentLine=this.line||""),"up"==t.name&&this._historyIndex>0)this._historyIndex--;else{if(!("down"==t.name&&this._historyIndex<this._history.length-1))return"down"==t.name&&this._historyIndex==this._history.length-1?(this._historyIndex=this._history.length,void this._renderLine(this._currentLine)):void 0;this._historyIndex++}const e=this._history[this._historyIndex];this._renderLine(e);break}case"left":case"right":{const e="left"==t.name?-1:1;if(!this.output)return;const r=Math.max(0,Math.min(this.line.length,this._cursor+e));if(r==this._cursor)return;Ra(this.output,e,0),this._cursor=r,this._cursor=r;break}case"backspace":{if(!this.output||!this._cursor)return;const e=this.line.slice(0,this._cursor-1)+this.line.slice(this._cursor);this._renderLine(e),this._cursor=--this._cursor,this._cursor>0&&(Ra(this.output,-this._cursor,0),Ra(this.output,this._cursor,0));break}case"delete":{if(!this.output)return;if(this._cursor>=this.line.length)return;const e=this.line.slice(0,this._cursor)+this.line.slice(this._cursor+1);Ca(this.output,0),Ra(this.output,0,0),this.output.write(this._prompt+e),this.line=e,Ra(this.output,-e.length,0),Ra(this.output,this._cursor,0);break}}}}_renderLine(e){this.output&&(Ca(this.output,0),Ra(this.output,0,0),this.output.write(this._prompt+e),this.line=e,this._cursor=e.length,this._cursor=e.length)}question(e,t,r){const n="function"==typeof t?t:r;!this._closed&&this.output?(this.output.write(e),this.once("line",n)):n("")}getCursorPos(){return{rows:0,cols:this.cursor}}prependListener(e,t){const r=this.listeners(e);return this.removeAllListeners(e),this.on(e,t),r.forEach(this.on.bind(this,e)),this}prependOnceListener(e,t){const r=this.listeners(e);return this.removeAllListeners(e),this.once(e,t),r.forEach(this.on.bind(this,e)),this}setMaxListeners(){return Et("Interface.prototype.setMaxListeners is not supported"),this}getMaxListeners(){return Et("Interface.prototype.getMaxListeners is not supported"),10}[Symbol.asyncIterator](){let e=!1;return{next:async()=>{if(e)return{done:e,value:void 0};const{resolve:t,promise:r}=Promise.withResolvers();return this.once("line",e=>t({value:e,done:!1})),this.once("close",()=>{e=!0,t({value:void 0,done:e})}),r},return:async t=>(e||(e=!0,this.close()),{done:e,value:t}),throw:async t=>{throw e||(e=!0,this.close()),t},[Symbol.asyncIterator](){return this},[Symbol.asyncDispose]:async()=>{e||(e=!0,this.close())}}}[Symbol.dispose](){this.close()}async[Symbol.asyncDispose](){if(this._closed)return;const{resolve:e,promise:t}=Promise.withResolvers();this.once("close",()=>e()),this.close(),await t}rawListeners(e){return this.listeners(e)}}function Ca(e,t){return e.write(t>=0?"\r[K":"[K"),!0}function Ra(e,t,r){if(!e.write)return!1;let n="";return t<0?n+=`[${-t}D`:t>0&&(n+=`[${t}C`),r<0?n+=`[${-r}A`:r>0&&(n+=`[${r}B`),n&&e.write(n),!0}var Da=__webpack_require__(8521);class Oa extends Da.Readable{pending=!0;_path="<unknown>";_bytesRead=0;reader;ready;constructor(e={},t){super({...e,encoding:e.encoding??void 0}),this.ready=Promise.resolve(t).then(t=>{this._path=t.vfs.path;const r=t.readableWebStream({start:e.start,end:e.end});this.reader=r.getReader(),this.pending=!1}).catch(e=>{this.destroy(e)})}async _read(){try{if(await this.ready,!this.reader)return;const{done:e,value:t}=await this.reader.read();if(e)return void this.push(null);this._bytesRead+=t.byteLength,this.push(t)}catch(e){this.destroy(new ct(st.EIO,e.toString()))}}close(e=()=>null){try{this.destroy(),this.emit("close"),e(null)}catch(t){e(new ct(st.EIO,t.toString()))}}get path(){return this._path}get bytesRead(){return this._bytesRead}wrap(e){return super.wrap(e),this}}class Fa extends Da.Writable{pending=!0;_path="<unknown>";_bytesWritten=0;writer;ready;constructor(e={},t){super(e),this.ready=Promise.resolve(t).then(t=>{this._path=t.vfs.path;const r=t.writableWebStream({start:e.start});this.writer=r.getWriter(),this.pending=!1}).catch(e=>this.destroy(e))}async _write(e,t,r){if(await this.ready,!this.writer)return r(Et(ut("EAGAIN","write",this._path)));if("buffer"!=t)return r(Et(ut("ENOTSUP","write",this._path)));const n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);try{await this.writer.write(n),this._bytesWritten+=e.byteLength,r()}catch(e){r(new ct(st.EIO,e.toString()))}}async _final(e){if(await this.ready,!this.writer)return e();try{await this.writer.close(),e()}catch(t){e(new ct(st.EIO,t.toString()))}}close(e=()=>null){try{this.destroy(),this.emit("close"),e(null)}catch(t){e(new ct(st.EIO,t.toString()))}}get path(){return this._path}get bytesWritten(){return this._bytesWritten}}var Pa=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},Na=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,function(t){return r(t),e()})}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class Ba{context;fd;vfs;constructor(e,t){this.context=e,this.fd=t,this.vfs=Qi(e,t)}_emitChange(){Sa(this.context,"change",this.vfs.path)}async chown(e,t){await this.vfs.chown(e,t),this._emitChange()}async chmod(e){const t=xn(e,-1);if(t<0)throw ut("EINVAL","chmod",this.vfs.path);await this.vfs.chmod(t),this._emitChange()}datasync(){return this.sync()}async sync(){await this.vfs.sync()}async truncate(e=0){await this.vfs.truncate(e),this._emitChange()}async utimes(e,t){e=An(e),t=An(t),await this.vfs.utimes(e,t),this._emitChange()}async appendFile(e,t={}){const r=Tn(t,"utf8","a",420);if(!(rs(r.flag)&hr))throw ut("EBADF","write",this.vfs.path);const n="string"==typeof e?qi.Buffer.from(e,r.encoding):e;await this.vfs.write(n,0,n.length),this._emitChange()}async read(e,t,r,n){if("object"==typeof t&&null!=t&&(n=t.position,r=t.length,t=t.offset),ArrayBuffer.isView(e)||"object"!=typeof e||(n=e.position,r=e.length,t=e.offset,e=e.buffer),n&&n>Number.MAX_SAFE_INTEGER)throw ut("EINVAL");return"bigint"==typeof n&&(n=Number(n)),n=Number.isSafeInteger(n)?n:this.vfs.position,e||=new Uint8Array(this.vfs.inode.size),t??=0,{bytesRead:await this.vfs.read(e,t,r??e.byteLength-t,n),buffer:e}}async readFile(e){const t=Tn(e,null,"r",292);if(rs(t.flag)&sr)throw ut("EBADF","read",this.vfs.path);const{size:r}=await this.stat(),n=new Uint8Array(r);await this.vfs.read(n,0,r,0);const i=qi.Buffer.from(n);return t.encoding?i.toString(t.encoding):i}readableWebStream(e={}){if(this.vfs.isClosed)throw ut("EBADF","readableWebStream",this.vfs.path);return this.vfs.fs.streamRead(this.vfs.internalPath,e)}writableWebStream(e={}){if(this.vfs.isClosed)throw ut("EBADF","writableWebStream",this.vfs.path);if(this.vfs.inode.flags&ai.Immutable)throw ut("EPERM","writableWebStream",this.vfs.path);return this.vfs.fs.streamWrite(this.vfs.internalPath,e)}readLines(e){if(this.vfs.isClosed||this.vfs.flag&sr)throw ut("EBADF","read",this.vfs.path);return function(e){return"input"in e?new Ma(e.input,e.output,e.completer,e.terminal):new Ma(e,void 0,void 0,void 0)}({input:this.createReadStream(e),crlfDelay:1/0})}[Symbol.asyncDispose](){return this.close()}async stat(e){if(this.vfs.isClosed)throw ut("EBADF","stat",this.vfs.path);if(Gi&&!yi(this.context,this.vfs.inode,Jt))throw ut("EACCES","stat",this.vfs.path);return e?.bigint?new Yn(this.vfs.inode):new Xn(this.vfs.inode)}async write(e,t,r,n){let i,s,a;"object"==typeof t&&null!=t&&(r=t.length,n=t.position,t=t.offset),"string"==typeof e?(n="number"==typeof t?t:null,s=0,i=qi.Buffer.from(e,"string"==typeof r?r:"utf8"),a=i.length):(i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=t??0,a="number"==typeof r?r:i.byteLength,n="number"==typeof n?n:null),n??=this.vfs.position;const o=await this.vfs.write(i,s,a,n);return this._emitChange(),{buffer:e,bytesWritten:o}}async writeFile(e,t={}){const r=Tn(t,"utf8","w",420),n=rs(r.flag);if(!(n&sr||n&ar))throw ut("EBADF","writeFile",this.vfs.path);const i="string"==typeof e?qi.Buffer.from(e,r.encoding):e;await this.vfs.write(i,0,i.length,0),this._emitChange()}async close(){await this.vfs.close(),es(this.context,this.fd)}async writev(e,t){"number"==typeof t&&(this.vfs.position=t);let r=0;for(const t of e)r+=(await this.write(t)).bytesWritten;return{bytesWritten:r,buffers:e}}async readv(e,t){"number"==typeof t&&(this.vfs.position=t);let r=0;for(const t of e)r+=(await this.read(t)).bytesRead;return{bytesRead:r,buffers:e}}createReadStream(e={}){if(this.vfs.isClosed||this.vfs.flag&sr)throw ut("EBADF","createReadStream",this.vfs.path);return new Oa(e,this)}createWriteStream(e={}){if(this.vfs.isClosed)throw ut("EBADF","createWriteStream",this.vfs.path);if(this.vfs.inode.flags&ai.Immutable)throw ut("EPERM","createWriteStream",this.vfs.path);if(this.vfs.fs.attributes.has("readonly"))throw ut("EROFS","createWriteStream",this.vfs.path);return new Fa(e,this)}}async function La(e,t){await ka.call(this,e,t)}async function Ua(e){e=kn(e);try{const{fs:t,path:r}=await Ea(this,e);return await t.exists(r)}catch(e){if(e instanceof ct&&"ENOENT"==e.code)return!1;throw e}}async function Va(e,t){e=kn(e);const{fs:r,path:n}=await Ea(this,e),i={syscall:"stat",path:e},s=await r.stat(n).catch(ht(i));if(Gi&&!yi(this,s,Jt))throw ut("EACCES",i);return t?.bigint?new Yn(s):new Xn(s)}async function ja(e,t){const r={syscall:"lstat",path:e=kn(e)},{base:n,dir:i}=qn(e),{fs:s,path:a}=await Ea(this,i),o=await s.stat(n?Ln(a,n):a).catch(ht(r));if(Gi&&!yi(this,o,Jt))throw ut("EACCES",r);return t?.bigint?new Yn(o):new Xn(o)}async function za(e,t=0){const r={stack:[],error:void 0,hasError:!1};try{const n=Pa(r,await qa.call(this,e,"r+"),!0);await n.truncate(t)}catch(e){r.error=e,r.hasError=!0}finally{const e=Na(r);e&&await e}}async function $a(e){e=kn(e);const{fs:t,path:r}=hs(e,this),n={syscall:"unlink",path:e},i=await t.stat(r).catch(ht(n));if(Gi&&!yi(this,i,Qt))throw ut("EACCES",n);await t.unlink(r).catch(ht(n)),Sa(this,"rename",e.toString())}async function qa(e,t="r",r=420){const n=await _a(this,e,{flag:t,mode:r});return new Ba(this,Ji(n))}async function Ga(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Tn(t,null,"r",292),i=Pa(r,"object"==typeof e&&"fd"in e?e:await qa.call(this,e,n.flag,n.mode),!0);return await i.readFile(n)}catch(e){r.error=e,r.hasError=!0}finally{const e=Na(r);e&&await e}}async function Wa(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Tn(r,"utf8","w+",420),s=Pa(n,e instanceof Ba?e:await qa.call(this,e.toString(),i.flag,i.mode),!0),a="string"==typeof t?t:t instanceof DataView?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t;if("string"!=typeof a&&!(a instanceof Uint8Array))throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView. Received '+typeof t);await s.writeFile(a,i)}catch(e){n.error=e,n.hasError=!0}finally{const e=Na(n);e&&await e}}async function Ha(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Tn(r,"utf8","a",420),s=rs(i.flag),a={syscall:"write",path:e instanceof Ba?e.vfs.path:e.toString()};if(!(s&hr))throw ut("EBADF",a);const o="string"==typeof t?qi.Buffer.from(t,i.encoding):new Uint8Array(t.buffer,t.byteOffset,t.byteLength),c=Pa(n,"object"==typeof e&&"fd"in e?e:await qa.call(this,e,i.flag,i.mode),!0);await c.appendFile(o,i)}catch(e){n.error=e,n.hasError=!0}finally{const e=Na(n);e&&await e}}async function Xa(e){e=kn(e);const{fs:t,path:r}=await Ea(this,e),n={syscall:"rmdir",path:e},i=await t.stat(r).catch(ht(n));if(!i)throw ut("ENOENT",n);if(!hi(i))throw ut("ENOTDIR",n);if(Gi&&!yi(this,i,Qt))throw ut("EACCES",n);await t.rmdir(r).catch(ht(n)),Sa(this,"rename",e.toString())}async function Ya(e,t){t="object"==typeof t?t:{mode:t};const r=xn(t?.mode,511);return await xa.call(this,e,{...t,mode:r})}async function Ka(e,t){e=kn(e);const r="object"==typeof t&&null!=t?t:{encoding:t,withFileTypes:!1,recursive:!1},n=await Aa.call(this,e,r),i=[];for(const e of n)r.withFileTypes?i.push(Es.from(e,r.encoding)):"buffer"==r.encoding?i.push(qi.Buffer.from(e.path)):i.push(e.path);return i}async function Za(e,t){return await Ta.call(this,e,t)}async function Ja(e,t,r="file"){const n={stack:[],error:void 0,hasError:!1};try{if(!["file","dir","junction"].includes(r))throw new TypeError("Invalid symlink type: "+r);if(t=kn(t),await Ua.call(this,t))throw ut("EEXIST","symlink",t);const i=Pa(n,await _a(this,t,{flag:"w+",mode:420,preserveSymlinks:!0}),!0),s=tt(kn(e,!0));await i.write(s,0,s.length,0),await i.chmod(Er)}catch(e){n.error=e,n.hasError=!0}finally{const e=Na(n);e&&await e}}async function Qa(e,t){e=kn(e);const r=qi.Buffer.from(await Ia.call(this,e),"utf-8"),n="object"==typeof t?t?.encoding:t;return"buffer"==n?r:r.toString(n??"utf-8")}async function eo(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Pa(n,await qa.call(this,e,"r+"),!0);await i.chown(t,r)}catch(e){n.error=e,n.hasError=!0}finally{const e=Na(n);e&&await e}}async function to(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Pa(n,await _a(this,e,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0);await i.chown(t,r)}catch(e){n.error=e,n.hasError=!0}finally{const e=Na(n);e&&await e}}async function ro(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Pa(r,await qa.call(this,e,"r+"),!0);await n.chmod(t)}catch(e){r.error=e,r.hasError=!0}finally{const e=Na(r);e&&await e}}async function no(e,t){const r={stack:[],error:void 0,hasError:!1};try{t=xn(t);const n=Pa(r,await _a(this,e,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0);await n.chmod(t)}catch(e){r.error=e,r.hasError=!0}finally{const e=Na(r);e&&await e}}async function io(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Pa(n,await _a(this,e,{flag:"r+",allowDirectory:!0}),!0);await i.utimes(An(t),An(r))}catch(e){n.error=e,n.hasError=!0}finally{const e=Na(n);e&&await e}}async function so(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Pa(n,await _a(this,e,{flag:"r+",mode:420,preserveSymlinks:!0,allowDirectory:!0}),!0);await i.utimes(An(t),An(r))}catch(e){n.error=e,n.hasError=!0}finally{const e=Na(n);e&&await e}}async function ao(e,t){const r="string"==typeof t?t:t?.encoding??"utf8";e=kn(e);const{fullPath:n}=await Ea(this,e);if("utf8"==r||"utf-8"==r)return n;const i=qi.Buffer.from(n,"utf-8");return"buffer"==r?i:i.toString(r)}function oo(e,t={}){const r=new ba(this,e.toString(),"string"!=typeof t?t:{encoding:t}),n=[];let i=!1;function s(){i=!0,r.close();for(const e of n)e({value:null,done:i});return n.length=0,Promise.resolve({value:void 0,done:!0})}return r.on("change",(e,t)=>{n.shift()?.({value:{eventType:e,filename:t},done:!1})}),{async next(){if(i)return Promise.resolve({value:void 0,done:i});const{promise:e,resolve:t}=Promise.withResolvers();return n.push(t),e},return:s,throw:s,async[Symbol.asyncDispose](){await s()},[Symbol.asyncIterator](){return this}}}async function co(e,t=Zt){if(Gi&&!(await Va.call(this,e)).hasAccess(t,this))throw ut("EACCES","access",e.toString())}async function uo(e,t){e=kn(e);const r=await ja.call(this,e).catch(e=>{if("ENOENT"!=e.code||!t?.force)throw e});if(r)switch(r.mode&vr){case xr:if(t?.recursive)for(const r of await Ka.call(this,e))await uo.call(this,Ln(e,r),t);await Xa.call(this,e);break;case _r:case Er:case Ir:case Ar:await $a.call(this,e);break;default:throw ut("ENOSYS","rm",e)}}async function lo(e,t){const r="object"==typeof t?t?.encoding:t||"utf8",n=Rn(e);return await Ya.call(this,n),"buffer"==r?qi.Buffer.from(n):n}async function ho(e,t){const r=Rn(e);await Ya.call(this,r);const n=()=>uo(r,{recursive:!0,force:!0});return{path:r,remove:n,[Symbol.asyncDispose]:n}}async function fo(e,t,r){if(e=kn(e),t=kn(t),r&&r&tr&&await Ua.call(this,t))throw ut("EEXIST","copyFile",t);await Wa.call(this,t,await Ga.call(this,e)),Sa(this,"rename",t.toString())}function po(e,t){return e=kn(e),Promise.resolve(new _s(e,this))}async function go(e,t,r){e=kn(e),t=kn(t);const n=await ja.call(this,e);if(r?.errorOnExist&&await Ua.call(this,t))throw ut("EEXIST","cp",t);switch(n.mode&vr){case xr:{if(!r?.recursive)throw ut("EISDIR","cp",e);const[n]=await Promise.all([Ka.call(this,e,{withFileTypes:!0}),Ya.call(this,t,{recursive:!0})]),i=async n=>{r.filter&&!r.filter(Ln(e,n.name),Ln(t,n.name))||await go.call(this,Ln(e,n.name),Ln(t,n.name),r)};await Promise.all(n.map(i));break}case _r:case Er:await fo.call(this,e,t);break;default:throw ut("ENOSYS","cp",e)}r?.preserveTimestamps&&await io.call(this,t,n.atime,n.mtime)}async function mo(e,t){e=kn(e);const{fs:r}=hs(e,this);return Promise.resolve(fs(r,t?.bigint))}function yo(e,t){e=Array.isArray(e)?e:[e];const{cwd:r="/",withFileTypes:n=!1,exclude:i=()=>!1}=t||{},s=e.map(Mn);return async function*e(t){const r=await Ka(t,{withFileTypes:n,encoding:"utf8"});for(const a of r){const r=n?Ln(a.parentPath,a.name):t+"/"+a;("function"!=typeof i?i.some(e=>Gn(e,r)):i(n?a:r))||((await Va(r)).isDirectory()&&s.some(e=>e.source.includes(".*"))&&(yield*e(r)),s.some(e=>e.test(r.replace(/^\/+/g,"")))&&(yield n?a:r.replace(/^\/+/g,"")))}}(r)}function bo(e,t){t.disableAsyncCache&&e.attributes.set("no_async_preload"),t.caseFold&&e.attributes.set("case_fold",t.caseFold)}function wo(e){return $t(e)||Vt(e)||e instanceof Ei}function vo(e){return"function"==typeof e?.then}async function So(e,t=0){if("object"!=typeof e||null==e)throw St(lt("EINVAL","Invalid options on mount configuration"));if(!wo(e))throw St(lt("EINVAL","Invalid mount configuration"));if(e instanceof Ei)return await e.ready(),e;Vt(e)&&(e={backend:e});for(const[r,n]of Object.entries(e))if("backend"!=r&&wo(n)){if(It("Resolving nested mount configuration: "+r),t>10)throw St(lt("EINVAL","Invalid configuration, too deep and possibly infinite"));e[r]=await So(n,++t)}const{backend:r}=e;if("function"==typeof r.isAvailable&&!await r.isAvailable(e))throw St(lt("EPERM","Backend not available: "+r.name));zt(r,e);const n=await r.create(e);return bo(n,e),await n.ready(),n}function Eo(e,t=0){if("object"!=typeof e||null==e)throw St(lt("EINVAL","Invalid options on mount configuration"));if(!wo(e))throw St(lt("EINVAL","Invalid mount configuration"));if(e instanceof Ei)return _i(e),e;Vt(e)&&(e={backend:e});for(const[r,n]of Object.entries(e))if("backend"!=r&&wo(n)){if(It("Resolving nested mount configuration: "+r),t>10)throw St(lt("EINVAL","Invalid configuration, too deep and possibly infinite"));e[r]=Eo(n,++t)}const r=e,{backend:n}=r;if("function"==typeof n.isAvailable){const e=n.isAvailable(r);if(vo(e))throw St(lt("ENOTSUP","Backend availability check is asynchronous: "+n.name));if(!e)throw St(lt("EPERM","Backend not available: "+n.name))}zt(n,r);const i=n.create(r);if(vo(i))throw St(lt("ENOTSUP","Backend requires asynchronous initialization: "+n.name));const s=i;return bo(s,r),_i(s),s}async function _o(e){if(!wo(e))throw new TypeError("Invalid single mount point configuration");const t=await So(e);ls("/"),us("/",t)}function Io(e){if(!wo(e))throw new TypeError("Invalid single mount point configuration");const t=Eo(e);ls("/"),us("/",t)}async function xo(e,t){if("/"==e)return void us(e,t);const r=await Va(e).catch(()=>null);if(r){if(!r.isDirectory())throw lt("ENOTDIR","Missing directory at mount point: "+e)}else await Ya(e,{recursive:!0});us(e,t)}function Ao(e,t){if("/"==e)return void us(e,t);let r=null;try{r=Ts(e)}catch(e){if("ENOENT"!=e?.code)throw e}if(r){if(!r.isDirectory())throw lt("ENOTDIR","Missing directory at mount point: "+e)}else Xs(e,{recursive:!0});us(e,t)}function ko(e,t){const r=cs.get("/dev");if(!(r instanceof Ni))throw vt(lt("ENOTSUP","/dev does not exist or is not a device file system"));return r._createDevice(e,t)}const To=["/tmp","/var","/etc"];async function Mo(e){if(Object.assign(Ht.credentials,qt({uid:e.uid||0,gid:e.gid||0})),Wi(!e.disableAccessChecks),e.log&&Ut(e.log),e.mounts)for(const[t,r]of Object.entries(e.mounts).sort(([e],[t])=>e.length>t.length?1:-1)){const n=t.startsWith("/")?t:"/"+t;$t(r)&&(r.disableAsyncCache??=e.disableAsyncCache||!1,r.caseFold??=e.caseFold),"/"==n&&ls("/"),await xo(n,await So(r))}for(const t of cs.values())bo(t,e);if(e.addDevices&&!cs.has("/dev")){const e=new Ni;e.addDefaults(),await e.ready(),await xo("/dev",e)}if(e.defaultDirectories)for(const e of To)await Ua(e)?(await Va(e)).isDirectory()||Et("Default directory exists but is not a directory: "+e):await Ya(e)}function Co(e){if(Object.assign(Ht.credentials,qt({uid:e.uid||0,gid:e.gid||0})),Wi(!e.disableAccessChecks),e.log&&Ut(e.log),e.mounts)for(const[t,r]of Object.entries(e.mounts).sort(([e],[t])=>e.length>t.length?1:-1)){const n=t.startsWith("/")?t:"/"+t;$t(r)&&(r.disableAsyncCache??=e.disableAsyncCache||!1,r.caseFold??=e.caseFold),"/"==n&&ls("/"),Ao(n,Eo(r))}for(const t of cs.values())bo(t,e);if(e.addDevices&&!cs.has("/dev")){const e=new Ni;e.addDefaults(),_i(e),Ao("/dev",e)}if(e.defaultDirectories)for(const e of To)ks(e)?Ts(e).isDirectory()||Et("Default directory exists but is not a directory: "+e):Xs(e)}async function Ro(){for(const e of cs.values())await e.sync()}const Do=["delete"];function Oo(e){return Do.some(t=>t===e)}const Fo=Math.max(...Do.map(e=>e.length)),Po="#journal@v0\n";class No extends qe{entries=[];toString(){return Po+this.entries.map(e=>`${e.op.padEnd(Fo)} ${e.path}`).join("\n")}fromString(e){if(!e.startsWith(Po))throw St(lt("EINVAL","Invalid journal contents, refusing to parse"));for(const t of e.split("\n")){if(t.startsWith("#"))continue;const[e,r]=t.split(/\s+/);Oo(e)?this.entries.push({op:e,path:r}):Et("Unknown operation in journal (skipping): "+e)}return this}add(e,t){this.entries.push({op:e,path:t}),this.emit("update",e,t),this.emit(e,t)}has(e,t){const r=JSON.stringify({op:e,path:t});for(const e of this.entries)if(JSON.stringify(e)===r)return!0;return!1}isDeleted(e){let t=!1;for(const r of this.entries)r.path==e&&"delete"===r.op&&(t=!0);return t}}class Bo extends Ei{readable;writable;journal;async ready(){await this.readable.ready(),await this.writable.ready()}readySync(){_i(this.readable),_i(this.writable)}constructor(e,t,r=new No){if(super(1651862636,e.name),this.readable=e,this.writable=t,this.journal=r,t.attributes.has("no_write"))throw St(lt("EINVAL","Writable file system can not be written to"));e.attributes.set("no_write")}isDeleted(e){return this.journal.isDeleted(e)}usage(){return this.readable.usage()}async sync(){await this.writable.sync()}syncSync(){this.writable.syncSync()}async read(e,t,r,n){return await this.writable.exists(e)?await this.writable.read(e,t,r,n):await this.readable.read(e,t,r,n)}readSync(e,t,r,n){return this.writable.existsSync(e)?this.writable.readSync(e,t,r,n):this.readable.readSync(e,t,r,n)}async write(e,t,r){return await this.copyForWrite(e),await this.writable.write(e,t,r)}writeSync(e,t,r){return this.copyForWriteSync(e),this.writable.writeSync(e,t,r)}async rename(e,t){await this.copyForWrite(e);try{await this.writable.rename(e,t)}catch{if(this.isDeleted(e))throw lt("ENOENT")}}renameSync(e,t){this.copyForWriteSync(e);try{this.writable.renameSync(e,t)}catch{if(this.isDeleted(e))throw lt("ENOENT")}}async stat(e){try{return await this.writable.stat(e)}catch{if(this.isDeleted(e))throw lt("ENOENT");return await this.readable.stat(e)}}statSync(e){try{return this.writable.statSync(e)}catch{if(this.isDeleted(e))throw lt("ENOENT");return this.readable.statSync(e)}}async touch(e,t){await this.copyForWrite(e),await this.writable.touch(e,t)}touchSync(e,t){this.copyForWriteSync(e),this.writable.touchSync(e,t)}async createFile(e,t){return await this.createParentDirectories(e),await this.writable.createFile(e,t)}createFileSync(e,t){return this.createParentDirectoriesSync(e),this.writable.createFileSync(e,t)}async link(e,t){await this.copyForWrite(e),await this.writable.link(e,t)}linkSync(e,t){this.copyForWriteSync(e),this.writable.linkSync(e,t)}async unlink(e){if(!await this.exists(e))throw lt("ENOENT");await this.writable.exists(e)&&await this.writable.unlink(e),await this.exists(e)&&this.journal.add("delete",e)}unlinkSync(e){if(!this.existsSync(e))throw lt("ENOENT");this.writable.existsSync(e)&&this.writable.unlinkSync(e),this.existsSync(e)&&this.journal.add("delete",e)}async rmdir(e){if(!await this.exists(e))throw lt("ENOENT");if(await this.writable.exists(e)&&await this.writable.rmdir(e),await this.exists(e)){if((await this.readdir(e)).length)throw lt("ENOTEMPTY");this.journal.add("delete",e)}}rmdirSync(e){if(!this.existsSync(e))throw lt("ENOENT");if(this.writable.existsSync(e)&&this.writable.rmdirSync(e),this.existsSync(e)){if(this.readdirSync(e).length)throw lt("ENOTEMPTY");this.journal.add("delete",e)}}async mkdir(e,t){if(await this.exists(e))throw lt("EEXIST");return await this.createParentDirectories(e),await this.writable.mkdir(e,t)}mkdirSync(e,t){if(this.existsSync(e))throw lt("EEXIST");return this.createParentDirectoriesSync(e),this.writable.mkdirSync(e,t)}async readdir(e){if(this.isDeleted(e)||!await this.exists(e))throw lt("ENOENT");const t=await this.readable.exists(e)?await this.readable.readdir(e):[];if(await this.writable.exists(e))for(const r of await this.writable.readdir(e))t.includes(r)||t.push(r);return t.filter(t=>!this.isDeleted(Ln(e,t)))}readdirSync(e){if(this.isDeleted(e)||!this.existsSync(e))throw lt("ENOENT");const t=this.readable.existsSync(e)?this.readable.readdirSync(e):[];if(this.writable.existsSync(e))for(const r of this.writable.readdirSync(e))t.includes(r)||t.push(r);return t.filter(t=>!this.isDeleted(Ln(e,t)))}streamRead(e,t){return this.writable.existsSync(e)?this.writable.streamRead(e,t):this.readable.streamRead(e,t)}streamWrite(e,t){return this.copyForWriteSync(e),this.writable.streamWrite(e,t)}createParentDirectoriesSync(e){const t=[],r=Ke(lt("EDEADLK"));for(let r=Vn(e);!this.writable.existsSync(r);r=Vn(r))t.push(r);r(),t.length&&xt("COW: Creating parent directories: "+t.join(", "));for(const e of t.reverse())this.writable.mkdirSync(e,this.statSync(e))}async createParentDirectories(e){const t=[],r=Ke(lt("EDEADLK",e));for(let r=Vn(e);!await this.writable.exists(r);r=Vn(r))t.push(r);r(),t.length&&xt("COW: Creating parent directories: "+t.join(", "));for(const e of t.reverse())await this.writable.mkdir(e,await this.stat(e))}copyForWriteSync(e){if(!this.existsSync(e))throw lt("ENOENT");this.writable.existsSync(Vn(e))||this.createParentDirectoriesSync(e),this.writable.existsSync(e)||this.copyToWritableSync(e)}async copyForWrite(e){if(!await this.exists(e))throw lt("ENOENT");if(await this.writable.exists(Vn(e))||await this.createParentDirectories(e),!await this.writable.exists(e))return this.copyToWritable(e)}copyToWritableSync(e){const t=this.readable.statSync(e);if(hi(t)){this.writable.mkdirSync(e,t);for(const t of this.readable.readdirSync(e))this.copyToWritableSync(Ln(e,t));return}const r=new Uint8Array(t.size);this.readable.readSync(e,r,0,r.byteLength),this.writable.createFileSync(e,t),this.writable.touchSync(e,t),this.writable.writeSync(e,r,0)}async copyToWritable(e){const t=await this.readable.stat(e);if(hi(t)){await this.writable.mkdir(e,t);for(const t of await this.readable.readdir(e))await this.copyToWritable(Ln(e,t));return}const r=new Uint8Array(t.size);await this.readable.read(e,r,0,t.size),await this.writable.createFile(e,t),await this.writable.touch(e,t),await this.writable.write(e,r,0)}}const Lo={name:"CopyOnWrite",options:{writable:{type:"object",required:!0},readable:{type:"object",required:!0},journal:{type:"object",required:!1}},async create(e){const t=await So(e.readable),r=await So(e.writable);return new Bo(t,r,e.journal)}},Uo=new Map;async function Vo(e,t={},r=!1){const n=await fetch(e,t).catch(e=>{throw{tag:"fetch",message:e.message}});if(!n.ok)throw{tag:"status",response:n};const i=await n.arrayBuffer().catch(e=>{if(!r)throw{tag:"buffer",response:n,message:e.message}});return{response:n,data:i?new Uint8Array(i):void 0}}async function jo(e,t,r={}){const n=new Request(e,r);if("number"!=typeof t.start||"number"!=typeof t.end){const{data:n}=await Vo(e,r);return new Ii(e,n.byteLength,t,Uo).add(n,0),n}if("number"!=typeof t.size){t.warn?.(e+": Size not provided, an additional HEAD request is being made");const{headers:r}=await fetch(n,{method:"HEAD"}),i=parseInt(r.get("Content-Length")??"");if("number"!=typeof i)throw{tag:"size",message:"Response is missing content-length header and no size was provided"};t.size=i}const{size:i,start:s,end:a}=t,o=Uo.get(e)??new Ii(e,i,t,Uo);n.headers.set("If-Range",(new Date).toUTCString());for(const{start:r,end:c}of o.missing(s,a)){const{data:u,response:l}=await Vo(n,{headers:{Range:`bytes=${r}-${c}`}});if(206!=l.status)return t.warn?.(e+": Remote does not support range requests with bytes. Falling back to full data."),new Ii(e,i,t,Uo).add(u,0),u.subarray(s,a);o.add(u,r)}o.collect();const c=o.regionAt(s);return c.data.subarray(s-c.offset,a-c.offset)}async function zo(e,t,r,n={}){Uo.has(e)||new Ii(e,r.size??t.byteLength,r,Uo);const i=Uo.get(e),{offset:s=0,method:a="POST"}=r;if(!r.cacheOnly){const r=new Headers(n.headers||{});if(r.get("Content-Type")||r.set("Content-Type","application/octet-stream"),!r.get("Content-Range")&&(0!==s||t.byteLength!==i.size)){const e=s,n=s+t.byteLength-1,a=Math.max(i.size,n+1);r.set("Content-Range",`bytes ${e}-${n}/${a}`)}await Vo(new Request(e,{...n,method:a,headers:r,body:t.buffer instanceof ArrayBuffer?t:Uint8Array.from(t)}),{},!0)}i.add(t,s)}async function $o(e,t={},r={}){t.cacheOnly||await Vo(new Request(e,r),{method:"DELETE"},!0),Uo.delete(e)}class qo extends Ei{index;constructor(e,t,r=new vi){super(e,t),this.index=r}usage(){return this.index.usage()}pathsForRename(e,t){if(!this.index.has(e))throw lt("ENOENT");if((Vn(t)+"/").startsWith(e+"/"))throw lt("EBUSY");const r=[];for(const[n,i]of this.index.entries()){const s=Un(e,n);if(s.startsWith(".."))continue;let a=Ln(t,s);a.endsWith("/")&&(a=a.slice(0,-1)),r.push({from:n,to:a,inode:i})}return r.sort((e,t)=>t.from.length-e.from.length),r}async rename(e,t){if(e==t)return;const r=this.pathsForRename(e,t),n=new Map;for(const{from:e,to:t,inode:i}of r){const r=new Uint8Array(i.size);await this.read(e,r,0,i.size),n.set(t,r),this.index.delete(e),await this.remove(e),this.index.has(t)&&await this.remove(t)}r.reverse();for(const{to:e,inode:t}of r){const r=n.get(e);this.index.set(e,t),(t.mode&vr)==xr?await(this._mkdir?.(e,t)):await this.write(e,r,0)}}renameSync(e,t){if(e==t)return;const r=this.pathsForRename(e,t),n=new Map;for(const{from:e,to:t,inode:i}of r){const r=new Uint8Array(i.size);this.readSync(e,r,0,i.size),n.set(t,r),this.index.delete(e),this.removeSync(e),this.index.has(t)&&this.removeSync(t)}r.reverse();for(const{to:e,inode:t}of r){const r=n.get(e);this.index.set(e,t),(t.mode&vr)==xr?this._mkdirSync?.(e,t):this.writeSync(e,r,0)}}async stat(e){const t=this.index.get(e);if(!t)throw lt("ENOENT");return t}statSync(e){const t=this.index.get(e);if(!t)throw lt("ENOENT");return t}async touch(e,t){(this.index.get(e)??Ze(lt("ENOENT"))).update(t)}touchSync(e,t){(this.index.get(e)??Ze(lt("ENOENT"))).update(t)}_remove(e,t){const r=this.index.get(e);if(!r)throw lt("ENOENT");const n=(r.mode&vr)==xr;if(!n&&!t)throw lt("ENOTDIR");if(n&&t)throw lt("EISDIR");n||this.index.delete(e)}async unlink(e){this._remove(e,!0),await this.remove(e)}unlinkSync(e){this._remove(e,!0),this.removeSync(e)}async rmdir(e){if(this._remove(e,!1),(await this.readdir(e)).length)throw lt("ENOTEMPTY");this.index.delete(e),await this.remove(e)}rmdirSync(e){if(this._remove(e,!1),this.readdirSync(e).length)throw lt("ENOTEMPTY");this.index.delete(e),this.removeSync(e)}create(e,t){if(this.index.has(e))throw lt("EEXIST");const r=this.index.get(Vn(e));if(!r)throw lt("ENOENT");const n=this.index._alloc(),i=new ui({ino:n,data:n+1,mode:t.mode,size:0,uid:r.mode&Tr?r.uid:t.uid,gid:r.mode&Mr?r.gid:t.gid,nlink:1});return this.index.set(e,i),i}async createFile(e,t){return t.mode|=_r,this.create(e,t)}createFileSync(e,t){return t.mode|=_r,this.create(e,t)}async mkdir(e,t){t.mode|=xr;const r=this.create(e,t);return await(this._mkdir?.(e,t)),r}mkdirSync(e,t){t.mode|=xr;const r=this.create(e,t);return this._mkdirSync?.(e,t),r}link(e,t){throw lt("ENOSYS")}linkSync(e,t){throw lt("ENOSYS")}async readdir(e){return Object.keys(this.index.directoryEntries(e))}readdirSync(e){return Object.keys(this.index.directoryEntries(e))}async sync(){}syncSync(){}}function Go(e){if(!("tag"in e))throw St(lt("EIO",e.stack));switch(e.tag){case"fetch":throw St(lt("EREMOTEIO",e.message));case"status":throw St(lt(e.response.status>500?"EREMOTEIO":"EIO","Response status code is "+e.response.status));case"size":throw St(lt("EBADE",e.message));case"buffer":throw St(lt("EIO","Failed to decode buffer"))}}class Wo extends qo{baseUrl;requestInit;remoteWrite;_asyncDone=Promise.resolve();_async(e){this._asyncDone=this._asyncDone.then(()=>e)}constructor(e,t,r={},n){super(544106099,"nfs",e),this.baseUrl=t,this.requestInit=r,this.remoteWrite=n}async remove(e){await $o(this.baseUrl+e,{warn:Et,cacheOnly:!this.remoteWrite},this.requestInit)}removeSync(e){this._async($o(this.baseUrl+e,{warn:Et,cacheOnly:!this.remoteWrite},this.requestInit))}async read(e,t,r=0,n){const i=this.index.get(e);if(!i)throw lt("ENOENT");if(n-r==0)return;const s=await jo(this.baseUrl+e,{start:r,end:n,size:i.size,warn:Et},this.requestInit).catch(Go).catch(()=>{});if(!s)throw lt("ENODATA");t.set(s)}readSync(e,t,r=0,n){const i=this.index.get(e);if(!i)throw lt("ENOENT");if(n-r==0)return;const{data:s,missing:a}=function(e,t){const r=Uo.get(e);if(!r)return t.size?{data:new Uint8Array(0),missing:[{start:0,end:t.size??0}]}:(t.warn?.(e+": Size not provided and cache is empty, can not determine missing range"),{data:void 0,missing:[]});const{start:n=0,end:i=r.size}=t,s=new Uint8Array(i-n);for(const e of r.regions)if(!(e.offset+e.data.byteLength<=n)){if(e.offset>=i)break;for(const t of e.ranges){if(t.end<=n)continue;if(t.start>=i)break;const r=Math.max(t.start,n),a=Math.min(t.end,i);r>=a||s.set(e.data.subarray(r-e.offset,a-e.offset),r-n)}}return{data:s,missing:r.missing(n,i)}}(this.baseUrl+e,{start:r,end:n,size:i.size,warn:Et});if(!s)throw lt("ENODATA");if(a.length)throw this._async(jo(this.baseUrl+e,{start:r,end:n,size:i.size,warn:Et})),lt("EAGAIN");t.set(s)}async write(e,t,r){const n=this.index.get(e);if(!n)throw lt("ENOENT");n.update({mtimeMs:Date.now(),size:Math.max(n.size,t.byteLength+r)}),await zo(this.baseUrl+e,t,{offset:r,warn:Et,cacheOnly:!this.remoteWrite},this.requestInit).catch(Go)}writeSync(e,t,r){const n=this.index.get(e);if(!n)throw lt("ENOENT");n.update({mtimeMs:Date.now(),size:Math.max(n.size,t.byteLength+r)}),this._async(zo(this.baseUrl+e,t,{offset:r,warn:Et,cacheOnly:!this.remoteWrite},this.requestInit).catch(Go))}}const Ho={name:"Fetch",options:{index:{type:["string","object"],required:!1},baseUrl:{type:"string",required:!0},requestInit:{type:"object",required:!1},remoteWrite:{type:"boolean",required:!1}},isAvailable:()=>"function"==typeof globalThis.fetch,async create(e){const t=new URL(e.baseUrl);t.pathname=kn(t.pathname);let r=t.toString();"/"==r.at(-1)&&(r=r.slice(0,-1)),e.index??="index.json";const n=new vi;if("string"!=typeof e.index)n.fromJSON(e.index);else{const t=await jo(e.index,{warn:Et},e.requestInit).catch(Go);n.fromJSON(JSON.parse(nt(t)))}const i=new Wo(n,r,e.requestInit,e.remoteWrite);if(e.disableAsyncCache)return i;for(const[t,i]of n)i.mode&_r&&await jo(r+t,{warn:Et},e.requestInit).catch(Go);return i}};var Xo=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},Yo=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,function(t){return r(t),e()})}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class Ko extends Ei{nodeFS;prefix;constructor(e,t){super(1852793957,"nodefs"),this.nodeFS=e,this.prefix=t}usage(){const e=this.nodeFS.statfsSync(this.prefix);return{totalSpace:e.bsize*e.blocks,freeSpace:e.bsize*e.bfree}}path(e){return this.prefix+e}async rename(e,t){await this.nodeFS.promises.rename(this.path(e),this.path(t))}renameSync(e,t){this.nodeFS.renameSync(this.path(e),this.path(t))}async stat(e){return await this.nodeFS.promises.stat(this.path(e))}statSync(e){return this.nodeFS.statSync(this.path(e))}async touch(e,t){const r={stack:[],error:void 0,hasError:!1};try{const n=Xo(r,await this.nodeFS.promises.open(this.path(e),"r"),!0);await n.chmod(t.mode);try{await n.chown(t.uid,t.gid)}catch(e){St("Failed to chown passthrough file: "+e.message)}}catch(e){r.error=e,r.hasError=!0}finally{const e=Yo(r);e&&await e}}touchSync(e,t){this.nodeFS.chmodSync(this.path(e),t.mode);try{this.nodeFS.chownSync(this.path(e),t.uid,t.gid)}catch(e){St("Failed to chown passthrough file: "+e.message)}}async unlink(e){await this.nodeFS.promises.unlink(this.path(e))}unlinkSync(e){this.nodeFS.unlinkSync(this.path(e))}async mkdir(e,t){return await this.nodeFS.promises.mkdir(this.path(e),t),await this.nodeFS.promises.stat(this.path(e))}mkdirSync(e,t){return this.nodeFS.mkdirSync(this.path(e),t),this.nodeFS.statSync(this.path(e))}async readdir(e){return await this.nodeFS.promises.readdir(this.path(e))}readdirSync(e){return this.nodeFS.readdirSync(this.path(e))}async createFile(e,t){if(hi(t))await this.nodeFS.promises.mkdir(this.path(e),{mode:t.mode});else{const t={stack:[],error:void 0,hasError:!1};try{const r=Xo(t,await this.nodeFS.promises.open(this.path(e),"wx"),!0);await r.close()}catch(e){t.error=e,t.hasError=!0}finally{const e=Yo(t);e&&await e}}return await this.nodeFS.promises.stat(this.path(e))}createFileSync(e,t){if(hi(t))this.nodeFS.mkdirSync(this.path(e),{mode:t.mode});else{const t=this.nodeFS.openSync(this.path(e),"wx");this.nodeFS.closeSync(t)}return this.nodeFS.statSync(this.path(e))}async rmdir(e){await this.nodeFS.promises.rmdir(this.path(e))}rmdirSync(e){this.nodeFS.rmdirSync(this.path(e))}async sync(){Et("Sync on passthrough is unnecessary")}syncSync(){Et("Sync on passthrough is unnecessary")}async link(e,t){await this.nodeFS.promises.link(this.path(e),this.path(t))}linkSync(e,t){this.nodeFS.linkSync(this.path(e),this.path(t))}async read(e,t,r,n){const i={stack:[],error:void 0,hasError:!1};try{const s=Xo(i,await this.nodeFS.promises.open(this.path(e),"r"),!0);await s.read({buffer:t,offset:r,length:n-r})}catch(e){i.error=e,i.hasError=!0}finally{const e=Yo(i);e&&await e}}readSync(e,t,r,n){const i=this.nodeFS.openSync(this.path(e),"r");try{this.nodeFS.readSync(i,t,{offset:r,length:n-r})}finally{this.nodeFS.closeSync(i)}}async write(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{const i=Xo(n,await this.nodeFS.promises.open(this.path(e),"w"),!0);await i.write(t,r)}catch(e){n.error=e,n.hasError=!0}finally{const e=Yo(n);e&&await e}}writeSync(e,t,r){const n=this.nodeFS.openSync(this.path(e),"w");try{this.nodeFS.writeSync(n,t,r)}finally{this.nodeFS.closeSync(n)}}}const Zo={name:"Passthrough",options:{fs:{type:"object",required:!0},prefix:{type:"string",required:!0}},create:({fs:e,prefix:t})=>new Ko(e,Pn(t))};function Jo(e){return null!=e&&"object"==typeof e&&"channel"in e&&"send"in e&&"addHandler"in e&&"removeHandler"in e}function Qo(e){const t=new Map;return{channel:e,send:e.postMessage.bind(e),addHandler(r){const n=e=>r(e.data);t.set(r,n),e.addEventListener("message",n)},removeHandler(r){e.removeEventListener("message",t.get(r))}}}function ec(e){return{channel:e,send:e.postMessage.bind(e),addHandler:e.on.bind(e,"message"),removeHandler:e.off.bind(e,"message")}}function tc(e){return{channel:e,send(t){e.send(ic(t))},addHandler(t){e.addEventListener("message",e=>{t(sc(e.data))})},removeHandler(t){e.removeEventListener("message",e=>{t(sc(e.data))})}}}function rc(e){if(Jo(e))return e;if(e instanceof WebSocket)return tc(e);if("on"in e)return ec(e);if("addEventListener"in e)return Qo(e);throw St(lt("EINVAL","Invalid port type"))}const nc=1;function ic(e){return`Z${nc}${JSON.stringify(e,(e,t)=>{if("_zenfs"!=e)return t instanceof Uint8Array?"$"+t.toBase64():t})}`}function sc(e){if(!e.startsWith("Z"))return{};e=e.slice(1);const t=parseInt(e);if(isNaN(t))return Et("Ignoring encoded message with missing version"),{};if(!Xe(e=e.slice(t.toString().length)))return Et("Ignoring encoded message with invalid JSON"),{};if(t!=nc)throw St(lt("EPROTONOSUPPORT",`Version mismatch in RPC message encoding (got ${t}, expected ${nc})`));return{...JSON.parse(e,(e,t)=>"string"==typeof t&&t.startsWith("$")?Uint8Array.fromBase64(t.slice(1)):t),_zenfs:!0}}function ac(e){return"object"==typeof e&&null!=e&&"_zenfs"in e&&!!e._zenfs}function oc(e){const t=cc.get(e);t&&(t.timeout&&(clearTimeout(t.timeout),"object"==typeof t.timeout&&t.timeout.unref()),cc.delete(e))}const cc=new Map;function uc(e,{port:t,timeout:r=1e3,fs:n}){const i="\n"+(new Error).stack.slice(6);if(!t)throw St(lt("EINVAL","Can not make an RPC request without a port"));const{resolve:s,reject:a,promise:o}=Promise.withResolvers(),c=Math.random().toString(16).slice(5),u=setTimeout(()=>{const e=St(lt("ETIMEDOUT","RPC request timed out"));e.stack+=i,oc(c),a(e)},r),l={resolve:s,reject:a,promise:o,fs:n,timeout:u};return cc.set(c,l),t.send({...e,_zenfs:!0,id:c,stack:i}),o}function lc(e){if(!ac(e))return;if(!cc.has(e.id)){const t=St(lt("EIO","Invalid RPC id: "+e.id));throw t.stack+=e.stack,t}const{resolve:t,reject:r}=cc.get(e.id);if(e.error){const t=ct.fromJSON({code:"EIO",errno:st.EIO,...e.error});return t.stack+=e.stack,oc(e.id),void r(t)}oc(e.id),t(["stat","createFile","mkdir"].includes(e.method)?new ui(e.value):e.value)}function hc(e,t){if(!e)throw St(lt("EINVAL","Cannot attach to non-existent port"));It("Attached handler to port: "+t.name),e.addHandler(t)}function fc(e,t){if(!e)throw St(lt("EINVAL","Cannot detach from non-existent port"));It("Detached handler from port: "+t.name),e.removeHandler(t)}function dc(e){const t=[],r=t.push.bind(t);return hc(e,r),async function(n){fc(e,r);for(const r of t){const t="data"in r?r.data:r;await pc(e,n,t)}}}async function pc(e,t,r){if(!ac(r))return;let n,i;try{switch(r.method){case"read":{const[e,i,s,a]=r.args;await t.read(e,i,s,a),n=i;break}case"stat":case"createFile":case"mkdir":{const e=await t[r.method](...r.args),i=e instanceof ui?e:new ui(e);n=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);break}case"touch":{const[e,i]=r.args;await t.touch(e,new ui(i)),n=void 0;break}default:n=await t[r.method](...r.args)}}catch(e){i=e instanceof ct?e.toJSON():We(e,"message","stack")}e.send({_zenfs:!0,...We(r,"id","method","stack"),error:i,value:n},[])}const gc=["rename","stat","touch","createFile","unlink","rmdir","mkdir","readdir","exists","link","sync","read","write"];function mc(e){return class extends e{async done(){return this.sync()}queueDone(){return this.sync()}_promise=Promise.resolve();_async(e){this._promise=this._promise.finally(()=>e())}_isInitialized=!1;_skippedCacheUpdates=0;constructor(...e){super(...e),this._patchAsync()}async ready(){if(await super.ready(),!this._isInitialized&&!this.attributes.has("no_async_preload")){if(await this._promise,this.checkSync(),await this._sync.ready(),this._sync instanceof Ri&&this instanceof Ri){const e=this._sync.transaction(),t=this.transaction(),r=[];for(const n of await t.keys())r.push(t.get(n).then(t=>e.setSync(n,t)));return await Promise.all(r),void(this._isInitialized=!0)}try{await this.crossCopy("/"),xt(`Skipped ${this._skippedCacheUpdates} updates to the sync cache during initialization`),this._isInitialized=!0}catch(e){throw this._isInitialized=!1,vt(e)}}}checkSync(){if(this.attributes.has("no_async_preload"))throw lt("ENOTSUP","Sync preloading has been disabled for this async file system");if(!this._sync)throw vt(lt("ENOTSUP","No sync cache is attached to this async file system"))}renameSync(e,t){this.checkSync(),this._sync.renameSync(e,t),this._async(()=>this.rename(e,t))}statSync(e){return this.checkSync(),this._sync.statSync(e)}touchSync(e,t){this.checkSync(),this._sync.touchSync(e,t),this._async(()=>this.touch(e,t))}createFileSync(e,t){this.checkSync();const r=this._sync.createFileSync(e,t);return this._async(()=>this.createFile(e,t)),r}unlinkSync(e){this.checkSync(),this._sync.unlinkSync(e),this._async(()=>this.unlink(e))}rmdirSync(e){this.checkSync(),this._sync.rmdirSync(e),this._async(()=>this.rmdir(e))}mkdirSync(e,t){this.checkSync();const r=this._sync.mkdirSync(e,t);return this._async(()=>this.mkdir(e,t)),r}readdirSync(e){return this.checkSync(),this._sync.readdirSync(e)}linkSync(e,t){this.checkSync(),this._sync.linkSync(e,t),this._async(()=>this.link(e,t))}async sync(){!this.attributes.has("no_async_preload")&&this._sync&&this._sync.syncSync(),await this._promise.catch(()=>{})}syncSync(){this.checkSync(),this._sync.syncSync()}existsSync(e){return this.checkSync(),this._sync.existsSync(e)}readSync(e,t,r,n){this.checkSync(),this._sync.readSync(e,t,r,n)}writeSync(e,t,r){this.checkSync(),this._sync.writeSync(e,t,r),this._async(()=>this.write(e,t,r))}streamWrite(e,t){this.checkSync();const r=this._sync.streamWrite(e,t).getWriter(),n=super.streamWrite(e,t).getWriter();return new WritableStream({async write(e,t){await Promise.all([r.write(e),n.write(e)]).catch(t.error.bind(t))},async close(){await Promise.all([r.close(),n.close()])},async abort(e){await Promise.all([r.abort(e),n.abort(e)])}})}async crossCopy(e){this.checkSync();const t=await this.stat(e);if(!hi(t)){this._sync.createFileSync(e,t);const r=new Uint8Array(t.size);return await this.read(e,r,0,t.size),this._sync.writeSync(e,r,0),void this._sync.touchSync(e,t)}"/"!==e&&(this._sync.mkdirSync(e,t),this._sync.touchSync(e,t));const r=[];for(const t of await this.readdir(e))r.push(this.crossCopy(Ln(e,t)));await Promise.all(r)}_patchAsync(){const e=["read","readdir","stat","exists"],t=gc.filter(t=>!e.includes(t));for(const r of t){const n=this[r].bind(this);function i(e,t){if(t||(t=new Error,Error.captureStackTrace(t,i)),!t.stack)return!1;const n=t.stack.split("\n").slice(e).join("\n");return n.includes(`at <computed> [as ${r}]`)||n.includes(`at async <computed> [as ${r}]`)||n.includes(`${r}Sync `)}this[r]=async(...e)=>{const t=await n(...e);if(i(2))return t;if(!this._isInitialized)return this._skippedCacheUpdates++,t;try{this._sync?.[`${r}Sync`]?.(...e)}catch(e){if(i(3,e))return t;throw e.message+=" (Out of sync!)",St(e)}return t}}xt(`Async: patched ${t.length} methods`)}}}class yc extends(mc(Ei)){channel;timeout;port;_sync=Pi.create({label:"tmpfs:port"});constructor(e,t=250){super(1886351988,"portfs"),this.channel=e,this.timeout=t,this.port=rc(e),hc(this.port,lc)}rpc(e,...t){return uc({method:e,args:t},{port:this.port,timeout:this.timeout,fs:this})}async ready(){await this.rpc("ready"),await super.ready()}rename(e,t){return this.rpc("rename",e,t)}async stat(e){const t=await this.rpc("stat",e);return t instanceof ui?t:new ui(t)}async touch(e,t){const r=t instanceof ui?t:new ui(t);await this.rpc("touch",e,new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}async sync(){await super.sync(),await this.rpc("sync")}async createFile(e,t){t instanceof ui&&(t=t.toJSON());const r=await this.rpc("createFile",e,t);return r instanceof ui?r:new ui(r)}unlink(e){return this.rpc("unlink",e)}rmdir(e){return this.rpc("rmdir",e)}async mkdir(e,t){t instanceof ui&&(t=t.toJSON());const r=await this.rpc("mkdir",e,t);return r instanceof ui?r:new ui(r)}readdir(e){return this.rpc("readdir",e)}exists(e){return this.rpc("exists",e)}link(e,t){return this.rpc("link",e,t)}async read(e,t,r,n){t.set(await this.rpc("read",e,t,r,n))}write(e,t,r){return this.rpc("write",e,t,r)}}function bc(e,t){const r=rc(e);hc(r,e=>pc(r,t,e))}function wc(e,t){const r=rc(e);fc(r,e=>pc(r,t,e))}const vc={name:"Port",options:{port:{type:[EventTarget,function(e){return"object"==typeof e&&"on"in e}],required:!0},timeout:{type:"number",required:!1}},create:e=>new yc(e.port,e.timeout)};async function Sc(e,t,r=0){const n=rc(e),i=dc(n),s=await So(t,r);return bc(n,s),await i(s),It("Resolved remote mount: "+s.toString()),s}const Ec=new Uint32Array(256);for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)t=1&t?2197175160^t>>>1:t>>>1;Ec[e]=t}var _c=function(e,t,r,n,i,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?n.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f=!1,d=r.length-1;d>=0;d--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[d])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(h.get=o),(o=a(m.set))&&(h.set=o),(o=a(m.init))&&i.unshift(o)}else(o=a(m))&&("field"===c?i.unshift(o):h[u]=o)}l&&Object.defineProperty(l,n.name,h),f=!0},Ic=function(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0},xc=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},Ac=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,function(t){return r(t),e()})}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});const kc=e=>"0x"+e.toString(16).padStart(8,"0"),{format:Tc}=new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:2,unit:"byte",unitDisplay:"narrow"});let Mc=(()=>{var e,t,r,n;let i,s,a,o,c,u,l=[dn.packed("MetadataEntry")],h=[],f=En,d=[],p=[],g=[],m=[],y=[],b=[],w=[],v=[];return class extends f{static{s=this}static{const S="function"==typeof Symbol&&Symbol.metadata?Object.create(f[Symbol.metadata]??null):void 0;a=[(e=mn).uint32.bind(e)],o=[(t=mn).uint32.bind(t)],c=[(r=mn).uint32.bind(r)],u=[(n=mn).uint32.bind(n)],_c(this,null,a,{kind:"accessor",name:"id",static:!1,private:!1,access:{has:e=>"id"in e,get:e=>e.id,set:(e,t)=>{e.id=t}},metadata:S},d,p),_c(this,null,o,{kind:"accessor",name:"offset_",static:!1,private:!1,access:{has:e=>"offset_"in e,get:e=>e.offset_,set:(e,t)=>{e.offset_=t}},metadata:S},g,m),_c(this,null,c,{kind:"accessor",name:"offset",static:!1,private:!1,access:{has:e=>"offset"in e,get:e=>e.offset,set:(e,t)=>{e.offset=t}},metadata:S},y,b),_c(this,null,u,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:S},w,v),_c(null,i={value:s},l,{kind:"class",name:s.name,metadata:S},null,h),s=i.value,S&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:S}),Ic(s,h)}#S=Ic(this,d,void 0);get id(){return this.#S}set id(e){this.#S=e}#E=(Ic(this,p),Ic(this,g,void 0));get offset_(){return this.#E}set offset_(e){this.#E=e}#_=(Ic(this,m),Ic(this,y,void 0));get offset(){return this.#_}set offset(e){this.#_=e}#r=(Ic(this,b),Ic(this,w,void 0));get size(){return this.#r}set size(e){this.#r=e}toString(){return`<MetadataEntry @ ${kc(this.byteOffset)}>`}constructor(){super(...arguments),Ic(this,v)}},s})(),Cc=(()=>{var e,t,r,n;let i,s,a,o,c,u,l,h=[dn.packed("MetadataBlock")],f=[],d=yn.typed(Int32Array),p=[],g=[],m=[],y=[],b=[],w=[],v=[],S=[],E=[],_=[];var I=class extends d{static{s=this}static{const x="function"==typeof Symbol&&Symbol.metadata?Object.create(d[Symbol.metadata]??null):void 0;a=[(e=mn).uint32.bind(e)],o=[(t=mn).uint64.bind(t)],c=[(r=mn).uint32.bind(r)],u=[pn(Zr(Mc,255))],l=[(n=mn).int32.bind(n)],_c(this,null,a,{kind:"accessor",name:"checksum",static:!1,private:!1,access:{has:e=>"checksum"in e,get:e=>e.checksum,set:(e,t)=>{e.checksum=t}},metadata:x},p,g),_c(this,null,o,{kind:"accessor",name:"timestamp",static:!1,private:!1,access:{has:e=>"timestamp"in e,get:e=>e.timestamp,set:(e,t)=>{e.timestamp=t}},metadata:x},m,y),_c(this,null,c,{kind:"accessor",name:"previous_offset",static:!1,private:!1,access:{has:e=>"previous_offset"in e,get:e=>e.previous_offset,set:(e,t)=>{e.previous_offset=t}},metadata:x},b,w),_c(this,null,u,{kind:"accessor",name:"items",static:!1,private:!1,access:{has:e=>"items"in e,get:e=>e.items,set:(e,t)=>{e.items=t}},metadata:x},v,S),_c(this,null,l,{kind:"accessor",name:"locked",static:!1,private:!1,access:{has:e=>"locked"in e,get:e=>e.locked,set:(e,t)=>{e.locked=t}},metadata:x},E,_),_c(null,i={value:s},h,{kind:"class",name:s.name,metadata:x},null,f),I=s=i.value,x&&Object.defineProperty(s,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:x})}static lockIndex=function(e,t){let r;if(bn(e))r=e;else{if(!bn(e.constructor))throw lt("EINVAL","Type is not a struct or struct constructor");r=e.constructor}const{fields:n}=r;if(!(t in n))throw lt("EINVAL","Struct does not have field: "+t);return n[t].offset}(I,"locked")/Int32Array.BYTES_PER_ELEMENT;#I=Ic(this,p,void 0);get checksum(){return this.#I}set checksum(e){this.#I=e}#x=(Ic(this,g),Ic(this,m,BigInt(Date.now())));get timestamp(){return this.#x}set timestamp(e){this.#x=e}#A=(Ic(this,y),Ic(this,b,void 0));get previous_offset(){return this.#A}set previous_offset(e){this.#A=e}_previous=Ic(this,w);get previous(){if(this.previous_offset)return this._previous??=new I(this.buffer,this.previous_offset),this._previous}#k=Ic(this,v,void 0);get items(){return this.#k}set items(e){this.#k=e}toString(e=!1){if(!e)return`<MetadataBlock @ ${kc(this.byteOffset)}>`;let t=[`---- Metadata block at ${kc(this.byteOffset)} ----`,`Checksum: ${kc(this.checksum)}`,`Last updated: ${new Date(Number(this.timestamp)).toLocaleString()}`,`Previous block: ${kc(this.previous_offset)}`,"Entries:"].join("\n");for(const e of this.items)e.offset&&(t+=`\n\t${kc(e.id)}: ${Tc(e.size).padStart(5)} at ${kc(e.offset)}`);return t}#T=(Ic(this,S),Ic(this,E,void 0));get locked(){return this.#T}set locked(e){this.#T=e}waitUnlocked(e=0){if(e>5)throw vt(lt("EBUSY",`sbfs: exceeded max attempts waiting for metadata block at ${kc(this.byteOffset)} to be unlocked`));if(Atomics.load(this,I.lockIndex))switch(Atomics.wait(this,I.lockIndex,1)){case"ok":break;case"not-equal":return e++,St(`sbfs: waiting for metadata block at ${kc(this.byteOffset)} to be unlocked (${e}/5)`),this.waitUnlocked(e);case"timed-out":throw vt(lt("EBUSY",`sbfs: timed out waiting for metadata block at ${kc(this.byteOffset)} to be unlocked`))}}lock(){this.waitUnlocked(),Atomics.store(this,I.lockIndex,1);const e=()=>{Atomics.store(this,I.lockIndex,0),Atomics.notify(this,I.lockIndex,1)};return e[Symbol.dispose]=e,e}constructor(){super(...arguments),Ic(this,_)}static{Ic(s,f)}};return I=s})();const Rc=1651715706;let Dc=(()=>{var e,t,r,n,i,s,a,o,c,u;let l,h,f,d,p,g,m,y,b,w,v,S,E,_,I,x=[dn.packed("Superblock")],A=[],k=yn.typed(BigUint64Array),T=[],M=[],C=[],R=[],D=[],O=[],F=[],P=[],N=[],B=[],L=[],U=[],V=[],j=[],z=[],$=[],q=[],G=[],W=[],H=[],X=[],Y=[],K=[],Z=[],J=[],Q=[];var ee=class extends k{static{h=this}static{const te="function"==typeof Symbol&&Symbol.metadata?Object.create(k[Symbol.metadata]??null):void 0;f=[(e=mn).uint32.bind(e)],d=[(t=mn).uint32.bind(t)],p=[(r=mn).uint16.bind(r)],g=[(n=mn).uint16.bind(n)],m=[(i=mn).uint32.bind(i)],y=[(s=mn).uint64.bind(s)],b=[(a=mn).uint64.bind(a)],w=[mn.uint8(16)],v=[(o=mn).uint32.bind(o)],S=[(c=mn).uint32.bind(c)],E=[(u=mn).uint32.bind(u)],_=[mn.char(64)],I=[mn.char(132)],_c(this,null,f,{kind:"accessor",name:"checksum",static:!1,private:!1,access:{has:e=>"checksum"in e,get:e=>e.checksum,set:(e,t)=>{e.checksum=t}},metadata:te},T,M),_c(this,null,d,{kind:"accessor",name:"magic",static:!1,private:!1,access:{has:e=>"magic"in e,get:e=>e.magic,set:(e,t)=>{e.magic=t}},metadata:te},C,R),_c(this,null,p,{kind:"accessor",name:"version",static:!1,private:!1,access:{has:e=>"version"in e,get:e=>e.version,set:(e,t)=>{e.version=t}},metadata:te},D,O),_c(this,null,g,{kind:"accessor",name:"inode_format",static:!1,private:!1,access:{has:e=>"inode_format"in e,get:e=>e.inode_format,set:(e,t)=>{e.inode_format=t}},metadata:te},F,P),_c(this,null,m,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:e=>"flags"in e,get:e=>e.flags,set:(e,t)=>{e.flags=t}},metadata:te},N,B),_c(this,null,y,{kind:"accessor",name:"used_bytes",static:!1,private:!1,access:{has:e=>"used_bytes"in e,get:e=>e.used_bytes,set:(e,t)=>{e.used_bytes=t}},metadata:te},L,U),_c(this,null,b,{kind:"accessor",name:"total_bytes",static:!1,private:!1,access:{has:e=>"total_bytes"in e,get:e=>e.total_bytes,set:(e,t)=>{e.total_bytes=t}},metadata:te},V,j),_c(this,null,w,{kind:"accessor",name:"uuid",static:!1,private:!1,access:{has:e=>"uuid"in e,get:e=>e.uuid,set:(e,t)=>{e.uuid=t}},metadata:te},z,$),_c(this,null,v,{kind:"accessor",name:"metadata_block_size",static:!1,private:!1,access:{has:e=>"metadata_block_size"in e,get:e=>e.metadata_block_size,set:(e,t)=>{e.metadata_block_size=t}},metadata:te},q,G),_c(this,null,S,{kind:"accessor",name:"metadata_offset_",static:!1,private:!1,access:{has:e=>"metadata_offset_"in e,get:e=>e.metadata_offset_,set:(e,t)=>{e.metadata_offset_=t}},metadata:te},W,H),_c(this,null,E,{kind:"accessor",name:"metadata_offset",static:!1,private:!1,access:{has:e=>"metadata_offset"in e,get:e=>e.metadata_offset,set:(e,t)=>{e.metadata_offset=t}},metadata:te},X,Y),_c(this,null,_,{kind:"accessor",name:"label",static:!1,private:!1,access:{has:e=>"label"in e,get:e=>e.label,set:(e,t)=>{e.label=t}},metadata:te},K,Z),_c(this,null,I,{kind:"accessor",name:"_padding",static:!1,private:!1,access:{has:e=>"_padding"in e,get:e=>e._padding,set:(e,t)=>{e._padding=t}},metadata:te},J,Q),_c(null,l={value:h},x,{kind:"class",name:h.name,metadata:te},null,A),ee=h=l.value,te&&Object.defineProperty(h,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:te}),Ic(h,A)}constructor(...e){if(super(...e),Ic(this,Q),this.magic!=Rc){Et("sbfs: Invalid magic value, assuming this is a fresh super block");const e=new Cc(this.buffer,vn(ee));return Object.assign(this,{metadata:e,metadata_offset:e.byteOffset,used_bytes:BigInt(vn(ee)+vn(Cc)),total_bytes:BigInt(this.buffer.byteLength),magic:Rc,version:1,inode_format:si,metadata_block_size:vn(Cc),uuid:it(crypto.randomUUID())}),Fc(this),void Fc(e)}if(this.checksum!==Oc(this))throw vt(lt("EIO","sbfs: checksum mismatch for super block"));if(this.metadata=new Cc(this.buffer,this.metadata_offset),this.metadata.checksum!==Oc(this.metadata))throw vt(lt("EIO",`sbfs: checksum mismatch for metadata block (saved ${kc(this.metadata.checksum)}, computed ${kc(Oc(this.metadata))})`));if(this.inode_format!=si)throw vt(lt("EIO","sbfs: inode format mismatch"));if(this.metadata_block_size!=vn(Cc))throw vt(lt("EIO","sbfs: metadata block size mismatch"))}#I=Ic(this,T,void 0);get checksum(){return this.#I}set checksum(e){this.#I=e}#M=(Ic(this,M),Ic(this,C,void 0));get magic(){return this.#M}set magic(e){this.#M=e}#y=(Ic(this,R),Ic(this,D,void 0));get version(){return this.#y}set version(e){this.#y=e}#C=(Ic(this,O),Ic(this,F,void 0));get inode_format(){return this.#C}set inode_format(e){this.#C=e}#g=(Ic(this,P),Ic(this,N,void 0));get flags(){return this.#g}set flags(e){this.#g=e}#R=(Ic(this,B),Ic(this,L,void 0));get used_bytes(){return this.#R}set used_bytes(e){this.#R=e}#D=(Ic(this,U),Ic(this,V,void 0));get total_bytes(){return this.#D}set total_bytes(e){this.#D=e}#O=(Ic(this,j),Ic(this,z,void 0));get uuid(){return this.#O}set uuid(e){this.#O=e}#F=(Ic(this,$),Ic(this,q,void 0));get metadata_block_size(){return this.#F}set metadata_block_size(e){this.#F=e}#P=(Ic(this,G),Ic(this,W,void 0));get metadata_offset_(){return this.#P}set metadata_offset_(e){this.#P=e}#N=(Ic(this,H),Ic(this,X,void 0));get metadata_offset(){return this.#N}set metadata_offset(e){this.#N=e}metadata=Ic(this,Y);#B=Ic(this,K,void 0);get label(){return this.#B}set label(e){this.#B=e}#L=(Ic(this,Z),Ic(this,J,void 0));get _padding(){return this.#L}set _padding(e){this.#L=e}rotateMetadata(){const e=this.used_bytes%BigInt(4);Atomics.add(this,2,e);const t=Number(Atomics.add(this,2,BigInt(vn(Cc)))),r=new Cc(this.buffer,t);return r.previous_offset=this.metadata_offset,this.metadata=r,this.metadata_offset=r.byteOffset,Fc(r),Fc(this),xt(`sbfs: rotated metadata block at ${kc(r.previous_offset)} with new block at ${kc(t)}`),r}isUnused(e,t){if(!t)return!0;if(e+t>this.total_bytes||e<vn(ee))return!1;for(let r=this.metadata;r;r=r.previous){if(e<r.byteOffset+vn(Cc)&&e+t>r.byteOffset)return!1;for(const n of r.items)if(n.offset&&(e>=n.offset&&e<n.offset+n.size||e+t>n.offset&&e+t<=n.offset+n.size||e<=n.offset&&e+t>=n.offset+n.size))return!1}return!0}};return ee=h})();function Oc(e){let t=vn(e)-4;return e instanceof Cc&&(t-=Int32Array.BYTES_PER_ELEMENT),function(e){let t=4294967295;for(let r=0;r<e.length;r++)t=t>>>8^Ec[255&(t^e[r])];return(4294967295^t)>>>0}(new Uint8Array(e.buffer,e.byteOffset+4,t))}function Fc(e){e instanceof Cc&&(e.timestamp=BigInt(Date.now())),e.checksum=Oc(e)}class Pc extends En{flags=[];name="sbfs";type=1935828595;get uuid(){return function(e){const t=Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("");return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20)}`}(this.superblock.uuid)}superblock;_view;_u8;constructor(...e){if(super(...e),this.byteLength<vn(Dc)+vn(Cc))throw vt(lt("EINVAL","sbfs: Buffer is too small for a file system"));this._view=new DataView(this.buffer,this.byteOffset,this.byteLength),this._u8=new Uint8Array(this.buffer,this.byteOffset,this.byteLength),this.superblock=new Dc(this.buffer,this.byteOffset)}*keys(){const e=new Set;for(let t=this.superblock.metadata;t;t=t.previous){t.waitUnlocked();for(const r of t.items)r.offset&&!e.has(r.id)&&(e.add(r.id),yield r.id)}}get(e){for(let t=this.superblock.metadata;t;t=t.previous){t.waitUnlocked();for(const r of t.items){if(!r.offset||r.id!=e)continue;const t=this.byteOffset+r.offset;return new Uint8Array(this.buffer.slice(t,t+r.size))}}}set(e,t){const r={stack:[],error:void 0,hasError:!1};try{if(0===e&&t.length<vn(ui))throw wt(lt("EIO",`sbfs: tried to set ${t.length} bytes for id 0!`));for(let r=this.superblock.metadata;r;r=r.previous){r.waitUnlocked();for(const n of r.items){const i={stack:[],error:void 0,hasError:!1};try{if(!n.offset||n.id!=e)continue;return xc(i,r.lock(),!1),t.length==n.size?void this._u8.set(t,n.offset):t.length<n.size||this.superblock.isUnused(n.offset,t.length)?(this._u8.set(t,n.offset),n.size=t.length,void Fc(r)):(n.offset=Number(Atomics.add(this.superblock,2,BigInt(t.length))),n.size=t.length,this._u8.set(t,n.offset),Fc(r),void Fc(this.superblock))}catch(e){i.error=e,i.hasError=!0}finally{Ac(i)}}}let n=Array.from(this.superblock.metadata.items).find(e=>!e.offset);n||(this.superblock.rotateMetadata(),n=this.superblock.metadata.items[0]),xc(r,this.superblock.metadata.lock(),!1);const i=Number(Atomics.add(this.superblock,2,BigInt(t.length)));n.id=e,n.offset=i,n.size=t.length,this._u8.set(t,i),Fc(this.superblock.metadata),Fc(this.superblock)}catch(e){r.error=e,r.hasError=!0}finally{Ac(r)}}delete(e){for(let t=this.superblock.metadata;t;t=t.previous){t.waitUnlocked();for(const r of t.items)if(r.id==e)return r.offset=0,r.size=0,r.id=0,void Fc(t)}}_fs;get fs(){return this._fs}set fs(e){"SharedArrayBuffer"===this.buffer.constructor.name&&e?.attributes.set("no_id_tables",!0),this._fs=e}sync(){return Promise.resolve()}usage(){return{totalSpace:Number(this.superblock.total_bytes),freeSpace:Number(this.superblock.total_bytes-this.superblock.used_bytes)}}transaction(){return new Di(this)}}const Nc={name:"SingleBuffer",options:{buffer:{type:"object",required:!0}},create(e){const t=new Ri(ArrayBuffer.isView(e.buffer)?new Pc(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength):new Pc(e.buffer));return t.checkRootSync(),t}},Bc=()=>{};function Lc(e,t,r=Bc){La.call(this,e,t).then(()=>r(null)).catch(r)}function Uc(e,t=Bc){Ua.call(this,e).then(t).catch(()=>t(!1))}function Vc(e,t,r=Bc){r="function"==typeof t?t:r,Va.call(this,e,"function"!=typeof t?t:{}).then(e=>r(null,e)).catch(r)}function jc(e,t,r=Bc){r="function"==typeof t?t:r,ja.call(this,e,"function"!=typeof t?t:{}).then(e=>r(null,e)).catch(r)}function zc(e,t=0,r=Bc){r="function"==typeof t?t:r;const n="number"==typeof t?t:0;za.call(this,e,n).then(()=>r(null)).catch(r)}function $c(e,t=Bc){$a.call(this,e).then(()=>t(null)).catch(t)}function qc(e,t,r,n=Bc){const i=xn(r,420);n="function"==typeof r?r:n,qa.call(this,e,t,i).then(e=>n(null,e.fd)).catch(n)}function Gc(e,t,r=Bc){r="function"==typeof t?t:r,Ga.call(this,e,"function"==typeof t?null:t).then(e=>r(null,e)).catch(r)}function Wc(e,t,r,n=Bc){n="function"==typeof r?r:n,Wa.call(this,e,t,"function"!=typeof r?r:null).then(()=>n(null)).catch(n)}function Hc(e,t,r,n=Bc){const i="function"!=typeof r?r:void 0;n="function"==typeof r?r:n,Ha.call(this,e,t,i).then(()=>n(null)).catch(n)}function Xc(e,t,r=Bc){r="function"==typeof t?t:r,new Ba(this,e).stat().then(e=>r(null,"object"==typeof t&&t?.bigint?new Yn(e):e)).catch(r)}function Yc(e,t=Bc){new Ba(this,e).close().then(()=>t(null)).catch(t)}function Kc(e,t,r=Bc){const n="number"==typeof t?t:0;r="function"==typeof t?t:r;const i=new Ba(this,e);if(n<0)throw lt("EINVAL");i.truncate(n).then(()=>r(null)).catch(r)}function Zc(e,t=Bc){new Ba(this,e).sync().then(()=>t(null)).catch(t)}function Jc(e,t=Bc){new Ba(this,e).datasync().then(()=>t(null)).catch(t)}function Qc(e,t,r,n,i,s=Bc){let a,o,c,u,l;const h=new Ba(this,e);if("string"==typeof t){switch(l="utf8",typeof r){case"function":s=r;break;case"number":u=r,l="string"==typeof n?n:"utf8",s="function"==typeof i?i:s;break;default:return void(s="function"==typeof n?n:"function"==typeof i?i:s)(lt("EINVAL"))}a=qi.Buffer.from(t),o=0,c=a.length;const e=s;h.write(a,o,c,u).then(({bytesWritten:t})=>e(null,t,a.toString(l))).catch(e)}else{a=qi.Buffer.from(t.buffer),o=r,c=n,u="number"==typeof i?i:null;const e="function"==typeof i?i:s;h.write(a,o,c,u).then(({bytesWritten:t})=>e(null,t,a)).catch(e)}}function eu(e,t,r,n,i,s=Bc){new Ba(this,e).read(t,r,n,i).then(({bytesRead:e,buffer:t})=>s(null,e,t)).catch(s)}function tu(e,t,r,n=Bc){new Ba(this,e).chown(t,r).then(()=>n(null)).catch(n)}function ru(e,t,r){new Ba(this,e).chmod(t).then(()=>r(null)).catch(r)}function nu(e,t,r,n=Bc){new Ba(this,e).utimes(t,r).then(()=>n(null)).catch(n)}function iu(e,t=Bc){Xa.call(this,e).then(()=>t(null)).catch(t)}function su(e,t,r=Bc){Ya.call(this,e,t).then(()=>r(null)).catch(r)}function au(e,t,r=Bc){r="function"==typeof t?t:r;const n="function"!=typeof t?t:{};Ka.call(this,e,n).then(e=>r(null,e)).catch(r)}function ou(e,t,r=Bc){Za.call(this,e,t).then(()=>r(null)).catch(r)}function cu(e,t,r,n=Bc){const i="string"==typeof r?r:"file";n="function"==typeof r?r:n,Ja.call(this,e,t,i).then(()=>n(null)).catch(n)}function uu(e,t,r=Bc){r="function"==typeof t?t:r,Qa.call(this,e).then(e=>r(null,e)).catch(r)}function lu(e,t,r,n=Bc){eo.call(this,e,t,r).then(()=>n(null)).catch(n)}function hu(e,t,r,n=Bc){to.call(this,e,t,r).then(()=>n(null)).catch(n)}function fu(e,t,r=Bc){ro.call(this,e,t).then(()=>r(null)).catch(r)}function du(e,t,r=Bc){no.call(this,e,t).then(()=>r(null)).catch(r)}function pu(e,t,r,n=Bc){io.call(this,e,t,r).then(()=>n(null)).catch(n)}function gu(e,t,r,n=Bc){so.call(this,e,t,r).then(()=>n(null)).catch(n)}function mu(e,t,r=Bc){r="function"==typeof t?t:r,ao.call(this,e,"function"==typeof t?null:t).then(e=>r(null,e)).catch(r)}function yu(e,t,r=Bc){const n="number"==typeof t?t:Jt;r="function"==typeof t?t:r,co.call(this,e,n).then(()=>r(null)).catch(r)}const bu=new Map;function wu(e,t,r){const n=kn(e),i="function"!=typeof t?t:{};if("function"==typeof t&&(r=t),!r)throw ut("EINVAL","watch",e.toString());if(bu.has(n)){const e=bu.get(n);return void(e&&e.listeners.add(r))}const s=new wa(this,n,i);s.on("change",(e,t)=>{const r=bu.get(n);if(r)for(const n of r.listeners)n(e,t)}),bu.set(n,{watcher:s,listeners:new Set})}function vu(e,t=Bc){const r=kn(e),n=bu.get(r);n&&(t&&t!==Bc?n.listeners.delete(t):n.listeners.clear(),0===n.listeners.size&&(n.watcher.stop(),bu.delete(r)))}function Su(e,t,r){const n=new ba(this,kn(e),"object"==typeof t?t:{});return r="function"==typeof t?t:r,n.on("change",r||Bc),n}function Eu(e,t){t="object"==typeof t?t:{encoding:t};const r=qa.call(this,e,"r",t?.mode);return new Oa({...t,autoClose:!0},r)}function _u(e,t){t="object"==typeof t?t:{encoding:t};const r=qa.call(this,e,"w",t?.mode);return new Fa(t,r)}function Iu(e,t,r=Bc){r="function"==typeof t?t:r,uo.call(this,e,"function"==typeof t?void 0:t).then(()=>r(null)).catch(r)}function xu(e,t,r=Bc){r="function"==typeof t?t:r,lo.call(this,e,"function"!=typeof t?t:null).then(e=>r(null,e)).catch(r)}function Au(e,t,r,n=Bc){n="function"==typeof r?r:n,fo.call(this,e,t,"function"==typeof r?void 0:r).then(()=>n(null)).catch(n)}function ku(e,t,r,n=Bc){n="function"==typeof r?r:n,new Ba(this,e).readv(t,"function"==typeof r?void 0:r).then(({buffers:e,bytesRead:t})=>n(null,t,e)).catch(n)}function Tu(e,t,r,n=Bc){n="function"==typeof r?r:n,new Ba(this,e).writev(t,"function"==typeof r?void 0:r).then(({buffers:e,bytesWritten:t})=>n(null,t,e)).catch(n)}function Mu(e,t,r=Bc){r="function"==typeof t?t:r,po.call(this,e,"function"==typeof t?void 0:t).then(e=>r(null,e)).catch(r)}function Cu(e,t,r,n=Bc){n="function"==typeof r?r:n,go.call(this,e,t,"function"==typeof r?void 0:r).then(()=>n(null)).catch(n)}function Ru(e,t,r=Bc){r="function"==typeof t?t:r,mo.call(this,e,"function"==typeof t?void 0:t).then(e=>r(null,e)).catch(r)}async function Du(e,t){const r=await qa.call(this,e.toString(),"r"),n=await r.readFile();return await r.close(),new Blob([n],t)}function Ou(e,t,r=Bc){r="function"==typeof t?t:r,async function(e){const t=[];for await(const r of e)t.push(r);return t}(yo.call(this,e,"function"==typeof t?void 0:t)).then(e=>r(null,e??[])).catch(e=>r(e))}const Fu=[];function Pu(e,t,r,n){if(!t.startsWith("user.")&&!Fu.includes(t))throw ut("ENOTSUP",n,r)}async function Nu(e,t,r={}){e=kn(e);const{fs:n,path:i}=hs(e,this);Pu(0,t,e,"xattr.get");const s=await n.stat(i).catch(ht("xattr.get",e));if(Gi&&!yi(this,s,Jt))throw ut("EACCES","xattr.get",e);s.attributes??=new ni;const a=s.attributes.get(t);if(!a)throw ut("ENODATA","xattr.get",e);const o=qi.Buffer.from(a);return"buffer"!=r.encoding&&r.encoding?o.toString(r.encoding):o}function Bu(e,t,r={}){Pu(0,t,e=kn(e),"xattr.get");const{fs:n,path:i}=hs(e,this);let s;try{s=n.statSync(i)}catch(t){throw ot(Object.assign(t,{path:e}))}if(Gi&&!yi(this,s,Jt))throw ut("EACCES","xattr.get",e);s.attributes??=new ni;const a=s.attributes.get(t);if(!a)throw ut("ENODATA","xattr.get",e);const o=qi.Buffer.from(a);return"buffer"!=r.encoding&&r.encoding?o.toString(r.encoding):o}async function Lu(e,t,r,n={}){e=kn(e);const{fs:i,path:s}=hs(e,this);Pu(0,t,e,"xattr.set");const a=await i.stat(s).catch(ht("xattr.set",e));if(Gi&&!yi(this,a,Qt))throw ut("EACCES","xattr.set",e);a.attributes??=new ni;const o=a.attributes.get(t);if(n.create&&o)throw ut("EEXIST","xattr.set",e);if(n.replace&&!o)throw ut("ENODATA","xattr.set",e);a.attributes.set(t,qi.Buffer.from(r)),await i.touch(s,a).catch(ht("xattr.set",e))}function Uu(e,t,r,n={}){e=kn(e);const{fs:i,path:s}=hs(e,this);let a;Pu(0,t,e,"xattr.set");try{a=i.statSync(s)}catch(t){throw ot(Object.assign(t,{path:e}))}if(Gi&&!yi(this,a,Qt))throw ut("EACCES","xattr.set",e);a.attributes??=new ni;const o=a.attributes.get(t);if(n.create&&o)throw ut("EEXIST","xattr.set",e);if(n.replace&&!o)throw ut("ENODATA","xattr.set",e);a.attributes.set(t,qi.Buffer.from(r));try{i.touchSync(s,a)}catch(t){throw ot(Object.assign(t,{path:e}))}}async function Vu(e,t){e=kn(e);const{fs:r,path:n}=hs(e,this);Pu(0,t,e,"xattr.remove");const i=await r.stat(n).catch(ht("xattr.remove",e));if(Gi&&!yi(this,i,Qt))throw ut("EACCES","xattr.remove",e);if(i.attributes??=new ni,!i.attributes.get(t))throw ut("ENODATA","xattr.remove",e);i.attributes.remove(t),await r.touch(n,i)}function ju(e,t){e=kn(e);const{fs:r,path:n}=hs(e,this);let i;Pu(0,t,e,"xattr.remove");try{i=r.statSync(n)}catch(t){throw ot(Object.assign(t,{path:e}))}if(Gi&&!yi(this,i,Qt))throw ut("EACCES","xattr.remove",e);if(i.attributes??=new ni,!i.attributes.get(t))throw ut("ENODATA","xattr.remove",e);i.attributes.remove(t);try{r.touchSync(n,i)}catch(t){throw ot(Object.assign(t,{path:e}))}}async function zu(e){e=kn(e);const{fs:t,path:r}=hs(e,this),n=await t.stat(r).catch(ht("xattr.list",e));return n.attributes?n.attributes.keys().toArray():[]}function $u(e){e=kn(e);const{fs:t,path:r}=hs(e,this);let n;try{n=t.statSync(r)}catch(t){throw ot(Object.assign(t,{path:e}))}return n.attributes?n.attributes.keys().toArray():[]}const qu=new Map;function Gu(e={}){const t=Xt(this);if(!Ts.call(this,t.root).isDirectory())throw ut("ENOTDIR",{syscall:"chroot",path:t.root});const r=Kt(t,e),i=Object.assign(r,{fs:{...Ye(o,r),promises:Ye(s,r),xattr:Ye(c,r)},path:Ye(n,r),bind:e=>{const t=Gu.call(r,e);return r.children.push(t),t}});return qu.set(r.id,i),i}var Wu=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},Hu=function(e){return function(t){function r(r){t.error=t.hasError?new e(r,t.error,"An error was suppressed during disposal."):r,t.hasError=!0}var n,i=0;return function e(){for(;n=t.stack.pop();)try{if(!n.async&&1===i)return i=0,t.stack.push(n),Promise.resolve().then(e);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(e,function(t){return r(t),e()})}else i|=1}catch(e){r(e)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}}("function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n});class Xu{previous;current=Promise.withResolvers();_isLocked=!0;get isLocked(){return this._isLocked}constructor(e){this.previous=e}async done(){await(this.previous?.done()),await this.current.promise}unlock(){this.current.resolve(),this._isLocked=!1}[Symbol.dispose](){this.unlock()}}class Yu{_fs;get type(){return this._fs.type}get name(){return this._fs.name}get label(){return this._fs.label}set label(e){this._fs.label=e}get attributes(){return this._fs.attributes}get _uuid(){return this._fs._uuid}set _uuid(e){this._fs._uuid=e}get uuid(){return this._fs.uuid}async ready(){return await this._fs.ready()}readySync(){_i(this._fs)}usage(){return this._fs.usage()}currentLock;addLock(){const e=new Xu(this.currentLock);return this.currentLock=e,e}async lock(e=5e3){const t=this.currentLock,r=this.addLock(),n=(new Error).stack;return setTimeout(()=>{if(r.isLocked){const e=lt("EDEADLK");throw e.stack+=n?.slice(5),St(e)}},e),await(t?.done()),r}lockSync(){if(this.currentLock?.isLocked)throw St(lt("EBUSY"));return this.addLock()}get isLocked(){return!!this.currentLock?.isLocked}async rename(e,t){const r={stack:[],error:void 0,hasError:!1};try{Wu(r,await this.lock(),!1),await this._fs.rename(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}renameSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Wu(r,this.lockSync(),!1),this._fs.renameSync(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}async stat(e){const t={stack:[],error:void 0,hasError:!1};try{return Wu(t,await this.lock(),!1),await this._fs.stat(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}statSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Wu(t,this.lockSync(),!1),this._fs.statSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}async touch(e,t){const r={stack:[],error:void 0,hasError:!1};try{Wu(r,await this.lock(),!1),await this._fs.touch(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}touchSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{Wu(r,this.lockSync(),!1),this._fs.touchSync(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}async createFile(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Wu(r,await this.lock(),!1),await this._fs.createFile(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}createFileSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Wu(r,this.lockSync(),!1),this._fs.createFileSync(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}async unlink(e){const t={stack:[],error:void 0,hasError:!1};try{Wu(t,await this.lock(),!1),await this._fs.unlink(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}unlinkSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Wu(t,this.lockSync(),!1),this._fs.unlinkSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}async rmdir(e){const t={stack:[],error:void 0,hasError:!1};try{Wu(t,await this.lock(),!1),await this._fs.rmdir(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}rmdirSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Wu(t,this.lockSync(),!1),this._fs.rmdirSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}async mkdir(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Wu(r,await this.lock(),!1),await this._fs.mkdir(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}mkdirSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Wu(r,this.lockSync(),!1),this._fs.mkdirSync(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}async readdir(e){const t={stack:[],error:void 0,hasError:!1};try{return Wu(t,await this.lock(),!1),await this._fs.readdir(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}readdirSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Wu(t,this.lockSync(),!1),this._fs.readdirSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}async exists(e){const t={stack:[],error:void 0,hasError:!1};try{return Wu(t,await this.lock(),!1),await this._fs.exists(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}existsSync(e){const t={stack:[],error:void 0,hasError:!1};try{return Wu(t,this.lockSync(),!1),this._fs.existsSync(e)}catch(e){t.error=e,t.hasError=!0}finally{Hu(t)}}async link(e,t){const r={stack:[],error:void 0,hasError:!1};try{Wu(r,await this.lock(),!1),await this._fs.link(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}linkSync(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Wu(r,this.lockSync(),!1),this._fs.linkSync(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}async sync(){const e={stack:[],error:void 0,hasError:!1};try{Wu(e,await this.lock(),!1),await this._fs.sync()}catch(t){e.error=t,e.hasError=!0}finally{Hu(e)}}syncSync(){const e={stack:[],error:void 0,hasError:!1};try{return Wu(e,this.lockSync(),!1),this._fs.syncSync()}catch(t){e.error=t,e.hasError=!0}finally{Hu(e)}}async read(e,t,r,n){const i={stack:[],error:void 0,hasError:!1};try{return Wu(i,await this.lock(),!1),await this._fs.read(e,t,r,n)}catch(e){i.error=e,i.hasError=!0}finally{Hu(i)}}readSync(e,t,r,n){const i={stack:[],error:void 0,hasError:!1};try{return Wu(i,this.lockSync(),!1),this._fs.readSync(e,t,r,n)}catch(e){i.error=e,i.hasError=!0}finally{Hu(i)}}async write(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{return Wu(n,await this.lock(),!1),await this._fs.write(e,t,r)}catch(e){n.error=e,n.hasError=!0}finally{Hu(n)}}writeSync(e,t,r){const n={stack:[],error:void 0,hasError:!1};try{return Wu(n,this.lockSync(),!1),this._fs.writeSync(e,t,r)}catch(e){n.error=e,n.hasError=!0}finally{Hu(n)}}streamRead(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Wu(r,this.lockSync(),!1),this._fs.streamRead(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}streamWrite(e,t){const r={stack:[],error:void 0,hasError:!1};try{return Wu(r,this.lockSync(),!1),this._fs.streamWrite(e,t)}catch(e){r.error=e,r.hasError=!0}finally{Hu(r)}}}function Ku(e){return class extends Yu{constructor(...t){super(),this._fs=new e(...t)}}}function Zu(e){return class extends e{constructor(...e){super(...e),this.attributes.set("no_write")}async rename(){throw lt("EROFS")}renameSync(){throw lt("EROFS")}async createFile(){throw lt("EROFS")}createFileSync(){throw lt("EROFS")}async unlink(){throw lt("EROFS")}unlinkSync(){throw lt("EROFS")}async rmdir(){throw lt("EROFS")}rmdirSync(){throw lt("EROFS")}async mkdir(){throw lt("EROFS")}mkdirSync(){throw lt("EROFS")}async link(){throw lt("EROFS")}linkSync(){throw lt("EROFS")}async touch(){throw lt("EROFS")}touchSync(){throw lt("EROFS")}async sync(){throw lt("EROFS")}syncSync(){throw lt("EROFS")}async write(){throw lt("EROFS")}writeSync(){throw lt("EROFS")}streamWrite(){throw lt("EROFS")}}}function Ju(e){return class extends e{async exists(e){return this.existsSync(e)}async rename(e,t){return this.renameSync(e,t)}async stat(e){return this.statSync(e)}async touch(e,t){return this.touchSync(e,t)}async createFile(e,t){return this.createFileSync(e,t)}async unlink(e){return this.unlinkSync(e)}async rmdir(e){return this.rmdirSync(e)}async mkdir(e,t){return this.mkdirSync(e,t)}async readdir(e){return this.readdirSync(e)}async link(e,t){return this.linkSync(e,t)}async sync(){return this.syncSync()}async read(e,t,r,n){return this.readSync(e,t,r,n)}async write(e,t,r){return this.writeSync(e,t,r)}}}var Qu,el=function(e,t,r,n,i,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?n.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f=!1,d=r.length-1;d>=0;d--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[d])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(h.get=o),(o=a(m.set))&&(h.set=o),(o=a(m.init))&&i.unshift(o)}else(o=a(m))&&("field"===c?i.unshift(o):h[u]=o)}l&&Object.defineProperty(l,n.name,h),f=!0},tl=function(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0};!function(e){e[e.RealTime=1]="RealTime",e[e.PreAlloc=2]="PreAlloc",e[e.Immutable=8]="Immutable",e[e.Append=16]="Append",e[e.Sync=32]="Sync",e[e.NoAtime=64]="NoAtime",e[e.NoDump=128]="NoDump",e[e.RtInherit=256]="RtInherit",e[e.ProjInherit=512]="ProjInherit",e[e.NoSymlinks=1024]="NoSymlinks",e[e.ExtSize=2048]="ExtSize",e[e.ExtSzInherit=4096]="ExtSzInherit",e[e.NoDefrag=8192]="NoDefrag",e[e.FileStream=16384]="FileStream",e[e.Dax=32768]="Dax",e[e.CowExtSize=65536]="CowExtSize",e[e.HasAttr=2147483648]="HasAttr"}(Qu||(Qu={}));let rl=(()=>{var e,t,r,n,i;let s,a,o,c,u,l,h,f,d=[dn("fsxattr")],p=[],g=En,m=[],y=[],b=[],w=[],v=[],S=[],E=[],_=[],I=[],x=[],A=[],k=[];var T=class extends g{static{a=this}static{const M="function"==typeof Symbol&&Symbol.metadata?Object.create(g[Symbol.metadata]??null):void 0;o=[(e=mn).uint32.bind(e)],c=[(t=mn).uint32.bind(t)],u=[(r=mn).uint32.bind(r)],l=[(n=mn).uint32.bind(n)],h=[(i=mn).uint32.bind(i)],f=[mn.char(8)],el(this,null,o,{kind:"accessor",name:"xflags",static:!1,private:!1,access:{has:e=>"xflags"in e,get:e=>e.xflags,set:(e,t)=>{e.xflags=t}},metadata:M},m,y),el(this,null,c,{kind:"accessor",name:"extsize",static:!1,private:!1,access:{has:e=>"extsize"in e,get:e=>e.extsize,set:(e,t)=>{e.extsize=t}},metadata:M},b,w),el(this,null,u,{kind:"accessor",name:"nextents",static:!1,private:!1,access:{has:e=>"nextents"in e,get:e=>e.nextents,set:(e,t)=>{e.nextents=t}},metadata:M},v,S),el(this,null,l,{kind:"accessor",name:"projid",static:!1,private:!1,access:{has:e=>"projid"in e,get:e=>e.projid,set:(e,t)=>{e.projid=t}},metadata:M},E,_),el(this,null,h,{kind:"accessor",name:"cowextsize",static:!1,private:!1,access:{has:e=>"cowextsize"in e,get:e=>e.cowextsize,set:(e,t)=>{e.cowextsize=t}},metadata:M},I,x),el(this,null,f,{kind:"accessor",name:"pad",static:!1,private:!1,access:{has:e=>"pad"in e,get:e=>e.pad,set:(e,t)=>{e.pad=t}},metadata:M},A,k),el(null,s={value:a},d,{kind:"class",name:a.name,metadata:M},null,p),T=a=s.value,M&&Object.defineProperty(a,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:M}),tl(a,p)}#U=tl(this,m,void 0);get xflags(){return this.#U}set xflags(e){this.#U=e}#V=(tl(this,y),tl(this,b,void 0));get extsize(){return this.#V}set extsize(e){this.#V=e}#j=(tl(this,w),tl(this,v,void 0));get nextents(){return this.#j}set nextents(e){this.#j=e}#z=(tl(this,S),tl(this,E,void 0));get projid(){return this.#z}set projid(e){this.#z=e}#$=(tl(this,_),tl(this,I,void 0));get cowextsize(){return this.#$}set cowextsize(e){this.#$=e}#q=(tl(this,x),tl(this,A,[]));get pad(){return this.#q}set pad(e){this.#q=e}constructor(e=Ze(new ct(st.EINVAL,"fsxattr must be initialized with an inode"))){super(new ArrayBuffer(vn(T))),tl(this,k),this.extsize=e.size,this.nextents=1,this.projid=e.uid,this.cowextsize=e.size;for(const t of Object.keys(ai))e.flags&ai[t]&&t in Qu&&(this.xflags|=Qu[t])}};return T=a})();var nl,il,sl;async function al(e,t,...r){e=kn(e);const{fs:n,path:i}=hs(e,this);try{const e=new ui(await n.stat(i));switch(t){case il.GetFlags:case sl.GetFlags:return e.flags;case il.SetFlags:case sl.SetFlags:return e.flags=r[0],void await n.touch(i,e);case il.GetVersion:case sl.GetVersion:return e.version;case il.SetVersion:case sl.SetVersion:return e.version=r[0],void await n.touch(i,e);case il.Fiemap:break;case il.GetXattr:return new rl(e);case il.SetXattr:break;case il.GetLabel:return n.label;case il.SetLabel:return void(n.label=r[0]);case il.GetUUID:return n.uuid;case il.GetSysfsPath:return`/sys/fs/${n.name}/${n.uuid}`}}catch(t){throw ot(Object.assign(t,{syscall:"ioctl",path:e}))}throw ut("ENOTSUP","ioctl",e)}function ol(e,t,...r){e=kn(e);const{fs:n,path:i}=hs(e,this);try{const e=new ui(n.statSync(i));switch(t){case il.GetFlags:case sl.GetFlags:return e.flags;case il.SetFlags:case sl.SetFlags:return e.flags=r[0],void n.touchSync(i,e);case il.GetVersion:case sl.GetVersion:return e.version;case il.SetVersion:case sl.SetVersion:return e.version=r[0],void n.touchSync(i,e);case il.Fiemap:break;case il.GetXattr:return new rl(e);case il.SetXattr:break;case il.GetLabel:return n.label;case il.SetLabel:return void(n.label=r[0]);case il.GetUUID:return n.uuid;case il.GetSysfsPath:return`/sys/fs/${n.name}/${n.uuid}`}}catch(t){throw ot(Object.assign(t,{syscall:"ioctl",path:e}))}throw ut("ENOTSUP","ioctl",e)}!function(e){e[e.SecureRm=1]="SecureRm",e[e.Undelete=2]="Undelete",e[e.Compress=4]="Compress",e[e.Sync=8]="Sync",e[e.Immutable=16]="Immutable",e[e.Append=32]="Append",e[e.NoDump=64]="NoDump",e[e.NoAtime=128]="NoAtime",e[e.Dirty=256]="Dirty",e[e.CompressBlk=512]="CompressBlk",e[e.NoCompress=1024]="NoCompress",e[e.Encrypt=2048]="Encrypt",e[e.Btree=4096]="Btree",e[e.Index=4096]="Index",e[e.IMagic=8192]="IMagic",e[e.JournalData=16384]="JournalData",e[e.NoTail=32768]="NoTail",e[e.DirSync=65536]="DirSync",e[e.TopDir=131072]="TopDir",e[e.HugeFile=262144]="HugeFile",e[e.Extent=524288]="Extent",e[e.Verity=1048576]="Verity",e[e.EaInode=2097152]="EaInode",e[e.EofBlocks=4194304]="EofBlocks",e[e.NoCow=8388608]="NoCow",e[e.Dax=33554432]="Dax",e[e.InlineData=268435456]="InlineData",e[e.ProjInherit=536870912]="ProjInherit",e[e.CaseFold=1073741824]="CaseFold",e[e.Reserved=2147483648]="Reserved"}(nl||(nl={})),function(e){e[e.GetFlags=2148034049]="GetFlags",e[e.SetFlags=1074292226]="SetFlags",e[e.GetVersion=2148038145]="GetVersion",e[e.SetVersion=1074296322]="SetVersion",e[e.Fiemap=3223348747]="Fiemap",e[e.GetXattr=2149341215]="GetXattr",e[e.SetXattr=1075599392]="SetXattr",e[e.GetLabel=2164298801]="GetLabel",e[e.SetLabel=1090556978]="SetLabel",e[e.GetUUID=2148603136]="GetUUID",e[e.GetSysfsPath=2155943169]="GetSysfsPath"}(il||(il={})),function(e){e[e.GetFlags=2147771905]="GetFlags",e[e.SetFlags=1074030082]="SetFlags",e[e.GetVersion=2147776001]="GetVersion",e[e.SetVersion=1074034178]="SetVersion"}(sl||(sl={}));const cl=u;globalThis.__zenfs__=Object.assign(Object.create(u),{_version:"2.5.1"});var ul=__webpack_require__(597),ll=Uint8Array,hl=Uint16Array,fl=Int32Array,dl=new ll([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pl=new ll([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gl=new ll([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ml=function(e,t){for(var r=new hl(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var i=new fl(r[30]);for(n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},yl=ml(dl,2),bl=yl.b,wl=yl.r;bl[28]=258,wl[258]=28;for(var vl=ml(pl,0),Sl=vl.b,El=vl.r,_l=new hl(32768),Il=0;Il<32768;++Il){var xl=(43690&Il)>>1|(21845&Il)<<1;xl=(61680&(xl=(52428&xl)>>2|(13107&xl)<<2))>>4|(3855&xl)<<4,_l[Il]=((65280&xl)>>8|(255&xl)<<8)>>1}var Al=function(e,t,r){for(var n=e.length,i=0,s=new hl(t);i<n;++i)e[i]&&++s[e[i]-1];var a,o=new hl(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;if(r){a=new hl(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],l=t-e[i],h=o[e[i]-1]++<<l,f=h|(1<<l)-1;h<=f;++h)a[_l[h]>>c]=u}else for(a=new hl(n),i=0;i<n;++i)e[i]&&(a[i]=_l[o[e[i]-1]++]>>15-e[i]);return a},kl=new ll(288);for(Il=0;Il<144;++Il)kl[Il]=8;for(Il=144;Il<256;++Il)kl[Il]=9;for(Il=256;Il<280;++Il)kl[Il]=7;for(Il=280;Il<288;++Il)kl[Il]=8;var Tl=new ll(32);for(Il=0;Il<32;++Il)Tl[Il]=5;var Ml=Al(kl,9,0),Cl=Al(kl,9,1),Rl=Al(Tl,5,0),Dl=Al(Tl,5,1),Ol=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Fl=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},Pl=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},Nl=function(e){return(e+7)/8|0},Bl=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new ll(e.subarray(t,r))},Ll=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ul=function(e,t,r){var n=new Error(t||Ll[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Ul),!r)throw n;return n},Vl=function(e,t,r,n){var i=e.length,s=n?n.length:0;if(!i||t.f&&!t.l)return r||new ll(0);var a=!r,o=a||2!=t.i,c=t.i;a&&(r=new ll(3*i));var u=function(e){var t=r.length;if(e>t){var n=new ll(Math.max(2*t,e));n.set(r),r=n}},l=t.f||0,h=t.p||0,f=t.b||0,d=t.l,p=t.d,g=t.m,m=t.n,y=8*i;do{if(!d){l=Fl(e,h,1);var b=Fl(e,h+1,3);if(h+=3,!b){var w=e[(C=Nl(h)+4)-4]|e[C-3]<<8,v=C+w;if(v>i){c&&Ul(0);break}o&&u(f+w),r.set(e.subarray(C,v),f),t.b=f+=w,t.p=h=8*v,t.f=l;continue}if(1==b)d=Cl,p=Dl,g=9,m=5;else if(2==b){var S=Fl(e,h,31)+257,E=Fl(e,h+10,15)+4,_=S+Fl(e,h+5,31)+1;h+=14;for(var I=new ll(_),x=new ll(19),A=0;A<E;++A)x[gl[A]]=Fl(e,h+3*A,7);h+=3*E;var k=Ol(x),T=(1<<k)-1,M=Al(x,k,1);for(A=0;A<_;){var C,R=M[Fl(e,h,T)];if(h+=15&R,(C=R>>4)<16)I[A++]=C;else{var D=0,O=0;for(16==C?(O=3+Fl(e,h,3),h+=2,D=I[A-1]):17==C?(O=3+Fl(e,h,7),h+=3):18==C&&(O=11+Fl(e,h,127),h+=7);O--;)I[A++]=D}}var F=I.subarray(0,S),P=I.subarray(S);g=Ol(F),m=Ol(P),d=Al(F,g,1),p=Al(P,m,1)}else Ul(1);if(h>y){c&&Ul(0);break}}o&&u(f+131072);for(var N=(1<<g)-1,B=(1<<m)-1,L=h;;L=h){var U=(D=d[Pl(e,h)&N])>>4;if((h+=15&D)>y){c&&Ul(0);break}if(D||Ul(2),U<256)r[f++]=U;else{if(256==U){L=h,d=null;break}var V=U-254;if(U>264){var j=dl[A=U-257];V=Fl(e,h,(1<<j)-1)+bl[A],h+=j}var z=p[Pl(e,h)&B],$=z>>4;if(z||Ul(3),h+=15&z,P=Sl[$],$>3&&(j=pl[$],P+=Pl(e,h)&(1<<j)-1,h+=j),h>y){c&&Ul(0);break}o&&u(f+131072);var q=f+V;if(f<P){var G=s-P,W=Math.min(P,q);for(G+f<0&&Ul(3);f<W;++f)r[f]=n[G+f]}for(;f<q;++f)r[f]=r[f-P]}}t.l=d,t.p=L,t.b=f,t.f=l,d&&(l=1,t.m=g,t.d=p,t.n=m)}while(!l);return f!=r.length&&a?Bl(r,0,f):r.subarray(0,f)},jl=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},zl=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},$l=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:Kl,l:0};if(1==i){var a=new ll(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,l=1,h=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};l!=i-1;)o=r[r[u].f<r[h].f?u++:h++],c=r[u!=l&&r[u].f<r[h].f?u++:h++],r[l++]={s:-1,f:o.f+c.f,l:o,r:c};var f=s[0].s;for(n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var d=new hl(f+1),p=ql(r[l-1],d,0);if(p>t){n=0;var g=0,m=p-t,y=1<<m;for(s.sort(function(e,t){return d[t.s]-d[e.s]||e.f-t.f});n<i;++n){var b=s[n].s;if(!(d[b]>t))break;g+=y-(1<<p-d[b]),d[b]=t}for(g>>=m;g>0;){var w=s[n].s;d[w]<t?g-=1<<t-d[w]++-1:++n}for(;n>=0&&g;--n){var v=s[n].s;d[v]==t&&(--d[v],++g)}p=t}return{t:new ll(d),l:p}},ql=function(e,t,r){return-1==e.s?Math.max(ql(e.l,t,r+1),ql(e.r,t,r+1)):t[e.s]=r},Gl=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new hl(++t),n=0,i=e[0],s=1,a=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:r.subarray(0,n),n:t}},Wl=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Hl=function(e,t,r){var n=r.length,i=Nl(t+2);e[i]=255&n,e[i+1]=n>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<n;++s)e[i+s+4]=r[s];return 8*(i+4+n)},Xl=function(e,t,r,n,i,s,a,o,c,u,l){jl(t,l++,r),++i[256];for(var h=$l(i,15),f=h.t,d=h.l,p=$l(s,15),g=p.t,m=p.l,y=Gl(f),b=y.c,w=y.n,v=Gl(g),S=v.c,E=v.n,_=new hl(19),I=0;I<b.length;++I)++_[31&b[I]];for(I=0;I<S.length;++I)++_[31&S[I]];for(var x=$l(_,7),A=x.t,k=x.l,T=19;T>4&&!A[gl[T-1]];--T);var M,C,R,D,O=u+5<<3,F=Wl(i,kl)+Wl(s,Tl)+a,P=Wl(i,f)+Wl(s,g)+a+14+3*T+Wl(_,A)+2*_[16]+3*_[17]+7*_[18];if(c>=0&&O<=F&&O<=P)return Hl(t,l,e.subarray(c,c+u));if(jl(t,l,1+(P<F)),l+=2,P<F){M=Al(f,d,0),C=f,R=Al(g,m,0),D=g;var N=Al(A,k,0);for(jl(t,l,w-257),jl(t,l+5,E-1),jl(t,l+10,T-4),l+=14,I=0;I<T;++I)jl(t,l+3*I,A[gl[I]]);l+=3*T;for(var B=[b,S],L=0;L<2;++L){var U=B[L];for(I=0;I<U.length;++I){var V=31&U[I];jl(t,l,N[V]),l+=A[V],V>15&&(jl(t,l,U[I]>>5&127),l+=U[I]>>12)}}}else M=Ml,C=kl,R=Rl,D=Tl;for(I=0;I<o;++I){var j=n[I];if(j>255){zl(t,l,M[257+(V=j>>18&31)]),l+=C[V+257],V>7&&(jl(t,l,j>>23&31),l+=dl[V]);var z=31&j;zl(t,l,R[z]),l+=D[z],z>3&&(zl(t,l,j>>5&8191),l+=pl[z])}else zl(t,l,M[j]),l+=C[j]}return zl(t,l,M[256]),l+C[256]},Yl=new fl([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Kl=new ll(0),Zl=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(65535&n)+15*(n>>16),i=(65535&i)+15*(i>>16)}e=n,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},Jl=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};var Ql,eh="undefined"!=typeof TextDecoder&&new TextDecoder;try{eh.decode(Kl,{stream:!0})}catch(e){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout,function(e){e[e.STORED=0]="STORED",e[e.SHRUNK=1]="SHRUNK",e[e.REDUCED_1=2]="REDUCED_1",e[e.REDUCED_2=3]="REDUCED_2",e[e.REDUCED_3=4]="REDUCED_3",e[e.REDUCED_4=5]="REDUCED_4",e[e.IMPLODE=6]="IMPLODE",e[e.DEFLATE=8]="DEFLATE",e[e.DEFLATE64=9]="DEFLATE64",e[e.TERSE_OLD=10]="TERSE_OLD",e[e.BZIP2=12]="BZIP2",e[e.LZMA=14]="LZMA",e[e.TERSE_NEW=18]="TERSE_NEW",e[e.LZ77=19]="LZ77",e[e.WAVPACK=97]="WAVPACK",e[e.PPMD=98]="PPMD"}(Ql||(Ql={}));const th={[Ql.DEFLATE]:e=>function(e,t){return Vl(e,{i:2},t,t)}(e),[Ql.STORED]:(e,t,r)=>e.subarray(0,t)};function rh(e){return new Date(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,2*(31&e))}const nh=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];function ih(e){if(function(e){return"function"==typeof e?.then}(e))throw lt("ENOTSUP","Zip data source requires synchronous access");return e}function sh(e,t){return t?nt(e):[...e].map(e=>e>127?nh[e-128]:String.fromCharCode(e)).join("")}async function ah(e,t,r,n){return 0===n?"":sh(await e.get(r,n),t)}function oh(e,t,r,n){return 0===n?"":sh(ih(e.get(r,n)),t)}var ch,uh=function(e,t,r,n,i,s){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var o,c=n.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?n.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f=!1,d=r.length-1;d>=0;d--){var p={};for(var g in n)p[g]="access"===g?{}:n[g];for(var g in n.access)p.access[g]=n.access[g];p.addInitializer=function(e){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(e||null))};var m=(0,r[d])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(o=a(m.get))&&(h.get=o),(o=a(m.set))&&(h.set=o),(o=a(m.init))&&i.unshift(o)}else(o=a(m))&&("field"===c?i.unshift(o):h[u]=o)}l&&Object.defineProperty(l,n.name,h),f=!0},lh=function(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0};!function(e){e[e.MSDOS=0]="MSDOS",e[e.AMIGA=1]="AMIGA",e[e.OPENVMS=2]="OPENVMS",e[e.UNIX=3]="UNIX",e[e.VM_CMS=4]="VM_CMS",e[e.ATARI_ST=5]="ATARI_ST",e[e.OS2_HPFS=6]="OS2_HPFS",e[e.MAC=7]="MAC",e[e.Z_SYSTEM=8]="Z_SYSTEM",e[e.CP_M=9]="CP_M",e[e.NTFS=10]="NTFS",e[e.MVS=11]="MVS",e[e.VSE=12]="VSE",e[e.ACORN_RISC=13]="ACORN_RISC",e[e.VFAT=14]="VFAT",e[e.ALT_MVS=15]="ALT_MVS",e[e.BEOS=16]="BEOS",e[e.TANDEM=17]="TANDEM",e[e.OS_400=18]="OS_400",e[e.OSX=19]="OSX"}(ch||(ch={}));let hh=(()=>{var e,t,r,n,i,s,a,o,c,u;let l,h,f,d,p,g,m,y,b,w,v,S,E=[dn.packed("LocalFileHeader")],_=[],I=yn.typed(Uint8Array),x=[],A=[],k=[],T=[],M=[],C=[],R=[],D=[],O=[],F=[],P=[],N=[],B=[],L=[],U=[],V=[],j=[],z=[],$=[],q=[];var G=class extends I{static{h=this}static{const W="function"==typeof Symbol&&Symbol.metadata?Object.create(I[Symbol.metadata]??null):void 0;f=[(e=mn).uint32.bind(e)],d=[(t=mn).uint16.bind(t)],p=[(r=mn).uint16.bind(r)],g=[(n=mn).uint16.bind(n)],m=[(i=mn).uint32.bind(i)],y=[(s=mn).uint32.bind(s)],b=[(a=mn).uint32.bind(a)],w=[(o=mn).uint32.bind(o)],v=[(c=mn).uint16.bind(c)],S=[(u=mn).uint16.bind(u)],uh(this,null,f,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:W},x,A),uh(this,null,d,{kind:"accessor",name:"versionNeeded",static:!1,private:!1,access:{has:e=>"versionNeeded"in e,get:e=>e.versionNeeded,set:(e,t)=>{e.versionNeeded=t}},metadata:W},k,T),uh(this,null,p,{kind:"accessor",name:"flags",static:!1,private:!1,access:{has:e=>"flags"in e,get:e=>e.flags,set:(e,t)=>{e.flags=t}},metadata:W},M,C),uh(this,null,g,{kind:"accessor",name:"compressionMethod",static:!1,private:!1,access:{has:e=>"compressionMethod"in e,get:e=>e.compressionMethod,set:(e,t)=>{e.compressionMethod=t}},metadata:W},R,D),uh(this,null,m,{kind:"accessor",name:"datetime",static:!1,private:!1,access:{has:e=>"datetime"in e,get:e=>e.datetime,set:(e,t)=>{e.datetime=t}},metadata:W},O,F),uh(this,null,y,{kind:"accessor",name:"crc32",static:!1,private:!1,access:{has:e=>"crc32"in e,get:e=>e.crc32,set:(e,t)=>{e.crc32=t}},metadata:W},P,N),uh(this,null,b,{kind:"accessor",name:"compressedSize",static:!1,private:!1,access:{has:e=>"compressedSize"in e,get:e=>e.compressedSize,set:(e,t)=>{e.compressedSize=t}},metadata:W},B,L),uh(this,null,w,{kind:"accessor",name:"uncompressedSize",static:!1,private:!1,access:{has:e=>"uncompressedSize"in e,get:e=>e.uncompressedSize,set:(e,t)=>{e.uncompressedSize=t}},metadata:W},U,V),uh(this,null,v,{kind:"accessor",name:"nameLength",static:!1,private:!1,access:{has:e=>"nameLength"in e,get:e=>e.nameLength,set:(e,t)=>{e.nameLength=t}},metadata:W},j,z),uh(this,null,S,{kind:"accessor",name:"extraLength",static:!1,private:!1,access:{has:e=>"extraLength"in e,get:e=>e.extraLength,set:(e,t)=>{e.extraLength=t}},metadata:W},$,q),uh(null,l={value:h},E,{kind:"class",name:h.name,metadata:W},null,_),G=h=l.value,W&&Object.defineProperty(h,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:W}),lh(h,_)}_source;#G=lh(this,x,void 0);get signature(){return this.#G}set signature(e){this.#G=e}check(){if(67324752!==this.signature)throw lt("EINVAL","Invalid Zip file: Local file header has invalid signature: "+this.signature)}#W=(lh(this,A),lh(this,k,void 0));get versionNeeded(){return this.#W}set versionNeeded(e){this.#W=e}#g=(lh(this,T),lh(this,M,void 0));get flags(){return this.#g}set flags(e){this.#g=e}#H=(lh(this,C),lh(this,R,void 0));get compressionMethod(){return this.#H}set compressionMethod(e){this.#H=e}#X=(lh(this,D),lh(this,O,void 0));get datetime(){return this.#X}set datetime(e){this.#X=e}get lastModified(){return rh(this.datetime)}#Y=(lh(this,F),lh(this,P,void 0));get crc32(){return this.#Y}set crc32(e){this.#Y=e}#K=(lh(this,N),lh(this,B,void 0));get compressedSize(){return this.#K}set compressedSize(e){this.#K=e}#Z=(lh(this,L),lh(this,U,void 0));get uncompressedSize(){return this.#Z}set uncompressedSize(e){this.#Z=e}#J=(lh(this,V),lh(this,j,void 0));get nameLength(){return this.#J}set nameLength(e){this.#J=e}#Q=(lh(this,z),lh(this,$,void 0));get extraLength(){return this.#Q}set extraLength(e){this.#Q=e}name=lh(this,q);extra;get size(){return G.size+this.nameLength+this.extraLength}get useUTF8(){return!!(2048&this.flags)}static async from(e,t){const r=await e.get(t,G.size),n=new G(r.buffer,r.byteOffset);return n._source=e,t+=G.size,n.name=await ah(e,n.useUTF8,t,n.nameLength),t+=n.nameLength,n.extra=await e.get(t,n.extraLength),t+=n.extraLength,n}};return G=h})(),fh=((()=>{var e,t;let r,n,i,s,a=[dn.packed("ExtraDataRecord")],o=[],c=yn.typed(Uint8Array),u=[],l=[],h=[],f=[];var d=class extends c{static{n=this}static{const p="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(e=mn).uint32.bind(e)],s=[(t=mn).uint32.bind(t)],uh(this,null,i,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:p},u,l),uh(this,null,s,{kind:"accessor",name:"length",static:!1,private:!1,access:{has:e=>"length"in e,get:e=>e.length,set:(e,t)=>{e.length=t}},metadata:p},h,f),uh(null,r={value:n},a,{kind:"class",name:n.name,metadata:p},null,o),d=n=r.value,p&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p}),lh(n,o)}_source;#G=lh(this,u,void 0);get signature(){return this.#G}set signature(e){this.#G=e}check(){if(134630224!=this.signature)throw lt("EINVAL","Invalid archive extra data record signature: "+this.signature)}#ee=(lh(this,l),lh(this,h,void 0));get length(){return this.#ee}set length(e){this.#ee=e}extraField=lh(this,f);static async from(e,t){const r=await e.get(t,d.size),n=new d(r.buffer,r.byteOffset);return n._source=e,t+=d.size,n.extraField=await e.get(t,n.length),n}};d=n})(),(()=>{var e,t,r,n,i,s,a,o,c,u,l,h,f,d,p,g,m;let y,b,w,v,S,E,_,I,x,A,k,T,M,C,R,D,O,F,P,N=[dn.packed("FileEntry")],B=[],L=yn.typed(Uint8Array),U=[],V=[],j=[],z=[],$=[],q=[],G=[],W=[],H=[],X=[],Y=[],K=[],Z=[],J=[],Q=[],ee=[],te=[],re=[],ne=[],ie=[],se=[],ae=[],oe=[],ce=[],ue=[],le=[],he=[],fe=[],de=[],pe=[],ge=[],me=[],ye=[],be=[];var we=class extends L{static{b=this}static{const ve="function"==typeof Symbol&&Symbol.metadata?Object.create(L[Symbol.metadata]??null):void 0;w=[(e=mn).uint32.bind(e)],v=[(t=mn).uint8.bind(t)],S=[(r=mn).uint8.bind(r)],E=[(n=mn).uint16.bind(n)],_=[(i=mn).uint16.bind(i)],I=[(s=mn).uint16.bind(s)],x=[(a=mn).uint32.bind(a)],A=[(o=mn).uint32.bind(o)],k=[(c=mn).uint32.bind(c)],T=[(u=mn).uint32.bind(u)],M=[(l=mn).uint16.bind(l)],C=[(h=mn).uint16.bind(h)],R=[(f=mn).uint16.bind(f)],D=[(d=mn).uint16.bind(d)],O=[(p=mn).uint16.bind(p)],F=[(g=mn).uint32.bind(g)],P=[(m=mn).uint32.bind(m)],uh(this,null,w,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:ve},U,V),uh(this,null,v,{kind:"accessor",name:"zipVersion",static:!1,private:!1,access:{has:e=>"zipVersion"in e,get:e=>e.zipVersion,set:(e,t)=>{e.zipVersion=t}},metadata:ve},j,z),uh(this,null,S,{kind:"accessor",name:"attributeCompat",static:!1,private:!1,access:{has:e=>"attributeCompat"in e,get:e=>e.attributeCompat,set:(e,t)=>{e.attributeCompat=t}},metadata:ve},$,q),uh(this,null,E,{kind:"accessor",name:"versionNeeded",static:!1,private:!1,access:{has:e=>"versionNeeded"in e,get:e=>e.versionNeeded,set:(e,t)=>{e.versionNeeded=t}},metadata:ve},G,W),uh(this,null,_,{kind:"accessor",name:"flag",static:!1,private:!1,access:{has:e=>"flag"in e,get:e=>e.flag,set:(e,t)=>{e.flag=t}},metadata:ve},H,X),uh(this,null,I,{kind:"accessor",name:"compressionMethod",static:!1,private:!1,access:{has:e=>"compressionMethod"in e,get:e=>e.compressionMethod,set:(e,t)=>{e.compressionMethod=t}},metadata:ve},Y,K),uh(this,null,x,{kind:"accessor",name:"datetime",static:!1,private:!1,access:{has:e=>"datetime"in e,get:e=>e.datetime,set:(e,t)=>{e.datetime=t}},metadata:ve},Z,J),uh(this,null,A,{kind:"accessor",name:"crc32",static:!1,private:!1,access:{has:e=>"crc32"in e,get:e=>e.crc32,set:(e,t)=>{e.crc32=t}},metadata:ve},Q,ee),uh(this,null,k,{kind:"accessor",name:"compressedSize",static:!1,private:!1,access:{has:e=>"compressedSize"in e,get:e=>e.compressedSize,set:(e,t)=>{e.compressedSize=t}},metadata:ve},te,re),uh(this,null,T,{kind:"accessor",name:"uncompressedSize",static:!1,private:!1,access:{has:e=>"uncompressedSize"in e,get:e=>e.uncompressedSize,set:(e,t)=>{e.uncompressedSize=t}},metadata:ve},ne,ie),uh(this,null,M,{kind:"accessor",name:"nameLength",static:!1,private:!1,access:{has:e=>"nameLength"in e,get:e=>e.nameLength,set:(e,t)=>{e.nameLength=t}},metadata:ve},se,ae),uh(this,null,C,{kind:"accessor",name:"extraLength",static:!1,private:!1,access:{has:e=>"extraLength"in e,get:e=>e.extraLength,set:(e,t)=>{e.extraLength=t}},metadata:ve},oe,ce),uh(this,null,R,{kind:"accessor",name:"commentLength",static:!1,private:!1,access:{has:e=>"commentLength"in e,get:e=>e.commentLength,set:(e,t)=>{e.commentLength=t}},metadata:ve},ue,le),uh(this,null,D,{kind:"accessor",name:"startDisk",static:!1,private:!1,access:{has:e=>"startDisk"in e,get:e=>e.startDisk,set:(e,t)=>{e.startDisk=t}},metadata:ve},he,fe),uh(this,null,O,{kind:"accessor",name:"internalAttributes",static:!1,private:!1,access:{has:e=>"internalAttributes"in e,get:e=>e.internalAttributes,set:(e,t)=>{e.internalAttributes=t}},metadata:ve},de,pe),uh(this,null,F,{kind:"accessor",name:"externalAttributes",static:!1,private:!1,access:{has:e=>"externalAttributes"in e,get:e=>e.externalAttributes,set:(e,t)=>{e.externalAttributes=t}},metadata:ve},ge,me),uh(this,null,P,{kind:"accessor",name:"headerRelativeOffset",static:!1,private:!1,access:{has:e=>"headerRelativeOffset"in e,get:e=>e.headerRelativeOffset,set:(e,t)=>{e.headerRelativeOffset=t}},metadata:ve},ye,be),uh(null,y={value:b},N,{kind:"class",name:b.name,metadata:ve},null,B),we=b=y.value,ve&&Object.defineProperty(b,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:ve}),lh(b,B)}_source;#G=lh(this,U,void 0);get signature(){return this.#G}set signature(e){this.#G=e}check(){if(33639248!=this.signature)throw lt("EINVAL","Invalid Zip file: Central directory record has invalid signature: "+this.signature)}#te=(lh(this,V),lh(this,j,void 0));get zipVersion(){return this.#te}set zipVersion(e){this.#te=e}#re=(lh(this,z),lh(this,$,void 0));get attributeCompat(){return this.#re}set attributeCompat(e){this.#re=e}#W=(lh(this,q),lh(this,G,void 0));get versionNeeded(){return this.#W}set versionNeeded(e){this.#W=e}#ne=(lh(this,W),lh(this,H,void 0));get flag(){return this.#ne}set flag(e){this.#ne=e}get useUTF8(){return!!(2048&this.flag)}get isEncrypted(){return!!(1&this.flag)}#H=(lh(this,X),lh(this,Y,void 0));get compressionMethod(){return this.#H}set compressionMethod(e){this.#H=e}#X=(lh(this,K),lh(this,Z,void 0));get datetime(){return this.#X}set datetime(e){this.#X=e}get lastModified(){return rh(this.datetime)}#Y=(lh(this,J),lh(this,Q,void 0));get crc32(){return this.#Y}set crc32(e){this.#Y=e}#K=(lh(this,ee),lh(this,te,void 0));get compressedSize(){return this.#K}set compressedSize(e){this.#K=e}#Z=(lh(this,re),lh(this,ne,void 0));get uncompressedSize(){return this.#Z}set uncompressedSize(e){this.#Z=e}#J=(lh(this,ie),lh(this,se,void 0));get nameLength(){return this.#J}set nameLength(e){this.#J=e}#Q=(lh(this,ae),lh(this,oe,void 0));get extraLength(){return this.#Q}set extraLength(e){this.#Q=e}#ie=(lh(this,ce),lh(this,ue,void 0));get commentLength(){return this.#ie}set commentLength(e){this.#ie=e}#se=(lh(this,le),lh(this,he,void 0));get startDisk(){return this.#se}set startDisk(e){this.#se=e}#ae=(lh(this,fe),lh(this,de,void 0));get internalAttributes(){return this.#ae}set internalAttributes(e){this.#ae=e}#oe=(lh(this,pe),lh(this,ge,void 0));get externalAttributes(){return this.#oe}set externalAttributes(e){this.#oe=e}#ce=(lh(this,me),lh(this,ye,void 0));get headerRelativeOffset(){return this.#ce}set headerRelativeOffset(e){this.#ce=e}name=lh(this,be);extra;comment;get size(){return vn(we)+this.nameLength+this.extraLength+this.commentLength}get isDirectory(){return!!(16&this.externalAttributes)||"/"==this.name.at(-1)}get isFile(){return!this.isDirectory}async loadContents(){const e=await this._source.get(this.headerRelativeOffset,vn(hh)),{compressionMethod:t,size:r,name:n}=new hh(e.buffer,e.byteOffset),i=await this._source.get(this.headerRelativeOffset+r,this.compressedSize),s=th[t];if("function"!=typeof s)throw lt("EINVAL",`Invalid compression method on file "${n}": ${t in Ql?Ql[t]:t.toString()}`);this.contents=s(i,this.compressedSize,this.uncompressedSize,this.flag)}loadContentsSync(){const e=ih(this._source.get(this.headerRelativeOffset,vn(hh))),{compressionMethod:t,size:r,name:n}=new hh(e.buffer,e.byteOffset),i=ih(this._source.get(this.headerRelativeOffset+r,this.compressedSize)),s=th[t];if("function"!=typeof s)throw lt("EINVAL",`Invalid compression method on file "${n}": ${t in Ql?Ql[t]:t.toString()}`);this.contents=s(i,this.compressedSize,this.uncompressedSize,this.flag)}contents;get data(){return this.contents}static async from(e,t){const r=await e.get(t,we.size),n=new we(r.buffer,r.byteOffset);return n._source=e,t+=we.size,n.name=await ah(e,n.useUTF8,t,n.nameLength),t+=n.nameLength,n.extra=await e.get(t,n.extraLength),t+=n.extraLength,n.comment=await ah(e,n.useUTF8,t,n.commentLength),n}static fromSync(e,t){const r=ih(e.get(t,we.size)),n=new we(r.buffer,r.byteOffset);return n._source=e,t+=we.size,n.name=oh(e,n.useUTF8,t,n.nameLength),t+=n.nameLength,n.extra=ih(e.get(t,n.extraLength)),t+=n.extraLength,n.comment=oh(e,n.useUTF8,t,n.commentLength),n}};return we=b})()),dh=((()=>{var e,t;let r,n,i,s,a=[dn.packed("DigitalSignature")],o=[],c=yn.typed(Uint8Array),u=[],l=[],h=[],f=[];var d=class extends c{static{n=this}static{const p="function"==typeof Symbol&&Symbol.metadata?Object.create(c[Symbol.metadata]??null):void 0;i=[(e=mn).uint32.bind(e)],s=[(t=mn).uint16.bind(t)],uh(this,null,i,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:p},u,l),uh(this,null,s,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:p},h,f),uh(null,r={value:n},a,{kind:"class",name:n.name,metadata:p},null,o),d=n=r.value,p&&Object.defineProperty(n,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:p}),lh(n,o)}_source;#G=lh(this,u,void 0);get signature(){return this.#G}set signature(e){this.#G=e}check(){if(84233040!=this.signature)throw lt("EINVAL","Invalid digital signature signature: "+this.signature)}#r=(lh(this,l),lh(this,h,void 0));get size(){return this.#r}set size(e){this.#r=e}signatureData=lh(this,f);static async from(e,t){const r=await e.get(t,d.size),n=new d(r.buffer,r.byteOffset);return n._source=e,t+=d.size,n.signatureData=await e.get(t,n.size),n}};d=n})(),(()=>{var e,t,r,n,i,s,a,o;let c,u,l,h,f,d,p,g,m,y,b=[dn.packed("Header")],w=[],v=yn.typed(Uint8Array),S=[],E=[],_=[],I=[],x=[],A=[],k=[],T=[],M=[],C=[],R=[],D=[],O=[],F=[],P=[],N=[];return class extends v{static{u=this}static{const B="function"==typeof Symbol&&Symbol.metadata?Object.create(v[Symbol.metadata]??null):void 0;l=[(e=mn).uint32.bind(e)],h=[(t=mn).uint16.bind(t)],f=[(r=mn).uint16.bind(r)],d=[(n=mn).uint16.bind(n)],p=[(i=mn).uint16.bind(i)],g=[(s=mn).uint32.bind(s)],m=[(a=mn).uint32.bind(a)],y=[(o=mn).uint16.bind(o)],uh(this,null,l,{kind:"accessor",name:"signature",static:!1,private:!1,access:{has:e=>"signature"in e,get:e=>e.signature,set:(e,t)=>{e.signature=t}},metadata:B},S,E),uh(this,null,h,{kind:"accessor",name:"disk",static:!1,private:!1,access:{has:e=>"disk"in e,get:e=>e.disk,set:(e,t)=>{e.disk=t}},metadata:B},_,I),uh(this,null,f,{kind:"accessor",name:"entriesDisk",static:!1,private:!1,access:{has:e=>"entriesDisk"in e,get:e=>e.entriesDisk,set:(e,t)=>{e.entriesDisk=t}},metadata:B},x,A),uh(this,null,d,{kind:"accessor",name:"diskEntryCount",static:!1,private:!1,access:{has:e=>"diskEntryCount"in e,get:e=>e.diskEntryCount,set:(e,t)=>{e.diskEntryCount=t}},metadata:B},k,T),uh(this,null,p,{kind:"accessor",name:"totalEntryCount",static:!1,private:!1,access:{has:e=>"totalEntryCount"in e,get:e=>e.totalEntryCount,set:(e,t)=>{e.totalEntryCount=t}},metadata:B},M,C),uh(this,null,g,{kind:"accessor",name:"size",static:!1,private:!1,access:{has:e=>"size"in e,get:e=>e.size,set:(e,t)=>{e.size=t}},metadata:B},R,D),uh(this,null,m,{kind:"accessor",name:"offset",static:!1,private:!1,access:{has:e=>"offset"in e,get:e=>e.offset,set:(e,t)=>{e.offset=t}},metadata:B},O,F),uh(this,null,y,{kind:"accessor",name:"commentLength",static:!1,private:!1,access:{has:e=>"commentLength"in e,get:e=>e.commentLength,set:(e,t)=>{e.commentLength=t}},metadata:B},P,N),uh(null,c={value:u},b,{kind:"class",name:u.name,metadata:B},null,w),u=c.value,B&&Object.defineProperty(u,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:B}),lh(u,w)}_source;#G=lh(this,S,void 0);get signature(){return this.#G}set signature(e){this.#G=e}check(){if(101010256!=this.signature)throw lt("EINVAL","Invalid Zip file: End of central directory record has invalid signature: 0x"+this.signature.toString(16))}#ue=(lh(this,E),lh(this,_,void 0));get disk(){return this.#ue}set disk(e){this.#ue=e}#le=(lh(this,I),lh(this,x,void 0));get entriesDisk(){return this.#le}set entriesDisk(e){this.#le=e}#he=(lh(this,A),lh(this,k,void 0));get diskEntryCount(){return this.#he}set diskEntryCount(e){this.#he=e}#fe=(lh(this,T),lh(this,M,void 0));get totalEntryCount(){return this.#fe}set totalEntryCount(e){this.#fe=e}#r=(lh(this,C),lh(this,R,void 0));get size(){return this.#r}set size(e){this.#r=e}#_=(lh(this,D),lh(this,O,void 0));get offset(){return this.#_}set offset(e){this.#_=e}#ie=(lh(this,F),lh(this,P,void 0));get commentLength(){return this.#ie}set commentLength(e){this.#ie=e}comment=lh(this,N)},u})());class ph extends(Zu(Ei)){label;data;lazy;caseFold;files=new Map;directories=new Map;folded=new Map;_time=Date.now();_ready=!1;eocd;async ready(){if(await super.ready(),this._ready)return;this._ready=!0,this.eocd=await async function(e){for(let t=e.size-22;t>e.size-65535;t--){const r=await e.get(t,22);if(101010256==(r[0]|r[1]<<8|r[2]<<16|r[3]<<24)>>>0){xt("zipfs: found End of Central Directory signature at 0x"+t.toString(16));const n=new dh(r.buffer,r.byteOffset);return n._source=e,n.comment=await ah(e,!0,t+dh.size,n.commentLength),n}}throw St(lt("EINVAL","zipfs: could not locate End of Central Directory signature"))}(this.data),this._assertSupportedArchive(this.eocd);let e=this.eocd.offset;const t=e+this.eocd.size;for(;e<t;){const t=await fh.from(this.data,e);this.lazy||await t.loadContents(),this._registerEntry(t),e+=t.size}this._buildDirectoryIndex()}readySync(){if(this._ready)return;this._ready=!0,this.eocd=function(e){for(let t=e.size-22;t>e.size-65535;t--){const r=ih(e.get(t,22));if(101010256==(r[0]|r[1]<<8|r[2]<<16|r[3]<<24)>>>0){xt("zipfs: found End of Central Directory signature at 0x"+t.toString(16));const n=new dh(r.buffer,r.byteOffset);return n._source=e,n.comment=oh(e,!0,t+dh.size,n.commentLength),n}}throw St(lt("EINVAL","zipfs: could not locate End of Central Directory signature"))}(this.data),this._assertSupportedArchive(this.eocd);let e=this.eocd.offset;const t=e+this.eocd.size;for(;e<t;){const t=fh.fromSync(this.data,e);this.lazy||t.loadContentsSync(),this._registerEntry(t),e+=t.size}this._buildDirectoryIndex()}_assertSupportedArchive(e){if(e.disk!=e.entriesDisk)throw lt("EINVAL","ZipFS does not support spanned zip files.");if(4294967295===e.offset)throw lt("EINVAL","ZipFS does not support Zip64.")}_registerEntry(e){if(e.name.startsWith("/"))throw lt("EPERM","Unexpectedly encountered an absolute path in a zip file.");const t=e.name.endsWith("/")?"/"+e.name.slice(0,-1):"/"+e.name;this.files.set(this._caseFold(t,!0),e)}_buildDirectoryIndex(){this.directories.clear();for(const e of this.files.keys()){let t=this.folded.get(e)??e;for(;;){const{dir:e,base:r}=qn(t);if(""==r)break;const n=this._caseFold(e,!0);this.directories.has(n)||this.directories.set(n,new Set),this.directories.get(n).add(r),t=e}}}constructor(e,t,r=!1,n){super(544893296,"zipfs"),this.label=e,this.data=t,this.lazy=r,this.caseFold=n}usage(){return{totalSpace:this.data.size,freeSpace:0}}async stat(e){return this.statSync(e)}statSync(e){const t=this._caseFold(e);if(this.directories.has(t))return new ui({mode:365|xr,size:4096,mtimeMs:this._time,ctimeMs:this._time,atimeMs:Date.now(),birthtimeMs:this._time});const r=this.files.get(t);if(!r)throw lt("ENOENT");return new ui({mode:365|(r.isDirectory?xr:_r),size:r.uncompressedSize,mtimeMs:r.lastModified.getTime()})}async readdir(e){if(!((await this.stat(e)).mode&xr))throw lt("ENOTDIR");const t=this.directories.get(this._caseFold(e));if(!t)throw lt("ENODATA");return Array.from(t).map(e=>this.folded.get(e)??e)}readdirSync(e){if(!(this.statSync(e).mode&xr))throw lt("ENOTDIR");const t=this.directories.get(this._caseFold(e));if(!t)throw lt("ENODATA");return Array.from(t).map(e=>this.folded.get(e)??e)}async read(e,t,r,n){const i=this._caseFold(e);if(this.directories.has(i))throw lt("EISDIR");const s=this.files.get(i)??Ze(lt("ENOENT"));s.contents||await s.loadContents(),t.set(s.contents.subarray(r,n))}readSync(e,t,r,n){const i=this._caseFold(e);if(this.directories.has(i))throw lt("EISDIR");const s=this.files.get(i)??Ze(lt("ENOENT"));if(!s.contents)throw s.loadContents(),lt("EAGAIN");t.set(s.contents.subarray(r,n))}_caseFold(e,t=!1){if(this.caseFold){const r="upper"==this.caseFold?e.toUpperCase():e.toLowerCase();return t&&!this.folded.has(r)&&r!==e&&this.folded.set(r,e),r}return e}}const gh={name:"Zip",options:{data:{type:"object",required:!0},name:{type:"string",required:!1},lazy:{type:"boolean",required:!1}},isAvailable:()=>!0,create:e=>new ph(e.name??"",function(e){if(e instanceof ArrayBuffer||"object"==typeof(t=e)&&null!==t&&"SharedArrayBuffer"===t.constructor.name)return{size:e.byteLength,get:(t,r)=>new Uint8Array(e,t,r),set(t,r){new Uint8Array(e,t,r.byteLength).set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}};var t;if(ArrayBuffer.isView(e))return{size:e.byteLength,get:(t,r)=>new Uint8Array(e.buffer,e.byteOffset+t,r),set(t,r){new Uint8Array(e.buffer,e.byteOffset+t,r.byteLength).set(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}};if("object"==typeof e&&null!==e&&"size"in e&&"number"==typeof e.size&&"function"==typeof e.get)return e;throw St(lt("EINVAL","Invalid zip data source"))}(e.data),e.lazy,e.caseFold)},mh=[];for(let e=0;e<256;++e)mh.push((e+256).toString(16).slice(1));function yh(e,t=0){return mh[e[t+0]]+mh[e[t+1]]+mh[e[t+2]]+mh[e[t+3]]+"-"+mh[e[t+4]]+mh[e[t+5]]+"-"+mh[e[t+6]]+mh[e[t+7]]+"-"+mh[e[t+8]]+mh[e[t+9]]+"-"+mh[e[t+10]]+mh[e[t+11]]+mh[e[t+12]]+mh[e[t+13]]+mh[e[t+14]]+mh[e[t+15]]}const bh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function wh(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function vh(e,t){return e<<t|e>>>32-t}const Sh=function(){function e(e,t,r,n){var i;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof t&&(t=function(e){if(!function(e){return"string"==typeof e&&bh.test(e)}(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}(t)),16!==(null===(i=t)||void 0===i?void 0:i.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(t),s.set(e,t.length),s=function(e){const t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const n=e.length/4+2,i=Math.ceil(n/16),s=new Array(i);for(let t=0;t<i;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];s[t]=r}s[i-1][14]=8*(e.length-1)/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<i;++e){const n=new Uint32Array(80);for(let t=0;t<16;++t)n[t]=s[e][t];for(let e=16;e<80;++e)n[e]=vh(n[e-3]^n[e-8]^n[e-14]^n[e-16],1);let i=r[0],a=r[1],o=r[2],c=r[3],u=r[4];for(let e=0;e<80;++e){const r=Math.floor(e/20),s=vh(i,5)+wh(r,a,o,c)+u+t[r]+n[e]>>>0;u=c,c=o,o=vh(a,30)>>>0,a=i,i=s}r[0]=r[0]+i>>>0,r[1]=r[1]+a>>>0,r[2]=r[2]+o>>>0,r[3]=r[3]+c>>>0,r[4]=r[4]+u>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}(s),s[6]=15&s[6]|80,s[8]=63&s[8]|128,r){n=n||0;for(let e=0;e<16;++e)r[n+e]=s[e];return r}return yh(s)}try{e.name="v5"}catch(e){}return e.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",e}(),Eh=Sh;class _h{paths;callbacks;volumes;mfs;tfs;cfs;pfs;xfs;_root;_ext;constructor(){this.paths=new Map,this.callbacks=new Map,this.volumes=new Map;const e={blocks:0,blocksize:0,freeblocks:0,usedblocks:0};this.volumes.set("pkg:",e),this.volumes.set("tmp:",e),this.volumes.set("cachefs:",e),this.volumes.set("common:",e),this.pfs=u,this.xfs=u,this.mfs=u,this.tfs=u,this.cfs=u}get root(){return this._root}get ext(){return this._ext}setup(e,t,r,n,i,s,a){const o={mounts:{},caseFold:"lower"};cs.has("/common:")&&ls("common:"),Object.assign(o.mounts,{"common:":{backend:gh,data:e}}),cs.has("/tmp:")&&ls("tmp:"),Object.assign(o.mounts,{"tmp:":{backend:Nc,buffer:t}}),cs.has("/cachefs:")&&ls("cachefs:"),Object.assign(o.mounts,{"cachefs:":{backend:Nc,buffer:r}}),s&&void 0===n?(this._root=s,this.pfs=ul):(cs.has("/pkg:")&&ls("pkg:"),this.pfs=u,n?Object.assign(o.mounts,{"pkg:":{backend:gh,data:n}}):s||Object.assign(o.mounts,{"pkg:":{backend:Pi}})),Co(o),a?.length?this.setExt(a):i&&this.mountExt(i)}subscribeUmount(e,t){this.callbacks.set(e,t)}notifyAll(e){for(const t of this.callbacks.values())t(e)}getVolumeInfo(e){return this.volumes.get(e)}mountExt(e){cs.has("/ext1:")&&(ls("ext1:"),this.notifyAll("ext1:")),this._ext=void 0,this.xfs=u;const t=Eo({backend:gh,data:e,caseFold:"lower"});us("ext1:",t);const r=t.usage(),n=Math.min(4096,e.byteLength),i=new Uint8Array(e,0,n),s=Eh(i,Eh.URL);this.setExtInfo("Zip Storage","zip",r.totalSpace,s)}umountExt(){h?.mounts.has("/ext1:")&&ls("ext1:"),this._ext=void 0,this.volumes.delete("ext1:"),this.xfs=u,this.notifyAll("ext1:")}savePath(e){this.paths.set(e.toLowerCase().replaceAll(/\/+/g,"/").trim(),e.replaceAll(/\/+/g,"/").trim())}deletePath(e){return this.paths.delete(e.toLowerCase().replaceAll(/\/+/g,"/").trim())}getOriginalPath(e){return this.paths.get(e.toLowerCase().replaceAll(/\/+/g,"/").trim())}setRoot(e){H.inWindows&&(e=e.replaceAll("\\","/")),this._root=e,this.pfs=ul}setExt(e){H.inWindows&&(e=e.replaceAll("\\","/")),this._ext=e,this.xfs=ul;const t=Eh(e,Eh.URL);this.setExtInfo("Path Storage","path",0,t)}setExtInfo(e,t,r,n){const i=n.split("-");this.volumes.set("ext1:",{blocks:r,blocksize:1,freeblocks:0,usedblocks:r,mounttime:Date.now(),label:e,type:t,uuid:i.length>2?`${i[1]}-${i[2]}`.toUpperCase():void 0})}resetMemoryFS(e,t){void 0!==u&&(ls("tmp:"),this.notifyAll("tmp:"),us("tmp:",Eo({backend:Nc,buffer:e,caseFold:"lower"})),ls("cachefs:"),this.notifyAll("cachefs:"),us("cachefs:",Eo({backend:Nc,buffer:t,caseFold:"lower"})))}getFS(e){return e.trim().toLowerCase().startsWith("tmp:")?this.tfs:e.trim().toLowerCase().startsWith("cachefs:")?this.cfs:e.trim().toLowerCase().startsWith("common:")?this.mfs:e.trim().toLowerCase().startsWith("ext1:")?this.xfs:this.pfs}getPath(e){return this._root&&e.trim().toLowerCase().startsWith("pkg:")?e=this._root+"/"+e.trim().slice(4):this._ext&&e.trim().toLowerCase().startsWith("ext1:")?e=this._ext+"/"+e.trim().slice(5):this._root||(e=e.toLowerCase()),e.replaceAll(/\/+/g,"/").trim()}volumesSync(){const e=[];return(this._root||cs.has("/pkg:"))&&e.push("pkg:"),(this._ext||cs.has("/ext1:"))&&e.push("ext1:"),cs.has("/common:")&&e.push("common:"),e.push("tmp:","cachefs:"),e}existsSync(e){return xh(e)&&this.getFS(e).existsSync(this.getPath(e))}readFileSync(e,t){return this.getFS(e).readFileSync(this.getPath(e),t)}readdirSync(e){const t=this.getFS(e).readdirSync(this.getPath(e));if(Ah(e)&&t.length>0)for(const[r,n]of t.entries()){const i=ze.posix.join(e.toLowerCase(),n),s=this.getOriginalPath(i);s&&(t[r]=ze.posix.basename(s))}return t}mkdirSync(e){this.getFS(e).mkdirSync(this.getPath(e)),this.savePath(e)}rmdirSync(e){if(Ah(e)&&this.readdirSync(e).length>0)throw new Error("Directory not empty!");this.getFS(e).rmdirSync(this.getPath(e)),this.deletePath(e)}unlinkSync(e){this.getFS(e).unlinkSync(this.getPath(e)),this.deletePath(e)}renameSync(e,t){const r=this.readFileSync(e);this.writeFileSync(t,r),this.unlinkSync(e)}writeFileSync(e,t,r){this.getFS(e).writeFileSync(this.getPath(e),t,r),this.savePath(e)}statSync(e){return this.getFS(e).statSync(this.getPath(e))}findSync(e,t){let r=[];const n=this.getFS(e);return function e(i){const s=n.readdirSync(i);for(const a of s){const s=ze.join(i,a);n.statSync(s).isDirectory()?e(s):ze.extname(a)===`.${t}`&&r.push(s)}}(this.getPath(e)),r}}function Ih(e){return e.toLowerCase().substring(0,e.indexOf(":")+1)}function xh(e){return""!==e.trim()&&!e.startsWith("/")&&!e.startsWith("\\")&&e.includes(":/")}function Ah(e){return xh(e=e.toLowerCase())&&(e.startsWith("tmp:/")||e.startsWith("cachefs:/"))}class kh{outputStream;post;currentLineLength=0;constructor(e,t=!0){this.outputStream=e,this.post=t}write(e){let t=e;const r=e.split(",")[0];["print","error","warning","debug"].includes(r)&&(t=e.slice(r.length+1),this.post&&postMessage(e)),!this.post&&t.length&&this.outputStream.write(t),this.position(t)}position(e){if(e){const t=e.split("\n");t.length>1?this.currentLineLength=t.at(-1).length:this.currentLineLength+=e.length}return this.outputStream?.isTTY&&this.outputStream?.columns?this.currentLineLength%this.outputStream.columns:this.currentLineLength}}var Th,Mh=__webpack_require__(9907);class Ch{static deviceInfo=X;static registry={current:new Map,removed:[],isDirty:!1};static fileSystem=new _h;static extVolume=new je(ge,me);static isDevMode=!1;static keysBuffer=[];static terms=new Map;static sfx=Ce.slice();static bscs=new Map;static stats=new Map;static nodes=new Map;static stdout=new kh(Mh.stdout,!0);static stderr=new kh(Mh.stderr,!0);static sharedArray=new Int32Array(0);static displayEnabled=!0;static singleKeyEvents=!0;static useCORSProxy=!0;static lastRemote=0;static lastKey=-1;static lastMod=-1;static lastKeyTime=Date.now();static currKeyTime=Date.now();static threadId=0;static extVolVersion=-1;static extVolMounted=!1;static timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone;static clockFormat="12h";static locale="en-US";static tmpVolume;static cacheFS;static registryVersion=0;static sharedRegistry;static getTmpVolume(){return this.tmpVolume??=new SharedArrayBuffer(this.deviceInfo.tmpVolSize),this.tmpVolume}static getCacheFS(){return this.cacheFS??=new SharedArrayBuffer(this.deviceInfo.cacheFSVolSize),this.cacheFS}static setupFileSystem(e){if(void 0===e.device)throw new Error("Device information is required to setup the file system.");if(e.extZip){const t=Atomics.load(this.sharedArray,ne.EVE);this.extVolume.setBuffer(e.extZip),this.extVolVersion=this.extVolume.getVersion(),this.extVolMounted=1===t}try{this.fileSystem.setup(e.device.assets,e.taskData?.tmp??this.getTmpVolume(),e.taskData?.cacheFS??this.getCacheFS(),e.pkgZip,this.extVolMounted?this.extVolume.loadData():void 0,e.root,e.ext)}catch(e){this.stderr.write(`error,[BrsDevice] Error setting up file system: ${e.message}`)}}static mountExtVolume(e){if(this.extVolMounted||0===e.byteLength)return!1;try{this.extVolume.storeData(e),this.extVolVersion=this.extVolume.getVersion();const t=this.extVolume.loadData();return!!t&&(this.fileSystem.mountExt(t),this.extVolMounted=!0,!0)}catch(e){this.stderr.write(`error,[BrsDevice] Error mounting external storage volume (ext1:): ${e.message}`)}return!1}static mountExtPathVolume(e){return!this.extVolMounted&&(this.fileSystem.setExt(e),this.extVolMounted=!0,!0)}static umountExtVolume(){return!!this.extVolMounted&&(this.extVolMounted=!1,this.fileSystem.umountExt(),!0)}static refreshExtVolume(){try{const e=Atomics.load(this.sharedArray,ne.EVE);if(-1===e||!this.extVolMounted&&0===e)return!1;if(this.extVolMounted&&0===e)return this.umountExtVolume(),!0;if(this.fileSystem.ext)return!1;if(this.extVolume.getVersion()!==this.extVolVersion){this.extVolVersion=this.extVolume.getVersion();const e=this.extVolume.loadData();if(void 0!==e)return this.fileSystem.mountExt(e),this.extVolMounted=!0,!0;this.isDevMode&&this.stderr.write("warning,[BrsDevice] No data found in external storage volume (ext1:) to refresh.")}}catch(e){Atomics.store(this.sharedArray,ne.EVE,-1),this.isDevMode&&this.stderr.write(`error,[BrsDevice] Error refreshing external storage volume (ext1:): ${e.message}`)}return!1}static resetMemoryVolumes(){new Uint8Array(this.getTmpVolume()).fill(0),new Uint8Array(this.getCacheFS()).fill(0),this.fileSystem.resetMemoryFS(this.tmpVolume,this.cacheFS)}static setRegistry(e){let t;e instanceof SharedArrayBuffer?(this.sharedRegistry=new je(ye,be),this.sharedRegistry.setBuffer(e),this.registryVersion=this.sharedRegistry.getVersion(),t=new Map(Object.entries(this.sharedRegistry.load()))):t=e;for(const[e,r]of t)this.registry.current.set(e,r);this.registry.isDirty=!1}static flushRegistry(){postMessage(this.registry),this.sharedRegistry?.store(Object.fromEntries(this.registry.current)),this.registry.removed.length=0,this.registry.isDirty=!1}static refreshRegistry(){if(this.sharedRegistry&&this.sharedRegistry.getVersion()!==this.registryVersion){this.registryVersion=this.sharedRegistry.getVersion();const e=new Map(Object.entries(this.sharedRegistry.load()));this.registry.current.clear();for(const[t,r]of e)this.registry.current.set(t,r);this.registry.isDirty=!1}}static setSharedArray(e){this.sharedArray=e}static setDeviceInfo(e){for(const t of Object.keys(e)){if(t.startsWith("registry")||"assets"===t)continue;const r=this.normalizeDeviceInfoValue(t,e[t]);this.assignDeviceInfoValue(t,r)}this.clockFormat=Ch.deviceInfo.clockFormat,this.timeZone=Ch.deviceInfo.timeZone,this.locale=Ch.deviceInfo.locale.replace("_","-")}static assignDeviceInfoValue(e,t){this.deviceInfo[e]=t}static normalizeDeviceInfoValue(e,t){if("developerId"===e&&"string"==typeof t)return t.replace(".",":");if("corsProxy"===e){const e="string"==typeof t?t:"";return 0!==e.length&&e.startsWith("http")?e.endsWith("/")?e:`${e}/`:""}return t}static loadLocaleTerms(){const e=`common:/locale/${this.locale.replace("-","_")}/terms.json`;if(this.fileSystem.existsSync(e)){const t=this.fileSystem.readFileSync(e,"utf8");if(t)for(const[e,r]of Object.entries(JSON.parse(t)))"string"==typeof r&&this.terms.set(e,r)}}static getDisplayMode(){return this.deviceInfo?.displayMode?.startsWith("1080")?"FHD":this.deviceInfo?.displayMode?.startsWith("480")?"SD":"HD"}static getTerm(e){return this.terms.get(e)??e}static getCORSProxy(e=""){const t=this.deviceInfo.corsProxy??"";return!this.useCORSProxy||e.includes("//localhost")||e.includes("//127.0.0.1")?e:`${t}${e}`}static checkBreakCommand(e){let t=e?xe.BREAK:-1;if(!e){t=Atomics.load(this.sharedArray,ne.DBG),t===xe.BREAK?Atomics.store(this.sharedArray,ne.DBG,-1):t===xe.PAUSE&&(postMessage("command,pause"),Atomics.wait(this.sharedArray,ne.DBG,xe.PAUSE),Atomics.store(this.sharedArray,ne.DBG,-1),t=-1,postMessage("command,continue"));const e=Atomics.load(this.sharedArray,ne.DBT);e>=0&&e!==this.threadId&&(Atomics.wait(this.sharedArray,ne.DBT,e),t=-1)}return t}static readDataBuffer(){let e="";return this.sharedArray.slice(Se).every(t=>(t>0&&(e+=String.fromCharCode(t)),t)),Atomics.store(this.sharedArray,ne.BUF,-1),e}static notifyDebugStarted(){postMessage("command,stop"),Atomics.store(this.sharedArray,ne.DBT,this.threadId)}static notifyDebugEnded(){postMessage("command,continue"),Atomics.store(this.sharedArray,ne.DBT,-1),Atomics.notify(this.sharedArray,ne.DBT)}static updateKeysBuffer(){for(let e=0;e<we;e++){const t=e*ve,r=Atomics.load(this.sharedArray,ne.KEY+t);if(-1===r)break;if(0===this.keysBuffer.length||r!==this.keysBuffer.at(-1)?.key){const e=Atomics.load(this.sharedArray,ne.RID+t),n=10*Math.trunc(e/10),i=_e[n]??_e[_e.SIM],s=e-n,a=Atomics.load(this.sharedArray,ne.MOD+t);Atomics.store(this.sharedArray,ne.KEY+t,-1),this.keysBuffer.push({remote:`${i}:${s}`,key:r,mod:a}),this.lastRemote=s}}const e=this.keysBuffer.shift();if(e&&e.key!==this.lastKey){if(this.singleKeyEvents)if(0===e.mod)0===this.lastMod&&(this.keysBuffer.unshift({...e}),e.key=this.lastKey+100,e.mod=100);else if(e.key!==this.lastKey+100)return;return this.lastKeyTime=this.currKeyTime,this.currKeyTime=Date.now(),this.lastKey=e.key,this.lastMod=e.mod,e}}static playSound(e){if(Ce.includes(e)){const t=this.sfx.indexOf(e),r=this.getSfxStream(t);r>=0&&postMessage(`sfx,trigger,${e},${this.deviceInfo.audioVolume},${r}`)}}static getSfxStream(e){for(let t=0;t<Re;t++){const r=Atomics.load(this.sharedArray,ne.WAV+t);if(r===e||-1===r)return Atomics.store(this.sharedArray,ne.WAV+t,e),t}return-1}static getTime(){const e=new Date;return"12h"===this.clockFormat?new Intl.DateTimeFormat(this.locale,{hour:"numeric",minute:"numeric",hour12:!0,timeZone:this.timeZone}).format(e).toLowerCase():new Intl.DateTimeFormat(this.locale,{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:this.timeZone}).format(e)}static sleep(e){for(e+=performance.now();performance.now()<e;);}static addNodeStat(e){const t=this.nodes.get(e.toLowerCase())?.count||0;this.nodes.set(e.toLowerCase(),{name:e,count:t+1})}}class Rh{componentName;methods=new Map;filter="";references;returnFlag;interfaces=new Map;constructor(e){this.componentName=e,this.references=0,this.returnFlag=!1}getComponentName(){return this.componentName}hasInterface(e){return this.interfaces.has(e.toLowerCase())}setFilter(e){this.filter=e.toLowerCase()}registerMethods(e){for(const[t,r]of Object.entries(e)){const e=new Set(r.filter(e=>e.name?.toLowerCase()).map(e=>e.name?.toLowerCase()));this.interfaces.set(t.toLowerCase(),new V(t,e)),this.appendMethods(r)}}appendMethods(e){for(const t of e)this.methods.set((t.name||"").toLowerCase(),t)}overrideMethods(e){for(const t of e)t.name&&this.methods.has(t.name.toLowerCase())&&this.methods.set(t.name.toLowerCase(),t)}getMethod(e){const t=e.toLowerCase();if(""!==this.filter){const e=this.interfaces.get(this.filter);return this.filter="",e?.hasMethod(t)?this.methods.get(t):void 0}return this.methods.get(t)}getReferenceCount(){return this.references}setReturn(e){this.returnFlag=e}addReference(){if(this.references++,1===this.references){const e=Ch.bscs.get(this.componentName)??0;Ch.bscs.set(this.componentName,e+1)}}removeReference(){if(this.references--,0===this.references&&!this.returnFlag){const e=Ch.bscs.get(this.componentName);e&&Ch.bscs.set(this.componentName,e-1),this.dispose()}return this.references}dispose(){}}class Dh{left;token;right;constructor(e,t,r){this.left=e,this.token=t,this.right=r}accept(e){return e.visitBinary(this)}get location(){return{file:this.token.location.file,start:this.left.location.start,end:this.right.location.end}}}class Oh{callee;closingParen;args;optional;static MaximumArguments=32;constructor(e,t,r,n=!1){this.callee=e,this.closingParen=t,this.args=r,this.optional=n}accept(e){return e.visitCall(this)}get location(){return{file:this.closingParen.location.file,start:this.callee.location.start,end:this.closingParen.location.end}}}class Fh{parameters;returns;body;keyword;end;constructor(e,t,r,n,i){this.parameters=e,this.returns=t,this.body=r,this.keyword=n,this.end=i}accept(e){return e.visitAnonymousFunction(this)}get location(){return{file:this.keyword.location.file,start:this.keyword.location.start,end:this.end.location.end}}}class Ph{obj;name;optional;constructor(e,t,r=!1){this.obj=e,this.name=t,this.optional=r}accept(e){return e.visitAtSignGet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.name.location.end}}}class Nh{obj;name;optional;constructor(e,t,r=!1){this.obj=e,this.name=t,this.optional=r}accept(e){return e.visitDottedGet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.name.location.end}}}class Bh{obj;indexes;closingSquare;optional;constructor(e,t,r,n=!1){this.obj=e,this.indexes=t,this.closingSquare=r,this.optional=n}accept(e){return e.visitIndexedGet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.closingSquare.location.end}}}class Lh{tokens;expression;constructor(e,t){this.tokens=e,this.expression=t}accept(e){return e.visitGrouping(this)}get location(){return{file:this.tokens.left.location.file,start:this.tokens.left.location.start,end:this.tokens.right.location.end}}}class Uh{value;_location;constructor(e,t){this.value=e,this._location=t}accept(e){return e.visitLiteral(this)}get location(){return this._location??{file:"(internal)",start:{line:-1,column:-1},end:{line:-1,column:-1}}}}class Vh{elements;open;close;constructor(e,t,r){this.elements=e,this.open=t,this.close=r}accept(e){return e.visitArrayLiteral(this)}get location(){return{file:this.open.location.file,start:this.open.location.start,end:this.close.location.end}}}class jh{elements;open;close;constructor(e,t,r){this.elements=e,this.open=t,this.close=r}accept(e){return e.visitAALiteral(this)}get location(){return{file:this.open.location.file,start:this.open.location.start,end:this.close.location.end}}}class zh{operator;right;constructor(e,t){this.operator=e,this.right=t}accept(e){return e.visitUnary(this)}get location(){return{file:this.operator.location.file,start:this.operator.location.start,end:this.right.location.end}}}class $h{name;constructor(e){this.name=e}accept(e){return e.visitVariable(this)}get location(){return this.name.location}}!function(e){e[e.Global=0]="Global",e[e.Module=1]="Module",e[e.Function=2]="Function"}(Th||(Th={}));class qh extends Error{constructor(e){super(e)}}let Gh=0;class Wh{id=Gh++;constructor(e,t){this.rootM=t||e,this.function.set("m",e),e.addReference(),this.mPointer=e}global=new Map;module=new Map;locations=new Map;function=new Map;mPointer;rootM;hostNode;gotoLabel="";continueFor=!1;continueForEach=0;define(e,t,r,n){let i;const s=t.toLowerCase();switch(e){case Th.Function:{i=this.function,r instanceof Rh&&r.addReference();const e=i.get(s);e instanceof Rh&&e.removeReference();break}case Th.Module:i=this.module,this.locations.set(s,n);break;case Th.Global:default:i=this.global}i.set(s,r)}getDefinedLocation(e){return this.locations.get(e.toLowerCase())}setM(e,t=!0){this.mPointer=e,t&&this.function.set("m",this.mPointer)}getRootM(){return this.rootM}setRootM(e){this.rootM=e}remove(e,t=Th.Function){const r=e.toLowerCase();switch(t){case Th.Module:this.module.delete(r);break;case Th.Function:if(this.function.has(r)){const e=this.function.get(r);e instanceof Rh&&e.removeReference(),this.function.delete(r)}}}removeReferences(){for(let[e,t]of this.function)t instanceof Rh&&t.removeReference()}get(e){let t=e.text.toLowerCase();if("line_num"===t)return new lf(e.location.start.line);let r=[this.function,this.module,this.global].find(e=>e.has(t));if(r)return r.get(t);throw new qh(`Undefined variable '${e.text}'`)}has(e,t=[Th.Global,Th.Module,Th.Function]){if("m"===e.text.toLowerCase())return!0;let r=e.text.toLowerCase();return null!=t.map(e=>{switch(e){case Th.Global:return this.global;case Th.Module:return this.module;case Th.Function:return this.function}}).find(e=>e.has(r))}getList(e){switch(e){case Th.Global:return this.global;case Th.Module:return this.module;case Th.Function:return this.function}}createSubEnvironment(e=!0){let t=new Wh(this.mPointer,this.rootM);return t.global=this.global,t.hostNode=this.hostNode,e?(t.module=this.module,t.locations=this.locations):(t.module=new Map,t.locations=new Map),t}}var Hh=__webpack_require__(2507),Xh=__webpack_require__.n(Hh);class Yh extends Error{location;backTrace;constructor(e,t,r){super(e),this.location=t,this.backTrace=r}format(){return Yh.format(this.message,this.location)}static format(e,t){let r;if(!t)return e;if(t.start.line===t.end.line){let e=`${t.start.column}`;t.start.column!==t.end.column&&(e+=`-${t.end.column}`),r=`${t.file}(${t.start.line},${e})`}else r=`${t.file}(${t.start.line},${t.start.column},${t.end.line},${t.end.column})`;return`${r}: ${e}`}}class Kh extends Yh{errorDetail;extraFields;constructor(e,t,r,n){super(e.message,t,r),this.errorDetail=e,this.extraFields=n}}function Zh(e){for(const[t,r]of Object.entries(Jh))if(r.errno===e)return r;return null}const Jh={NextWithoutFor:{errno:0,message:"Next Without For."},BadSyntax:{message:"Syntax Error.",errno:2},ReturnedWithoutGosub:{message:"Return Without Gosub.",errno:4},OutOfData:{message:"Out of Data on READ.",errno:6},BadFunctionOrArrayParam:{message:"Invalid parameter passed to function/array (e.g neg matrix dim or sqr root).",errno:8},OutOfMemory:{message:"Out Of Memory.",errno:12},MissingLineNumber:{message:"Label/Line Not Found.",errno:14},IndexOutOfBounds:{message:"Array subscript out of bounds.",errno:16},RedimensionArray:{message:"Attempted to redimension an array.",errno:18},DivideByZero:{message:"Divide by Zero.",errno:20},TypeMismatch:{message:"Type Mismatch.",errno:24},OutOfMemoryStringOp:{message:"Out of Memory when doing string operation.",errno:26},StringTooLong:{message:"String Too Long.",errno:28},BadBitShift:{message:"Invalid Bitwise Shift.",errno:30},NoContinue:{message:"Continue Not Allowed.",errno:32},OutOfRange:{message:"Constant Out Of Range",errno:34},ExecutionTimeout:{message:"Execution timeout",errno:35},InvalidFormatSpecifier:{message:"Invalid Format Specifier",errno:36},MalformedThrow:{message:"Invalid argument to Throw",errno:38},UserDefined:{message:"User-specified exception",errno:40},TooManyTasks:{message:"Too many task threads",errno:41},RunNotSupported:{message:"run() is unsupported.",errno:140},ContinueForWithoutFor:{message:"Continue For is not inside a For loop",errno:141},ContinueWhileWithoutWhile:{message:"Continue While is not inside a While",errno:142},TryContainsLabel:{message:"Labels are illegal inside a TRY clause.",errno:143},EvalDisabled:{message:"eval() is deprecated. You must eliminate usage of eval().",errno:144},FunctionNotFound:{message:"Function is not defined in component's namespace",errno:145},NameShadowsBuiltin:{message:"Syntax Error. Builtin function call expected.",errno:157},VarShadowsFunctionName:{message:"Variable name cannot be the same as that of a declared function.",errno:160},LabelLimitExceeded:{message:"Too Many Labels. Internal Label table size exceeded.",errno:161},ClassNotFound:{message:"Class Not Found.",errno:162},InterfaceTooLarge:{message:"Interface has too many functions for bytecode.",errno:163},NoInitializer:{message:"Assignment initializer missing.",errno:164},ExitForWithoutFor:{message:"Exit For is not inside a For loop.",errno:165},Deprecated:{message:"Statement type no longer supported.",errno:166},BadType:{message:"Type is Invalid.",errno:167},MissingReturnType:{message:"Function must have a return type.",errno:168},ReturnWithoutValue:{message:"Return must return a value.",errno:169},ReturnWithValue:{message:"Return can not have a return-value if inside a Sub or Function with Void return type.",errno:170},TypeMismatchForEachIndex:{message:"For-Each index variable must be 'dynamic' type.",errno:171},MissingMainFunction:{message:"No Main() Found.",errno:172},DuplicateSub:{message:"SUB or FUNCTION defined twice.",errno:173},LimitExceeded:{message:"Internal limit size exceeded.",errno:174},ExitWhileWithoutWhile:{message:"Exit While is not inside a While.",errno:175},TooManyVariables:{message:"Variable table size exceeded.",errno:176},TooManyConstants:{message:"Constant table size exceeded.",errno:177},FunctionNotExpected:{message:"Function not expected here.",errno:178},UnterminatedString:{message:"String missing ending quote.",errno:179},DuplicateLabel:{message:"Label/LineNumber defined more than once.",errno:180},UnterminatedBlock:{message:"A block (such as FOR/NEXT or IF/ENDIF) was not terminated correctly.",errno:181},BadNext:{message:"Variable in NEXT does not match correct FOR.",errno:182},EndOfFile:{message:"Unexpected End-Of-File.",errno:183},CannotReadFile:{message:"Error loading file.",errno:185},LineNumberSequenceError:{message:"Classic BASIC style line number is out of sequence.",errno:186},NoLineNumber:{message:"Line Number not found where expected.",errno:187},IfWithoutEndIf:{message:"ENDIF Missing.",errno:189},WhileWithoutEndWhile:{message:"While Statement is missing a matching EndWhile.",errno:190},EndWhileWithoutWhile:{message:"EndWhile Without While.",errno:191},ExceptionThrownOnStack:{message:"UNEXPECTED INTERNAL (Exception on stack)",errno:222},StackOverflow:{message:"Stack overflow.",errno:223},NotAFunction:{message:"Function Call Operator ( ) attempted on non-function.",errno:224},UnsupportedUnicode:{message:"Error: Unicode not supported.",errno:225},ValueReturn:{message:"Return from non-function.",errno:226},BadNumberOfIndexes:{message:"Invalid number of Array indexes.",errno:227},BadLHS:{message:"Invalid value for left-side of expression.",errno:228},MissingReturnValue:{message:"Function does not have a required return.",errno:229},UninitializedFunction:{message:"Use of a reference to a function/sub that is not initialized.",errno:230},UndimmedArray:{message:"Array operation attempted on variable not DIM'd.",errno:231},NonNumericArrayIndex:{message:"Attempt to use a non-numeric array index not allowed.",errno:232},UninitializedVariable:{message:"Use of uninitialized variable.",errno:233},TypelessOperation:{message:"Operation on UnTyped operand(s) attempted.",errno:235},DotOnNonObject:{message:"'Dot' Operator attempted with invalid BrightScript Component or interface reference.",errno:236},NonStaticInterfaceCall:{message:"Interface function calls from type rotINTERFACE must by static.",errno:237},NotWaitable:{message:"Tried to Wait on an BrightScript Component that does not have MessagePort interface.",errno:238},NotPrintable:{message:"Non printable value.",errno:239},ReturnValueIgnored:{message:"Function returns a value that is ignored.",errno:240},WrongNumberOfParams:{message:"Wrong number of function parameters.",errno:241},TooManyParams:{message:"Too many function parameters (internal limit exceeded).",errno:242},InterfaceNotAMember:{message:"Interface not a member of BrightScript Component",errno:243},MemberFunctionNotFound:{message:"Member function not found in BrightScript Component or interface.",errno:244},RoWrongNumberOfParams:{message:"BrightScript Component function call does not have the correct number of parameters.",errno:245},ObjectClassNotFound:{message:"BrightScript Component Class not Found.",errno:246},Stop:{message:"STOP",errno:247},Break:{message:"BREAK",errno:248},StackUnderflow:{message:"Stack Underflow.",errno:249},MissingParenthesis:{message:"Missing Parentheses",errno:250},UndefinedOperator:{message:"Unsupported expression operator.",errno:251},NormalEnd:{message:"Normal End.",errno:252},UndefinedOpCode:{message:"Undefined Op Code.",errno:253},Internal:{message:"UNEXPECTED INTERNAL.",errno:254},Okay:{message:"OKAY",errno:255}};function Qh(e){postMessage(`error,${e.format()}`)}var ef=__webpack_require__(3261);class tf{component;defaultFormat;defaultRegEx;constructor(e,t=""){this.component=e,t instanceof RegExp?this.defaultRegEx=t:this.defaultFormat=t}toStr=new yf("toStr",{signature:{args:[new gf("format",R.String,N.Instance)],returns:R.String},impl:(e,t)=>{if(t instanceof N){if(!this.defaultFormat?.length){if(this.defaultRegEx)return new F(this.component.toString().replace(this.defaultRegEx,""));if(my(this.component))return new F(this.component.toString());if(O(this.component)||this.component instanceof Zf||this.component instanceof $m)return new F(this.component.getValue().toString());throw new Kh(Jh.MemberFunctionNotFound,e.location,e.getBacktrace())}t=new F(this.defaultFormat)}if(!(my(this.component)||this.component instanceof Yf))throw new Kh(Jh.MemberFunctionNotFound,e.location,e.getBacktrace());const r=t.value.split("%").length-1;if(0===r)return new F(t.value);const n=new Array(r).fill(this.component.getValue());try{return new F((0,ef.vsprintf)(t.value,n))}catch(r){Ch.isDevMode&&Ch.stderr.write(`warning,ifToStr.toStr() Error: ${r.message} - ${t.value} at ${e.formatLocation()}`);const n=r.message?.includes("expecting number")?Jh.TypeMismatch:Jh.InvalidFormatSpecifier;throw new Kh(n,e.location,e.getBacktrace())}}})}class rf extends Rh{kind=R.Object;intrinsic;constructor(e){super("roLongInteger"),this.intrinsic=new nf(sy(e)?e.getValue():0),this.registerMethods({ifLongInt:[this.getLongInt,this.setLongInt],ifToStr:[new tf(this).toStr]})}getValue(){return this.intrinsic.getValue()}toBoolean(){return this.intrinsic.toBoolean()}unbox(){return this.intrinsic}copy(){return new rf(this.intrinsic)}equalTo(e){return e instanceof rf?P.from(e.intrinsic.getValue().low===this.intrinsic.getValue().low):P.False}toString(e){return this.intrinsic.toString()}getLongInt=new yf("getLongInt",{signature:{args:[],returns:R.Int64},impl:e=>this.intrinsic});setLongInt=new yf("setLongInt",{signature:{args:[new gf("value",R.Int64)],returns:R.Void},impl:(e,t)=>(this.intrinsic=t,N.Instance)})}class nf{inArray;kind=R.Int64;value;getValue(){return this.value}toBoolean(){return 0!==this.value.toNumber()}constructor(e,t=!1){this.inArray=t,e instanceof Xh()?this.value=e:this.value=Xh().fromNumber(Math.trunc(e))}static fromString(e){let t=10;return e.toLowerCase().startsWith("&h")&&(t=16,e=e.slice(2).replace("&","")),new nf(Xh().fromString(e,void 0,t))}add(e){switch(e.kind){case R.Int32:case R.Int64:return new nf(this.getValue().add(e.getValue()));case R.Float:return new cf(this.getValue().toNumber()+e.getValue());case R.Double:return new af(this.getValue().toNumber()+e.getValue())}}subtract(e){switch(e.kind){case R.Int32:case R.Int64:return new nf(this.getValue().subtract(e.getValue()));case R.Float:return new cf(this.getValue().toNumber()-e.getValue());case R.Double:return new af(this.getValue().toNumber()-e.getValue())}}multiply(e){switch(e.kind){case R.Int32:case R.Int64:return new nf(this.getValue().multiply(e.getValue()));case R.Float:return new cf(this.getValue().toNumber()*e.getValue());case R.Double:return new af(this.getValue().toNumber()*e.getValue())}}divide(e){switch(e.kind){case R.Int32:case R.Int64:return new cf(this.getValue().divide(e.getValue()).toNumber());case R.Float:return new cf(this.getValue().toNumber()/e.getValue());case R.Double:return new af(this.getValue().toNumber()/e.getValue())}}modulo(e){switch(e.kind){case R.Int32:case R.Int64:return new nf(this.getValue().modulo(e.getValue()));case R.Float:case R.Double:return new nf(this.getValue().toNumber()%e.getValue())}}intDivide(e){switch(e.kind){case R.Int32:case R.Int64:return new nf(this.getValue().divide(e.getValue()));case R.Float:case R.Double:return new nf(Math.floor(this.getValue().toNumber()/e.getValue()))}}leftShift(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new nf(this.getValue().toNumber()<<Math.trunc(e.getValue()));case R.Int64:return new nf(this.getValue().toNumber()<<e.getValue().toNumber())}}rightShift(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new nf(this.getValue().toNumber()>>Math.trunc(e.getValue()));case R.Int64:return new nf(this.getValue().toNumber()>>e.getValue().toNumber())}}pow(e){switch(e.kind){case R.Int32:return new nf(Math.pow(this.getValue().toNumber(),e.getValue()));case R.Float:return new cf(Math.pow(this.getValue().toNumber(),e.getValue()));case R.Double:return new af(Math.pow(this.getValue().toNumber(),e.getValue()));case R.Int64:return new nf(Math.pow(this.getValue().toNumber(),e.getValue().toNumber()))}}and(e){return e.kind===R.Boolean?P.from(this.toBoolean()&&e.getValue()):new nf(this.getValue().and(e.getValue()))}or(e){return e.kind===R.Boolean?P.from(this.toBoolean()||e.getValue()):new nf(this.getValue().or(e.getValue()))}not(){return new nf(this.getValue().not())}lessThan(e){switch(e.kind){case R.Int32:case R.Int64:return P.from(this.getValue().lessThan(e.getValue()));case R.Float:return new cf(this.getValue().toNumber()).lessThan(e);case R.Double:return new af(this.getValue().toNumber()).lessThan(e)}return py(e)?P.from(this.getValue().lessThan(e.getValue())):P.False}greaterThan(e){switch(e.kind){case R.Int32:case R.Int64:return P.from(this.getValue().greaterThan(e.getValue()));case R.Float:return new cf(this.getValue().toNumber()).greaterThan(e);case R.Double:return new af(this.getValue().toNumber()).greaterThan(e)}return py(e)?P.from(this.getValue().greaterThan(e.getValue())):P.False}equalTo(e){switch(e.kind){case R.Int32:case R.Int64:return P.from(this.getValue().equals(e.getValue()));case R.Float:return new cf(this.getValue().toNumber()).equalTo(e);case R.Double:return new af(this.getValue().toNumber()).equalTo(e);case R.Boolean:return e.equalTo(P.from(this.toBoolean()))}return py(e)?P.from(this.getValue().equals(e.getValue())):P.False}toString(e){return Number.isNaN(this.value.toNumber())?"nan":this.value.toString()}box(){return new rf(this)}}class sf extends Rh{kind=R.Object;intrinsic;constructor(e){super("roDouble"),this.intrinsic=new af(sy(e)?e.getValue():0),this.registerMethods({ifDouble:[this.getDouble,this.setDouble],ifToStr:[new tf(this,"%g").toStr]})}getValue(){return this.intrinsic.getValue()}toBoolean(){return this.intrinsic.toBoolean()}unbox(){return this.intrinsic}copy(){return new sf(this.intrinsic)}equalTo(e){return e instanceof sf?P.from(e.intrinsic.getValue()===this.intrinsic.getValue()):P.False}toString(e){return this.intrinsic.toString()}getDouble=new yf("getDouble",{signature:{args:[],returns:R.Double},impl:e=>this.intrinsic});setDouble=new yf("setDouble",{signature:{args:[new gf("value",R.Double)],returns:R.Void},impl:(e,t)=>(this.intrinsic=t,N.Instance)})}class af{inArray;kind=R.Double;value;getValue(){return this.value}toBoolean(){return 0!==Math.trunc(this.value)}constructor(e,t=!1){this.inArray=t,this.value=e instanceof Xh()?e.toNumber():e}static fromString(e){return new af(Number.parseFloat(e))}add(e){switch(e.kind){case R.Int64:return new af(this.getValue()+e.getValue().toNumber());case R.Int32:case R.Float:case R.Double:return new af(this.getValue()+e.getValue())}}subtract(e){switch(e.kind){case R.Int64:return new af(this.getValue()-e.getValue().toNumber());case R.Int32:case R.Float:case R.Double:return new af(this.getValue()-e.getValue())}}multiply(e){switch(e.kind){case R.Int64:return new af(this.getValue()*e.getValue().toNumber());case R.Int32:case R.Float:case R.Double:return new af(this.getValue()*e.getValue())}}divide(e){switch(e.kind){case R.Int64:return new af(this.getValue()/e.getValue().toNumber());case R.Int32:case R.Float:case R.Double:return new af(this.getValue()/e.getValue())}}modulo(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new af(Math.trunc(this.getValue()%e.getValue()));case R.Int64:return new af(Math.trunc(this.getValue()%e.getValue().toNumber()))}}intDivide(e){switch(e.kind){case R.Int64:return new nf(Math.trunc(this.getValue()/e.getValue().toNumber()));case R.Int32:case R.Float:case R.Double:return new lf(Math.trunc(this.getValue()/e.getValue()))}}leftShift(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new lf(Math.trunc(this.getValue())<<Math.trunc(e.getValue()));case R.Int64:return new lf(Math.trunc(this.getValue())<<e.getValue().toNumber())}}rightShift(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new lf(Math.trunc(this.getValue())>>Math.trunc(e.getValue()));case R.Int64:return new lf(Math.trunc(this.getValue())>>e.getValue().toNumber())}}pow(e){switch(e.kind){case R.Int32:return new cf(Math.pow(this.getValue(),e.getValue()));case R.Int64:return new nf(this.getValue()).pow(e);case R.Float:return new cf(Math.pow(this.getValue(),e.getValue()));case R.Double:return new af(Math.pow(this.getValue(),e.getValue()))}}and(e){switch(e.kind){case R.Int64:return new nf(this.getValue()).and(e);case R.Int32:case R.Float:case R.Double:return new lf(this.getValue()&e.getValue());case R.Boolean:return P.from(this.toBoolean()&&e.getValue())}}or(e){switch(e.kind){case R.Int64:return new nf(this.getValue()).or(e);case R.Int32:case R.Float:case R.Double:return new lf(this.getValue()|e.getValue());case R.Boolean:return P.from(this.toBoolean()||e.getValue())}}not(){return new lf(~this.getValue())}lessThan(e){return e.kind===R.Int64?P.from(this.getValue()<e.getValue().toNumber()):py(e)?P.from(this.getValue()<e.getValue()):P.False}greaterThan(e){return e.kind===R.Int64?P.from(this.getValue()>e.getValue().toNumber()):py(e)?P.from(this.getValue()>e.getValue()):P.False}equalTo(e){return e.kind===R.Int64?P.from(this.getValue()===e.getValue().toNumber()):e.kind===R.Boolean?e.equalTo(P.from(this.toBoolean())):py(e)?P.from(this.getValue()===e.getValue()):P.False}toString(e){return Number.isNaN(this.value)?"nan":this.value.toPrecision()}box(){return new sf(this)}}class of extends Rh{kind=R.Object;intrinsic;constructor(e){super("roFloat"),this.intrinsic=new cf(sy(e)?e.getValue():0),this.registerMethods({ifFloat:[this.getFloat,this.setFloat],ifToStr:[new tf(this,"%g").toStr]})}getValue(){return this.intrinsic.getValue()}toBoolean(){return this.intrinsic.toBoolean()}unbox(){return this.intrinsic}copy(){return new of(this.intrinsic)}equalTo(e){return e instanceof of?P.from(e.intrinsic.getValue()===this.intrinsic.getValue()):P.False}toString(e){return this.intrinsic.toString()}getFloat=new yf("getFloat",{signature:{args:[],returns:R.Float},impl:e=>this.intrinsic});setFloat=new yf("setFloat",{signature:{args:[new gf("value",R.Float)],returns:R.Void},impl:(e,t)=>(this.intrinsic=t,N.Instance)})}class cf{inArray;kind=R.Float;value;getValue(){return this.value}toBoolean(){return 0!==Math.trunc(this.value)}constructor(e,t=!1){this.inArray=t,e instanceof Xh()&&(e=e.toNumber()),this.value=parseFloat(Math.fround(e).toPrecision(7))}static fromString(e){return new cf(Number.parseFloat(e))}add(e){switch(e.kind){case R.Int64:return new cf(this.getValue()+e.getValue().toNumber());case R.Int32:case R.Float:return new cf(this.getValue()+e.getValue());case R.Double:return new af(this.getValue()+e.getValue())}}subtract(e){switch(e.kind){case R.Int64:return new cf(this.getValue()-e.getValue().toNumber());case R.Int32:case R.Float:return new cf(this.getValue()-e.getValue());case R.Double:return new af(this.getValue()-e.getValue())}}multiply(e){switch(e.kind){case R.Int64:return new cf(this.getValue()*e.getValue().toNumber());case R.Int32:case R.Float:return new cf(this.getValue()*e.getValue());case R.Double:return new af(this.getValue()*e.getValue())}}divide(e){switch(e.kind){case R.Int64:return new cf(this.getValue()/e.getValue().toNumber());case R.Int32:case R.Float:return new cf(this.getValue()/e.getValue());case R.Double:return new af(this.getValue()/e.getValue())}}modulo(e){switch(e.kind){case R.Int32:case R.Float:return new cf(Math.trunc(this.getValue()%e.getValue()));case R.Double:return new af(Math.trunc(this.getValue()%e.getValue()));case R.Int64:return new cf(Math.trunc(this.getValue()%e.getValue().toNumber()))}}intDivide(e){switch(e.kind){case R.Int64:return new nf(Math.trunc(this.getValue()/e.getValue().toNumber()));case R.Int32:case R.Float:case R.Double:return new lf(Math.trunc(this.getValue()/e.getValue()))}}leftShift(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new lf(Math.trunc(this.getValue())<<Math.trunc(e.getValue()));case R.Int64:return new lf(Math.trunc(this.getValue())<<e.getValue().toNumber())}}rightShift(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new lf(Math.trunc(this.getValue())>>Math.trunc(e.getValue()));case R.Int64:return new lf(Math.trunc(this.getValue())>>e.getValue().toNumber())}}pow(e){switch(e.kind){case R.Int32:return new cf(Math.pow(this.getValue(),e.getValue()));case R.Int64:return new cf(Math.pow(this.getValue(),e.getValue().toNumber()));case R.Float:return new cf(Math.pow(this.getValue(),e.getValue()));case R.Double:return new af(Math.pow(this.getValue(),e.getValue()))}}and(e){switch(e.kind){case R.Int64:return new nf(this.getValue()).and(e);case R.Int32:case R.Float:case R.Double:return new lf(this.getValue()&e.getValue());case R.Boolean:return P.from(this.toBoolean()&&e.getValue())}}or(e){switch(e.kind){case R.Int64:return new nf(this.getValue()).or(e);case R.Int32:case R.Float:case R.Double:return new lf(this.getValue()|e.getValue());case R.Boolean:return P.from(this.toBoolean()||e.getValue())}}not(){return new lf(~this.getValue())}lessThan(e){return e.kind===R.Int64?P.from(this.getValue()<e.getValue().toNumber()):py(e)?P.from(this.getValue()<e.getValue()):P.False}greaterThan(e){return e.kind===R.Int64?P.from(this.getValue()>e.getValue().toNumber()):py(e)?P.from(this.getValue()>e.getValue()):P.False}equalTo(e){return e.kind===R.Int64?P.from(this.getValue()===e.getValue().toNumber()):e.kind===R.Boolean?e.equalTo(P.from(this.toBoolean())):py(e)?P.from(this.getValue()===e.getValue()):P.False}toString(e){return Number.isNaN(this.value)?"nan":(0,ef.vsprintf)("%g",[this.value])}box(){return new of(this)}}class uf extends Rh{kind=R.Object;intrinsic;constructor(e){super("roInt"),this.intrinsic=new lf(sy(e)?e.getValue():0);const t=new tf(this).toStr;this.registerMethods({ifInt:[this.getInt,this.setInt],ifIntOps:[t],ifToStr:[t]})}getValue(){return this.intrinsic.getValue()}toBoolean(){return this.intrinsic.toBoolean()}unbox(){return this.intrinsic}copy(){return new uf(this.intrinsic)}equalTo(e){return e instanceof uf?P.from(e.intrinsic.getValue()===this.intrinsic.getValue()):P.False}toString(e){return this.intrinsic.toString()}getInt=new yf("getInt",{signature:{args:[],returns:R.Double},impl:e=>this.intrinsic});setInt=new yf("setInt",{signature:{args:[new gf("value",R.Int32)],returns:R.Void},impl:(e,t)=>(this.intrinsic=t,N.Instance)})}class lf{inArray;kind=R.Int32;value;getValue(){return this.value}toBoolean(){return 0!==this.value}constructor(e,t=!1){this.inArray=t;const r=2147483648;e instanceof Xh()?e=e.low:(e>r-1||e<-r)&&(e=e<-r?-r:r-1),this.value=Math.trunc(e)}static fromString(e){if(e.toLowerCase().startsWith("&h")){e=e.slice(2);const t=0|Number.parseInt(e,16);return new lf(t)}return new lf(Number.parseFloat(e))}add(e){switch(e.kind){case R.Int32:return new lf(this.getValue()+e.getValue()|0);case R.Int64:return new nf(e.getValue().add(this.getValue()));case R.Float:return new cf(this.getValue()+e.getValue());case R.Double:return new af(this.getValue()+e.getValue())}}subtract(e){switch(e.kind){case R.Int32:return new lf(this.getValue()-e.getValue()|0);case R.Int64:return new nf(this.getValue()).subtract(e);case R.Float:return new cf(this.getValue()-e.getValue());case R.Double:return new af(this.getValue()-e.getValue())}}multiply(e){switch(e.kind){case R.Int32:return new lf(this.getValue()*e.getValue()|0);case R.Int64:return new nf(e.getValue().multiply(this.getValue()));case R.Float:return new cf(this.getValue()*e.getValue());case R.Double:return new af(this.getValue()*e.getValue())}}divide(e){switch(e.kind){case R.Int32:return new cf(this.getValue()/e.getValue());case R.Int64:return new cf(this.getValue()/e.getValue().toNumber());case R.Float:return new cf(this.getValue()/e.getValue());case R.Double:return new af(this.getValue()/e.getValue())}}modulo(e){switch(e.kind){case R.Int32:return new lf(this.getValue()%e.getValue());case R.Float:return new cf(Math.trunc(this.getValue()%e.getValue()));case R.Double:return new af(Math.trunc(this.getValue()%e.getValue()));case R.Int64:return new nf(this.getValue()).modulo(e)}}intDivide(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new lf(Math.trunc(this.getValue()/e.getValue()));case R.Int64:return new nf(Math.trunc(this.getValue()/e.getValue().toNumber()))}}leftShift(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new lf(this.getValue()<<Math.trunc(e.getValue()));case R.Int64:return new lf(this.getValue()<<e.getValue().toNumber())}}rightShift(e){switch(e.kind){case R.Int32:case R.Float:case R.Double:return new lf(this.getValue()>>>Math.trunc(e.getValue()));case R.Int64:return new lf(this.getValue()>>>e.getValue().toNumber())}}pow(e){switch(e.kind){case R.Int32:return new cf(Math.pow(this.getValue(),e.getValue()));case R.Int64:return new nf(this.getValue()).pow(e);case R.Float:return new cf(Math.pow(this.getValue(),e.getValue()));case R.Double:return new af(Math.pow(this.getValue(),e.getValue()))}}and(e){switch(e.kind){case R.Int32:return new lf(this.getValue()&e.getValue());case R.Int64:return new nf(this.getValue()).and(e);case R.Float:case R.Double:return new lf(this.getValue()&e.getValue());case R.Boolean:return P.from(this.toBoolean()&&e.getValue())}}or(e){switch(e.kind){case R.Int32:return new lf(this.getValue()|e.getValue());case R.Int64:return new nf(this.getValue()).or(e);case R.Float:case R.Double:return new lf(this.getValue()|e.getValue());case R.Boolean:return P.from(this.toBoolean()||e.getValue())}}not(){return new lf(~this.getValue())}lessThan(e){return e.kind===R.Int64?P.from(this.getValue()<e.getValue().toNumber()):py(e)?P.from(this.getValue()<e.getValue()):P.False}greaterThan(e){return e.kind===R.Int64?P.from(this.getValue()>e.getValue().toNumber()):py(e)?P.from(this.getValue()>e.getValue()):P.False}equalTo(e){return e.kind===R.Int64?P.from(this.getValue()===e.getValue().toNumber()):e.kind===R.Boolean?e.equalTo(P.from(this.toBoolean())):py(e)?P.from(this.getValue()===e.getValue()):P.False}toString(e){return Number.isNaN(this.value)?"nan":this.value.toString()}box(){return new uf(this)}}function hf(e,t){if(e.kind===t||t===R.Dynamic)return e;if(t===R.Object){if(L(e))return hf(e.box(),t);if(e instanceof Rh)return e}if(t===R.String&&gy(e))return new F(e.getValue());if(cy.has(t)&&U(e))return hf(e.unbox(),t);if(oy(t)&&sy(e))switch(t){case R.Int32:return new lf(e.getValue());case R.Int64:return new nf(e.getValue());case R.Float:return new cf(e.getValue());case R.Double:return new af(e.getValue())}else if(t===R.Boolean&&sy(e))return P.from(e.toBoolean())}function ff(e,t){let r=t.signature,n=t.mismatches,i=[],s=0,a=r.args.map(e=>{let t=`${e.name.text} as ${R.toString(e.type.kind)}`;return e.defaultValue?`[${t}]`:(s++,t)}).join(", ");return i.push(`function ${e}(${a}) as ${R.toString(r.returns)}:`,...n.map(t=>{switch(t.reason){case mf.TooFewArguments:return`* ${e} requires at least ${s} argument(s), but received ${t.received}.`;case mf.TooManyArguments:return`* ${e} accepts at most ${t.expected} argument(s), but received ${t.received}.`;case mf.ArgumentTypeMismatch:return`* Argument '${t.argName}' must be of type ${t.expected}, but received ${t.received}.`}}).map(e=>`    ${e}`)),i.map(e=>`    ${e}`).join("\n")}function df(e,t,r){let n,i,s=e.getName(),a=e.getAllSignatureMismatches(t);1===a.length?(n=`Provided arguments don't match ${s}'s signature.`,i=[ff(s,a[0])]):(n=`Provided arguments don't match any of ${s}'s signatures.`,i=a.map(ff.bind(null,s)));const o={message:`${Jh.TypeMismatch.message}: ${[n,...i].join("\n")}`,errno:Jh.TypeMismatch.errno};return new Kh(o,r)}let pf=0;class gf{location;name;type;defaultValue;constructor(e,t,r){this.location=gf.InternalLocation,this.name={text:e,location:gf.InternalLocation},this.type={kind:t,location:gf.InternalLocation},r&&(this.defaultValue=new Uh(r,gf.InternalLocation))}static InternalLocation={file:"(stdlib)",start:{line:-1,column:-1},end:{line:-1,column:-1}}}var mf;!function(e){e[e.TooFewArguments=0]="TooFewArguments",e[e.TooManyArguments=1]="TooManyArguments",e[e.ArgumentTypeMismatch=2]="ArgumentTypeMismatch"}(mf||(mf={}));class yf{kind=R.Callable;inArray=!1;name;signatures;context;location;userDefined=!1;call(e,...t){let r=this.getFirstSatisfiedSignature(t);null==r&&e.addError(df(this,t,e.location));let{signature:n,impl:i}=r,s=[...r.coercedArgs];return e.inSubEnv(t=>{for(const[r,i]of n.args.entries())i.defaultValue&&null==s[r]&&(s[r]=t.evaluate(i.defaultValue)),t.environment.define(Th.Function,i.name.text,s[r],e.location);return i(t,...s)})}setUserDefined(){this.userDefined=!0}isUserDefined(){return this.userDefined}constructor(e,...t){this.name=e,this.signatures=t,!this.signatures.length||this.name&&"[Function]"!==this.name||(this.name="$anon_"+ ++pf)}lessThan(e){return P.False}greaterThan(e){return P.False}equalTo(e){return P.from(this===e)}toString(e){return`<Function: ${this.name?.toLowerCase()??"UNDEFINED"}>`}box(){return new xf(this)}getName(){return this.name??""}getContext(){return this.context}setContext(e){this.context=e}setLocation(e){this.location=e}getLocation(){return this.location}getFirstSatisfiedSignature(e){for(let t of this.signatures){let r=this.trySatisfySignature(t,e);if(0===r.mismatches.length)return r}}getAllSignatureMismatches(e){return this.signatures.map(t=>this.trySatisfySignature(t,e))}trySatisfySignature(e,t){let{signature:r,impl:n}=e,i=[],s=r.args.filter(e=>!e.defaultValue).length;t.length<s?i.push({reason:mf.TooFewArguments,expected:r.args.length.toString(),received:t.length.toString()}):!r.variadic&&t.length>r.args.length&&i.push({reason:mf.TooManyArguments,expected:r.args.length.toString(),received:t.length.toString()});let a=[...t];const o=r.args.slice(0,Math.min(r.args.length,t.length));for(const[e,n]of o.entries()){let n=r.args[e],s=t[e],o=hf(s,n.type.kind);void 0===o?i.push({reason:mf.ArgumentTypeMismatch,expected:R.toString(n.type.kind),received:R.toString(s.kind),argName:n.name.text}):a[e]=o}return{signature:r,impl:n,coercedArgs:a,mismatches:i}}static variadic(e){let{signature:t,impl:r}=e;return[e,...new Array(10).fill(0).map((e,n)=>({signature:{args:[...t.args,...new Array(n).fill(0).map((e,t)=>new gf(`arg${t}`,R.Dynamic))],returns:t.returns},impl:r}))]}}const bf=new Map;function wf(e){const t=e(),r=[t];bf.set(t.name,()=>r.pop()??e())}function vf(){bf.clear()}function Sf(){const e=[];for(const t of bf.values())e.push(t());return e}function Ef(e){return Boolean(e&&"object"==typeof e&&"nodeSubtype"in e)}class _f{component;constructor(e){this.component=e}isEmpty=new yf("isEmpty",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(0===this.component.getElements().length)});isNext=new yf("isNext",{signature:{args:[],returns:R.Boolean},impl:e=>this.component.hasNext()});reset=new yf("reset",{signature:{args:[],returns:R.Void},impl:e=>(this.component.resetNext(),N.Instance)});next=new yf("next",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.getNext()??N.Instance})}class If extends Rh{kind=R.Object;elements=new Map;enumIndex;keyMap=new Map;modeCaseSensitive;constructor(e,t=!1){super("roAssociativeArray"),this.modeCaseSensitive=t;for(const t of e)this.addChildRef(t.value),this.set(t.name,t.value,!0);this.enumIndex=e.length?0:-1;const r=new _f(this);this.registerMethods({ifAssociativeArray:[this.clear,this.delete,this.addReplace,this.count,this.doesExist,this.append,this.keys,this.items,this.lookup,this.lookupCI,this.setModeCaseSensitive],ifEnum:[r.isEmpty,r.isNext,r.next,r.reset]})}toString(e){return e?"<Component: roAssociativeArray>":["<Component: roAssociativeArray> =","{",...Array.from(this.elements.entries()).sort().map(([e,t])=>`    ${e}: ${t.toString(this)}`),"}"].join("\n")}equalTo(e){return P.False}getValue(){return this.elements}getElements(){return Array.from(this.elements.keys()).sort().map(e=>new F(e))}getValues(){return Array.from(this.elements.values()).sort().map(e=>e)}clearElements(){let e=0;for(const t of this.elements.values())this.removeChildRef(t)&&e++;return this.elements.clear(),this.keyMap.clear(),this.enumIndex=-1,e}deepCopy(){const e=[];for(const[t,r]of this.elements)r instanceof Mf||r instanceof If||Ef(r)?e.push({name:new F(t),value:r.deepCopy()}):!L(r)||r instanceof yf?!U(r)||r instanceof xf||e.push({name:new F(t),value:r.copy()}):e.push({name:new F(t),value:r});return new If(e,this.modeCaseSensitive)}get(e,t=!1){if(U(e)&&(e=e.unbox()),e.kind!==R.String)throw new Error("Associative array indexes must be strings");return this.findElement(e.value,t)||this.getMethod(e.value)||N.Instance}set(e,t,r=!1){if(U(e)&&(e=e.unbox()),e.kind!==R.String)throw new Error("Associative array indexes must be strings");let n=this.findElementKey(e.value);this.addChildRef(t),n&&this.removeChildRef(this.elements.get(n)),!this.modeCaseSensitive&&n&&(this.elements.delete(n),this.keyMap.set(n.toLowerCase(),new Set));let i=r?e.value:e.value.toLowerCase();this.elements.set(i,t);let s=e.value.toLowerCase();return this.keyMap.has(s)||this.keyMap.set(s,new Set),this.keyMap.get(s)?.add(i),N.Instance}hasNext(){return P.from(this.enumIndex>=0)}getNext(){const e=Array.from(this.elements.keys()),t=this.enumIndex;t>=0&&(this.enumIndex++,this.enumIndex>=e.length&&(this.enumIndex=-1));const r=e[t];return r?new F(r):N.Instance}resetNext(){this.enumIndex=this.elements.size>0?0:-1}updateNext(){const e=Array.from(this.elements.keys()),t=e.length>0;-1===this.enumIndex&&t?this.enumIndex=0:(this.enumIndex>=e.length||!t)&&(this.enumIndex=-1)}dispose(){for(const e of this.elements.values())this.removeChildRef(e)}addChildRef(e){e instanceof Rh?e.addReference():e&&L(e)&&(e.inArray=!0)}removeChildRef(e){return e instanceof Rh&&e.removeReference()>1}findElementKey(e,t=!1){return this.modeCaseSensitive&&t?e:this.keyMap.get(e.toLowerCase())?.values().next().value}findElement(e,t=!1){let r=this.findElementKey(e,t);return void 0!==r?this.elements.get(r):void 0}clear=new yf("clear",{signature:{args:[],returns:R.Void},impl:e=>(this.clearElements(),N.Instance)});delete=new yf("delete",{signature:{args:[new gf("str",R.String)],returns:R.Boolean},impl:(e,t)=>{let r=this.findElementKey(t.value,this.modeCaseSensitive);r&&this.removeChildRef(this.elements.get(r));let n=!!r&&this.elements.delete(r),i=t.value.toLowerCase();if(this.modeCaseSensitive){let e=this.keyMap.get(i);e&&r&&e?.delete(r),0===e?.size&&this.keyMap.delete(i)}else this.keyMap.delete(i);return this.updateNext(),P.from(n)}});addReplace=new yf("addReplace",{signature:{args:[new gf("key",R.String),new gf("value",R.Dynamic)],returns:R.Void},impl:(e,t,r)=>(this.set(t,r,!0),this.updateNext(),N.Instance)});count=new yf("count",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.elements.size)});doesExist=new yf("doesExist",{signature:{args:[new gf("str",R.String)],returns:R.Boolean},impl:(e,t)=>{let r=this.findElementKey(t.value,this.modeCaseSensitive);return r&&this.elements.has(r)?P.True:P.False}});append=new yf("append",{signature:{args:[new gf("obj",R.Object)],returns:R.Void},impl:(e,t)=>{if(!(t instanceof If))return Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roAssociativeArray.Append: invalid parameter type ${t.getComponentName()}: ${e.formatLocation()}`),N.Instance;for(const[e,r]of t.elements)this.set(new F(e),r,!0);return this.updateNext(),N.Instance}});keys=new yf("keys",{signature:{args:[],returns:R.Object},impl:e=>new Mf(this.getElements())});items=new yf("items",{signature:{args:[],returns:R.Object},impl:e=>new Mf(this.getElements().map(e=>new If([{name:new F("key"),value:e},{name:new F("value"),value:this.get(e)}])))});lookup=new yf("lookup",{signature:{args:[new gf("key",R.String)],returns:R.Dynamic},impl:(e,t)=>this.get(t,!0)});lookupCI=new yf("lookupCI",{signature:{args:[new gf("key",R.String)],returns:R.Dynamic},impl:(e,t)=>this.get(t)});setModeCaseSensitive=new yf("setModeCaseSensitive",{signature:{args:[],returns:R.Void},impl:e=>(this.modeCaseSensitive=!0,N.Instance)})}class xf extends Rh{kind=R.Object;intrinsic;getValue(){return this.intrinsic}constructor(e){super("roFunction"),this.intrinsic=e??new yf(void 0),this.registerMethods({ifFunction:[this.getSub,this.setSub],ifToStr:[new tf(this,/[<>]/g).toStr]})}unbox(){return this.intrinsic}copy(){return new xf(this.intrinsic)}equalTo(e){return P.False}toString(e){return this.intrinsic.toString()}getSub=new yf("getSub",{signature:{args:[],returns:R.Callable},impl:e=>this.intrinsic});setSub=new yf("setSub",{signature:{args:[new gf("value",R.Callable)],returns:R.Void},impl:(e,t)=>(this.intrinsic=t,N.Instance)})}class Af{component;name;constructor(e){this.component=e,this.name=e.getComponentName()}peek=new yf("peek",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.getElements().at(-1)||N.Instance});pop=new yf("pop",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.remove(this.component.tail())||N.Instance});push=new yf("push",{signature:{args:[new gf("talue",R.Dynamic)],returns:R.Void},impl:(e,t)=>{const r=this.component.getValue();return this.component.resizable||r.length<this.component.maxSize?this.component.add(t,!0):Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: ${this.name}.Push: set ignored for index out of bounds on non-resizable array: ${e.formatLocation()}`),N.Instance}});shift=new yf("shift",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.remove(0)||N.Instance});unshift=new yf("unshift",{signature:{args:[new gf("tvalue",R.Dynamic)],returns:R.Void},impl:(e,t)=>{const r=this.component.getValue();return this.component.resizable||r.length<this.component.maxSize?this.component.add(t,!1):Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: ${this.name}.Unshift: set ignored for index out of bounds on non-resizable array: ${e.formatLocation()}`),N.Instance}});delete=new yf("delete",{signature:{args:[new gf("index",R.Int32)],returns:R.Boolean},impl:(e,t)=>t.lessThan(new lf(0)).toBoolean()?P.False:this.component.remove(t.getValue())?P.True:P.False});count=new yf("count",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.getValue().length)});clear=new yf("clear",{signature:{args:[],returns:R.Void},impl:e=>(this.component.clear(),N.Instance)});append=new yf("append",{signature:{args:[new gf("array",R.Object)],returns:R.Void},impl:(e,t)=>{if(this.name!==t.getComponentName())return Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: ${this.name}.Append: invalid parameter type ${t.getComponentName()}: ${e.formatLocation()}`),N.Instance;const r=this.component,n=r.getValue();if(r.resizable||n.length+t.getValue().length<=r.maxSize){const e=t.getValue().filter(e=>!!e&&(r.addChildRef&&r.addChildRef(e),!0));n.push(...e),this.component.updateNext(!0,0)}return N.Instance}})}class kf{kind=R.Object;component;constructor(e){this.component=e}getEntry=new yf("getEntry",{signature:{args:[new gf("index",R.Int32|R.Float)],returns:R.Dynamic},impl:(e,t)=>this.component.get(t)||N.Instance})}class Tf{kind=R.Object;component;constructor(e){this.component=e}setEntry=new yf("setEntry",{signature:{args:[new gf("index",R.Int32|R.Float),new gf("tvalue",R.Dynamic)],returns:R.Void},impl:(e,t,r)=>this.component.set(t,r)})}class Mf extends Rh{kind=R.Object;resizable=!0;maxSize=0;elements;enumIndex;constructor(...e){if(super("roArray"),this.elements=[],1===e.length&&Array.isArray(e[0]))for(const t of e[0])this.addChildRef(t),this.elements.push(t);else{if(2!==e.length||!yy(e[0])||!ly(e[1])&&!yy(e[1]))throw new Error('BRIGHTSCRIPT: ERROR: Runtime: "roArray": invalid number of parameters:');this.maxSize=Ey(e[0]),this.resizable=e[1].toBoolean()}this.enumIndex=this.elements.length?0:-1;const t=new Af(this),r=new kf(this),n=new Tf(this),i=new _f(this);this.registerMethods({ifArray:[t.peek,t.pop,t.push,t.shift,t.unshift,t.delete,t.count,t.clear,t.append],ifArrayGet:[r.getEntry],ifArraySet:[n.setEntry],ifArrayJoin:[this.join],ifArraySort:[this.sort,this.sortBy,this.reverse],ifArraySlice:[this.slice],ifArraySizeInfo:[this.capacity,this.isResizable,this.reserve,this.shrinkToFit],ifEnum:[i.isEmpty,i.isNext,i.next,i.reset]})}toString(e){return e?"<Component: roArray>":["<Component: roArray> =","[",...Array.from(this.elements,e=>void 0===e?"    invalid":`    ${e.toString(this)}`),"]"].join("\n")}equalTo(e){return P.False}getValue(){return this.elements}getElements(){return this.elements.slice()}add(e,t=!0){this.addChildRef(e),t?this.elements.push(e):this.elements.unshift(e),this.updateNext(!0)}remove(e){let t;return t=0===e?this.elements.shift():e===this.tail()?this.elements.pop():this.elements.splice(e,1)[0],this.updateNext(),this.removeChildRef(t),t}clear(){for(const e of this.elements)this.removeChildRef(e);this.elements.length=0,this.enumIndex=-1}tail(){return this.elements.length-1}deepCopy(){const e=[];for(const t of this.elements)t instanceof Mf||t instanceof If||Ef(t)?e.push(t.deepCopy()):!L(t)||t instanceof yf?!U(t)||t instanceof xf||e.push(t.copy()):e.push(t);return new Mf(e)}get(e){switch(my(e)&&(e=e.unbox()),e.kind){case R.Float:return this.getElements()[Math.trunc(e.getValue())]??N.Instance;case R.Int32:return this.getElements()[e.getValue()]??N.Instance;case R.String:return this.getMethod(e.value)??N.Instance;default:return N.Instance}}set(e,t){if(my(e)&&(e=e.unbox()),e.kind===R.Int32||e.kind===R.Float){const r=Math.trunc(e.getValue());this.addChildRef(t),this.removeChildRef(this.elements[r]),this.elements[r]=t}return N.Instance}hasNext(){return P.from(this.enumIndex>=0)}getNext(){const e=this.enumIndex;return e>=0&&(this.enumIndex++,this.enumIndex>=this.elements.length&&(this.enumIndex=-1)),this.elements[e]}resetNext(){this.enumIndex=this.elements.length>0?0:-1}updateNext(e,t){const r=this.elements.length>0;-1===this.enumIndex&&r?this.enumIndex=0:(this.enumIndex>=this.elements.length||!r)&&(this.enumIndex=-1),e&&this.updateCapacity(t??1.25)}updateCapacity(e=0){if(this.resizable&&e>0){if(this.elements.length>0&&this.elements.length>this.maxSize){let t=this.elements.length-1,r=Math.trunc(t*e);r-this.maxSize<10?this.maxSize=Math.trunc(10*(t/10+1)):this.maxSize=r}}else this.maxSize=Math.max(this.elements.length,this.maxSize)}aaCompare(e,t,r,n){let i=0;const s=[...this.elements],a=t.toString().indexOf("i")>-1,o=r.elements.has(e.toString().toLowerCase()),c=n.elements.has(e.toString().toLowerCase());return o&&c?i=Rf(s,r.get(e),n.get(e),a):o?i=-1:c&&(i=1),i}dispose(){for(const e of this.elements)this.removeChildRef(e)}addChildRef(e){e instanceof Rh?e.addReference():e&&L(e)&&(e.inArray=!0)}removeChildRef(e){e instanceof Rh&&e.removeReference()}join=new yf("join",{signature:{args:[new gf("separator",R.String)],returns:R.String},impl:(e,t)=>this.elements.some(function(e){return!(e instanceof F)})?(Ch.isDevMode&&Ch.stderr.write("warning,roArray.Join: Array contains non-string value(s)."),new F("")):new F(this.elements.join(t.value))});sort=new yf("sort",{signature:{args:[new gf("flags",R.String,new F(""))],returns:R.Void},impl:(e,t)=>{if(null!=t.toString().match(/([^ir])/g))Ch.isDevMode&&Ch.stderr.write("warning,roArray.Sort: Flags contains invalid option(s).");else{const e=t.toString().indexOf("i")>-1,r=[...this.elements];this.elements.sort((t,n)=>Rf(r,t,n,e)),t.toString().indexOf("r")>-1&&this.elements.reverse()}return N.Instance}});sortBy=new yf("sortBy",{signature:{args:[new gf("fieldName",R.String),new gf("flags",R.String,new F(""))],returns:R.Void},impl:(e,t,r)=>{if(null!=r.toString().match(/([^ir])/g))Ch.isDevMode&&Ch.stderr.write("warning,roArray.SortBy: Flags contains invalid option(s).");else{const e=[...this.elements];this.elements.sort((n,i)=>{let s=0;return n instanceof If&&i instanceof If?s=this.aaCompare(t,r,n,i):void 0!==n&&void 0!==i&&(s=Rf(e,n,i,!1,!1)),s}),r.toString().indexOf("r")>-1&&this.elements.reverse()}return N.Instance}});reverse=new yf("reverse",{signature:{args:[],returns:R.Void},impl:(e,t)=>(this.elements.reverse(),N.Instance)});slice=new yf("slice",{signature:{args:[new gf("start",R.Int32|R.Float,new lf(0)),new gf("end",R.Int32|R.Float,N.Instance)],returns:R.Object},impl:(e,t,r)=>new Mf(r instanceof N?this.elements.slice(t.getValue()):this.elements.slice(t.getValue(),r.getValue()))});capacity=new yf("capacity",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.maxSize)});isResizable=new yf("isResizable",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.resizable)});reserve=new yf("reserve",{signature:{args:[new gf("minSize",R.Int32)],returns:R.Boolean},impl:(e,t)=>(this.resizable&&t.getValue()>this.maxSize&&(this.maxSize=t.getValue()),P.from(this.resizable||t.getValue()<=this.maxSize))});shrinkToFit=new yf("shrinkToFit",{signature:{args:[],returns:R.Boolean},impl:e=>(this.resizable&&(this.maxSize=this.elements.length),P.from(!0))})}function Cf(e){return sy(e)?0:uy(e)?1:e instanceof If?2:3}function Rf(e,t,r,n=!1,i=!0){let s=0;if(void 0!==t&&void 0!==r){const a=Cf(t),o=Cf(r);if(a<o)s=-1;else if(o<a)s=1;else if(i&&sy(t))s=t.greaterThan(r).toBoolean()?1:-1;else if(i&&uy(t)){let e=t.toString(),i=r.toString();n&&(e=e.toLowerCase(),i=i.toLowerCase()),s=e>i?1:-1}else{const n=e.indexOf(t),i=e.indexOf(r);n>-1&&i>-1&&(s=n-i)}}return s}class Df{component;constructor(e){this.component=e}addHead=new yf("addHead",{signature:{args:[new gf("tvalue",R.Dynamic)],returns:R.Void},impl:(e,t)=>(this.component.add(t,!1),N.Instance)});addTail=new yf("addTail",{signature:{args:[new gf("tvalue",R.Dynamic)],returns:R.Void},impl:(e,t)=>(this.component.getValue().push(t),N.Instance)});getHead=new yf("getHead",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.getValue()[0]||N.Instance});getTail=new yf("getTail",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.getValue()[this.component.tail()]||N.Instance});removeHead=new yf("removeHead",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.remove(0)||N.Instance});removeTail=new yf("removeTail",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.remove(this.component.tail())||N.Instance});resetIndex=new yf("resetIndex",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.component.resetCurrent())});getIndex=new yf("getIndex",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.getCurrent()??N.Instance});removeIndex=new yf("removeIndex",{signature:{args:[],returns:R.Dynamic},impl:e=>this.component.remove(this.component.listIndex)||N.Instance})}class Of{kind=R.Object;component;constructor(e){this.component=e}toArray=new yf("toArray",{signature:{args:[],returns:R.Object},impl:e=>new Mf(this.component.getValue())})}class Ff extends Rh{kind=R.Object;resizable=!0;maxSize=0;elements;listIndex;enumIndex;constructor(e){if(super("roList"),this.elements=[],e)for(const t of e)this.addChildRef(t),this.elements.push(t);this.listIndex=-1,this.enumIndex=-1;const t=new Df(this),r=new Of(this),n=new Af(this),i=new kf(this),s=new Tf(this),a=new _f(this);this.registerMethods({ifList:[t.addHead,t.addTail,t.getHead,t.getTail,t.removeHead,t.removeTail,t.resetIndex,t.getIndex,t.removeIndex],ifListToArray:[r.toArray],ifArray:[n.peek,n.pop,n.push,n.shift,n.unshift,n.delete,n.count,n.clear,n.append],ifArrayGet:[i.getEntry],ifArraySet:[s.setEntry],ifEnum:[a.isEmpty,a.isNext,a.next,a.reset]})}toString(e){return e?"<Component: roList>":["<Component: roList> =","(",...Array.from(this.elements,e=>void 0===e?"    invalid":`    ${e.toString(this)}`),")"].join("\n")}equalTo(e){return P.False}getValue(){return this.elements}getElements(){return this.elements.slice()}get(e){switch(my(e)&&(e=e.unbox()),e.kind){case R.Float:return this.getElements()[Math.trunc(e.getValue())]??N.Instance;case R.Int32:return this.getElements()[e.getValue()]??N.Instance;case R.String:return this.getMethod(e.value)??N.Instance;default:return N.Instance}}set(e,t){if(my(e)&&(e=e.unbox()),e.kind===R.Int32||e.kind===R.Float){const r=Math.trunc(e.getValue());this.addChildRef(t),this.removeChildRef(this.elements[r]),this.elements[r]=t}return N.Instance}hasNext(){return P.from(this.enumIndex>=0)}getNext(){const e=this.enumIndex;return e>=0&&(this.enumIndex++,this.enumIndex>=this.elements.length&&(this.enumIndex=-1)),this.elements[e]}resetNext(){this.enumIndex=this.elements.length>0?0:-1}updateNext(){const e=this.elements.length>0;-1===this.enumIndex&&e?this.enumIndex=0:(this.enumIndex>=this.elements.length||!e)&&(this.enumIndex=-1)}add(e,t=!0){this.addChildRef(e),t?this.elements.push(e):(this.elements.unshift(e),this.listIndex>=0&&this.listIndex++,this.enumIndex>=0&&this.enumIndex++)}remove(e){let t;return t=0===e?this.elements.shift():e===this.tail()?this.elements.pop():this.elements.splice(e,1)[0],t&&this.listIndex>e&&this.listIndex--,this.listIndex>=this.elements.length&&(this.listIndex=-1),t&&this.enumIndex>e&&this.enumIndex--,this.enumIndex>=this.elements.length&&(this.enumIndex=-1),this.removeChildRef(t),t}clear(){for(const e of this.elements)this.removeChildRef(e);this.elements.length=0,this.listIndex=-1,this.enumIndex=-1}getCurrent(){const e=this.listIndex;return e>=0&&(this.listIndex++,this.listIndex>=this.elements.length&&(this.listIndex=-1)),this.elements[e]}resetCurrent(){return this.listIndex=this.elements.length>0?0:-1,0===this.listIndex}length(){return this.elements.length}tail(){return this.elements.length-1}dispose(){for(const e of this.elements)this.removeChildRef(e)}addChildRef(e){e instanceof Rh?e.addReference():e&&L(e)&&(e.inArray=!0)}removeChildRef(e){e instanceof Rh&&e.removeReference()}}const Pf=qi.Buffer.from&&qi.Buffer.alloc&&qi.Buffer.allocUnsafe&&qi.Buffer.allocUnsafeSlow?qi.Buffer.from:e=>new qi.Buffer(e);function Nf(e,t){const r=(e,r)=>t(e,r)>>>0;return r.signed=t,r.unsigned=r,r.model=e,r}Nf("crc1",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=~~t,n=0;for(let t=0;t<e.length;t++)n+=e[t];return r+=n%256,r%256});let Bf=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];"undefined"!=typeof Int32Array&&(Bf=new Int32Array(Bf)),Nf("crc-8",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=~~t;for(let t=0;t<e.length;t++){const n=e[t];r=255&Bf[255&(r^n)]}return r});let Lf=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];"undefined"!=typeof Int32Array&&(Lf=new Int32Array(Lf)),Nf("dallas-1-wire",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=~~t;for(let t=0;t<e.length;t++){const n=e[t];r=255&Lf[255&(r^n)]}return r});let Uf=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(Uf=new Int32Array(Uf)),Nf("crc-16",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=~~t;for(let t=0;t<e.length;t++){const n=e[t];r=65535&(Uf[255&(r^n)]^r>>8)}return r});let Vf=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];"undefined"!=typeof Int32Array&&(Vf=new Int32Array(Vf)),Nf("ccitt",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++){const n=e[t];r=65535&(Vf[255&(r>>8^n)]^r<<8)}return r});let jf=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(jf=new Int32Array(jf)),Nf("crc-16-modbus",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++){const n=e[t];r=65535&(jf[255&(r^n)]^r>>8)}return r}),Nf("xmodem",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=void 0!==t?~~t:0;for(let t=0;t<e.length;t++){let n=r>>>8&255;n^=255&e[t],n^=n>>>4,r=r<<8&65535,r^=n,n=n<<5&65535,r^=n,n=n<<7&65535,r^=n}return r});let zf=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];"undefined"!=typeof Int32Array&&(zf=new Int32Array(zf)),Nf("kermit",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=void 0!==t?~~t:0;for(let t=0;t<e.length;t++){const n=e[t];r=65535&(zf[255&(r^n)]^r>>8)}return r});let $f=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];"undefined"!=typeof Int32Array&&($f=new Int32Array($f)),Nf("crc-24",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=void 0!==t?~~t:11994318;for(let t=0;t<e.length;t++){const n=e[t];r=16777215&($f[255&(r>>16^n)]^r<<8)}return r});let qf=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(qf=new Int32Array(qf));const Gf=Nf("crc-32",function(e,t){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=0===t?0:-1^t;for(let t=0;t<e.length;t++){const n=e[t];r=qf[255&(r^n)]^r>>>8}return-1^r});let Wf=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(Wf=new Int32Array(Wf)),Nf("jam",function(e,t=-1){qi.Buffer.isBuffer(e)||(e=Pf(e));let r=0===t?0:~~t;for(let t=0;t<e.length;t++){const n=e[t];r=Wf[255&(r^n)]^r>>>8}return r});var Hf=__webpack_require__(1048).Buffer;class Xf extends Rh{kind=R.Object;maxSize=0;resizable=!0;elements;enumIndex;constructor(e){super("roByteArray"),this.elements=e??new Uint8Array,this.enumIndex=this.elements.length?0:-1;const t=new _f(this);this.registerMethods({ifByteArray:[this.readFile,this.writeFile,this.appendFile,this.setResize,this.fromHexString,this.toHexString,this.fromBase64String,this.toBase64String,this.fromAsciiString,this.toAsciiString,this.getSignedByte,this.getSignedLong,this.getCRC32,this.isLittleEndianCPU],ifArray:[this.peek,this.pop,this.push,this.shift,this.unshift,this.delete,this.count,this.clear,this.append],ifArrayGet:[this.getEntry],ifArraySet:[this.setEntry],ifArraySizeInfo:[this.capacity,this.isResizable],ifEnum:[t.isEmpty,t.isNext,t.next,t.reset]})}toString(e){return e?"<Component: roByteArray>":["<Component: roByteArray> =","[",...this.getElements().slice(0,100).map(e=>`    ${e.toString(this)}`),this.elements.length>100?"    ...\n]":"]"].join("\n")}equalTo(e){return P.False}getValue(){return this.elements}getElements(){const e=[];for(const t of this.elements.slice())e.push(new lf(t));return e}getByteArray(){return this.elements}get(e){switch(my(e)&&(e=e.unbox()),e.kind){case R.Float:return this.getElements()[Math.trunc(e.getValue())]??N.Instance;case R.Int32:return this.getElements()[e.getValue()]??N.Instance;case R.String:return this.getMethod(e.value)??N.Instance;default:return N.Instance}}set(e,t){if(my(e)&&(e=e.unbox()),sy(e)&&t.kind===R.Int32){e.kind===R.Int64&&(e=new lf(e.getValue()));const r=Math.trunc(e.getValue());if(r>=this.elements.length){const e=new Uint8Array(r+1);e.set(this.elements),this.elements=e}this.elements[r]=t.getValue()}return N.Instance}hasNext(){return P.from(this.enumIndex>=0)}getNext(){return this.enumIndex>=0&&(this.enumIndex++,this.enumIndex>=this.elements.length&&(this.enumIndex=-1)),new lf(this.elements[this.enumIndex])}updateNext(){const e=this.elements.length>0;-1===this.enumIndex&&e?this.enumIndex=0:(this.enumIndex>=this.elements.length||!e)&&(this.enumIndex=-1)}resetNext(){this.enumIndex=this.elements.length>0?0:-1}updateCapacity(e=0){if(this.resizable&&e>0){if(this.elements.length>0&&this.elements.length>this.maxSize){let t=this.elements.length-1,r=Math.trunc(t*e);r-this.maxSize<16?this.maxSize=Math.trunc(16*(t/16+1)):this.maxSize=r}}else this.maxSize=Math.max(this.elements.length,this.maxSize)}isLittleEndian(){const e=new Uint32Array([287454020]);return 68===new Uint8Array(e.buffer)[0]}readFile=new yf("readFile",{signature:{args:[new gf("path",R.String),new gf("index",R.Int32,new lf(0)),new gf("length",R.Int32,new lf(-1))],returns:R.Boolean},impl:(e,t,r,n)=>{try{const e=Ch.fileSystem;if(e&&xh(t.value)){let i=e.readFileSync(t.value);if(r.getValue()>0||n.getValue()>0){let e=r.getValue(),t=n.getValue()<1?void 0:e+n.getValue();i=i.slice(e,t)}if(this.resizable||i.length<=this.maxSize)return this.elements=i,this.updateNext(),this.updateCapacity(),P.True}}catch(e){return P.False}return P.False}});writeFile=new yf("writeFile",{signature:{args:[new gf("path",R.String),new gf("index",R.Int32,new lf(0)),new gf("length",R.Int32,new lf(-1))],returns:R.Boolean},impl:(e,t,r,n)=>{try{const e=Ch.fileSystem;if(e&&Ah(t.value)){if(r.getValue()>0||n.getValue()>0){let i=r.getValue(),s=n.getValue()<1?void 0:i+n.getValue();e.writeFileSync(t.value,Hf.from(this.elements.slice(i,s)))}else e.writeFileSync(t.value,Hf.from(this.elements));return P.True}}catch(e){return P.False}return P.False}});appendFile=new yf("appendFile",{signature:{args:[new gf("path",R.String),new gf("index",R.Int32,new lf(0)),new gf("length",R.Int32,new lf(-1))],returns:R.Boolean},impl:(e,t,r,n)=>{try{const e=Ch.fileSystem;if(e&&Ah(t.value)){let i,s=e.readFileSync(t.value);if(r.getValue()>0||n.getValue()>0){let e=r.getValue(),t=n.getValue()<1?void 0:e+n.getValue(),a=this.elements.slice(e,t);i=new Uint8Array(s.length+a.length),i.set(s,0),i.set(a,s.length)}else i=new Uint8Array(s.length+this.elements.length),i.set(s,0),i.set(this.elements,s.length);return e.writeFileSync(t.value,Hf.from(i)),P.True}}catch(e){return P.False}return P.False}});fromAsciiString=new yf("fromAsciiString",{signature:{args:[new gf("asciiStr",R.String)],returns:R.Void},impl:(e,t)=>{const r=new Uint8Array(Hf.from(t.value,"utf8"));return(this.resizable||r.length<=this.maxSize)&&(this.elements=r,this.updateNext(),this.updateCapacity()),N.Instance}});toAsciiString=new yf("toAsciiString",{signature:{args:[],returns:R.String},impl:e=>new F(Hf.from(this.elements).toString("utf8"))});fromHexString=new yf("fromHexString",{signature:{args:[new gf("hexStr",R.String)],returns:R.Void},impl:(e,t)=>{const r=t.value.replaceAll(/[^0-9A-Fa-f]/g,"0");return r.length%2==0&&(this.resizable||r.length/2<=this.maxSize)&&(this.elements=new Uint8Array(Hf.from(r,"hex")),this.updateNext(),this.updateCapacity()),N.Instance}});toHexString=new yf("toHexString",{signature:{args:[],returns:R.String},impl:e=>{const t=Hf.from(this.elements).toString("hex");return new F(t.toUpperCase())}});fromBase64String=new yf("fromBase64String",{signature:{args:[new gf("hexStr",R.String)],returns:R.Void},impl:(e,t)=>{const r=new Uint8Array(Hf.from(t.value,"base64"));return(this.resizable||r.length<=this.maxSize)&&(this.elements=r,this.updateNext(),this.updateCapacity()),N.Instance}});toBase64String=new yf("toBase64String",{signature:{args:[],returns:R.String},impl:e=>new F(Hf.from(this.elements).toString("base64"))});getSignedByte=new yf("getSignedByte",{signature:{args:[new gf("index",R.Int32|R.Float)],returns:R.Int32},impl:(e,t)=>{const r=Math.trunc(t.getValue());if(r<this.elements.length){let e=this.elements[r]<<24>>24;return new lf(e)}return new lf(0)}});getSignedLong=new yf("getSignedLong",{signature:{args:[new gf("index",R.Int32|R.Float)],returns:R.Int32},impl:(e,t)=>{const r=4*Math.trunc(t.getValue());if(r<this.elements.length-3){const e=new DataView(this.elements.buffer,r,4).getInt32(0,this.isLittleEndian());return new lf(e)}return new lf(0)}});getCRC32=new yf("getCRC32",{signature:{args:[new gf("index",R.Int32|R.Float,new lf(0)),new gf("length",R.Int32|R.Float,new lf(-1))],returns:R.Int32},impl:(e,t,r)=>{const n=Math.trunc(t.getValue()),i=Math.trunc(r.getValue());if(n>0||i>0){const e=i<1?void 0:n+i;return new lf(Gf(Hf.from(this.elements.slice(n,e))))}return new lf(Gf(Hf.from(this.elements)))}});setResize=new yf("setResize",{signature:{args:[new gf("minSize",R.Int32|R.Float),new gf("autoResize",R.Boolean)],returns:R.Void},impl:(e,t,r)=>(this.maxSize=Math.max(Math.trunc(t.getValue()),this.elements.length),this.resizable=r.toBoolean(),N.Instance)});isLittleEndianCPU=new yf("isLittleEndianCPU",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.isLittleEndian())});peek=new yf("peek",{signature:{args:[],returns:R.Dynamic},impl:e=>{const t=this.elements[this.elements.length-1];return t?new lf(t):N.Instance}});pop=new yf("pop",{signature:{args:[],returns:R.Dynamic},impl:e=>{if(0===this.elements.length)return N.Instance;const t=this.elements.length-1,r=this.elements[t];let n=new Uint8Array(t);return n.set(this.elements.slice(0,t),0),this.elements=n,r?new lf(r):N.Instance}});push=new yf("push",{signature:{args:[new gf("byte",R.Dynamic)],returns:R.Void},impl:(e,t)=>{if(sy(t))if(this.resizable||this.elements.length<this.maxSize){let e=new Uint8Array(this.elements.length+1);e.set(this.elements,0),e[this.elements.length]=t.getValue(),this.elements=e,this.updateNext(),this.updateCapacity(1.5)}else Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Push: set ignored for index out of bounds on non-resizable array: ${e.formatLocation()}`);else Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Push: set ignored for non-numeric value: ${e.formatLocation()}`);return N.Instance}});shift=new yf("shift",{signature:{args:[],returns:R.Dynamic},impl:e=>{if(0===this.elements.length)return N.Instance;const t=this.elements[0];let r=new Uint8Array(this.elements.length-1);return r.set(this.elements.slice(1)),this.elements=r,t?new lf(t):N.Instance}});unshift=new yf("unshift",{signature:{args:[new gf("byte",R.Dynamic)],returns:R.Void},impl:(e,t)=>{if(sy(t))if(this.resizable||this.elements.length<this.maxSize){let e=new Uint8Array(this.elements.length+1);e[0]=t.getValue(),e.set(this.elements,1),this.elements=e,this.updateNext(),this.updateCapacity(1.25)}else Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Unshift: unshift ignored for full non-resizable array: ${e.formatLocation()}`);else Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Unshift: unshift ignored for non-numeric value: ${e.formatLocation()}`);return N.Instance}});delete=new yf("delete",{signature:{args:[new gf("index",R.Int32|R.Float)],returns:R.Boolean},impl:(e,t)=>{const r=Math.trunc(t.getValue());if(r<0||r>=this.elements.length)return P.False;let n=new Uint8Array(this.elements.length-1);return n.set(this.elements.slice(0,r),0),n.set(this.elements.slice(r+1),r),this.elements=n,P.True}});count=new yf("count",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.elements.length)});clear=new yf("clear",{signature:{args:[],returns:R.Void},impl:e=>(this.elements=new Uint8Array,this.enumIndex=-1,N.Instance)});append=new yf("append",{signature:{args:[new gf("array",R.Object)],returns:R.Void},impl:(e,t)=>t instanceof Xf?((this.resizable||this.elements.length+t.elements.length<=this.maxSize)&&(this.elements=new Uint8Array([...this.elements,...t.elements]),this.updateNext(),this.updateCapacity()),N.Instance):(Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.Append: invalid parameter type ${t.getComponentName()}: ${e.formatLocation()}`),N.Instance)});getEntry=new yf("getEntry",{signature:{args:[new gf("index",R.Int32|R.Float)],returns:R.Dynamic},impl:(e,t)=>this.getElements()[Math.trunc(t.getValue())]||N.Instance});setEntry=new yf("setEntry",{signature:{args:[new gf("index",R.Int32|R.Float),new gf("value",R.Dynamic)],returns:R.Void},impl:(e,t,r)=>(sy(r)||Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roByteArray.SetEntry: set ignored for non-numeric value: ${e.formatLocation()}`),this.set(t,r))});capacity=new yf("capacity",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.maxSize)});isResizable=new yf("isResizable",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.resizable)})}class Yf extends Rh{kind=R.Object;intrinsic=new F("");constructor(e){super("roString"),e&&(this.intrinsic=e),this.registerMethods({ifString:[this.setString,this.getString],ifStringOps:[this.arg,this.appendString,this.len,this.left,this.right,this.mid,this.instr,this.replace,this.trim,this.toInt,this.toFloat,this.tokenize,this.split,this.getEntityEncode,this.escape,this.unescape,this.encodeUri,this.decodeUri,this.encodeUriComponent,this.decodeUriComponent,this.startsWith,this.endsWith,this.isEmpty,this.format],ifToStr:[new tf(this).toStr]})}getValue(){return this.intrinsic.value}lessThan(e){return gy(e)?P.from(this.getValue()<e.getValue()):P.False}greaterThan(e){return gy(e)?P.from(this.getValue()>e.getValue()):P.False}equalTo(e){return gy(e)?P.from(this.getValue()===e.getValue()):P.False}concat(e){return gy(e)?new F(this.intrinsic.value+e.getValue()):new F(this.intrinsic.value+e.toString())}unbox(){return this.intrinsic}copy(){return new Yf(this.intrinsic)}toString(e){return this.intrinsic.toString(e)}setString=new yf("SetString",{signature:{args:[new gf("s",R.String)],returns:R.Void},impl:(e,t)=>(this.intrinsic=new F(t.value),N.Instance)},{signature:{args:[new gf("s",R.String),new gf("len",R.Int32)],returns:R.Void},impl:(e,t,r)=>{const n=r.getValue();return this.intrinsic=new F(n<=0?"":t.value.slice(0,n)),N.Instance}});getString=new yf("GetString",{signature:{args:[],returns:R.String},impl:e=>this.intrinsic});arg=new yf("Arg",{signature:{args:[new gf("arg1",R.String),new gf("arg2",R.String,N.Instance),new gf("arg3",R.String,N.Instance),new gf("arg4",R.String,N.Instance),new gf("arg5",R.String,N.Instance),new gf("arg6",R.String,N.Instance)],returns:R.String},impl:(e,...t)=>{let r=this.intrinsic.value,n=0;const i=Array.from(new Set(r.match(/%([1-9])/g))).sort();if(i)for(let e of i){if(!uy(t[n]))break;r=r.replaceAll(e,t[n].value),n++}return n<t.length&&t[n]instanceof F&&Ch.stderr.write("warning,BRIGHTSCRIPT: WARNING: roString.Arg: unused parameters."),new F(r)}});appendString=new yf("AppendString",{signature:{args:[new gf("s",R.String),new gf("len",R.Int32)],returns:R.Void},impl:(e,t,r)=>{const n=r.getValue();return n>0&&(this.intrinsic=this.intrinsic.concat(new F(t.value.slice(0,n)))),N.Instance}});len=new yf("Len",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.intrinsic.value.length)});left=new yf("Left",{signature:{args:[new gf("len",R.Int32)],returns:R.String},impl:(e,t)=>new F(this.intrinsic.value.slice(0,t.getValue()))});right=new yf("Right",{signature:{args:[new gf("len",R.Int32)],returns:R.String},impl:(e,t)=>{const r=this.intrinsic.value,n=t.getValue();return new F(n<=0?"":r.slice(-n))}});mid=new yf("Mid",{signature:{args:[new gf("start_index",R.Int32)],returns:R.String},impl:(e,t)=>new F(this.intrinsic.value.slice(t.getValue()))},{signature:{args:[new gf("start_index",R.Int32),new gf("num_chars",R.Int32)],returns:R.String},impl:(e,t,r)=>{let n=this.intrinsic.value,i=t.getValue()>0?t.getValue():0,s=r.getValue()>0?r.getValue():0;return new F(n.substring(i,i+s))}});instr=new yf("Instr",{signature:{args:[new gf("substring",R.String)],returns:R.Int32},impl:(e,t)=>new lf(this.intrinsic.value.indexOf(t.value))},{signature:{args:[new gf("start_index",R.Int32),new gf("substring",R.String)],returns:R.Int32},impl:(e,t,r)=>""===r.value?new lf(Math.max(0,t.getValue())):new lf(this.intrinsic.value.indexOf(r.value,t.getValue()))});replace=new yf("Replace",{signature:{args:[new gf("from",R.String),new gf("to",R.String)],returns:R.String},impl:(e,t,r)=>{if(""===t.value)return this.intrinsic;const n=t.value.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&");return new F(this.intrinsic.value.replace(new RegExp(n,"g"),r.value))}});trim=new yf("Trim",{signature:{args:[],returns:R.String},impl:e=>new F(this.intrinsic.value.trim())});toInt=new yf("ToInt",{signature:{args:[],returns:R.Int32},impl:e=>{let t=Math.trunc(Number.parseFloat(this.intrinsic.value));return Number.isNaN(t)?new lf(0):new lf(t)}});toFloat=new yf("ToFloat",{signature:{args:[],returns:R.Float},impl:e=>{let t=Number.parseFloat(this.intrinsic.value);return Number.isNaN(t)?new cf(0):new cf(t)}});tokenize=new yf("Tokenize",{signature:{args:[new gf("delim",R.String)],returns:R.Object},impl:(e,t)=>{let r=this.intrinsic.value,n=[],i=[];for(let e of r)t.value.includes(e)?n.length>0&&(i.push(new F(n.join(""))),n=[]):n.push(e);return n.length>0&&i.push(new F(n.join(""))),new Ff(i)}});split=new yf("Split",{signature:{args:[new gf("separator",R.String)],returns:R.Object},impl:(e,t)=>{let r;return r=""===t.value?Array.from(this.intrinsic.value):this.intrinsic.value.split(t.value),new Mf(r.map(e=>new F(e)))}});getEntityEncode=new yf("GetEntityEncode",{signature:{args:[],returns:R.String},impl:e=>new F(this.intrinsic.value.replace(/(['"<>&])/g,"\\$1"))});escape=new yf("Escape",{signature:{args:[],returns:R.String},impl:e=>new F(encodeURIComponent(this.intrinsic.value).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()))});unescape=new yf("Unescape",{signature:{args:[],returns:R.String},impl:e=>new F(decodeURIComponent(this.intrinsic.value))});isEmpty=new yf("isEmpty",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(0===this.intrinsic.value.length)});encodeUri=new yf("EncodeUri",{signature:{args:[],returns:R.String},impl:e=>new F(encodeURI(this.intrinsic.value))});decodeUri=new yf("DecodeUri",{signature:{args:[],returns:R.String},impl:e=>new F(decodeURI(this.intrinsic.value))});encodeUriComponent=new yf("EncodeUriComponent",{signature:{args:[],returns:R.String},impl:e=>new F(encodeURIComponent(this.intrinsic.value))});decodeUriComponent=new yf("DecodeUriCOmponent",{signature:{args:[],returns:R.String},impl:e=>new F(decodeURIComponent(this.intrinsic.value))});startsWith=new yf("startsWith",{signature:{args:[new gf("matchString",R.String),new gf("position",R.Int32,N.Instance)],returns:R.Boolean},impl:(e,t,r)=>r instanceof N?P.from(this.intrinsic.value.startsWith(t.value)):P.from(this.intrinsic.value.startsWith(t.value,r.getValue()))});endsWith=new yf("endsWith",{signature:{args:[new gf("matchString",R.String),new gf("position",R.Int32,N.Instance)],returns:R.Boolean},impl:(e,t,r)=>r instanceof N?P.from(this.intrinsic.value.endsWith(t.value)):P.from(this.intrinsic.value.endsWith(t.value,r.getValue()))});format=new yf("format",{signature:{args:[new gf("arg",R.Dynamic,N.Instance)],variadic:!0,returns:R.String},impl:(e,...t)=>{let r=[];if(t.length>0)for(const e of t)sy(e)?r.push(e.getValue()):e instanceof F&&r.push(e.value);try{return new F((0,ef.sprintf)(this.intrinsic.value,...r))}catch(t){Ch.isDevMode&&Ch.stderr.write(`warning,roString.format() Error: ${t.message} at ${e.formatLocation()}`);const r=t.message?.includes("expecting number")?Jh.TypeMismatch:Jh.InvalidFormatSpecifier;throw new Kh(r,e.location,e.getBacktrace())}}})}class Kf extends Rh{kind=R.Object;fullPath="";parsedPath;parsedUrl;valid=!1;constructor(e){if(super("roPath"),!gy(e)){const t=e instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch;throw new Kh(t)}this.parsedUrl=this.setPath(e.getValue()),this.registerMethods({ifPath:[this.change,this.isValid,this.split],ifString:[this.setString,this.getString]})}setPath(e){let t;return function(e){try{return new URL(e),!0}catch(e){return!1}}(e=e.replaceAll(/[/\\]+/g,$e().posix.sep))?(t=new URL(e),this.fullPath=e,this.parsedPath=$e().parse(`${t.host}${t.pathname}`),this.valid=!0):(t=new URL("tmp:/blank"),this.fullPath="",this.valid=!1),t}getParentPart(){if("string"!=typeof this.parsedPath?.base)return this.fullPath;const e=this.fullPath.indexOf(this.parsedPath.base);return-1===e?this.fullPath:this.fullPath.slice(0,e)}toString(e){return this.fullPath}getValue(){return this.fullPath}lessThan(e){return gy(e)?P.from(this.getValue()<e.getValue()):P.False}greaterThan(e){return gy(e)?P.from(this.getValue()>e.getValue()):P.False}equalTo(e){return gy(e)?P.from(this.getValue()===e.getValue()):P.False}concat(e){return gy(e)?new F(this.getValue()+e.getValue()):new F(this.getValue()+e.toString())}change=new yf("change",{signature:{args:[new gf("newPath",R.String)],returns:R.Boolean},impl:(e,t)=>(this.setPath(t.value),P.from(this.valid))});isValid=new yf("isValid",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.valid)});split=new yf("split",{signature:{args:[],returns:R.Object},impl:e=>""===this.fullPath?new If([]):vy({basename:this.parsedPath.name,extension:this.parsedPath.ext,filename:this.parsedPath.base,parent:this.getParentPart(),phy:this.parsedUrl.protocol})});setString=new yf("SetString",{signature:{args:[new gf("path",R.String)],returns:R.Void},impl:(e,t)=>(this.parsedUrl=this.setPath(t.value),N.Instance)});getString=new yf("GetString",{signature:{args:[],returns:R.String},impl:e=>new F(this.fullPath)})}class Zf extends Rh{kind=R.Object;intrinsic=P.False;getValue(){return this.intrinsic.toBoolean()}constructor(e){super("roBoolean"),e instanceof P&&(this.intrinsic=e),this.registerMethods({ifBoolean:[this.getBoolean,this.setBoolean],ifToStr:[new tf(this).toStr]})}unbox(){return this.intrinsic}copy(){return new Zf(this.intrinsic)}equalTo(e){return e instanceof Zf?P.from(e.getValue()===this.getValue()):sy(e)||e instanceof P?P.from(e.toBoolean()===this.intrinsic.toBoolean()):P.False}toString(e){return this.intrinsic.toString()}toBoolean(){return this.intrinsic.toBoolean()}fromBoolean(e){this.intrinsic=P.from(e)}getBoolean=new yf("getBoolean",{signature:{args:[],returns:R.Boolean},impl:e=>this.intrinsic});setBoolean=new yf("setBoolean",{signature:{args:[new gf("value",R.Boolean)],returns:R.Void},impl:(e,t)=>(this.intrinsic=t,N.Instance)})}class Jf extends Rh{kind=R.Object;constructor(e){super(e)}toString(e){return`<Component: ${this.componentName}>`}equalTo(e){return P.False}}function Qf(e,t,r,n){try{const i=new XMLHttpRequest;if(i.open("GET",e,!1),i.responseType=t,r)for(const[e,t]of r)i.setRequestHeader(e,t);return void 0!==n&&(i.withCredentials=n),i.send(),200!==i.status?void(Ch.isDevMode&&Ch.stderr.write(`error,HTTP Error downloading ${e}: ${i.statusText} (${i.status})`)):i.response}catch(t){Ch.isDevMode&&Ch.stderr.write(`error,Error downloading ${e}: ${t.message}`)}}function ed(){const e="https://api.ipify.org";try{const t=new XMLHttpRequest;if(t.open("GET",e,!1),t.responseType="text",t.send(),200!==t.status)return Ch.isDevMode&&Ch.stderr.write(`[getExternalIp] Error getting ${e}: status ${t.status} - ${t.statusText}`),"";const r=t.responseText;return nd(r)?r:""}catch(t){return Ch.isDevMode&&Ch.stderr.write(`[getExternalIp] Error getting ${e}: ${t.message}`),""}}const td=new Map;function rd(e){if(!id(e))return null;if(td.has(e))return td.get(e);const t=["https://dns.google/resolve","https://cloudflare-dns.com/dns-query"],r=[];for(const n of t){const i=`${n}?name=${e}&type=A`,s=new XMLHttpRequest;s.open("GET",i,!1),s.setRequestHeader("Accept","application/dns-json");try{if(s.send(),200!==s.status)return null;const t=JSON.parse(s.responseText);if(t.Answer&&t.Answer.length>0){const r=t.Answer.find(e=>1===e.type);if(r&&nd(r.data))return td.set(e,r.data),r.data}}catch(t){r.push(`[resolveHostToIP] Error resolving ${e} from ${n}: ${t.message}`)}}if(r.length>0&&Ch.isDevMode)throw new Error(r.join("\n"));return null}function nd(e){if(!e)return!1;const t=e.split(".");return 4===t.length&&t.every(e=>{const t=Number(e);return!Number.isNaN(t)&&t>=0&&t<=255})}function id(e){if(e.length>253)return!1;const t=e.split("."),r=/^[a-zA-Z0-9-]{1,63}$/;for(const e of t){if(e.length>63||0===e.length)return!1;if(!r.test(e)||e.startsWith("-")||e.endsWith("-"))return!1}return!0}function sd(e){try{return new URL(e).host}catch(e){return""}}class ad extends Jf{id;responseCode;responseString;failureReason;headers;host;constructor(e,t,r,n,i,s){super("roUrlEvent"),this.id=e,this.responseCode=n,this.failureReason=i,this.responseString=r,this.headers=s,this.host=t,this.registerMethods({ifUrlEvent:[this.getResponseCode,this.getFailureReason,this.getSourceIdentity,this.getResponseHeaders,this.getResponseHeadersArray,this.getTargetIpAddress],ifString:[this.getString],ifInt:[this.getInt]})}getStatus(){return this.responseCode}getValue(){return this.responseString}toString(e){return this.responseString}lessThan(e){return gy(e)?P.from(this.getValue()<e.getValue()):P.False}greaterThan(e){return gy(e)?P.from(this.getValue()>e.getValue()):P.False}equalTo(e){return gy(e)?P.from(this.getValue()===e.getValue()):P.False}concat(e){return gy(e)?new F(this.getValue()+e.getValue()):new F(this.getValue()+e.toString())}getInt=new yf("getInt",{signature:{args:[],returns:R.Int32},impl:e=>new lf(1)});getResponseCode=new yf("getResponseCode",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.responseCode)});getFailureReason=new yf("getFailureReason",{signature:{args:[],returns:R.String},impl:e=>new F(this.failureReason)});getString=new yf("getString",{signature:{args:[],returns:R.String},impl:e=>new F(this.responseString)});getSourceIdentity=new yf("getSourceIdentity",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.id)});getResponseHeaders=new yf("getResponseHeaders",{signature:{args:[],returns:R.Dynamic},impl:e=>{let t=new If([]);return this.headers.split("\n").map(e=>e.trim()).map((e,t)=>{let r=e.indexOf(":");return""===e||-1===r?["",""]:[e.slice(0,r),e.slice(r+1)]}).filter(([e,t])=>e&&t).map(([e,t])=>[e.trim(),t.trim()]).map(([e,r])=>{t.set(new F(e),new F(r))}),t}});getResponseHeadersArray=new yf("getResponseHeadersArray",{signature:{args:[],returns:R.Object},impl:e=>{let t=new Array;return this.headers.split("\n").map(e=>e.trim()).map((e,t)=>{let r=e.indexOf(":");return""===e||-1===r?["",""]:[e.slice(0,r),e.slice(r+1)]}).filter(([e,t])=>e&&t).map(([e,t])=>[e.trim(),t.trim()]).map(([e,r])=>{let n=new If([]);n.set(new F(e),new F(r)),t.push(n)}),new Mf(t)}});getTargetIpAddress=new yf("getTargetIpAddress",{signature:{args:[],returns:R.String},impl:e=>new F(rd(this.host)??"")})}class od extends Jf{event;constructor(e){super("roUniversalControlEvent"),this.event=e,this.registerMethods({ifUniversalControlEvent:[this.getKey,this.getRemoteID,this.getID,this.isPress,this.getChar],ifInt:[this.getInt]})}toString(e){return this.event.key.toString()}getValue(){return this.event.key}lessThan(e){return e.kind===R.Int64?P.from(this.getValue()<e.getValue().toNumber()):py(e)?P.from(this.getValue()<e.getValue()):P.False}greaterThan(e){return e.kind===R.Int64?P.from(this.getValue()>e.getValue().toNumber()):py(e)?P.from(this.getValue()>e.getValue()):P.False}equalTo(e){return e.kind===R.Int64?P.from(this.getValue()===e.getValue().toNumber()):py(e)?P.from(this.getValue()===e.getValue()):P.False}getInt=new yf("getInt",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.event.key)});getKey=new yf("getKey",{signature:{args:[],returns:R.Int32},impl:e=>{let t=this.event.key-this.event.mod;return t>=32&&(t=0),new lf(t)}});getID=new yf("getID",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.event.key-this.event.mod)});getRemoteID=new yf("getRemoteID",{signature:{args:[],returns:R.String},impl:e=>new F(this.event.remote)});getChar=new yf("getChar",{signature:{args:[],returns:R.Int32},impl:e=>{let t=this.event.key-this.event.mod;return t<32&&(t=0),new lf(t)}});isPress=new yf("isPress",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.event.mod<100)})}var cd=__webpack_require__(6560),ud=__webpack_require__(5867),ld=__webpack_require__.n(ud),hd=__webpack_require__(7692),fd=__webpack_require__.n(hd),dd=__webpack_require__(6968),pd=__webpack_require__(1078),gd=__webpack_require__.n(pd),md=__webpack_require__(5045),yd=__webpack_require__(1048).Buffer;class bd extends Rh{kind=R.Object;x=0;y=0;width;height;ninePatch=!1;canvas;context;name;valid;patchSizes;alphaEnable;rgbaCanvas;rgbaLast;rgbaRedraw;scaleMode;constructor(e,t){let r;if(super("roBitmap"),this.alphaEnable=!1,this.rgbaLast=0,this.rgbaRedraw=!0,this.valid=!0,this.width=1,this.height=1,this.name=t??"",this.scaleMode=0,e instanceof ArrayBuffer||e instanceof yd||e instanceof Uint8Array)r=e;else if(gy(e))try{r=Ch.fileSystem?.readFileSync(e.getValue()),this.alphaEnable=!1,this.name=e.getValue()}catch(t){Ch.isDevMode&&Ch.stderr.write(`error,Error loading bitmap:${e.getValue()} - ${t.message}`),this.valid=!1}else if(e instanceof If){let t=e.get(new F("width"));(t instanceof lf||t instanceof cf||t instanceof af)&&(this.width=Math.trunc(t.getValue()));let r=e.get(new F("height"));(r instanceof lf||r instanceof cf||r instanceof af)&&(this.height=Math.trunc(r.getValue()));let n=e.get(new F("name"));n instanceof F&&(this.name=n.value);let i=e.get(new F("alphaEnable"));i instanceof P&&(this.alphaEnable=i.toBoolean())}else Ch.isDevMode&&Ch.stderr.write("warning,Invalid roBitmap param:"+typeof e),this.valid=!1;if(this.canvas=zd(this.width,this.height),this.context=this.canvas.getContext("2d"),r)try{let e;const t=ld()(r);if(t&&"image/png"===t.mime){const t=fd().decode(r),n=fd().toRGBA8(t);n.length&&(e=n[0],this.width=t.width,this.height=t.height)}else if(t&&"image/jpeg"===t.mime){let t=dd.decode(r);e=t.data,this.width=t.width,this.height=t.height}else if(t&&"image/webp"===t.mime){const t=new md.WebPDecoder,n=yd.from(r),i=(0,md.WebPRiffParser)(n,0);if(i?.frames?.length){let r=[0],s=[0],a=i.frames[0];e=t.WebPDecodeRGBA(n,a.src_off,a.src_size,s,r),e&&(this.height=r[0],this.width=s[0])}}else if(t&&"image/gif"===t.mime){const t=(0,cd.O5)(r),n=(0,cd.Ud)(t,!0);n.length&&(e=n[0].patch,this.width=n[0].dims.width,this.height=n[0].dims.height)}else if(t&&"image/bmp"===t.mime){let t=gd()(r);e=t.data,this.width=t.width,this.height=t.height}if(e){let t=this.context.createImageData(this.width,this.height);this.canvas.width=this.width,this.canvas.height=this.height,t.data.set(new Uint8Array(e)),Gd(t,this.context,0,0)}else Ch.isDevMode&&Ch.stderr.write(`warning,Invalid image format: ${t?.mime}`),this.valid=!1}catch(e){Ch.isDevMode&&Ch.stderr.write(`error,Error drawing image on canvas: ${e.message}`),this.valid=!1}const n=new Md(this);if(this.registerMethods({ifDraw2D:[n.clear,n.drawObject,n.drawRotatedObject,n.drawScaledObject,n.drawTransformedObject,n.drawLine,n.drawPoint,n.drawRect,n.drawText,n.finish,n.getAlphaEnable,n.setAlphaEnable,n.getByteArray,n.getPng,n.getWidth,n.getHeight],ifBitmap:[this.getName]}),this.valid&&this.name.toLowerCase().endsWith(".9.png")){const e=this.getPatchSizes();e.horizontal>=0&&e.vertical>=0&&(this.ninePatch=!0,this.patchSizes=e)}}clearCanvas(e){const t=this.context;return t.clearRect(0,0,this.canvas.width,this.canvas.height),(255&e)>0&&(t.fillStyle=Wd(e),t.fillRect(0,0,this.canvas.width,this.canvas.height)),this.rgbaRedraw=!0,N.Instance}drawImage(e,t,r,n=1,i=1,s){return this.rgbaRedraw=!0,Ld(this,e,t,r,n,i,s)}drawImageToContext(e,t,r){return Vd(this.context,e,this.alphaEnable,t,r)}getImageName(){return this.name}getCanvas(){return this.canvas}getContext(){return this.context}getRgbaCanvas(e){if(this.rgbaCanvas){if(!this.rgbaRedraw&&e===this.rgbaLast)return this.rgbaCanvas;this.rgbaCanvas.width=this.canvas.width,this.rgbaCanvas.height=this.canvas.height}else this.rgbaCanvas=zd(this.canvas.width,this.canvas.height);const t=this.rgbaCanvas.getContext("2d",{alpha:!0});return qd(this.canvas,t,0,0),t.globalCompositeOperation="multiply",t.fillStyle=Wd(e),t.fillRect(0,0,this.canvas.width,this.canvas.height),t.globalCompositeOperation="destination-in",qd(this.canvas,t,0,0),t.globalCompositeOperation="source-over",this.rgbaLast=e,this.rgbaRedraw=!1,this.rgbaCanvas}setCanvasAlpha(e){this.alphaEnable=e,this.rgbaRedraw=!0}getCanvasAlpha(){return this.alphaEnable}makeDirty(){this.rgbaRedraw=!0}finishDraw(){}toString(e){return"<Component: roBitmap>"}equalTo(e){return P.False}isValid(){return this.valid}dispose(){$d(this.canvas),this.rgbaCanvas&&$d(this.rgbaCanvas)}getPatchSizes(){if(this.patchSizes)return this.patchSizes;const e=this.getCanvas(),t=this.getContext().getImageData(0,0,e.width,e.height).data;let r=-1,n=-1;for(let n=0;n<e.width;n++){const i=4*(n+0*e.width),s=t[i],a=t[i+1],o=t[i+2],c=t[i+3];if(0===s&&0===a&&0===o&&255===c){r=n;break}}for(let r=0;r<e.height;r++){const i=4*(0+r*e.width),s=t[i],a=t[i+1],o=t[i+2],c=t[i+3];if(0===s&&0===a&&0===o&&255===c){n=r;break}}return{horizontal:r,vertical:n}}getName=new yf("getName",{signature:{args:[],returns:R.String},impl:e=>new F(this.name)})}function wd(e){const t=new bd(e);return t.isValid()?t:N.Instance}class vd{component;callback;constructor(e,t){this.component=e,this.callback=t}set(e){if(e.addReference(),this.component.port?.removeReference(),this.callback){const t=this.component.getComponentName();this.component.port?.unregisterCallback(t),e.registerCallback(t,this.callback)}return this.component.port=e,N.Instance}setMessagePort=new yf("setMessagePort",{signature:{args:[new gf("port",R.Object)],returns:R.Void},impl:(e,t)=>this.set(t)});setPort=new yf("setPort",{signature:{args:[new gf("port",R.Object)],returns:R.Void},impl:(e,t)=>this.set(t)})}class Sd{component;constructor(e){this.component=e}getMessagePort=new yf("getMessagePort",{signature:{args:[],returns:R.Object},impl:e=>this.component.port??N.Instance});getPort=new yf("getPort",{signature:{args:[],returns:R.Object},impl:e=>this.component.port??N.Instance})}class Ed extends Rh{kind=R.Object;x=0;y=0;width;height;doubleBuffer;maxMs;valid;alphaEnable;currentBuffer;lastBuffer;canvas;context;port;isDirty;lastMessage;scaleMode;constructor(e,t,r){super("roScreen");let n=854,i=480;"1080p"===Ch.deviceInfo.displayMode?(n=1920,i=1080):"720p"===Ch.deviceInfo.displayMode&&(n=1280,i=720),this.lastMessage=performance.now(),this.scaleMode=0,this.isDirty=!0,this.width=n,this.height=i,this.valid=!0,void 0!==t&&yy(t)?(this.width=Math.trunc(Ey(t)),this.width<=0&&(this.width=n)):void 0!==t&&(this.valid=!1),void 0!==r&&yy(r)?(this.height=Math.trunc(Ey(r)),this.height<=0&&(this.height=i)):void 0!==r&&(this.valid=!1),this.doubleBuffer=!1,void 0!==e&&(ly(e)||yy(e))?this.doubleBuffer=e.toBoolean():void 0!==e&&(this.valid=!1),this.currentBuffer=0,this.lastBuffer=0,this.canvas=new Array(this.doubleBuffer?2:1),this.context=new Array(this.doubleBuffer?2:1),this.createDisplayBuffer(),this.alphaEnable=!1;const s=Ch.deviceInfo.maxFps;this.maxMs=Math.trunc(1/s*1e3);const a=new Md(this),o=new vd(this,this.getNewEvents.bind(this)),c=new Sd(this);this.registerMethods({ifScreen:[this.swapBuffers],ifDraw2D:[a.clear,a.drawObject,a.drawRotatedObject,a.drawScaledObject,a.drawTransformedObject,a.drawLine,a.drawPoint,a.drawRect,a.drawText,a.finish,a.getAlphaEnable,a.setAlphaEnable,a.getByteArray,a.getPng,a.getWidth,a.getHeight],ifSetMessagePort:[o.setMessagePort,o.setPort],ifGetMessagePort:[c.getMessagePort,c.getPort]})}createDisplayBuffer(){for(let e=0;e<this.canvas.length;e++)this.canvas[e]=zd(this.width,this.height),this.canvas[e]&&(this.context[e]=this.canvas[e].getContext("2d"),this.canvas[e].width=this.width,this.canvas[e].height=this.height)}getCanvas(){return this.canvas[this.lastBuffer]}getRgbaCanvas(e){return this.canvas[this.lastBuffer]}getContext(){return this.context[this.currentBuffer]}clearCanvas(e){let t=this.context[this.currentBuffer];t.fillStyle=Wd(e,!1),t.fillRect(0,0,this.width,this.height),this.isDirty=!0}drawImage(e,t,r,n=1,i=1,s){return this.isDirty=Ld(this,e,t,r,n,i,s),this.isDirty}drawImageToContext(e,t,r){const n=this.context[this.currentBuffer];return this.isDirty=Vd(n,e,this.alphaEnable,t,r),this.isDirty}setCanvasAlpha(e){return this.alphaEnable=e,N.Instance}getCanvasAlpha(){return this.alphaEnable}toString(e){return"<Component: roScreen>"}equalTo(e){return P.False}makeDirty(){this.isDirty=!0}finishDraw(){!this.doubleBuffer&&this.isDirty&&(postMessage(this.context[0].getImageData(0,0,this.width,this.height)),this.isDirty=!1)}dispose(){this.port?.unregisterCallback(this.getComponentName());for(const e of this.canvas)$d(e)}isValid(){return this.valid}getNewEvents(){const e=[],t=Ch.updateKeysBuffer();return t&&e.push(new od(t)),e}swapBuffers=new yf("swapBuffers",{signature:{args:[],returns:R.Void},impl:e=>{if(this.isDirty){let e=performance.now();for(;e-this.lastMessage<this.maxMs;)e=performance.now();postMessage(this.context[this.currentBuffer].getImageData(0,0,this.width,this.height)),this.doubleBuffer&&(this.lastBuffer=this.currentBuffer,this.currentBuffer++,this.currentBuffer===this.canvas.length&&(this.currentBuffer=0)),this.clearCanvas(255),this.isDirty=!1,this.lastMessage=e}return N.Instance}})}function _d(e,t,r){if(void 0!==t&&void 0===r||void 0===t&&void 0!==r)return N.Instance;const n=new Ed(e,t,r);return n.isValid()?n:N.Instance}class Id extends Rh{kind=R.Object;valid;alphaEnable;bitmap;collisionType;translationX;translationY;time;wrap;collisionCircle;collisionRect;x;y;width;height;scaleMode;constructor(e,t,r,n,i){if(super("roRegion"),this.valid=!1,!((e instanceof bd||e instanceof Ed)&&yy(t)&&yy(r)&&yy(n)&&yy(i))){const t=e instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch;throw new Kh(t)}e.addReference(),this.bitmap=e,this.collisionType=0,this.x=0,this.x=Math.trunc(Ey(t)),this.y=0,this.y=Math.trunc(Ey(r)),this.width=e.width,this.width=Math.trunc(Ey(n)),this.height=e.height,this.height=Math.trunc(Ey(i)),this.translationX=0,this.translationY=0,this.scaleMode=0,this.time=0,this.wrap=!1,this.collisionCircle={x:0,y:0,r:this.width},this.collisionRect={x:0,y:0,width:this.width,height:this.height},this.alphaEnable=!0,this.x+this.width<=e.width&&this.y+this.height<=e.height&&(this.valid=!0);const s=new Md(this);this.registerMethods({ifRegion:[this.copy,this.getBitmap,this.getCollisionType,this.getHeight,this.getPretranslationX,this.getPretranslationY,this.getScaleMode,this.getTime,this.getWidth,this.getWrap,this.getX,this.getY,this.offset,this.set,this.setCollisionCircle,this.setCollisionRectangle,this.setCollisionType,this.setPretranslation,this.setScaleMode,this.setTime,this.setWrap],ifDraw2D:[s.clear,s.drawObject,s.drawRotatedObject,s.drawScaledObject,s.drawTransformedObject,s.drawLine,s.drawPoint,s.drawRect,s.drawText,s.finish,s.getAlphaEnable,s.setAlphaEnable,s.getByteArray,s.getPng]})}isValid(){return this.valid}applyOffset(e,t,r,n){const i=this.bitmap.getCanvas();let s=this.x+e,a=this.y+t;this.width+=r,this.height+=n,this.wrap?(this.x=s>0&&0!==e?s%i.width:s<0?s+i.width:s,this.y=a>0&&0!==t?a%i.height:a<0?a+i.height:a):(s>=0&&s+this.width<=i.width&&(this.x=s),a>=0&&a+this.height<=i.height&&(this.y=a)),this.bitmap.makeDirty()}clearCanvas(e){const t=this.bitmap.getContext();t.fillStyle=Wd(e),t.fillRect(this.x,this.y,this.width,this.height),this.bitmap.makeDirty()}drawImage(e,t,r,n=1,i=1,s){const a=Ld(this,e,t,r,n,i,s);return a&&this.bitmap.makeDirty(),a}drawImageToContext(e,t,r){const n=Vd(this.bitmap.getContext(),e,this.alphaEnable,t+this.getPosX(),r+this.getPosY());return n&&this.bitmap.makeDirty(),n}getCanvas(){return this.bitmap.getCanvas()}getContext(){return this.bitmap.getContext()}getRgbaCanvas(e){return this.bitmap instanceof bd?this.bitmap.getRgbaCanvas(e):this.bitmap.getCanvas()}setCanvasAlpha(e){this.alphaEnable=e,this.bitmap.setCanvasAlpha(e)}getCanvasAlpha(){return this.alphaEnable}getPosX(){return this.x}getPosY(){return this.y}getTransX(){return this.translationX}getTransY(){return this.translationY}getImageWidth(){return this.width}getImageHeight(){return this.height}getCollCircle(){return this.collisionCircle}getCollRect(){return 1===this.collisionType?this.collisionRect:{x:0,y:0,width:this.width,height:this.height}}getCollType(){return this.collisionType}getImageData(){return this.bitmap.getContext().getImageData(this.x,this.y,this.width,this.height)}getWrapValue(){return this.wrap}getAnimaTime(){return this.time}getSourceBitmap(){return this.bitmap}makeDirty(){this.bitmap.makeDirty()}finishDraw(){this.bitmap.finishDraw()}toString(e){return"<Component: roRegion>"}equalTo(e){return P.False}dispose(){this.bitmap.removeReference()}copy=new yf("copy",{signature:{args:[],returns:R.Object},impl:e=>new Id(this.bitmap,new lf(this.x),new lf(this.y),new lf(this.width),new lf(this.height))});getBitmap=new yf("getBitmap",{signature:{args:[],returns:R.Object},impl:e=>this.bitmap});getCollisionType=new yf("getCollisionType",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.collisionType)});getHeight=new yf("getHeight",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.height)});getPretranslationX=new yf("getPretranslationX",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.translationX)});getPretranslationY=new yf("getPretranslationY",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.translationY)});getScaleMode=new yf("getScaleMode",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.scaleMode)});getTime=new yf("getTime",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.time)});getWidth=new yf("getWidth",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.width)});getWrap=new yf("getWrap",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.wrap)});getX=new yf("getX",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.x)});getY=new yf("getY",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.y)});offset=new yf("offset",{signature:{args:[new gf("x",R.Dynamic),new gf("y",R.Dynamic),new gf("w",R.Dynamic),new gf("h",R.Dynamic)],returns:R.Void},impl:(e,t,r,n,i)=>(this.applyOffset(t.getValue(),r.getValue(),n.getValue(),i.getValue()),N.Instance)});set=new yf("set",{signature:{args:[new gf("srcRegion",R.Object)],returns:R.Void},impl:(e,t)=>(this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,t.bitmap?.addReference(),this.bitmap?.removeReference(),this.bitmap=t.bitmap,this.collisionType=t.collisionType,this.translationX=t.translationX,this.translationY=t.translationY,this.scaleMode=t.scaleMode,this.time=t.time,this.wrap=t.wrap,this.collisionCircle=t.collisionCircle,this.collisionRect=t.collisionRect,this.bitmap.makeDirty(),N.Instance)});setCollisionType=new yf("setCollisionType",{signature:{args:[new gf("collisionType",R.Int32)],returns:R.Void},impl:(e,t)=>(this.collisionType=t.getValue(),N.Instance)});setCollisionCircle=new yf("setCollisionCircle",{signature:{args:[new gf("xOffset",R.Int32),new gf("yOffset",R.Int32),new gf("radius",R.Int32)],returns:R.Void},impl:(e,t,r,n)=>(this.collisionCircle={x:t.getValue(),y:r.getValue(),r:n.getValue()},N.Instance)});setCollisionRectangle=new yf("setCollisionRectangle",{signature:{args:[new gf("xOffset",R.Int32),new gf("yOffset",R.Int32),new gf("width",R.Int32),new gf("height",R.Int32)],returns:R.Void},impl:(e,t,r,n,i)=>(this.collisionRect={x:t.getValue(),y:r.getValue(),width:n.getValue(),height:i.getValue()},N.Instance)});setPretranslation=new yf("setPretranslation",{signature:{args:[new gf("translationX",R.Int32),new gf("translationX",R.Int32)],returns:R.Void},impl:(e,t,r)=>(this.translationX=t.getValue(),this.translationY=r.getValue(),this.bitmap.makeDirty(),N.Instance)});setScaleMode=new yf("setScaleMode",{signature:{args:[new gf("scaleMode",R.Int32)],returns:R.Void},impl:(e,t)=>(this.scaleMode=t.getValue(),this.bitmap.makeDirty(),N.Instance)});setTime=new yf("setTime",{signature:{args:[new gf("time",R.Int32)],returns:R.Void},impl:(e,t)=>(this.time=t.getValue(),N.Instance)});setWrap=new yf("setWrap",{signature:{args:[new gf("wrap",R.Boolean)],returns:R.Void},impl:(e,t)=>(this.wrap=t.toBoolean(),this.bitmap.makeDirty(),N.Instance)})}function xd(e,t,r,n,i){const s=new Id(e,t,r,n,i);return s.isValid()?s:N.Instance}class Ad extends Rh{kind=R.Object;id;regions;region;x;y;z;frame;drawable;memberFlags;collidableFlags;data;compositor;tickSum;constructor(e,t,r,n,i,s){super("roSprite"),this.id=i,this.x=e.getValue(),this.y=t.getValue(),this.z=n.getValue(),this.frame=0,this.collidableFlags=1,this.drawable=!0,this.memberFlags=1,this.data=N.Instance,this.compositor=s,this.tickSum=0,r.addReference(),r instanceof Mf?(this.regions=r,this.region=r.getElements()[this.frame],this.region.addReference()):this.region=r,this.registerMethods({ifSprite:[this.checkCollision,this.checkMultipleCollisions,this.getRegion,this.getCollidableFlags,this.getDrawableFlag,this.getMemberFlags,this.getData,this.getX,this.getY,this.getZ,this.moveTo,this.moveOffset,this.offsetRegion,this.setRegion,this.setCollidableFlags,this.setDrawableFlag,this.setMemberFlags,this.setData,this.setZ,this.remove]})}getImageData(){return this.region.getImageData()}getRegionObject(){return this.region}getId(){return this.id}getPosX(){return this.x}getPosY(){return this.y}getCircle(){const e=this.region.getCollCircle();return{x:this.x+e.x,y:this.y+e.y,r:e.r}}getRect(){const e=this.region.getCollRect();return{x:this.x+e.x,y:this.y+e.y,width:e.width,height:e.height}}getFlags(){return{collidableFlags:this.collidableFlags,memberFlags:this.memberFlags}}getType(){return this.region.getCollType()}visible(){return this.drawable}nextFrame(e){if(this.regions){this.tickSum+=e;const t=this.regions.getElements();let r=t[this.frame];this.tickSum>=r.getAnimaTime()&&(this.frame++,this.tickSum=0,this.frame>=t.length&&(this.frame=0),r=t[this.frame],r.addReference(),this.region.removeReference(),this.region=r)}}toString(e){return"<Component: roSprite>"}equalTo(e){return P.False}dispose(){this.region?.removeReference(),this.regions?.removeReference(),this.data instanceof Rh&&this.data.removeReference()}getRegion=new yf("getRegion",{signature:{args:[],returns:R.Object},impl:e=>this.region});checkCollision=new yf("checkCollision",{signature:{args:[],returns:R.Dynamic},impl:e=>this.compositor?.checkCollision(this,!1)??N.Instance});checkMultipleCollisions=new yf("checkMultipleCollisions",{signature:{args:[],returns:R.Dynamic},impl:e=>this.compositor?.checkCollision(this,!0)??N.Instance});getCollidableFlags=new yf("getCollidableFlags",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.collidableFlags)});getDrawableFlag=new yf("getDrawableFlag",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.drawable)});getMemberFlags=new yf("getMemberFlags",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.memberFlags)});getData=new yf("getData",{signature:{args:[],returns:R.Dynamic},impl:e=>this.data});getX=new yf("getX",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.x)});getY=new yf("getY",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.y)});getZ=new yf("getZ",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.z)});moveTo=new yf("moveTo",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32)],returns:R.Void},impl:(e,t,r)=>(this.x=t.getValue(),this.y=r.getValue(),N.Instance)});moveOffset=new yf("moveOffset",{signature:{args:[new gf("xOffset",R.Int32),new gf("yOffSet",R.Int32)],returns:R.Void},impl:(e,t,r)=>(this.x+=t.getValue(),this.y+=r.getValue(),N.Instance)});offsetRegion=new yf("offsetRegion",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("width",R.Int32),new gf("height",R.Int32)],returns:R.Void},impl:(e,t,r,n,i)=>{if(this.regions)for(const e of this.regions.getElements())e instanceof Id&&e.applyOffset(t.getValue(),r.getValue(),n.getValue(),i.getValue());else this.region&&this.region.applyOffset(t.getValue(),r.getValue(),n.getValue(),i.getValue());return N.Instance}});setCollidableFlags=new yf("setCollidableFlags",{signature:{args:[new gf("collidableFlags",R.Int32)],returns:R.Void},impl:(e,t)=>(this.collidableFlags=t.getValue(),N.Instance)});setData=new yf("setData",{signature:{args:[new gf("data",R.Dynamic)],returns:R.Void},impl:(e,t)=>(t instanceof Rh&&t.addReference(),this.data instanceof Rh&&this.data.removeReference(),this.data=t,N.Instance)});setDrawableFlag=new yf("setDrawableFlag",{signature:{args:[new gf("drawable",R.Boolean)],returns:R.Void},impl:(e,t)=>(this.drawable=t.toBoolean(),N.Instance)});setMemberFlags=new yf("setMemberFlags",{signature:{args:[new gf("memberFlags",R.Int32)],returns:R.Void},impl:(e,t)=>(this.memberFlags=t.getValue(),N.Instance)});setRegion=new yf("setRegion",{signature:{args:[new gf("region",R.Object)],returns:R.Void},impl:(e,t)=>(t.addReference(),this.region.removeReference(),this.region=t,N.Instance)});setZ=new yf("setZ",{signature:{args:[new gf("z",R.Int32)],returns:R.Void},impl:(e,t)=>(this.compositor&&this.z!==t.getValue()&&(this.compositor.setSpriteZ(this.id,this.z,t.getValue()),this.z=t.getValue()),N.Instance)});remove=new yf("remove",{signature:{args:[],returns:R.Void},impl:(e,t)=>(this.compositor?.removeSprite(this.id,null!==this.regions),this.compositor=void 0,N.Instance)})}class kd extends Rh{kind=R.Object;sprites=new Map;animations=new Array;canvas;context;destBitmap;rgbaBackground;spriteId;previousSpriteDraws=[];constructor(){super("roCompositor"),this.canvas=zd(10,10),this.context=this.canvas.getContext("2d"),this.spriteId=0,this.registerMethods({ifCompositor:[this.setDrawTo,this.draw,this.drawAll,this.newSprite,this.newAnimatedSprite,this.animationTick]})}setSpriteZ(e,t,r){let n=this.sprites.get(t);n&&n.some((t,n,i)=>t.getId()===e&&(i.splice(n,1),this.setSpriteLayer(t,r),!0))}setSpriteLayer(e,t){let r=this.sprites.get(t);r?r.push(e):r=[e],this.sprites.set(t,r)}removeSprite(e,t){for(const t of this.sprites.values())t.some((t,r,n)=>{if(t.getId()===e){for(const e of n.splice(r,1))e.removeReference();return!0}return!1});t&&this.animations.some((t,r,n)=>{if(t.getId()===e){for(const e of n.splice(r,1))e.removeReference();return!0}return!1})}getCanvasAlpha(){return!!this.destBitmap?.getCanvasAlpha()}getContext(){return this.context}checkCollision(e,t){const r=e.getFlags(),n=e.getCircle(),i=e.getRect(),s=e.getType(),a=[];let o;o=N.Instance;for(let[,c]of this.sprites)if(c.some((c,u,l)=>{if(e.getId()!==c.getId()){const e=c.getFlags(),u=c.getType();if(r.memberFlags===e.memberFlags&&Td(s,i,n,u,c)){if(!t)return o=c,!0;a.push(c)}}return!1}),o instanceof Ad)break;return t&&a.length>0?new Mf(a):o}clearPreviousSpriteDraws(){let e=this.context,t=this.rgbaBackground?this.rgbaBackground:0;if(e.clearRect(0,0,this.canvas.width,this.canvas.height),0!==t){e.fillStyle=Wd(t);for(const t of this.previousSpriteDraws)e.fillRect(t.x,t.y,t.width,t.height)}this.previousSpriteDraws=[]}drawSprites(){if(this.clearPreviousSpriteDraws(),this.destBitmap){this.destBitmap.drawImageToContext(this.canvas,0,0);let e=[...this.sprites.keys()].sort((e,t)=>e-t);for(const t of e){const e=this.sprites.get(t);if(e){for(const t of e)t.visible()&&(Ld(this,t.getRegionObject(),t.getPosX(),t.getPosY()),this.previousSpriteDraws.push(t.getRect()));this.destBitmap?.drawImageToContext(this.canvas,0,0)}}}}toString(e){return"<Component: roCompositor>"}equalTo(e){return P.False}dispose(){this.destBitmap?.removeReference();for(const e of this.sprites.values())for(const t of e)t.removeReference();for(const e of this.animations)e.removeReference();$d(this.canvas)}setDrawTo=new yf("setDrawTo",{signature:{args:[new gf("destBitmap",R.Object),new gf("rgbaBackground",R.Int32)],returns:R.Void},impl:(e,t,r)=>{t.addReference(),this.destBitmap?.removeReference(),this.destBitmap=t;const n=Bd(t);return this.canvas.width=n.width,this.canvas.height=n.height,this.rgbaBackground=r.getValue(),N.Instance}});newSprite=new yf("newSprite",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("region",R.Object),new gf("z",R.Int32,new lf(0))],returns:R.Object},impl:(e,t,r,n,i)=>{if(n instanceof Id){let e=new Ad(t,r,n,i,this.spriteId++,this);return e.addReference(),this.setSpriteLayer(e,i.getValue()),e}return Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roCompositor.newSprite: invalid region parameter type roInvalid: ${e.formatLocation()}`),N.Instance}});newAnimatedSprite=new yf("newAnimatedSprite",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("regionArray",R.Object),new gf("z",R.Int32,new lf(0))],returns:R.Object},impl:(e,t,r,n,i)=>{let s="";if(n instanceof Mf){const e=n.getElements();if(e&&e.length>0){if(e[0]instanceof Id){let e=new Ad(t,r,n,i,this.spriteId++,this);return e.addReference(),this.setSpriteLayer(e,i.getValue()),e.addReference(),this.animations.push(e),e}s="invalid regionArray item type is roInvalid"}else s="invalid regionArray is empty"}else s="invalid regionArray parameter type roInvalid";return s.length&&Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roCompositor.newAnimatedSprite: ${s}: ${e.formatLocation()}`),N.Instance}});animationTick=new yf("animationTick",{signature:{args:[new gf("duration",R.Int32)],returns:R.Void},impl:(e,t)=>{for(const e of this.animations)e.nextFrame(t.getValue());return N.Instance}});draw=new yf("draw",{signature:{args:[],returns:R.Void},impl:e=>(this.drawSprites(),N.Instance)});drawAll=new yf("drawAll",{signature:{args:[],returns:R.Void},impl:e=>(this.drawSprites(),N.Instance)})}function Td(e,t,r,n,i){return e<2&&n<2?Yd(t,i.getRect()):2===e&&2===n?Zd(r,i.getCircle()):2===e?Kd(i.getRect(),r):Kd(t,i.getCircle())}class Md{component;constructor(e){this.component=e}doClearCanvas(e){this.component.clearCanvas(e)}doDrawScaledObject(e,t,r,n,i,s,a){const o=this.component.getContext();s=Qd(s,a);const c=this.component.drawImage(i,e,t,r,n,s);return o.globalAlpha=1,c}doDrawCroppedBitmap(e,t,r,n,i){const s=this.component.getContext(),a=Dd(e,n=Qd(n,i));s.save(),Rd(s,n);const o=1===e.scaleMode;return s.imageSmoothingEnabled=o,o&&"imageSmoothingQuality"in s&&(s.imageSmoothingQuality="high"),Jd(s,a,{sx:t.x,sy:t.y,sw:t.width,sh:t.height,dx:r.x,dy:r.y,dw:r.width,dh:r.height}),s.restore(),this.component.makeDirty(),!0}doDrawRotatedBitmap(e,t,r,n,i,s,a,o,c,u){const l=this.component.x,h=this.component.y,f=this.component.getContext();c=Qd(c,u),f.save();const d=a??0,p=o??0;f.translate(l+e+d,h+t+p),0!==i&&f.rotate(-i),f.scale(r,n),f.translate(-d/r,-p/n),this.component.drawImage(s,0,0,1,1,c),f.restore(),this.component.makeDirty()}doDrawRotatedRect(e,t,r,n,i=1){const s=this.component.x,a=this.component.y,o=this.component.getContext();o.save();const c=void 0===n?0:n[0],u=void 0===n?0:n[1];0===r?o.translate(s+e.x,a+e.y):(o.translate(s+e.x+c,a+e.y+u),o.rotate(-r),o.translate(-c,-u)),o.globalAlpha=i,o.fillStyle=Wd(t,this.component.getCanvasAlpha()),o.fillRect(0,0,e.width,e.height),o.restore(),this.component.makeDirty()}doDrawClearedRect(e){const t=this.component.x+e.x,r=this.component.y+e.y,n=this.component.getContext();n.save(),n.clearRect(t,r,e.width,e.height),n.restore()}doDrawText(e,t,r,n,i,s){const a=this.component.x,o=this.component.y,c=this.component.getContext();c.save(),c.globalAlpha=i,c.fillStyle=Wd(n,this.component.getCanvasAlpha()),c.font=s.toFontString(),c.textBaseline="top",c.fillText(e,a+t,o+r+s.getTopAdjust()),c.restore(),this.component.makeDirty()}doDrawRotatedText(e,t,r,n,i,s,a){const o=this.component.x,c=this.component.y,u=this.component.getContext();u.save(),u.globalAlpha=i,u.translate(o+t,c+r),0!==a&&u.rotate(-a),u.fillStyle=Wd(n,this.component.getCanvasAlpha()),u.font=s.toFontString(),u.textBaseline="top",u.fillText(e,0,s.getTopAdjust()),u.restore(),this.component.makeDirty()}pushClip(e){const t=this.component.getContext();t.save(),t.beginPath(),t.rect(e.x,e.y,e.width,e.height),t.clip()}popClip(){this.component.getContext().restore()}drawNinePatch(e,t,r,n){const i=this.component.getContext(),s=Dd(e,r=Qd(r,n)),a=e.getPatchSizes(),o=t.x,c=t.y,u=t.width,l=t.height,h=s.width,f=s.height,d=a.horizontal,p=a.horizontal,g=a.vertical,m=a.vertical,y=Math.max(0,h-2-d-p),b=Math.max(0,f-2-g-m),w=Math.max(0,u-d-p),v=Math.max(0,l-g-m),S=(e,t,r,n,a,o,c,u)=>{const l=Math.round(a),h=Math.round(o),f=Math.round(c),d=Math.round(u);r>0&&n>0&&f>0&&d>0&&Jd(i,s,{sx:e,sy:t,sw:r,sh:n,dx:l,dy:h,dw:f,dh:d})};i.save(),Rd(i,r);const E=1===e.scaleMode;i.imageSmoothingEnabled=E,E&&"imageSmoothingQuality"in i&&(i.imageSmoothingQuality="high"),S(1,1,d,g,o,c,d,g),S(1+d,1,y,g,o+d,c,w,g),S(h-1-p,1,p,g,o+u-p,c,p,g),S(1,1+g,d,b,o,c+g,d,v),S(1+d,1+g,y,b,o+d,c+g,w,v),S(h-1-p,1+g,p,b,o+u-p,c+g,p,v),S(1,f-1-m,d,m,o,c+l-m,d,m),S(1+d,f-1-m,y,m,o+d,c+l-m,w,m),S(h-1-p,f-1-m,p,m,o+u-p,c+l-m,p,m),i.restore(),this.component.makeDirty()}clear=new yf("clear",{signature:{args:[new gf("rgba",R.Int32)],returns:R.Void},impl:(e,t)=>(this.doClearCanvas(t.getValue()),N.Instance)});drawObject=new yf("drawObject",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("object",R.Object),new gf("rgba",R.Int32,N.Instance)],returns:R.Boolean},impl:(e,t,r,n,i)=>{const s=this.component.getContext(),a=this.component.drawImage(n,t.getValue(),r.getValue(),1,1,i instanceof lf?i.getValue():void 0);return s.globalAlpha=1,P.from(a)}});drawRotatedObject=new yf("drawRotatedObject",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("theta",R.Float),new gf("object",R.Object),new gf("rgba",R.Int32,N.Instance)],returns:R.Boolean},impl:(e,t,r,n,i,s)=>{const a=jd(this.component,i,t.getValue(),r.getValue(),n.getValue(),s instanceof lf?s.getValue():void 0);return this.component.makeDirty(),P.from(a)}});drawScaledObject=new yf("drawScaledObject",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("scaleX",R.Float),new gf("scaleY",R.Float),new gf("object",R.Object),new gf("rgba",R.Int32,N.Instance)],returns:R.Boolean},impl:(e,t,r,n,i,s,a)=>{const o=this.component.drawImage(s,t.getValue(),r.getValue(),n.getValue(),i.getValue(),a instanceof lf?a.getValue():void 0);return P.from(o)}});drawTransformedObject=new yf("drawTransformedObject",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("theta",R.Float),new gf("scaleX",R.Float),new gf("scaleY",R.Float),new gf("object",R.Object),new gf("rgba",R.Int32,N.Instance)],returns:R.Boolean},impl:(e,t,r,n,i,s,a,o)=>{const c=this.component.getContext(),u=t.getValue(),l=r.getValue(),h=-n.getValue()*Math.PI/180;c.save(),c.translate(u,l),c.rotate(h);const f=this.component.drawImage(a,0,0,i.getValue(),s.getValue(),o instanceof lf?o.getValue():void 0);return c.globalAlpha=1,c.restore(),P.from(f)}});drawLine=new yf("drawLine",{signature:{args:[new gf("xStart",R.Int32),new gf("yStart",R.Int32),new gf("xEnd",R.Int32),new gf("yEnd",R.Int32),new gf("rgba",R.Int32)],returns:R.Boolean},impl:(e,t,r,n,i,s)=>{const a=this.component.x,o=this.component.y,c=this.component.getContext();return c.beginPath(),c.strokeStyle=Wd(s.getValue(),this.component.getCanvasAlpha()),c.moveTo(a+t.getValue(),o+r.getValue()),c.lineTo(a+n.getValue(),o+i.getValue()),c.stroke(),this.component.makeDirty(),P.True}});drawPoint=new yf("drawPoint",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("size",R.Float),new gf("rgba",R.Int32)],returns:R.Boolean},impl:(e,t,r,n,i)=>{const s=this.component.x,a=this.component.y,o=this.component.getContext();return o.fillStyle=Wd(i.getValue(),this.component.getCanvasAlpha()),o.fillRect(s+t.getValue(),a+r.getValue(),n.getValue(),n.getValue()),this.component.makeDirty(),P.True}});drawRect=new yf("drawRect",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("width",R.Int32),new gf("height",R.Int32),new gf("rgba",R.Int32)],returns:R.Boolean},impl:(e,t,r,n,i,s)=>{const a=this.component.x+t.getValue(),o=this.component.y+r.getValue(),c=this.component.getContext();return this.component instanceof Ed&&!this.component.getCanvasAlpha()?(c.clearRect(a,o,n.getValue(),i.getValue()),c.fillStyle=Wd(s.getValue(),!0)):c.fillStyle=Wd(s.getValue(),this.component.getCanvasAlpha()),c.fillRect(a,o,n.getValue(),i.getValue()),this.component.makeDirty(),P.True}});drawText=new yf("drawText",{signature:{args:[new gf("text",R.String),new gf("x",R.Int32),new gf("y",R.Int32),new gf("rgba",R.Int32),new gf("font",R.Object)],returns:R.Boolean},impl:(e,t,r,n,i,s)=>(this.doDrawText(t.value,r.getValue(),n.getValue(),i.getValue(),1,s),P.True)});finish=new yf("finish",{signature:{args:[],returns:R.Void},impl:e=>(this.component.finishDraw(),N.Instance)});getAlphaEnable=new yf("getAlphaEnable",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.component.getCanvasAlpha())});setAlphaEnable=new yf("setAlphaEnable",{signature:{args:[new gf("alphaEnable",R.Boolean)],returns:R.Void},impl:(e,t)=>(this.component.setCanvasAlpha(t.toBoolean()),N.Instance)});getWidth=new yf("getWidth",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.width)});getHeight=new yf("getHeight",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.height)});getByteArray=new yf("getByteArray",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("width",R.Int32),new gf("height",R.Int32)],returns:R.Int32},impl:(e,t,r,n,i)=>{const s=this.component.x,a=this.component.y,o=this.component.getCanvas().getContext("2d").getImageData(s+t.getValue(),a+r.getValue(),n.getValue(),i.getValue()),c=new Uint8Array(o.data.buffer);return new Xf(c)}});getPng=new yf("getPng",{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("width",R.Int32),new gf("height",R.Int32)],returns:R.Int32},impl:(e,t,r,n,i)=>{const s=this.component.x,a=this.component.y,o=this.component.getCanvas().getContext("2d").getImageData(s+t.getValue(),a+r.getValue(),n.getValue(),i.getValue());return new Xf(new Uint8Array(fd().encode([o.data.buffer],o.width,o.height,0)))}})}const Cd=!0;function Rd(e,t){if(t){const r=255&t;r<255&&(e.globalAlpha=r/255)}}function Dd(e,t){let r;return r=void 0===t||Number.isNaN(t)||e instanceof Ed?e.getCanvas():e.getRgbaCanvas(t),r}function Od(e){return!!e&&!!(e.height&&e.height>=1&&e.width&&e.width>=1)}class Fd{x=0;y=0}function Pd(e){let t=0,r=0;return e instanceof Id&&(t=e.getPosX(),r=e.getPosY()),{x:t,y:r}}class Nd{width;height;constructor(e,t){this.width=e,this.height=t}}function Bd(e){return e instanceof Id||e instanceof bd?new Nd(e.width,e.height):e instanceof Ed?new Nd(e.getCanvas().width,e.getCanvas().height):e instanceof kd?new Nd(e.getContext().canvas.width,e.getContext().canvas.height):new Nd(e.width,e.height)}function Ld(e,t,r,n,i=1,s=1,a,o){const c=e.getContext(),u=e.getCanvasAlpha();let l;if(!(t instanceof bd||t instanceof Id||t instanceof Ed))return!1;if(l=Dd(t,a),Rd(c,a),!Od(l))return!1;const h=1===(o??t.scaleMode);c.imageSmoothingEnabled=h,h&&"imageSmoothingQuality"in c&&(c.imageSmoothingQuality="high");const f=function(e,t,r,n,i,s=1,a=1){const o=[],c=Pd(r),u=function(e){let t=0,r=0;return e instanceof Id&&(t=e.getTransX(),r=e.getTransY()),{x:t,y:r}}(r),l=u.x*s,h=u.y*a,f=c.x,d=c.y,p=r.width,g=r.height,m=n+l+e.x,y=i+h+e.y,b=p*s,w=g*a;if(0===b||0===w)return[];if(o.push({sx:f,sy:d,sw:p,sh:g,dx:m,dy:y,dw:b,dh:w}),!t||r instanceof bd||r instanceof Ed||r instanceof Id&&!r.getWrapValue())return o;if(!(r instanceof Id))return o;const v=Bd(r.getSourceBitmap()),S=Math.min(v.width-c.x,p),E=Math.min(v.height-c.y,g),_=p-S,I=g-E;return _<=0&&I<=0||(_>0&&o.push({sx:0,sy:c.y,sw:_,sh:E,dx:S+m,dy:y,dw:_,dh:E}),I>0&&o.push({sx:c.x,sy:0,sw:S,sh:I,dx:m,dy:E+y,dw:S,dh:I}),_>0&&I>0&&o.push({sx:0,sy:0,sw:_,sh:I,dx:S+m,dy:E+y,dw:_,dh:I})),o}(Pd(e),e instanceof kd||t instanceof Id,t,r,n,i,s);for(const e of f){const{sx:t,sy:r,sw:n,sh:a,dx:o,dy:h,dw:f,dh:d}=e;u||c.clearRect(o,h,n*i,a*s),Jd(c,l,e)}return!0}function Ud(e,t,r){const n=e.getCanvas(),i=t.getContext();i.save();const s=1===(r??t.scaleMode);i.imageSmoothingEnabled=s,s&&"imageSmoothingQuality"in i&&(i.imageSmoothingQuality="high"),Jd(i,n,{sx:0,sy:0,sw:e.width,sh:e.height,dx:0,dy:0,dw:t.width,dh:t.height}),i.restore()}function Vd(e,t,r,n,i){if(!Od(t))return!1;if(Cd)if(r)qd(t,e,n,i);else{let r=t.getContext("2d").getImageData(0,0,t.width,t.height),s=r.data;for(let e=3,r=t.width*t.height*4;e<r;e+=4)s[e]=255;Gd(r,e,n,i)}else r||e.clearRect(n,i,t.width,t.height),qd(t,e,n,i);return!0}function jd(e,t,r,n,i,s){const a=e.getContext(),o=-i*Math.PI/180;a.save(),a.translate(r,n),0!==o&&a.rotate(o);const c=e.drawImage(t,0,0,1,1,s);return a.restore(),c}function zd(e,t){return new OffscreenCanvas(e,t)}function $d(e){e.width=0,e.height=0}function qd(e,t,r,n){t instanceof OffscreenCanvasRenderingContext2D&&e instanceof OffscreenCanvas&&t.drawImage(e,r,n)}function Gd(e,t,r,n){t instanceof OffscreenCanvasRenderingContext2D&&e instanceof ImageData&&t.putImageData(e,r,n)}function Wd(e,t=!0){return t||(e=Xd(e)),"#"+Be(e,"0")}function Hd(e){return e-(255&e)}function Xd(e){return e-(255&e)+255}function Yd(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function Kd(e,t){const r=Math.abs(t.x-e.x-e.width/2),n=Math.abs(t.y-e.y-e.height/2);if(r>e.width/2+t.r)return!1;if(n>e.height/2+t.r)return!1;if(r<=e.width/2)return!0;if(n<=e.height/2)return!0;const i=r-e.width/2,s=n-e.height/2;return i*i+s*s<=t.r*t.r}function Zd(e,t){const r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)<=e.r+t.r}function Jd(e,t,r){const{sx:n,sy:i,sw:s,sh:a,dx:o,dy:c,dw:u,dh:l}=r;e instanceof OffscreenCanvasRenderingContext2D&&t instanceof OffscreenCanvas&&e.drawImage(t,n,i,s,a,o,c,u,l)}function Qd(e,t){if(void 0===e&&void 0===t)return;if(void 0===t||t<0||t>=1)return e;const r=e??4294967295;let n=255&r;return n=Math.round(n*t),n=Math.max(0,Math.min(255,n)),4294967040&r|n}class ep{component;constructor(e){this.component=e}addHeader=new yf("addHeader",{signature:{args:[new gf("name",R.String),new gf("value",R.String)],returns:R.Boolean},impl:(e,t,r)=>("x-roku-reserved-dev-id"===t.value.toLowerCase()?this.component.customHeaders.set(t.value,Ch.deviceInfo.developerId):this.component.customHeaders.set(t.value,r.value),P.True)});setHeaders=new yf("setHeaders",{signature:{args:[new gf("headers",R.Dynamic)],returns:R.Boolean},impl:(e,t)=>{this.component.customHeaders.clear();for(const[e,r]of t.elements)"x-roku-reserved-dev-id"===e.toLowerCase()?this.component.customHeaders.set(e,Ch.deviceInfo.developerId):this.component.customHeaders.set(e,r.value);return P.True}});initClientCertificates=new yf("initClientCertificates",{signature:{args:[],returns:R.Boolean},impl:e=>P.True});setCertificatesFile=new yf("setCertificatesFile",{signature:{args:[new gf("certificate",R.String)],returns:R.Boolean},impl:(e,t)=>(this.component.certificatesFile=t.value,P.True)});setCertificatesDepth=new yf("setCertificatesDepth",{signature:{args:[new gf("depth",R.Int32)],returns:R.Void},impl:(e,t)=>N.Instance});enableCookies=new yf("enableCookies",{signature:{args:[],returns:R.Void},impl:e=>(this.component.cookiesEnabled=!0,N.Instance)});getCookies=new yf("getCookies",{signature:{args:[new gf("domain",R.String),new gf("path",R.String)],returns:R.Object},impl:(e,t,r)=>new Mf([])});addCookies=new yf("addCookies",{signature:{args:[new gf("cookies",R.Object)],returns:R.Boolean},impl:(e,t)=>P.False});clearCookies=new yf("clearCookies",{signature:{args:[],returns:R.Void},impl:e=>N.Instance})}class tp extends Error{status;constructor(e,t){super(t),this.status=e}}var rp=__webpack_require__(1048).Buffer;class np{component;constructor(e){this.component=e}send=new yf("send",{signature:{args:[new gf("data",R.Object),new gf("startIndex",R.Int32),new gf("length",R.Int32)],returns:R.Int32},impl:(e,t,r,n)=>{try{const e=this.component.socket?.write(t.getByteArray());return new lf(e?t.getElements().length:0)}catch(e){return this.component.errorCode=e.code,new lf(0)}}});sendStr=new yf("sendStr",{signature:{args:[new gf("data",R.String)],returns:R.Int32},impl:(e,t)=>{try{const e=this.component.socket?.write(t.value);return new lf(e?t.value.length:0)}catch(e){return this.component.errorCode=e.code??3474,new lf(0)}}});receive=new yf("receive",{signature:{args:[new gf("data",R.Object),new gf("startIndex",R.Int32),new gf("length",R.Int32)],returns:R.Int32},impl:(e,t,r,n)=>{let i=rp.alloc(n.getValue());try{return i=this.component.socket?.read(n.getValue())??rp.alloc(0),new lf(i.length)}catch(e){return this.component.errorCode=e.code??3474,new lf(0)}}});receiveStr=new yf("receiveStr",{signature:{args:[new gf("length",R.Int32)],returns:R.Int32},impl:(e,t)=>{try{const e=this.component.socket?.read(t.getValue())??"";return new lf(e.length)}catch(e){return this.component.errorCode=e.code??3474,new lf(0)}}});close=new yf("close",{signature:{args:[],returns:R.Void},impl:e=>(this.component.socket?.end(),B.Instance)});setAddress=new yf("setAddress",{signature:{args:[new gf("sockAddr",R.Object)],returns:R.Boolean},impl:(e,t)=>(this.component.address=t,P.True)});getAddress=new yf("getAddress",{signature:{args:[],returns:R.Object},impl:e=>this.component.address??N.Instance});setSendToAddress=new yf("setSendToAddress",{signature:{args:[new gf("sockAddr",R.Object)],returns:R.Void},impl:(e,t)=>(this.component.sendToAddress=t,N.Instance)});getSendToAddress=new yf("getSendToAddress",{signature:{args:[],returns:R.Object},impl:e=>this.component.sendToAddress??N.Instance});getReceivedFromAddress=new yf("getReceivedFromAddress",{signature:{args:[],returns:R.Object},impl:e=>N.Instance});getCountRcvBuf=new yf("getCountRcvBuf",{signature:{args:[],returns:R.Int32},impl:e=>new lf(0)});getCountSendBuf=new yf("getCountSendBuf",{signature:{args:[],returns:R.Int32},impl:e=>new lf(0)});status=new yf("status",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.errorCode)})}class ip{component;constructor(e){this.component=e}isReadable=new yf("isReadable",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.component.socket?.readable??!1)});isWritable=new yf("isWritable",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.component.socket?.writable??!1)});isException=new yf("isException",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});notifyReadable=new yf("notifyReadable",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Void},impl:(e,t)=>B.Instance});notifyWritable=new yf("notifyWritable",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Void},impl:(e,t)=>B.Instance});notifyException=new yf("notifyException",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Void},impl:(e,t)=>B.Instance});getID=new yf("getID",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.identity)})}class sp{component;constructor(e){this.component=e}eAgain=new yf("eAgain",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(11===this.component.errorCode)});eAlready=new yf("eAlready",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(114===this.component.errorCode)});eBadAddr=new yf("eBadAddr",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(14===this.component.errorCode)});eDestAddrReq=new yf("eDestAddrReq",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(39===this.component.errorCode)});eHostUnreach=new yf("eHostUnreach",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(65===this.component.errorCode)});eInvalid=new yf("eInvalid",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(22===this.component.errorCode)});eInProgress=new yf("eInProgress",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(36===this.component.errorCode)});eWouldBlock=new yf("eWouldBlock",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(35===this.component.errorCode)});eSuccess=new yf("eSuccess",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(0===this.component.errorCode)});eOK=new yf("eOK",{signature:{args:[],returns:R.Int32},impl:e=>P.from(0===this.component.errorCode)})}class ap{component;constructor(e){this.component=e}getTTL=new yf("getTTL",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.ttl)});setTTL=new yf("setTTL",{signature:{args:[new gf("ttl",R.Int32)],returns:R.Boolean},impl:(e,t)=>(this.component.ttl=t.getValue(),P.True)});getReuseAddr=new yf("getMulticastLoop",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.component.reuseAddr)});setReuseAddr=new yf("setReuseAddr",{signature:{args:[new gf("reuse",R.Boolean)],returns:R.Boolean},impl:(e,t)=>(this.component.reuseAddr=t.toBoolean(),P.True)});getOOBInline=new yf("setOOBInline",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.component.inline)});setOOBInline=new yf("setOOBInline",{signature:{args:[new gf("inline",R.Boolean)],returns:R.Boolean},impl:(e,t)=>(this.component.inline=t.toBoolean(),P.True)});getSendBuf=new yf("getSendBuf",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.sendBufferSize)});setSendBuf=new yf("setSendBuf",{signature:{args:[new gf("size",R.Int32)],returns:R.Boolean},impl:(e,t)=>(this.component.sendBufferSize=t.getValue(),P.True)});getRcvBuf=new yf("getRcvBuf",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.recvBufferSize)});setRcvBuf=new yf("setRcvBuf",{signature:{args:[new gf("size",R.Int32)],returns:R.Boolean},impl:(e,t)=>(this.component.recvBufferSize=t.getValue(),P.True)});getSendTimeout=new yf("getSendTimeout",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.sendTimeout)});setSendTimeout=new yf("setSendTimeout",{signature:{args:[new gf("timeout",R.Int32)],returns:R.Boolean},impl:(e,t)=>(this.component.sendTimeout=t.getValue(),P.True)});getReceiveTimeout=new yf("getReceiveTimeout",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.component.recvTimeout)});setReceiveTimeout=new yf("setReceiveTimeout",{signature:{args:[new gf("timeout",R.Int32)],returns:R.Boolean},impl:(e,t)=>(this.component.recvTimeout=t.getValue(),P.True)})}var op=__webpack_require__(328),cp=__webpack_require__(1048).Buffer;class up extends Rh{kind=R.Object;cipher;cipherEncrypt;cipherFormat;cipherKey;cipherIV;cipherPadding;constructor(){super("roEVPCipher"),this.cipher=null,this.cipherEncrypt=!1,this.cipherFormat="",this.cipherKey="",this.cipherIV="",this.cipherPadding=!1,this.registerMethods({ifEVPCipher:[this.setup,this.update,this.reinit,this.process,this.final]})}toString(e){return"<Component: roEVPCipher>"}equalTo(e){return P.False}setupCipher(e,t,r,n,i,s){try{if(r=r.toLowerCase().trim(),["bf","bf-cbc","bf-cfb","bf-ecb","bf-ofb"].includes(r)&&(Ch.stderr.write('warning,[roEVPCipher] Blowfish cipher is deprecated, using "aes-128" instead.'),r="bf"===r?"aes-128-cbc":r.replace("bf","aes-128"),16===i.length)){const e=cp.from(i,"hex");i=op.n1("sha256").update(e).digest("hex").slice(0,32)}return this.cipherEncrypt=t,this.cipherFormat=r,this.cipherKey=n,this.cipherIV=i,this.cipherPadding=s,this.cipher=t?op.Tt(r,cp.from(n,"hex"),cp.from(i,"hex")):op._7(r,cp.from(n,"hex"),cp.from(i,"hex")),this.cipher&&this.cipher.setAutoPadding(s),0}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,[roEVPCipher] Setup error: ${e.message}`),this.cipher=null,this.cipherFormat="",this.cipherKey="",this.cipherIV="",-1}}updateData(e){if(this.cipher)try{return this.cipher.update(cp.from(e))}catch(e){return cp.from("")}return cp.from("")}finalResult(e){if(this.cipher)try{let e=this.cipher.final();return this.cipher=null,e}catch(e){return Ch.isDevMode&&Ch.stderr.write(`error,[roEVPCipher] Error: ${e.message}`),this.cipher=null,null}return cp.from("")}setup=new yf("setup",{signature:{args:[new gf("encrypt",R.Boolean),new gf("format",R.String),new gf("key",R.String),new gf("iv",R.String),new gf("padding",R.Int32)],returns:R.Int32},impl:(e,t,r,n,i,s)=>new lf(this.setupCipher(e,t.toBoolean(),r.value,n.value,i.value,1===s.getValue()))});reinit=new yf("reinit",{signature:{args:[],returns:R.Int32},impl:e=>""!==this.cipherFormat&&""!==this.cipherKey&&""!==this.cipherIV?new lf(this.setupCipher(e,this.cipherEncrypt,this.cipherFormat,this.cipherKey,this.cipherIV,this.cipherPadding)):new lf(-1)});process=new yf("process",{signature:{args:[new gf("data",R.Object)],returns:R.Object},impl:(e,t)=>{if(""!==this.cipherFormat&&""!==this.cipherKey&&""!==this.cipherIV&&0===this.setupCipher(e,this.cipherEncrypt,this.cipherFormat,this.cipherKey,this.cipherIV,this.cipherPadding)){let r=this.updateData(t.getByteArray()),n=this.finalResult(e);return n?new Xf(new Uint8Array([...r,...n])):N.Instance}return N.Instance}});update=new yf("update",{signature:{args:[new gf("data",R.Object)],returns:R.String},impl:(e,t)=>new Xf(this.updateData(t.getByteArray()))});final=new yf("final",{signature:{args:[],returns:R.Object},impl:e=>{const t=this.finalResult(e);return t?new Xf(t):N.Instance}})}var lp=__webpack_require__(1048).Buffer;class hp extends Rh{kind=R.Object;hash;algorithmName;constructor(){super("roEVPDigest"),this.hash=null,this.algorithmName="",this.registerMethods({ifEVPDigest:[this.setup,this.update,this.reinit,this.process,this.final]})}toString(e){return"<Component: roEVPDigest>"}equalTo(e){return P.False}setupHash(e){try{return this.hash=op.n1(e),0}catch(e){return this.hash=null,this.algorithmName="",-1}}updateData(e){if(this.hash)try{return this.hash.update(lp.from(e)),!0}catch(e){return!1}return!1}finalResult(){if(this.hash)try{let e=this.hash.digest("hex");return this.hash=null,e}catch(e){return""}return""}setup=new yf("setup",{signature:{args:[new gf("algorithm",R.String)],returns:R.Int32},impl:(e,t)=>(this.algorithmName=t.value,new lf(this.setupHash(t.value)))});reinit=new yf("reinit",{signature:{args:[],returns:R.Int32},impl:e=>""!==this.algorithmName?new lf(this.setupHash(this.algorithmName)):new lf(-1)});process=new yf("process",{signature:{args:[new gf("data",R.Object)],returns:R.String},impl:(e,t)=>""!==this.algorithmName&&0===this.setupHash(this.algorithmName)&&this.updateData(t.getByteArray())?new F(this.finalResult()):new F("")});update=new yf("update",{signature:{args:[new gf("data",R.Object)],returns:R.Void},impl:(e,t)=>(this.updateData(t.getByteArray()),N.Instance)});final=new yf("final",{signature:{args:[],returns:R.String},impl:e=>new F(this.finalResult())})}var fp=__webpack_require__(1048).Buffer;class dp extends Rh{kind=R.Object;hmac;hmacAlgorithm;hmacKey;constructor(){super("roHMAC"),this.hmac=null,this.hmacAlgorithm="",this.hmacKey=fp.from(""),this.registerMethods({ifHMAC:[this.setup,this.update,this.reinit,this.process,this.final]})}toString(e){return"<Component: roHMAC>"}equalTo(e){return P.False}setupHMAC(e,t){try{return this.hmac=op.Gz(e,t),this.hmacAlgorithm=e,this.hmacKey=t,0}catch(e){return this.hmac=null,this.hmacAlgorithm="",this.hmacKey=fp.from(""),-1}}updateData(e){if(this.hmac)try{return this.hmac.update(fp.from(e)),!0}catch(e){return!1}return!1}finalResult(){if(this.hmac)try{let e=this.hmac.digest();return this.hmac=null,e}catch(e){return fp.from("")}return fp.from("")}setup=new yf("setup",{signature:{args:[new gf("digestType",R.String),new gf("key",R.Object)],returns:R.Int32},impl:(e,t,r)=>new lf(this.setupHMAC(t.value,fp.from(r.getByteArray())))});update=new yf("update",{signature:{args:[new gf("data",R.Object)],returns:R.Void},impl:(e,t)=>(this.updateData(t.getByteArray()),N.Instance)});reinit=new yf("reinit",{signature:{args:[],returns:R.Boolean},impl:e=>""!==this.hmacAlgorithm?new lf(this.setupHMAC(this.hmacAlgorithm,this.hmacKey)):new lf(-1)});process=new yf("process",{signature:{args:[new gf("data",R.Object)],returns:R.Object},impl:(e,t)=>""!==this.hmacAlgorithm&&0===this.setupHMAC(this.hmacAlgorithm,this.hmacKey)&&this.updateData(t.getByteArray())?new Xf(this.finalResult()):new Xf(fp.from(""))});final=new yf("final",{signature:{args:[],returns:R.Object},impl:e=>new Xf(this.finalResult())})}var pp=__webpack_require__(1048).Buffer;class gp extends Rh{kind=R.Object;algorithm="aes-256-ctr";keys;constructor(){super("roDeviceCrypto"),this.keys=new Map;let e=Ch.deviceInfo.clientId.replaceAll("-","");this.keys.set("device",this.format256BitKey(e));let t=Ch.deviceInfo.developerId;this.keys.set("channel",this.format256BitKey(t));let r=Ch.deviceInfo.deviceModel;this.keys.set("model",this.format256BitKey(`${r}${t}`)),this.registerMethods({ifDeviceCrypto:[this.encrypt,this.decrypt]})}toString(e){return"<Component: roDeviceCrypto>"}equalTo(e){return P.False}format256BitKey(e){return e.length<32?e=e.padEnd(32,String.fromCodePoint(13)):e.length>32&&(e=e.slice(0,32)),pp.from(e)}encrypt=new yf("encrypt",{signature:{args:[new gf("input",R.Object),new gf("type",R.String)],returns:R.Object},impl:(e,t,r)=>{try{const n=this.keys.get(r.value.toLowerCase());if(!n)return Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roDeviceCrypto.Encrypt: invalid encryption type ${r.value}: ${e.formatLocation()}`),N.Instance;const i=op.po(16),s=op.po(16),a=op.Tt(this.algorithm,n,i),o=a.update(pp.from([...t.getByteArray(),...s])),c=a.final();return new Xf(new Uint8Array([...o,...c,...i]))}catch(e){return N.Instance}}});decrypt=new yf("decrypt",{signature:{args:[new gf("encryptedData",R.Object),new gf("type",R.String)],returns:R.String},impl:(e,t,r)=>{const n=this.keys.get(r.value.toLowerCase());if(!n)return Ch.stdout.write(`warning;BRIGHTSCRIPT: ERROR: roDeviceCrypto.Decrypt: invalid encryption type ${r.value}: ${e.formatLocation()}`),N.Instance;try{const e=t.getByteArray().slice(-16),r=t.getByteArray().slice(0,-16),i=op._7(this.algorithm,n,pp.from(e)),s=i.update(pp.from(r)),a=i.final();return new Xf(new Uint8Array([...s,...a].slice(0,-16)))}catch(e){return N.Instance}}})}var mp=__webpack_require__(3464),yp=__webpack_require__.n(mp),bp=__webpack_require__(7657),wp=__webpack_require__.n(bp),vp=__webpack_require__(1630),Sp=__webpack_require__.n(vp);class Ep extends Rh{kind=R.Object;markTime=Date.now();constructor(e){super("roDateTime"),yp().extend(wp()),yp().extend(Sp()),this.registerMethods({ifDateTime:[this.mark,this.asDateString,this.asDateStringNoParam,this.asDateStringLoc,this.asTimeStringLoc,this.asSeconds,this.asSecondsLong,this.asMillisecondsLong,this.fromISO8601String,this.fromSeconds,this.fromSecondsLong,this.getDayOfMonth,this.getDayOfWeek,this.getHours,this.getLastDayOfMonth,this.getMilliseconds,this.getMinutes,this.getMonth,this.getSeconds,this.getTimeZoneOffset,this.getWeekday,this.getYear,this.toISOString,this.toLocalTime]}),e?this.markTime=1e3*e:this.resetTime()}formatDate(e,t){const r=new Date(this.markTime);let n="";switch(e.toLowerCase()){case"long-date":n=r.toLocaleDateString(t,{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}).replace(",","");break;case"full":n=r.toLocaleDateString(t,{weekday:"long",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"});break;case"short-weekday":n=r.toLocaleDateString(t,{weekday:"short",year:"numeric",month:"long",day:"numeric",timeZone:"UTC"}).replace(",","");break;case"no-weekday":case"long":n=r.toLocaleDateString(t,{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"});break;case"short-month":n=r.toLocaleDateString(t,{weekday:"long",year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}).replace(",","");break;case"short-month-short-weekday":n=r.toLocaleDateString(t,{weekday:"short",year:"numeric",month:"short",day:"numeric",timeZone:"UTC"}).replace(",","");break;case"medium":case"short-month-no-weekday":n=r.toLocaleDateString(t,{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"});break;case"short":n=r.toLocaleDateString(t,{year:"en-US"===t?"2-digit":"numeric",month:"numeric",day:"numeric",timeZone:"UTC"});break;case"short-date":{const e=r.toLocaleDateString("en-US",{year:"2-digit",month:"numeric",day:"numeric",timeZone:"UTC"}).split("/");n=e[0]+"/"+e[1]+"/"+Number.parseInt(e[2]).toString();break}case"short-date-dashes":{const e=r.toLocaleDateString("en-US",{year:"2-digit",month:"numeric",day:"numeric",timeZone:"UTC"}).split("/");n=e[0]+"-"+e[1]+"-"+Number.parseInt(e[2]).toString();break}}return n}formatTime(e,t){const r=new Date(this.markTime);let n="";switch(e.toLowerCase()){case"short":n=new Intl.DateTimeFormat(t,{timeStyle:"short",timeZone:"UTC"}).format(r).toLowerCase();break;case"short-h12":n=new Intl.DateTimeFormat(t,{hour:"numeric",minute:"numeric",hour12:!0,timeZone:"UTC"}).format(r).toLowerCase();break;case"short-h24":n=new Intl.DateTimeFormat(t,{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).format(r)}return n}resetTime(){this.markTime=Date.now()}toString(e){return"<Component: roDateTime>"}equalTo(e){return P.False}mark=new yf("mark",{signature:{args:[],returns:R.Void},impl:e=>(this.resetTime(),B.Instance)});asDateString=new yf("asDateString",{signature:{args:[new gf("format",R.String)],returns:R.String},impl:(e,t)=>{let r=this.formatDate(t.value,"en-US");return""===r&&(r=this.formatDate("long-date","en-US")),new F(r)}});asDateStringNoParam=new yf("asDateStringNoParam",{signature:{args:[],returns:R.String},impl:e=>new F(this.formatDate("long-date","en-US"))});asDateStringLoc=new yf("asDateStringLoc",{signature:{args:[new gf("format",R.String)],returns:R.String},impl:(e,t)=>{const r=["EEEE","EEE","dd","d","MMMM","MMM","MM","M","yy","y"],n=Ch.deviceInfo.locale.replace("_","-"),i=""===t.value.trim()?"short":t.value;let s=this.formatDate(i,n);if(""===s){const e=new Date(this.markTime);s=Ip(e,_p(t.value,r),n)}return new F(s)}});asTimeStringLoc=new yf("asTimeStringLoc",{signature:{args:[new gf("format",R.String)],returns:R.String},impl:(e,t)=>{const r=["HH","H","hh","h","mm","m","a"],n=Ch.deviceInfo.locale.replace("_","-"),i=""===t.value.trim()?"short":t.value;let s=this.formatTime(i,n);if(""===s){const e=new Date(this.markTime);s=Ip(e,_p(t.value,r),n)}return new F(s)}});asSeconds=new yf("asSeconds",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.markTime/1e3)});fromISO8601String=new yf("fromISO8601String",{signature:{args:[new gf("dateString",R.String)],returns:R.Void},impl:(e,t)=>{let r=yp()(t.value,wy,!0).utc(!0);return r.isValid()||(r=yp()(0)),this.markTime=r.toDate().valueOf(),B.Instance}});asSecondsLong=new yf("asSecondsLong",{signature:{args:[],returns:R.Int64},impl:e=>new nf(this.markTime/1e3)});asMillisecondsLong=new yf("asMillisecondsLong",{signature:{args:[],returns:R.Int64},impl:e=>new nf(this.markTime)});fromSeconds=new yf("fromSeconds",{signature:{args:[new gf("numSeconds",R.Int32)],returns:R.Void},impl:(e,t)=>(this.markTime=1e3*t.getValue(),B.Instance)});fromSecondsLong=new yf("fromSecondsLong",{signature:{args:[new gf("numSeconds",R.Int64)],returns:R.Void},impl:(e,t)=>(this.markTime=1e3*t.getValue().toNumber(),N.Instance)});getDayOfMonth=new yf("getDayOfMonth",{signature:{args:[],returns:R.Int32},impl:e=>{const t=new Date(this.markTime);return new lf(t.getUTCDate())}});getDayOfWeek=new yf("getDayOfWeek",{signature:{args:[],returns:R.Int32},impl:e=>{const t=new Date(this.markTime);return new lf(t.getUTCDay())}});getHours=new yf("getHours",{signature:{args:[],returns:R.Int32},impl:e=>{const t=new Date(this.markTime);return new lf(t.getUTCHours())}});getLastDayOfMonth=new yf("getLastDayOfMonth",{signature:{args:[],returns:R.Int32},impl:e=>{const t=new Date(this.markTime);return new lf(new Date(t.getUTCFullYear(),t.getUTCMonth()+1,0).getUTCDate())}});getMilliseconds=new yf("getMilliseconds",{signature:{args:[],returns:R.Int32},impl:e=>{const t=new Date(this.markTime);return new lf(t.getUTCMilliseconds())}});getMinutes=new yf("getMinutes",{signature:{args:[],returns:R.Int32},impl:e=>{const t=new Date(this.markTime);return new lf(t.getUTCMinutes())}});getMonth=new yf("getMonth",{signature:{args:[],returns:R.Int32},impl:e=>{const t=new Date(this.markTime);return new lf(t.getUTCMonth()+1)}});getSeconds=new yf("getSeconds",{signature:{args:[],returns:R.Int32},impl:e=>{const t=new Date(this.markTime);return new lf(t.getUTCSeconds())}});getTimeZoneOffset=new yf("getTimeZoneOffset",{signature:{args:[],returns:R.Int32},impl:e=>new lf(0-((e="UTC",t=new Date)=>{const r=new Date(t.toLocaleString("en-US",{timeZone:"UTC"})),n=new Date(t.toLocaleString("en-US",{timeZone:e}));return Math.round((n.getTime()-r.getTime())/6e4)})(Ch.deviceInfo.timeZone))});getWeekday=new yf("getWeekday",{signature:{args:[],returns:R.String},impl:e=>{const t=new Date(this.markTime);return new F(t.toLocaleDateString("en-US",{weekday:"long",timeZone:"UTC"}))}});getYear=new yf("getYear",{signature:{args:[],returns:R.Int32},impl:e=>{const t=new Date(this.markTime);return new lf(t.getUTCFullYear())}});toISOString=new yf("toISOString",{signature:{args:[new gf("format",R.String,N.Instance)],returns:R.String},impl:(e,t)=>{const r=new Date(this.markTime).toISOString();return t instanceof F&&"milliseconds"===t.value.toLowerCase()?new F(r):new F(r.split(".")[0]+"Z")}});toLocalTime=new yf("toLocalTime",{signature:{args:[],returns:R.Void},impl:e=>(this.markTime-=60*new Date(this.markTime).getTimezoneOffset()*1e3,B.Instance)})}function _p(e,t){const r=new RegExp(`(${t.join("|")})`,"g");return e.replace(r,(e,t,r,n)=>{const i=n[r-1],s=n[r+t.length];return i&&/[a-zA-Z0-9]/.test(i)&&s&&/[a-zA-Z0-9]/.test(s)?t:`{${t}}`})}const Ip=(e,t,r="en-US")=>t.replaceAll(/\\?\{(yy|y|MM|M|dd|d|HH|H|hh|h|mm|m|MMMM|MMM|EEEE|EEE|a)\}/g,t=>{if(t.startsWith("\\"))return t.slice(1);switch(t){case"{yy}":return`${e.getUTCFullYear()}`.slice(-2);case"{y}":return`${e.getUTCFullYear()}`;case"{MM}":return`${e.getUTCMonth()+1}`.padStart(2,"0");case"{M}":return`${e.getUTCMonth()+1}`;case"{dd}":return`${e.getUTCDate()}`.padStart(2,"0");case"{d}":return`${e.getUTCDate()}`;case"{HH}":return`${e.getUTCHours()}`.padStart(2,"0");case"{H}":return`${e.getUTCHours()}`;case"{hh}":return`${e.getUTCHours()%12||12}`.padStart(2,"0");case"{h}":return`${e.getUTCHours()%12||12}`;case"{mm}":return`${e.getUTCMinutes()}`.padStart(2,"0");case"{m}":return`${e.getUTCMinutes()}`;case"{MMMM}":return new Intl.DateTimeFormat(r,{month:"long",timeZone:"UTC"}).format(e);case"{MMM}":return new Intl.DateTimeFormat(r,{month:"short",timeZone:"UTC"}).format(e);case"{EEEE}":return new Intl.DateTimeFormat(r,{weekday:"long",timeZone:"UTC"}).format(e);case"{EEE}":return new Intl.DateTimeFormat(r,{weekday:"short",timeZone:"UTC"}).format(e);case"{a}":{const t=new Intl.DateTimeFormat(r,{hour:"numeric",hour12:!0,timeZone:"UTC"}).formatToParts(e);return t.find(e=>"dayPeriod"===e.type)?.value.toLowerCase()??""}default:return""}});class xp extends Rh{kind=R.Object;markTime;constructor(e){super("roTimespan"),this.markTime=e||performance.now(),yp().extend(wp()),yp().extend(Sp()),this.registerMethods({ifTimespan:[this.mark,this.totalMicroseconds,this.totalMilliseconds,this.totalSeconds,this.getSecondsToISO8601Date]})}resetTime(){this.markTime=performance.now()}toString(e){return"<Component: roTimespan>"}equalTo(e){return P.False}mark=new yf("mark",{signature:{args:[],returns:R.Void},impl:e=>(this.resetTime(),N.Instance)});totalMicroseconds=new yf("totalMicroseconds",{signature:{args:[],returns:R.Int32},impl:e=>new lf(Math.floor(1e3*(performance.now()-this.markTime)))});totalMilliseconds=new yf("totalMilliseconds",{signature:{args:[],returns:R.Int32},impl:e=>new lf(Math.floor(performance.now()-this.markTime))});totalSeconds=new yf("totalSeconds",{signature:{args:[],returns:R.Int32},impl:e=>new lf(Math.floor((performance.now()-this.markTime)/1e3))});getSecondsToISO8601Date=new yf("getSecondsToISO8601Date",{signature:{args:[new gf("date",R.String)],returns:R.Int32},impl:(e,t)=>{let r=2077252342;const n=Date.now(),i=yp()(t.value,wy,!0).utc(!0);return i.isValid()&&(r=Math.round((i.toDate().valueOf()-n)/1e3)),new lf(r)}})}class Ap extends Rh{kind=R.Object;constructor(){super("roAppManager"),this.registerMethods({ifAppManager:[this.getUpTime,this.getScreensaverTimeout,this.setUserSignedIn,this.setAutomaticAudioGuideEnabled,this.setNowPlayingContentMetaData,this.showChannelStoreSpringboard,this.isAppInstalled,this.launchApp,this.updateLastKeyPressTime,this.startVoiceActionSelectionRequest,this.setVoiceActionStrings,this.getLastExitInfo,this.setTheme,this.setThemeAttribute,this.clearThemeAttribute,this.getRunParams,this.getAppList,this.setDisplayDisabled]})}toString(e){return"<Component: roAppManager>"}equalTo(e){return P.False}getUpTime=new yf("getUpTime",{signature:{args:[],returns:R.Object},impl:e=>new xp(e.startTime)});getScreensaverTimeout=new yf("getScreensaverTimeout",{signature:{args:[],returns:R.Int32},impl:e=>new lf(0)});updateLastKeyPressTime=new yf("updateLastKeyPressTime",{signature:{args:[],returns:R.Void},impl:e=>(Ch.lastKeyTime=Date.now(),N.Instance)});setUserSignedIn=new yf("setUserSignedIn",{signature:{args:[new gf("signedIn",R.Boolean)],returns:R.Void},impl:(e,t)=>N.Instance});setNowPlayingContentMetaData=new yf("setNowPlayingContentMetaData",{signature:{args:[new gf("contentMetaData",R.Dynamic)],returns:R.Void},impl:(e,t)=>N.Instance});startVoiceActionSelectionRequest=new yf("startVoiceActionSelectionRequest",{signature:{args:[],returns:R.Void},impl:e=>N.Instance});setVoiceActionStrings=new yf("setVoiceActionStrings",{signature:{args:[new gf("actions",R.Object)],returns:R.Void},impl:(e,t)=>N.Instance});getLastExitInfo=new yf("getLastExitInfo",{signature:{args:[],returns:R.Object},impl:e=>{const t=Ch.deviceInfo.appList?.find(e=>e.running);return vy({exit_code:t?.exitReason??re.Unknown,media_player_state:"stopped",mem_limit:null,timestamp:t?.exitTime?new Date(t.exitTime).toISOString():null})}});setTheme=new yf("setTheme",{signature:{args:[new gf("attributeArray",R.Object)],returns:R.Void},impl:(e,t)=>N.Instance});setThemeAttribute=new yf("setThemeAttribute",{signature:{args:[new gf("attributeName",R.String),new gf("attributeValue",R.String)],returns:R.Void},impl:(e,t,r)=>N.Instance});clearThemeAttribute=new yf("clearThemeAttribute",{signature:{args:[new gf("attributeName",R.String)],returns:R.Void},impl:(e,t)=>N.Instance});isAppInstalled=new yf("isAppInstalled",{signature:{args:[new gf("channelId",R.String),new gf("version",R.String)],returns:R.Boolean},impl:(e,t,r)=>{const n=Ch.deviceInfo.appList;if(Array.isArray(n)){const e=n.find(e=>e.id===t.value);return P.from(void 0!==e&&kp(e.version,r.value)>=0)}return P.False}});launchApp=new yf("launchApp",{signature:{args:[new gf("channelId",R.String),new gf("version",R.String),new gf("params",R.Dynamic)],returns:R.Boolean},impl:(e,t,r,n)=>{const i=Ch.deviceInfo.appList;if(Array.isArray(i)){const e=i.find(e=>e.id===t.value);if(de(e)&&kp(e.version,r.value)>=0){const t=new Map;for(const[e,r]of n.elements)t.set(e.toString(),r.toString());return t.set("source","other-channel"),e.params=t,postMessage(e),P.True}}return P.False}});showChannelStoreSpringboard=new yf("showChannelStoreSpringboard",{signature:{args:[new gf("channelId",R.String)],returns:R.Boolean},impl:(e,t)=>P.False});getRunParams=new yf("getRunParams",{signature:{args:[],returns:R.Object},impl:e=>e.runParams||new If([])});getAppList=new yf("getAppList",{signature:{args:[new gf("extended",R.Boolean,P.False)],returns:R.Dynamic},impl:(e,t)=>{const r=new Mf([]),n=Ch.deviceInfo.appList;if(Array.isArray(n)){if(t.toBoolean())return Sy(n);for(const e of n){const t={id:e.id,title:e.title,version:e.version};r.elements.push(vy(t))}}return r}});setAutomaticAudioGuideEnabled=new yf("setAutomaticAudioGuideEnabled",{signature:{args:[new gf("enabled",R.Boolean)],returns:R.Void},impl:(e,t)=>N.Instance});setDisplayDisabled=new yf("setDisplayDisabled",{signature:{args:[new gf("disabled",R.Boolean)],returns:R.Void},impl:(e,t)=>(Ch.displayEnabled=!t.toBoolean(),postMessage({displayEnabled:!t.toBoolean()}),B.Instance)})}function kp(e,t){const r=function(e){let t=e.split(".");t=t.slice(0,3);const r=t.map(e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?0:t});for(;r.length<3;)r.push(0);return r.join(".")}(e).split("."),n=""===t.trim()?["0"]:t.split(".");for(let e=0;e<3;e++){const t=Number(r[e]),i=n[e]&&""!==n[e].trim()?Number(n[e]):0;if(t<i||Number.isNaN(i))return-1;if(t>i)return 1}return 0}class Tp extends Jf{id;response;status;constructor(e,t,r){super("roChannelStoreEvent"),this.id=e,this.response=t,this.status=r,this.registerMethods({ifChannelStoreEvent:[this.isRequestSucceeded,this.isRequestFailed,this.getResponse,this.getStatus,this.getStatusMessage,this.isRequestInterrupted],ifSourceIdentity:[this.getSourceIdentity]})}isRequestSucceeded=new yf("isRequestSucceeded",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(1===this.status.code)});isRequestFailed=new yf("isRequestFailed",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.status.code<0)});isRequestInterrupted=new yf("isRequestInterrupted",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(2===this.status.code)});getSourceIdentity=new yf("getSourceIdentity",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.id)});getResponse=new yf("getResponse",{signature:{args:[],returns:R.Object},impl:e=>this.response?new Mf(this.response):N.Instance});getStatus=new yf("getStatus",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.status.code)});getStatusMessage=new yf("getStatusMessage",{signature:{args:[],returns:R.String},impl:e=>new F(this.status.message)})}var Mp=__webpack_require__(1603);class Cp extends Rh{kind=R.Object;id;order;orderInfo;credData;fakeServerEnabled;port;constructor(){super("roChannelStore"),this.id=103809e3+Math.floor(100*Math.random())+1,this.order=[],this.orderInfo=N.Instance,this.credData="",this.fakeServerEnabled=!1;const e=new vd(this),t=new Sd(this);this.registerMethods({ifChannelStore:[this.getIdentity,this.getCatalog,this.getStoreCatalog,this.getPurchases,this.getAllPurchases,this.setOrder,this.clearOrder,this.deltaOrder,this.getOrder,this.doOrder,this.fakeServer,this.getUserData,this.getUserRegionData,this.getPartialUserData,this.storeChannelCredData,this.getChannelCred,this.getDeviceAttestation,this.requestPartnerOrder,this.confirmPartnerOrder,e.setMessagePort,t.getMessagePort]})}setFakeServer(e){this.fakeServerEnabled=e}setNewOrder(e){this.order.length=0,e.length>0&&this.order.push(...e)}setDeltaOrder(e,t){for(let r of this.order){const n=r.get(new F("code")),i=r.get(new F("qty"));if(n instanceof F&&n.value===e&&i instanceof lf)return void r.set(new F("qty"),new lf(i.getValue()+t))}this.order.push(vy({code:e,qty:t}))}getProductData(e,t){let r=[];return this.fakeServerEnabled&&(r=this.getFakeProductData(e),t.code=1,t.message="Items Received"),r}placeOrder(e){let t=[];e.code=1,e.message="Order Succeeded";const r=this.getFakeProductData("GetCatalog");for(let t of this.order)if(!this.isValidProductOrder(r,t)){e.code=-3,e.message="Invalid Product Order";break}if(1===e.code){const r=this.getFakeOrderData("PlaceOrder"),n=this.getFakeOrderData("CheckOrder").id;r.id!==n&&(e.code=-3,e.message="Order Mismatch"),Array.isArray(r.order)&&(t=r.order.filter(e=>e instanceof If))}return t}getAttestationToken(){return new F("eyJ4NXUiOiJodHRwczovL2V4YW1wbGUucm9rdS5jb20vc2FtcGxlY2VydCIsInR5cCI6IkpXVCIsImFsZyI6IlJTMjU2In0.eyJuYmYiOjE2NTYzNzQyNzQsIngtcm9rdS1hdHRlc3RhdGlvbi1kYXRhIjp7Im5vbmNlIjoiNUUwNjkyRTBBMzg5RjRGNiIsImNoYW5uZWxJZCI6ImRldiIsImRldmVsb3BlcklkIjoiY2FhNzNmYmI1ZTc1YTQ2YTRiNjExNGRlNTFhNWFkYTdkNjE2ZTJlZCIsInRpbWVzdGFtcE1zIjoxNjU2Mzc3ODczOTkwfSwiaXNzIjoidXJuOnJva3U6Y2xvdWQtc2VydmljZXM6ZGV2aWNlLWF0dGVzdGF0aW9uIiwiZXhwIjoxNjU2NDY0Mjc0fQ.nywDvSUys27oeaQZ3yXwNBfOnXbO-TUDuekOPZYjSssfZhNhWwRXvPLbJKHcNMR5Z0vFOQLVDFeqEVGauIMxMEke5UFLuCRxhr3ayBJJPt_BPfrEFbAvYjFEGdKkxJqYUhuFE38R8lU2k7dhO0iFxDw1Qq7W4w8_7CjmDy4YFf7IfyhV7Vf2kGiOx5C94Niw5N2td3s21F3z77Rq_bofQ51DOKIwo_cDVuvPQnDyxG-CNEydZKCZZwGPYCKEHMPrIOOXJ-S9ZjArgaEpBUpMXWJibFxnkpVUVzbC22GEaqz_SjOJXFMQU7TaCKkDeCYVKylgKwCvbvHRDlgogf7kq")}toString(e){return"<Component: roChannelStore>"}equalTo(e){return P.False}dispose(){this.port?.removeReference()}static parseChannelStoreXml(e){const t=new Mp.XmlDocument(e);return{[t.name]:Cp.elementToObject(t)}}static elementToObject(e){const t=(e.children??[]).filter(function(e){return"element"===e.type});if(0===t.length)return Cp.coerceValue(e.val??"");const r={};for(const e of t){const t=Cp.elementToObject(e),n=e.name;void 0===r[n]?r[n]=t:Array.isArray(r[n])?r[n].push(t):r[n]=[r[n],t]}return r}static coerceValue(e){const t=e.trim();if(0===t.length)return"";const r=Number(t);return!Number.isNaN(r)&&Number.isFinite(r)?r:t}getFakeProductData(e){const t=[],r=Ch.fileSystem;if(r.existsSync(`pkg:/csfake/${e}.xml`)){const n=r.readFileSync(`pkg:/csfake/${e}.xml`),i="string"==typeof n?n:n.toString();let s="";try{const e=Cp.parseChannelStoreXml(i),r=e?.result?.products?.product,n=Array.isArray(r)?r:r?[r]:[];if(n.length>0){for(const e of n)if(e&&"object"==typeof e){const r=e,n={};n.code=r.code,n.cost=r.cost,n.freeTrialQuantity=r.freeTrialQuantity,n.freeTrialType=r.freeTrialType,n.name=r.name,n.productType=r.productType,n.purchaseDate=r.purchaseDate,n.qty=r.qty,n.inDunning=r.inDunning??"false",n.isUpgrade=r.isUpgrade??"false",n.trialCost=r.trialCost??"$0.00",n.trialQuantity=r.trialQuantity??0,r.description&&(n.description=r.description),r.id&&(n.id=r.id),r.expirationDate&&(n.expirationDate=r.expirationDate),r.purchaseId&&(n.purchaseId=r.purchaseId),r.renewalDate&&(n.renewalDate=r.renewalDate),r.trialType&&(n.trialType=r.trialType),r.status&&(n.status=r.status),t.push(vy(n))}}else s="warning,Warning: Empty or invalid result when parsing Product XML."}catch(e){s=`error,Error parsing Product XML: ${e?.message??e}`}""!==s&&Ch.isDevMode&&Ch.stderr.write(s)}return t}getFakeOrderData(e){const t=Ch.fileSystem,r={id:e};if(t.existsSync(`pkg:/csfake/${e}.xml`)){const n=t.readFileSync(`pkg:/csfake/${e}.xml`),i="string"==typeof n?n:n.toString();let s="";try{const e=Cp.parseChannelStoreXml(i),t=e?.result?.order;if(t){const e=t;e.id&&(r.id=e.id);const n=(e.items??{}).orderItem,i=[];if(Array.isArray(n))for(const e of n)i.push(vy(e));else n&&i.push(vy(n));r.order=i}else s="warning,Warning: Empty or invalid result when parsing Order XML."}catch(e){s=`error,Error parsing Order XML: ${e?.message??e}`}""!==s&&Ch.isDevMode&&Ch.stderr.write(s)}return r}isValidProductOrder(e,t){const r=t.get(new F("qty"));return!(r instanceof lf&&r.getValue()<=0)&&e.some(e=>{const r=e.get(new F("code")),n=t.get(new F("code"));return r instanceof F&&n instanceof F&&r.value===n.value})}getIdentity=new yf("getIdentity",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.id)});getCatalog=new yf("getCatalog",{signature:{args:[],returns:R.Void},impl:e=>{if(this.port){const e={code:-4,message:"Empty List"},t=this.getProductData("GetCatalog",e);this.port.pushMessage(new Tp(this.id,t,e))}return N.Instance}});getStoreCatalog=new yf("getStoreCatalog",{signature:{args:[],returns:R.Void},impl:e=>{if(this.port){const e={code:-4,message:"Empty List"},t=this.getProductData("GetCatalog",e);this.port.pushMessage(new Tp(this.id,t,e))}return N.Instance}});getPurchases=new yf("getPurchases",{signature:{args:[],returns:R.Void},impl:e=>{if(this.port){const e={code:-4,message:"Empty List"},t=this.getProductData("GetPurchases",e);this.port.pushMessage(new Tp(this.id,t,e))}return N.Instance}});getAllPurchases=new yf("getAllPurchases",{signature:{args:[],returns:R.Void},impl:e=>{if(this.port){const e={code:-4,message:"Empty List"},t=this.getProductData("GetPurchases",e);this.port.pushMessage(new Tp(this.id,t,e))}return N.Instance}});setOrder=new yf("setOrder",{signature:{args:[new gf("order",R.Object),new gf("orderInfo",R.Object,N.Instance)],returns:R.Void},impl:(e,t,r)=>((t instanceof Ff||t instanceof Mf)&&(this.setNewOrder(t.getElements().filter(e=>e instanceof If)),this.order.length>0&&r instanceof If?this.orderInfo=r:this.orderInfo=N.Instance),N.Instance)});clearOrder=new yf("clearOrder",{signature:{args:[],returns:R.Void},impl:e=>(this.order.length=0,this.orderInfo=N.Instance,N.Instance)});deltaOrder=new yf("deltaOrder",{signature:{args:[new gf("code",R.String),new gf("qty",R.Int32)],returns:R.Int32},impl:(e,t,r)=>(this.setDeltaOrder(t.value,r.getValue()),new lf(this.order.length))});getOrder=new yf("getOrder",{signature:{args:[],returns:R.Object},impl:e=>new Ff(this.order)});doOrder=new yf("doOrder",{signature:{args:[],returns:R.Boolean},impl:e=>{if(!this.port)return P.False;const t={code:-3,message:"Invalid Order"};if(!this.fakeServerEnabled||0===this.order.length)return this.port.pushMessage(new Tp(this.id,[],t)),P.False;const r=this.placeOrder(t);return this.port.pushMessage(new Tp(this.id,r,t)),P.from(1===t.code)}});fakeServer=new yf("fakeServer",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Void},impl:(e,t)=>(this.fakeServerEnabled=t.toBoolean(),N.Instance)});getUserData=new yf("getUserData",{signature:{args:[],returns:R.Object},impl:e=>N.Instance});getUserRegionData=new yf("getUserRegionData",{signature:{args:[],returns:R.Object},impl:e=>vy({state:"",zip:"",country:""})});getPartialUserData=new yf("getPartialUserData",{signature:{args:[new gf("properties",R.String)],returns:R.Object},impl:(e,t)=>N.Instance});storeChannelCredData=new yf("storeChannelCredData",{signature:{args:[new gf("data",R.String)],returns:R.Object},impl:(e,t)=>(this.credData=t.value,vy({status:0}))});getChannelCred=new yf("getChannelCred",{signature:{args:[],returns:R.Object},impl:e=>{let t="",r=400;""!==this.credData&&(t=`{channel_data="${this.credData}"}`,r=0);const n=Ch.deviceInfo.appList?.find(e=>e.running);return vy({channelId:n?.id??"dev",json:t,publisherDeviceId:Ch.deviceInfo.clientId,status:r})}});getDeviceAttestation=new yf("getDeviceAttestation",{signature:{args:[new gf("nonce",R.String)],returns:R.String},impl:(e,t)=>this.getAttestationToken()});requestPartnerOrder=new yf("requestPartnerOrder",{signature:{args:[new gf("orderInfo",R.Object),new gf("productId",R.String)],returns:R.Object},impl:(e,t,r)=>vy({errorCode:-1,errorMessage:"",status:"Failure"})});confirmPartnerOrder=new yf("confirmPartnerOrder",{signature:{args:[new gf("confirmOrderInfo",R.Object),new gf("productId",R.String)],returns:R.Object},impl:(e,t,r)=>vy({errorCode:-1,errorMessage:"",status:"Failure"})})}class Rp extends Rh{kind=R.Object;port;constructor(){super("roAppMemoryMonitor");const e=new vd(this),t=new Sd(this);this.registerMethods({ifAppMemoryMonitor:[this.enableMemoryWarningEvent,this.getMemoryLimitPercent,this.getChannelAvailableMemory,this.getChannelMemoryLimit],ifSetMessagePort:[e.setMessagePort],ifGetMessagePort:[t.getMessagePort]})}toString(e){return"<Component: roAppMemoryMonitor>"}equalTo(e){return P.False}dispose(){this.port?.removeReference()}enableMemoryWarningEvent=new yf("enableMemoryWarningEvent",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>t});getMemoryLimitPercent=new yf("getMemoryLimitPercent",{signature:{args:[],returns:R.Int32},impl:e=>{const{heapSizeLimit:t,usedHeapSize:r}=e.getMemoryHeapInfo();return new lf(r/t*100)}});getChannelAvailableMemory=new yf("getChannelAvailableMemory",{signature:{args:[],returns:R.Object},impl:e=>{const{heapSizeLimit:t,usedHeapSize:r}=e.getMemoryHeapInfo();return new lf(t-r)}});getChannelMemoryLimit=new yf("getChannelMemoryLimit",{signature:{args:[],returns:R.Int32},impl:e=>{const{heapSizeLimit:t}=e.getMemoryHeapInfo();return vy({maxForegroundMemory:0,maxBackgroundMemory:0,maxRokuManagedHeapMemory:t})}})}class Dp extends Rh{kind=R.Object;supportedFlags="gims";jsRegex;constructor(e,t=new F("")){if(super("roRegex"),!gy(e)){const t=e instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch;throw new Kh(t)}if(!gy(t)){const e=t instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch;throw new Kh(e)}this.jsRegex=new RegExp(e.getValue(),this.parseFlags(t.getValue())),this.registerMethods({ifRegex:[this.isMatch,this.match,this.replace,this.replaceAll,this.split,this.matchAll]})}toString(e){return"<Component: roRegex>"}equalTo(e){return P.False}parseFlags(e){let t="";if(0===e.length)return t;for(const r of e)this.supportedFlags.includes(r)&&(t+=r);return t}parseReplacementPattern(e){return e.replace(/\\/g,"$")}isMatch=new yf("ismatch",{signature:{args:[new gf("str",R.String)],returns:R.Boolean},impl:(e,t)=>P.from(this.jsRegex.test(t.value))});match=new yf("match",{signature:{args:[new gf("str",R.String)],returns:R.Object},impl:(e,t)=>{const r=this.jsRegex.exec(t.value);let n=[];return null!==r&&(n=r.map(e=>new F(e||""))),new Mf(n)}});replace=new yf("replace",{signature:{args:[new gf("str",R.String),new gf("replacement",R.String)],returns:R.String},impl:(e,t,r)=>{let n=this.parseReplacementPattern(r.value);const i=this.jsRegex[Symbol.replace](t.value,n);return new F(i)}});replaceAll=new yf("replaceall",{signature:{args:[new gf("str",R.String),new gf("replacement",R.String)],returns:R.String},impl:(e,t,r)=>{const n=this.jsRegex.source;let i=this.jsRegex.flags;i.includes("g")||(i+="g"),this.jsRegex=new RegExp(n,i);const s=this.jsRegex[Symbol.replace](t.value,r.value);return new F(s)}});split=new yf("split",{signature:{args:[new gf("str",R.String)],returns:R.Object},impl:(e,t)=>{let r=this.jsRegex[Symbol.split](t.value).map(e=>new F(e));return new Ff(r)}});matchAll=new yf("matchall",{signature:{args:[new gf("str",R.String)],returns:R.Object},impl:(e,t)=>{const r=this.jsRegex.source;let n=this.jsRegex.flags;n.includes("g")||(n+="g"),this.jsRegex=new RegExp(r,n);let i,s=[];for(;null!==(i=this.jsRegex.exec(t.value));)s.push(new Mf(i.filter(e=>void 0!==e).map(e=>new F(e))));return new Mf(s)}})}class Op extends Rh{kind=R.Object;messageQueue;callbackQueue;callbackMap;constructor(){super("roMessagePort"),this.registerMethods({ifMessagePort:[this.waitMessage,this.getMessage,this.peekMessage]}),this.messageQueue=[],this.callbackQueue=[],this.callbackMap=new Map}pushMessage(e){this.messageQueue.push(e)}pushCallback(e){this.callbackQueue.push(e)}registerCallback(e,t){this.addReference(),this.callbackMap.set(e,t)}unregisterCallback(e){this.removeReference(),this.callbackMap.delete(e)}asyncCancel(){this.callbackQueue.length=0}toString(e){return"<Component: roMessagePort>"}equalTo(e){return P.False}wait(e,t){const r=0===t,n=t+performance.now();for(;r||performance.now()<n;){if(e.debugMode===qw.EXIT)return N.Instance;const r=this.getNextMessage();if(r instanceof Jf)return r;this.updateMessageQueue(e,t);const n=e.debugMode!==qw.NONE,i=Ch.checkBreakCommand(n);if(i===xe.BREAK||i===xe.EXIT)return i===xe.EXIT?e.debugMode=qw.EXIT:e.debugMode===qw.NONE&&(e.debugMode=qw.DEBUG),N.Instance}return N.Instance}updateMessageQueue(e,t){if(Ch.refreshExtVolume(),this.callbackMap.size>0)for(const[r,n]of this.callbackMap.entries()){const r=n(e,t);this.messageQueue.push(...r.filter(e=>e instanceof Jf))}}getNextMessage(){if(this.messageQueue.length>0)return this.messageQueue.shift();if(this.callbackQueue.length>0){const e=this.callbackQueue.shift();if("function"==typeof e)return e()}return N.Instance}waitMessage=new yf("waitMessage",{signature:{args:[new gf("timeout",R.Int32)],returns:R.Object},impl:(e,t)=>this.wait(e,t.getValue())});getMessage=new yf("getMessage",{signature:{args:[],returns:R.Dynamic},impl:e=>(this.updateMessageQueue(),this.getNextMessage())});peekMessage=new yf("peekMessage",{signature:{args:[],returns:R.Dynamic},impl:e=>{if(this.updateMessageQueue(),this.messageQueue.length>0)return this.messageQueue[0];if(this.callbackQueue.length>0){let e=this.callbackQueue[0];if(e){const t=e();if(!_y(t))return this.messageQueue.push(t),t}}return N.Instance}})}class Fp extends Rh{kind=R.Object;port;constructor(){super("roInput");const e=new vd(this,this.getNewEvents.bind(this)),t=new Sd(this);this.registerMethods({ifInput:[this.enableTransportEvents,this.eventResponse,e.setMessagePort,t.getMessagePort]})}toString(e){return"<Component: roInput>"}equalTo(e){return P.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[];if(Atomics.load(Ch.sharedArray,ne.BUF)===Te.INPUT){const t=Ch.readDataBuffer();try{const r=JSON.parse(t);e.push(new ty(vy(r)))}catch(e){Ch.isDevMode&&Ch.stdout.write(`warning,[roSystemLog] Error parsing Input buffer: ${e.message}`)}}return e}enableTransportEvents=new yf("enableTransportEvents",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});eventResponse=new yf("eventResponse",{signature:{args:[new gf("aa",R.Object)],returns:R.Boolean},impl:(e,t)=>P.False})}class Pp extends Rh{kind=R.Object;validEvents=["bandwidth.minute","http.connect","http.complete","http.error"];enabledEvents=[];port;constructor(){super("roSystemLog");const e=new vd(this,this.getNewEvents.bind(this)),t=new Sd(this);this.registerMethods({ifSystemLog:[this.enableType,e.setMessagePort,t.getMessagePort]})}toString(e){return"<Component: roSystemLog>"}equalTo(e){return P.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[];if(this.enabledEvents.includes("bandwidth.minute")){const t=Atomics.load(Ch.sharedArray,ne.MBWD);t>0&&(Atomics.store(Ch.sharedArray,ne.MBWD,-1),e.push(new iy("bandwidth.minute",t)))}if(Atomics.load(Ch.sharedArray,ne.BUF)===Te.SYS_LOG){const t=Ch.readDataBuffer();try{const r=JSON.parse(t);"string"==typeof r.type&&this.enabledEvents.includes(r.type)&&e.push(new iy(r.type,r))}catch(e){Ch.isDevMode&&Ch.stdout.write(`warning,[roSystemLog] Error parsing System Log buffer: ${e.message}`)}}return e}enableType=new yf("enableType",{signature:{args:[new gf("logType",R.String)],returns:R.Void},impl:(e,t)=>(this.validEvents.includes(t.value)&&!this.enabledEvents.includes(t.value)&&(this.enabledEvents.push(t.value),postMessage(`syslog,${t.value}`)),N.Instance)})}class Np extends Rh{kind=R.Object;family;size;bold;italic;metrics;canvas;constructor(e,t,r,n,i){super("roFont"),this.family=e.value,this.size=t.getValue(),this.bold=r.toBoolean(),this.italic=n.toBoolean(),this.metrics=i,this.registerMethods({ifFont:[this.getOneLineHeight,this.getOneLineWidth,this.getAscent,this.getDescent,this.getMaxAdvance]}),this.canvas=Ag().canvas}measureTextHeight(){return Math.round(this.metrics.lineHeight*this.size)}measureTextWidth(e,t,r){const n=this.canvas.getContext("2d",{alpha:!1});n.font=this.toFontString(),n.textBaseline="top";let i=n.measureText(e),s=t?Math.min(i.width,t):i.width,a=e,o=!1;if(r&&t&&i.width>t){let i=n.measureText(r).width,c=e;for(;n.measureText(c).width+i>t&&c.length>0;)c=c.slice(0,-1);a=c+r,s=n.measureText(a).width,o=!0}return{width:Math.round(s),text:a,ellipsized:o}}measureText(e,t,r){let{width:n,text:i,ellipsized:s}=this.measureTextWidth(e,t,r);return{width:n,height:this.measureTextHeight(),text:i,ellipsized:s}}getTopAdjust(){return(this.metrics.lineHeight*this.size-Math.max(this.metrics.ascent*this.size,this.size))/2}toFontString(){return`${this.italic?"italic":""} ${this.bold?"bold":""} ${this.size}px '${this.family}'`}toString(e){return"<Component: roFont>"}equalTo(e){return P.False}getOneLineHeight=new yf("getOneLineHeight",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.measureTextHeight())});getOneLineWidth=new yf("getOneLineWidth",{signature:{args:[new gf("text",R.String),new gf("maxWidth",R.Int32)],returns:R.Int32},impl:(e,t,r)=>{let{width:n}=this.measureTextWidth(t.value,r.getValue());return new lf(n)}});getAscent=new yf("getAscent",{signature:{args:[],returns:R.Int32},impl:e=>new lf(Math.round(this.metrics.ascent*this.size))});getDescent=new yf("getDescent",{signature:{args:[],returns:R.Int32},impl:e=>new lf(Math.round(this.metrics.descent*this.size))});getMaxAdvance=new yf("getMaxAdvance",{signature:{args:[],returns:R.Int32},impl:e=>new lf(Math.round(this.metrics.maxAdvance*this.size))})}function Bp(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Lp(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new Bp,this.dtree=new Bp}var Up=new Bp,Vp=new Bp,jp=new Uint8Array(30),zp=new Uint16Array(30),$p=new Uint8Array(30),qp=new Uint16Array(30),Gp=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Wp=new Bp,Hp=new Uint8Array(320);function Xp(e,t,r,n){var i,s;for(i=0;i<r;++i)e[i]=0;for(i=0;i<30-r;++i)e[i+r]=i/r|0;for(s=n,i=0;i<30;++i)t[i]=s,s+=1<<e[i]}var Yp=new Uint16Array(16);function Kp(e,t,r,n){var i,s;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<n;++i)e.table[t[r+i]]++;for(e.table[0]=0,s=0,i=0;i<16;++i)Yp[i]=s,s+=e.table[i];for(i=0;i<n;++i)t[r+i]&&(e.trans[Yp[t[r+i]]++]=i)}function Zp(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function Jp(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function Qp(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=0,n=0,i=0,s=e.tag;do{n=2*n+(1&s),s>>>=1,++i,r+=t.table[i],n-=t.table[i]}while(n>=0);return e.tag=s,e.bitcount-=i,t.trans[r+n]}function eg(e,t,r){var n,i,s,a,o,c;for(n=Jp(e,5,257),i=Jp(e,5,1),s=Jp(e,4,4),a=0;a<19;++a)Hp[a]=0;for(a=0;a<s;++a){var u=Jp(e,3,0);Hp[Gp[a]]=u}for(Kp(Wp,Hp,0,19),o=0;o<n+i;){var l=Qp(e,Wp);switch(l){case 16:var h=Hp[o-1];for(c=Jp(e,2,3);c;--c)Hp[o++]=h;break;case 17:for(c=Jp(e,3,3);c;--c)Hp[o++]=0;break;case 18:for(c=Jp(e,7,11);c;--c)Hp[o++]=0;break;default:Hp[o++]=l}}Kp(t,Hp,0,n),Kp(r,Hp,n,i)}function tg(e,t,r){for(;;){var n,i,s,a,o=Qp(e,t);if(256===o)return 0;if(o<256)e.dest[e.destLen++]=o;else for(n=Jp(e,jp[o-=257],zp[o]),i=Qp(e,r),a=s=e.destLen-Jp(e,$p[i],qp[i]);a<s+n;++a)e.dest[e.destLen++]=e.dest[a]}}function rg(e){for(var t,r;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}!function(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}(Up,Vp),Xp(jp,zp,4,3),Xp($p,qp,2,1),jp[28]=0,zp[28]=258;var ng=class{constructor(){this.tables={},this.names={},this.ascender=null,this.descender=null,this.unitsPerEm=null}};function ig(e,t){let r="";for(let n=0;n<4;n+=1)r+=String.fromCharCode(e.getInt8(t+n));return r}function sg(e,t){return e.getUint16(t,!1)}function ag(e,t){return e.getUint32(t,!1)}var og=class{constructor(e,t){this.data=e,this.offset=t,this.relativeOffset=0}parseUShort(){const e=this.data.getUint16(this.offset+this.relativeOffset,!1);return this.relativeOffset+=2,e}parseULong(){const e=this.data.getUint32(this.offset+this.relativeOffset,!1);return this.relativeOffset+=4,e}parseShort(){const e=this.data.getInt16(this.offset+this.relativeOffset,!1);return this.relativeOffset+=2,e}parseFixed(){const e=(t=this.data,r=this.offset+this.relativeOffset,t.getInt16(r,!1)+t.getUint16(r+2,!1)/65536);var t,r;return this.relativeOffset+=4,e}parseVersion(e=4096){return this.parseUShort()+this.parseUShort()/e/10}parseLongDateTime(){return this.parseULong(),this.parseULong()-2082844800}parseString(e){let t="";const r=this.offset+this.relativeOffset;for(let n=0;n<e;n+=1)t+=String.fromCharCode(this.data.getUint8(r+n));return this.relativeOffset+=e,t}},cg=function(e,t){const r={},n=new og(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(1e3*n.parseFixed())/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),function(e){if(!e)throw new Error("Font header has wrong magic number.")}(1594834165===r.magicNumber),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r},ug=function(e,t){const r={},n=new og(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r},lg=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],hg={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},fg={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},dg={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},pg="utf-16",gg={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},mg={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"},yg={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};function bg(e,t,r,n,i,s){const a=function(e,t,r){if(0===e)return pg;if(3===e&&(1===t||10===t))return pg;if(1===e){const e=mg[r];if(e)return e;const n=gg[t]?t:fg[r];if(void 0===n)return;return gg[n]}}(n,i,s);if(a)return a===pg?function(e,t,r){const n=[],i=r/2;for(let r=0;r<i;r+=1)n.push(e.getUint16(t+2*r,!1));return String.fromCharCode(...n)}(e,t,r):function(e,t,r,n){const i=yg[n];if(!i)return;let s="";for(let n=0;n<r;n+=1){const r=e.getUint8(t+n);s+=r<=127?String.fromCharCode(r):i[127&r]}return s}(e,t,r,a)}function wg(e){return`0x${e.toString(16).padStart(4,"0")}`}function vg(e,t){return 3===e?dg[t]:1===e?hg[t]:0===e?"und":void 0}function Sg(e,t){const r=[];let n=12;for(let i=0;i<t;i+=1){const t=ig(e,n),i=ag(e,n+4),s=ag(e,n+8),a=ag(e,n+12);r.push({tag:t,checksum:i,offset:s,length:a,compression:!1}),n+=16}return r}function Eg(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};const r=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),n=new Uint8Array(t.length);return function(e,t){var r,n,i=new Lp(e,t);do{switch(r=Zp(i),Jp(i,2,0)){case 0:n=rg(i);break;case 1:n=tg(i,Up,Vp);break;case 2:eg(i,i.ltree,i.dtree),n=tg(i,i.ltree,i.dtree);break;default:n=-3}if(0!==n)throw new Error("Data error")}while(!r);i.destLen<i.dest.length?"function"==typeof i.dest.slice?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest}(r,n),{data:new DataView(n.buffer),offset:0}}let _g,Ig;class xg extends Rh{kind=R.Object;canvas;fontsConfig;defaultFontSize=40;fallbackFontFamily="Arial, Helvetica, sans-serif";defaultFontFamilies;fontRegistry;fontPaths;constructor(){super("roFontRegistry"),this.registerMethods({ifFontRegistry:[this.register,this.getFamilies,this.getFont,this.getDefaultFont,this.getDefaultFontSize]}),this.fontRegistry=new Map,this.fontPaths=new Map;const e=Ch.fileSystem.readFileSync("common:/fonts/default-fonts.json","utf-8");this.fontsConfig=JSON.parse(e),this.defaultFontFamilies={regular:this.registerFont(`common:/Fonts/${this.fontsConfig.default.regular}`,!0),bold:this.registerFont(`common:/Fonts/${this.fontsConfig.default.bold}`,!0),italic:this.registerFont(`common:/Fonts/${this.fontsConfig.default.italic}`,!0),boldItalic:this.registerFont(`common:/Fonts/${this.fontsConfig.default.boldItalic}`,!0)},this.canvas=zd(10,10)}toString(e){return"<Component: roFontRegistry>"}equalTo(e){return P.False}count(){return this.fontRegistry.size}dispose(){$d(this.canvas)}createFont(e,t,r,n){const i=this.fontRegistry.get(e.value);if(i){const s=r.toBoolean()?"bold":"normal",a=n.toBoolean()?["italic","oblique"]:["normal"];let o;return i.some(e=>!(e.weight!==s||!a.includes(e.style)||(o=e,0))),o?new Np(e,t,r,n,o):(o=i[0],new Np(e,t,P.from("bold"===o.weight),P.from(["italic","oblique"].includes(o.style)),o))}if(e.value===this.getDefaultFontFamily(r.toBoolean(),n.toBoolean())){e=new F(this.fallbackFontFamily);let i={ascent:1.06884765625,descent:.29296875,maxAdvance:1.208984375,lineHeight:1.36181640625,style:r.toBoolean()?"bold":"normal",weight:n.toBoolean()?"italic":"normal"};return new Np(e,t,r,n,i)}return N.Instance}getDefaultFontFamily(e,t){return e&&t?this.defaultFontFamilies.boldItalic:e?this.defaultFontFamilies.bold:t?this.defaultFontFamilies.italic:this.defaultFontFamilies.regular}getFontFamily(e){return this.fontPaths.get(e)??this.registerFont(e,!0)}registerFont(e,t=!1){try{const r=Ch.fileSystem;if(this.fontPaths.has(e))return this.fontPaths.get(e);if(!xh(e)||!r.existsSync(e))return Ch.isDevMode&&Ch.stderr.write(`warning,Font file not found: ${e}`),this.fontPaths.set(e,""),"";const n=Ch.fileSystem.readFileSync(e),i=function(e){const t=new ng,r=new DataView(function(e){return e instanceof ArrayBuffer?e:ArrayBuffer.isView(e)||e&&e.buffer instanceof ArrayBuffer?e.buffer:new Uint8Array(e).buffer}(e)),n=ig(r,0);let i,s,a,o=[],c=0;if(n===String.fromCharCode(0,1,0,0)||"true"===n||"typ1"===n)c=sg(r,4),o=Sg(r,c);else if("OTTO"===n)c=sg(r,4),o=Sg(r,c);else{if("wOFF"!==n)throw new Error("Unsupported OpenType signature "+n);{const e=ig(r,4);if(e!==String.fromCharCode(0,1,0,0)&&"OTTO"!==e)throw new Error("Unsupported OpenType flavor "+e);c=sg(r,12),o=function(e,t){const r=[];let n=44;for(let i=0;i<t;i+=1){const t=ig(e,n),i=ag(e,n+4),s=ag(e,n+8),a=ag(e,n+12),o=s<a&&"WOFF";r.push({tag:t,offset:i,length:a,compression:o,compressedLength:s}),n+=20}return r}(r,c)}}for(let e=0;e<o.length;e+=1){const n=o[e];if("head"===n.tag){const e=Eg(r,n);i=cg(e.data,e.offset),t.tables.head=i,t.unitsPerEm=i.unitsPerEm}else if("hhea"===n.tag){const e=Eg(r,n);s=ug(e.data,e.offset),t.tables.hhea=s,t.ascender=s.ascender,t.descender=s.descender}else"name"===n.tag&&(a=n)}if(!t.tables.head||!t.tables.hhea)throw new Error("Font is missing required head or hhea tables.");if(a){const e=Eg(r,a);t.names=function(e,t){const r={},n=new og(e,t),i=n.parseUShort(),s=n.parseUShort(),a=t+n.parseUShort();if(1===i)n.parseUShort(),n.parseUShort();else if(0!==i)throw new Error(`Unsupported name table format ${i}`);for(let t=0;t<s;t+=1){const t=n.parseUShort(),i=n.parseUShort(),s=n.parseUShort(),o=n.parseUShort(),c=n.parseUShort(),u=bg(e,a+n.parseUShort(),c,t,i,s);if(!u)continue;const l=lg[o]||o,h=vg(t,s)||wg(s);r[l]||(r[l]={}),r[l][h]=u}return r}(e.data,e.offset)}return t}(n.buffer);if(void 0===i?.names||"number"!=typeof i.ascender||"number"!=typeof i.descender||"number"!=typeof i.unitsPerEm||void 0===i.tables?.head||void 0===i.tables?.hhea)return Ch.isDevMode&&Ch.stderr.write(`warning,Error parsing font file: ${e}`),"";const s={ascent:i.ascender/i.unitsPerEm,descent:Math.abs(i.descender/i.unitsPerEm),maxAdvance:i.tables.hhea.advanceWidthMax/i.unitsPerEm,lineHeight:(i.ascender-i.descender+i.tables.hhea.lineGap)/i.unitsPerEm,style:2&i.tables.head.macStyle?"italic":"normal",weight:1&i.tables.head.macStyle?"bold":"normal"},a=t?i.names.fullName?.en:i.names.fontFamily?.en;if(!a)return Ch.isDevMode&&Ch.stderr.write(`warning,Error retrieving font family from file: ${e}`),"";if("undefined"!=typeof FontFace){const e=new FontFace(a,n,{weight:s.weight,style:s.style});self.fonts.add(e)}const o=this.fontRegistry.get(a);return o?o.push(s):this.fontRegistry.set(a,[s]),this.fontPaths.set(e,a),a}catch(t){return Ch.isDevMode&&Ch.stderr.write(`warning,Error loading font:${e} - ${t.message}`),this.fontPaths.set(e,""),""}}register=new yf("register",{signature:{args:[new gf("fontPath",R.String)],returns:R.Boolean},impl:(e,t)=>P.from(""!==this.registerFont(t.value))});getFamilies=new yf("getFamilies",{signature:{args:[],returns:R.Object},impl:e=>{const t=[];for(const e of this.fontRegistry.keys())t.push(new F(e));return new Mf(t)}});getFont=new yf("getFont",{signature:{args:[new gf("family",R.String),new gf("size",R.Int32),new gf("bold",R.Boolean),new gf("italic",R.Boolean)],returns:R.Object},impl:(e,t,r,n,i)=>this.createFont(t,r,n,i)});getDefaultFont=new yf("getDefaultFont",{signature:{args:[new gf("size",R.Int32,new lf(this.defaultFontSize)),new gf("bold",R.Boolean,P.False),new gf("italic",R.Boolean,P.False)],returns:R.Object},impl:(e,t,r,n)=>{const i=new F(this.getDefaultFontFamily(r.toBoolean(),n.toBoolean()));return this.createFont(i,t,r,n)}});getDefaultFontSize=new yf("getDefaultFontSize",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.defaultFontSize)})}function Ag(){return _g||(_g=new xg),_g}class kg extends Jf{id;state;uri;bmp;constructor(e,t){super("roTextureRequestEvent"),this.id=e.identity,this.state=e.state,this.uri=e.uri,this.bmp=t,this.registerMethods({ifTextureRequestEvent:[this.getId,this.getState,this.getURI,this.getBitmap]})}getValue(){return this.uri}getId=new yf("getId",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.id)});getState=new yf("getState",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.state)});getURI=new yf("getURI",{signature:{args:[],returns:R.String},impl:e=>new F(this.uri)});getBitmap=new yf("getBitmap",{signature:{args:[],returns:R.Object},impl:e=>this.bmp})}class Tg extends Rh{kind=R.Object;textures;brsFS=Ch.fileSystem;requests;port;customHeaders;cookiesEnabled;certificatesFile;constructor(){super("roTextureManager"),this.cookiesEnabled=!1,this.certificatesFile=W,this.requests=new Map,this.textures=new Map,this.customHeaders=new Map;const e=new ep(this),t=new vd(this,this.getNewEvents.bind(this)),r=new Sd(this);this.registerMethods({ifTextureManager:[this.requestTexture,this.cancelRequest,this.unloadBitmap,this.cleanup],ifHttpAgent:[e.addHeader,e.setHeaders,e.initClientCertificates,e.setCertificatesFile,e.setCertificatesDepth,e.enableCookies,e.getCookies,e.addCookies,e.clearCookies],ifSetMessagePort:[t.setMessagePort,t.setPort],ifGetMessagePort:[r.getMessagePort,r.getPort]}),this.brsFS.subscribeUmount("roTextureManager",this.volumeUnmounted.bind(this))}toString(e){return"<Component: roTextureManager>"}equalTo(e){return P.False}count(){return this.textures.size}dispose(){this.textures.clear(),this.port?.removeReference()}getNewEvents(){const e=[];for(let t of this.requests.values())e.push(this.createEvent(t)),this.requests.delete(t.identity);return e}createEvent(e){let t=this.loadTexture(e.uri);if(t?.isValid()&&e.size&&e.size.width>0&&e.size.height>0&&(e.size.width!==t.width||e.size.height!==t.height)){const r=vy(e.size),n=new bd(r);Ud(t,n,e.scaleMode),t=n}return e.state=t?.isValid()?Cg.Ready:Cg.Failed,new kg(e,t??N.Instance)}volumeUnmounted(e){for(const t of this.textures.keys())`${t.split(":/")[0]}:`===e&&this.textures.delete(t)}loadTexture(e,t){const r=this.textures.get(e);if(r)return r;let n;if(n=e.startsWith("http")?Qf(Ch.getCORSProxy(e),"arraybuffer",t??this.customHeaders,this.cookiesEnabled):this.loadLocalFile(e),n){const t=new bd(n,e);if(t instanceof bd&&t.isValid())return this.textures.set(e,t),t}}resizeTexture(e,t,r){if(e.isValid()&&t>0&&r>0&&(t!==e.width||r!==e.height)){const n=vy({width:t,height:r}),i=new bd(n);return Ud(e,i,1),i}return e}loadLocalFile(e){try{const t=Ch.fileSystem;let r=e;if(e.startsWith("pkg:/locale/images/")&&!t.existsSync(e)){const n=Ch.deviceInfo.locale,i=e.substring(19);t.existsSync(`pkg:/locale/${n}/images/${i}`)?r=`pkg:/locale/${n}/images/${i}`:t.existsSync(`pkg:/locale/default/images/${i}`)?r=`pkg:/locale/default/images/${i}`:t.existsSync(`pkg:/locale/en_US/images/${i}`)&&(r=`pkg:/locale/en_US/images/${i}`)}return t.readFileSync(r)}catch(t){Ch.isDevMode&&Ch.stderr.write(`warning,[roTextureManager] Error requesting texture ${e}: ${t.message}`)}}requestTexture=new yf("requestTexture",{signature:{args:[new gf("req",R.Object)],returns:R.Void},impl:(e,t)=>t instanceof Dg?(xh(t.uri)?t.async?this.requests.set(t.identity,t):this.port&&this.port.pushMessage(this.createEvent(t)):(Ch.stderr.write(`warning,*** ERROR: Missing or invalid PHY: '${t.uri}'`),t.state=Cg.Failed,this.port?.pushMessage(new kg(t,N.Instance))),B.Instance):B.Instance});cancelRequest=new yf("cancelRequest",{signature:{args:[new gf("req",R.Object)],returns:R.Void},impl:(e,t)=>(t instanceof Dg&&this.requests.has(t.identity)&&(t.state=Cg.Cancelled,this.requests.delete(t.identity)),B.Instance)});unloadBitmap=new yf("unloadBitmap",{signature:{args:[new gf("url",R.String)],returns:R.Void},impl:(e,t)=>(this.textures.delete(t.value),B.Instance)});cleanup=new yf("cleanup",{signature:{args:[],returns:R.Void},impl:e=>(this.textures.clear(),B.Instance)})}function Mg(){return Ig||(Ig=new Tg),Ig}var Cg;!function(e){e[e.Requested=0]="Requested",e[e.Downloading=1]="Downloading",e[e.Downloaded=2]="Downloaded",e[e.Ready=3]="Ready",e[e.Failed=4]="Failed",e[e.Cancelled=5]="Cancelled"}(Cg||(Cg={}));let Rg=1;class Dg extends Rh{kind=R.Object;identity;uri;async;state;scaleMode;size;customHeaders;cookiesEnabled;certificatesFile;constructor(e){if(super("roTextureRequest"),this.identity=Rg++,!gy(e)){const t=e instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch;throw new Kh(t)}this.uri=e.getValue(),this.async=!0,this.state=Cg.Requested,this.scaleMode=0,this.cookiesEnabled=!1,this.certificatesFile=W,this.customHeaders=new Map;const t=new ep(this);this.registerMethods({ifTextureRequest:[this.getId,this.getState,this.setAsync,this.setSize,this.setScaleMode],ifHttpAgent:[t.addHeader,t.setHeaders,t.initClientCertificates,t.setCertificatesFile,t.setCertificatesDepth,t.enableCookies,t.getCookies,t.addCookies,t.clearCookies]})}toString(e){return"<Component: roTextureRequest>"}equalTo(e){return P.False}getId=new yf("getId",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.identity)});getState=new yf("getState",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.state)});setAsync=new yf("setAsync",{signature:{args:[new gf("async",R.Boolean)],returns:R.Void},impl:(e,t)=>(this.async=t.toBoolean(),B.Instance)});setSize=new yf("setSize",{signature:{args:[new gf("width",R.Int32),new gf("height",R.Int32)],returns:R.Void},impl:(e,t,r)=>(this.size={width:t.getValue(),height:r.getValue()},B.Instance)});setScaleMode=new yf("setScaleMode",{signature:{args:[new gf("mode",R.Int32)],returns:R.Void},impl:(e,t)=>(this.scaleMode=t.getValue()?1:0,B.Instance)})}const Og={exif:new Map([[1,"InteroperabilityIndex"],[2,"InteroperabilityVersion"],[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[290,"GrayResponseUnit"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[296,"ResolutionUnit"],[297,"PageNumber"],[300,"ColorResponseUnit"],[301,"TransferFunction"],[305,"Software"],[306,"DateTime"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[320,"ColorMap"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[332,"InkSet"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[337,"TargetPrinter"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[559,"StripRowCounts"],[700,"ApplicationNotes"],[999,"USPTOMiscellaneous"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"],[18246,"Rating"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[18249,"RatingPercent"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33432,"Copyright"],[33434,"ExposureTime"],[33437,"FNumber"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33550,"PixelScale"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33723,"IPTC-NAA"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33920,"IntergraphMatrix"],[33921,"INGRReserved"],[33922,"ModelTiePoint"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34118,"SEMInfo"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34264,"ModelTransform"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34377,"PhotoshopSettings"],[34665,"ExifOffset"],[34675,"ICC_Profile"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34853,"GPSInfo"],[34855,"ISOSpeedRatings"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34954,"LeafSubIFD"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureBiasValue"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"PixelXDimension"],[40963,"PixelYDimension"],[40964,"RelatedSoundFile"],[40965,"InteropOffset"],[41483,"FlashEnergy"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41494,"TIFF-EPStandardID"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41995,"DeviceSettingDescription"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42038,"Title"],[42039,"Photographer"],[42040,"ImageEditor"],[42041,"CameraFirmware"],[42042,"RAWDevelopingSoftware"],[42043,"ImageEditingSoftware"],[42044,"MetadataEditingSoftware"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[42240,"Gamma"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50341,"PrintIM"],[50560,"USPTOOriginalContentType"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50733,"BayerGreenSplit"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50736,"DNGLensInfo"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[50741,"MakerNoteSafety"],[50752,"RawImageSegmentation"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50780,"BestQualityScale"],[50781,"RawDataUniqueID"],[50784,"AliasLayerMetadata"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50935,"NoiseReductionApplied"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"],[51125,"DefaultUserCrop"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65024,"KDC_IFD"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"]]),gps:new Map([[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]])};var Fg,Pg,Ng,Bg,Lg,Ug,Vg,jg,zg,$g,qg,Gg,Wg,Hg,Xg,Yg,Kg,Zg,Jg,Qg,em,tm,rm,nm,im;!function(e){e[e.Image=1]="Image",e[e.Thumbnail=2]="Thumbnail",e[e.GPS=3]="GPS",e[e.Interop=4]="Interop",e[e.EXIF=5]="EXIF"}(Fg||(Fg={})),function(e){e[e.None=1]="None",e[e.Inch=2]="Inch",e[e.Centimeter=3]="Centimeter"}(Pg||(Pg={})),function(e){e[e.Normal=0]="Normal",e[e.Soft=1]="Soft",e[e.Hard=2]="Hard"}(Ng||(Ng={})),function(e){e[e.Unknown=0]="Unknown",e[e.Daylight=1]="Daylight",e[e.Fluorescent=2]="Fluorescent",e[e["Tungsten incandescent light"]=3]="Tungsten incandescent light",e[e.Flash=4]="Flash",e[e["Fine weather"]=9]="Fine weather",e[e["Cloudy weather"]=10]="Cloudy weather",e[e.Shade=11]="Shade",e[e["Daylight fluorescent"]=12]="Daylight fluorescent",e[e["Day white fluorescent"]=13]="Day white fluorescent",e[e["Cool white fluorescent"]=14]="Cool white fluorescent",e[e["White fluorescent"]=15]="White fluorescent",e[e["Standard light A"]=17]="Standard light A",e[e["Standard light B"]=18]="Standard light B",e[e["Standard light C"]=19]="Standard light C",e[e.D55=20]="D55",e[e.D65=21]="D65",e[e.D75=22]="D75",e[e["ISO studio tungsten"]=24]="ISO studio tungsten",e[e.Other=255]="Other"}(Bg||(Bg={})),function(e){e[e["Not defined"]=1]="Not defined",e[e["One-chip color area sensor"]=2]="One-chip color area sensor",e[e["Two-chip color area sensor"]=3]="Two-chip color area sensor",e[e["Three-chip color area sensor"]=4]="Three-chip color area sensor",e[e["Color sequential area sensor"]=5]="Color sequential area sensor",e[e["Trilinear sensor"]=7]="Trilinear sensor",e[e["Color sequential linear sensor"]=8]="Color sequential linear sensor"}(Lg||(Lg={})),function(e){e[e.Unknown=0]="Unknown",e[e.Average=1]="Average",e[e["Center-weighted average"]=2]="Center-weighted average",e[e.Spot=3]="Spot",e[e["Multi spot"]=4]="Multi spot",e[e.Pattern=5]="Pattern",e[e.Partial=6]="Partial",e[e.Other=255]="Other"}(Ug||(Ug={})),function(e){e[e.sRGB=1]="sRGB",e[e["Adobe RGB"]=2]="Adobe RGB",e[e.Uncalibrated=65535]="Uncalibrated"}(Vg||(Vg={})),function(e){e[e.Unknown=0]="Unknown",e[e["No a composite image"]=1]="No a composite image",e[e["General composite image"]=2]="General composite image",e[e["Composite image captured while shooting"]=3]="Composite image captured while shooting"}(jg||(jg={})),function(e){e[e["Top-left"]=1]="Top-left",e[e["Top-right"]=2]="Top-right",e[e["Bottom-right"]=3]="Bottom-right",e[e["Bottom-left"]=4]="Bottom-left",e[e["Left-top"]=5]="Left-top",e[e["Right-top"]=6]="Right-top",e[e["Right-bottom"]=7]="Right-bottom",e[e["Left-bottom"]=8]="Left-bottom"}(zg||(zg={})),function(e){e[e["Auto exposure"]=0]="Auto exposure",e[e["Manual exposure"]=1]="Manual exposure",e[e["Auto bracket"]=2]="Auto bracket"}($g||($g={})),function(e){e[e["Not defined"]=0]="Not defined",e[e.Manual=1]="Manual",e[e["Normal program"]=2]="Normal program",e[e["Aperture priority"]=3]="Aperture priority",e[e["Shutter priority"]=4]="Shutter priority",e[e["Creative program (biased toward depth of field)"]=5]="Creative program (biased toward depth of field)",e[e["Creative program (biased toward fast shutter speed)"]=6]="Creative program (biased toward fast shutter speed)",e[e["Portrait mode (for closeup photos with the background out of focus)"]=7]="Portrait mode (for closeup photos with the background out of focus)",e[e["Landscape mode (for landscape photos with the background in focus)"]=8]="Landscape mode (for landscape photos with the background in focus)"}(qg||(qg={})),function(e){e[e.Unknown=0]="Unknown",e[e["Standard output sensitivity (SOS)"]=1]="Standard output sensitivity (SOS)",e[e["Recommended exposure index (REI)"]=2]="Recommended exposure index (REI)",e[e["ISO speed"]=3]="ISO speed",e[e["Standard output sensitivity (SOS) and recommended exposure index (REI)"]=4]="Standard output sensitivity (SOS) and recommended exposure index (REI)",e[e["Standard output sensitivity (SOS) and ISO speed"]=5]="Standard output sensitivity (SOS) and ISO speed",e[e["Recommended exposure index (REI) and ISO speed"]=6]="Recommended exposure index (REI) and ISO speed",e[e["Standard output sensitivity (SOS) and recommended exposure index (REI) and ISO speed"]=7]="Standard output sensitivity (SOS) and recommended exposure index (REI) and ISO speed"}(Gg||(Gg={})),function(e){e[e["Auto white balance"]=0]="Auto white balance",e[e["Manual white balance"]=1]="Manual white balance"}(Wg||(Wg={})),function(e){e[e.Normal=0]="Normal",e[e["Low gain up"]=1]="Low gain up",e[e["High gain Up"]=2]="High gain Up",e[e["Low gain down"]=3]="Low gain down",e[e["High gain down"]=4]="High gain down"}(Hg||(Hg={})),function(e){e[e["Normal process"]=0]="Normal process",e[e["Custom process"]=1]="Custom process"}(Xg||(Xg={})),function(e){e[e.Uncompressed=1]="Uncompressed",e[e["CCITT 1D"]=2]="CCITT 1D",e[e["T4/Group 3 Fax"]=3]="T4/Group 3 Fax",e[e["T6/Group 4 Fax"]=4]="T6/Group 4 Fax",e[e["LZW compression"]=5]="LZW compression",e[e["JPEG compression"]=6]="JPEG compression",e[e["JPEG compression (new)"]=7]="JPEG compression (new)",e[e["Deflate/ZIP compression"]=8]="Deflate/ZIP compression",e[e["JBIG B&W"]=9]="JBIG B&W",e[e["JBIG Color"]=10]="JBIG Color",e[e.JPEG=99]="JPEG",e[e.Next=32766]="Next",e[e["Sony ARW Compressed"]=32767]="Sony ARW Compressed",e[e["Packed RAW"]=32769]="Packed RAW",e[e["Samsung SRW Compressed"]=32770]="Samsung SRW Compressed",e[e.CCIRLEW=32771]="CCIRLEW",e[e["Samsung SRW Compressed 2"]=32772]="Samsung SRW Compressed 2",e[e["PackBits compression"]=32773]="PackBits compression",e[e.Thunderscan=32809]="Thunderscan",e[e["Kodak KDC Compressed"]=32867]="Kodak KDC Compressed",e[e.IT8CTPAD=32895]="IT8CTPAD",e[e.IT8LW=32896]="IT8LW",e[e.IT8MP=32897]="IT8MP",e[e.IT8BL=32898]="IT8BL",e[e.PixarFilm=32908]="PixarFilm",e[e.PixarLog=32909]="PixarLog",e[e.Deflate=32946]="Deflate",e[e.DCS=32947]="DCS",e[e["Aperio JPEG 2000 YCbCr"]=33003]="Aperio JPEG 2000 YCbCr",e[e["Aperio JPEG 2000 RGB"]=33005]="Aperio JPEG 2000 RGB",e[e.JBIG=34661]="JBIG",e[e.SGILog=34676]="SGILog",e[e.SGILog24=34677]="SGILog24",e[e["JPEG 2000"]=34712]="JPEG 2000",e[e["Nikon NEF Compressed"]=34713]="Nikon NEF Compressed",e[e["JBIG2 TIFF FX"]=34715]="JBIG2 TIFF FX",e[e["Microsoft Document Imaging (MDI) Binary Level Codec"]=34718]="Microsoft Document Imaging (MDI) Binary Level Codec",e[e["Microsoft Document Imaging (MDI) Progressive Transform Codec"]=34719]="Microsoft Document Imaging (MDI) Progressive Transform Codec",e[e["Microsoft Document Imaging (MDI) Vector"]=34720]="Microsoft Document Imaging (MDI) Vector",e[e["ESRI Lerc"]=34887]="ESRI Lerc",e[e["Lossy JPEG"]=34892]="Lossy JPEG",e[e.LZMA2=34925]="LZMA2",e[e.Zstd=34926]="Zstd",e[e.WebP=34927]="WebP",e[e.PNG=34933]="PNG",e[e["JPEG XR"]=34934]="JPEG XR",e[e["JPEG XL"]=52546]="JPEG XL",e[e["Kodak DCR Compressed"]=65e3]="Kodak DCR Compressed",e[e["Pentax PEF Compressed"]=65535]="Pentax PEF Compressed"}(Yg||(Yg={})),function(e){e[e["Flash did not fire"]=0]="Flash did not fire",e[e["Flash fired"]=1]="Flash fired",e[e["Strobe return light not detected"]=5]="Strobe return light not detected",e[e["Strobe return light detected"]=7]="Strobe return light detected",e[e["Flash fired, compulsory flash mode"]=9]="Flash fired, compulsory flash mode",e[e["Flash fired, compulsory flash mode, return light not detected"]=13]="Flash fired, compulsory flash mode, return light not detected",e[e["Flash fired, compulsory flash mode, return light detected"]=15]="Flash fired, compulsory flash mode, return light detected",e[e["Flash did not fire, compulsory flash mode"]=16]="Flash did not fire, compulsory flash mode",e[e["Flash did not fire, auto mode"]=24]="Flash did not fire, auto mode",e[e["Flash fired, auto mode"]=25]="Flash fired, auto mode",e[e["Flash fired, auto mode, return light not detected"]=29]="Flash fired, auto mode, return light not detected",e[e["Flash fired, auto mode, return light detected"]=31]="Flash fired, auto mode, return light detected",e[e["No flash function"]=32]="No flash function",e[e["Flash fired, red-eye reduction mode"]=65]="Flash fired, red-eye reduction mode",e[e["Flash fired, red-eye reduction mode, return light not detected"]=69]="Flash fired, red-eye reduction mode, return light not detected",e[e["Flash fired, red-eye reduction mode, return light detected"]=71]="Flash fired, red-eye reduction mode, return light detected",e[e["Flash fired, compulsory flash mode, red-eye reduction mode"]=73]="Flash fired, compulsory flash mode, red-eye reduction mode",e[e["Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected"]=77]="Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",e[e["Flash fired, compulsory flash mode, red-eye reduction mode, return light detected"]=79]="Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",e[e["Flash fired, auto mode, red-eye reduction mode"]=89]="Flash fired, auto mode, red-eye reduction mode",e[e["Flash fired, auto mode, return light not detected, red-eye reduction mode"]=93]="Flash fired, auto mode, return light not detected, red-eye reduction mode",e[e["Flash fired, auto mode, return light detected, red-eye reduction mode"]=95]="Flash fired, auto mode, return light detected, red-eye reduction mode"}(Kg||(Kg={})),function(e){e[e.Unknown=0]="Unknown",e[e.Macro=1]="Macro",e[e["Close view"]=2]="Close view",e[e["Distant view"]=3]="Distant view"}(Zg||(Zg={})),function(e){e[e.Centered=1]="Centered",e[e["Co-sited"]=2]="Co-sited"}(Jg||(Jg={})),function(e){e[e["Reversed mono"]=0]="Reversed mono",e[e["Normal mono"]=1]="Normal mono",e[e.RGB=2]="RGB",e[e.Palette=3]="Palette",e[e.CMYK=5]="CMYK",e[e.YCbCr=6]="YCbCr",e[e.CieLAB=8]="CieLAB"}(Qg||(Qg={})),function(e){e[e.Standard=0]="Standard",e[e.Landscape=1]="Landscape",e[e.Portrait=2]="Portrait",e[e["Night scene"]=3]="Night scene"}(em||(em={})),function(e){e[e["Sea level"]=0]="Sea level",e[e["Sea level reference"]=1]="Sea level reference"}(tm||(tm={})),function(e){e[e["2-dimensional measurement"]=2]="2-dimensional measurement",e[e["3-dimensional measurement"]=3]="3-dimensional measurement"}(rm||(rm={})),function(e){e[e["No differential correction"]=0]="No differential correction",e[e["Differential corrected"]=1]="Differential corrected"}(nm||(nm={})),function(e){e["Measurement active"]="A",e["Measurement void"]="V"}(im||(im={}));const sm={ColorSpace:Vg,Compression:Yg,Flash:Kg,LightSource:Bg,Contrast:Ng,Saturation:Ng,Sharpness:Ng,GainControl:Hg,ExposureMode:$g,ExposureProgram:qg,SensitivityType:Gg,PhotometricInterpretation:Qg,CompositeImage:jg,WhiteBalance:Wg,SceneCaptureType:em,SubjectDistanceRange:Zg,SensingMethod:Lg,MeteringMode:Ug,Orientation:zg,ResolutionUnit:Pg,FocalPlaneResolutionUnit:Pg,CustomRendered:Xg,YCbCrPositioning:Jg,GPSAltitudeRef:tm,GPSMeasureMode:rm,GPSDifferential:nm,GPSStatus:im};var am=__webpack_require__(3760),om=__webpack_require__(1048).Buffer;class cm extends Rh{kind=R.Object;fileData;constructor(){super("roImageMetadata"),this.registerMethods({ifImageMetadata:[this.setUrl,this.getMetadata,this.getThumbnail,this.getRawExif,this.getRawExifTag]})}toString(e){return"<Component: roImageMetadata>"}equalTo(e){return P.False}loadFile(e,t){let r;try{r=Ch.fileSystem?.readFileSync(t)}catch(e){Ch.isDevMode&&Ch.stderr.write(`warning,[roImageMetadata] Error loading bitmap:${t} - ${e.message}`)}return r}findValue(e,t,r){return e.find(e=>e.section===t&&e.type===r)??null}getTagData(e,t=Og.exif){let r;const n=t.get(e.type)??"",i=sm[n];switch(typeof e.value){case"string":r=e.value;break;case"number":r=void 0===i?e.value.toString():i[e.value]??e.value.toString();break;default:r=e.value instanceof om?this.processBufferTag(n,e.value):e.value instanceof ArrayBuffer?this.processBufferTag(n,om.from(e.value)):Array.isArray(e.value)?"GPSTimeStamp"===n?e.value.join(":"):"SubjectArea"===n?this.decodeExifSubjectArea(e.value):e.value.join(", "):e.value.toString()}return vy({tag:e.type,tagValue:r})}processBufferTag(e,t){let r;switch(e){case"UserComment":r=this.decodeUserComment(t);break;case"ComponentsConfiguration":r=this.decodeComponentsConfiguration(t);break;case"FileSource":r=""===t.toString("ascii")?"DSC":t.toString();break;case"SceneType":r=""===t.toString("ascii")?"Directly photographed":t.toString();break;case"ExifVersion":r=`Exif Version ${this.decodeVersion(t)}`;break;case"FlashpixVersion":r=`Flashpix Version ${this.decodeVersion(t)}`;break;case"InteroperabilityVersion":r=t.toString("ascii");break;default:r=`${t.length} bytes undefined data`}return r}decodeComponentsConfiguration(e){const t=["-","Y","Cb","Cr","R","G","B"];let r="";for(let n=0;n<Math.max(e.length,4);n++)r+=t[e[n]]+" ";return r.trim()}decodeUserComment(e){if(e instanceof om){const t=e.toString("ascii",0,8),r=e.subarray(8);try{switch(t){case"ASCII\0\0\0":default:return new TextDecoder("ascii").decode(r);case"UNICODE\0":return new TextDecoder("utf-16").decode(r);case"JIS\0\0\0\0\0":return new TextDecoder("iso-2022-jp").decode(r)}}catch(e){return""}}return""}decodeExifSubjectArea(e){switch(e.length){case 2:return`(x,y) = (${e[0]}, ${e[1]})`;case 3:return`Within distance ${e[2]} of (x, y) = (${e[0]}, ${e[1]})`;case 4:return`Within rectangle (width ${e[0]}, height ${e[1]}) around (x,y) = (${e[2]}, ${e[3]})`;default:return`Unexpected number of components (${e.length}, expected 2, 3, or 4). ${e.join(", ")}`}}decodeVersion(e){let t=new TextDecoder("ascii").decode(e),r=Number.parseFloat(`${t.slice(0,2)}.${t.slice(2)}`);return Number.isInteger(r)?r+".0":r.toString()}setUrl=new yf("setUrl",{signature:{args:[new gf("url",R.String)],returns:R.Void},impl:(e,t)=>(this.fileData=this.loadFile(e,t.value),N.Instance)});getMetadata=new yf("getMetadata",{signature:{args:[],returns:R.Object},impl:e=>{if(!this.fileData)return N.Instance;const t=new Map;try{const e=am.create(this.fileData);e.enableBinaryFields(!0);const r=e.parse();let n=r.getImageSize();if(r.tags){t.set("comment",this.decodeUserComment(r.tags.UserComment)),"number"==typeof r.tags.CreateDate&&t.set("datetime",new Ep(r.tags.CreateDate));const e=sm.Orientation;t.set("width",n?.width??0),t.set("height",n?.height??0),t.set("orientation",e[r.tags.Orientation??0]??"")}}catch(e){Ch.isDevMode&&Ch.stderr.write(`warning,[roImageMetadata] Error reading metadata:${e.message}`),t.set("width",0),t.set("height",0),t.set("comment",""),t.set("orientation","")}return vy(t)}});getThumbnail=new yf("getThumbnail",{signature:{args:[],returns:R.Object},impl:e=>{if(!this.fileData)return N.Instance;try{const e=am.create(this.fileData);e.enableReturnTags(!1);const t=e.parse();if(t.hasThumbnail("image/jpeg")){const e=t.getThumbnailBuffer();if(e)return vy({bytes:new Xf(new Uint8Array(e)),type:"image/jpeg"})}}catch(e){Ch.isDevMode&&Ch.stderr.write(`warning,[roImageMetadata] Error getting thumbnail:${e.message}`)}return N.Instance}});getRawExif=new yf("getRawExif",{signature:{args:[],returns:R.Object},impl:e=>{if(!this.fileData)return N.Instance;try{const e=new Map,t=new Map,r=new Map,n=new Map,i=new Map,s=am.create(this.fileData);s.enablePointers(!0),s.enableBinaryFields(!0),s.enableTagNames(!1),s.enableImageSize(!1);const a=s.parse();for(const s of a.tags){const a=s.section===Fg.GPS?Og.gps:Og.exif,o=a.get(s.type)??"";""!==o&&(s.section===Fg.EXIF||s.section===Fg.Interop?o.startsWith("Interop")?n.set(o,this.getTagData(s)):e.set(o,this.getTagData(s)):s.section===Fg.GPS?t.set(o,this.getTagData(s,a)):s.section===Fg.Image?r.set(o,this.getTagData(s)):s.section===Fg.Thumbnail&&i.set(o,this.getTagData(s)))}return vy({exif:e,gps:t,image:r,interoperability:n,thumbnail:i})}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,[roImageMetadata] Error getting raw exif:${e.message}`),new If([])}}});getRawExifTag=new yf("getRawExifTag",{signature:{args:[new gf("ifd",R.Int32|R.Float),new gf("tagnum",R.Int32|R.Float)],returns:R.Dynamic},impl:(e,t,r)=>{if(!this.fileData)return N.Instance;try{const e=am.create(this.fileData);e.enablePointers(!0),e.enableBinaryFields(!0),e.enableTagNames(!1),e.enableImageSize(!1);const n=e.parse(),i=t.getValue()===Fg.GPS?Og.gps:Og.exif,s={0:Fg.Image,1:Fg.Thumbnail,2:Fg.EXIF,3:Fg.GPS,4:Fg.EXIF}[t.getValue()]??Fg.EXIF,a=this.findValue(n.tags,s,r.getValue());return a?this.getTagData(a,i):new If([])}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,[roImageMetadata] Error getting raw exif tag:${e.message}`),new If([])}}})}var um=__webpack_require__(5007),lm=__webpack_require__.n(um),hm=__webpack_require__(1048).Buffer;class fm extends Rh{kind=R.Object;fileData;constructor(){super("roAudioMetadata"),this.registerMethods({ifAudioMetadata:[this.setUrl,this.getTags,this.getAudioProperties,this.getCoverArt]})}toString(e){return"<Component: roAudioMetadata>"}equalTo(e){return P.False}loadFile(e){let t;try{t=Ch.fileSystem?.readFileSync(e)}catch(t){Ch.isDevMode&&Ch.stderr.write(`warning,[roAudioMetadata] Error loading audio:${e} - ${t.message}`)}return t instanceof hm?new DataView(t.buffer):t?new DataView(t):void 0}updateTagsFromSection(e,t){const r=new Map([["TCON","genre"],["TIT2","title"],["TPE1","artist"],["TALB","album"],["TCOM","composer"],["COMM","comment"],["TYER","year"],["TRCK","track"]]);for(let n of t){const t=r.get(n?.header?.id),i=n?.content?.value;"string"==typeof t&&"string"==typeof i&&(["year","track"].includes(t)?e.set(new F(t),new lf(this.parseIntSafe(i))):e.set(new F(t),new F(i)))}}getCoverArtFromSection(e){for(let t of e)if("APIC"===t?.header?.id)return vy({bytes:new Xf(new Uint8Array(t.content.pictureData.buffer,t.content.pictureData.byteOffset,t.content.pictureData.byteLength)),type:t.content.mimeType});return null}parseIntSafe(e){const t=Number.parseInt(e,10);return Number.isNaN(t)?0:t}setUrl=new yf("setUrl",{signature:{args:[new gf("url",R.String)],returns:R.Boolean},impl:(e,t)=>(this.fileData=this.loadFile(t.value),P.from(void 0!==this.fileData))});getTags=new yf("getTags",{signature:{args:[],returns:R.Object},impl:e=>{if(!this.fileData)return N.Instance;try{const e=lm().readTags(this.fileData),t=vy({genre:"",title:"",artist:"",album:"",composer:"",comment:"",year:0,track:0});if(Array.isArray(e)&&e.length>0){for(let r of e)if("ID3v2"===r?._section?.type){this.updateTagsFromSection(t,r.frames);break}return t}}catch(e){Ch.isDevMode&&Ch.stderr.write(`warning,[roAudioMetadata] Error getting audio tags:${e.message}`)}return N.Instance}});getAudioProperties=new yf("getAudioProperties",{signature:{args:[],returns:R.Object},impl:e=>{if(!this.fileData)return N.Instance;try{const e=lm().readTags(this.fileData);if(Array.isArray(e)&&e.length>0){const t={};for(let r of e){if("frame"!==r?._section?.type)continue;const n=this.fileData.byteLength,i=r._section?.offset??0,s=r.header?.bitrate??48,a=s>0?Math.round(8*(n-i)/(1e3*s)):0,o=e[1]?.header?.samplingRate??0,c="11"===e[1]?.header?.channelModeBits?1:2;t.length=a,t.bitrate=s,t.samplerate=o,t.channels=c;break}return vy(t)}}catch(e){Ch.isDevMode&&Ch.stderr.write(`warning,[roAudioMetadata] Error reading audio properties:${e.message}`)}return N.Instance}});getCoverArt=new yf("getCoverArt",{signature:{args:[],returns:R.Object},impl:e=>{if(!this.fileData)return N.Instance;try{const e=lm().readTags(this.fileData);if(Array.isArray(e)&&e.length>0)for(let t of e)if("ID3v2"===t?._section?.type)return this.getCoverArtFromSection(t.frames)??N.Instance}catch(e){Ch.isDevMode&&Ch.stderr.write(`warning,[roAudioMetadata] Error getting cover art:${e.message}`)}return N.Instance}})}class dm extends Rh{kind=R.Object;port;contentList;eventType;customHeaders;cookiesEnabled;certificatesFile;constructor(){super("roAudioPlayer"),this.contentList=new Array,this.eventType=-1,this.cookiesEnabled=!1,this.customHeaders=new Map,this.certificatesFile=W,postMessage({audioPlaylist:new Array}),postMessage("audio,loop,false"),postMessage("audio,next,-1"),postMessage("audio,mute,false");const e=new ep(this),t=new vd(this,this.getNewEvents.bind(this)),r=new Sd(this);this.registerMethods({ifAudioPlayer:[this.setContentList,this.addContent,this.clearContent,this.play,this.stop,this.pause,this.resume,this.setLoop,this.setNext,this.seek,this.setTimedMetadataForKeys],ifHttpAgent:[e.addHeader,e.setHeaders,e.initClientCertificates,e.setCertificatesFile,e.setCertificatesDepth,e.enableCookies,e.getCookies,e.addCookies,e.clearCookies],ifSetMessagePort:[t.setMessagePort,t.setPort],ifGetMessagePort:[r.getMessagePort,r.getPort]})}toString(e){return"<Component: roAudioPlayer>"}equalTo(e){return P.False}dispose(){for(const e of this.contentList)e.removeReference();this.port?.removeReference()}getContent(){const e=new Array;for(const t of this.contentList){let r=t.get(new F("url"));r instanceof F&&(r.value.startsWith("http")?e.push(Ch.getCORSProxy(r.value)):e.push(r.value))}return e}getNewEvents(){const e=[],t=Atomics.load(Ch.sharedArray,ne.SND);return t!==this.eventType&&(this.eventType=t,this.eventType>=0&&e.push(new ry(this.eventType,Atomics.load(Ch.sharedArray,ne.SDX)))),e}setContentList=new yf("setContentList",{signature:{args:[new gf("contentList",R.Object)],returns:R.Void},impl:(e,t)=>(this.contentList=t.getElements(),postMessage({audioPlaylist:this.getContent()}),N.Instance)});addContent=new yf("addContent",{signature:{args:[new gf("contentItem",R.Object)],returns:R.Void},impl:(e,t)=>(t.addReference(),this.contentList.push(t),postMessage({audioPlaylist:this.getContent()}),N.Instance)});clearContent=new yf("clearContent",{signature:{args:[],returns:R.Void},impl:e=>(this.contentList=new Array,postMessage({audioPlaylist:new Array}),N.Instance)});play=new yf("play",{signature:{args:[],returns:R.Boolean},impl:e=>(postMessage("audio,play"),P.True)});stop=new yf("stop",{signature:{args:[],returns:R.Boolean},impl:e=>(postMessage("audio,stop"),P.True)});pause=new yf("pause",{signature:{args:[],returns:R.Boolean},impl:e=>(postMessage("audio,pause"),P.True)});resume=new yf("resume",{signature:{args:[],returns:R.Boolean},impl:e=>(postMessage("audio,resume"),P.True)});setLoop=new yf("setLoop",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Void},impl:(e,t)=>(postMessage(`audio,loop,${t.toString()}`),N.Instance)});setNext=new yf("setNext",{signature:{args:[new gf("item",R.Int32)],returns:R.Void},impl:(e,t)=>(postMessage(`audio,next,${t.toString()}`),N.Instance)});seek=new yf("seek",{signature:{args:[new gf("offsetMs",R.Int32)],returns:R.Void},impl:(e,t)=>(postMessage(`audio,seek,${t.toString()}`),N.Instance)});setTimedMetadataForKeys=new yf("setTimedMetadataForKeys",{signature:{args:[new gf("keys",R.Dynamic)],returns:R.Void},impl:(e,t)=>N.Instance})}class pm extends Rh{kind=R.Object;port;contentList;notificationPeriod;eventType;eventIndex;position;progress;selected;audioTracks;customHeaders;cookiesEnabled;certificatesFile;constructor(){super("roVideoPlayer"),this.contentList=new Array,this.notificationPeriod=0,this.eventType=-1,this.eventIndex=-1,this.position=0,this.progress=-1,this.selected=0,this.audioTracks=[],this.cookiesEnabled=!1,this.certificatesFile=W,this.customHeaders=new Map,postMessage({videoPlaylist:new Array}),postMessage({supportCaptions:!1}),postMessage("video,loop,false"),postMessage("video,next,-1"),postMessage("video,mute,false");const e=new ep(this),t=new vd(this,this.getNewEvents.bind(this)),r=new Sd(this);this.registerMethods({ifVideoPlayer:[this.setContentList,this.addContent,this.clearContent,this.preBuffer,this.play,this.stop,this.pause,this.resume,this.setLoop,this.setNext,this.setEnableAudio,this.seek,this.setPositionNotificationPeriod,this.setCGMS,this.setDestinationRect,this.setMaxVideoDecodeResolution,this.getPlaybackDuration,this.getAudioTracks,this.changeAudioTrack,this.setTimedMetadataForKeys,this.getCaptionRenderer,this.setMacrovisionLevel],ifHttpAgent:[e.addHeader,e.setHeaders,e.initClientCertificates,e.setCertificatesFile,e.setCertificatesDepth,e.enableCookies,e.getCookies,e.addCookies,e.clearCookies],ifSetMessagePort:[t.setMessagePort,t.setPort],ifGetMessagePort:[r.getMessagePort,r.getPort]})}toString(e){return"<Component: roVideoPlayer>"}equalTo(e){return P.False}getContent(){const e=[];for(const t of this.contentList){const r={url:"",streamFormat:"",audioTrack:-1};let n=t.get(new F("url"));if(n instanceof F)r.url=this.getFullUrl(n.value);else{const e=t.get(new F("stream"));e instanceof If&&(n=e.get(new F("url")),n instanceof F&&(r.url=this.getFullUrl(n.value)))}let i=t.get(new F("streamFormat"));i instanceof F&&(r.streamFormat=i.value.toLowerCase()),e.push(r)}return e}dispose(){for(const e of this.contentList)e.removeReference();this.port?.removeReference()}getNewEvents(){const e=[],t=Atomics.load(Ch.sharedArray,ne.VSE);if(t>=0&&(this.selected=t,e.push(new ny(Ae.Selected,t)),Atomics.store(Ch.sharedArray,ne.VSE,-1)),Atomics.load(Ch.sharedArray,ne.BUF)===Te.MEDIA_TRACKS){const t=Ch.readDataBuffer();try{this.audioTracks=JSON.parse(t)?.audio??[]}catch(e){this.audioTracks=[]}}const r=Atomics.load(Ch.sharedArray,ne.VDO),n=Atomics.load(Ch.sharedArray,ne.VDX);r===this.eventType&&n===this.eventIndex||(this.eventType=r,this.eventIndex=n,this.eventType>=0&&(e.push(new ny(this.eventType,this.eventIndex,this.selected)),Atomics.store(Ch.sharedArray,ne.VDO,-1),Atomics.store(Ch.sharedArray,ne.VDX,-1)));const i=Atomics.load(Ch.sharedArray,ne.VLP);if(this.progress!==i&&i>=0&&i<=1e3&&(this.progress=i,e.push(new ny(Ae.Loading,i)),1e3===i&&e.push(new ny(Ae.StartPlay,0))),this.notificationPeriod>=1){const t=Atomics.load(Ch.sharedArray,ne.VPS);t>=0&&Math.abs(this.position-t)>=this.notificationPeriod&&(this.position=t,e.push(new ny(Ae.Position,t,this.selected)))}return e}getFullUrl(e){return e.startsWith("http")?Ch.getCORSProxy(e):e}setContentList=new yf("setContentList",{signature:{args:[new gf("contentList",R.Object)],returns:R.Void},impl:(e,t)=>(this.selected=0,this.position=0,this.contentList=t.getElements(),postMessage({videoPlaylist:this.getContent()}),N.Instance)});addContent=new yf("addContent",{signature:{args:[new gf("contentItem",R.Object)],returns:R.Void},impl:(e,t)=>(this.contentList.push(t),postMessage({videoPlaylist:this.getContent()}),N.Instance)});clearContent=new yf("clearContent",{signature:{args:[],returns:R.Void},impl:e=>(this.position=0,this.selected=0,this.contentList=new Array,postMessage({videoPlaylist:new Array}),N.Instance)});preBuffer=new yf("preBuffer",{signature:{args:[],returns:R.Boolean},impl:e=>(this.position=0,this.contentList=new Array,postMessage("video,load"),P.True)});play=new yf("play",{signature:{args:[],returns:R.Boolean},impl:e=>(this.position=0,postMessage("video,play"),P.True)});stop=new yf("stop",{signature:{args:[],returns:R.Boolean},impl:e=>(this.position=0,postMessage("video,stop"),P.True)});pause=new yf("pause",{signature:{args:[],returns:R.Boolean},impl:e=>(postMessage("video,pause"),P.True)});resume=new yf("resume",{signature:{args:[],returns:R.Boolean},impl:e=>(postMessage("video,resume"),P.True)});setLoop=new yf("setLoop",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Void},impl:(e,t)=>(postMessage(`video,loop,${t.toString()}`),N.Instance)});setNext=new yf("setNext",{signature:{args:[new gf("item",R.Int32)],returns:R.Void},impl:(e,t)=>(postMessage(`video,next,${t.toString()}`),N.Instance)});setEnableAudio=new yf("setEnableAudio",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Void},impl:(e,t)=>(postMessage(`video,mute,${!t.toBoolean()}`),N.Instance)});seek=new yf("seek",{signature:{args:[new gf("offsetMs",R.Int32)],returns:R.Void},impl:(e,t)=>(this.position=0,postMessage(`video,seek,${t.toString()}`),N.Instance)});setPositionNotificationPeriod=new yf("setPositionNotificationPeriod",{signature:{args:[new gf("period",R.Int32)],returns:R.Void},impl:(e,t)=>(this.notificationPeriod=t.getValue(),postMessage(`video,notify,${this.notificationPeriod}`),N.Instance)});setCGMS=new yf("setCGMS",{signature:{args:[new gf("level",R.Int32)],returns:R.Void},impl:(e,t)=>N.Instance});setDestinationRect=new yf("setDestinationRect",{signature:{args:[new gf("rect",R.Dynamic)],returns:R.Void},impl:(e,t)=>{const r=t.get(new F("x")),n=t.get(new F("y")),i=t.get(new F("w")),s=t.get(new F("h"));return postMessage(`video,rect,${r.getValue()},${n.getValue()},${i.getValue()},${s.getValue()}`),N.Instance}},{signature:{args:[new gf("x",R.Int32),new gf("y",R.Int32),new gf("w",R.Int32),new gf("h",R.Int32)],returns:R.Void},impl:(e,t,r,n,i)=>(postMessage(`video,rect,${t.getValue()},${r.getValue()},${n.getValue()},${i.getValue()}`),N.Instance)});setMaxVideoDecodeResolution=new yf("setMaxVideoDecodeResolution",{signature:{args:[new gf("width",R.Int32),new gf("height",R.Int32)],returns:R.Void},impl:(e,t,r)=>N.Instance});getPlaybackDuration=new yf("getPlaybackDuration",{signature:{args:[],returns:R.Int32},impl:e=>{const t=Atomics.load(Ch.sharedArray,ne.VDR);return new lf(t>0?t:0)}});getAudioTracks=new yf("getAudioTracks",{signature:{args:[],returns:R.Object},impl:e=>{const t=[];if(this.audioTracks.length)for(const e of this.audioTracks)if(Me(e)){const r={Track:e.id,Language:e.lang,Name:e.name};t.push(vy(r))}return new Mf(t)}});changeAudioTrack=new yf("changeAudioTrack",{signature:{args:[new gf("trackId",R.String)],returns:R.Void},impl:(e,t)=>(postMessage(`video,audio,${t.value}`),N.Instance)});setTimedMetadataForKeys=new yf("setTimedMetadataForKeys",{signature:{args:[new gf("keys",R.Dynamic)],returns:R.Void},impl:(e,t)=>N.Instance});getCaptionRenderer=new yf("getCaptionRenderer",{signature:{args:[],returns:R.Object},impl:e=>N.Instance});setMacrovisionLevel=new yf("setMacrovisionLevel",{signature:{args:[new gf("level",R.Int32)],returns:R.Void},impl:(e,t)=>N.Instance})}class gm extends Rh{kind=R.Object;roList;resizable=!0;maxSize=0;constructor(e){super("roXMLList"),this.roList=new Ff(e);const t=new Df(this),r=new Of(this),n=new Af(this),i=new kf(this),s=new Tf(this),a=new _f(this);this.registerMethods({ifXMLList:[this.getAttributes,this.getChildElements,this.getNamedElements,this.getNamedElementsCi,this.getText,this.simplify],ifList:[t.addHead,t.addTail,t.getHead,t.getTail,t.removeHead,t.removeTail,t.resetIndex,t.getIndex,t.removeIndex],ifListToArray:[r.toArray],ifArray:[n.peek,n.pop,n.push,n.shift,n.unshift,n.delete,n.count,n.clear,n.append],ifArrayGet:[i.getEntry],ifArraySet:[s.setEntry],ifEnum:[a.isEmpty,a.isNext,a.next,a.reset]})}get listIndex(){return this.roList.listIndex}toString(e){return e?"<Component: roXMLList>":["<Component: roXMLList> =","(",...this.roList.elements.map(e=>`    ${e.toString(this)}`),")"].join("\r\n")}equalTo(e){return P.False}getValue(){return this.roList.elements}getElements(){return this.roList.elements.slice()}getAttribute(e){if(e.kind!==R.String)throw new Error("XML Element attribute must be strings");if(1===this.length()){let t=this.roList.elements[0];if(t instanceof vm)return t.getAttribute(e)}return N.Instance}get(e){switch(my(e)&&(e=e.unbox()),e.kind){case R.Float:return this.getElements()[Math.trunc(e.getValue())]??N.Instance;case R.Int32:return this.getElements()[e.getValue()]??N.Instance;case R.String:return this.getMethod(e.value)??this.namedElements(e.value,!0);default:return N.Instance}}set(e,t){return my(e)&&(e=e.unbox()),e.kind!==R.Int32&&e.kind!==R.Float||(this.roList.elements[Math.trunc(e.getValue())]=t),N.Instance}hasNext(){return this.roList.hasNext()}getNext(){return this.roList.getNext()}resetNext(){this.roList.resetNext()}updateNext(){this.roList.updateNext()}add(e){this.roList.add(e)}remove(e){return this.roList.remove(e)}clear(){this.roList.clear()}length(){return this.roList.length()}getCurrent(){return this.roList.getCurrent()}resetCurrent(){return this.roList.resetCurrent()}tail(){return this.roList.tail()}namedElements(e,t){t&&(e=e.toLocaleLowerCase());let r=new gm,n=this.roList.elements[0];if(n instanceof vm){let i=n.childElements();for(let n=0;n<i.length();n++){const s=i.getElements()[n];let a;a=t?s.name().value.toLocaleLowerCase():s.name().value,a===e&&r.add(s)}}return r}getAttributes=new yf("getAttributes",{signature:{args:[],returns:R.Object},impl:e=>{if(1===this.length()){let e=this.roList.elements[0];if(e instanceof vm)return e.attributes()}return N.Instance}});getText=new yf("getText",{signature:{args:[],returns:R.String},impl:e=>{if(1===this.length()){let e=this.roList.elements[0];if(e instanceof vm)return e.text()}return new F("")}});getChildElements=new yf("getChildElements",{signature:{args:[],returns:R.Object},impl:e=>{if(1===this.length()){let e=this.roList.elements[0];if(e instanceof vm)return e.childElements()}return N.Instance}});getNamedElements=new yf("getNamedElements",{signature:{args:[new gf("name",R.String)],returns:R.Object},impl:(e,t)=>this.namedElements(t.value,!1)});getNamedElementsCi=new yf("getNamedElementsCi",{signature:{args:[new gf("name",R.String)],returns:R.Object},impl:(e,t)=>this.namedElements(t.value,!0)});simplify=new yf("simplify",{signature:{args:[],returns:R.Object},impl:e=>1===this.length()?this.roList.elements[0]:this})}var mm=__webpack_require__(5150);function ym(e){return"element"===e.type}function bm(e){return"text"===e.type}function wm(e){return"cdata"===e.type}class vm extends Rh{kind=R.Object;xmlElement;constructor(e){super("roXMLElement"),this.xmlElement=e??vm.createElement(),this.registerMethods({ifXMLElement:[this.parse,this.getBody,this.getAttributes,this.getName,this.getText,this.getChildElements,this.getChildNodes,this.getNamedElements,this.getNamedElementsCi,this.genXML,this.genXMLHdr,this.isName,this.hasAttribute,this.setBody,this.addBodyElement,this.addElement,this.addElementWithBody,this.addText,this.addAttribute,this.setName,this.clear]})}static createElement(e="_root_"){const t=new Mp.XmlDocument(`<${e}></${e}>`);return vm.syncDerivedState(t),t}static syncDerivedState(e){const t=e.children??[];e.firstChild=t.length>0?t[0]:null,e.lastChild=t.length>0?t[t.length-1]:null;const r=[];for(const e of t)bm(e)?r.push(e.text):wm(e)&&r.push(e.cdata);e.val=r.join("")}static getTextFromElement(e){if(!e.children||0===e.children.length)return e.val??"";const t=[];for(const r of e.children)bm(r)?t.push(r.text):wm(r)&&t.push(r.cdata);return 0===t.length?e.val??"":t.join("")}static replaceTextContent(e,t){const r=(e.children??[]).filter(e=>!bm(e)&&!wm(e));e.children=r,t.length>0&&e.children.push(new Mp.XmlTextNode(t)),vm.syncDerivedState(e)}static appendTextContent(e,t){if(0===t.length)return;const r=vm.getTextFromElement(e);vm.replaceTextContent(e,r+t)}static validateXml(e){try{const t=mm.parser(!0,{trim:!1,normalize:!1});return t.onerror=e=>{throw e},void t.write(e).close()}catch(e){return e?.message??String(e)}}getElement(){return this.xmlElement}toString(e){return"<Component: roXMLElement>"}equalTo(e){return P.False}getElements(){return this.childElements().getElements()}get(e){if(e.kind!==R.String)throw new Error("XML Element indexes must be strings");return this.getMethod(e.value)??this.namedElements(e.value,!0)}set(e,t){if(e.kind!==R.String)throw new Error("XML Element indexes must be strings");return N.Instance}hasNext(){return this.childElements().hasNext()}getNext(){return this.childElements().getNext()}resetNext(){this.childElements().resetNext()}updateNext(){this.childElements().updateNext()}getAttribute(e){if(e.kind!==R.String)throw new Error("XML Element attribute must be strings");const t=this.getElement(),r=e.value.toLocaleLowerCase();for(const[e,n]of Object.entries(t.attr??{}))if(e.toLocaleLowerCase()===r)return new F(n);return N.Instance}attributes(){let e=new If([]);for(const[t,r]of Object.entries(this.getElement().attr??{}))e.set(new F(t),new F(r));return e}name(){const e=this.getElement().name;return new F("_root_"===e?"":e)}text(){return new F(vm.getTextFromElement(this.getElement()))}childElements(){let e=new gm;const t=this.getElement();for(const r of t.children??[])ym(r)&&e.add(new vm(r));return e}childNodes(){let e=new Ff;const t=this.getElement();for(const r of t.children??[])ym(r)?e.add(new vm(r)):bm(r)?e.add(new F(r.text)):wm(r)&&e.add(new F(r.cdata));return e}namedElements(e,t){let r=new gm;t&&(e=e.toLocaleLowerCase());const n=this.getElement();for(const i of n.children??[])ym(i)&&(t?i.name.toLocaleLowerCase():i.name)===e&&r.add(new vm(i));return r}parse=new yf("parse",{signature:{args:[new gf("xml",R.String)],returns:R.Boolean},impl:(e,t)=>{const r=t.value.trim();if(0===r.length)return Ch.isDevMode&&Ch.stderr.write("warning,Warning: Empty input was provided to parse XML."),this.xmlElement=vm.createElement(),P.False;const n=vm.validateXml(r);if(n)return Ch.isDevMode&&Ch.stderr.write(`error,Error parsing XML: ${n}`),this.xmlElement=vm.createElement(),P.False;try{const e=new Mp.XmlDocument(t.value);return vm.syncDerivedState(e),this.xmlElement=e,P.True}catch(e){return Ch.isDevMode&&Ch.stderr.write(`error,Error parsing XML: ${e?.message??e}`),this.xmlElement=vm.createElement(),P.False}}});getBody=new yf("getBody",{signature:{args:[],returns:R.Object},impl:e=>{let t=this.childElements();return t.length()>0?t:""!==this.text().value?this.text():N.Instance}});getChildElements=new yf("getChildElements",{signature:{args:[],returns:R.Object},impl:e=>{let t=this.childElements();return t.length()>0?t:N.Instance}});getChildNodes=new yf("getChildNodes",{signature:{args:[],returns:R.Object},impl:e=>{let t=this.childNodes();return t.length()>0?t:N.Instance}});getNamedElements=new yf("getNamedElements",{signature:{args:[new gf("name",R.String)],returns:R.Object},impl:(e,t)=>this.namedElements(t.value,!1)});getNamedElementsCi=new yf("getNamedElementsCi",{signature:{args:[new gf("name",R.String)],returns:R.Object},impl:(e,t)=>this.namedElements(t.value,!0)});getAttributes=new yf("getAttributes",{signature:{args:[],returns:R.Object},impl:e=>this.attributes()});getName=new yf("getName",{signature:{args:[],returns:R.String},impl:e=>this.name()});getText=new yf("getText",{signature:{args:[],returns:R.String},impl:e=>this.text()});isName=new yf("isName",{signature:{args:[new gf("name",R.String)],returns:R.Boolean},impl:(e,t)=>P.from(this.name().value===t.value)});hasAttribute=new yf("hasAttribute",{signature:{args:[new gf("attr",R.String)],returns:R.Boolean},impl:(e,t)=>{const r=this.getElement();return P.from(Boolean(r.attr&&t.value in r.attr))}});setBody=new yf("setBody",{signature:{args:[new gf("body",R.String)],returns:R.Void},impl:(e,t)=>(vm.replaceTextContent(this.getElement(),t.value),N.Instance)});addText=new yf("addText",{signature:{args:[new gf("text",R.String)],returns:R.Void},impl:(e,t)=>(vm.appendTextContent(this.getElement(),t.value),N.Instance)});addBodyElement=new yf("addBodyElement",{signature:{args:[],returns:R.Object},impl:e=>{const t=this.getElement(),r=vm.createElement("child");return t.children.push(r),vm.syncDerivedState(t),new vm(r)}});addElement=new yf("addElement",{signature:{args:[new gf("name",R.String)],returns:R.Object},impl:(e,t)=>{const r=this.getElement(),n=vm.createElement(t.value);return r.children.push(n),vm.syncDerivedState(r),new vm(n)}});addElementWithBody=new yf("addElementWithBody",{signature:{args:[new gf("name",R.String),new gf("body",R.String)],returns:R.Object},impl:(e,t,r)=>{const n=this.getElement(),i=vm.createElement(t.value);return vm.replaceTextContent(i,r.value),n.children.push(i),vm.syncDerivedState(n),new vm(i)}});addAttribute=new yf("addAttribute",{signature:{args:[new gf("attr",R.String),new gf("value",R.String)],returns:R.Void},impl:(e,t,r)=>{const n=this.getElement();return n.attr=n.attr??{},n.attr[t.value]=r.value,N.Instance}});setName=new yf("setName",{signature:{args:[new gf("name",R.String)],returns:R.Void},impl:(e,t)=>(this.xmlElement.name=t.value,N.Instance)});genXMLHdr=new yf("genXMLHdr",{signature:{args:[new gf("header",R.String)],returns:R.String},impl:(e,t)=>{const r=this.xmlElement.toString({compressed:!0});return new F(t.value+r)}});genXML=new yf("genXML",{signature:{args:[new gf("gen_header",R.Boolean)],returns:R.String},impl:(e,t)=>{const r=this.xmlElement.toString({compressed:!0}),n=t.toBoolean()?'<?xml version="1.0" encoding="UTF-8"?>':"";return new F(n+r)}});clear=new yf("clear",{signature:{args:[],returns:R.Void},impl:e=>(this.xmlElement=vm.createElement(),N.Instance)})}var Sm=__webpack_require__(1048).Buffer;class Em extends Rh{kind=R.Object;identity;inFile;fs;url;host;reqMethod;failureReason;xhr;freshConnection;port;outFile;postBody;user;password;customHeaders;cookiesEnabled;certificatesFile;constructor(){super("roUrlTransfer"),this.identity=Math.trunc(10*Math.random()*8),this.fs=Ch.fileSystem,this.url="",this.host="",this.reqMethod="",this.failureReason="",this.xhr=new XMLHttpRequest,this.freshConnection=!1,this.cookiesEnabled=!1,this.customHeaders=new Map,this.certificatesFile=W,this.inFile=new Array,this.outFile=new Array,this.postBody=new Array;const e=new ep(this),t=new vd(this),r=new Sd(this);this.registerMethods({ifUrlTransfer:[this.getIdentity,this.setUrl,this.getUrl,this.setRequest,this.getRequest,this.getToString,this.getToFile,this.asyncGetToString,this.asyncGetToFile,this.asyncCancel,this.head,this.asyncHead,this.postFromString,this.postFromFile,this.asyncPostFromString,this.asyncPostFromFile,this.asyncPostFromFileToFile,this.retainBodyOnError,this.setUserAndPassword,this.setMinimumTransferRate,this.getFailureReason,this.escape,this.unescape,this.urlEncode,this.enableEncodings,this.enableResume,this.enablePeerVerification,this.enableHostVerification,this.enableFreshConnection,this.setHttpVersion,this.getUserAgent],ifHttpAgent:[e.addHeader,e.setHeaders,e.initClientCertificates,e.setCertificatesFile,e.setCertificatesDepth,e.enableCookies,e.getCookies,e.addCookies,e.clearCookies],ifSetMessagePort:[t.setMessagePort,t.setPort],ifGetMessagePort:[r.getMessagePort,r.getPort]})}executeRequest(e){const{method:t,responseType:r,scope:n,body:i,bodyFilePath:s,onSuccess:a,errorMessage:o,logToStdout:c}=e;let u,l=-1,h="",f="";try{u=this.getConnection(t,r);let e=i;if(s){if(!this.fs.existsSync(s))throw new tp(-26,`Invalid path: ${s}`);e=this.fs.readFileSync(s)}void 0===e?u.send():u.send(e),l=u.status;const n=u.getAllResponseHeaders();h="string"==typeof n?n:h,this.failureReason=u.statusText??"",f="text"===r?u.responseText:"",a?.(u)}catch(e){if(e instanceof tp?l=e.status:u&&"number"==typeof u.status&&(l=u.status),this.failureReason=e?.message??"Unknown error",Ch.isDevMode){const t=c?Ch.stdout:Ch.stderr,r=o?o(e):`Error transferring ${this.url}: ${this.failureReason}`;t.write(`warning,[${n}] ${r}`)}}return new ad(this.identity,this.host,f,l,this.failureReason,h)}getConnection(e,t){if(this.freshConnection&&(this.xhr=new XMLHttpRequest),this.url.toLowerCase().startsWith("https:")&&!this.fs.existsSync(this.certificatesFile))throw new tp(-77,`error setting certificate file: ${this.certificatesFile}`);const r=""===this.reqMethod?e:this.reqMethod;this.xhr.open(r,Ch.getCORSProxy(this.url),!1,this.user,this.password),this.xhr.responseType=t;for(const[e,t]of this.customHeaders)this.xhr.setRequestHeader(e,t);return this.xhr.withCredentials=this.cookiesEnabled,this.xhr}getToStringEvent(){return this.executeRequest({method:"GET",responseType:"text",scope:"getToStringEvent",errorMessage:e=>`Error getting ${this.url}: ${e?.message??e}`})}getToFileEvent(e){return this.executeRequest({method:"GET",responseType:"arraybuffer",scope:"getToFileEvent",onSuccess:t=>{200===t.status&&this.saveDownloadedFile(e,t.response)},errorMessage:e=>`Error getting ${this.url}: ${e?.message??e}`})}getToFileAsync(){const e=this.outFile.shift();return e?this.getToFileEvent(e):N.Instance}postFromStringEvent(e){return this.executeRequest({method:"POST",responseType:"text",scope:"postFromStringEvent",body:e,logToStdout:!0,errorMessage:e=>`Error posting to ${this.url}: ${e?.message??e}`})}postFromStringAsync(){const e=this.postBody.shift();return e?this.postFromStringEvent(e):N.Instance}postFromFileToFileEvent(e,t){return this.executeRequest({method:"POST",responseType:"arraybuffer",scope:"postFromFileToFileEvent",bodyFilePath:e,onSuccess:e=>{200===e.status&&this.saveDownloadedFile(t,e.response)},errorMessage:e=>`Error posting to ${this.url}: ${e?.message??e}`})}postFromFileToFileAsync(){const e=this.inFile.shift(),t=this.outFile.shift();return e&&t?this.postFromFileToFileEvent(e,t):N.Instance}saveDownloadedFile(e,t){const r=t.slice(0,ld().minimumBytes),n=ld()(r);n&&De.has(n.ext)?(this.fs.writeFileSync(e,Sm.from(t)),postMessage({audioPath:e,audioFormat:n.ext,audioData:t})):n&&Oe.has(n.ext)?(this.fs.writeFileSync(e,"video"),postMessage({videoPath:e,videoData:t})):this.fs.writeFileSync(e,Sm.from(t))}requestHead(){return this.executeRequest({method:"HEAD",responseType:"text",scope:"requestHead",errorMessage:e=>`Error requesting from ${this.url}: ${e?.message??e}`})}toString(e){return"<Component: roUrlTransfer>"}equalTo(e){return P.False}dispose(){this.port?.removeReference()}getIdentity=new yf("getIdentity",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.identity)});setUrl=new yf("setUrl",{signature:{args:[new gf("url",R.String)],returns:R.Void},impl:(e,t)=>(this.url=t.value,this.host=sd(t.value),N.Instance)});getUrl=new yf("getUrl",{signature:{args:[],returns:R.String},impl:e=>new F(this.url)});setRequest=new yf("setRequest",{signature:{args:[new gf("reqMethod",R.String)],returns:R.Void},impl:(e,t)=>(this.reqMethod=t.value,N.Instance)});getRequest=new yf("getRequest",{signature:{args:[],returns:R.String},impl:e=>new F(this.reqMethod)});getToString=new yf("getToString",{signature:{args:[],returns:R.String},impl:e=>{const t=this.getToStringEvent();return new F(t.toString())}});getToFile=new yf("getToFile",{signature:{args:[new gf("filePath",R.String)],returns:R.Int32},impl:(e,t)=>{const r=this.getToFileEvent(t.value);return new lf(r.getStatus())}});asyncGetToString=new yf("asyncGetToString",{signature:{args:[],returns:R.Boolean},impl:e=>(this.port?(this.failureReason="",this.port.pushCallback(this.getToStringEvent.bind(this))):Ch.isDevMode&&Ch.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),P.True)});asyncGetToFile=new yf("asyncGetToFile",{signature:{args:[new gf("filePath",R.String)],returns:R.Boolean},impl:(e,t)=>(this.port?(this.failureReason="",this.outFile.push(t.value),this.port.pushCallback(this.getToFileAsync.bind(this))):Ch.isDevMode&&Ch.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),P.True)});asyncCancel=new yf("asyncCancel",{signature:{args:[],returns:R.Boolean},impl:e=>(this.port&&(this.failureReason="",this.outFile=[],this.postBody=[],this.port.asyncCancel()),P.True)});head=new yf("head",{signature:{args:[],returns:R.Object},impl:e=>this.requestHead()});asyncHead=new yf("asyncHead",{signature:{args:[],returns:R.String},impl:e=>(this.port?(this.failureReason="",this.port.pushCallback(this.requestHead.bind(this))):Ch.isDevMode&&Ch.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),P.True)});postFromString=new yf("postFromString",{signature:{args:[new gf("request",R.String)],returns:R.Int32},impl:(e,t)=>{const r=this.postFromStringEvent(t.value);return new lf(r.getStatus())}});asyncPostFromString=new yf("asyncPostFromString",{signature:{args:[new gf("request",R.String)],returns:R.Boolean},impl:(e,t)=>(this.port?(this.failureReason="",this.postBody.push(t.value),this.port.pushCallback(this.postFromStringAsync.bind(this))):Ch.isDevMode&&Ch.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),P.True)});postFromFile=new yf("postFromFile",{signature:{args:[new gf("filePath",R.String)],returns:R.Int32},impl:(e,t)=>{if(this.fs.existsSync(t.value)){const e=this.fs.readFileSync(t.value),r=this.postFromStringEvent(e);return new lf(r.getStatus())}return Ch.isDevMode&&Ch.stderr.write(`warning,[postFromFile] Invalid path: ${t.value}`),new lf(-26)}});asyncPostFromFile=new yf("asyncPostFromFile",{signature:{args:[new gf("filePath",R.String)],returns:R.Boolean},impl:(e,t)=>this.fs.existsSync(t.value)?(this.port?(this.failureReason="",this.postBody.push(this.fs.readFileSync(t.value,"utf8")),this.port.pushCallback(this.postFromStringAsync.bind(this))):Ch.isDevMode&&Ch.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),P.True):P.False});asyncPostFromFileToFile=new yf("asyncPostFromFileToFile",{signature:{args:[new gf("fromFile",R.String),new gf("toFile",R.String)],returns:R.Boolean},impl:(e,t,r)=>this.fs.existsSync(t.value)?(this.port?(this.failureReason="",this.inFile.push(t.value),this.outFile.push(r.value),this.port.pushCallback(this.postFromFileToFileAsync.bind(this))):Ch.stderr.write("warning,No message port assigned to this roUrlTransfer instance!"),P.True):P.False});retainBodyOnError=new yf("retainBodyOnError",{signature:{args:[new gf("retain",R.Boolean)],returns:R.Boolean},impl:(e,t)=>P.True});setUserAndPassword=new yf("setUserAndPassword",{signature:{args:[new gf("user",R.String),new gf("password",R.String)],returns:R.Boolean},impl:(e,t,r)=>(this.user=t.value,this.password=r.value,P.True)});setMinimumTransferRate=new yf("setMinimumTransferRate",{signature:{args:[new gf("bytes_per_second",R.Int32),new gf("period_in_seconds",R.Int32)],returns:R.Boolean},impl:(e,t,r)=>P.False});getFailureReason=new yf("getFailureReason",{signature:{args:[],returns:R.String},impl:e=>new F(this.failureReason)});escape=new yf("escape",{signature:{args:[new gf("text",R.String)],returns:R.String},impl:(e,t)=>new F(encodeURI(t.value))});urlEncode=new yf("urlEncode",{signature:{args:[new gf("text",R.String)],returns:R.String},impl:(e,t)=>new F(encodeURI(t.value))});unescape=new yf("unescape",{signature:{args:[new gf("text",R.String)],returns:R.String},impl:(e,t)=>new F(decodeURI(t.value))});enableEncodings=new yf("enableEncodings",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>P.True});enableResume=new yf("enableResume",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>P.False});enablePeerVerification=new yf("enablePeerVerification",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>P.False});enableHostVerification=new yf("enableHostVerification",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>P.False});enableFreshConnection=new yf("enableFreshConnection",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>(this.freshConnection=t.toBoolean(),P.True)});setHttpVersion=new yf("setHttpVersion",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Void},impl:(e,t)=>N.Instance});getUserAgent=new yf("getUserAgent",{signature:{args:[],returns:R.String},impl:e=>{const t=Ue(Ch.deviceInfo.firmwareVersion),r=`${t.get("major")}.${t.get("minor")}`,n=`${r}.${t.get("revision")}.${t.get("build")}-${t.get("plid")}`;return new F(`Roku/DVP-${r} (${n})`)}})}class _m extends Rh{kind=R.Object;ifHttpAgent;customHeaders;cookiesEnabled;certificatesFile;constructor(){super("roHttpAgent"),this.cookiesEnabled=!1,this.certificatesFile=W,this.customHeaders=new Map,this.ifHttpAgent=new ep(this),this.registerMethods({ifHttpAgent:[this.ifHttpAgent.addHeader,this.ifHttpAgent.setHeaders,this.ifHttpAgent.initClientCertificates,this.ifHttpAgent.setCertificatesFile,this.ifHttpAgent.setCertificatesDepth,this.ifHttpAgent.enableCookies,this.ifHttpAgent.getCookies,this.ifHttpAgent.addCookies,this.ifHttpAgent.clearCookies]})}toString(e){return"<Component: roHttpAgent>"}equalTo(e){return P.False}}class Im extends Rh{kind=R.Object;audioName;audioId;maxStreams;valid;currentIndex;playing;constructor(e){if(super("roAudioResource"),!gy(e)){const t=e instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch;throw new Kh(t)}this.maxStreams=Ch.deviceInfo.maxSimulStreams,this.valid=!0;const t=e.getValue(),r=Ch.sfx.indexOf(t.toLowerCase());if(r>-1)this.audioId=r;else try{this.valid=Ch.fileSystem.existsSync(t),this.valid&&(this.audioId=Ch.sfx.length,postMessage(`sfx,new,${t},${this.audioId}`),Ch.sfx.push(t.toLowerCase()))}catch(e){Ch.stderr.write(`error,Error loading audio file: ${t} - ${e.message}`),this.valid=!1}this.audioName=t,this.currentIndex=0,this.playing=!1,this.registerMethods({ifAudioResource:[this.trigger,this.isPlaying,this.stop,this.maxSimulStreams]})}toString(e){return"<Component: roAudioResource>"}equalTo(e){return P.False}isValid(){return this.valid}trigger=new yf("trigger",{signature:{args:[new gf("volume",R.Int32),new gf("index",R.Int32,new lf(0))],returns:R.Void},impl:(e,t,r)=>{const n=r.getValue();if(n>=0&&n<this.maxStreams){const e=Ce.indexOf(this.audioName.toLowerCase())>-1?Ch.deviceInfo.audioVolume:t.getValue();Atomics.store(Ch.sharedArray,ne.WAV+n,this.audioId??-1),postMessage(`sfx,trigger,${this.audioName},${e},${n}`),this.currentIndex=n,this.playing=!0}return N.Instance}});isPlaying=new yf("isPlaying",{signature:{args:[],returns:R.Boolean},impl:e=>{if(void 0!==this.audioId){const e=Atomics.load(Ch.sharedArray,ne.WAV+this.currentIndex);return this.playing=e===this.audioId,P.from(this.playing)}return P.False}});stop=new yf("stop",{signature:{args:[],returns:R.Void},impl:e=>(postMessage(`sfx,stop,${this.audioName}`),this.playing=!1,N.Instance)});maxSimulStreams=new yf("maxSimulStreams",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.maxStreams)})}function xm(e){const t=new Im(e);return t.isValid()?t:N.Instance}class Am extends Rh{kind=R.Object;locale;constructor(){super("roLocalization"),this.locale=Ch.deviceInfo.locale,this.registerMethods({ifLocalization:[this.getPluralString,this.getLocalizedAsset]})}toString(e){return"<Component: roLocalization>"}equalTo(e){return P.False}getPluralString=new yf("getPluralString",{signature:{args:[new gf("count",R.Int32),new gf("zeroString",R.String),new gf("oneString",R.String),new gf("pluralString",R.String)],returns:R.String},impl:(e,t,r,n,i)=>{let s;switch(t.getValue()){case 0:s=r.value;break;case 1:s=n.value;break;default:s=i.value.replace("^n",t.toString())}return new F(s)}});getLocalizedAsset=new yf("getLocalizedAsset",{signature:{args:[new gf("dirName",R.String),new gf("fileName",R.String)],returns:R.String},impl:(e,t,r)=>{const n=Ch.fileSystem;if(!n)return new F("");const i=`${t.value}/${r.value}`;try{let e="";return n.existsSync(`pkg:/locale/${this.locale}/${i}`)?e=`pkg:/locale/${this.locale}/${i}`:n.existsSync(`pkg:/locale/default/${i}`)?e=`pkg:/locale/default/${i}`:n.existsSync(`pkg:/locale/en_US/${i}`)&&(e=`pkg:/locale/en_US/${i}`),new F(e)}catch(e){const t=`pkg:/locale/${this.locale}/${i}`;Ch.stderr.write(`error,Invalid path: ${t} ${e.message}`)}return new F("")}})}var km=__webpack_require__(1048).Buffer;class Tm extends Rh{kind=R.Object;devId;constructor(){super("roRegistry"),this.devId=Ch.deviceInfo.developerId,this.registerMethods({ifRegistry:[this.delete,this.flush,this.getSectionList,this.getSpaceAvailable]})}toString(e){return"<Component: roRegistry>"}equalTo(e){return P.False}delete=new yf("delete",{signature:{args:[new gf("section",R.String)],returns:R.Boolean},impl:(e,t)=>{Ch.refreshRegistry();const r=`${this.devId}.${t.value}`;for(const e of Ch.registry.current.keys())e.startsWith(r)&&Ch.registry.current.delete(e)&&(Ch.registry.removed.push(e),Ch.registry.isDirty=!0);return P.True}});flush=new yf("flush",{signature:{args:[],returns:R.Boolean},impl:e=>(Ch.flushRegistry(),P.True)});getSectionList=new yf("getSectionList",{signature:{args:[],returns:R.Object},impl:e=>{Ch.refreshRegistry();let t=new Set;for(const e of Ch.registry.current.keys())e.split(".")[0]===this.devId&&t.add(e.split(".")[1]);return new Ff([...t].map(function(e){return new F(e)}))}});getSpaceAvailable=new yf("getSpaceAvailable",{signature:{args:[],returns:R.Int32},impl:e=>{Ch.refreshRegistry();let t=ye;for(const[e,r]of Ch.registry.current)e.split(".")[0]===this.devId&&(t-=km.byteLength(e.substring(this.devId.length+1),"utf8"),t-=km.byteLength(r,"utf8"));return new lf(t)}})}class Mm extends Rh{kind=R.Object;section;devId;constructor(e){if(super("roRegistrySection"),!gy(e)){const t=e instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch;throw new Kh(t)}this.section=e.getValue(),this.devId=Ch.deviceInfo.developerId,this.registerMethods({ifRegistrySection:[this.read,this.readMulti,this.write,this.writeMulti,this.delete,this.exists,this.flush,this.getKeyList]})}toString(e){return"<Component: roRegistrySection>"}equalTo(e){return P.False}getValue(){return this.section}read=new yf("read",{signature:{args:[new gf("key",R.String)],returns:R.String},impl:(e,t)=>{Ch.refreshRegistry();const r=`${this.devId}.${this.section}.${t.value}`,n=Ch.registry.current.get(r)??"";return new F(n)}});readMulti=new yf("readMulti",{signature:{args:[new gf("keysArray",R.Object)],returns:R.Dynamic},impl:(e,t)=>{Ch.refreshRegistry();const r=t.getElements(),n=new If([]);for(const e of r){const t=`${this.devId}.${this.section}.${e.value}`,r=Ch.registry.current.get(t);r&&n.set(e,new F(r))}return n}});write=new yf("write",{signature:{args:[new gf("key",R.String),new gf("value",R.String)],returns:R.Boolean},impl:(e,t,r)=>{Ch.refreshRegistry();const n=`${this.devId}.${this.section}.${t.value}`;return Ch.registry.current.set(n,r.value),Ch.registry.isDirty=!0,P.True}});writeMulti=new yf("writeMulti",{signature:{args:[new gf("roAA",R.Object)],returns:R.Boolean},impl:(e,t)=>{Ch.refreshRegistry();const r=`${this.devId}.${this.section}.`;for(const[e,n]of t.elements)Ch.registry.current.set(`${r}${e}`,n.toString()),Ch.registry.isDirty=!0;return P.True}});delete=new yf("delete",{signature:{args:[new gf("key",R.String)],returns:R.Boolean},impl:(e,t)=>{Ch.refreshRegistry();const r=`${this.devId}.${this.section}.${t.value}`;return Ch.registry.current.delete(r)&&(Ch.registry.removed.push(r),Ch.registry.isDirty=!0),P.True}});exists=new yf("exists",{signature:{args:[new gf("key",R.String)],returns:R.Boolean},impl:(e,t)=>{Ch.refreshRegistry();const r=`${this.devId}.${this.section}.${t.value}`;return P.from(Ch.registry.current.has(r))}});flush=new yf("flush",{signature:{args:[],returns:R.Boolean},impl:e=>(Ch.flushRegistry(),P.True)});getKeyList=new yf("getKeyList",{signature:{args:[],returns:R.Object},impl:e=>{Ch.refreshRegistry();const t=new Array;for(const e of Ch.registry.current.keys()){const r=`${this.devId}.${this.section}`;e.startsWith(r)&&t.push(new F(e.slice(r.length+1)))}return new Ff(t)}})}class Cm extends Rh{kind=R.Object;constructor(){super("roAppInfo"),this.registerMethods({ifAppInfo:[this.getId,this.isDev,this.getDevId,this.getVersion,this.getTitle,this.getSubtitle,this.getValue]})}toString(e){return"<Component: roAppInfo>"}equalTo(e){return P.False}getId=new yf("getId",{signature:{args:[],returns:R.String},impl:e=>new F(e.manifest.get("id")||"dev")});isDev=new yf("isDev",{signature:{args:[],returns:R.Boolean},impl:e=>{const t=e.manifest.get("id")||"dev";return P.from("dev"===t)}});getDevId=new yf("getDevId",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.developerId)});getVersion=new yf("getVersion",{signature:{args:[],returns:R.String},impl:e=>new F(e.getChannelVersion())});getTitle=new yf("getTitle",{signature:{args:[],returns:R.String},impl:e=>new F(e.manifest.get("title")||"")});getSubtitle=new yf("getSubtitle",{signature:{args:[],returns:R.String},impl:e=>(Ch.stderr.write(`warning,BRIGHTSCRIPT: WARNING: roAppInfo.GetSubtitle: This function is deprecated: ${e.formatLocation()} `),new F(e.manifest.get("subtitle")||""))});getValue=new yf("getValue",{signature:{args:[new gf("key",R.String)],returns:R.String},impl:(e,t)=>{const r=e.manifest.get(t.value)||"";return new F(r)}})}class Rm extends Jf{data;isStatusMsg=!1;isCaptionModeMsg=!1;constructor(e){super("roDeviceInfoEvent"),this.data=e,"string"==typeof e.Mode?this.isCaptionModeMsg=!0:this.isStatusMsg=!0,this.registerMethods({ifroDeviceInfoEvent:[this.getInfo,this.isStatusMessage,this.isCaptionModeChanged]})}isStatusMessage=new yf("isStatusMessage",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.isStatusMsg)});isCaptionModeChanged=new yf("isCaptionModeChanged",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.isCaptionModeMsg)});getInfo=new yf("getInfo",{signature:{args:[],returns:R.Object},impl:e=>vy(this.data)})}const Dm={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Om;const Fm=new Uint8Array(16);function Pm(){if(!Om&&(Om="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Om))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Om(Fm)}const Nm=function(e,t,r){if(Dm.randomUUID&&!t&&!e)return Dm.randomUUID();const n=(e=e||{}).random||(e.rng||Pm)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return yh(n)};class Bm extends Rh{kind=R.Object;deviceModel;modelType;firmware;displayMode;displayModeName;displayResolution;displayAspectRatio;captionsMessageSent=!1;port;constructor(){super("roDeviceInfo"),this.deviceModel=Ch.deviceInfo.deviceModel;const e=Ch.deviceInfo.models?.get(this.deviceModel);this.modelType=e?e[1]:"STB",this.firmware=Ch.deviceInfo.firmwareVersion,this.displayMode=Ch.deviceInfo.displayMode,this.displayAspectRatio="16x9",this.displayResolution={h:720,w:1280},this.displayModeName="HD",this.displayMode.startsWith("480")?(this.displayResolution={h:480,w:720},this.displayAspectRatio="4x3",this.displayModeName="SD"):this.displayMode.startsWith("1080")&&(this.displayResolution={h:1080,w:1920},this.displayModeName="FHD");const t=new vd(this,this.getNewEvents.bind(this)),r=new Sd(this);this.registerMethods({ifDeviceInfo:[this.getModel,this.getModelDisplayName,this.getModelType,this.getModelDetails,this.getFriendlyName,this.getVersion,this.getOSVersion,this.getDisplayType,this.getDisplayMode,this.getVideoMode,this.getDisplayAspectRatio,this.getDisplaySize,this.getDisplayProperties,this.getSupportedGraphicsResolutions,this.getUIResolution,this.getGraphicsPlatform,this.getGraphicsFeatures,this.getSoundEffectsVolume,this.getDeviceUniqueId,this.getClientTrackingId,this.getChannelClientId,this.getAdvertisingId,this.getRIDA,this.IsAdIdTrackingDisabled,this.isRIDADisabled,this.isStoreDemoMode,this.getCountryCode,this.getUserCountryCode,this.getPreferredCaptionLanguage,this.getTimeZone,this.getCurrentLocale,this.getClockFormat,this.getUptimeMillisecondsAsLong,this.timeSinceLastKeypress,this.hasFeature,this.getDrmInfo,this.getDrmInfoEx,this.getCaptionsMode,this.setCaptionsMode,this.getCaptionsOption,this.canDecodeAudio,this.getAudioOutputChannel,this.getAudioDecodeInfo,this.getVideoDecodeInfo,this.canDecodeVideo,this.isAudioGuideEnabled,this.isAutoPlayEnabled,this.IsAutoAdjustRefreshRateEnabled,this.getRandomUUID,this.getConnectionInfo,this.getConnectionType,this.getLinkStatus,this.getInternetStatus,this.forceInternetStatusCheck,this.getIPAddrs,this.getExternalIp,this.getGeneralMemoryLevel,this.enableLinkStatusEvent,this.enableInternetStatusEvent,this.enableCodecCapChangedEvent,this.enableAudioGuideChangedEvent,this.enableLowGeneralMemoryEvent,this.enableAppFocusEvent,this.enableScreensaverExitedEvent,this.enableValidClockEvent,this.isClockValid,this.getCreationTime,t.setMessagePort,r.getMessagePort]})}toString(e){return"<Component: roDeviceInfo>"}equalTo(e){return P.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[];return this.captionsMessageSent||(e.push(new Rm({Mode:Ch.deviceInfo.captionMode,Mute:!1})),this.captionsMessageSent=!0),e}getModel=new yf("getModel",{signature:{args:[],returns:R.Object},impl:e=>new F(this.deviceModel)});getModelDisplayName=new yf("getModelDisplayName",{signature:{args:[],returns:R.Object},impl:e=>{const t=this.deviceModel,r=Ch.deviceInfo.models?.get(t);return new F(r?r[0].replaceAll(/ *\([^)]*\) */g,""):`Roku (${t})`)}});getModelType=new yf("getModelType",{signature:{args:[],returns:R.Object},impl:e=>new F(this.modelType)});getModelDetails=new yf("getModelDetails",{signature:{args:[],returns:R.Object},impl:e=>vy({Manufacturer:"",ModelNumber:this.deviceModel,VendorName:"Roku",VendorUSBName:"Roku",SerialNumber:Ch.deviceInfo.serialNumber})});getFriendlyName=new yf("getFriendlyName",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.friendlyName)});getVersion=new yf("getVersion",{signature:{args:[],returns:R.String},impl:e=>(Ch.stderr.write("warning,BRIGHTSCRIPT: WARNING: roDeviceInfo.GetVersion: This function is deprecated"),new F("999.99E99999A"))});getOSVersion=new yf("getOSVersion",{signature:{args:[],returns:R.Object},impl:e=>{const t={major:"0",minor:"0",revision:"0",build:"0"};if(this.firmware?.length>0){const e=Ue(this.firmware);t.major=e.get("major")??"0",t.minor=e.get("minor")??"0",t.revision=e.get("revision")??"0",t.build=e.get("build")??"0"}return vy(t)}});getSoundEffectsVolume=new yf("getSoundEffectsVolume",{signature:{args:[],returns:R.Int32},impl:e=>new lf(Ch.deviceInfo.audioVolume)});getDeviceUniqueId=new yf("getDeviceUniqueId",{signature:{args:[],returns:R.String},impl:e=>(Ch.stderr.write("warning,BRIGHTSCRIPT: WARNING: roDeviceInfo.GetDeviceUniqueId: This function is deprecated"),new F("000000000000"))});getClientTrackingId=new yf("getClientTrackingId",{signature:{args:[],returns:R.String},impl:e=>(Ch.stderr.write("warning,BRIGHTSCRIPT: WARNING: roDeviceInfo.GetClientTrackingId: This function is deprecated"),new F(Ch.deviceInfo.clientId))});getChannelClientId=new yf("getChannelClientId",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.clientId)});getAdvertisingId=new yf("getAdvertisingId",{signature:{args:[],returns:R.String},impl:e=>(Ch.stderr.write("warning,BRIGHTSCRIPT: WARNING: roDeviceInfo.GetAdvertisingId: This function is deprecated"),new F(Ch.deviceInfo.RIDA))});getRIDA=new yf("getRIDA",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.RIDA)});IsAdIdTrackingDisabled=new yf("IsAdIdTrackingDisabled",{signature:{args:[],returns:R.Boolean},impl:e=>(Ch.stderr.write("warning,BRIGHTSCRIPT: WARNING: roDeviceInfo.IsAdIdTrackingDisabled: This function is deprecated"),P.True)});isRIDADisabled=new yf("isRIDADisabled",{signature:{args:[],returns:R.Boolean},impl:e=>P.True});isStoreDemoMode=new yf("isStoreDemoMode",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});getCountryCode=new yf("getCountryCode",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.countryCode)});getUserCountryCode=new yf("getUserCountryCode",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.countryCode)});getPreferredCaptionLanguage=new yf("getPreferredCaptionLanguage",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.captionLanguage)});getTimeZone=new yf("getTimeZone",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.timeZone)});getCurrentLocale=new yf("getCurrentLocale",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.locale)});getClockFormat=new yf("getClockFormat",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.clockFormat)});getUptimeMillisecondsAsLong=new yf("getUptimeMillisecondsAsLong",{signature:{args:[],returns:R.Int64},impl:e=>{const t=Ch.deviceInfo.startTime;return new nf((Date.now()-t)/1e3)}});getDisplayType=new yf("getDisplayType",{signature:{args:[],returns:R.String},impl:e=>{let t="HDTV";return"SD"===this.displayModeName&&(t="4:3 standard"),new F(t)}});getDisplayMode=new yf("getDisplayMode",{signature:{args:[],returns:R.String},impl:e=>new F(this.displayMode)});getVideoMode=new yf("getVideoMode",{signature:{args:[],returns:R.String},impl:e=>new F(this.displayMode)});getDisplayAspectRatio=new yf("getDisplayAspectRatio",{signature:{args:[],returns:R.String},impl:e=>new F(this.displayAspectRatio)});getDisplaySize=new yf("getDisplaySize",{signature:{args:[],returns:R.Object},impl:e=>vy(this.displayResolution)});getDisplayProperties=new yf("getDisplayProperties",{signature:{args:[],returns:R.Object},impl:e=>{const t={ALLM:!1,DolbyVision:!1,Hdr10:!1,Hdr10Plus:!1,HdrSeamless:!1,HLG:!1,headless:!1,internal:!1,VRR:!1,height:72,width:129};return"TV"===this.modelType&&(t.internal=!0,t.visible=Ch.displayEnabled),vy(t)}});getSupportedGraphicsResolutions=new yf("getSupportedGraphicsResolutions",{signature:{args:[],returns:R.Object},impl:e=>{let t=[],r=this.displayModeName,n={name:"SD",height:480,width:720,preferred:!1,ui:"SD"===r};return t.push(vy(n)),n={name:"HD",height:720,width:1280,preferred:!1,ui:"HD"===r},t.push(vy(n)),n={name:"FHD",height:1080,width:1920,preferred:!0,ui:"FHD"===r},t.push(vy(n)),new Mf(t)}});getUIResolution=new yf("getUIResolution",{signature:{args:[],returns:R.Object},impl:e=>vy({height:this.displayResolution.h,width:this.displayResolution.w,name:this.displayModeName})});getGraphicsFeatures=new yf("getGraphicsFeatures",{signature:{args:[],returns:R.Object},impl:e=>vy({full_rotation:!0,astc_supported:!1})});getGraphicsPlatform=new yf("getGraphicsPlatform",{signature:{args:[],returns:R.String},impl:e=>{const t=Ch.deviceInfo.models?.get(this.deviceModel);return new F(t?t[2]:"opengl")}});hasFeature=new yf("hasFeature",{signature:{args:[new gf("feature",R.String)],returns:R.Boolean},impl:(e,t)=>{const r=["gaming_hardware","usb_hardware","simulation_engine"],n=Ch.deviceInfo.customFeatures;Array.isArray(n)&&n.length>0&&r.push(...n);for(const[e,t]of Object.entries(H))t&&r.push(`platform_${e.slice(2).toLowerCase()}`);return P.from(r.includes(t.value.toLowerCase()))}});getDrmInfo=new yf("getDrmInfo",{signature:{args:[],returns:R.Object},impl:e=>(Ch.stderr.write("warning,BRIGHTSCRIPT: WARNING: roDeviceInfo.GetDrmInfo: This function is deprecated"),vy({PlayReady:" "}))});getDrmInfoEx=new yf("getDrmInfoEx",{signature:{args:[],returns:R.Object},impl:e=>{const t=Ch.deviceInfo.drmInfo;if(!t?.size)return new If([]);const r=[];for(const[e,n]of t){const t=[{name:new F("multikey"),value:P.from(n.multikey)},{name:new F("securestop"),value:P.from(n.securestop)},{name:new F("tee"),value:P.from(n.tee)},{name:new F("version"),value:new F(n.version)},{name:new F("securityLevel"),value:new F(n.securityLevel)}];r.push({name:new F(e),value:new If(t)})}return new If(r)}});getCaptionsMode=new yf("getCaptionsMode",{signature:{args:[],returns:R.String},impl:e=>new F(Ch.deviceInfo.captionMode)});setCaptionsMode=new yf("setCaptionsMode",{signature:{args:[new gf("mode",R.String)],returns:R.Boolean},impl:(e,t)=>{const r=G(t.value);if(r){if("When mute"===t.value&&"TV"!==this.modelType)return P.False;Ch.deviceInfo.captionMode=r,this.port?.pushMessage(new Rm({Mode:r,Mute:!1})),postMessage({captionMode:r})}return P.True}});getCaptionsOption=new yf("getCaptionsOption",{signature:{args:[new gf("option",R.String)],returns:R.String},impl:(e,t)=>{const r=t.value.toLowerCase();if("mode"===r)return new F(Ch.deviceInfo.captionMode);if("muted"===r)return new F("Unmuted");if(!Q.has(r))return new F("");const n=Ch.deviceInfo.captionStyle.find(e=>e.id===r);return new F(n?.style??"Default")}});canDecodeAudio=new yf("canDecodeAudio",{signature:{args:[new gf("options",R.Dynamic)],returns:R.Object},impl:(e,t)=>{if(t instanceof If){const e={},r=Ch.deviceInfo.audioCodecs,n=t.get(new F("codec"));return n instanceof F&&r?.includes(n.value.toLowerCase())?e.result=!0:(e.result=!1,r&&(e.updated="codec",e.codec=new Mf(r.map(e=>new F(e))))),vy(e)}return N.Instance}});getAudioOutputChannel=new yf("getAudioOutputChannel",{signature:{args:[],returns:R.String},impl:e=>new F("Stereo")});getAudioDecodeInfo=new yf("getAudioDecodeInfo",{signature:{args:[],returns:R.Object},impl:e=>vy({AAC:"2:0:0:0:",ALAC:"6:0:0:0:",FLAC:"6:0:0:0:",LPCM:"2:0:0:1:",MPEG:"2:0:0:0:",OPUS:"6:0:0:0:",VORBIS:"6:0:0:0:",WMA:"6:0:0:0:",WMAPRO:"8:0:0:0:"})});getVideoDecodeInfo=new yf("getVideoDecodeInfo",{signature:{args:[],returns:R.Object},impl:e=>vy({H264:"",MPEG2:"",MPEG4:""})});canDecodeVideo=new yf("canDecodeVideo",{signature:{args:[new gf("options",R.Dynamic)],returns:R.Object},impl:(e,t)=>{if(t instanceof If){const e=Ch.deviceInfo.videoFormats,r=e?.get("codecs")??[],n=e?.get("containers")??[],i=t.get(new F("codec")),s=t.get(new F("container")),a={};let o=!0,c="";return i instanceof F&&!r.includes(i.value.toLowerCase())&&(o=!1,c="codec"),o&&s instanceof F&&!n.includes(s.value.toLowerCase())&&(o=!1,c="container"),o||(a.updated=c,a.updated="codec"===c?new Mf(r.map(e=>new F(e))):"n.a."),a.result=o,vy(a)}return N.Instance}});enableCodecCapChangedEvent=new yf("enableCodecCapChangedEvent",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>P.False});isAudioGuideEnabled=new yf("isAudioGuideEnabled",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});enableAudioGuideChangedEvent=new yf("enableAudioGuideChangedEvent",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Dynamic},impl:(e,t)=>P.False});isAutoPlayEnabled=new yf("isAutoPlayEnabled",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});IsAutoAdjustRefreshRateEnabled=new yf("isAutoAdjustRefreshRateEnabled",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});timeSinceLastKeypress=new yf("timeSinceLastKeypress",{signature:{args:[],returns:R.Int32},impl:e=>new lf((Date.now()-Ch.lastKeyTime)/1e3)});getRandomUUID=new yf("getRandomUUID",{signature:{args:[],returns:R.String},impl:e=>new F(Nm())});getConnectionType=new yf("getConnectionType",{signature:{args:[],returns:R.String},impl:e=>{const t=Ch.deviceInfo.connectionInfo;return new F(t.type)}});getConnectionInfo=new yf("getConnectionInfo",{signature:{args:[],returns:R.String},impl:e=>{const t=Ch.deviceInfo.connectionInfo,r={active:1,default:1,type:t.type,name:t.name,gateway:t.gateway,quality:t.quality};"WiFiConnection"===t.type&&t.ssid&&(r.ssid=t.ssid,r.protocol="IEEE 802.11g",r.signal=-140);const n=Ch.deviceInfo.localIps;if(n.length>0&&n.some(e=>e.split(",")[0]===t.name&&(r.ip=e.split(",")[1],!0)),r.ipv6=new Mf([]),t.dns)for(const[e,n]of t.dns.entries())r[`dns.${e}`]=n;return r.mac="00:00:00:00:00:00",r.expectedThroughput=129,vy(r)}});getLinkStatus=new yf("getLinkStatus",{signature:{args:[],returns:R.Boolean},impl:e=>{let t=!0;return"object"==typeof navigator&&"boolean"==typeof navigator.onLine&&(t=navigator.onLine),P.from(t)}});enableLinkStatusEvent=new yf("enableLinkStatusEvent",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>P.False});getInternetStatus=new yf("getInternetStatus",{signature:{args:[],returns:R.Boolean},impl:e=>{let t=!0;return"object"==typeof navigator&&"boolean"==typeof navigator.onLine&&(t=navigator.onLine),P.from(t)}});enableInternetStatusEvent=new yf("enableInternetStatusEvent",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>P.False});forceInternetStatusCheck=new yf("forceInternetStatusCheck",{signature:{args:[],returns:R.Boolean},impl:e=>P.True});getIPAddrs=new yf("getIPAddrs",{signature:{args:[],returns:R.Object},impl:e=>{const t={};for(const e of Ch.deviceInfo.localIps)t[e.split(",")[0]]=e.split(",")[1];return vy(t)}});getExternalIp=new yf("getExternalIp",{signature:{args:[],returns:R.String},impl:e=>{let t="";try{t=ed()}catch(e){Ch.isDevMode&&Ch.stderr.write(`warning,${e.message}`)}return new F(t)}});getGeneralMemoryLevel=new yf("getGeneralMemoryLevel",{signature:{args:[],returns:R.String},impl:e=>{const{heapSizeLimit:t,usedHeapSize:r}=e.getMemoryHeapInfo(),n=r/t*100;let i="normal";return n>90?i="critical":n>80&&(i="low"),new F(i)}});enableLowGeneralMemoryEvent=new yf("enableLowGeneralMemoryEvent",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Boolean},impl:(e,t)=>P.False});enableAppFocusEvent=new yf("enableAppFocusEvent",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Dynamic},impl:(e,t)=>P.False});enableScreensaverExitedEvent=new yf("enableScreensaverExitedEvent",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Dynamic},impl:(e,t)=>P.False});enableValidClockEvent=new yf("enableValidClockEvent",{signature:{args:[new gf("enable",R.Boolean)],returns:R.Dynamic},impl:(e,t)=>P.False});isClockValid=new yf("isClockValid",{signature:{args:[],returns:R.Dynamic},impl:e=>P.True});getCreationTime=new yf("getCreationTime",{signature:{args:[],returns:R.String},impl:e=>new F(e.creationTime??"")})}class Lm extends Rh{kind=R.Object;constructor(){super("roRemoteInfo"),this.registerMethods({ifRemoteInfo:[this.getModel,this.isAwake,this.hasFeature]})}toString(e){return"<Component: roRemoteInfo>"}equalTo(e){return P.False}getModel=new yf("getModel",{signature:{args:[new gf("remoteIndex",R.Int32)],returns:R.Int32},impl:(e,t)=>{const r=Um(0,t.getValue());return new lf(r.model)}});isAwake=new yf("isAwake",{signature:{args:[new gf("remoteIndex",R.Int32)],returns:R.Boolean},impl:(e,t)=>{const r=Um(0,t.getValue());return P.from(r.model>0)}});hasFeature=new yf("hasFeature",{signature:{args:[new gf("feature",R.String),new gf("remoteIndex",R.Int32)],returns:R.Boolean},impl:(e,t,r)=>{const n=["muteswitch"],i=Um(0,r.getValue());return i.features.length&&n.push(...i.features),P.from(n.includes(t.value.toLowerCase()))}})}function Um(e,t){const r=Ch.deviceInfo.remoteControls;return Array.isArray(r)&&r.length&&t<r.length?(t<0&&(t=Ch.lastRemote),r[t]):{model:0,features:["wifi"]}}class Vm extends Jf{message;mounted=!1;constructor(e){super("roFilesystemEvent"),"boolean"==typeof e&&(this.mounted=e),this.message="ext1:",this.registerMethods({ifroFileSystemEvent:[this.getMessage,this.isStorageDeviceAdded,this.isStorageDeviceRemoved]})}isStorageDeviceAdded=new yf("isStorageDeviceAdded",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(!0===this.mounted)});isStorageDeviceRemoved=new yf("isStorageDeviceRemoved",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(!1===this.mounted)});getMessage=new yf("getMessage",{signature:{args:[],returns:R.String},impl:e=>new F(this.message)})}var jm=__webpack_require__(6649);class zm extends Rh{kind=R.Object;brsFS;port;extMounted;constructor(){super("roFileSystem");const e=new vd(this,this.getNewEvents.bind(this)),t=new Sd(this);this.registerMethods({ifFileSystem:[this.getVolumeList,this.getVolumeInfo,this.getDirectoryListing,this.createDirectory,this.delete,this.copyFile,this.rename,this.find,this.findRecurse,this.match,this.exists,this.stat],ifSetMessagePort:[e.setMessagePort],ifGetMessagePort:[t.getMessagePort]}),this.brsFS=Ch.fileSystem,this.extMounted=this.brsFS.volumesSync().includes("ext1:")}getNewEvents(){const e=[],t=this.brsFS.volumesSync().includes("ext1:");return t!==this.extMounted&&(this.extMounted=t,e.push(new Vm(t))),e}toString(e){return"<Component: roFileSystem>"}equalTo(e){return P.False}findOnTree(e,t){try{let r=this.brsFS.readdirSync(t),n=[];for(const i of r)if(e.test(i)){n.push(new F(i));let r=ze.posix.join(t,i);this.brsFS.statSync(r).isDirectory()&&(n=n.concat(this.findOnTree(e,r)))}return n}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.findOnTree: ${e.message}`),[]}}getVolumeList=new yf("getVolumeList",{signature:{args:[],returns:R.Object},impl:e=>{try{const e=this.brsFS.volumesSync().map(e=>new F(e));return new Ff(e)}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.getVolumeList: ${e.message}`),new Ff([])}}});getVolumeInfo=new yf("getVolumeInfo",{signature:{args:[new gf("path",R.String)],returns:R.Object},impl:(e,t)=>{let r={};if(xh(t.value)){r={blocks:0,blocksize:0,freeblocks:0,usedblocks:0,mounttime:0};const e=Ih(t.value);r=Ch.fileSystem.getVolumeInfo(e)??r}return vy(r)}});getDirectoryListing=new yf("getDirectoryListing",{signature:{args:[new gf("path",R.String)],returns:R.Object},impl:(e,t)=>{try{if(xh(t.value)&&this.brsFS.existsSync(t.value)){const e=this.brsFS.readdirSync(t.value).map(e=>new F(e));return new Ff(e)}}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.getDirectoryListing: ${e.message}`),new Ff([])}return new Ff([])}});createDirectory=new yf("createDirectory",{signature:{args:[new gf("path",R.String)],returns:R.Boolean},impl:(e,t)=>{try{return Ah(t.value)?(this.brsFS.mkdirSync(t.value),P.True):P.False}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.createDirectory: ${e.message}`),P.False}}});delete=new yf("delete",{signature:{args:[new gf("path",R.String)],returns:R.Boolean},impl:(e,t)=>{try{return Ah(t.value)?(this.brsFS.statSync(t.value).isDirectory()?this.brsFS.rmdirSync(t.value):this.brsFS.unlinkSync(t.value),P.True):P.False}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.delete: ${e.message}`),P.False}}});copyFile=new yf("copyFile",{signature:{args:[new gf("fromPath",R.String),new gf("toPath",R.String)],returns:R.Boolean},impl:(e,t,r)=>{try{if(!Ah(r.value)||!this.brsFS.existsSync(t.value))return P.False;const e=this.brsFS.readFileSync(t.value);return this.brsFS.writeFileSync(r.value,e),P.True}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.copyFile: ${e.message}`),P.False}}});rename=new yf("rename",{signature:{args:[new gf("fromPath",R.String),new gf("toPath",R.String)],returns:R.Boolean},impl:(e,t,r)=>{try{return Ah(t.value)&&Ah(r.value)&&Ih(t.value)===Ih(r.value)&&this.brsFS.existsSync(t.value)?(this.brsFS.renameSync(t.value,r.value),P.True):P.False}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.rename: ${e.message}`),P.False}}});exists=new yf("exists",{signature:{args:[new gf("path",R.String)],returns:R.Boolean},impl:(e,t)=>{try{return P.from(this.brsFS.existsSync(t.value))}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.exists: ${e.message}`),P.False}}});find=new yf("find",{signature:{args:[new gf("path",R.String),new gf("regEx",R.String)],returns:R.Object},impl:(e,t,r)=>{const n=new RegExp(r.value);try{if(!xh(t.value))return new Ff([]);const e=this.brsFS.readdirSync(t.value),r=[];for(const t of e)n.test(t)&&r.push(new F(t));return new Ff(r)}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.find: ${e.message}`),new Ff([])}}});findRecurse=new yf("findRecurse",{signature:{args:[new gf("path",R.String),new gf("regEx",R.String)],returns:R.Object},impl:(e,t,r)=>{const n=new RegExp(r.value);try{return xh(t.value)?new Ff(this.findOnTree(n,t.value)):new Ff([])}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.findRecurse: ${e.message}`),new Ff([])}}});match=new yf("match",{signature:{args:[new gf("path",R.String),new gf("pattern",R.String)],returns:R.Object},impl:(e,t,r)=>{try{if(!xh(t.value))return new Ff([]);let e=Ch.fileSystem.readdirSync(t.value),n=jm.match(e,r.value,{nocase:!0,nodupes:!0,noglobstar:!0,nonegate:!0});return n=(n||[]).map(e=>new F(e)),new Ff(n)}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.match: ${e.message}`),new Ff([])}}});stat=new yf("stat",{signature:{args:[new gf("path",R.String)],returns:R.Object},impl:(e,t)=>{const r={},n=t.value;try{if(!xh(n))return vy(r);const e=this.brsFS.statSync(n);if(r.hidden=!1,e.isFile()){const e=this.brsFS.readFileSync(n);r.size="number"==typeof e.length?e.length:0,r.type="file"}else r.type="directory";const t=n.startsWith("tmp:")||n.startsWith("cachefs:")?"rw":"r";r.permissions=t}catch(e){Ch.isDevMode&&Ch.stderr.write(`warning,roFileSystem.stat: ${e.message}`)}return vy(r)}})}class $m extends Rh{kind=R.Object;intrinsic;getValue(){return this.intrinsic}constructor(){super("roInvalid"),this.intrinsic=N.Instance,this.registerMethods({ifToStr:[new tf(this).toStr]})}unbox(){return this.intrinsic}copy(){return new $m}equalTo(e){return e instanceof N||e instanceof $m?P.True:P.False}toString(e){return"<Component: roInvalid>"}}class qm extends Rh{kind=R.Object;constructor(){super("roNDK"),this.registerMethods({ifNDK:[this.start]})}toString(e){return"<Component: roNDK>"}equalTo(e){return P.False}start=new yf("start",{signature:{args:[new gf("app",R.String),new gf("params",R.Object,new Mf([])),new gf("env",R.Object,new Mf([]))],returns:R.Int32},impl:(e,t,r,n)=>{const i=r.elements.filter(e=>uy(e)),s=n.elements.filter(e=>uy(e));if("roku_browser"===t.value||"SDKLauncher"===t.value){const e={app:t.value,params:i.map(e=>e.toString()),env:s.map(e=>e.toString())};return e.params.push("source=other-channel"),postMessage(e),new lf(0)}return new lf(211)}})}class Gm extends Jf{active;constructor(e){super("roCECStatusEvent"),this.active=e,this.registerMethods({ifroCECStatusEvent:[this.getInfo,this.getIndex,this.getMessage]})}getIndex=new yf("getIndex",{signature:{args:[],returns:R.Int32},impl:e=>new lf(0)});getMessage=new yf("getMessage",{signature:{args:[],returns:R.String},impl:e=>new F("CECStatus")});getInfo=new yf("getInfo",{signature:{args:[],returns:R.Object},impl:e=>{const t=this.active?"ACTIVE":"INACTIVE";return vy({Active:this.active,ActiveSourceState:t})}})}class Wm extends Rh{kind=R.Object;port;active;constructor(){super("roCECStatus"),this.active=1;const e=new vd(this,this.getNewEvents.bind(this)),t=new Sd(this);this.registerMethods({ifCECStatus:[this.isActiveSource,e.setMessagePort,t.getMessagePort]})}toString(e){return"<Component: roCECStatus>"}equalTo(e){return P.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[],t=Atomics.load(Ch.sharedArray,ne.CEC);return t>=0&&t!==this.active&&(this.active=t,e.push(new Gm(0!==this.active))),e}isActiveSource=new yf("isActiveSource",{signature:{args:[],returns:R.Boolean},impl:e=>{const t=Atomics.load(Ch.sharedArray,ne.CEC);return P.from(0!==t)}})}class Hm extends Rh{kind=R.Object;hostName;hostIP;port;valid;constructor(){super("roSocketAddress"),this.hostName="0.0.0.0",this.hostIP="0.0.0.0",this.port=0,this.valid=!0,this.registerMethods({ifSocketAddress:[this.setAddress,this.getAddress,this.setHostName,this.getHostName,this.setPort,this.getPort,this.isAddressValid]})}validateAddress(e){let t=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d{1,5}))?$/.exec(e);if(t)return this.hostName=t[1],this.hostIP=t[1],this.port=t[2]?this.safeParsePort(t[2]):this.port,nd(this.hostName);const r=e.split(":");if(r.length>1?(this.hostName=r[0],this.port=this.safeParsePort(r[1])):this.hostName=e,""===this.hostName.trim())return!1;try{const e=rd(this.hostName);if(e&&nd(e))return this.hostIP=e,!0}catch(e){Ch.isDevMode&&Ch.stderr.write(`warning,${e.message}`)}return!1}safeParsePort(e){const t=Number.parseInt(e,10);return Xm(Number.isNaN(t)?0:t)}toString(e){return"<Component: roSocketAddress>"}equalTo(e){return P.False}setAddress=new yf("setAddress",{signature:{args:[new gf("address",R.String)],returns:R.Boolean},impl:(e,t)=>(this.valid=this.validateAddress(t.value),P.True)});getAddress=new yf("getAddress",{signature:{args:[],returns:R.String},impl:e=>(this.valid||Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roSocketAddress.getAddress: Domain name not found: ${this.hostName}: ${e.formatLocation()}`),new F(this.valid?`${this.hostIP}:${this.port}`:""))});setHostName=new yf("setHostName",{signature:{args:[new gf("hostname",R.String)],returns:R.Boolean},impl:(e,t)=>{if(id(t.value)){const e=`${t.value}:${this.port}`;this.valid=this.validateAddress(e)}else this.hostName=t.value,this.valid=!1;return P.True}});getHostName=new yf("getHostName",{signature:{args:[],returns:R.String},impl:e=>new F(this.hostName)});setPort=new yf("setPort",{signature:{args:[new gf("port",R.Int32)],returns:R.Boolean},impl:(e,t)=>(this.port=Xm(t.getValue()),P.True)});getPort=new yf("getPort",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.port)});isAddressValid=new yf("isAddressValid",{signature:{args:[],returns:R.Boolean},impl:e=>(this.valid||Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: roSocketAddress.isAddressValid: Domain name not found: ${this.hostName}: ${e.formatLocation()}`),P.from(this.valid))})}function Xm(e){return(e%=65536)<0&&(e+=65536),e>>>0}var Ym=__webpack_require__(2798);class Km extends Rh{kind=R.Object;socket;identity;address;sendToAddress;ttl;reuseAddr;inline;sendBufferSize;recvBufferSize;sendTimeout;recvTimeout;errorCode;constructor(){super("roStreamSocket"),this.ttl=0,this.reuseAddr=!1,this.inline=!1,this.sendBufferSize=0,this.recvBufferSize=0,this.sendTimeout=0,this.recvTimeout=0;try{this.socket=new Ym.Socket,this.errorCode=0}catch(e){Ch.stderr.write("warning,[roStreamSocket] Sockets are not supported in this environment."),this.errorCode=3474}this.identity=Math.floor(9e7*Math.random())+1e7;const e=new np(this),t=new ip(this),r=new sp(this),n=new ap(this),i=new vd(this),s=new Sd(this);this.registerMethods({ifSocketConnection:[this.listen,this.isListening,this.connect,this.accept,this.isConnected],ifSocket:[e.send,e.sendStr,e.receive,e.receiveStr,e.close,e.setAddress,e.getAddress,e.setSendToAddress,e.getSendToAddress,e.getReceivedFromAddress,e.getCountRcvBuf,e.getCountSendBuf,e.status],ifSocketAsync:[t.isReadable,t.isWritable,t.isException,t.notifyReadable,t.notifyWritable,t.notifyException,t.getID],ifSocketStatus:[r.eAgain,r.eAlready,r.eBadAddr,r.eDestAddrReq,r.eHostUnreach,r.eInvalid,r.eInProgress,r.eWouldBlock,r.eSuccess,r.eOK],ifSocketOption:[n.getTTL,n.setTTL,n.getReuseAddr,n.setReuseAddr,n.getOOBInline,n.setOOBInline,n.getSendBuf,n.setSendBuf,n.getRcvBuf,n.setRcvBuf,n.getSendTimeout,n.setSendTimeout,n.getReceiveTimeout,n.setReceiveTimeout],ifSetMessagePort:[i.setMessagePort],ifGetMessagePort:[s.getMessagePort]})}toString(e){return"<Component: roStreamSocket>"}equalTo(e){return P.False}listen=new yf("listen",{signature:{args:[new gf("backlog",R.Int32)],returns:R.Boolean},impl:(e,t)=>P.True});isListening=new yf("isListening",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});connect=new yf("connect",{signature:{args:[new gf("address",R.Object)],returns:R.Boolean},impl:(e,t)=>(this.address=t,P.True)});accept=new yf("accept",{signature:{args:[],returns:R.Object},impl:e=>N.Instance});isConnected=new yf("isConnected",{signature:{args:[],returns:R.Boolean},impl:e=>{const t=!this.socket?.connecting&&!this.socket?.destroyed;return P.from(t)}})}class Zm extends Jf{plugged;constructor(e){super("roHdmiStatusEvent"),this.plugged=e,this.registerMethods({ifroHdmiStatusEvent:[this.getInfo,this.getIndex,this.getMessage]})}getIndex=new yf("getIndex",{signature:{args:[],returns:R.Int32},impl:e=>new lf(0)});getMessage=new yf("getMessage",{signature:{args:[],returns:R.String},impl:e=>new F("HdmiHotPlug")});getInfo=new yf("getInfo",{signature:{args:[],returns:R.Object},impl:e=>vy({ChannelId:"tvinput.hdmi1",Plugged:this.plugged,PortType:"Tx",PortNumber:1})})}class Jm extends Rh{kind=R.Object;modelType;displayMode;port;active;constructor(){super("roHdmiStatus"),this.active=1;const e=Ch.deviceInfo.deviceModel,t=Ch.deviceInfo.models?.get(e);this.modelType=t?t[1]:"STB",this.displayMode=Ch.deviceInfo.displayMode;const r=new vd(this,this.getNewEvents.bind(this)),n=new Sd(this);this.registerMethods({ifHdmiStatus:[this.isConnected,this.getHdcpVersion,this.isHdcpActive,r.setMessagePort,n.getMessagePort]})}toString(e){return"<Component: roHdmiStatus>"}equalTo(e){return P.False}dispose(){this.port?.unregisterCallback(this.getComponentName())}getNewEvents(){const e=[],t=Atomics.load(Ch.sharedArray,ne.HDMI);return t>=0&&t!==this.active&&(this.active=t,e.push(new Zm(0!==this.active))),e}isConnected=new yf("isConnected",{signature:{args:[],returns:R.Boolean},impl:e=>{if("TV"===this.modelType)return P.False;const t=Atomics.load(Ch.sharedArray,ne.HDMI);return P.from(0!==t)}});getHdcpVersion=new yf("getHdcpVersion",{signature:{args:[],returns:R.String},impl:e=>{const t="1080p"===this.displayMode?"2.2":"1.4";return new F(t)}});isHdcpActive=new yf("isHdcpActive",{signature:{args:[new gf("version",R.String)],returns:R.Boolean},impl:(e,t)=>P.from(["1.4","2.2"].includes(t.value))})}class Qm extends Rh{kind=R.Object;constructor(){super("roUtils"),this.registerMethods({ifUtils:[this.deepCopy,this.isSameObject]})}toString(e){return"<Component: roUtils>"}equalTo(e){return P.False}deepCopy=new yf("deepCopy",{signature:{args:[new gf("data",R.Object)],returns:R.Object},impl:(e,t)=>t instanceof Mf||t instanceof If||Ef(t)?t.deepCopy():new $m});isSameObject=new yf("isSameObject",{signature:{args:[new gf("data1",R.Object),new gf("data2",R.Object)],returns:R.Boolean},impl:(e,t,r)=>P.from(t===r)})}const ey=new class{map=new Map;constructor(e){for(const[t,r,n]of e)this.set(t,r,n)}get(e){const t=this.map.get(e.toLowerCase());return t?t.value:void 0}set(e,t,r){return this.map.set(e.toLowerCase(),{originalKey:e,value:t,params:r??0})}has(e){return this.map.has(e.toLowerCase())}delete(e){return this.map.delete(e.toLowerCase())}clear(){return this.map.clear()}values(){return Array.from(this.map.values()).map(e=>e.value)}keys(){return Array.from(this.map.values()).map(e=>e.originalKey)}params(e){const t=this.map.get(e.toLowerCase());return t?t.params:-1}}([["roAppManager",e=>new Ap],["roAssociativeArray",e=>new If([])],["roArray",(e,t,r)=>new Mf(t,r),2],["roByteArray",e=>new Xf],["roEVPCipher",e=>new up],["roEVPDigest",e=>new hp],["roHMAC",e=>new dp],["roDeviceCrypto",e=>new gp],["roChannelStore",e=>new Cp],["roDateTime",e=>new Ep],["roList",e=>new Ff],["roTimespan",e=>new xp],["roRegex",(e,t,r)=>new Dp(t,r),2],["roString",e=>new Yf,-1],["roBoolean",(e,t)=>new Zf(t),-1],["roDouble",(e,t)=>new sf(t),-1],["roFloat",(e,t)=>new of(t),-1],["roInt",(e,t)=>new uf(t),-1],["roLongInteger",(e,t)=>new rf(t),-1],["roFunction",(e,t)=>new xf(t)],["roPath",(e,t)=>new Kf(t),1],["roBitmap",(e,t)=>wd(t),1],["roTextureRequest",(e,t)=>new Dg(t),1],["roTextureManager",e=>Mg()],["roImageMetadata",e=>new cm],["roMessagePort",e=>new Op],["roInput",e=>new Fp],["roSystemLog",e=>new Pp],["roFileSystem",e=>new zm],["roLocalization",e=>new Am],["roFontRegistry",e=>Ag()],["roRegistry",e=>new Tm],["roRegistrySection",(e,t)=>new Mm(t),1],["roAppInfo",e=>new Cm],["roDeviceInfo",e=>new Bm],["roRemoteInfo",e=>new Lm],["roAppMemoryMonitor",e=>new Rp],["roAudioPlayer",e=>new dm],["roAudioResource",(e,t)=>xm(t),1],["roAudioMetadata",e=>new fm],["roVideoPlayer",e=>new pm],["roCompositor",e=>new kd],["roRegion",(e,t,r,n,i,s)=>xd(t,r,n,i,s),5],["roScreen",(e,t,r,n)=>_d(t,r,n),-2],["roXMLElement",e=>new vm],["roURLTransfer",e=>new Em],["roHttpAgent",e=>new _m],["roInvalid",e=>new $m,-1],["roNDK",e=>new qm],["roCECStatus",e=>new Wm],["roHdmiStatus",e=>new Jm],["roSocketAddress",e=>new Hm],["roStreamSocket",e=>new Km],["roUtils",e=>new Qm]]);class ty extends Jf{id;input;constructor(e){super("roInputEvent"),this.id=Math.floor(100*Math.random())+1,this.input=e,this.registerMethods({ifroInputEvent:[this.isInput,this.getInfo]})}isInput=new yf("isInput",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(void 0!==this.input)});getInfo=new yf("getInfo",{signature:{args:[],returns:R.Object},impl:e=>this.input instanceof If?this.input:vy({type:"transport",id:new nf(this.id),command:"",direction:"",duration:""})})}class ry extends Jf{flags;index;message;constructor(e,t){switch(super("roAudioPlayerEvent"),this.flags=e,this.index=t,this.flags){case Ae.Selected:this.message="start of play";break;case Ae.Full:this.message="end of playlist";break;default:this.message=""}this.registerMethods({ifroAudioPlayerEvent:[this.getIndex,this.getMessage,this.getInfo,this.getData,this.isListItemSelected,this.isFullResult,this.isPartialResult,this.isRequestSucceeded,this.isRequestFailed,this.isPaused,this.isResumed,this.isStatusMessage,this.isTimedMetadata]})}getIndex=new yf("getIndex",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.index)});getInfo=new yf("getInfo",{signature:{args:[],returns:R.Object},impl:e=>N.Instance});getData=new yf("getData",{signature:{args:[],returns:R.Int32},impl:e=>new lf(0)});getMessage=new yf("getMessage",{signature:{args:[],returns:R.String},impl:e=>new F(this.message)});isListItemSelected=new yf("isListItemSelected",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Selected)});isFullResult=new yf("isFullResult",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Full)});isRequestSucceeded=new yf("isRequestSucceeded",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Finished)});isRequestFailed=new yf("isRequestFailed",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Failed)});isPartialResult=new yf("isPartialResult",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Partial)});isPaused=new yf("isPaused",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Paused)});isResumed=new yf("isResumed",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Resumed)});isStatusMessage=new yf("isStatusMessage",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(""!==this.message)});isTimedMetadata=new yf("isTimedMetadata",{signature:{args:[],returns:R.Boolean},impl:e=>P.False})}class ny extends Jf{flags;index;message;selected;constructor(e,t,r){switch(super("roVideoPlayerEvent"),this.flags=e,this.index=t,this.selected=r??0,this.flags){case Ae.Loading:this.message="startup progress";break;case Ae.StartPlay:this.message="start of play";break;case Ae.Full:this.message="end of playlist";break;default:this.message=""}this.registerMethods({ifroVideoPlayerEvent:[this.getIndex,this.getMessage,this.getInfo,this.isListItemSelected,this.isFullResult,this.isPartialResult,this.isRequestSucceeded,this.isRequestFailed,this.isPaused,this.isResumed,this.isStatusMessage,this.isTimedMetadata,this.isPlaybackPosition,this.isFormatDetected,this.isSegmentDownloadStarted,this.isStreamStarted,this.isCaptionModeChanged,this.isStreamSegmentInfo,this.isDownloadSegmentInfo]})}getIndex=new yf("getIndex",{signature:{args:[],returns:R.Int32},impl:e=>new lf(this.index)});getInfo=new yf("getInfo",{signature:{args:[],returns:R.Object},impl:e=>this.flags===Ae.StartStream?vy({Url:"",StreamBitrate:0,MeasuredBitrate:0,IsUnderrun:!1}):this.flags===Ae.Position?vy({ClipIdx:this.selected,ClipPos:1e3*this.index}):this.flags===Ae.Failed?vy({ClipIdx:this.selected,ignored:!0}):N.Instance});getMessage=new yf("getMessage",{signature:{args:[],returns:R.String},impl:e=>new F(this.message)});isListItemSelected=new yf("isListItemSelected",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Selected)});isFullResult=new yf("isFullResult",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Full)});isRequestSucceeded=new yf("isRequestSucceeded",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Finished)});isRequestFailed=new yf("isRequestFailed",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Failed)});isPartialResult=new yf("isPartialResult",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Partial)});isPaused=new yf("isPaused",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Paused)});isResumed=new yf("isResumed",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Resumed)});isStatusMessage=new yf("isStatusMessage",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(""!==this.message)});isTimedMetadata=new yf("isTimedMetadata",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});isPlaybackPosition=new yf("isPlaybackPosition",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.Position)});isFormatDetected=new yf("isFormatDetected",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(!1)});isSegmentDownloadStarted=new yf("isSegmentDownloadStarted",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(!1)});isStreamStarted=new yf("isStreamStarted",{signature:{args:[],returns:R.Boolean},impl:e=>P.from(this.flags===Ae.StartStream)});isCaptionModeChanged=new yf("isCaptionModeChanged",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});isStreamSegmentInfo=new yf("isStreamSegmentInfo",{signature:{args:[],returns:R.Boolean},impl:e=>P.False});isDownloadSegmentInfo=new yf("isDownloadSegmentInfo",{signature:{args:[],returns:R.Boolean},impl:e=>P.False})}class iy extends Jf{logType;data;constructor(e,t){super("roSystemLogEvent"),this.data=t,this.logType=e,this.registerMethods({ifroSystemLogEvent:[this.getInfo]})}getInfo=new yf("getInfo",{signature:{args:[],returns:R.Object},impl:e=>{const t={logType:this.logType,DateTime:new Ep};return"bandwidth.minute"===this.logType&&"number"==typeof this.data?t.bandwidth=this.data:"http.connect"===this.logType&&(t.HttpCode=this.data.httpCode,t.Status=this.data.status,t.OrigUrl=this.data.url,t.Url=this.data.url,t.Method="GET",t.TargetIp=""),vy(t)}})}function sy(e){return e instanceof lf||e instanceof nf||e instanceof cf||e instanceof af}const ay=new Set([R.Int32,R.Float,R.Double,R.Int64]);function oy(e){return ay.has(e)}const cy=new Set([R.Uninitialized,R.Invalid,R.Boolean,...ay,R.String,R.Callable]);function uy(e){return e?.kind===R.String||e instanceof Yf}function ly(e){return e?.kind===R.Boolean||e instanceof Zf}function hy(e){return e?.kind===R.Callable}function fy(e){return"get"in e&&"getElements"in e&&"set"in e}function dy(e){return"get"in e&&"getElements"in e&&"set"in e&&"hasNext"in e&&"getNext"in e&&"resetNext"in e&&"updateNext"in e}function py(e){return sy(e)||my(e)||e instanceof od}function gy(e){return uy(e)||e instanceof Kf||e instanceof ad}function my(e){return e instanceof uf||e instanceof of||e instanceof sf||e instanceof rf}function yy(e){return sy(e)||my(e)}function by(e){return ly(e)||uy(e)||sy(e)||e===N.Instance||e instanceof Rh||e instanceof V||e instanceof yf||e instanceof B}const wy=["YYYY-MM-DDTHH:mm:ss.SSS[Z]","YYYY-MM-DDTHH:mm:ss.SSS","YYYY-MM-DDTHH:mm:ss[Z]","YYYY-MM-DDTHH:mm:ss","YYYY-MM-DDTHH:mm[Z]","YYYY-MM-DDTHH:mm","YYYY-MM-DDTHH[Z]","YYYY-MM-DDTHH","YYYY-MM-DDT","YYYY-MM-DD[Z]","YYYY-MM-DD","YYYY-MM[Z]","YYYY-MM","YYYY[Z]","YYYY"];function vy(e,t,r){const n=new If([],t);if(e instanceof Map)for(const[i,s]of e)n.set(new F(i),Sy(s,t,r),!0);else{if("object"!=typeof e||null===e)throw new Error("Unsupported input type: "+typeof e);for(const i in e)e.hasOwnProperty(i)&&n.set(new F(i),Sy(e[i],t,r),!0)}return n}function Sy(e,t,r){if(null==e)return N.Instance;const n=2147483648,i=typeof e;switch(i){case"boolean":return P.from(e);case"string":return new F(e);case"number":return Number.isInteger(e)?e>=-n&&e<n?new lf(e):new nf(e):Number.isNaN(e)||e>=-34e37&&e<=34e37?new cf(e):new af(e);case"object":return function(e,t,r){return by(e)?e:null===e?N.Instance:e instanceof Uint8Array?new Xf(e):Array.isArray(e)?new Mf(e.map(function(e){return Sy(e,t,r)})):vy(e,t,r)}(e,t,r);case"undefined":return B.Instance;default:throw new Error(`brsValueOf not implemented for: ${e} <${i}>`)}}function Ey(e,t=!0,r){switch(U(e)&&(e=e.unbox()),e.kind){case R.Invalid:return null;case R.Uninitialized:return;case R.Boolean:return e.toBoolean();case R.String:return e.value;case R.Int32:case R.Float:case R.Double:return e.getValue();case R.Int64:return e.getValue().toNumber();case R.Interface:case R.Object:if(e instanceof Mf||e instanceof Ff)return e.elements.map(e=>Ey(e,t,r));if(e instanceof Xf)return e.elements;if(e instanceof If)return function(e,t=!0){const r={};for(const[n,i]of e.elements)U(i)?r[n]=Ey(i.unbox(),t):r[n]=Ey(i,t);return r}(e,t);if(e instanceof Rh)return{_component_:e.getComponentName()};if(e instanceof V)return{_interface_:e.getInterfaceName()};break;case R.Callable:return{_callable_:e.name}}}function _y(e){return e.equalTo(N.Instance).toBoolean()}function Iy(e){const t=e.trim();if(!t)return null;const r=/^([+-]?)(\d+\.?\d*|\.\d+)([eE][+-]?\d+)?$/.exec(t);if(!r)return null;const[,n,i,s]=r,a=Number.parseFloat(t);if(!Number.isFinite(a))return null;if(!i.includes(".")&&!s)return 0;let o=i,c=0,u=!1;for(const e of o)"."!==e&&("0"!==e||u)&&(c++,u=!0);return c}var xy;!function(e){e.LeftParen="LeftParen",e.RightParen="RightParen",e.LeftSquare="LeftSquare",e.RightSquare="RightSquare",e.LeftBrace="LeftBrace",e.RightBrace="RightBrace",e.Caret="Caret",e.Minus="Minus",e.Plus="Plus",e.Star="Star",e.Slash="Slash",e.Mod="Mod",e.Backslash="Backslash",e.PlusPlus="PlusPlus",e.MinusMinus="MinusMinus",e.LeftShift="LeftShift",e.RightShift="RightShift",e.MinusEqual="MinusEqual",e.PlusEqual="PlusEqual",e.StarEqual="StarEqual",e.SlashEqual="SlashEqual",e.BackslashEqual="BackslashEqual",e.LeftShiftEqual="LeftShiftEqual",e.RightShiftEqual="RightShiftEqual",e.Less="Less",e.LessEqual="LessEqual",e.Greater="Greater",e.GreaterEqual="GreaterEqual",e.Equal="Equal",e.LessGreater="LessGreater",e.Identifier="Identifier",e.String="String",e.Integer="Integer",e.Float="Float",e.Double="Double",e.LongInteger="LongInteger",e.Dot="Dot",e.Comma="Comma",e.Colon="Colon",e.Semicolon="Semicolon",e.AtSymbol="AtSymbol",e.HashIf="HashIf",e.HashElseIf="HashElseIf",e.HashElse="HashElse",e.HashEndIf="HashEndIf",e.HashConst="HashConst",e.HashError="HashError",e.HashErrorMessage="HashErrorMessage",e.And="And",e.Box="Box",e.Catch="Catch",e.CreateObject="CreateObject",e.ContinueFor="ContinueFor",e.ContinueWhile="ContinueWhile",e.Dim="Dim",e.Else="Else",e.ElseIf="ElseIf",e.End="End",e.EndFunction="EndFunction",e.EndFor="EndFor",e.EndIf="EndIf",e.EndSub="EndSub",e.EndTry="EndTry",e.EndWhile="EndWhile",e.Eval="Eval",e.Exit="Exit",e.ExitFor="ExitFor",e.ExitWhile="ExitWhile",e.False="False",e.For="For",e.ForEach="ForEach",e.Function="Function",e.GetGlobalAA="GetGlobalAA",e.GetLastRunCompileError="GetLastRunCompileError",e.GetLastRunRunTimeError="GetLastRunRunTimeError",e.Goto="Goto",e.If="If",e.Invalid="Invalid",e.Let="Let",e.Next="Next",e.Not="Not",e.ObjFun="ObjFun",e.Or="Or",e.Pos="Pos",e.Print="Print",e.Rem="Rem",e.Return="Return",e.Step="Step",e.Stop="Stop",e.Sub="Sub",e.Tab="Tab",e.Throw="Throw",e.To="To",e.True="True",e.Try="Try",e.Type="Type",e.While="While",e.Newline="Newline",e.Eof="Eof"}(xy||(xy={}));const Ay=new Set(["and","box","catch","continue","createobject","dim","each","else","elseif","endsub","endwhile","eval","exit","exitwhile","false","for","function","getglobalaa","getlastruncompileerror","getlastrunruntimeerror","goto","if","invalid","let","line_num","next","not","objfun","or","pos","print","rem","return","run","step","stop","sub","tab","then","throw","to","try","true","type","while"]),ky={and:xy.And,catch:xy.Catch,"continue for":xy.ContinueFor,"continue while":xy.ContinueWhile,dim:xy.Dim,else:xy.Else,elseif:xy.ElseIf,"else if":xy.ElseIf,end:xy.End,endfor:xy.EndFor,"end for":xy.EndFor,endfunction:xy.EndFunction,"end function":xy.EndFunction,endif:xy.EndIf,"end if":xy.EndIf,endsub:xy.EndSub,"end sub":xy.EndSub,endtry:xy.EndTry,"end try":xy.EndTry,endwhile:xy.EndWhile,"end while":xy.EndWhile,exit:xy.Exit,"exit for":xy.ExitFor,exitwhile:xy.ExitWhile,"exit while":xy.ExitWhile,false:xy.False,for:xy.For,"for each":xy.ForEach,function:xy.Function,goto:xy.Goto,if:xy.If,invalid:xy.Invalid,let:xy.Let,mod:xy.Mod,next:xy.Next,not:xy.Not,or:xy.Or,print:xy.Print,rem:xy.Rem,return:xy.Return,step:xy.Step,stop:xy.Stop,sub:xy.Sub,to:xy.To,try:xy.Try,throw:xy.Throw,true:xy.True,while:xy.While};var Ty;function My(e){return!!(e.kind&&e.text&&e.location)}!function(e){e.equalTo=function(e,t){return e.file===t.file&&e.start.line===t.start.line&&e.start.column===t.start.column&&e.end.line===t.end.line&&e.end.column===t.end.column}}(Ty||(Ty={}));const Cy=new Set(["UpTime","Sleep","Wait","Tr","CopyFile","MoveFile","DeleteFile","DeleteDirectory","CreateDirectory","FormatDrive","ListDir","ReadAsciiFile","WriteAsciiFile","MatchFiles","RebootSystem","RunGarbageCollector","GetInterface","FindMemberFunction","FormatJson","ParseJson","Abs","Cdbl","Cint","Csng","Fix","Int","Sgn","Atn","Cos","Sin","Tan","Exp","Log","Sqr","Rnd","Ucase","Lcase","Asc","Chr","Left","Right","Instr","Len","Mid","Str","StrI","String","StringI","Substitute","Val","StrToI"]);function Ry(e){if(e.length>1)throw new Error(`Lexer#isDecimalDigit expects a single character; received '${e}'`);return e>="0"&&e<="9"}function Dy(e){if(e.length>1)throw new Error(`Lexer#isHexDigit expects a single character; received '${e}'`);let t=e.toLowerCase();return Ry(t)||t>="a"&&t<="f"}function Oy(e){if(e.length>1)throw new Error(`Lexer#isAlpha expects a single character; received '${e}'`);let t=e.toLowerCase();return t>="a"&&t<="z"||"_"===t}function Fy(e){if(e.length>1)throw new Error(`Lexer#isAlphaNumeric expects a single character; received '${e}'`);return Oy(e)||Ry(e)}class Py{events=new D.EventEmitter;static scan(e,t=""){return(new Py).scan(e,t)}onError(e){return this.events.on("err",e),{dispose:()=>{this.events.removeListener("err",e)}}}onErrorOnce(e){this.events.once("err",e)}scan(e,t){65279===e.codePointAt(0)&&(e=e.substring(1));let r=0,n=0,i=1,s=0,a=e,o=[],c=[],u=[];const l=e=>{u.push(e),this.events.emit("err",e)};for(;!h();)r=n,f();return o.push({kind:xy.Eof,isReserved:!1,text:"\0",location:{start:{line:i,column:s},end:{line:i,column:s+1},file:t}}),{tokens:o,comments:c,errors:u};function h(){return n>=a.length}function f(){let e=d();if(Oy(e))!function(){for(;Fy(p());)d();let e=a.slice(r,n),t=e.toLowerCase();if(!("continue"!==t&&"end"!==t&&"else"!==t&&"exit"!==t&&"for"!==t||" "!==p()&&"\t"!==p())){let e={position:n,column:s},t="";for(;" "===p()||"\t"===p();)t+=p(),d();for(;Fy(p());)d();let i=a.slice(r,n).replace(t," ").toLowerCase();if(ky.hasOwnProperty(i))return void w(ky[i]);n=e.position,s=e.column}let i=p();["$","%","!","#","&"].includes(i)&&(e+=i,d());let c=e.toLowerCase(),u=ky.hasOwnProperty(c)?ky[c]:xy.Identifier;u===ky.rem?function(e){let t=o[o.length-1];return!(!t||t.kind!==e)}(xy.Dot)?w(xy.Identifier):y(e):w(u)}();else switch(e.toLowerCase()){case" ":case"\r":case"\t":break;case"\n":let t=b();t&&t.kind!==xy.Newline&&w(xy.Newline),i++,s=0;break;case".":Ry(p())?m(!0):w(xy.Dot);break;case"=":w(xy.Equal);break;case'"':!function(){for(;!h();){if('"'===p()){if('"'!==g())break;d()}if("\n"===g())return void l(new Yh("Unterminated string at end of line",v(a.slice(r,n))));d()}if(h())return void l(new Yh("Unterminated string at end of file",v(a.slice(r,n))));d();let e=a.slice(r+1,n-1).replace(/""/g,'"');w(xy.String,new F(e))}();break;case"'":y("'");break;case",":w(xy.Comma);break;case"(":w(xy.LeftParen);break;case")":w(xy.RightParen);break;case"{":w(xy.LeftBrace);break;case"}":w(xy.RightBrace);break;case"[":w(xy.LeftSquare);break;case"]":w(xy.RightSquare);break;case"@":w(xy.AtSymbol);break;case"+":switch(p()){case"=":d(),w(xy.PlusEqual);break;case"+":d(),w(xy.PlusPlus);break;default:w(xy.Plus)}break;case"-":switch(p()){case"=":d(),w(xy.MinusEqual);break;case"-":d(),w(xy.MinusMinus);break;default:w(xy.Minus)}break;case"*":"="===p()?(d(),w(xy.StarEqual)):w(xy.Star);break;case"/":"="===p()?(d(),w(xy.SlashEqual)):w(xy.Slash);break;case"^":w(xy.Caret);break;case"\\":"="===p()?(d(),w(xy.BackslashEqual)):w(xy.Backslash);break;case":":w(xy.Colon);break;case";":w(xy.Semicolon);break;case"?":switch(p()){case".":d(),w(xy.Dot);break;case"(":d(),w(xy.LeftParen);break;case"[":d(),w(xy.LeftSquare);break;case"@":d(),w(xy.AtSymbol);break;default:w(xy.Print)}break;case"<":switch(p()){case"=":d(),w(xy.LessEqual);break;case"<":d(),"="===p()?(d(),w(xy.LeftShiftEqual)):w(xy.LeftShift);break;case">":d(),w(xy.LessGreater);break;default:w(xy.Less)}break;case">":switch(p()){case"=":d(),w(xy.GreaterEqual);break;case">":d(),"="===p()?(d(),w(xy.RightShiftEqual)):w(xy.RightShift);break;default:w(xy.Greater)}break;case"#":!function(){for(d();Fy(p());)d();let e=a.slice(r,n).toLowerCase();if(("#end"===e||"#else"===e)&&" "===p()){let e=n;for(d();Fy(p());)d();switch(a.slice(r,n).toLowerCase().replace(/ {2,}/g," ")){case"#else if":return void w(xy.HashElseIf);case"#end if":return void w(xy.HashEndIf)}n=e}switch(e){case"#if":return void w(xy.HashIf);case"#else":return void w(xy.HashElse);case"#elseif":return void w(xy.HashElseIf);case"#endif":return void w(xy.HashEndIf);case"#const":return void w(xy.HashConst);case"#error":for(w(xy.HashError),r=n;!h()&&"\n"!==p();)d();return w(xy.HashErrorMessage),!h()&&"\n"===a.charAt(n)&&n++,void(r=n);default:l(new Yh(`Found unexpected conditional-compilation string '${e}'`,v(a.slice(r,n))))}}();break;default:Ry(e)?m(!1):"&"===e&&"h"===p().toLowerCase()?(d(),function(){for(;Dy(p());)d();if("."===p()&&Dy(g()))return d(),void l(new Yh("Fractional hex literals are not supported",v(a.slice(r,n))));if("&"===p()){d();let e=a.slice(r,n);w(xy.LongInteger,nf.fromString(e))}else{let e=a.slice(r,n);w(xy.Integer,lf.fromString(e))}}()):l(new Yh(`Unexpected character '${e}'`,v(e)))}}function d(){return n++,s++,a.charAt(n-1)}function p(){return h()?"\0":a.charAt(n)}function g(){return n+1>a.length?"\0":a.charAt(n+1)}function m(e){let t=e;for(;Ry(p());)d();if(!e&&"."===p()&&(t=!0,!Oy(g())))for(d();Ry(p());)d();let i=a.slice(r,n),s=t?i.length-1:i.length,o=p().toLowerCase();if("#"===o)return d(),void w(xy.Double,af.fromString(i));if(s>=10&&"&"!==o&&"e"!==o&&"d"!==o)w(xy.Double,af.fromString(i));else{if("d"===o||"e"===o&&s>=10){for(d(),"+"!==p()&&"-"!==p()||d();Ry(p());)d();return"#"===p()&&d(),i=a.slice(r,n).replace(/[dD]/,"e").replace(/#$/,""),void w(xy.Double,af.fromString(i))}if("!"===o)return d(),i=a.slice(r,n),void w(xy.Float,cf.fromString(i));if("e"===o){for(d(),"+"!==p()&&"-"!==p()||d();Ry(p());)d();let e=p().toLowerCase();return"#"===e?(d(),i=a.slice(r,n).replace(/#$/,""),void w(xy.Double,af.fromString(i))):("!"===e&&d(),i=a.slice(r,n).replace(/!$/,""),void w(xy.Float,cf.fromString(i)))}if(!t)return"&"===o?(i=a.slice(r,n),d(),void w(xy.LongInteger,nf.fromString(i))):("%"===o&&d(),void w(xy.Integer,lf.fromString(i)));w(xy.Float,cf.fromString(i))}}function y(e){const t=b()?.location.start.line===i?"Line":"Block";let s="";for(;"\n"!==p()&&!h();)s+=d();const a={type:t,starter:e,value:s,loc:v(e+s),range:[r,n]};let o=c.at(-1);"Block"===o?.type&&"Block"===a.type&&o.starter===a.starter&&o.loc.end.line===a.loc.start.line-1?(o.loc.end=a.loc.end,o.range[1]=a.range[1],o.value+=`\n${a.value}`):c.push(a)}function b(){return o[o.length-1]}function w(e,t){let i=a.slice(r,n),s=i.trimLeft()||i;o.push({kind:e,text:s,isReserved:Ay.has(s.toLowerCase()),literal:t,location:v(s)})}function v(e){return{start:{line:i,column:s-e.length},end:{line:i,column:Math.max(s-e.length+1,s)},file:t}}}}class Ny extends Yh{}class By extends Ny{constructor(e){super("`continue for` encountered",e)}}class Ly extends Ny{constructor(e){super("`exit for` encountered",e)}}class Uy extends Ny{constructor(e){super("`continue while` encountered",e)}}class Vy extends Ny{constructor(e){super("`exit while` encountered",e)}}class jy extends Ny{location;label;constructor(e,t){super("`goto` encountered",e),this.location=e,this.label=t}}class zy extends Ny{location;value;constructor(e,t){super("`return` encountered",e),this.location=e,this.value=t}}class $y{tokens;name;value;constructor(e,t,r){this.tokens=e,this.name=t,this.value=r}accept(e){return e.visitAssignment(this)}get location(){return{file:this.name.location.file,start:this.name.location.start,end:this.value.location.end}}}class qy{tokens;name;dimensions;constructor(e,t,r){this.tokens=e,this.name=t,this.dimensions=r}accept(e){return e.visitDim(this)}get location(){return{file:this.tokens.dim.location.file,start:this.tokens.dim.location.start,end:this.tokens.closingBrace.location.end}}}class Gy{statements;location;constructor(e,t){this.statements=e,this.location=t}accept(e){return e.visitBlock(this)}}class Wy{expression;constructor(e){this.expression=e}accept(e){return e.visitExpression(this)}get location(){return this.expression.location}}class Hy{tokens;constructor(e){this.tokens=e}accept(e){return e.visitContinueFor(this)}get location(){return this.tokens.continueFor.location}}class Xy{tokens;constructor(e){this.tokens=e}accept(e){return e.visitContinueWhile(this)}get location(){return this.tokens.continueWhile.location}}class Yy{tokens;constructor(e){this.tokens=e}accept(e){return e.visitExitFor(this)}get location(){return this.tokens.exitFor.location}}class Ky{tokens;constructor(e){this.tokens=e}accept(e){return e.visitExitWhile(this)}get location(){return this.tokens.exitWhile.location}}class Zy{name;func;constructor(e,t){this.name=e,this.func=t}accept(e){return e.visitNamedFunction(this)}get location(){return{file:this.name.location.file,start:this.func.location.start,end:this.func.location.end}}}class Jy{tokens;condition;thenBranch;elseIfs;elseBranch;constructor(e,t,r,n,i){this.tokens=e,this.condition=t,this.thenBranch=r,this.elseIfs=n,this.elseBranch=i}accept(e){return e.visitIf(this)}getEndLocation(){return this.tokens.endIf?this.tokens.endIf.location:this.elseBranch?this.elseBranch.location:this.elseIfs.length?this.elseIfs[this.elseIfs.length-1].thenBranch.location:this.thenBranch.location}get location(){return{file:this.tokens.if.location.file,start:this.tokens.if.location.start,end:this.getEndLocation().end}}}class Qy{value;token;constructor(e,t){this.value=e,this.token=t}accept(e){return e.visitIncrement(this)}get location(){return{file:this.value.location.file,start:this.value.location.start,end:this.token.location.end}}}class eb{tokens;expressions;constructor(e,t){this.tokens=e,this.expressions=t}accept(e){return e.visitPrint(this)}get location(){let e=this.expressions.length?this.expressions[this.expressions.length-1].location.end:this.tokens.print.location.end;return{file:this.tokens.print.location.file,start:this.tokens.print.location.start,end:e}}}class tb{tokens;constructor(e){this.tokens=e}accept(e){return e.visitGoto(this)}get location(){return{file:this.tokens.goto.location.file,start:this.tokens.goto.location.start,end:this.tokens.label.location.end}}}class rb{tokens;constructor(e){this.tokens=e}accept(e){return N.Instance}get location(){return{file:this.tokens.identifier.location.file,start:this.tokens.identifier.location.start,end:this.tokens.colon.location.end}}}class nb{tokens;value;constructor(e,t){this.tokens=e,this.value=t}accept(e){return e.visitReturn(this)}get location(){return{file:this.tokens.return.location.file,start:this.tokens.return.location.start,end:this.value?.location.end??this.tokens.return.location.end}}}class ib{tokens;constructor(e){this.tokens=e}accept(e){throw new Ny("end-statement",this.tokens.end.location)}get location(){return{file:this.tokens.end.location.file,start:this.tokens.end.location.start,end:this.tokens.end.location.end}}}class sb{tokens;constructor(e){this.tokens=e}accept(e){return e.visitStop(this)}get location(){return{file:this.tokens.stop.location.file,start:this.tokens.stop.location.start,end:this.tokens.stop.location.end}}}class ab{tokens;counterDeclaration;finalValue;increment;body;constructor(e,t,r,n,i){this.tokens=e,this.counterDeclaration=t,this.finalValue=r,this.increment=n,this.body=i}accept(e){return e.visitFor(this)}get location(){return{file:this.tokens.for.location.file,start:this.tokens.for.location.start,end:this.tokens.endFor.location.end}}}class ob{tokens;item;target;body;constructor(e,t,r,n){this.tokens=e,this.item=t,this.target=r,this.body=n}accept(e){return e.visitForEach(this)}get location(){return{file:this.tokens.forEach.location.file,start:this.tokens.forEach.location.start,end:this.tokens.endFor.location.end}}}class cb{tokens;condition;body;constructor(e,t,r){this.tokens=e,this.condition=t,this.body=r}accept(e){return e.visitWhile(this)}get location(){return{file:this.tokens.while.location.file,start:this.tokens.while.location.start,end:this.tokens.endWhile.location.end}}}class ub{obj;name;value;constructor(e,t,r){this.obj=e,this.name=t,this.value=r}accept(e){return e.visitDottedSet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.value.location.end}}}class lb{obj;indexes;value;closingSquare;constructor(e,t,r,n){this.obj=e,this.indexes=t,this.value=r,this.closingSquare=n}accept(e){return e.visitIndexedSet(this)}get location(){return{file:this.obj.location.file,start:this.obj.location.start,end:this.value.location.end}}}class hb{tokens;constructor(e){this.tokens=e}accept(e){return e.visitLibrary(this)}get location(){return{file:this.tokens.library.location.file,start:this.tokens.library.location.start,end:this.tokens.filePath?this.tokens.filePath.location.end:this.tokens.library.location.end}}}class fb{tryBlock;catchBlock;errorBinding;tokens;constructor(e,t,r,n){this.tryBlock=e,this.catchBlock=t,this.errorBinding=r,this.tokens=n}accept(e){return e.visitTryCatch(this)}get location(){return{file:this.tokens.try.location.file,start:this.tokens.endtry.location.start,end:this.tokens.endtry.location.end}}}class db{tokens;value;constructor(e,t){this.tokens=e,this.value=t}accept(e){return e.visitThrow(this)}get location(){return{file:this.tokens.throw.location.file,start:this.tokens.throw.location.start,end:this.value?.location.end??this.tokens.throw.location.end}}}class pb extends Yh{constructor(e,t){const r=Jh.BadSyntax;let n=`${r.message} (compile error &h${Be(r.errno)}) ${t}`;e.kind===xy.Eof&&(n="(At end of file) "+t),super(n,e.location)}}const gb=[xy.Equal,xy.MinusEqual,xy.PlusEqual,xy.StarEqual,xy.SlashEqual,xy.BackslashEqual,xy.LeftShiftEqual,xy.RightShiftEqual],mb=[xy.And,xy.Box,xy.Catch,xy.ContinueFor,xy.ContinueWhile,xy.CreateObject,xy.Dim,xy.Else,xy.ElseIf,xy.End,xy.EndFunction,xy.EndFor,xy.EndIf,xy.EndSub,xy.EndWhile,xy.Eval,xy.Exit,xy.ExitFor,xy.ExitWhile,xy.False,xy.For,xy.ForEach,xy.Function,xy.GetGlobalAA,xy.GetLastRunCompileError,xy.GetLastRunRunTimeError,xy.Goto,xy.If,xy.Invalid,xy.Let,xy.Mod,xy.Next,xy.Not,xy.ObjFun,xy.Or,xy.Pos,xy.Print,xy.Rem,xy.Return,xy.Step,xy.Stop,xy.Sub,xy.Tab,xy.To,xy.True,xy.Try,xy.Type,xy.While],yb=[xy.EndFor,xy.ExitFor,xy.ForEach,xy.Try,xy.Catch],bb=new Set([xy.And,xy.Box,xy.CreateObject,xy.Dim,xy.Else,xy.ElseIf,xy.End,xy.EndFunction,xy.EndIf,xy.EndSub,xy.EndWhile,xy.Eval,xy.Exit,xy.ExitWhile,xy.False,xy.For,xy.Function,xy.GetGlobalAA,xy.GetLastRunCompileError,xy.GetLastRunRunTimeError,xy.Goto,xy.If,xy.Invalid,xy.Let,xy.Next,xy.Not,xy.ObjFun,xy.Or,xy.Pos,xy.Print,xy.Rem,xy.Return,xy.Step,xy.Sub,xy.Tab,xy.To,xy.True,xy.Type,xy.While].map(e=>xy[e].toLowerCase())),wb=new Map;class vb{events=new D.EventEmitter;stats=new Map;constructor(){wb.set("v30/bslCore.brs",!1),wb.set("v30/bslDefender.brs",!1),wb.set("Roku_Ads.brs",!1),wb.set("IMA3.brs",!1),wb.set("Roku_Event_Dispatcher.brs",!1),wb.set("RokuBrowser.brs",!1),this.stats.set(xy.Integer,new Set),this.stats.set(xy.String,new Set),this.stats.set(xy.Float,new Set),this.stats.set(xy.Double,new Set),this.stats.set(xy.LongInteger,new Set),this.stats.set(xy.Function,new Set),this.stats.set(xy.Identifier,new Set)}static parse(e){return(new vb).parse(e)}onError(e){return this.events.on("err",e),{dispose:()=>{this.events.removeListener("err",e)}}}onErrorOnce(e){this.events.once("err",e)}parse(e){const t=this;let r=0,n=e,i=!1,s=0;function a(){return 0===s}let o=[],c=[];const u=(e,t)=>{let r=new pb(e,t);return c.push(r),this.events.emit("err",r),r},l=(e,t)=>{u({location:e},t)};if(0===e.length)return{statements:[],errors:[],libraries:wb};try{for(;!V();){let e=h();e&&o.push(e)}return{statements:o,errors:c,libraries:wb}}catch(e){return{statements:[],errors:c,libraries:wb}}function h(...e){try{let t=[xy.Colon];if(e.includes(xy.Newline)){if(L(xy.Newline))return}else t.push(xy.Newline);for(;T(...t););if(e.includes(xy.Newline)&&L(xy.Newline))return;if(V())return;try{return 0===s&&L(xy.Sub,xy.Function)?f(!1):g()?m():L(xy.Identifier,...yb)&&U(...gb)?p(...e):function(...e){return g()?m():L(xy.Stop)?function(){let e={stop:D()};for(;T(xy.Newline,xy.Colon););return new sb(e)}():L(xy.Try)?function(){let e=D();i=!0;let t=y(xy.Catch);if(i=!1,!t)throw u(j(),"Expected 'catch' to terminate try block");if(!L(xy.Identifier))throw u(j(),"Expected variable name for caught error after 'catch'");let r=new $h(D()),n=y(xy.EndTry);if(!n)throw u(j(),"Expected 'end try' or 'endtry' to terminate catch block");return new fb(t.body,n.body,r,{try:e,catch:t.closingToken,endtry:n.closingToken})}():L(xy.If)?function(){const e=D(),t=e.location,r=b();let i,s,a,o,l,h=[],f=[];function d(){return L(xy.Identifier)&&"then"===j().text.toLowerCase()}if(d()&&(a=D()),L(xy.Newline)||L(xy.Colon)){let r=c.length,a=y(xy.EndIf,xy.Else,xy.ElseIf);if(!a)throw c.splice(r,c.length-r),u(e,"Expected 'end if', 'else if', or 'else' to terminate 'then' block");let p=a.closingToken;for(p.kind===xy.EndIf&&(o=p),i=a.body;p.kind===xy.ElseIf;){f.push(p);let e=b();d()&&D();let t=y(xy.EndIf,xy.Else,xy.ElseIf);if(!t)throw u(j(),"Expected 'end if', 'else if', or 'else' to terminate 'then' block");p=t.closingToken,p.kind===xy.EndIf&&(o=p),h.push({condition:e,thenBranch:t.body})}if(p.kind===xy.Else){l=p;let t=y(xy.EndIf);if(!t)throw u(j(),"Expected 'end if' to terminate 'else' block");if(s=t.body,o=t.closingToken,e.location.start.line===o.location.start.line){let e=n.indexOf(o);n[e-1].kind!==xy.Colon&&u(o,"Expected ':' to precede 'end if'")}T(xy.Newline)}else{if(!o)throw u(p,`Expected 'end if' to close 'if' statement started on line ${t.start.line}`);if(e.location.start.line===o.location.start.line){let e=n.indexOf(o);n[e-1].kind!==xy.Colon&&u(o,"Expected ':' to precede 'end if'")}T(xy.Newline)}}else{let e=y(xy.Newline,xy.Eof,xy.ElseIf,xy.Else);if(!e)throw u(j(),"Expected a statement to follow 'if ...condition... then'");i=e.body;let t=e.closingToken;for(;t.kind===xy.ElseIf;){let r=e.closingToken;f.push(r);let n=b();d()&&D();let i=y(xy.Newline,xy.Eof,xy.ElseIf,xy.Else);if(!i)throw u(j(),`Expected a statement to follow '${r.text} ...condition... then'`);t=i.closingToken,h.push({condition:n,thenBranch:i.body})}if(t.kind!==xy.Newline&&(t.kind===xy.Else||T(xy.Else))){l=t;let e=y(xy.Newline,xy.Eof);if(!e)throw u(j(),"Expected a statement to follow 'else'");s=e.body}}return new Jy({if:e,then:a,elseIfs:f,endIf:o,else:l},r,i,h,s)}():L(xy.Print)?function(...e){let t=D(),r=[];if(V()||L(xy.Newline,xy.Colon)){let e=new Uh(new F(""),t.location);r.push(e)}else r.push(b());for(;!L(xy.Newline,xy.Colon,...e)&&!V();)L(xy.Semicolon)&&r.push(D()),L(xy.Comma)&&r.push(D()),L(xy.Newline,xy.Colon)||V()||r.push(b());return L(...e)||C("Expected newline or ':' after printed values",xy.Newline,xy.Colon,xy.Eof),new eb({print:t},r)}(...e):L(xy.While)?function(){const e=D(),t=b();O("Expected newline or ':' after 'while ...condition...'",xy.Newline,xy.Colon);const r=y(xy.EndWhile);if(!r)throw u(j(),"Expected 'end while' to terminate while-loop block");return new cb({while:e,endWhile:r.closingToken},t,r.body)}():L(xy.ContinueWhile)?function(){let e=D();return O("Expected newline after 'continue while'",xy.Newline),new Xy({continueWhile:e})}():L(xy.ExitWhile)?function(){let e=D();return O("Expected newline after 'exit while'",xy.Newline),new Ky({exitWhile:e})}():L(xy.For)?function(){const e=D(),t=p(xy.To),r=D(),n=b();let i,s;L(xy.Step)?(s=D(),i=b()):i=new Uh(new lf(1),j().location),i instanceof Uh&&$(xy.Integer,i.value);let a=y(xy.EndFor,xy.Next);if(!a)throw u(j(),"Expected 'end for' or 'next' to terminate for-loop block");return new ab({for:e,to:r,step:s,endFor:a.closingToken},t,n,i,a.body)}():L(xy.ForEach)?function(){let e=D(),t=D(),r=j();if(!L(xy.Identifier)||"in"!==r.text.toLowerCase())throw u(r,"Expected 'in' after 'for each <name>'");D();let n=b();if(!n)throw u(j(),"Expected target object to iterate over");D();let i=y(xy.EndFor,xy.Next);if(!i)throw u(j(),"Expected 'end for' or 'next' to terminate for-loop block");return new ob({forEach:e,in:r,endFor:i.closingToken},t,n,i.body)}():L(xy.ContinueFor)?function(){let e=D();return O("Expected newline after 'continue for'",xy.Newline),new Hy({continueFor:e})}():L(xy.ExitFor)?function(){let e=D();return O("Expected newline after 'exit for'",xy.Newline),new Yy({exitFor:e})}():L(xy.End)?function(){let e={end:D()};for(;T(xy.Newline,xy.Colon););return new ib(e)}():T(xy.Return)?function(){let e={return:z()};if(L(xy.Colon,xy.Newline,xy.Eof)){for(;T(xy.Colon,xy.Newline,xy.Eof););return new nb(e)}let t=b();for(;T(xy.Newline,xy.Colon););return new nb(e,t)}():T(xy.Throw)?function(){let e={throw:z()},t=b();for(;T(xy.Newline,xy.Colon););return new db(e,t)}():L(xy.Dim)?function(){let e=D(),t=C("Expected variable name after 'dim'",xy.Identifier);T(xy.LeftSquare);let r=[b()];for(;!T(xy.RightSquare);)C("Expected ',' after expression in 'dim' statement",xy.Comma),r.push(b());let n=z();return new qy({dim:e,closingBrace:n},t,r)}():L(xy.Goto)?function(){let e={goto:D(),label:C("Expected valid label after goto keyword",xy.Identifier,xy.Integer)};for(;T(xy.Newline,xy.Colon););return new tb(e)}():(L(xy.Identifier)||L(xy.Integer))&&U(xy.Colon)?function(){let e={identifier:D(),colon:D()};return C("Labels must be declared on their own line",xy.Newline,xy.Eof),new rb(e)}():function(...e){function t(){let t=j();if(L(xy.PlusPlus,xy.MinusMinus)){let e=D();if(L(xy.PlusPlus,xy.MinusMinus))throw u(j(),"Consecutive increment/decrement operators are not allowed");if(r instanceof Oh)throw u(t,"Increment/decrement operators are not allowed on the result of a function call");return new Qy(r,e)}if(L(...e)||C("Expected newline or ':' after expression statement",xy.Newline,xy.Colon,xy.Eof),r instanceof Oh)return new Wy(r);throw u(t,"Expected statement or function call, but received an expression")}let r=A();if(!L(...gb)||r instanceof Oh)return t();{let e=r,n=D(),i=b();return e instanceof Bh?(C("Expected newline or ':' after indexed 'set' statement",xy.Newline,xy.Else,xy.ElseIf,xy.Colon,xy.Eof),new lb(e.obj,e.indexes,n.kind===xy.Equal?i:new Dh(e,n,i),e.closingSquare)):e instanceof Nh?(C("Expected newline or ':' after dotted 'set' statement",xy.Newline,xy.Else,xy.ElseIf,xy.Colon,xy.Eof),new ub(e.obj,e.name,n.kind===xy.Equal?i:new Dh(e,n,i))):t()}}(...e)}(...e)}finally{for(;T(...t););}}catch(e){return void function(){for(D();!V();){if(z().kind===xy.Newline||z().kind===xy.Colon)return;switch(j().kind){case xy.Function:case xy.Sub:case xy.If:case xy.For:case xy.ForEach:case xy.While:case xy.Print:case xy.Return:return}D()}}()}}function f(e){try{s++;let r,n,i,a,o=j(),c=L(xy.Sub),l=D();n=c?R.Void:R.Dynamic;let h="(anonymous)";if(e)i=C(`Expected '(' after ${l.text}`,xy.LeftParen);else{r=C(`Expected ${l.text} name after '${l.text}'`,xy.Identifier),i=C(`Expected '(' after ${l.text} name`,xy.LeftParen);let e=r.text[r.text.length-1];["$","%","!","#","&"].includes(e)&&u(r,`Function name '${r.text}' cannot end with type designator '${e}'`),h=r.text}let f=[];if(!L(xy.RightParen))do{if(f.length>=Oh.MaximumArguments)throw u(j(),`Cannot have more than ${Oh.MaximumArguments} arguments`);f.push(d())}while(T(xy.Comma));a=D();let p=j();if(L(xy.Identifier)&&"as"===p.text.toLowerCase()){D();let e=D(),t=e.text||"",r=R.fromString(t);if(!r)throw u(e,`Function return type '${t}' is invalid`);$(xy.Integer,new lf(0)),n=r}f.reduce((e,t)=>{if(e&&!t.defaultValue)throw u({kind:xy.Identifier,text:t.name.text,isReserved:Ay.has(t.name.text),location:t.location},`Argument '${t.name.text}' has no default value, but comes after arguments with default values`);return e||!!t.defaultValue},!1),O(`Expected newline or ':' after ${l.text} signature`,xy.Newline,xy.Colon);let g=y(xy.EndSub,xy.EndFunction);if(!g)throw u(j(),`Expected 'end ${l.text}' to terminate ${l.text} block`);let m=g.closingToken,b=c?xy.EndSub:xy.EndFunction;m.kind!==b&&u(m,`Expected 'end ${l.text}' to terminate ${l.text} block`);let w=new Fh(f,n,g.body,o,m);if(function(e){const r=t.stats.get(xy.Function);r&&r.add(`${e.toLowerCase()}(${r.size})`)}(h),e)return w;for(;T(xy.Newline););return new Zy(r,w)}finally{s--}}function d(){if(!L(xy.Identifier))throw u(j(),`Expected argument name, but received '${j().text||""}'`);let e,t,r=D(),n=R.Dynamic;T(xy.Equal)&&(t=b());let i=j();if(L(xy.Identifier)&&i.text&&"as"===i.text.toLowerCase()){D(),e=D();let t=R.fromString(e.text);if(!t)throw u(e,`Function parameter '${r.text}' is of invalid type '${e.text}'`);n=t}return{name:r,type:{kind:n,location:e?e.location:gf.InternalLocation},defaultValue:t,location:{file:r.location.file,start:r.location.start,end:e?e.location.end:r.location.end}}}function p(...e){let t=D();bb.has(t.text.toLowerCase())&&u(t,`Cannot use reserved word "${t.text}" as an identifier`);let r=C(`Expected operator ('=', '+=', '-=', '*=', '/=', '\\=', '^=', '<<=', or '>>=') after identifier '${t.text}'`,...gb),n=b();return L(...e)||C("Expected newline or ':' after assignment",xy.Newline,xy.Colon,xy.Eof,...e),r.kind===xy.Equal?new $y({equals:r},t,n):new $y({equals:r},t,new Dh(new $h(t),r,n))}function g(){let e=L(xy.Identifier)&&"library"===j().text.toLowerCase();return!(!a()||!e)||!(!e||!U(xy.String))}function m(){let e=new hb({library:D(),filePath:L(xy.String)?D():void 0});!e.tokens.filePath&&L(xy.Newline,xy.Colon)?l(e.tokens.library.location,`Missing string literal after ${e.tokens.library.text} keyword`):e.tokens.filePath||j().kind!==xy.Newline||l(j().location,`Expected string literal after ${e.tokens.library.text} keyword`);let t=M(xy.Newline,xy.Eof,xy.Colon);if(t.length>0)for(let e of t)l(e.location,`Found unexpected token '${e.text}' after library statement`);let r=!0;for(let e of o)e instanceof hb||(r=!1);for(a()&&r||l(e.location,"Library statements may only appear at the top of a file");T(xy.Newline,xy.Eof,xy.Colon););let n=e.tokens.filePath;if(n){let t=n.text.slice(1,n.text.length-1);wb.has(t)?wb.set(t,!0):l(e.location,`Invalid library "${t}"! Supported: ${Array.from(wb.keys()).join(", ")}`)}return e}function y(...e){let t,n=j(),s=[xy.Colon];for(e.includes(xy.Newline)||s.push(xy.Newline);T(...s););const a=[];for(;!L(...e)&&!V();){let n=r,o=h(...e);if(o?o instanceof rb&&i?l(o.location,Jh.TryContainsLabel.message):a.push(o):(r=n,M(xy.Colon,xy.Newline,xy.Eof),D()),B(...e)){for(t=z();T(...s););break}for(;T(...s););}if(V()&&!e.includes(xy.Eof))return;if(L(...e)&&!t){t=D();const e=j();"Next"===t.kind&&"Identifier"===e.kind&&D()}if(!t)return;const o={file:n.location.file,start:n.location.start,end:t.location.start};return{body:new Gy(a,o),closingToken:t}}function b(){return w()}function w(){return L(xy.Sub,xy.Function)?f(!0):function(){let e=v();for(;T(xy.And,xy.Or);){let t=z(),r=v();e=new Dh(e,t,r)}return e}()}function v(){let e=S();for(;T(xy.Equal,xy.LessGreater,xy.Greater,xy.GreaterEqual,xy.Less,xy.LessEqual);){let t=z(),r=S();e=new Dh(e,t,r)}return e}function S(){let e=E();for(;T(xy.LeftShift,xy.RightShift);){let t=z(),r=E();e=new Dh(e,t,r)}return e}function E(){let e=_();for(;T(xy.Plus,xy.Minus);){let t=z(),r=_();e=new Dh(e,t,r)}return e}function _(){let e=I();for(;T(xy.Slash,xy.Backslash,xy.Star,xy.Mod);){let t=z(),r=I();e=new Dh(e,t,r)}return e}function I(){let e=x();for(;T(xy.Caret);){let t=z(),r=x();e=new Dh(e,t,r)}return e}function x(){if(T(xy.Not)){let e=z(),t=v();return new zh(e,t)}if(T(xy.Minus,xy.Plus)){let e=z(),t=x();return new zh(e,t)}return A()}function A(){let e=function(){switch(!0){case T(xy.False):return new Uh(P.False,z().location);case T(xy.True):return new Uh(P.True,z().location);case T(xy.Invalid):return new Uh(N.Instance,z().location);case T(xy.Integer,xy.LongInteger,xy.Float,xy.Double,xy.String):return $(xy[z().kind],z().literal),new Uh(z().literal,z().location);case T(xy.Identifier):return new $h(z());case T(xy.LeftParen):{let e=z(),t=b(),r=C("Unmatched '(' - expected ')' after expression",xy.RightParen);return new Lh({left:e,right:r},t)}case T(xy.LeftSquare):{let n=[],i=z();for(;T(xy.Newline););if(!T(xy.RightSquare)){for(n.push(b());T(xy.Comma,xy.Newline);){for(;T(xy.Newline););if(L(xy.RightSquare))break;n.push(b())}C("Unmatched '[' - expected ']' after array literal",xy.RightSquare)}let s=z();return $(xy.Integer,new lf(10)),$(xy.String,new F("roArray")),n.length&&q(""),new Vh(n,i,s)}case T(xy.LeftBrace):{let a=z(),o=[];function c(){let e;if(L(xy.Identifier,...mb))e=new F(D().text);else{if(!L(xy.String))throw u(j(),`Expected identifier or string as associative array key, but received '${j().text||""}'`);e=D().literal}return C("Expected ':' between associative array key and value",xy.Colon),e}for(;T(xy.Newline););if(!T(xy.RightBrace)){for(o.push({name:c(),value:b()});T(xy.Comma,xy.Newline,xy.Colon);){for(;T(xy.Newline,xy.Colon););if(L(xy.RightBrace))break;o.push({name:c(),value:b()})}if(C("Unmatched '{' - expected '}' after associative array literal",xy.RightBrace),o.length){q("");for(const h of o)q(h.name.value)}}let l=z();return new jh(o,a,l)}case T(xy.Pos,xy.Tab):{let f=Object.assign(z(),{kind:xy.Identifier});return new $h(f)}case L(xy.Function,xy.Sub):return w();default:throw u(j(),`Found unexpected token '${j().text}'`)}}();function t(){const t="?["===z().text;let r=[];for(;T(xy.Newline););if(!T(xy.RightSquare))for(r.push(b());T(xy.Comma,xy.Newline);){for(;T(xy.Newline););if(L(xy.RightSquare))break;r.push(b())}if(0===r.length)throw u(j(),"Expected expression inside brackets []");let n=C("Expected ']' after array or object index",xy.RightSquare);e=new Bh(e,r,n,t)}for(;;)if(T(xy.LeftParen))e=k(e);else if(T(xy.LeftSquare))t();else if(T(xy.AtSymbol)){const t="?@"===z().text;for(;T(xy.Newline););let r=C("Expected identifier name after '@'",xy.Identifier,...mb);r.kind=xy.Identifier,e=new Ph(e,r,t)}else{if(!T(xy.Dot))break;if(T(xy.LeftSquare))t();else{const t="?."===z().text;for(;T(xy.Newline););let r=C("Expected property name after '.'",xy.Identifier,...mb);r.kind=xy.Identifier,q(r.text),e=new Nh(e,r,t)}}return e}function k(e){const r="?("===z().text;let n=[];for(;T(xy.Newline););if(!L(xy.RightParen))do{for(;T(xy.Newline););if(n.length>=Oh.MaximumArguments)throw u(j(),`Cannot have more than ${Oh.MaximumArguments} arguments`);n.push(b())}while(T(xy.Comma));for(;T(xy.Newline););const i=C("Expected ')' after function call arguments",xy.RightParen);if(e instanceof $h&&"createobject"===e.name.text.toLowerCase()&&1===n.length&&n[0]instanceof Uh){const e=n[0].value.toString(),r=t.stats.get(xy.String);r&&r.has(e)&&Array.from(r).pop()===e&&r.delete(e)}return new Oh(e,i,n,r)}function T(...e){for(let t of e)if(L(t))return D(),!0;return!1}function M(...e){let t=[];for(;!e.includes(j().kind);)t.push(D());return t}function C(e,...t){if(t.map(e=>j().kind===e).reduce((e,t)=>e||t,!1))return D();throw u(j(),e)}function D(){return V()||r++,z()}function O(e,...t){if(t.map(e=>j().kind===e).reduce((e,t)=>e||t,!1))return j();throw u(j(),e)}function B(...e){if(0===r)return!1;{r--;const t=L(...e);return r++,t}}function L(...e){return!V()&&e.some(e=>j().kind===e)}function U(...e){return!V()&&e.some(e=>(V()?j():n[r+1]).kind===e)}function V(){return j().kind===xy.Eof}function j(){return n[r]}function z(){return n[r-1]}function $(e,r){const n=t.stats.get(e);n&&r&&!n.has(r.toString())&&n.add(r.toString())}function q(e){const r=t.stats.get(xy.Identifier);r&&!r?.has(e.toLowerCase())&&r.add(e.toLowerCase())}}}class Sb extends Kh{constructor(e){const t=Jh.TypeMismatch;let r=`${t.message} ${e.message} `;e.cast?e.right&&(r+=`"${R.toString(Eb(e.right.type))}"`,r+=` to "${R.toString(Eb(e.left.type))}"`):(r+=`"${R.toString(Eb(e.left.type))}"`,e.right&&(r+=` and "${R.toString(Eb(e.right.type))}"`)),r+=".",super({errno:t.errno,message:r},e.left.location)}}function Eb(e){return"number"==typeof e?e:e.kind}const _b=new yf("RebootSystem",{signature:{args:[],returns:R.Void},impl:()=>(postMessage("reset"),N.Instance)}),Ib=new yf("RunGarbageCollector",{signature:{args:[],returns:R.Object},impl:()=>vy({COUNT:0,ORPHANED:0,ROOT:0})}),xb=new yf("GetInterface",{signature:{args:[new gf("object",R.Object),new gf("ifname",R.String)],returns:R.Interface},impl:(e,t,r)=>t.interfaces.get(r.value.toLowerCase())||N.Instance}),Ab=new yf("FindMemberFunction",{signature:{args:[new gf("object",R.Object),new gf("funName",R.String)],returns:R.Interface},impl:(e,t,r)=>{if(t instanceof Rh)for(let[e,n]of t.interfaces)if(n.hasMethod(r.value))return n;return N.Instance}},{signature:{args:[new gf("object",R.Interface),new gf("funName",R.String)],returns:R.Interface},impl:(e,t,r)=>t.hasMethod(r.value)?t:N.Instance}),kb=new yf("ObjFun",{signature:{args:[new gf("object",R.Object),new gf("iface",R.Interface),new gf("funName",R.String)],variadic:!0,returns:R.Dynamic},impl:(e,t,r,n,...i)=>{for(let[s,a]of t.interfaces)if(r.name===a.name&&r.hasMethod(n.value)){const r=t.getMethod(n.value);return r?.call(e,...i)||N.Instance}e.addError(new Kh(Jh.MemberFunctionNotFound,e.location,e.getBacktrace()))}}),Tb=new yf("CreateObject",{signature:{args:[new gf("objName",R.String)],variadic:!0,returns:R.Dynamic},impl:(e,t,...r)=>{const n=ey.get(t.value.toLowerCase());if(void 0===n){const r=`BRIGHTSCRIPT: ERROR: Runtime: unknown classname "${t.value}": ${e.formatLocation()}`;Ch.stderr.write(`warning,${r}`)}else{const i=ey.params(t.value.toLowerCase());if(-1===i)r=[];else{if(i>0&&0===r.length)return Ch.stderr.write(`error,BRIGHTSCRIPT: ERROR: Runtime: "${t.value}": invalid number of parameters: ${e.formatLocation()}`),N.Instance;i>=0&&r.length!==i&&e.addError(new Kh(Jh.RoWrongNumberOfParams,e.location,e.getBacktrace()))}try{return n(e,...r)}catch(t){if(!(t instanceof Kh))throw t;t.location??=e.location,t.backTrace??=e.getBacktrace(),e.addError(t)}}return N.Instance}}),Mb=new yf("CopyFile",{signature:{args:[new gf("source",R.String),new gf("destination",R.String)],returns:R.Boolean},impl:(e,t,r)=>{const n=Ch.fileSystem;try{if(!Ah(r.value)||!n.existsSync(t.value))return P.False;const e=n.readFileSync(t.value);return n.writeFileSync(r.value,e),P.True}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,*** ERROR: Copying '${t.value}' to '${r.value}': ${e.message}`),P.False}}}),Cb=new yf("MoveFile",{signature:{args:[new gf("source",R.String),new gf("destination",R.String)],returns:R.Boolean},impl:(e,t,r)=>{const n=Ch.fileSystem;try{return Ah(t.value)&&Ah(r.value)&&Ih(t.value)===Ih(r.value)&&n.existsSync(t.value)?(n.renameSync(t.value,r.value),P.True):P.False}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,*** ERROR: Moving '${t.value}' to '${r.value}': ${e.message}`),P.False}}}),Rb=new yf("DeleteFile",{signature:{args:[new gf("file",R.String)],returns:R.Boolean},impl:(e,t)=>{const r=Ch.fileSystem;try{return Ah(t.value)?(r.unlinkSync(t.value),P.True):P.False}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,*** ERROR: Deleting '${t.value}': ${e.message}`),P.False}}}),Db=new yf("DeleteDirectory",{signature:{args:[new gf("dir",R.String)],returns:R.Boolean},impl:(e,t)=>{const r=Ch.fileSystem;try{return Ah(t.value)?(r.rmdirSync(t.value),P.True):P.False}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,*** ERROR: Deleting '${t.value}': ${e.message}`),P.False}}}),Ob=new yf("CreateDirectory",{signature:{args:[new gf("dir",R.String)],returns:R.Boolean},impl:(e,t)=>{const r=Ch.fileSystem;try{return Ah(t.value)?(r.mkdirSync(t.value),P.True):P.False}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,*** ERROR: Creating '${t.value}': ${e.message}`),P.False}}}),Fb=new yf("FormatDrive",{signature:{args:[new gf("drive",R.String),new gf("fs_type",R.String)],returns:R.Boolean},impl:(e,t)=>(Ch.isDevMode&&Ch.stderr.write("warning,`FormatDrive` is not implemented in `brs-engine`."),P.False)}),Pb=new yf("ListDir",{signature:{args:[new gf("path",R.String)],returns:R.Object},impl:(e,t)=>{const r=Ch.fileSystem;let n="";try{if(xh(t.value)){if(r.existsSync(t.value)){const e=r.readdirSync(t.value).map(e=>new F(e));return new Ff(e)}}else n=`warning,*** ERROR: Missing or invalid PHY: '${t.value}'`}catch(e){Ch.isDevMode&&(n=`warning,*** ERROR: Listing '${t.value}': ${e.message}`)}return n&&Ch.stderr.write(n),new Ff([])}}),Nb=new yf("ReadAsciiFile",{signature:{args:[new gf("filepath",R.String)],returns:R.String},impl:(e,t)=>{const r=Ch.fileSystem;try{return xh(t.value)?new F(r.readFileSync(t.value,"utf8")):new F("")}catch(r){let n=`warning,BRIGHTSCRIPT: ERROR: ReadAsciiFile: file open for read failed: ${e.formatLocation()}`;return Ch.isDevMode&&(n=`warning,*** ERROR: ReadAsciiFile: Reading '${t.value}': ${r.message} - ${e.formatLocation()}`),Ch.stderr.write(n),new F("")}}}),Bb=new yf("WriteAsciiFile",{signature:{args:[new gf("filepath",R.String),new gf("text",R.String)],returns:R.Boolean},impl:(e,t,r)=>{const n=Ch.fileSystem;try{return Ah(t.value)?(n.writeFileSync(t.value,r.value,"utf8"),P.True):P.False}catch(r){let n=`warning,BRIGHTSCRIPT: ERROR: WriteAsciiFile: file open for write failed: ${e.formatLocation()}`;return Ch.isDevMode&&(n=`warning,*** ERROR: Writing '${t.value}': ${r.message} - ${e.formatLocation()}`),Ch.stderr.write(n),P.False}}}),Lb=new yf("MatchFiles",{signature:{args:[new gf("path",R.String),new gf("pattern_in",R.String)],returns:R.Object},impl:(e,t,r)=>{const n=Ch.fileSystem;try{if(!xh(t.value))return new Ff([]);let e=n.readdirSync(t.value),i=jm.match(e,r.value,{nocase:!0,nodupes:!0,noglobstar:!0,nonegate:!0});return i=(i||[]).map(e=>new F(e)),new Ff(i)}catch(e){return Ch.isDevMode&&Ch.stderr.write(`warning,*** ERROR: Matching '${t.value}' with '${r.value}': ${e.message}`),new Ff([])}}});function Ub(e,t=0,r=""){switch(e.kind){case R.Invalid:return"null";case R.String:return function(e,t){return t?`"${e.replace(/[\u007F-\uFFFF]/g,e=>`\\u${e.charCodeAt(0).toString(16).padStart(4,"0").toUpperCase()}`)}"`:`"${e}"`}(e.toString(),!(1&t));case R.Boolean:case R.Double:case R.Float:case R.Int32:case R.Int64:return e.toString();case R.Object:if(e instanceof If)return`{${e.getElements().map(n=>`"${r=n.toString()}":${Ub(e.get(n),t,r)}`).join(",")}}`;if(e instanceof Mf)return`[${e.getElements().map(e=>Ub(e,t,r)).join(",")}]`;if(U(e))return Ub(e.unbox(),t,r);case R.Callable:case R.Uninitialized:case R.Interface:}let n=e instanceof Rh?e.getComponentName():e;if(256&t)return"null";if(512&t)return`"<${n}>"`;let i=`Value type not supported: ${n}`;throw""!==r&&(i=`${r}: ${i}`),new Error(i)}function Vb(e,t,r){Ch.stderr.write(`warning,BRIGHTSCRIPT: ERROR: ${t}: ${r.message}: ${e.formatLocation()}`)}const jb=new yf("FormatJson",{signature:{returns:R.String,args:[new gf("x",R.Dynamic),new gf("flags",R.Int32,new lf(0))]},impl:(e,t,r)=>{try{return new F(Ub(t,r.getValue()))}catch(t){return t instanceof RangeError&&(t=new Error("Nested object reference")),Vb(e,"FormatJSON",t),new F("")}}}),zb=new yf("ParseJson",{signature:{returns:R.Dynamic,args:[new gf("jsonString",R.String),new gf("flags",R.String,new F(""))]},impl:(e,t,r)=>{try{const n=t.value.trim();if(""===n)throw new Error("Data is empty");const i=r.value;i.length>0&&!["i","d","id","di"].includes(i)&&Vb(e,"ParseJSON",new Error(`Invalid options in '${i}'`));const s=JSON.parse(n,(t,r,n)=>"number"!=typeof r?r:"number"!=typeof r||Number.isFinite(r)?function(e,t,r){const n=0x8000000000000000n,i=Iy(r.source)??0;if(Number.isInteger(e)&&!Number.isSafeInteger(e)){if(/[.eE]/.test(r.source))return af.fromString(r.source);{const e=BigInt(r.source);return e>=-n&&e<n?nf.fromString(r.source):cf.fromString(r.source)}}return"number"==typeof e&&i>0?i>6&&t.includes("d")?af.fromString(r.source):cf.fromString(r.source):e}(r,i,n):(Vb(e,"ParseJSON",new Error(`Invalid number: ${r}`)),new $m));return Sy(s,!i.includes("i"))}catch(t){return Vb(e,"ParseJSON",t),N.Instance}}}),$b=new yf("Abs",{signature:{args:[new gf("x",R.Float)],returns:R.Float},impl:(e,t)=>new cf(Math.abs(t.getValue()))}),qb=new yf("Cdbl",{signature:{args:[new gf("x",R.Int32)],returns:R.Float},impl:(e,t)=>new cf(t.getValue())}),Gb=new yf("Cint",{signature:{args:[new gf("x",R.Dynamic)],returns:R.Int32},impl:(e,t)=>{if(U(t)&&(t=t.unbox()),sy(t))return Yb(t,"round");e.addError(new Kh(t instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch,e.location,e.getBacktrace()))}}),Wb=new yf("Csng",{signature:{args:[new gf("x",R.Int32)],returns:R.Float},impl:(e,t)=>new cf(t.getValue())}),Hb=new yf("Fix",{signature:{args:[new gf("x",R.Dynamic)],returns:R.Int32},impl:(e,t)=>{if(U(t)&&(t=t.unbox()),sy(t))return Yb(t,"trunc");e.addError(new Kh(t instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch,e.location,e.getBacktrace()))}}),Xb=new yf("Int",{signature:{args:[new gf("x",R.Dynamic)],returns:R.Int32},impl:(e,t)=>{if(U(t)&&(t=t.unbox()),sy(t))return Yb(t);e.addError(new Kh(t instanceof B?Jh.UninitializedVariable:Jh.TypeMismatch,e.location,e.getBacktrace()))}});function Yb(e,t="floor"){if(e.kind===R.Float||e.kind===R.Double)return new lf("round"===t?Math.round(e.getValue()):"trunc"===t?Math.trunc(e.getValue()):Math.floor(e.getValue()));if(e.kind===R.Int64){const t=2147483648;return e.getValue().lessThan(t)&&e.getValue().greaterThan(-t)?new lf(e.getValue()):e.getValue().greaterThan(t-1)?new lf(t-1):new lf(-t)}return e}function Kb(e,t){let r=t.getValue();return new lf(r>0?1:r<0?-1:0)}const Zb=new yf("Sgn",{signature:{args:[new gf("x",R.Float)],returns:R.Int32},impl:Kb},{signature:{args:[new gf("x",R.Int32)],returns:R.Int32},impl:Kb}),Jb=new yf("Atn",{signature:{args:[new gf("x",R.Float)],returns:R.Float},impl:(e,t)=>new cf(Math.atan(t.getValue()))}),Qb=new yf("Cos",{signature:{args:[new gf("x",R.Float)],returns:R.Float},impl:(e,t)=>new cf(Math.cos(t.getValue()))}),ew=new yf("Sin",{signature:{args:[new gf("x",R.Float)],returns:R.Float},impl:(e,t)=>new cf(Math.sin(t.getValue()))}),tw=new yf("Tan",{signature:{args:[new gf("x",R.Float)],returns:R.Float},impl:(e,t)=>new cf(Math.tan(t.getValue()))}),rw=new yf("Exp",{signature:{args:[new gf("x",R.Float)],returns:R.Float},impl:(e,t)=>new cf(Math.exp(t.getValue()))}),nw=new yf("Log",{signature:{args:[new gf("x",R.Float)],returns:R.Float},impl:(e,t)=>new cf(Math.log(t.getValue()))}),iw=new yf("Sqr",{signature:{args:[new gf("x",R.Float)],returns:R.Float},impl:(e,t)=>new cf(Math.sqrt(t.getValue()))}),sw=new yf("Rnd",{signature:{args:[new gf("range",R.Int32)],returns:R.Dynamic},impl:(e,t)=>0===t.getValue()?new cf(Math.random()):new lf(Math.floor(Math.random()*t.getValue()+1))}),aw=new yf("Tab",{signature:{args:[new gf("position",R.Int32)],returns:R.String},impl:(e,t)=>{const r=t.getValue(),n=Ch.stdout.position();if(r<0||r<n)return new F("");const i=r-n;return new F(i<=0?"":" ".repeat(i))}}),ow=new yf("Pos",{signature:{args:[new gf("dummy",R.Dynamic)],returns:R.Int32},impl:e=>new lf(Ch.stdout.position())});function cw(e,t,r){try{const n=new Hw(e.options);for(const[t,r]of e.manifest)n.manifest.set(t,r);const i=new Map;for(const e of t)Ch.fileSystem.existsSync(e.value)&&i.set(e.value,Ch.fileSystem.readFileSync(e.value,"utf8"));if(0!==i.size){const e=rv(Ch.fileSystem,n.manifest,i),t=n.scanApp(e.statements,i);return n.execApp(t,...r)[0]||N.Instance}}catch(e){}return N.Instance}const uw=new yf("Run",...yf.variadic({signature:{args:[new gf("filename",R.String)],returns:R.Dynamic},impl:(e,t,...r)=>cw(e,[t],r)}),...yf.variadic({signature:{args:[new gf("filenameArray",R.Object)],returns:R.Dynamic},impl:(e,t,...r)=>t instanceof Mf&&t.getElements().every(uy)?cw(e,t.getElements(),r):N.Instance})),lw=new yf("UCase",{signature:{args:[new gf("s",R.String)],returns:R.String},impl:(e,t)=>new F(t.value.toUpperCase())}),hw=new yf("LCase",{signature:{args:[new gf("s",R.String)],returns:R.String},impl:(e,t)=>new F(t.value.toLowerCase())}),fw=new yf("Asc",{signature:{args:[new gf("letter",R.String)],returns:R.Int32},impl:(e,t)=>0===t.value.length?new lf(0):new lf(t.value.codePointAt(0)??0)}),dw=new yf("Chr",{signature:{args:[new gf("ch",R.Int32)],returns:R.String},impl:(e,t)=>{const r=t.getValue(),n=r<=0||r>1114111?"":String.fromCodePoint(r);return new F(n)}}),pw=new yf("Left",{signature:{args:[new gf("s",R.String),new gf("n",R.Int32)],returns:R.String},impl:(e,t,r)=>r.getValue()<=0?new F(""):new F(t.value.slice(0,r.getValue()))}),gw=new yf("Right",{signature:{args:[new gf("s",R.String),new gf("n",R.Int32)],returns:R.String},impl:(e,t,r)=>r.getValue()<=0?new F(""):new F(t.value.slice(-r.getValue()))}),mw=new yf("Instr",{signature:{args:[new gf("start",R.Int32),new gf("str",R.String),new gf("search",R.String)],returns:R.String},impl:(e,t,r,n)=>new lf(r.value.indexOf(n.value,t.getValue()-1)+1)},{signature:{args:[new gf("str",R.String),new gf("search",R.String)],returns:R.String},impl:(e,t,r)=>new lf(t.value.indexOf(r.value)+1)}),yw=new yf("Len",{signature:{args:[new gf("s",R.String)],returns:R.Int32},impl:(e,t)=>new lf(t.value.length)}),bw=new yf("Mid",{signature:{args:[new gf("s",R.String),new gf("p",R.Int32)],returns:R.String},impl:(e,t,r)=>{let n=r.getValue()-1;return new F(t.value.substring(n))}},{signature:{args:[new gf("s",R.String),new gf("p",R.Int32),new gf("n",R.Int32)],returns:R.String},impl:(e,t,r,n)=>{const i=r.getValue()-1,s=n.getValue();return new F(s<=0?"":t.value.substring(i,i+s))}}),ww=new yf("Str",{signature:{args:[new gf("value",R.Double)],returns:R.String},impl:(e,t)=>{const r=t.getValue();return new F((r>=0?" ":"")+String(r))}}),vw=new yf("StrI",{signature:{args:[new gf("value",R.Int32),new gf("radix",R.Int32,new lf(10))],returns:R.String},impl:(e,t,r)=>{let n=r.getValue();if(n<2||n>36)return new F("");const i=t.getValue();return new F((i>=0&&10===n?" ":"")+i.toString(n))}}),Sw=new yf("String",{signature:{args:[new gf("n",R.Int32),new gf("str",R.String)],returns:R.String},impl:(e,t,r)=>{const n=t.getValue();return new F(n<=0?"":r.value.repeat(n))}}),Ew=new yf("StringI",{signature:{args:[new gf("n",R.Int32),new gf("ch",R.Int32)],returns:R.String},impl:(e,t,r)=>{const n=t.getValue();if(n<=0)return new F("");const i=r.getValue(),s=i<=0||i>1114111?"":String.fromCodePoint(i);return new F(s.repeat(n))}}),_w=new yf("Substitute",{signature:{args:[new gf("str",R.String),new gf("arg0",R.String),new gf("arg1",R.String,new F("")),new gf("arg2",R.String,new F("")),new gf("arg3",R.String,new F(""))],returns:R.String},impl:(e,t,r,n,i,s)=>{let a=[r,n,i,s].reduce((e,t,r)=>{const n=new RegExp(`\\{${r}\\}|\\^${r}`,"g");return e.replace(n,t.value)},t.value);return new F(a)}}),Iw=new yf("Val",{signature:{args:[new gf("s",R.String),new gf("radix",R.Int32,N.Instance)],returns:R.Dynamic},impl:(e,t,r)=>{if(t.value.includes(".")||r instanceof N){const e=Number(t.value);return Number.isNaN(e)?new cf(0):new cf(e)}{const e=Number.parseInt(t.value,r.getValue());return Number.isNaN(e)?new lf(0):new lf(e)}}}),xw=new yf("StrToI",{signature:{args:[new gf("s",R.String)],returns:R.Int32},impl:(e,t)=>{let r=Number.parseInt(t.value);return Number.isNaN(r)?new lf(0):new lf(r)}}),Aw=new yf("type",{signature:{args:[new gf("variable",R.Dynamic),new gf("version",R.Int32,new lf(2))],returns:R.String},impl:(e,t,r)=>{switch(t.kind){case R.Object:return new F(t.getComponentName());case R.Interface:return new F(t.name);default:{const e=3!==r.getValue()&&L(t)&&t.inArray;return new F(R.toString(t.kind,e))}}}}),kw=new yf("Box",{signature:{args:[new gf("value",R.Dynamic)],returns:R.Object},impl:(e,t)=>L(t)?t.box():t}),Tw=new yf("UpTime",{signature:{args:[new gf("dummy",R.Int32)],returns:R.Float},impl:e=>{const t=Ch.deviceInfo.startTime,r=(Date.now()-t)/1e3;return new cf(Math.round(100*r+Number.EPSILON)/100)}}),Mw=new yf("GetGlobalAA",{signature:{args:[],returns:R.Dynamic},impl:e=>e.environment.getRootM()}),Cw=new yf("Sleep",{signature:{args:[new gf("timeout",R.Int32)],returns:R.Void},impl:(e,t)=>{let r=t.getValue();for(r+=performance.now();performance.now()<r;);return N.Instance}}),Rw=new yf("Wait",{signature:{args:[new gf("timeout",R.Int32),new gf("port",R.Object)],returns:R.Dynamic},impl:(e,t,r)=>r.wait(e,t.getValue())}),Dw=new yf("Tr",{signature:{args:[new gf("source",R.String)],returns:R.String},impl:(e,t)=>{let r=e.translations.get(t.value);return r?new F(r):t}});function Ow(e,t="[Function]"){const r=new yf(t,{signature:{args:e.parameters,returns:e.returns},impl:(t,...r)=>{t.environment.gotoLabel="";let n=e.location,i=!1;for(;!i;)try{for(const r of e.body.statements)t.execute(r);i=!0}catch(e){if(!(e instanceof jy))throw e;t.environment.gotoLabel=e.label.toLowerCase(),n=e.location}if(""!==t.environment.gotoLabel&&t.addError(new Kh(Jh.MissingLineNumber,n,t.getBacktrace())),e.returns!==R.Void&&e.returns!==R.Dynamic){const r=hf(new lf(0),e.returns);return r||t.addError(new Sb({message:"Unable to cast",left:{type:e.returns,location:e.location},right:{type:R.Int32,location:e.location},cast:!0})),r}return N.Instance}});return r.setLocation(e.location),r.setUserDefined(),r}function Fw(e,t,r,n,i){for(function(e,t,r,n,i){const s=Le(e.sourceMap.get(t.file))??[""];let a="BrightScript Micro Debugger.\r\n",o=t.start.line;if(e.debugMode!==qw.STEP||n){Ch.notifyDebugStarted(),a+="Enter any BrightScript statement, debug commands, or HELP\r\n\r\n",a+="\r\nCurrent Function:\r\n";let t=Math.max(o-8,1),c=Math.min(o+5,s.length);for(let e=t;e<c;e++){const t=e===o?"*":" ",r=s[e-1]?.trimEnd()??"";a+=`${e.toString().padStart(3,"0")}:${t} ${r}\r\n`}a+="Source Digest(s):\r\n",a+=`pkg: dev ${e.getChannelVersion()} 5c04534a `,a+=`${e.manifest.get("title")||"brs"}\r\n\r\n`,a+=`${n??"STOP"} (runtime error &h${i?Be(i):"f7"}) in ${e.formatLocation()}`,a+="\r\nBacktrace: \r\n",Ch.stdout.write(`print,${a}`),Ch.stdout.write(`print,${e.formatBacktrace(r)}`),Ch.stdout.write("print,Local variables:\r\n"),Ch.stdout.write(`print,${e.formatVariables()}`),a="\r\nThreads: \r\n",a+=Uw(e,r,s,o),Ch.stdout.write(`print,${a}\r\n`)}else{const e=s[o-1]?.trimEnd()??"";Ch.stdout.write(`print,${o.toString().padStart(3,"0")}: ${e}\r\n`)}}(e,r,t,n,i);;){let i="";i=Pw();const s=Vw(i);if(s.cmd!==xe.EXPR){switch(s.cmd){case xe.CONT:if(n){Ch.stdout.write("print,Can't continue");continue}return e.debugMode=qw.NONE,Ch.notifyDebugEnded(),!0;case xe.STEP:if(n){Ch.stdout.write("print,Can't continue");continue}return e.debugMode=qw.STEP,!0;case xe.EXIT:return e.debugMode=qw.EXIT,!1}Lw(e,t,r,s.cmd)}else Nw(e,s.expr)}}function Pw(){let e="";Ch.stdout.write(`print,\r\n${Ie}`),Atomics.wait(Ch.sharedArray,ne.DBG,-1);const t=Atomics.load(Ch.sharedArray,ne.DBG);return Atomics.store(Ch.sharedArray,ne.DBG,-1),t===xe.EXPR&&(e=Ch.readDataBuffer()),e}async function Nw(e,t){const r=new Py,n=new vb;if(e.debugMode=qw.NONE,0===t.trim().length)return;const i=r.scan(`${t}\n`,"debug");if(i.errors.length>0)return void Ch.stderr.write(`error,${i.errors[0].message}\r\n`);const s=n.parse(i.tokens);if(s.errors.length>0)Ch.stderr.write(`error,${s.errors[0].message}\r\n`);else for(const t of s.statements)Bw(e,t)}function Bw(e,t){try{t instanceof $y?e.visitAssignment(t):t instanceof ub?e.visitDottedSet(t):t instanceof lb?e.visitIndexedSet(t):t instanceof eb?e.visitPrint(t):t instanceof Wy?e.visitExpression(t):t instanceof Qy?e.visitIncrement(t):t instanceof Jy?e.visitIf(t):t instanceof ab?e.visitFor(t):t instanceof ob?e.visitForEach(t):t instanceof cb?e.visitWhile(t):t instanceof Zy?e.visitNamedFunction(t):Ch.stderr.write("warning,Debug command/expression not supported!\r\n")}catch(e){let t=e.message;e instanceof Yh&&(t=e.format()),Ch.stderr.write(`error,${t}\r\n`)}}function Lw(e,t,r,n){const i=e.stackCopy,s=Le(e.sourceMap.get(r.file))??[""],a=Le(e.sourceMap.get(t.file))??[""];let o=r.start.line,c=t.start.line,u="",l="";switch(n){case xe.BT:l=`print,${e.formatBacktrace(t)}`;break;case xe.HELP:l=`print,${function(){let e="";return e+="Command List:\r\n",e+="   bt              Print backtrace of call function context frames\r\n",e+="   classes         List public classes\r\n",e+="   cont|c          Continue script execution\r\n",e+="   exit|quit|q     Exit shell\r\n",e+="   last|l          Show last line that executed\r\n",e+="   next|n          Show the next line to execute\r\n",e+="   list            List current function\r\n",e+="   bscs            Summarize BrightScript Component instances\r\n",e+="   sgnodes         Summarize SceneGraph nodes\r\n",e+="   stats           Shows statistics\r\n",e+="   step|s|t        Step one program statement\r\n",e+="   thread|th       Show selected thread\r\n",e+="   threads|ths     List all threads of execution\r\n",e+="   over|v          Step over one program statement (for now act as step)\r\n",e+="   out|o           Step out from current function (for now act as step)\r\n",e+="   var             Display local variables and their types/values\r\n",e+="   print|p|?       Print variable value or expression\r\n\r\n",e+="   Type any expression for a live compile and run, in the context\r\n",e+="   of the current function.  Put the 'stop' statement in your code\r\n",e+="   to trigger a breakpoint.  Then use 'c', 's', or other commands.\r\n","Command List:\r\n   bt              Print backtrace of call function context frames\r\n   classes         List public classes\r\n   cont|c          Continue script execution\r\n   exit|quit|q     Exit shell\r\n   last|l          Show last line that executed\r\n   next|n          Show the next line to execute\r\n   list            List current function\r\n   bscs            Summarize BrightScript Component instances\r\n   sgnodes         Summarize SceneGraph nodes\r\n   stats           Shows statistics\r\n   step|s|t        Step one program statement\r\n   thread|th       Show selected thread\r\n   threads|ths     List all threads of execution\r\n   over|v          Step over one program statement (for now act as step)\r\n   out|o           Step out from current function (for now act as step)\r\n   var             Display local variables and their types/values\r\n   print|p|?       Print variable value or expression\r\n\r\n   Type any expression for a live compile and run, in the context\r\n   of the current function.  Put the 'stop' statement in your code\r\n   to trigger a breakpoint.  Then use 'c', 's', or other commands.\r\n"}()}`;break;case xe.LAST:u=s[o-1]?.trimEnd()??"",l=`print,${o.toString().padStart(3,"0")}: ${u}\r\n`;break;case xe.LIST:l=`print,${function(e,t,r){let n="";if(e.length>0){const i=e[e.length-1],s=i.functionLocation.start.line,a=Math.min(i.functionLocation.end.line,t.length);for(let e=s;e<=a;e++){const i=e===r?"*":" ",s=t[e-1].trimEnd();n+=`${e.toString().padStart(3,"0")}:${i} ${s}\r\n`}}return n}(i,a,t.file===r.file?o:c)}`;break;case xe.NEXT:u=a[c-1]?.trimEnd()??"",l=`print,${c.toString().padStart(3,"0")}: ${u}\r\n`;break;case xe.THREAD:{const r=jw(e.formatLocation(t),36),n=s[o-1]?.trim()??"";l="print,Thread selected: ",l+=` ${Ch.threadId}*   ${r.padEnd(40)}${n}\r\n`;break}case xe.THREADS:l=`print,${Uw(e,t,s,o)}`;break;case xe.BSCS:{const e=Array.from(Ch.bscs.keys()).sort((e,t)=>e.localeCompare(t));let t=0;l="print,";for(const r of e){const e=Ch.bscs.get(r);e&&(l+=`${r}: `.padStart(27),l+=`count=${e}\r\n`,t+=e)}l+="Total # components: ".padStart(27),l+=`${t}\r\n`;break}case xe.SGNODES:{const e=Ch.nodes;let t=0;if(l="print,",e.size>0)for(const{name:r,count:n}of e.values())l+=`${r}: `.padStart(27),l+=`count=${n}\r\n`,t+=n;l+="Total # SceneGraph nodes: ".padStart(27),l+=`${t}\r\n`;break}case xe.STATS:l=`print,${e.formatStats()}`;break;case xe.CLASSES:l=`print,${ey.keys().sort().join("\r\n")}\r\n`;break;case xe.VAR:l=`print,${e.formatVariables()}`;break;case xe.BREAK:l="warning,Micro Debugger already running!\r\n";break;case xe.PAUSE:break;default:l="warning,Invalid Debug command/expression!\r\n"}l.length&&Ch.stdout.write(l)}function Uw(e,t,r,n){let i="";const s=jw(e.formatLocation(t),36),a=r[n-1]?.trimEnd()??"";return i="ID    Location                                Source Code\r\n",i+=` ${Ch.threadId}*   ${s.padEnd(40)}${a}\r\n`,i+="  *selected",i}function Vw(e){let t={cmd:xe.EXPR,expr:""};if(e?.length){const r=new Map([["bscs",xe.BSCS],["bt",xe.BT],["classes",xe.CLASSES],["cont",xe.CONT],["c",xe.CONT],["exit",xe.EXIT],["q",xe.EXIT],["quit",xe.EXIT],["help",xe.HELP],["last",xe.LAST],["l",xe.LAST],["list",xe.LIST],["next",xe.NEXT],["n",xe.NEXT],["over",xe.STEP],["out",xe.STEP],["step",xe.STEP],["sgnodes",xe.SGNODES],["stats",xe.STATS],["s",xe.STEP],["t",xe.STEP],["thread",xe.THREAD],["th",xe.THREAD],["threads",xe.THREADS],["ths",xe.THREADS],["var",xe.VAR],["break",xe.BREAK],["pause",xe.PAUSE]]);let n=e.trim().split(/(?<=^\S+)\s/),i=r.get(n[0].toLowerCase());if(void 0!==i&&1===n.length)t.cmd=i;else{let r=e.toString().trim();"p"===n[0].toLowerCase()&&(r="? "+r.slice(1)),t.expr=r}}return t}function jw(e,t){if(e.length<=t)return e;if(t<=3)return"...".slice(0,t);const r=t-3;return"..."+e.slice(-r)}var zw=__webpack_require__(9907);const $w={entryPoint:!1,stopOnCrash:!1,stdout:zw.stdout,stderr:zw.stderr,post:!0};var qw;!function(e){e[e.NONE=0]="NONE",e[e.DEBUG=1]="DEBUG",e[e.STEP=2]="STEP",e[e.EXIT=3]="EXIT"}(qw||(qw={}));const Gw=["debug-exit","end-statement"],Ww=new Wh(new If([]));class Hw{_stack=new Array;_startTime=Date.now();_creationTime="2026-02-12T00:26:12.753Z";_environment;_sourceMap=new Map;_runParams;_tryMode=!1;_debugMode=qw.NONE;_dotLevel=0;_printed=!1;_lastStmt=null;location={file:"",start:{line:0,column:0},end:{line:0,column:0}};static InternalLocation={file:"(internal)",start:{line:-1,column:-1},end:{line:-1,column:-1}};options=$w;manifest=new Map;translations=new Map;extensions=new Map;events=new D.EventEmitter;errors=[];get environment(){return this._environment}get sourceMap(){return this._sourceMap}set sourceMap(e){for(const[t,r]of e.entries())this._sourceMap.set(t,r)}get runParams(){return this._runParams}get stackCopy(){return this._stack.slice()}get startTime(){return this._startTime}get creationTime(){return this._creationTime}get debugMode(){return this._debugMode}set debugMode(e){this._debugMode!==qw.EXIT&&(this._debugMode=e)}inExitMode(){return this._debugMode===qw.EXIT}addToStack(e){this.inExitMode()||this._stack.push(e)}popFromStack(){this.inExitMode()||this._stack.pop()}getBacktrace(){return this._stack.slice(0,-1)}setManifest(e){Ch.singleKeyEvents=!0,Ch.useCORSProxy=!0;for(const[t,r]of e.entries())this.manifest.set(t,r),"multi_key_events"===t.toLowerCase()?Ch.singleKeyEvents="1"!==r.trim():"cors_proxy"===t.toLowerCase()&&(Ch.useCORSProxy="0"!==r.trim());Ch.sfx.length=0,Ch.sfx.push(...Ce.slice())}onError(e){return this.events.on("err",e),{dispose:()=>{this.events.removeListener("err",e)}}}onErrorOnce(e){this.events.once("err",e)}constructor(e,t=!1){this._environment=t?Ww:new Wh(new If([])),Object.assign(this.options,e),Ch.stdout=new kh(this.options.stdout,this.options.post),Ch.stderr=new kh(this.options.stderr,this.options.post),this.options.root&&Ch.fileSystem.setRoot(this.options.root),this.options.ext&&Ch.fileSystem.setExt(this.options.ext);const r=new Set,n=Object.keys(A).map(e=>A[e]).filter(e=>e instanceof yf).filter(e=>{if(!e.name)throw new Error("Unnamed standard library function detected!");return!!e.name});for(const e of n)this._environment.define(Th.Global,e.name??"",e),e.name&&Cy.has(e.name)&&r.add(e.name);this._environment.define(Th.Global,"global",new V("ifGlobal",r))}inSubEnv(e,t){let r,n=this._environment,i=t??this._environment.createSubEnvironment();try{this._environment=i;const t=e(this);return this._environment=n,t}catch(e){throw this._tryMode||!this.options.stopOnCrash||e instanceof Ny?e instanceof zy&&e.value instanceof Rh&&(r=e.value,r.setReturn(!0)):n=this._environment,this._environment=n,e}finally{i.removeReferences(),r?.setReturn(!1)}}exec(e,t,...r){if(t){this._sourceMap=t;for(const e of this.extensions.values())e.updateSourceMap&&e.updateSourceMap(this._sourceMap)}return e.map(e=>this.execute(e))}scanApp(e,t){return t&&(this._sourceMap=t),e.map(e=>this.execute(e))}execApp(e,...t){if(this._sourceMap)for(const e of this.extensions.values())e.updateSourceMap&&e.updateSourceMap(this._sourceMap);try{let r="RunUserInterface",n=this.getCallableFunction(r.toLowerCase());if(n.kind!==R.Callable&&(r="Main",n=this.getCallableFunction(r.toLowerCase())),n.kind===R.Callable){let i=new $h({kind:xy.Identifier,text:r.toLowerCase(),isReserved:!1,location:Hw.InternalLocation});t.length>0&&t[0]instanceof If&&(this._runParams=t[0]),0===n.signatures[0].signature.args.length&&(t=[]),postMessage(`start,${i.name.text}`),e=[this.visitCall(new Oh(i,i.name,t.map(e=>new Uh(e,i.location))))]}else this.options.entryPoint&&!this._printed&&postMessage("warning,WARNING! No entry point found! You may need to define a function Main() or RunUserInterface()")}catch(t){if(!(t instanceof zy)){if(t instanceof Yh){const e=this.formatBacktrace(t.location??this.location,!0,t.backTrace);throw new Error(`${t.format()}\nBackTrace:\n${e}`,{cause:t})}throw t}e=[t.value??N.Instance]}return e}getCallableFunction(e,t){let r=new $h({kind:xy.Identifier,text:e,isReserved:!1,location:t??Hw.InternalLocation}),n=this.evaluate(r);return n.kind===R.Callable?n:N.Instance}visitLibrary(e){return N.Instance}visitNamedFunction(e){if(e.name.isReserved&&this.addError(new Yh(`Cannot create a named function with reserved name '${e.name.text}'`,e.name.location)),this.environment.has(e.name,[Th.Module])){const t=this.environment.getDefinedLocation(e.name.text);t&&!Ty.equalTo(t,e.location)&&this.addError(new Yh(`Attempting to declare function '${e.name.text}' at ${e.location.file}, but it already exists in this scope from ${t.file}`,e.name.location))}else{const t=Ow(e.func,e.name.text);this.environment.define(Th.Module,e.name.text,t,e.location),this.environment.id>0&&!Ww.has(e.name,[Th.Module])&&Ww.define(Th.Module,e.name.text,t,e.location)}return N.Instance}visitReturn(e){if(!e.value)throw new zy(e.tokens.return.location);const t=this.evaluate(e.value);throw new zy(e.tokens.return.location,t)}visitExpression(e){return this.evaluate(e.expression)}visitPrint(e){this._printed=!0,this.environment.define(Th.Function,"Tab",aw);let t="";for(const[r,n]of e.expressions.entries())if(My(n))switch(n.kind){case xy.Comma:{const e=" ".repeat(16-Ch.stdout.position()%16);t+=e,Ch.stdout.position(e);break}case xy.Semicolon:break;default:this.addError(new Yh(`Found unexpected print separator '${n.text}'`,n.location))}else{const e=this.evaluate(n),r=py(e)&&this.isPositive(e.getValue())?" "+e.toString():e.toString();t+=r,Ch.stdout.position(r)}const r=e.expressions.at(-1);return r&&My(r)&&r.kind===xy.Semicolon||(t+="\r\n"),Ch.deviceInfo.logLevel===j.Debug&&(t=`{${Ch.threadId}} ${t}`),Ch.stdout.write(`print,${t}`),this.environment.remove("Tab"),N.Instance}visitStop(e){return this.inExitMode()||(this.debugMode=qw.DEBUG,this.checkDebugger(e)),N.Instance}visitAssignment(e){e.name.isReserved&&this.addError(new Yh(`Cannot assign a value to reserved name '${e.name.text}'`,e.name.location));let t=this.evaluate(e.value),r=e.name.text;const n={$:R.String,"%":R.Int32,"!":R.Float,"#":R.Double,"&":R.Int64}[r.at(-1)??""];if(n){const r=hf(t,n);r?t=r:this.addError(new Sb({message:"Unable to cast",left:{type:n,location:e.name.location},right:{type:t,location:e.value.location},cast:!0}))}else"global"===e.name.text.toLowerCase()&&this.addError(new Sb({message:"Reserved name 'global' cannot be used as a variable name. Unable to cast ",left:{type:R.Interface,location:e.name.location},right:{type:t,location:e.value.location},cast:!0}));try{this.environment.define(Th.Function,e.name.text,t,e.name.location)}catch(e){this.addError(e)}return N.Instance}visitDim(e){if(e.name.isReserved)return this.addError(new Yh(`Cannot assign a value to reserved name '${e.name.text}'`,e.name.location)),N.Instance;let t=[];for(const r of e.dimensions){let e=this.evaluate(r);my(e)&&(e=e.unbox()),e.kind!==R.Int32&&e.kind!==R.Float&&this.addError(new Kh(Jh.NonNumericArrayIndex,r.location)),t.push(e.getValue()+1)}let r=(e=0)=>{let n=[],i=t[e];for(let s=0;s<i;s++)if(e<t.length){let t=r(e+1);void 0!==t&&n.push(t)}return new Mf(n)},n=r();try{this.environment.define(Th.Function,e.name.text,n,e.name.location)}catch(e){this.addError(e)}return N.Instance}visitBinary(e){let t=e.token.kind,r=this.evaluate(e.left),n=N.Instance;function i(e,t,r){return e.kind===R.Invalid||r.kind===R.Invalid?t===xy.Equal||t===xy.LessGreater:(e.kind<R.Dynamic||U(e)||O(e))&&(r.kind<R.Dynamic||U(r)||O(r))}switch(t!==xy.And&&t!==xy.Or&&(n=this.evaluate(e.right)),U(r)&&(r=r.unbox()),U(n)&&(n=n.unbox()),t){case xy.LeftShift:case xy.LeftShiftEqual:return sy(r)&&sy(n)&&this.isPositive(n.getValue())&&this.lessThan(n.getValue(),32)?r.leftShift(n):sy(r)&&sy(n)?this.addError(new Kh(Jh.BadBitShift,e.right.location)):this.addError(new Sb({message:'Operator "<<" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.RightShift:case xy.RightShiftEqual:return sy(r)&&sy(n)&&this.isPositive(n.getValue())&&this.lessThan(n.getValue(),32)?r.rightShift(n):sy(r)&&sy(n)?this.addError(new Kh(Jh.BadBitShift,e.right.location)):this.addError(new Sb({message:'Operator ">>" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Minus:case xy.MinusEqual:return sy(r)&&sy(n)?r.subtract(n):this.addError(new Sb({message:'Operator "-" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Star:case xy.StarEqual:return sy(r)&&sy(n)?r.multiply(n):this.addError(new Sb({message:'Operator "*" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Caret:return sy(r)&&sy(n)?r.pow(n):this.addError(new Sb({message:'Operator "^" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Slash:case xy.SlashEqual:return sy(r)&&sy(n)?r.divide(n):this.addError(new Sb({message:'Operator "/" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Mod:return sy(r)&&sy(n)?r.modulo(n):this.addError(new Sb({message:'Operator "mod" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Backslash:case xy.BackslashEqual:return sy(r)&&sy(n)?r.intDivide(n):this.addError(new Sb({message:String.raw`Operator "\" can't be applied to`,left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Plus:case xy.PlusEqual:return sy(r)&&sy(n)?r.add(n):gy(r)&&gy(n)?r.concat(n):this.addError(new Sb({message:'Operator "+" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Greater:return py(r)&&py(n)||gy(r)&&gy(n)?r.greaterThan(n):this.addError(new Sb({message:'Operator ">" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.GreaterEqual:return py(r)&&py(n)||gy(r)&&gy(n)?r.greaterThan(n).or(r.equalTo(n)):this.addError(new Sb({message:'Operator ">=" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Less:return py(r)&&py(n)||gy(r)&&gy(n)?r.lessThan(n):this.addError(new Sb({message:'Operator "<" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.LessEqual:return py(r)&&py(n)||gy(r)&&gy(n)?r.lessThan(n).or(r.equalTo(n)):this.addError(new Sb({message:'Operator "<=" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Equal:return i(r,t,n)?r.equalTo(n):this.addError(new Sb({message:'Operator "=" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.LessGreater:return i(r,t,n)?r.equalTo(n).not():this.addError(new Sb({message:'Operator "<>" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.And:return ly(r)&&!r.toBoolean()?P.False:ly(r)?(n=this.evaluate(e.right),U(n)&&(n=n.unbox()),n instanceof P||sy(n)?r.and(n):this.addError(new Sb({message:'Operator "and" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}))):sy(r)?(n=this.evaluate(e.right),U(n)&&(n=n.unbox()),sy(n)||n instanceof P?r.and(n):this.addError(new Sb({message:'Operator "and" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}))):this.addError(new Sb({message:'Operator "and" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));case xy.Or:return ly(r)&&r.toBoolean()?P.True:ly(r)?(n=this.evaluate(e.right),U(n)&&(n=n.unbox()),n instanceof P||sy(n)?r.or(n):this.addError(new Sb({message:'Operator "or" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}))):sy(r)?(n=this.evaluate(e.right),U(n)&&(n=n.unbox()),sy(n)||n instanceof P?r.or(n):this.addError(new Sb({message:'Operator "or" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}))):this.addError(new Sb({message:'Operator "or" can\'t be applied to',left:{type:r,location:e.left.location},right:{type:n,location:e.right.location}}));default:this.addError(new Yh(`Received unexpected token kind '${e.token.kind}'`,e.token.location))}}visitTryCatch(e){let t=this._tryMode;try{this._tryMode=!0,this.visitBlock(e.tryBlock),this._tryMode=t}catch(r){if(this._tryMode=t,!(r instanceof Yh)||r instanceof jy||r instanceof zy)throw r;this.environment.define(Th.Function,e.errorBinding.name.text,this.formatErrorVariable(r)),this.visitBlock(e.catchBlock)}return N.Instance}visitThrow(e){let t=Jh.UserDefined;t.message="";let r=this.evaluate(e.value);if(gy(r))throw t.message=r.getValue(),new Kh(t,e.location,this._stack.slice());if(!(r instanceof If))throw t=Jh.MalformedThrow,t.message="Thrown value neither string nor roAssociativeArray.",new Kh(t,e.location,this._stack.slice());const n=new Map;for(const[e,a]of r.elements)if("number"===e.toLowerCase()?t=i(a,t):"message"===e.toLowerCase()?t=s(a,t):"backtrace"===e.toLowerCase()?a instanceof Mf?(n.set("backtrace",a),n.set("rethrown",P.True)):(t=Jh.MalformedThrow,t.message='Thrown "backtrace" is not an object.'):"rethrown"!==e.toLowerCase()&&n.set(e,a),t.errno===Jh.MalformedThrow.errno){n.clear();break}throw new Kh(t,e.location,this._stack.slice(),n);function i(e,t){if(e instanceof lf){if(t.errno=e.getValue(),""===t.message){const r=Zh(e.getValue());t.message=r?r.message:"UNKNOWN ERROR"}}else if(!(e instanceof N))return{errno:Jh.MalformedThrow.errno,message:'Thrown "number" is not an integer.'};return t}function s(e,t){if(e instanceof F)t.message=e.toString();else if(!(e instanceof N))return{errno:Jh.MalformedThrow.errno,message:'Thrown "message" is not a string.'};return t}}visitBlock(e){for(const t of e.statements)this.execute(t);return N.Instance}visitGoto(e){throw new jy(e.location,e.tokens.label.text)}visitContinueFor(e){throw new By(e.location)}visitExitFor(e){throw new Ly(e.location)}visitContinueWhile(e){throw new Uy(e.location)}visitExitWhile(e){throw new Vy(e.location)}visitCall(e){const t=this.evaluate(e.callee),r=t instanceof xf?t.unbox():t;let n=e.args.map(this.evaluate,this);if(!hy(r)){if(N.Instance.equalTo(r).toBoolean()&&e.optional)return r;this.addError(new Kh(Jh.NotAFunction,e.closingParen.location))}let i=this._environment.getRootM();return(e.callee instanceof Nh||e.callee instanceof Bh)&&(i=r.getContext()??i),this.call(r,n,i,e.callee.location)}visitAtSignGet(e){let t=this.evaluate(e.obj);if(t instanceof N&&e.optional)return t;if(t instanceof vm||t instanceof gm)try{return t.getAttribute(new F(e.name.text))}catch(t){this.addError(new Yh(t.message,e.name.location))}else this.addError(new Sb({message:'Expected "roXMLList" or "roXMLElement" not',left:{type:t,location:e.location}}))}visitDottedGet(e){e.obj instanceof Nh&&this._dotLevel++;let t=this.evaluate(e.obj),r=L(t)?t.box():t;if(r instanceof Rh){if(r.hasInterface(e.name.text))return this._dotLevel>0?r:this.addError(new Kh(Jh.BadSyntax,e.name.location));let t="";if(e.obj instanceof Nh){const n=e.obj.name.text;t=r.hasInterface(n)?n:""}r.setFilter(t)}else if(r instanceof V&&"ifGlobal"===r.name&&r.hasMethod(e.name.text))for(const t in A)if(t.toLowerCase()===e.name.text.toLowerCase()){const e=A[t];if(e instanceof yf)return e;break}if(this._dotLevel=0,fy(t))try{const r=t.get(new F(e.name.text));return hy(r)&&t instanceof If&&r.setContext(t),r}catch(t){this.addError(new Yh(t.message,e.name.location))}let n=Jh.DotOnNonObject;if(r instanceof Rh){const i=N.Instance.equalTo(t).toBoolean();if(i&&e.optional)return t;const s=r.getMethod(e.name.text);if(s)return s;i||(n=Jh.MemberFunctionNotFound)}this.addError(new Kh(n,e.name.location))}visitIndexedGet(e){let t=this.evaluate(e.obj);if(!fy(t)){if(t instanceof N&&e.optional)return t;this.addError(new Kh(Jh.UndimmedArray,e.location))}if(t instanceof If||t instanceof vm||Ef(t)){1!==e.indexes.length&&this.addError(new Kh(Jh.WrongNumberOfParams,e.closingSquare.location));let r=this.evaluate(e.indexes[0]);uy(r)||this.addError(new Sb({message:'"String" should be used as key, but received',left:{type:r,location:e.indexes[0].location}}));try{const e=t.get(r,!0);return hy(e)&&t instanceof If&&e.setContext(t),e}catch(t){this.addError(new Yh(t.message,e.closingSquare.location))}}t instanceof Xf&&1!==e.indexes.length&&this.addError(new Kh(Jh.BadNumberOfIndexes,e.closingSquare.location));let r=t;for(let t of e.indexes){let n=this.evaluate(t);if(yy(n)||this.addError(new Kh(Jh.NonNumericArrayIndex,t.location)),r instanceof Mf||r instanceof Xf||r instanceof Ff||r instanceof gm)try{r=r.get(n)}catch(e){this.addError(new Yh(e.message,t.location))}else this.addError(new Kh(Jh.BadNumberOfIndexes,e.location))}return r}visitGrouping(e){return this.evaluate(e.expression)}visitFor(e){let t=this.evaluate(e.increment);t instanceof cf&&(t=new lf(Math.trunc(t.getValue())));const r=e.counterDeclaration.name,n=new $y({equals:e.tokens.for},r,new Dh(new $h(r),{kind:xy.Plus,text:"+",isReserved:!1,location:Hw.InternalLocation},new Uh(t,e.increment.location)));let i;this.environment.continueFor?(this.execute(n),i=this.evaluate(new $h(r)),this.environment.continueFor=!1):(this.execute(e.counterDeclaration),i=this.evaluate(e.counterDeclaration.value));const s=this.evaluate(e.finalValue);if(i.getValue()>s.getValue()&&t.getValue()>0||i.getValue()<s.getValue()&&t.getValue()<0)return N.Instance;if(t.getValue()>0)for(;this.evaluate(new $h(r)).greaterThan(s).not().toBoolean();){try{this.execute(e.body)}catch(e){if(e instanceof Ly)break;if(!(e instanceof By))throw e}this.execute(n)}else for(;this.evaluate(new $h(r)).lessThan(s).not().toBoolean();){try{this.execute(e.body)}catch(e){if(e instanceof Ly)break;if(!(e instanceof By))throw e}this.execute(n)}return N.Instance}visitForEach(e){let t=this.evaluate(e.target);if(!dy(t)){const t="BRIGHTSCRIPT: ERROR: Runtime: FOR EACH value is not an enumerable object",r=`${e.item.location.file}(${e.item.location.start.line})`;return Ch.stderr.write(`warning,${t}: ${r}`),N.Instance}"global"===e.item.text.toLowerCase()&&this.addError(new Sb({message:"Reserved name 'global' cannot be used in this context. Unable to cast",left:{type:R.Interface,location:e.item.location},right:{type:R.Dynamic,location:e.item.location},cast:!0}));let r=0;this.environment.continueFor&&(r=this.environment.continueForEach,this.environment.continueFor=!1,this.environment.continueForEach=0);let n=0;for(t.resetNext();t.hasNext()===P.True;){const i=t.getNext();this.environment.define(Th.Function,e.item.text,i);try{r<=n&&this.execute(e.body)}catch(e){if(e instanceof Ly)break;if(!(e instanceof By))throw e instanceof jy?(this.environment.continueForEach=n+1,e):e}n++}return N.Instance}visitWhile(e){for(;this.evaluate(e.condition).equalTo(P.True).toBoolean();)try{this.execute(e.body)}catch(e){if(e instanceof Vy)break;if(!(e instanceof Uy))throw e}return N.Instance}visitIf(e){if(this.evaluate(e.condition).equalTo(P.True).toBoolean())return this.execute(e.thenBranch),N.Instance;for(const t of e.elseIfs||[])if(this.evaluate(t.condition).equalTo(P.True).toBoolean())return this.execute(t.thenBranch),N.Instance;return e.elseBranch&&this.execute(e.elseBranch),N.Instance}visitAnonymousFunction(e){return Ow(e)}visitLiteral(e){return e.value}visitArrayLiteral(e){return new Mf(e.elements.map(e=>this.evaluate(e)))}visitAALiteral(e){return new If(e.elements.map(e=>({name:e.name,value:this.evaluate(e.value)})))}visitDottedSet(e){let t=this.evaluate(e.value),r=this.evaluate(e.obj);fy(r)||this.addError(new Kh(Jh.BadLHS,e.name.location));try{Ef(r)&&(r.location=this.formatLocation(e.name.location)),r.set(new F(e.name.text),t)}catch(t){this.addError(new Yh(t.message,e.name.location))}return N.Instance}visitIndexedSet(e){let t=this.evaluate(e.value),r=this.evaluate(e.obj);if(fy(r)||this.addError(new Kh(Jh.BadLHS,e.obj.location)),r instanceof If||r instanceof vm||Ef(r)){1!==e.indexes.length&&this.addError(new Kh(Jh.WrongNumberOfParams,e.closingSquare.location));let n=this.evaluate(e.indexes[0]);uy(n)||this.addError(new Sb({message:'"String" should be used as key, but received',left:{type:n,location:e.indexes[0].location}}));try{Ef(r)&&(r.location=this.formatLocation(e.closingSquare.location)),r.set(n,t,!0)}catch(t){this.addError(new Yh(t.message,e.closingSquare.location))}return N.Instance}r instanceof Xf&&1!==e.indexes.length&&this.addError(new Kh(Jh.BadNumberOfIndexes,e.closingSquare.location));let n=r;for(let r=0;r<e.indexes.length;r++){let i=this.evaluate(e.indexes[r]);if(sy(i)||this.addError(new Kh(Jh.NonNumericArrayIndex,e.indexes[r].location)),r<e.indexes.length-1)if(n instanceof Mf||n instanceof Xf||n instanceof Ff||n instanceof gm)try{n=n.get(i)}catch(t){this.addError(new Yh(t.message,e.closingSquare.location))}else this.addError(new Kh(Jh.BadNumberOfIndexes,e.location));else if(n instanceof Mf||n instanceof Xf||n instanceof Ff||n instanceof gm)try{n.set(i,t)}catch(t){this.addError(new Yh(t.message,e.closingSquare.location))}else this.addError(new Kh(Jh.BadNumberOfIndexes,e.location))}return N.Instance}visitIncrement(e){let t,r=this.evaluate(e.value);if(my(r)&&(r=r.unbox()),!sy(r)){let t=e.token.kind===xy.PlusPlus?"increment":"decrement";this.addError(new Sb({message:`Attempting to ${t} value of non-numeric type`,left:{type:r,location:e.location}}))}return t=e.token.kind===xy.PlusPlus?r.add(new lf(1)):r.subtract(new lf(1)),e.value instanceof $h?this.environment.define(Th.Function,e.value.name.text,t):e.value instanceof Nh?this.execute(new ub(e.value.obj,e.value.name,new Uh(t,e.location))):e.value instanceof Bh&&this.execute(new lb(e.value.obj,e.value.indexes,new Uh(t,e.location),e.value.closingSquare)),N.Instance}visitUnary(e){let t=this.evaluate(e.right);switch(U(t)&&(t=t.unbox()),e.operator.kind){case xy.Minus:return sy(t)?t.multiply(new lf(-1)):this.addError(new Sb({message:'Operator "-" can\'t be applied to',left:{type:t,location:e.operator.location}}));case xy.Plus:return t;case xy.Not:if(t instanceof P||sy(t))return t.not();this.addError(new Sb({message:'Operator "not" can\'t be applied to',left:{type:t,location:e.operator.location}}))}return N.Instance}visitVariable(e){try{return this.environment.get(e.name)}catch(e){if(e instanceof qh)return B.Instance;throw e}}evaluate(e){return-1!==e.location.start.line&&(this.location=e.location),e.accept(this)}execute(e){if(""!==this.environment.gotoLabel)return this.searchLabel(e);this._lastStmt instanceof sb||this.checkDebugger(e);for(const e of this.extensions.values())e.tick?.(this);return this.location=e.location,this._lastStmt=e,e.accept(this)}call(e,t,r,n,i){const s=e.getName(),a=this._environment;let o=e.getFirstSatisfiedSignature(t);if(o)try{let c=o.signature;return t=t.map((e,t)=>c.args[t]?.type.kind===R.Object&&L(e)?e.box():e),this.inSubEnv(o=>{i&&(o.environment.hostNode=i),o.environment.setM(r,!1),e.isUserDefined()&&this.addToStack({functionName:s,functionLocation:e.getLocation()??this.location,callLocation:n,signature:c});try{const r=e.call(this,...t);return e.isUserDefined()&&this.popFromStack(),r}catch(t){throw t instanceof Kh&&(e.isUserDefined()||(this._environment=a),this.checkCrashDebug(t)),e.isUserDefined()&&this.popFromStack(),t}})}catch(e){if(!(e instanceof Ny)){if(e instanceof Yh)throw e;if(Ch.isDevMode&&e.message&&!Gw.includes(e.message))throw console.error(e),new Error("");throw new Error(e.message)}if(Gw.includes(e.message))throw new Error(e.message);let t=e.value,r=e.location;const n=o.signature.returns;if(t&&n===R.Void&&this.addError(new Kh(Jh.ReturnWithValue,r)),t||n===R.Void||this.addError(new Kh(Jh.ReturnWithoutValue,r)),t){const e=hf(t,n);if(e)return e}return t&&n!==R.Dynamic&&n!==t.kind&&this.addError(new Sb({message:"Unable to cast",left:{type:n,location:r},right:{type:t,location:r},cast:!0})),t??N.Instance}else this.addError(df(e,t,n))}checkDebugger(e){if(this.debugMode===qw.EXIT)return;const t=this.debugMode!==qw.NONE,r=Ch.checkBreakCommand(t);if(r===xe.BREAK){if(this.debugMode===qw.NONE&&(this.debugMode=qw.DEBUG),!(e instanceof Gy||Fw(this,e.location,this.location)))throw new Ny("debug-exit",e.location)}else if(r===xe.EXIT)throw this.debugMode=qw.EXIT,new Ny("debug-exit",e.location)}checkCrashDebug(e){if(!this._tryMode&&!this.inExitMode())if(this.options.stopOnCrash&&e instanceof Kh){const t=e.errorDetail.errno;Fw(this,this.location,this.location,e.message,t)}else this.options.stopOnCrash||e instanceof Ny||(this._debugMode=qw.EXIT)}searchLabel(e){if(e instanceof rb)return e.tokens.identifier.text.toLowerCase()===this.environment.gotoLabel&&(this.environment.gotoLabel=""),N.Instance;if(e instanceof Jy)return this.visitBlock(e.thenBranch),""!==this.environment.gotoLabel&&e.elseBranch&&this.visitBlock(e.elseBranch),N.Instance;if(e instanceof fb)return this.visitBlock(e.catchBlock),N.Instance;if(e instanceof ab||e instanceof ob)try{this.visitBlock(e.body),this.environment.continueFor=""===this.environment.gotoLabel}catch(e){if(this.environment.continueFor=!1,e instanceof Ly)return N.Instance;if(!(e instanceof By))throw e;this.environment.continueFor=!0}else if(e instanceof cb)try{this.visitBlock(e.body)}catch(e){if(e instanceof Vy)return N.Instance;if(!(e instanceof Uy))throw e}return""===this.environment.gotoLabel?e.accept(this):N.Instance}getMemoryHeapInfo(){let e=874299,t=26229;const r=Atomics.load(Ch.sharedArray,ne.MHSL),n=Atomics.load(Ch.sharedArray,ne.MUHS);return r>0&&n>0&&(e=r,t=n),{heapSizeLimit:e,usedHeapSize:t}}formatBacktrace(e,t=!0,r){e??=this.location;const n=r??this._stack;let i="";const s=[];for(let r=n.length-1;r>=0;r--){const a=n[r],o=R.toString(a.signature.returns);let c="";for(const e of a.signature.args)c+=""===c?"":",",c+=`${e.name.text} As ${R.toString(e.type.kind)}`;const u=`${a.functionName}(${c}) As ${o}`;if(t)i+=`#${r}  Function ${u}\r\n`,i+=`   file/line: ${this.formatLocation(e)}\r\n`;else{const t=e.start.line,r={filename:e?.file??"()",function:u,line_number:t};s.unshift(vy(r))}e=a.callLocation}return t?i:new Mf(s)}formatVariables(e=Th.Function){let t=e===Th.Function?`${"global".padEnd(16)} Interface:ifGlobal\r\n`:"",r=this.environment.getList(e);for(const[e,n]of r){const r=e.padEnd(17);if(n.kind===R.Uninitialized)t+=`${r}${R.toString(n.kind)}\r\n`;else if(cy.has(n.kind))t+=`${r}${R.toString(n.kind)} val:${this.formatValue(n)}`;else if(n instanceof Rh&&fy(n)){const e=n.getElements().length;t+=`${r}${n.getComponentName()} refcnt=${n.getReferenceCount()} count:${e}\r\n`}else if(n instanceof Rh&&U(n)){const e=n.unbox();t+=`${r}${n.getComponentName()} refcnt=${n.getReferenceCount()} val:${this.formatValue(e)}`}else n.kind===R.Object?t+=`${r}${n.getComponentName()} refcnt=${n.getReferenceCount()}\r\n`:n.kind===R.Callable?t+=`${r}${R.toString(n.kind)} val:${n.getName()}\r\n`:t+=`${r}${n.toString().substring(0,94)}\r\n`}return t}formatValue(e){let t=e.toString(),r=t.length<=94?"\r\n":"...\r\n";return e instanceof F?t=`"${t.substring(0,94)}"`:e instanceof lf?t=`${t} (&h${Be(e.getValue()).toUpperCase()})`:e instanceof nf&&(t=`${t} (&h${Be(e.getValue().toNumber()).toUpperCase()})`),`${t}${r}`}formatLocation(e=this.location){let t;const r=e.file.startsWith("pkg:")?e.file:`pkg:/${e.file}`;return t=e.start.line?`${r}(${e.start.line})`:`${r}(??)`,t}formatStats(){let e="Sub Context Data:\r\n";e+=`  Variables:      ${this.environment.getList(Th.Function).size+2}\r\n`;let t=0;for(const e of this.sourceMap.values())t+=Le(e).length;e+="Module Constant Table Sizes:\r\n",e+=`  Source Lns:     ${t}\r\n`;for(const[t,r]of Ch.stats.entries())e+=`  ${(xy[t]+":").padEnd(15)} ${r}\r\n`;return e}getChannelVersion(){return`${Number.parseInt(this.manifest.get("major_version")??"0")||0}.${Number.parseInt(this.manifest.get("minor_version")??"0")||0}.${Number.parseInt(this.manifest.get("build_version")??"0")||0}`}addError(e){throw e.backTrace??=this._stack.slice(),this._tryMode||(this.errors.push(e),this.events.emit("err",e)),e}formatErrorVariable(e){const t=this.formatBacktrace(e.location??this.location,!1,e.backTrace);let r=Jh.Internal,n=e.message;e instanceof Kh&&(r=e.errorDetail);const i=vy({backtrace:t,message:n,number:r.errno,rethrown:!1});if(e instanceof Kh&&e.extraFields?.size)for(const[r,n]of e.extraFields)i.set(new F(r),n),"rethrown"===r&&ly(n)&&n.toBoolean()&&i.set(new F("rethrow_backtrace"),t);return i}isPositive(e){return e instanceof Xh()?e.isPositive():Number.isNaN(e)||e>=0}lessThan(e,t){return e instanceof Xh()?e.lessThan(t):e<t}}class Xw{tokens;constructor(e){this.tokens=e}accept(e){return e.visitBrightScript(this)}}class Yw{name;value;constructor(e,t){this.name=e,this.value=t}accept(e){return e.visitDeclaration(this)}}class Kw{condition;isNegated;thenChunks;elseIfs;elseChunks;constructor(e,t,r,n,i){this.condition=e,this.isNegated=t,this.thenChunks=r,this.elseIfs=n,this.elseChunks=i}accept(e){return e.visitIf(this)}}class Zw{hashError;message;constructor(e,t){this.hashError=e,this.message=t}accept(e){return e.visitError(this)}}class Jw{events=new D.EventEmitter;parse(e){let t=0,r=e,n=[];const i=e=>{throw n.push(e),this.events.emit("err",e),e};try{return{chunks:s(),errors:n}}catch(e){return{chunks:[],errors:n}}function s(){let e=[];for(;;){let t=a();t&&e.push(t);let r=o();if(r){e.push(r);break}if(!t)break}return e}function a(){if(c(xy.HashConst)){let e=l();u("Expected '=' after #const (name)",xy.Equal);let t=l();return c(xy.Newline),new Yw(e,t)}return function(){if(c(xy.HashIf)){let e,t=p().location.start.line,r=c(xy.Not),n=l();h(xy.Newline)||i(new pb(d(),"Invalid #If/#ElseIf expression (True | False | <CONST-NAME>) (compile error &h93)")),c(xy.Newline);let a=s(),o=[];for(;c(xy.HashElseIf);){let e=c(xy.Not),t=l();h(xy.Newline)||i(new pb(d(),"Invalid #If/#ElseIf expression (True | False | <CONST-NAME>) (compile error &h93)")),c(xy.Newline),o.push({condition:t,isNegated:e,thenChunks:s()})}return c(xy.HashElse)&&(c(xy.Newline),e=s()),u(`Expected '#else if' to close '#if' conditional compilation statement starting on line ${t}`,xy.HashEndIf),c(xy.Newline),new Kw(n,r,a,o,e)}return function(){if(h(xy.HashError)){let e=l(),t=l();return new Zw(e,t.text||"")}return function(){let e=[];for(;!h(xy.HashIf,xy.HashElseIf,xy.HashElse,xy.HashEndIf,xy.HashConst,xy.HashError)&&(e.push(l()),!f()););return e.length>0?new Xw(e):void 0}()}()}()}function o(){return f()?new Xw([d()]):void 0}function c(...e){for(let t of e)if(h(t))return l(),!0;return!1}function u(e,...t){return t.map(e=>d().kind===e).reduce((e,t)=>e||t,!1)?l():i(new pb(d(),e))}function l(){return f()||t++,p()}function h(...e){return!f()&&e.some(e=>d().kind===e)}function f(){return d().kind===xy.Eof}function d(){return r[t]}function p(){return r[t-1]}}}class Qw{constants=new Map;events=new D.EventEmitter;errors=[];addError(e){throw this.errors.push(e),this.events.emit("err",e),e}filter(e,t){return this.constants=new Map(t),{processedTokens:e.map(e=>e.accept(this)).reduce((e,t)=>[...e,...t],[]),errors:this.errors}}visitBrightScript(e){return e.tokens}visitDeclaration(e){if(this.constants.has(e.name.text))return this.addError(new Yh(`Attempting to re-declare #const with name '${e.name.text}'`,e.name.location));let t;switch(e.value.kind){case xy.True:t=!0;break;case xy.False:t=!1;break;case xy.Identifier:if(this.constants.has(e.value.text)){t=this.constants.get(e.value.text);break}return this.addError(new Yh(`Attempting to create #const alias of '${e.value.text}', but no such #const exists`,e.value.location));default:return this.addError(new Yh("#const declarations can only have values of `true`, `false`, or other #const names",e.value.location))}return this.constants.set(e.name.text,t),[]}visitError(e){return this.addError(new pb(e.hashError,e.message))}visitIf(e){let t=this.evaluateCondition(e.condition);if(e.isNegated&&(t=!t),t)return e.thenChunks.map(e=>e.accept(this)).reduce((e,t)=>[...e,...t],[]);for(const t of e.elseIfs){let e=this.evaluateCondition(t.condition);if(t.isNegated&&(e=!e),e)return t.thenChunks.map(e=>e.accept(this)).reduce((e,t)=>[...e,...t],[])}return e.elseChunks?e.elseChunks.map(e=>e.accept(this)).reduce((e,t)=>[...e,...t],[]):[]}evaluateCondition(e){switch(e.kind){case xy.True:return!0;case xy.False:return!1;case xy.Identifier:return this.constants.has(e.text)?this.constants.get(e.text):this.addError(new Yh(`Invalid #If/#ElseIf expression (<CONST-NAME> not defined) '${e.text}' (compile error &h92)`,e.location));default:return this.addError(new Yh("#Invalid #If/#ElseIf expression (True | False | <CONST-NAME>) (compile error &h93)",e.location))}}}class ev{parser=new Jw;_preprocessor=new Qw;events=new D.EventEmitter;onError(e){return this.events.on("err",e),{dispose:()=>{this.events.removeListener("err",e)}}}onErrorOnce(e){this.events.once("err",e)}constructor(){this.parser.events.on("err",e=>this.events.emit("err",e)),this._preprocessor.events.on("err",e=>this.events.emit("err",e))}preprocess(e,t){let r=this.parser.parse(e);return r.errors.length>0?{processedTokens:[],errors:r.errors}:this._preprocessor.filter(r.chunks,tv(t))}}function tv(e){if(!e.has("bs_const"))return new Map;let t=e.get("bs_const");if("string"!=typeof t)throw new Error("Invalid bs_const right-hand side.  bs_const must be a string of ';'-separated 'key=value' pairs");let r=t.split(";").filter(e=>!!e).map(e=>{let t=e.indexOf("=");if(-1===t)throw new Error(`No '=' detected for key ${e}.  bs_const constants must be of the form 'key=value'.`);return[e.slice(0,t),e.slice(t+1)]}).map(([e,t])=>[e.trim(),t.trim()]).map(([e,t])=>{if("true"===t.toLowerCase())return[e,!0];if("false"===t.toLowerCase())return[e,!1];throw new Error(`Invalid value for bs_const key '${e}'.  Values must be either 'true' or 'false'.`)});return new Map(r)}function rv(e,t,r,n="",i){const s=new Py,a=new vb,o=new ev,c=new Array,u=new Map;let l=[];s.onError(Qh),a.onError(Qh),o.onError(Qh);let h=re.UserNav;try{for(let[i,f]of r){const r=s.scan(f,i);if(r.errors.length>0){h=re.Crashed;break}const d=o.preprocess(r.tokens,t);if(d.errors.length>0){h=re.Crashed;break}if(n.length>0){l=l.concat(d.processedTokens);continue}const p=a.parse(d.processedTokens);if(p.errors.length>0){h=re.Crashed;break}iv(e,p,u,t),c.push(...p.statements)}if(0===n.length)for(const[e,t]of u)if(""!==t){r.set(e,t);const n=s.scan(t,e),i=a.parse(n.tokens);c.push(...i.statements)}if(i)for(const[e,t]of a.stats)i.set(e,t.size)}catch(e){h=re.Crashed}return{exitReason:h,tokens:l,statements:c}}function nv(e,t,r){const n=new Py,i=new vb,s=new Array,a=new Map;n.onError(Qh),i.onError(Qh);let o=[];for(let[,n]of r){const r=n;if(r.literal)if("Integer"===r.kind){const e=r.literal.value;r.literal=new lf(e)}else if("LongInteger"===r.kind){const e=r.literal.value;r.literal=new nf(e)}else if("Double"===r.kind){const e=r.literal.value;r.literal=new af(e)}else if("Float"===r.kind){const e=r.literal.value;r.literal=new cf(e)}else if("String"===r.kind){const e=r.literal.value;r.literal=new F(e)}if(o.push(r),"Eof"===r.kind){const r=i.parse(o);if(r.errors.length>0||0===r.statements.length)throw new Error("Error parsing the tokens!");iv(e,r,a,t),s.push(...r.statements),o=[]}}for(const[e,t]of a)if(""!==t){const r=n.scan(t,e),a=i.parse(r.tokens);s.push(...a.statements)}return s}function iv(e,t,r,n){r.has("v30/bslDefender.brs")||(r.set("v30/bslDefender.brs",""),r.set("v30/bslCore.brs",""),r.set("Roku_Ads.brs",""),r.set("IMA3.brs",""),r.set("Roku_Event_Dispatcher.brs",""),r.set("RokuBrowser.brs","")),!0===t.libraries.get("v30/bslDefender.brs")&&""===r.get("v30/bslDefender.brs")?(r.set("v30/bslDefender.brs",e.readFileSync("common:/LibCore/v30/bslDefender.brs","utf8")),r.set("v30/bslCore.brs",e.readFileSync("common:/LibCore/v30/bslCore.brs","utf8"))):!0===t.libraries.get("v30/bslCore.brs")&&""===r.get("v30/bslCore.brs")&&r.set("v30/bslCore.brs",e.readFileSync("common:/LibCore/v30/bslCore.brs","utf8")),!0===t.libraries.get("Roku_Ads.brs")&&""===r.get("Roku_Ads.brs")&&n.get("bs_libs_required")?.includes("roku_ads_lib")&&r.set("Roku_Ads.brs",e.readFileSync("common:/roku_ads/Roku_Ads.brs","utf8")),!0===t.libraries.get("IMA3.brs")&&""===r.get("IMA3.brs")&&n.get("bs_libs_required")?.includes("googleima3")&&r.set("IMA3.brs",e.readFileSync("common:/roku_ads/IMA3.brs","utf8")),!0===t.libraries.get("Roku_Event_Dispatcher.brs")&&""===r.get("Roku_Event_Dispatcher.brs")&&n.get("sg_component_libs_required")?.includes("roku_analytics")&&r.set("Roku_Event_Dispatcher.brs",e.readFileSync("common:/roku_analytics/Roku_Event_Dispatcher.brs","utf8")),!0===t.libraries.get("RokuBrowser.brs")&&""===r.get("RokuBrowser.brs")&&n.get("bs_libs_required")?.includes("Roku_Browser")&&r.set("RokuBrowser.brs",e.readFileSync("common:/roku_browser/RokuBrowser.brs","utf8"))}var sv=4294967295;function av(e,t,r){var n=Math.floor(r/4294967296),i=r;e.setUint32(t,n),e.setUint32(t+4,i)}function ov(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var cv,uv,lv,hv=__webpack_require__(9907),fv=(void 0===hv||"never"!==(null===(cv=null==hv?void 0:hv.env)||void 0===cv?void 0:cv.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function dv(e){for(var t=e.length,r=0,n=0;n<t;){var i=e.charCodeAt(n++);if(4294967168&i)if(4294965248&i){if(i>=55296&&i<=56319&&n<t){var s=e.charCodeAt(n);56320==(64512&s)&&(++n,i=((1023&i)<<10)+(1023&s)+65536)}r+=4294901760&i?4:3}else r+=2;else r++}return r}var pv=fv?new TextEncoder:void 0,gv=fv?void 0!==hv&&"force"!==(null===(uv=null==hv?void 0:hv.env)||void 0===uv?void 0:uv.TEXT_ENCODING)?200:0:sv,mv=(null==pv?void 0:pv.encodeInto)?function(e,t,r){pv.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(pv.encode(e),r)};function yv(e,t,r){for(var n=t,i=n+r,s=[],a="";n<i;){var o=e[n++];if(128&o)if(192==(224&o)){var c=63&e[n++];s.push((31&o)<<6|c)}else if(224==(240&o)){c=63&e[n++];var u=63&e[n++];s.push((31&o)<<12|c<<6|u)}else if(240==(248&o)){var l=(7&o)<<18|(c=63&e[n++])<<12|(u=63&e[n++])<<6|63&e[n++];l>65535&&(l-=65536,s.push(l>>>10&1023|55296),l=56320|1023&l),s.push(l)}else s.push(o);else s.push(o);s.length>=4096&&(a+=String.fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(a+=String.fromCharCode.apply(String,s)),a}var bv,wv=fv?new TextDecoder:null,vv=fv?void 0!==hv&&"force"!==(null===(lv=null==hv?void 0:hv.env)||void 0===lv?void 0:lv.TEXT_DECODER)?200:0:sv,Sv=function(e,t){this.type=e,this.data=t},Ev=(bv=function(e,t){return bv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},bv(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}bv(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_v=function(e){function t(r){var n=e.call(this,r)||this,i=Object.create(t.prototype);return Object.setPrototypeOf(n,i),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return Ev(t,e),t}(Error),Iv={type:-1,encode:function(e){var t,r,n,i;return e instanceof Date?function(e){var t,r=e.sec,n=e.nsec;if(r>=0&&n>=0&&r<=17179869183){if(0===n&&r<=4294967295){var i=new Uint8Array(4);return(t=new DataView(i.buffer)).setUint32(0,r),i}var s=r/4294967296,a=4294967295&r;return i=new Uint8Array(8),(t=new DataView(i.buffer)).setUint32(0,n<<2|3&s),t.setUint32(4,a),i}return i=new Uint8Array(12),(t=new DataView(i.buffer)).setUint32(0,n),av(t,4,r),i}((n=1e6*((t=e.getTime())-1e3*(r=Math.floor(t/1e3))),{sec:r+(i=Math.floor(n/1e9)),nsec:n-1e9*i})):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var r=t.getUint32(0);return{sec:4294967296*(3&r)+t.getUint32(4),nsec:r>>>2};case 12:return{sec:ov(t,4),nsec:t.getUint32(0)};default:throw new _v("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},xv=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Iv)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var i=1+t;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++)if(null!=(n=this.builtInEncoders[r])&&null!=(i=n(e,t)))return new Sv(-1-r,i);for(r=0;r<this.encoders.length;r++){var n,i;if(null!=(n=this.encoders[r])&&null!=(i=n(e,t)))return new Sv(r,i)}return e instanceof Sv?e:null},e.prototype.decode=function(e,t,r){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new Sv(t,e)},e.defaultCodec=new e,e}();function Av(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var kv=function(){function e(e,t,r,n,i,s,a,o){void 0===e&&(e=xv.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=100),void 0===n&&(n=2048),void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===a&&(a=!1),void 0===o&&(o=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=i,this.forceFloat32=s,this.ignoreUndefined=a,this.forceIntegerToFloat=o,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>gv){var t=dv(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),mv(e,this.bytes,this.pos),this.pos+=t}else t=dv(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){for(var n=e.length,i=r,s=0;s<n;){var a=e.charCodeAt(s++);if(4294967168&a){if(4294965248&a){if(a>=55296&&a<=56319&&s<n){var o=e.charCodeAt(s);56320==(64512&o)&&(++s,a=((1023&a)<<10)+(1023&o)+65536)}4294901760&a?(t[i++]=a>>18&7|240,t[i++]=a>>12&63|128,t[i++]=a>>6&63|128):(t[i++]=a>>12&15|224,t[i++]=a>>6&63|128)}else t[i++]=a>>6&31|192;t[i++]=63&a|128}else t[i++]=a}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var r=Av(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: ".concat(r));this.writeU8(221),this.writeU32(r)}for(var n=0,i=e;n<i.length;n++){var s=i[n];this.doEncode(s,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0,i=t;n<i.length;n++)void 0!==e[i[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: ".concat(n));this.writeU8(223),this.writeU32(n)}for(var i=0,s=r;i<s.length;i++){var a=s[i],o=e[a];this.ignoreUndefined&&void 0===o||(this.encodeString(a),this.doEncode(o,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,r){var n=r/4294967296,i=r;e.setUint32(t,n),e.setUint32(t+4,i)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),av(this.view,this.pos,e),this.pos+=8},e}(),Tv={};function Mv(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var Cv=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){e:for(var n=0,i=this.caches[r-1];n<i.length;n++){for(var s=i[n],a=s.bytes,o=0;o<r;o++)if(a[o]!==e[t+o])continue e;return s.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;var i=yv(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,i),i},e}(),Rv=function(e,t){var r,n,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},Dv=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}},Ov=function(e){return this instanceof Ov?(this.v=e,this):new Ov(e)},Fv=function(e){var t=typeof e;return"string"===t||"number"===t},Pv=new DataView(new ArrayBuffer(0)),Nv=new Uint8Array(Pv.buffer),Bv=function(){try{Pv.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),Lv=new Bv("Insufficient data"),Uv=new Cv,Vv=function(){function e(e,t,r,n,i,s,a,o){void 0===e&&(e=xv.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=sv),void 0===n&&(n=sv),void 0===i&&(i=sv),void 0===s&&(s=sv),void 0===a&&(a=sv),void 0===o&&(o=Uv),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=i,this.maxMapLength=s,this.maxExtLength=a,this.keyDecoder=o,this.totalPos=0,this.pos=0,this.view=Pv,this.bytes=Nv,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=Av(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=Av(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=Av(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return new RangeError("Extra ".concat(t.byteLength-r," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return Rv(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})},e.prototype.decodeAsync=function(e){var t,r,n,i,s,a,o;return s=this,o=function(){var s,a,o,c,u,l,h,f;return Rv(this,function(d){switch(d.label){case 0:s=!1,d.label=1;case 1:d.trys.push([1,6,7,12]),t=Dv(e),d.label=2;case 2:return[4,t.next()];case 3:if((r=d.sent()).done)return[3,5];if(o=r.value,s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{a=this.doDecodeSync(),s=!0}catch(e){if(!(e instanceof Bv))throw e}this.totalPos+=this.pos,d.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=d.sent(),n={error:c},[3,12];case 7:return d.trys.push([7,,10,11]),r&&!r.done&&(i=t.return)?[4,i.call(t)]:[3,9];case 8:d.sent(),d.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:if(s){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw l=(u=this).headByte,h=u.pos,f=u.totalPos,new RangeError("Insufficient data in parsing ".concat(Mv(l)," at ").concat(f," (").concat(h," in the current buffer)"))}})},new((a=void 0)||(a=Promise))(function(e,t){function r(e){try{i(o.next(e))}catch(e){t(e)}}function n(e){try{i(o.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):(i=t.value,i instanceof a?i:new a(function(e){e(i)})).then(r,n)}i((o=o.apply(s,[])).next())})},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),s=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){s.push([e,t,r,n])>1||o(e,t)})})}function o(e,t){try{(r=i[e](t)).value instanceof Ov?Promise.resolve(r.value.v).then(c,u):l(s[0][2],r)}catch(e){l(s[0][3],e)}var r}function c(e){o("next",e)}function u(e){o("throw",e)}function l(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}(this,arguments,function(){var r,n,i,s,a,o,c,u,l;return Rv(this,function(h){switch(h.label){case 0:r=t,n=-1,h.label=1;case 1:h.trys.push([1,13,14,19]),i=Dv(e),h.label=2;case 2:return[4,Ov(i.next())];case 3:if((s=h.sent()).done)return[3,12];if(a=s.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),r&&(n=this.readArraySize(),r=!1,this.complete()),h.label=4;case 4:h.trys.push([4,9,,10]),h.label=5;case 5:return[4,Ov(this.doDecodeSync())];case 6:return[4,h.sent()];case 7:return h.sent(),0===--n?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((o=h.sent())instanceof Bv))throw o;return[3,10];case 10:this.totalPos+=this.pos,h.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=h.sent(),u={error:c},[3,19];case 14:return h.trys.push([14,,17,18]),s&&!s.done&&(l=i.return)?[4,Ov(l.call(i))]:[3,16];case 15:h.sent(),h.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}})})},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(n=e-128)){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){if(0!=(n=e-144)){this.pushArrayState(n),this.complete();continue e}t=[]}else{var r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)r=this.lookU8(),t=this.decodeUtf8String(r,1);else if(218===e)r=this.lookU16(),t=this.decodeUtf8String(r,2);else if(219===e)r=this.lookU32(),t=this.decodeUtf8String(r,4);else if(220===e){if(0!==(n=this.readU16())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(221===e){if(0!==(n=this.readU32())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(222===e){if(0!==(n=this.readU16())){this.pushMapState(n),this.complete();continue e}t={}}else if(223===e){if(0!==(n=this.readU32())){this.pushMapState(n),this.complete();continue e}t={}}else if(196===e){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(197===e)n=this.lookU16(),t=this.decodeBinary(n,2);else if(198===e)n=this.lookU32(),t=this.decodeBinary(n,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)n=this.lookU8(),t=this.decodeExtension(n,1);else if(200===e)n=this.lookU16(),t=this.decodeExtension(n,2);else{if(201!==e)throw new _v("Unrecognized type byte: ".concat(Mv(e)));n=this.lookU32(),t=this.decodeExtension(n,4)}this.complete();for(var i=this.stack;i.length>0;){var s=i[i.length-1];if(0===s.type){if(s.array[s.position]=t,s.position++,s.position!==s.size)continue e;i.pop(),t=s.array}else{if(1===s.type){if(!Fv(t))throw new _v("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new _v("The key __proto__ is not allowed");s.key=t,s.type=2;continue e}if(s.map[s.key]=t,s.readCount++,s.readCount!==s.size){s.key=null,s.type=1;continue e}i.pop(),t=s.map}}return t}},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new _v("Unrecognized array type byte: ".concat(Mv(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new _v("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new _v("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new _v("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw Lv;var n,i=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,i,e):e>vv?function(e,t,r){var n=e.subarray(t,t+r);return wv.decode(n)}(this.bytes,i,e):yv(this.bytes,i,e),this.pos+=t+e,n},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new _v("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw Lv;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new _v("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e=function(e,t){return 4294967296*e.getUint32(t)+e.getUint32(t+4)}(this.view,this.pos);return this.pos+=8,e},e.prototype.readI64=function(){var e=ov(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),jv={},zv=__webpack_require__(1048).Buffer;const $v="aes-256-ctr";"undefined"!=typeof onmessage&&(onmessage=function(e){ae(e.data)?(Gv(e.data),async function(e){const t={entryPoint:e.device.entryPoint??!0,stopOnCrash:e.device.debugOnCrash??!1};Ch.setDeviceInfo(e.device);try{Ch.setupFileSystem(e),Ch.loadLocaleTerms()}catch(e){return postMessage(`error,[core] Error mounting File System: ${e.message}`),{exitReason:re.Crashed}}const r=await Xv(t,!0),n=Kv(r,e);let i;Ch.lastKeyTime=Date.now(),i=n.pcode&&n.iv?await async function(e,t,r){const n=r.password??"";let i;try{if(!(n.length>0&&t.pcode&&t.iv))return{exitReason:re.NoPassword};{const e=op._7($v,n,t.iv),r=function(e,t){return void 0===t&&(t=jv),new Vv(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}(function(e,t){return Vl(e.subarray(((8!=(15&(r=e)[0])||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Ul(6,"invalid zlib data"),1==(r[1]>>5&1)&&Ul(6,"invalid zlib data: "+(32&r[1]?"need":"unexpected")+" dictionary"),2+(r[1]>>3&4)),-4),{i:2},t,t);var r}(zv.concat([e.update(t.pcode),e.final()])));if(!r)return{exitReason:re.Invalid};i=new Map(Object.entries(r.pcode))}}catch(e){return postMessage(`error,Error unpacking the app: ${e.message}`),{exitReason:re.UnpackFail}}try{const t=nv(Ch.fileSystem,e.manifest,i);return{exitReason:await Zv(e,t,r)}}catch(e){return postMessage(`error,Error executing the app: ${e.message}`),{exitReason:re.Crashed}}}(r,n,e):await async function(e,t,r){const n=r.password??"",i=rv(Ch.fileSystem,e.manifest,t,n,Ch.stats);let s=i.exitReason;if(s!==re.Crashed){if(n.length>0){const e=i.tokens,t=op.po(12).toString("base64"),r=op.Tt($v,n,t),s=function(e,t){t||(t={});var r=Zl();r.p(e);var n=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new ll(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return function(e,t,r,n,i,s){var a=s.z||e.length,o=new ll(n+a+5*(1+Math.ceil(a/7e3))+4),c=o.subarray(n,o.length-4),u=s.l,l=7&(s.r||0);if(t){l&&(c[0]=s.r>>3);for(var h=Yl[t-1],f=h>>13,d=8191&h,p=(1<<r)-1,g=s.p||new hl(32768),m=s.h||new hl(p+1),y=Math.ceil(r/3),b=2*y,w=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&p},v=new fl(25e3),S=new hl(288),E=new hl(32),_=0,I=0,x=s.i||0,A=0,k=s.w||0,T=0;x+2<a;++x){var M=w(x),C=32767&x,R=m[M];if(g[C]=R,m[M]=C,k<=x){var D=a-x;if((_>7e3||A>24576)&&(D>423||!u)){l=Xl(e,c,0,v,S,E,I,A,T,x-T,l),A=_=I=0,T=x;for(var O=0;O<286;++O)S[O]=0;for(O=0;O<30;++O)E[O]=0}var F=2,P=0,N=d,B=C-R&32767;if(D>2&&M==w(x-B))for(var L=Math.min(f,D)-1,U=Math.min(32767,x),V=Math.min(258,D);B<=U&&--N&&C!=R;){if(e[x+F]==e[x+F-B]){for(var j=0;j<V&&e[x+j]==e[x+j-B];++j);if(j>F){if(F=j,P=B,j>L)break;var z=Math.min(B,j-2),$=0;for(O=0;O<z;++O){var q=x-B+O&32767,G=q-g[q]&32767;G>$&&($=G,R=q)}}}B+=(C=R)-(R=g[C])&32767}if(P){v[A++]=268435456|wl[F]<<18|El[P];var W=31&wl[F],H=31&El[P];I+=dl[W]+pl[H],++S[257+W],++E[H],k=x+F,++_}else v[A++]=e[x],++S[e[x]]}}for(x=Math.max(x,k);x<a;++x)v[A++]=e[x],++S[e[x]];l=Xl(e,c,u,v,S,E,I,A,T,x-T,l),u||(s.r=7&l|c[l/8|0]<<3,l-=7,s.h=m,s.p=g,s.i=x,s.w=k)}else{for(x=s.w||0;x<a+u;x+=65535){var X=x+65535;X>=a&&(c[l/8|0]=u,X=a),l=Hl(c,l+1,e.subarray(x,X))}s.i=a}return Bl(o,0,n+Nl(l)+4)}(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,0,i)}(e,t,t.dictionary?6:2);return function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=Zl();i.p(t.dictionary),Jl(e,2,i.d())}}(n,t),Jl(n,n.length-4,r.d()),n}(function(e,t){return void 0===t&&(t=Tv),new kv(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encodeSharedRef(e)}({pcode:e})),a=zv.from(s),o=zv.concat([r.update(a),r.final()]);return{exitReason:re.Packaged,cipherText:o,iv:t}}s=await Zv(e,i.statements,r,t)}return{exitReason:s}}(r,n.sourceMap,e),Ch.registry.isDirty&&Ch.flushRegistry(),i.cipherText||postMessage(`end,${i.exitReason}`)}(e.data)):oe(e.data)?(postMessage(`debug,[core] Task payload received: ${e.data.taskData.id}:${e.data.taskData.name}`),Gv(e.data),async function(e){const t={entryPoint:!1,stopOnCrash:e.device.debugOnCrash??!1};Ch.setDeviceInfo(e.device);try{Ch.setupFileSystem(e),Ch.loadLocaleTerms()}catch(e){return void postMessage(`error,[core] Error mounting File System on Task: ${e.message}`)}const r=await Xv(t),n=Kv(r,e);await Yv(r,e);try{for(const t of r.extensions.values())if(t.updateSourceMap&&t.updateSourceMap(n.sourceMap),t.execTask){r.sourceMap=n.sourceMap,t.execTask(r,e);break}Ch.registry.isDirty&&Ch.flushRegistry(),postMessage(`debug,[core] Task ${e.taskData.name} is done.`)}catch(e){if(Gw.includes(e.message)){const t="debug-exit"===e.message?re.Stopped:re.UserNav;return void postMessage(`end,${t}`)}if(e instanceof Yh){const t=r.formatBacktrace(e.location,!0,e.backTrace);e=new Error(`${e.format()}\nBackTrace:\n${t}`)}r.options.post??1?postMessage(`error,${e.message}`):r.options.stderr.write(e.message),postMessage(`end,${re.Crashed}`)}}(e.data)):"string"==typeof e.data&&"getVersion"===e.data?postMessage("version,2.1.0"):e.data instanceof ArrayBuffer||e.data instanceof SharedArrayBuffer?Ch.setSharedArray(new Int32Array(e.data)):postMessage(`warning,[core] Invalid message received: ${e.data}`)});const qv=new Set;function Gv(e){const t=e.extensions;if(Array.isArray(t))for(const r of t)qv.has(r)||Wv(r,e.device.extensions?.get(r)??"")}function Wv(t,r){if(r)try{let n=null;if("function"==typeof importScripts){globalThis.brsEngine=function(){const t={},r=[S,e,k,m,y,x,C,d,v,f,b,E,I,g];for(const e of r)Hv(t,e);return t.stdlib=A,t.netlib=w,t.types=S,t.preprocessor=M,t.Preprocessor=Qw,t.SharedObject=je,t}(),globalThis.xmldoc={XmlDocument:Mp.XmlDocument};let i=r;H.inBrowser&&!H.inElectron&&(i=new URL(r,globalThis.location.href).href),importScripts(i),n=globalThis[t]}if(n?.BrightScriptExtension){const e=new n.BrightScriptExtension;wf(()=>e),qv.add(t);const i={name:t,library:r,version:e.version};postMessage(i)}else postMessage(`warning,[core] The loaded library does not contain ${t} Extension.`)}catch(e){postMessage(`warning,[core] Failed to load ${t} extension: ${e.message}`)}else postMessage(`warning,[core] No module path provided for ${t} extension.`)}function Hv(e,t){if(!t)return e;for(const r of Object.keys(t)){if("default"===r||"__esModule"===r)return;e[r]=t[r]}return e}async function Xv(e,t=!1){return Ch.bscs.clear(),Ch.stats.clear(),Ch.nodes.clear(),new Hw(e,t)}async function Yv(e,t){const r=Sf();if(r.length>0){!function(e,t){for(const r of t)e.extensions.set(r.name,r),r.onInit?.(e)}(e,r);for(const r of e.extensions.values())r.onBeforeExecute&&await r.onBeforeExecute(e,t)}}function Kv(e,t){return e.setManifest(t.manifest),t.device.registryBuffer?Ch.setRegistry(t.device.registryBuffer):t.device.registry?.size&&Ch.setRegistry(t.device.registry),function(e){let t="",r="",n="";const i=Ch.deviceInfo.locale;try{const s=Ch.fileSystem;if(s?.existsSync(`pkg:/locale/${i}/translations.ts`)?(t=s.readFileSync(`pkg:/locale/${i}/translations.ts`,"utf8"),r="TS",n="translation"):s?.existsSync(`pkg:/locale/${i}/translations.xml`)&&(t=s.readFileSync(`pkg:/locale/${i}/translations.xml`,"utf8"),r="xliff",n="target"),""!==r){if(0===t.trim().length)return void postMessage("error,Error parsing translation XML: Empty input");try{const i=new Mp.XmlDocument(t);if("TS"===r){const t=i.childrenNamed("context");for(const r of t){const t=r.childrenNamed("message");for(const r of t){const t=r.childNamed("source"),i=r.childNamed(n),s=t?.val??"";s&&e.translations.set(s,i?.val??"")}}}else{const t=i.childrenNamed("file");for(const r of t){const t=r.childNamed("body"),i=t?.childrenNamed("trans-unit")??[];for(const t of i){const r=t.childNamed("source"),i=t.childNamed(n),s=r?.val??"";s&&e.translations.set(s,i?.val??"")}}}}catch(e){postMessage(`error,Error parsing XML: ${e?.message??e}`)}}}catch(e){postMessage(`error,Invalid path: pkg:/locale/${i}/ - ${e.message}`)}}(e),function(e){const t={sourceMap:new Map},r=Ch.fileSystem;if(!r||!Array.isArray(e.paths))return t;for(let n of e.paths)try{const i=`pkg:/${n.url}`;if("pcode"===n.type&&r.existsSync(i)){if(0===n.id){t.pcode=r.readFileSync(i);continue}t.iv=r.readFileSync(i,"utf8")}else"source"===n.type&&ae(e)&&Array.isArray(e.source)?t.sourceMap.set(i,e.source[n.id]):"source"===n.type&&r.existsSync(`pkg:/${n.url}`)&&t.sourceMap.set(i,r.readFileSync(i,"utf8"))}catch(e){postMessage(`error,Error accessing file ${n.url} - ${e.message}`)}return t}(t)}async function Zv(e,t,r,n){let i=re.UserNav;try{let i=Number.parseInt(r.manifest.get("splash_min_time")??"");Number.isNaN(i)&&(i=1600);let s=Date.now()-r.launchTime;s<i&&(await new Promise(e=>setTimeout(e,i-s)),s=i);const a=function(e,t){const r=new Map([["instant_on_run_mode","foreground"],["lastExitOrTerminationReason",re.Unknown],["source","auto-run-dev"],["splashTime",t.toString()]]);for(const[t,n]of e)r.set(t,n);return vy(r)}(r.deepLink,s),o=e.scanApp(t,n);await Yv(e,r),e.execApp(o,a)}catch(t){if(Gw.includes(t.message))i="debug-exit"===t.message?re.Stopped:re.UserNav;else{i=re.Crashed,e.options.post??1?postMessage(`error,${t.message}`):e.options.stderr.write(t.message);const r=t.cause;r&&r instanceof Kh&&r.errorDetail===Jh.MemberFunctionNotFound&&(i=re.UnkFunction)}}return i}})(),(self="undefined"==typeof self?{}:self).brsEngine=__webpack_exports__.default})();